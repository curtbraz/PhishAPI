if(!Array.prototype.indexOf){Array.prototype.indexOf=function(q,p){var h;if(this==null){throw new TypeError('"this" is null or not defined')}var n=Object(this);var l=n.length>>>0;if(l===0){return -1}var m=+p||0;if(Math.abs(m)===Infinity){m=0}if(m>=l){return -1}h=Math.max(m>=0?m:l-Math.abs(m),0);while(h<l){var o;if(h in n&&n[h]===q){return h}h++}return -1}}Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}};Date.getMonthNumberFromName=function(f){var h=Date.CultureInfo.monthNames,g=Date.CultureInfo.abbreviatedMonthNames,l=f.toLowerCase();for(var m=0;m<h.length;m++){if(h[m].toLowerCase()==l||g[m].toLowerCase()==l){return m}}return -1};Date.getDayNumberFromName=function(g){var l=Date.CultureInfo.dayNames,h=Date.CultureInfo.abbreviatedDayNames,m=Date.CultureInfo.shortestDayNames,n=g.toLowerCase();for(var o=0;o<l.length;o++){if(l[o].toLowerCase()==n||h[o].toLowerCase()==n){return o}}return -1};Date.isLeapYear=function(b){return(((b%4===0)&&(b%100!==0))||(b%400===0))};Date.getDaysInMonth=function(d,c){return[31,(Date.isLeapYear(d)?29:28),31,30,31,30,31,31,30,31,30,31][c]};Date.getTimezoneOffset=function(d,c){return(c||false)?Date.CultureInfo.abbreviatedTimeZoneDST[d.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[d.toUpperCase()]};Date.getTimezoneAbbreviation=function(e,g){var h=(g||false)?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard,f;for(f in h){if(h[f]===e){return f}}return null};Date.prototype.clone=function(){return new Date(this.getTime())};Date.prototype.compareTo=function(b){if(isNaN(this)){throw new Error(this)}if(b instanceof Date&&!isNaN(b)){return(this>b)?1:(this<b)?-1:0}else{throw new TypeError(b)}};Date.prototype.equals=function(b){return(this.compareTo(b)===0)};Date.prototype.between=function(f,e){var d=this.getTime();return d>=f.getTime()&&d<=e.getTime()};Date.prototype.addMilliseconds=function(b){this.setMilliseconds(this.getMilliseconds()+b);return this};Date.prototype.addSeconds=function(b){return this.addMilliseconds(b*1000)};Date.prototype.addMinutes=function(b){return this.addMilliseconds(b*60000)};Date.prototype.addHours=function(b){return this.addMilliseconds(b*3600000)};Date.prototype.addDays=function(b){return this.addMilliseconds(b*86400000)};Date.prototype.addWeeks=function(b){return this.addMilliseconds(b*604800000)};Date.prototype.addMonths=function(d){var c=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+d);this.setDate(Math.min(c,this.getDaysInMonth()));return this};Date.prototype.addYears=function(b){return this.addMonths(b*12)};Date.prototype.add=function(c){if(typeof c=="number"){this._orient=c;return this}var d=c;if(d.millisecond||d.milliseconds){this.addMilliseconds(d.millisecond||d.milliseconds)}if(d.second||d.seconds){this.addSeconds(d.second||d.seconds)}if(d.minute||d.minutes){this.addMinutes(d.minute||d.minutes)}if(d.hour||d.hours){this.addHours(d.hour||d.hours)}if(d.month||d.months){this.addMonths(d.month||d.months)}if(d.year||d.years){this.addYears(d.year||d.years)}if(d.day||d.days){this.addDays(d.day||d.days)}return this};Date._validate=function(g,h,f,e){if(typeof g!="number"){throw new TypeError(g+" is not a Number.")}else{if(g<h||g>f){throw new RangeError(g+" is not a valid value for "+e+".")}}return true};Date.validateMillisecond=function(b){return Date._validate(b,0,999,"milliseconds")};Date.validateSecond=function(b){return Date._validate(b,0,59,"seconds")};Date.validateMinute=function(b){return Date._validate(b,0,59,"minutes")};Date.validateHour=function(b){return Date._validate(b,0,23,"hours")};Date.validateDay=function(f,e,d){return Date._validate(f,1,Date.getDaysInMonth(e,d),"days")};Date.validateMonth=function(b){return Date._validate(b,0,11,"months")};Date.validateYear=function(b){return Date._validate(b,1,9999,"seconds")};Date.prototype.set=function(c){var d=c;if(!d.millisecond&&d.millisecond!==0){d.millisecond=-1}if(!d.second&&d.second!==0){d.second=-1}if(!d.minute&&d.minute!==0){d.minute=-1}if(!d.hour&&d.hour!==0){d.hour=-1}if(!d.day&&d.day!==0){d.day=-1}if(!d.month&&d.month!==0){d.month=-1}if(!d.year&&d.year!==0){d.year=-1}if(d.millisecond!=-1&&Date.validateMillisecond(d.millisecond)){this.addMilliseconds(d.millisecond-this.getMilliseconds())}if(d.second!=-1&&Date.validateSecond(d.second)){this.addSeconds(d.second-this.getSeconds())}if(d.minute!=-1&&Date.validateMinute(d.minute)){this.addMinutes(d.minute-this.getMinutes())}if(d.hour!=-1&&Date.validateHour(d.hour)){this.addHours(d.hour-this.getHours())}if(d.month!==-1&&Date.validateMonth(d.month)){this.addMonths(d.month-this.getMonth())}if(d.year!=-1&&Date.validateYear(d.year)){this.addYears(d.year-this.getFullYear())}if(d.day!=-1&&Date.validateDay(d.day,this.getFullYear(),this.getMonth())){this.addDays(d.day-this.getDate())}if(d.timezone){this.setTimezone(d.timezone)}if(d.timezoneOffset){this.setTimezoneOffset(d.timezoneOffset)}return this};Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};Date.prototype.isLeapYear=function(){var b=this.getFullYear();return(((b%4===0)&&(b%100!==0))||(b%400===0))};Date.prototype.isWeekday=function(){return !(this.is().sat()||this.is().sun())};Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())};Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})};Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})};Date.prototype.moveToDayOfWeek=function(e,d){var f=(e-this.getDay()+7*(d||+1))%7;return this.addDays((f===0)?f+=7*(d||+1):f)};Date.prototype.moveToMonth=function(f,e){var d=(f-this.getMonth()+12*(e||+1))%12;return this.addMonths((d===0)?d+=12*(e||+1):d)};Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/86400000)};Date.prototype.getWeekOfYear=function(v){var o=this.getFullYear(),t=this.getMonth(),q=this.getDate();var d=v||Date.CultureInfo.firstDayOfWeek;var s=7+1-new Date(o,0,1).getDay();if(s==8){s=1}var u=((Date.UTC(o,t,q,0,0,0)-Date.UTC(o,0,1,0,0,0))/86400000)+1;var m=Math.floor((u-s+7)/7);if(m===d){o--;var p=7+1-new Date(o,0,1).getDay();if(p==2||p==8){m=53}else{m=52}}return m};Date.prototype.isDST=function(){console.log("isDST");return this.toString().match(/(E|C|M|P)(S|D)T/)[2]=="D"};Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())};Date.prototype.setTimezoneOffset=function(d){var e=this.getTimezoneOffset(),f=Number(d)*-6/10;this.addMinutes(f-e);return this};Date.prototype.setTimezone=function(b){return this.setTimezoneOffset(Date.getTimezoneOffset(b))};Date.prototype.getUTCOffset=function(){var c=this.getTimezoneOffset()*-10/6,d;if(c<0){d=(c-10000).toString();return d[0]+d.substr(2)}else{d=(c+10000).toString();return"+"+d.substr(1)}};Date.prototype.getDayName=function(b){return b?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]};Date.prototype.getMonthName=function(b){return b?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]};Date.prototype._toString=Date.prototype.toString;Date.prototype.toString=function(f){var e=this;var d=function d(a){return(a.toString().length==1)?"0"+a:a};return f?f.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(a){switch(a){case"hh":return d(e.getHours()<13?e.getHours():(e.getHours()-12));case"h":return e.getHours()<13?e.getHours():(e.getHours()-12);case"HH":return d(e.getHours());case"H":return e.getHours();case"mm":return d(e.getMinutes());case"m":return e.getMinutes();case"ss":return d(e.getSeconds());case"s":return e.getSeconds();case"yyyy":return e.getFullYear();case"yy":return e.getFullYear().toString().substring(2,4);case"dddd":return e.getDayName();case"ddd":return e.getDayName(true);case"dd":return d(e.getDate());case"d":return e.getDate().toString();case"MMMM":return e.getMonthName();case"MMM":return e.getMonthName(true);case"MM":return d((e.getMonth()+1));case"M":return e.getMonth()+1;case"t":return e.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return e.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()};Date.now=function(){return new Date()};Date.today=function(){return Date.now().clearTime()};Date.prototype._orient=+1;Date.prototype.next=function(){this._orient=+1;return this};Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){this._orient=-1;return this};Date.prototype._is=false;Date.prototype.is=function(){this._is=true;return this};Number.prototype._dateElement="day";Number.prototype.fromNow=function(){var b={};b[this._dateElement]=this;return Date.now().add(b)};Number.prototype.ago=function(){var b={};b[this._dateElement]=this*-1;return Date.now().add(b)};(function(){var x=Date.prototype,D=Number.prototype;var q=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),s=("january february march april may june july august september october november december").split(/\s/),t=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),u;var v=function(a){return function(){if(this._is){this._is=false;return this.getDay()==a}return this.moveToDayOfWeek(a,this._orient)}};for(var y=0;y<q.length;y++){x[q[y]]=x[q[y].substring(0,3)]=v(y)}var w=function(a){return function(){if(this._is){this._is=false;return this.getMonth()===a}return this.moveToMonth(a,this._orient)}};for(var A=0;A<s.length;A++){x[s[A]]=x[s[A].substring(0,3)]=w(A)}var z=function(a){return function(){if(a.substring(a.length-1)!="s"){a+="s"}return this["add"+a](this._orient)}};var C=function(a){return function(){this._dateElement=a;return this}};for(var B=0;B<t.length;B++){u=t[B].toLowerCase();x[u]=x[u+"s"]=z(t[B]);D[u]=D[u+"s"]=C(u)}}());Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")};Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)};Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)};Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)};Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)};Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};(function(){Date.Parsing={Exception:function(a){this.message="Parse error at '"+a.substring(0,10)+" ...'"}};var m=Date.Parsing;var t=m.Operators={rtoken:function(a){return function(b){var c=b.match(a);if(c){return([c[0],b.substring(c[0].length)])}else{throw new m.Exception(b)}}},token:function(a){return function(b){return t.rtoken(new RegExp("^s*"+b+"s*"))(b)}},stoken:function(a){return t.rtoken(new RegExp("^"+a))},until:function(a){return function(b){var e=[],c=null;while(b.length){try{c=a.call(this,b)}catch(d){e.push(c[0]);b=c[1];continue}break}return[e,b]}},many:function(a){return function(b){var c=[],e=null;while(b.length){try{e=a.call(this,b)}catch(d){return[c,b]}c.push(e[0]);b=e[1]}return[c,b]}},optional:function(a){return function(b){var d=null;try{d=a.call(this,b)}catch(c){return[null,b]}return[d[0],d[1]]}},not:function(a){return function(b){try{a.call(this,b)}catch(c){return[null,b]}throw new m.Exception(b)}},ignore:function(a){return a?function(b){var c=null;c=a.call(this,b);return[null,c[1]]}:null},product:function(){var a=arguments[0],d=Array.prototype.slice.call(arguments,1),c=[];for(var b=0;b<a.length;b++){c.push(t.each(a[b],d))}return c},cache:function(c){var b={},a=null;return function(e){try{a=b[e]=(b[e]||c.call(this,e))}catch(d){a=b[e]=d}if(a instanceof m.Exception){throw a}else{return a}}},any:function(){var a=arguments;return function(e){var d=null;for(var b=0;b<a.length;b++){if(a[b]==null){continue}try{d=(a[b].call(this,e))}catch(c){d=null}if(d){return d}}throw new m.Exception(e)}},each:function(){var a=arguments;return function(f){var c=[],e=null;for(var b=0;b<a.length;b++){if(a[b]==null){continue}try{e=(a[b].call(this,f))}catch(d){throw new m.Exception(f)}c.push(e[0]);f=e[1]}return[c,f]}},all:function(){var a=arguments,b=b;return b.each(b.optional(a))},sequence:function(b,a,c){a=a||t.rtoken(/^\s*/);c=c||null;if(b.length==1){return b[0]}return function(g){var f=null,e=null;var B=[];for(var h=0;h<b.length;h++){try{f=b[h].call(this,g)}catch(d){break}B.push(f[0]);try{e=a.call(this,f[1])}catch(z){e=null;break}g=e[1]}if(!f){throw new m.Exception(g)}if(e){throw new m.Exception(e[1])}if(c){try{f=c.call(this,f[1])}catch(A){throw new m.Exception(f[1])}}return[B,(f?f[1]:g)]}},between:function(a,d,b){b=b||a;var c=t.each(t.ignore(a),d,t.ignore(b));return function(f){var e=c.call(this,f);return[[e[0][0],r[0][2]],e[1]]}},list:function(b,a,c){a=a||t.rtoken(/^\s*/);c=c||null;return(b instanceof Array?t.each(t.product(b.slice(0,-1),t.ignore(a)),b.slice(-1),t.ignore(c)):t.each(t.many(t.each(b,t.ignore(a))),px,t.ignore(c)))},set:function(b,a,c){a=a||t.rtoken(/^\s*/);c=c||null;return function(M){var h=null,K=null,L=null,J=null,I=[[],M],d=false;for(var G=0;G<b.length;G++){L=null;K=null;h=null;d=(b.length==1);try{h=b[G].call(this,M)}catch(f){continue}J=[[h[0]],h[1]];if(h[1].length>0&&!d){try{L=a.call(this,h[1])}catch(e){d=true}}else{d=true}if(!d&&L[1].length===0){d=true}if(!d){var F=[];for(var H=0;H<b.length;H++){if(G!=H){F.push(b[H])}}K=t.set(F,a).call(this,L[1]);if(K[0].length>0){J[0]=J[0].concat(K[0]);J[1]=K[1]}}if(J[1].length<I[1].length){I=J}if(I[1].length===0){break}}if(I[0].length===0){return I}if(c){try{L=c.call(this,I[1])}catch(g){throw new m.Exception(I[1])}I[1]=L[1]}return I}},forward:function(b,a){return function(c){return b[a].call(this,c)}},replace:function(a,b){return function(d){var c=a.call(this,d);return[b,c[1]]}},process:function(a,b){return function(d){var c=a.call(this,d);return[b.call(this,c[0]),c[1]]}},min:function(b,a){return function(d){var c=a.call(this,d);if(c[0].length<b){throw new m.Exception(d)}return c}}};var n=function(a){return function(){var b=null,c=[];if(arguments.length>1){b=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){b=arguments[0]}}if(b){for(var d=0,e=b.shift();d<e.length;d++){b.unshift(e[d]);c.push(a.apply(null,b));b.shift();return c}}else{return a.apply(null,arguments)}}};var o="optional not ignore cache".split(/\s/);for(var s=0;s<o.length;s++){t[o[s]]=n(t[o[s]])}var p=function(a){return function(){if(arguments[0] instanceof Array){return a.apply(null,arguments[0])}else{return a.apply(null,arguments)}}};var q="each any all".split(/\s/);for(var l=0;l<q.length;l++){t[q[l]]=p(t[q[l]])}}());(function(){var p=function(a){var c=[];for(var b=0;b<a.length;b++){if(a[b] instanceof Array){c=c.concat(p(a[b]))}else{if(a[b]){c.push(a[b])}}}return c};Date.Grammar={};Date.Translator={hour:function(a){return function(){this.hour=Number(a)}},minute:function(a){return function(){this.minute=Number(a)}},second:function(a){return function(){this.second=Number(a)}},meridian:function(a){return function(){this.meridian=a.slice(0,1).toLowerCase()}},timezone:function(a){return function(){var b=a.replace(/[^\d\+\-]/g,"");if(b.length){this.timezoneOffset=Number(b)}else{this.timezone=a.toLowerCase()}}},day:function(b){var a=b[0];return function(){this.day=Number(a.match(/\d+/)[0])}},month:function(a){return function(){this.month=((a.length==3)?Date.getMonthNumberFromName(a):(Number(a)-1))}},year:function(a){return function(){var b=Number(a);this.year=((a.length>2)?b:(b+(((b+2000)<Date.CultureInfo.twoDigitYearMax)?2000:1900)))}},rday:function(a){return function(){switch(a){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(b){b=(b instanceof Array)?b:[b];var a=new Date();this.year=a.getFullYear();this.month=a.getMonth();this.day=1;this.hour=0;this.minute=0;this.second=0;for(var d=0;d<b.length;d++){if(b[d]){b[d].call(this)}}this.hour=(this.meridian=="p"&&this.hour<13)?this.hour+12:this.hour;if(this.day>Date.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var c=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){c.set({timezone:this.timezone})}else{if(this.timezoneOffset){c.set({timezoneOffset:this.timezoneOffset})}}return c},finish:function(d){d=(d instanceof Array)?p(d):[d];if(d.length===0){return null}for(var f=0;f<d.length;f++){if(typeof d[f]=="function"){d[f].call(this)}}if(this.now){return new Date()}var a=Date.today();var b=null;var e=!!(this.days!=null||this.orient||this.operator);if(e){var c,h,l;l=((this.orient=="past"||this.operator=="subtract")?-1:1);if(this.weekday){this.unit="day";c=(Date.getDayNumberFromName(this.weekday)-a.getDay());h=7;this.days=c?((c+(l*h))%h):(l*h)}if(this.month){this.unit="month";c=(this.month-a.getMonth());h=12;this.months=c?((c+(l*h))%h):(l*h);this.month=null}if(!this.unit){this.unit="day"}if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}if(this.unit=="week"){this.unit="day";this.value=this.value*7}this[this.unit+"s"]=this.value*l}return a.add(this)}else{if(this.meridian&&this.hour){this.hour=(this.hour<13&&this.meridian=="p")?this.hour+12:this.hour}if(this.weekday&&!this.day){this.day=(a.addDays((Date.getDayNumberFromName(this.weekday)-a.getDay()))).getDate()}if(this.month&&!this.day){this.day=1}return a.set(this)}}};var g=Date.Parsing.Operators,q=Date.Grammar,s=Date.Translator,n;q.datePartDelimiter=g.rtoken(/^([\s\-\.\,\/\x27]+)/);q.timePartDelimiter=g.stoken(":");q.whiteSpace=g.rtoken(/^\s*/);q.generalDelimiter=g.rtoken(/^(([\s\,]|at|on)+)/);var m={};q.ctoken=function(d){var e=m[d];if(!e){var c=Date.CultureInfo.regexPatterns;var f=d.split(/\s+/),a=[];for(var b=0;b<f.length;b++){a.push(g.replace(g.rtoken(c[f[b]]),f[b]))}e=m[d]=g.any.apply(null,a)}return e};q.ctoken2=function(a){return g.rtoken(Date.CultureInfo.regexPatterns[a])};q.h=g.cache(g.process(g.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),s.hour));q.hh=g.cache(g.process(g.rtoken(/^(0[0-9]|1[0-2])/),s.hour));q.H=g.cache(g.process(g.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),s.hour));q.HH=g.cache(g.process(g.rtoken(/^([0-1][0-9]|2[0-3])/),s.hour));q.m=g.cache(g.process(g.rtoken(/^([0-5][0-9]|[0-9])/),s.minute));q.mm=g.cache(g.process(g.rtoken(/^[0-5][0-9]/),s.minute));q.s=g.cache(g.process(g.rtoken(/^([0-5][0-9]|[0-9])/),s.second));q.ss=g.cache(g.process(g.rtoken(/^[0-5][0-9]/),s.second));q.hms=g.cache(g.sequence([q.H,q.mm,q.ss],q.timePartDelimiter));q.t=g.cache(g.process(q.ctoken2("shortMeridian"),s.meridian));q.tt=g.cache(g.process(q.ctoken2("longMeridian"),s.meridian));q.z=g.cache(g.process(g.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),s.timezone));q.zz=g.cache(g.process(g.rtoken(/^(\+|\-)\s*\d\d\d\d/),s.timezone));q.zzz=g.cache(g.process(q.ctoken2("timezone"),s.timezone));q.timeSuffix=g.each(g.ignore(q.whiteSpace),g.set([q.tt,q.zzz]));q.time=g.each(g.optional(g.ignore(g.stoken("T"))),q.hms,q.timeSuffix);q.d=g.cache(g.process(g.each(g.rtoken(/^([0-2]\d|3[0-1]|\d)/),g.optional(q.ctoken2("ordinalSuffix"))),s.day));q.dd=g.cache(g.process(g.each(g.rtoken(/^([0-2]\d|3[0-1])/),g.optional(q.ctoken2("ordinalSuffix"))),s.day));q.ddd=q.dddd=g.cache(g.process(q.ctoken("sun mon tue wed thu fri sat"),function(a){return function(){this.weekday=a}}));q.M=g.cache(g.process(g.rtoken(/^(1[0-2]|0\d|\d)/),s.month));q.MM=g.cache(g.process(g.rtoken(/^(1[0-2]|0\d)/),s.month));q.MMM=q.MMMM=g.cache(g.process(q.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),s.month));q.y=g.cache(g.process(g.rtoken(/^(\d\d?)/),s.year));q.yy=g.cache(g.process(g.rtoken(/^(\d\d)/),s.year));q.yyy=g.cache(g.process(g.rtoken(/^(\d\d?\d?\d?)/),s.year));q.yyyy=g.cache(g.process(g.rtoken(/^(\d\d\d\d)/),s.year));n=function(){return g.each(g.any.apply(null,arguments),g.not(q.ctoken2("timeContext")))};q.day=n(q.d,q.dd);q.month=n(q.M,q.MMM);q.year=n(q.yyyy,q.yy);q.orientation=g.process(q.ctoken("past future"),function(a){return function(){this.orient=a}});q.operator=g.process(q.ctoken("add subtract"),function(a){return function(){this.operator=a}});q.rday=g.process(q.ctoken("yesterday tomorrow today now"),s.rday);q.unit=g.process(q.ctoken("minute hour day week month year"),function(a){return function(){this.unit=a}});q.value=g.process(g.rtoken(/^\d\d?(st|nd|rd|th)?/),function(a){return function(){this.value=a.replace(/\D/g,"")}});q.expression=g.set([q.rday,q.operator,q.value,q.unit,q.orientation,q.ddd,q.MMM]);n=function(){return g.set(arguments,q.datePartDelimiter)};q.mdy=n(q.ddd,q.month,q.day,q.year);q.ymd=n(q.ddd,q.year,q.month,q.day);q.dmy=n(q.ddd,q.day,q.month,q.year);q.date=function(a){return((q[Date.CultureInfo.dateElementOrder]||q.mdy).call(this,a))};q.format=g.process(g.many(g.any(g.process(g.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(a){if(q[a]){return q[a]}else{throw Date.Parsing.Exception(a)}}),g.process(g.rtoken(/^[^dMyhHmstz]+/),function(a){return g.ignore(g.stoken(a))}))),function(a){return g.process(g.each.apply(null,a),s.finishExact)});var o={};var t=function(a){return o[a]=(o[a]||q.format(a)[0])};q.formats=function(a){if(a instanceof Array){var c=[];for(var b=0;b<a.length;b++){c.push(t(a[b]))}return g.any.apply(null,c)}else{return t(a)}};q._formats=q.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]);q._start=g.process(g.set([q.date,q.time,q.expression],q.generalDelimiter,q.whiteSpace),s.finish);q.start=function(b){try{var a=q._formats.call({},b);if(a[1].length===0){return a}}catch(c){}return q._start.call({},b)}}());Date._parse=Date.parse;Date.parse=function(e){var d=null;if(!e){return null}try{d=Date.Grammar.start.call({},e)}catch(f){return null}return((d[1].length===0)?d[0]:null)};Date.getParseFunction=function(c){var d=Date.Grammar.formats(c);return function(e){var b=null;try{b=d.call({},e)}catch(a){return null}return((b[1].length===0)?b[0]:null)}};Date.parseExact=function(d,c){return Date.getParseFunction(c)(d)};(function(c6,b1){var ci=c6.document;var bD=(function(){var x=function(K,J){return new x.fn.init(K,J,B)},m=c6.jQuery,s=c6.$,B,d=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,D=/\S/,n=/^\s+/,z=/\s+$/,p=/\d/,F=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,A=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,w=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,l=/(?:^|:|,)(?:\s*\[)+/g,I=/(webkit)[ \/]([\w.]+)/,q=/(opera)(?:.*version)?[ \/]([\w.]+)/,v=/(msie) ([\w.]+)/,o=/(mozilla)(?:.*? rv:([\w.]+))?/,f=navigator.userAgent,h,C,u,E=Object.prototype.toString,t=Object.prototype.hasOwnProperty,H=Array.prototype.push,G=Array.prototype.slice,y=String.prototype.trim,c=Array.prototype.indexOf,a={};x.fn=x.prototype={constructor:x,init:function(P,L,M){var N,K,O,J;if(!P){return this}if(P.nodeType){this.context=this[0]=P;this.length=1;return this}if(P==="body"&&!L&&ci.body){this.context=ci;this[0]=ci.body;this.selector="body";this.length=1;return this}if(typeof P==="string"){N=d.exec(P);if(N&&(N[1]||!L)){if(N[1]){L=L instanceof x?L[0]:L;J=(L?L.ownerDocument||L:ci);O=F.exec(P);if(O){if(x.isPlainObject(L)){P=[ci.createElement(O[1])];x.fn.attr.call(P,L,true)}else{P=[J.createElement(O[1])]}}else{O=x.buildFragment([N[1]],[J]);P=(O.cacheable?x.clone(O.fragment):O.fragment).childNodes}return x.merge(this,P)}else{K=ci.getElementById(N[2]);if(K&&K.parentNode){if(K.id!==N[2]){return M.find(P)}this.length=1;this[0]=K}this.context=ci;this.selector=P;return this}}else{if(!L||L.jquery){return(L||M).find(P)}else{return this.constructor(L).find(P)}}}else{if(x.isFunction(P)){return M.ready(P)}}if(P.selector!==b1){this.selector=P.selector;this.context=P.context}return x.makeArray(P,this)},selector:"",jquery:"1.5.2",length:0,size:function(){return this.length},toArray:function(){return G.call(this,0)},get:function(J){return J==null?this.toArray():(J<0?this[this.length+J]:this[J])},pushStack:function(L,J,M){var K=this.constructor();if(x.isArray(L)){H.apply(K,L)}else{x.merge(K,L)}K.prevObject=this;K.context=this.context;if(J==="find"){K.selector=this.selector+(this.selector?" ":"")+M}else{if(J){K.selector=this.selector+"."+J+"("+M+")"}}return K},each:function(J,K){return x.each(this,J,K)},ready:function(J){x.bindReady();C.done(J);return this},eq:function(J){return J===-1?this.slice(J):this.slice(J,+J+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(G.apply(this,arguments),"slice",G.call(arguments).join(","))},map:function(J){return this.pushStack(x.map(this,function(K,L){return J.call(K,L,K)}))},end:function(){return this.prevObject||this.constructor(null)},push:H,sort:[].sort,splice:[].splice};x.fn.init.prototype=x.fn;x.extend=x.fn.extend=function(){var J,Q,S,R,M,L,N=arguments[0]||{},O=1,P=arguments.length,K=false;if(typeof N==="boolean"){K=N;N=arguments[1]||{};O=2}if(typeof N!=="object"&&!x.isFunction(N)){N={}}if(P===O){N=this;--O}for(;O<P;O++){if((J=arguments[O])!=null){for(Q in J){S=N[Q];R=J[Q];if(N===R){continue}if(K&&R&&(x.isPlainObject(R)||(M=x.isArray(R)))){if(M){M=false;L=S&&x.isArray(S)?S:[]}else{L=S&&x.isPlainObject(S)?S:{}}N[Q]=x.extend(K,L,R)}else{if(R!==b1){N[Q]=R}}}}}return N};x.extend({noConflict:function(J){c6.$=s;if(J){c6.jQuery=m}return x},isReady:false,readyWait:1,ready:function(J){if(J===true){x.readyWait--}if(!x.readyWait||(J!==true&&!x.isReady)){if(!ci.body){return setTimeout(x.ready,1)}x.isReady=true;if(J!==true&&--x.readyWait>0){return}C.resolveWith(ci,[x]);if(x.fn.trigger){x(ci).trigger("ready").unbind("ready")}}},bindReady:function(){if(C){return}C=x._Deferred();if(ci.readyState==="complete"){return setTimeout(x.ready,1)}if(ci.addEventListener){ci.addEventListener("DOMContentLoaded",u,false);c6.addEventListener("load",x.ready,false)}else{if(ci.attachEvent){ci.attachEvent("onreadystatechange",u);c6.attachEvent("onload",x.ready);var K=false;try{K=c6.frameElement==null}catch(J){}if(ci.documentElement.doScroll&&K){b()}}}},isFunction:function(J){return x.type(J)==="function"},isArray:Array.isArray||function(J){return x.type(J)==="array"},isWindow:function(J){return J&&typeof J==="object"&&"setInterval" in J},isNaN:function(J){return J==null||!p.test(J)||isNaN(J)},type:function(J){return J==null?String(J):a[E.call(J)]||"object"},isPlainObject:function(J){if(!J||x.type(J)!=="object"||J.nodeType||x.isWindow(J)){return false}if(J.constructor&&!t.call(J,"constructor")&&!t.call(J.constructor.prototype,"isPrototypeOf")){return false}var K;for(K in J){}return K===b1||t.call(J,K)},isEmptyObject:function(J){for(var K in J){return false}return true},error:function(J){throw J},parseJSON:function(J){if(typeof J!=="string"||!J){return null}J=x.trim(J);if(A.test(J.replace(g,"@").replace(w,"]").replace(l,""))){return c6.JSON&&c6.JSON.parse?c6.JSON.parse(J):(new Function("return "+J))()}else{x.error("Invalid JSON: "+J)}},parseXML:function(J,L,K){if(c6.DOMParser){K=new DOMParser();L=K.parseFromString(J,"text/xml")}else{L=new ActiveXObject("Microsoft.XMLDOM");L.async="false";L.loadXML(J)}K=L.documentElement;if(!K||!K.nodeName||K.nodeName==="parsererror"){x.error("Invalid XML: "+J)}return L},noop:function(){},globalEval:function(J){if(J&&D.test(J)){var K=ci.head||ci.getElementsByTagName("head")[0]||ci.documentElement,L=ci.createElement("script");if(x.support.scriptEval()){L.appendChild(ci.createTextNode(J))}else{L.text=J}K.insertBefore(L,K.firstChild);K.removeChild(L)}},nodeName:function(J,K){return J.nodeName&&J.nodeName.toUpperCase()===K.toUpperCase()},each:function(M,Q,N){var O,L=0,K=M.length,P=K===b1||x.isFunction(M);if(N){if(P){for(O in M){if(Q.apply(M[O],N)===false){break}}}else{for(;L<K;){if(Q.apply(M[L++],N)===false){break}}}}else{if(P){for(O in M){if(Q.call(M[O],O,M[O])===false){break}}}else{for(var J=M[0];L<K&&Q.call(J,L,J)!==false;J=M[++L]){}}}return M},trim:y?function(J){return J==null?"":y.call(J)}:function(J){return J==null?"":J.toString().replace(n,"").replace(z,"")},makeArray:function(J,L){var M=L||[];if(J!=null){var K=x.type(J);if(J.length==null||K==="string"||K==="function"||K==="regexp"||x.isWindow(J)){H.call(M,J)}else{x.merge(M,J)}}return M},inArray:function(K,J){if(J.indexOf){return J.indexOf(K)}for(var M=0,L=J.length;M<L;M++){if(J[M]===K){return M}}return -1},merge:function(J,L){var K=J.length,M=0;if(typeof L.length==="number"){for(var N=L.length;M<N;M++){J[K++]=L[M]}}else{while(L[M]!==b1){J[K++]=L[M++]}}J.length=K;return J},grep:function(O,J,P){var N=[],K;P=!!P;for(var M=0,L=O.length;M<L;M++){K=!!J(O[M],M);if(P!==K){N.push(O[M])}}return N},map:function(O,J,P){var N=[],K;for(var M=0,L=O.length;M<L;M++){K=J(O[M],M,P);if(K!=null){N[N.length]=K}}return N.concat.apply([],N)},guid:1,proxy:function(J,K,L){if(arguments.length===2){if(typeof K==="string"){L=J;J=L[K];K=b1}else{if(K&&!x.isFunction(K)){L=K;K=b1}}}if(!K&&J){K=function(){return J.apply(L||this,arguments)}}if(J){K.guid=J.guid=J.guid||K.guid||x.guid++}return K},access:function(R,J,L,P,M,K){var Q=R.length;if(typeof J==="object"){for(var O in J){x.access(R,O,J[O],P,M,L)}return R}if(L!==b1){P=!K&&P&&x.isFunction(L);for(var N=0;N<Q;N++){M(R[N],J,P?L.call(R[N],N,M(R[N],J)):L,K)}return R}return Q?M(R[0],J):b1},now:function(){return(new Date()).getTime()},uaMatch:function(J){J=J.toLowerCase();var K=I.exec(J)||q.exec(J)||v.exec(J)||J.indexOf("compatible")<0&&o.exec(J)||[];return{browser:K[1]||"",version:K[2]||"0"}},sub:function(){function K(N,M){return new K.fn.init(N,M)}x.extend(true,K,this);K.superclass=this;K.fn=K.prototype=this();K.fn.constructor=K;K.subclass=this.subclass;K.fn.init=function J(N,M){if(M&&M instanceof x&&!(M instanceof K)){M=K(M)}return x.fn.init.call(this,N,M,L)};K.fn.init.prototype=K.fn;var L=K(ci);return K},browser:{}});x.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(J,K){a["[object "+K+"]"]=K.toLowerCase()});h=x.uaMatch(f);if(h.browser){x.browser[h.browser]=true;x.browser.version=h.version}if(x.browser.webkit){x.browser.safari=true}if(c){x.inArray=function(K,J){return c.call(J,K)}}if(D.test("\xA0")){n=/^[\s\xA0]+/;z=/[\s\xA0]+$/}B=x(ci);if(ci.addEventListener){u=function(){ci.removeEventListener("DOMContentLoaded",u,false);x.ready()}}else{if(ci.attachEvent){u=function(){if(ci.readyState==="complete"){ci.detachEvent("onreadystatechange",u);x.ready()}}}}function b(){if(x.isReady){return}try{ci.documentElement.doScroll("left")}catch(J){setTimeout(b,1);return}x.ready()}return x})();var bE="then done fail isResolved isRejected promise".split(" "),cW=[].slice;bD.extend({_Deferred:function(){var c=[],a,f,d,b={done:function(){if(!d){var n=arguments,m,g,h,l,o;if(a){o=a;a=0}for(m=0,g=n.length;m<g;m++){h=n[m];l=bD.type(h);if(l==="array"){b.done.apply(b,h)}else{if(l==="function"){c.push(h)}}}if(o){b.resolveWith(o[0],o[1])}}return this},resolveWith:function(g,h){if(!d&&!a&&!f){h=h||[];f=1;try{while(c[0]){c.shift().apply(g,h)}}finally{a=[g,h];f=0}}return this},resolve:function(){b.resolveWith(this,arguments);return this},isResolved:function(){return !!(f||a)},cancel:function(){d=1;c=[];return this}};return b},Deferred:function(d){var b=bD._Deferred(),a=bD._Deferred(),c;bD.extend(b,{then:function(f,g){b.done(f).fail(g);return this},fail:a.done,rejectWith:a.resolveWith,reject:a.resolve,isRejected:a.isResolved,promise:function(f){if(f==null){if(c){return c}c=f={}}var g=bE.length;while(g--){f[bE[g]]=b[bE[g]]}return f}});b.done(a.cancel).fail(b.cancel);delete b.cancel;if(d){d.call(b,b)}return b},when:function(a){var h=arguments,g=0,b=h.length,c=b,f=b<=1&&a&&bD.isFunction(a.promise)?a:bD.Deferred();function d(l){return function(m){h[l]=arguments.length>1?cW.call(arguments,0):m;if(!(--c)){f.resolveWith(f,cW.call(h,0))}}}if(b>1){for(;g<b;g++){if(h[g]&&bD.isFunction(h[g].promise)){h[g].promise().then(d(g),f.reject)}else{--c}}if(!c){f.resolveWith(f,h)}}else{if(f!==a){f.resolveWith(f,b?[a]:[])}}return f.promise()}});(function(){bD.support={};var f=ci.createElement("div");f.style.display="none";f.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var h=f.getElementsByTagName("*"),m=f.getElementsByTagName("a")[0],l=ci.createElement("select"),d=l.appendChild(ci.createElement("option")),n=f.getElementsByTagName("input")[0];if(!h||!h.length||!m){return}bD.support={leadingWhitespace:f.firstChild.nodeType===3,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/red/.test(m.getAttribute("style")),hrefNormalized:m.getAttribute("href")==="/a",opacity:/^0.55$/.test(m.style.opacity),cssFloat:!!m.style.cssFloat,checkOn:n.value==="on",optSelected:d.selected,deleteExpando:true,optDisabled:false,checkClone:false,noCloneEvent:true,noCloneChecked:true,boxModel:null,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableHiddenOffsets:true,reliableMarginRight:true};n.checked=true;bD.support.noCloneChecked=n.cloneNode(true).checked;l.disabled=true;bD.support.optDisabled=!d.disabled;var c=null;bD.support.scriptEval=function(){if(c===null){var t=ci.documentElement,s=ci.createElement("script"),p="script"+bD.now();try{s.appendChild(ci.createTextNode("window."+p+"=1;"))}catch(q){}t.insertBefore(s,t.firstChild);if(c6[p]){c=true;delete c6[p]}else{c=false}t.removeChild(s)}return c};try{delete f.test}catch(a){bD.support.deleteExpando=false}if(!f.addEventListener&&f.attachEvent&&f.fireEvent){f.attachEvent("onclick",function g(){bD.support.noCloneEvent=false;f.detachEvent("onclick",g)});f.cloneNode(true).fireEvent("onclick")}f=ci.createElement("div");f.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";var b=ci.createDocumentFragment();b.appendChild(f.firstChild);bD.support.checkClone=b.cloneNode(true).cloneNode(true).lastChild.checked;bD(function(){var q=ci.createElement("div"),p=ci.getElementsByTagName("body")[0];if(!p){return}q.style.width=q.style.paddingLeft="1px";p.appendChild(q);bD.boxModel=bD.support.boxModel=q.offsetWidth===2;if("zoom" in q.style){q.style.display="inline";q.style.zoom=1;bD.support.inlineBlockNeedsLayout=q.offsetWidth===2;q.style.display="";q.innerHTML="<div style='width:4px;'></div>";bD.support.shrinkWrapBlocks=q.offsetWidth!==2}q.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";var s=q.getElementsByTagName("td");bD.support.reliableHiddenOffsets=s[0].offsetHeight===0;s[0].style.display="";s[1].style.display="none";bD.support.reliableHiddenOffsets=bD.support.reliableHiddenOffsets&&s[0].offsetHeight===0;q.innerHTML="";if(ci.defaultView&&ci.defaultView.getComputedStyle){q.style.width="1px";q.style.marginRight="0";bD.support.reliableMarginRight=(parseInt((ci.defaultView.getComputedStyle(q,null)||{marginRight:0}).marginRight,10)||0)===0}p.removeChild(q).style.display="none";q=s=null});var o=function(p){var q=ci.createElement("div");p="on"+p;if(!q.attachEvent){return true}var s=(p in q);if(!s){q.setAttribute(p,"return;");s=typeof q[p]==="function"}return s};bD.support.submitBubbles=o("submit");bD.support.changeBubbles=o("change");f=h=m=null})();var cQ=/^(?:\{.*\}|\[.*\])$/;bD.extend({cache:{},uuid:0,expando:"jQuery"+(bD.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(a){a=a.nodeType?bD.cache[a[bD.expando]]:a[bD.expando];return !!a&&!bN(a)},data:function(c,f,a,b){if(!bD.acceptData(c)){return}var l=bD.expando,m=typeof f==="string",n,h=c.nodeType,g=h?bD.cache:c,d=h?c[bD.expando]:c[bD.expando]&&bD.expando;if((!d||(b&&d&&!g[d][l]))&&m&&a===b1){return}if(!d){if(h){c[bD.expando]=d=++bD.uuid}else{d=bD.expando}}if(!g[d]){g[d]={};if(!h){g[d].toJSON=bD.noop}}if(typeof f==="object"||typeof f==="function"){if(b){g[d][l]=bD.extend(g[d][l],f)}else{g[d]=bD.extend(g[d],f)}}n=g[d];if(b){if(!n[l]){n[l]={}}n=n[l]}if(a!==b1){n[f]=a}if(f==="events"&&!n[f]){return n[l]&&n[l].events}return m?n[f]:n},removeData:function(b,d,a){if(!bD.acceptData(b)){return}var l=bD.expando,h=b.nodeType,f=h?bD.cache:b,c=h?b[bD.expando]:bD.expando;if(!f[c]){return}if(d){var m=a?f[c][l]:f[c];if(m){delete m[d];if(!bN(m)){return}}}if(a){delete f[c][l];if(!bN(f[c])){return}}var g=f[c][l];if(bD.support.deleteExpando||f!=c6){delete f[c]}else{f[c]=null}if(g){f[c]={};if(!h){f[c].toJSON=bD.noop}f[c][l]=g}else{if(h){if(bD.support.deleteExpando){delete b[bD.expando]}else{if(b.removeAttribute){b.removeAttribute(bD.expando)}else{b[bD.expando]=null}}}}},_data:function(c,a,b){return bD.data(c,a,b,true)},acceptData:function(b){if(b.nodeName){var a=bD.noData[b.nodeName.toLowerCase()];if(a){return !(a===true||b.getAttribute("classid")!==a)}}return true}});bD.fn.extend({data:function(d,b){var c=null;if(typeof d==="undefined"){if(this.length){c=bD.data(this[0]);if(this[0].nodeType===1){var g=this[0].attributes,h;for(var f=0,l=g.length;f<l;f++){h=g[f].name;if(h.indexOf("data-")===0){h=h.substr(5);db(this[0],h,c[h])}}}}return c}else{if(typeof d==="object"){return this.each(function(){bD.data(this,d)})}}var a=d.split(".");a[1]=a[1]?"."+a[1]:"";if(b===b1){c=this.triggerHandler("getData"+a[1]+"!",[a[0]]);if(c===b1&&this.length){c=bD.data(this[0],d);c=db(this[0],d,c)}return c===b1&&a[1]?this.data(a[0]):c}else{return this.each(function(){var m=bD(this),n=[a[0],b];m.triggerHandler("setData"+a[1]+"!",n);bD.data(this,d,b);m.triggerHandler("changeData"+a[1]+"!",n)})}},removeData:function(a){return this.each(function(){bD.removeData(this,a)})}});function db(c,d,b){if(b===b1&&c.nodeType===1){b=c.getAttribute("data-"+d);if(typeof b==="string"){try{b=b==="true"?true:b==="false"?false:b==="null"?null:!bD.isNaN(b)?parseFloat(b):cQ.test(b)?bD.parseJSON(b):b}catch(a){}bD.data(c,d,b)}else{b=b1}}return b}function bN(b){for(var a in b){if(a!=="toJSON"){return false}}return true}bD.extend({queue:function(d,b,a){if(!d){return}b=(b||"fx")+"queue";var c=bD._data(d,b);if(!a){return c||[]}if(!c||bD.isArray(a)){c=bD._data(d,b,bD.makeArray(a))}else{c.push(a)}return c},dequeue:function(b,c){c=c||"fx";var a=bD.queue(b,c),d=a.shift();if(d==="inprogress"){d=a.shift()}if(d){if(c==="fx"){a.unshift("inprogress")}d.call(b,function(){bD.dequeue(b,c)})}if(!a.length){bD.removeData(b,c+"queue",true)}}});bD.fn.extend({queue:function(a,b){if(typeof a!=="string"){b=a;a="fx"}if(b===b1){return bD.queue(this[0],a)}return this.each(function(c){var d=bD.queue(this,a,b);if(a==="fx"&&d[0]!=="inprogress"){bD.dequeue(this,a)}})},dequeue:function(a){return this.each(function(){bD.dequeue(this,a)})},delay:function(b,a){b=bD.fx?bD.fx.speeds[b]||b:b;a=a||"fx";return this.queue(a,function(){var c=this;setTimeout(function(){bD.dequeue(c,a)},b)})},clearQueue:function(a){return this.queue(a||"fx",[])}});var cS=/[\n\t\r]/g,bW=/\s+/,cO=/\r/g,bZ=/^(?:href|src|style)$/,bz=/^(?:button|input)$/i,b8=/^(?:button|input|object|select|textarea)$/i,bu=/^a(?:rea)?$/i,bL=/^(?:radio|checkbox)$/i;bD.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};bD.fn.extend({attr:function(a,b){return bD.access(this,a,b,true,bD.attr)},removeAttr:function(a,b){return this.each(function(){bD.attr(this,a,"");if(this.nodeType===1){this.removeAttribute(a)}})},addClass:function(l){if(bD.isFunction(l)){return this.each(function(n){var o=bD(this);o.addClass(l.call(this,n,o.attr("class")))})}if(l&&typeof l==="string"){var g=(l||"").split(bW);for(var c=0,d=this.length;c<d;c++){var f=this[c];if(f.nodeType===1){if(!f.className){f.className=l}else{var b=" "+f.className+" ",m=f.className;for(var a=0,h=g.length;a<h;a++){if(b.indexOf(" "+g[a]+" ")<0){m+=" "+g[a]}}f.className=bD.trim(m)}}}}return this},removeClass:function(c){if(bD.isFunction(c)){return this.each(function(m){var n=bD(this);n.removeClass(c.call(this,m,n.attr("class")))})}if((c&&typeof c==="string")||c===b1){var b=(c||"").split(bW);for(var h=0,l=this.length;h<l;h++){var d=this[h];if(d.nodeType===1&&d.className){if(c){var g=(" "+d.className+" ").replace(cS," ");for(var a=0,f=b.length;a<f;a++){g=g.replace(" "+b[a]+" "," ")}d.className=bD.trim(g)}else{d.className=""}}}}return this},toggleClass:function(b,d){var c=typeof b,a=typeof d==="boolean";if(bD.isFunction(b)){return this.each(function(f){var g=bD(this);g.toggleClass(b.call(this,f,g.attr("class"),d),d)})}return this.each(function(){if(c==="string"){var h,l=0,m=bD(this),g=d,f=b.split(bW);while((h=f[l++])){g=a?g:!m.hasClass(h);m[g?"addClass":"removeClass"](h)}}else{if(c==="undefined"||c==="boolean"){if(this.className){bD._data(this,"__className__",this.className)}this.className=this.className||b===false?"":bD._data(this,"__className__")||""}}})},hasClass:function(b){var a=" "+b+" ";for(var c=0,d=this.length;c<d;c++){if((" "+this[c].className+" ").replace(cS," ").indexOf(a)>-1){return true}}return false},val:function(m){if(!arguments.length){var d=this[0];if(d){if(bD.nodeName(d,"option")){var f=d.attributes.value;return !f||f.specified?d.value:d.text}if(bD.nodeName(d,"select")){var o=d.selectedIndex,l=[],h=d.options,a=d.type==="select-one";if(o<0){return null}for(var c=a?o:0,n=a?o+1:h.length;c<n;c++){var b=h[c];if(b.selected&&(bD.support.optDisabled?!b.disabled:b.getAttribute("disabled")===null)&&(!b.parentNode.disabled||!bD.nodeName(b.parentNode,"optgroup"))){m=bD(b).val();if(a){return m}l.push(m)}}if(a&&!l.length&&h.length){return bD(h[o]).val()}return l}if(bL.test(d.type)&&!bD.support.checkOn){return d.getAttribute("value")===null?"on":d.value}return(d.value||"").replace(cO,"")}return b1}var g=bD.isFunction(m);return this.each(function(s){var t=bD(this),q=m;if(this.nodeType!==1){return}if(g){q=m.call(this,s,t.val())}if(q==null){q=""}else{if(typeof q==="number"){q+=""}else{if(bD.isArray(q)){q=bD.map(q,function(u){return u==null?"":u+""})}}}if(bD.isArray(q)&&bL.test(this.type)){this.checked=bD.inArray(t.val(),q)>=0}else{if(bD.nodeName(this,"select")){var p=bD.makeArray(q);bD("option",this).each(function(){this.selected=bD.inArray(bD(this).val(),p)>=0});if(!p.length){this.selectedIndex=-1}}else{this.value=q}}})}});bD.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(f,g,n,h){if(!f||f.nodeType===3||f.nodeType===8||f.nodeType===2){return b1}if(h&&g in bD.attrFn){return bD(f)[g](n)}var d=f.nodeType!==1||!bD.isXMLDoc(f),a=n!==b1;g=d&&bD.props[g]||g;if(f.nodeType===1){var b=bZ.test(g);if(g==="selected"&&!bD.support.optSelected){var m=f.parentNode;if(m){m.selectedIndex;if(m.parentNode){m.parentNode.selectedIndex}}}if((g in f||f[g]!==b1)&&d&&!b){if(a){if(g==="type"&&bz.test(f.nodeName)&&f.parentNode){bD.error("type property can't be changed")}if(n===null){if(f.nodeType===1){f.removeAttribute(g)}}else{f[g]=n}}if(bD.nodeName(f,"form")&&f.getAttributeNode(g)){return f.getAttributeNode(g).nodeValue}if(g==="tabIndex"){var l=f.getAttributeNode("tabIndex");return l&&l.specified?l.value:b8.test(f.nodeName)||bu.test(f.nodeName)&&f.href?0:b1}return f[g]}if(!bD.support.style&&d&&g==="style"){if(a){f.style.cssText=""+n}return f.style.cssText}if(a){f.setAttribute(g,""+n)}if(!f.attributes[g]&&(f.hasAttribute&&!f.hasAttribute(g))){return b1}var c=!bD.support.hrefNormalized&&d&&b?f.getAttribute(g,2):f.getAttribute(g);return c===null?b1:c}if(a){f[g]=n}return f[g]}});var cF=/\.(.*)$/,c4=/^(?:textarea|input|select)$/i,bX=/\./g,cv=/ /g,cZ=/[^\w\s.|`]/g,b4=function(a){return a.replace(cZ,"\\$&")};bD.event={add:function(b,q,g,t){if(b.nodeType===3||b.nodeType===8){return}try{if(bD.isWindow(b)&&(b!==c6&&!b.frameElement)){b=c6}}catch(p){}if(g===false){g=bS}else{if(!g){return}}var d,l;if(g.handler){d=g;g=d.handler}if(!g.guid){g.guid=bD.guid++}var o=bD._data(b);if(!o){return}var h=o.events,s=o.handle;if(!h){o.events=h={}}if(!s){o.handle=s=function(u){return typeof bD!=="undefined"&&bD.event.triggered!==u.type?bD.event.handle.apply(s.elem,arguments):b1}}s.elem=b;q=q.split(" ");var m,a=0,f;while((m=q[a++])){l=d?bD.extend({},d):{handler:g,data:t};if(m.indexOf(".")>-1){f=m.split(".");m=f.shift();l.namespace=f.slice(0).sort().join(".")}else{f=[];l.namespace=""}l.type=m;if(!l.guid){l.guid=g.guid}var c=h[m],n=bD.event.special[m]||{};if(!c){c=h[m]=[];if(!n.setup||n.setup.call(b,t,f,s)===false){if(b.addEventListener){b.addEventListener(m,s,false)}else{if(b.attachEvent){b.attachEvent("on"+m,s)}}}}if(n.add){n.add.call(b,l);if(!l.handler.guid){l.handler.guid=g.guid}}c.push(l);bD.event.global[m]=true}b=null},global:{},remove:function(d,n,b,t){if(d.nodeType===3||d.nodeType===8){return}if(b===false){b=bS}var q,w,s,h,g=0,a,p,l,x,o,m,u,f=bD.hasData(d)&&bD._data(d),c=f&&f.events;if(!f||!c){return}if(n&&n.type){b=n.handler;n=n.type}if(!n||typeof n==="string"&&n.charAt(0)==="."){n=n||"";for(w in c){bD.event.remove(d,w+n)}return}n=n.split(" ");while((w=n[g++])){u=w;m=null;a=w.indexOf(".")<0;p=[];if(!a){p=w.split(".");w=p.shift();l=new RegExp("(^|\\.)"+bD.map(p.slice(0).sort(),b4).join("\\.(?:.*\\.)?")+"(\\.|$)")}o=c[w];if(!o){continue}if(!b){for(h=0;h<o.length;h++){m=o[h];if(a||l.test(m.namespace)){bD.event.remove(d,u,m.handler,h);o.splice(h--,1)}}continue}x=bD.event.special[w]||{};for(h=t||0;h<o.length;h++){m=o[h];if(b.guid===m.guid){if(a||l.test(m.namespace)){if(t==null){o.splice(h--,1)}if(x.remove){x.remove.call(d,m)}}if(t!=null){break}}}if(o.length===0||t!=null&&o.length===1){if(!x.teardown||x.teardown.call(d,p)===false){bD.removeEvent(d,w,f.handle)}q=null;delete c[w]}}if(bD.isEmptyObject(c)){var v=f.handle;if(v){v.elem=null}delete f.events;delete f.handle;if(bD.isEmptyObject(f)){bD.removeData(d,b1,true)}}},trigger:function(f,s,c){var n=f.type||f,a=arguments[3];if(!a){f=typeof f==="object"?f[bD.expando]?f:bD.extend(bD.Event(n),f):bD.Event(n);if(n.indexOf("!")>=0){f.type=n=n.slice(0,-1);f.exclusive=true}if(!c){f.stopPropagation();if(bD.event.global[n]){bD.each(bD.cache,function(){var t=bD.expando,u=this[t];if(u&&u.events&&u.events[n]){bD.event.trigger(f,s,u.handle.elem)}})}}if(!c||c.nodeType===3||c.nodeType===8){return b1}f.result=b1;f.target=c;s=bD.makeArray(s);s.unshift(f)}f.currentTarget=c;var q=bD._data(c,"handle");if(q){q.apply(c,s)}var l=c.parentNode||c.ownerDocument;try{if(!(c&&c.nodeName&&bD.noData[c.nodeName.toLowerCase()])){if(c["on"+n]&&c["on"+n].apply(c,s)===false){f.result=false;f.preventDefault()}}}catch(m){}if(!f.isPropagationStopped()&&l){bD.event.trigger(f,s,l,true)}else{if(!f.isDefaultPrevented()){var d,p=f.target,g=n.replace(cF,""),h=bD.nodeName(p,"a")&&g==="click",o=bD.event.special[g]||{};if((!o._default||o._default.call(c,f)===false)&&!h&&!(p&&p.nodeName&&bD.noData[p.nodeName.toLowerCase()])){try{if(p[g]){d=p["on"+g];if(d){p["on"+g]=null}bD.event.triggered=f.type;p[g]()}}catch(b){}if(d){p["on"+g]=d}bD.event.triggered=b1}}}},handle:function(g){var m,d,f,h,l,a=[],o=bD.makeArray(arguments);g=o[0]=bD.event.fix(g||c6.event);g.currentTarget=this;m=g.type.indexOf(".")<0&&!g.exclusive;if(!m){f=g.type.split(".");g.type=f.shift();a=f.slice(0).sort();h=new RegExp("(^|\\.)"+a.join("\\.(?:.*\\.)?")+"(\\.|$)")}g.namespace=g.namespace||a.join(".");l=bD._data(this,"events");d=(l||{})[g.type];if(l&&d){d=d.slice(0);for(var b=0,c=d.length;b<c;b++){var n=d[b];if(m||h.test(n.namespace)){g.handler=n.handler;g.data=n.data;g.handleObj=n;var p=n.handler.apply(this,o);if(p!==b1){g.result=p;if(p===false){g.preventDefault();g.stopPropagation()}}if(g.isImmediatePropagationStopped()){break}}}}return g.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(d){if(d[bD.expando]){return d}var g=d;d=bD.Event(g);for(var f=this.props.length,a;f;){a=this.props[--f];d[a]=g[a]}if(!d.target){d.target=d.srcElement||ci}if(d.target.nodeType===3){d.target=d.target.parentNode}if(!d.relatedTarget&&d.fromElement){d.relatedTarget=d.fromElement===d.target?d.toElement:d.fromElement}if(d.pageX==null&&d.clientX!=null){var b=ci.documentElement,c=ci.body;d.pageX=d.clientX+(b&&b.scrollLeft||c&&c.scrollLeft||0)-(b&&b.clientLeft||c&&c.clientLeft||0);d.pageY=d.clientY+(b&&b.scrollTop||c&&c.scrollTop||0)-(b&&b.clientTop||c&&c.clientTop||0)}if(d.which==null&&(d.charCode!=null||d.keyCode!=null)){d.which=d.charCode!=null?d.charCode:d.keyCode}if(!d.metaKey&&d.ctrlKey){d.metaKey=d.ctrlKey}if(!d.which&&d.button!==b1){d.which=(d.button&1?1:(d.button&2?3:(d.button&4?2:0)))}return d},guid:100000000,proxy:bD.proxy,special:{ready:{setup:bD.bindReady,teardown:bD.noop},live:{add:function(a){bD.event.add(this,br(a.origType,a.selector),bD.extend({},a,{handler:cq,guid:a.handler.guid}))},remove:function(a){bD.event.remove(this,br(a.origType,a.selector),a)}},beforeunload:{setup:function(b,c,a){if(bD.isWindow(this)){this.onbeforeunload=a}},teardown:function(b,a){if(this.onbeforeunload===a){this.onbeforeunload=null}}}}};bD.removeEvent=ci.removeEventListener?function(c,a,b){if(c.removeEventListener){c.removeEventListener(a,b,false)}}:function(c,a,b){if(c.detachEvent){c.detachEvent("on"+a,b)}};bD.Event=function(a){if(!this.preventDefault){return new bD.Event(a)}if(a&&a.type){this.originalEvent=a;this.type=a.type;this.isDefaultPrevented=(a.defaultPrevented||a.returnValue===false||a.getPreventDefault&&a.getPreventDefault())?bx:bS}else{this.type=a}this.timeStamp=bD.now();this[bD.expando]=true};function bS(){return false}function bx(){return true}bD.Event.prototype={preventDefault:function(){this.isDefaultPrevented=bx;var a=this.originalEvent;if(!a){return}if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=bx;var a=this.originalEvent;if(!a){return}if(a.stopPropagation){a.stopPropagation()}a.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bx;this.stopPropagation()},isDefaultPrevented:bS,isPropagationStopped:bS,isImmediatePropagationStopped:bS};var cw=function(b){var c=b.relatedTarget;try{if(c&&c!==ci&&!c.parentNode){return}while(c&&c!==this){c=c.parentNode}if(c!==this){b.type=b.data;bD.event.handle.apply(this,arguments)}}catch(a){}},cK=function(a){a.type=a.data;bD.event.handle.apply(this,arguments)};bD.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,a){bD.event.special[b]={setup:function(c){bD.event.add(this,a,c&&c.selector?cK:cw,b)},teardown:function(c){bD.event.remove(this,a,c&&c.selector?cK:cw)}}});if(!bD.support.submitBubbles){bD.event.special.submit={setup:function(b,a){if(this.nodeName&&this.nodeName.toLowerCase()!=="form"){bD.event.add(this,"click.specialSubmit",function(c){var d=c.target,f=d.type;if((f==="submit"||f==="image")&&bD(d).closest("form").length){cH("submit",this,arguments)}});bD.event.add(this,"keypress.specialSubmit",function(c){var d=c.target,f=d.type;if((f==="text"||f==="password")&&bD(d).closest("form").length&&c.keyCode===13){cH("submit",this,arguments)}})}else{return false}},teardown:function(a){bD.event.remove(this,".specialSubmit")}}}if(!bD.support.changeBubbles){var bR,bv=function(c){var a=c.type,b=c.value;if(a==="radio"||a==="checkbox"){b=c.checked}else{if(a==="select-multiple"){b=c.selectedIndex>-1?bD.map(c.options,function(d){return d.selected}).join("-"):""}else{if(c.nodeName.toLowerCase()==="select"){b=c.selectedIndex}}}return b},cy=function cy(b){var d=b.target,c,a;if(!c4.test(d.nodeName)||d.readOnly){return}c=bD._data(d,"_change_data");a=bv(d);if(b.type!=="focusout"||d.type!=="radio"){bD._data(d,"_change_data",a)}if(c===b1||a===c){return}if(c!=null||a){b.type="change";b.liveFired=b1;bD.event.trigger(b,arguments[1],d)}};bD.event.special.change={filters:{focusout:cy,beforedeactivate:cy,click:function(a){var b=a.target,c=b.type;if(c==="radio"||c==="checkbox"||b.nodeName.toLowerCase()==="select"){cy.call(this,a)}},keydown:function(a){var b=a.target,c=b.type;if((a.keyCode===13&&b.nodeName.toLowerCase()!=="textarea")||(a.keyCode===32&&(c==="checkbox"||c==="radio"))||c==="select-multiple"){cy.call(this,a)}},beforeactivate:function(a){var b=a.target;bD._data(b,"_change_data",bv(b))}},setup:function(b,c){if(this.type==="file"){return false}for(var a in bR){bD.event.add(this,a+".specialChange",bR[a])}return c4.test(this.nodeName)},teardown:function(a){bD.event.remove(this,".specialChange");return c4.test(this.nodeName)}};bR=bD.event.special.change.filters;bR.focus=bR.beforeactivate}function cH(d,b,a){var c=bD.extend({},a[0]);c.type=d;c.originalEvent={};c.liveFired=b1;bD.event.handle.call(b,c);if(c.isDefaultPrevented()){a[0].preventDefault()}}if(ci.addEventListener){bD.each({focus:"focusin",blur:"focusout"},function(b,a){var d=0;bD.event.special[a]={setup:function(){if(d++===0){ci.addEventListener(b,c,true)}},teardown:function(){if(--d===0){ci.removeEventListener(b,c,true)}}};function c(g){var f=bD.event.fix(g);f.type=a;f.originalEvent={};bD.event.trigger(f,null,f.target);if(f.isDefaultPrevented()){g.preventDefault()}}})}bD.each(["bind","one"],function(b,a){bD.fn[a]=function(d,c,f){if(typeof d==="object"){for(var h in d){this[a](h,c,d[h],f)}return this}if(bD.isFunction(c)||c===false){f=c;c=b1}var g=a==="one"?bD.proxy(f,function(n){bD(this).unbind(n,g);return f.apply(this,arguments)}):f;if(d==="unload"&&a!=="one"){this.one(d,c,f)}else{for(var l=0,m=this.length;l<m;l++){bD.event.add(this[l],d,g,c)}}return this}});bD.fn.extend({unbind:function(a,c){if(typeof a==="object"&&!a.preventDefault){for(var d in a){this.unbind(d,a[d])}}else{for(var f=0,b=this.length;f<b;f++){bD.event.remove(this[f],a,c)}}return this},delegate:function(b,d,a,c){return this.live(d,a,c,b)},undelegate:function(a,c,b){if(arguments.length===0){return this.unbind("live")}else{return this.die(c,null,b,a)}},trigger:function(a,b){return this.each(function(){bD.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){var c=bD.Event(a);c.preventDefault();c.stopPropagation();bD.event.trigger(c,b,this[0]);return c.result}},toggle:function(b){var a=arguments,c=1;while(c<a.length){bD.proxy(b,a[c++])}return this.click(bD.proxy(b,function(f){var d=(bD._data(this,"lastToggle"+b.guid)||0)%c;bD._data(this,"lastToggle"+b.guid,d+1);f.preventDefault();return a[d].apply(this,arguments)||false}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var cN={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};bD.each(["live","die"],function(b,a){bD.fn[a]=function(o,s,m,d){var n,q=0,p,f,h,u=d||this.selector,g=d?this:bD(this.context);if(typeof o==="object"&&!o.preventDefault){for(var l in o){g[a](l,s,o[l],u)}return this}if(bD.isFunction(s)){m=s;s=b1}o=(o||"").split(" ");while((n=o[q++])!=null){p=cF.exec(n);f="";if(p){f=p[0];n=n.replace(cF,"")}if(n==="hover"){o.push("mouseenter"+f,"mouseleave"+f);continue}h=n;if(n==="focus"||n==="blur"){o.push(cN[n]+f);n=n+f}else{n=(cN[n]||n)+f}if(a==="live"){for(var t=0,c=g.length;t<c;t++){bD.event.add(g[t],"live."+br(n,u),{data:s,selector:u,handler:m,origType:n,origHandler:m,preType:h})}}else{g.unbind("live."+br(n,u),m)}}return this}});function cq(l){var p,a,t,v,m,g,n,h,o,u,q,s,d,f=[],w=[],c=bD._data(this,"events");if(l.liveFired===this||!c||!c.live||l.target.disabled||l.button&&l.type==="click"){return}if(l.namespace){s=new RegExp("(^|\\.)"+l.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")}l.liveFired=this;var b=c.live.slice(0);for(n=0;n<b.length;n++){m=b[n];if(m.origType.replace(cF,"")===l.type){w.push(m.selector)}else{b.splice(n--,1)}}v=bD(l.target).closest(w,l.currentTarget);for(h=0,o=v.length;h<o;h++){q=v[h];for(n=0;n<b.length;n++){m=b[n];if(q.selector===m.selector&&(!s||s.test(m.namespace))&&!q.elem.disabled){g=q.elem;t=null;if(m.preType==="mouseenter"||m.preType==="mouseleave"){l.type=m.preType;t=bD(l.relatedTarget).closest(m.selector)[0]}if(!t||t!==g){f.push({elem:g,handleObj:m,level:q.level})}}}}for(h=0,o=f.length;h<o;h++){v=f[h];if(a&&v.level>a){break}l.currentTarget=v.elem;l.data=v.handleObj.data;l.handleObj=v.handleObj;d=v.handleObj.origHandler.apply(v.elem,arguments);if(d===false||l.isPropagationStopped()){a=v.level;if(d===false){p=false}if(l.isImmediatePropagationStopped()){break}}}return p}function br(b,a){return(b&&b!=="*"?b+".":"")+a.replace(bX,"`").replace(cv,"&")}bD.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(b,a){bD.fn[a]=function(c,d){if(d==null){d=c;c=null}return arguments.length>0?this.bind(a,c,d):this.trigger(a)};if(bD.attrFn){bD.attrFn[a]=true}});(function(){var l=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,h=0,d=Object.prototype.toString,u=false,w=true,g=/\\/g,o=/\W/;[0,0].sort(function(){w=false;return 0});var a=function(K,H,G,F){G=G||[];H=H||ci;var D=H;if(H.nodeType!==1&&H.nodeType!==9){return[]}if(!K||typeof K!=="string"){return G}var N,B,y,O,C,z,A,I,L=true,M=a.isXML(H),J=[],E=K;do{l.exec("");N=l.exec(E);if(N){E=N[3];J.push(N[1]);if(N[2]){O=N[3];break}}}while(N);if(J.length>1&&s.exec(K)){if(J.length===2&&p.relative[J[0]]){B=v(J[0]+J[1],H)}else{B=p.relative[J[0]]?[H]:a(J.shift(),H);while(J.length){K=J.shift();if(p.relative[K]){K+=J.shift()}B=v(K,B)}}}else{if(!F&&J.length>1&&H.nodeType===9&&!M&&p.match.ID.test(J[0])&&!p.match.ID.test(J[J.length-1])){C=a.find(J.shift(),H,M);H=C.expr?a.filter(C.expr,C.set)[0]:C.set[0]}if(H){C=F?{expr:J.pop(),set:n(F)}:a.find(J.pop(),J.length===1&&(J[0]==="~"||J[0]==="+")&&H.parentNode?H.parentNode:H,M);B=C.expr?a.filter(C.expr,C.set):C.set;if(J.length>0){y=n(B)}else{L=false}while(J.length){z=J.pop();A=z;if(!p.relative[z]){z=""}else{A=J.pop()}if(A==null){A=H}p.relative[z](y,A,M)}}else{y=J=[]}}if(!y){y=B}if(!y){a.error(z||K)}if(d.call(y)==="[object Array]"){if(!L){G.push.apply(G,y)}else{if(H&&H.nodeType===1){for(I=0;y[I]!=null;I++){if(y[I]&&(y[I]===true||y[I].nodeType===1&&a.contains(H,y[I]))){G.push(B[I])}}}else{for(I=0;y[I]!=null;I++){if(y[I]&&y[I].nodeType===1){G.push(B[I])}}}}}else{n(y,G)}if(O){a(O,D,G,F);a.uniqueSort(G)}return G};a.uniqueSort=function(y){if(f){u=w;y.sort(f);if(u){for(var z=1;z<y.length;z++){if(y[z]===y[z-1]){y.splice(z--,1)}}}}return y};a.matches=function(z,y){return a(z,null,null,y)};a.matchesSelector=function(z,y){return a(y,null,null,[z]).length>0};a.find=function(A,z,y){var B;if(!A){return[]}for(var E=0,F=p.order.length;E<F;E++){var D,C=p.order[E];if((D=p.leftMatch[C].exec(A))){var G=D[1];D.splice(1,1);if(G.substr(G.length-1)!=="\\"){D[1]=(D[1]||"").replace(g,"");B=p.find[C](D,z,y);if(B!=null){A=A.replace(p.match[C],"");break}}}}if(!B){B=typeof z.getElementsByTagName!=="undefined"?z.getElementsByTagName("*"):[]}return{set:B,expr:A}};a.filter=function(D,E,A,L){var J,H,N=D,y=[],G=E,I=E&&E[0]&&a.isXML(E[0]);while(D&&E.length){for(var F in p.filter){if((J=p.leftMatch[F].exec(D))!=null&&J[2]){var z,B,O=p.filter[F],M=J[1];H=false;J.splice(1,1);if(M.substr(M.length-1)==="\\"){continue}if(G===y){y=[]}if(p.preFilter[F]){J=p.preFilter[F](J,G,A,y,L,I);if(!J){H=z=true}else{if(J===true){continue}}}if(J){for(var K=0;(B=G[K])!=null;K++){if(B){z=O(B,J,K,G);var C=L^!!z;if(A&&z!=null){if(C){H=true}else{G[K]=false}}else{if(C){y.push(B);H=true}}}}}if(z!==b1){if(!A){G=y}D=D.replace(p.match[F],"");if(!H){return[]}break}}}if(D===N){if(H==null){a.error(D)}else{break}}N=D}return G};a.error=function(y){throw"Syntax error, unrecognized expression: "+y};var p=a.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(y){return y.getAttribute("href")},type:function(y){return y.getAttribute("type")}},relative:{"+":function(y,D){var B=typeof D==="string",z=B&&!o.test(D),F=B&&!z;if(z){D=D.toLowerCase()}for(var C=0,E=y.length,A;C<E;C++){if((A=y[C])){while((A=A.previousSibling)&&A.nodeType!==1){}y[C]=F||A&&A.nodeName.toLowerCase()===D?A||false:A===D}}if(F){a.filter(D,y,true)}},">":function(y,D){var z,A=typeof D==="string",C=0,E=y.length;if(A&&!o.test(D)){D=D.toLowerCase();for(;C<E;C++){z=y[C];if(z){var B=z.parentNode;y[C]=B.nodeName.toLowerCase()===D?B:false}}}else{for(;C<E;C++){z=y[C];if(z){y[C]=A?z.parentNode:z.parentNode===D}}if(A){a.filter(D,y,true)}}},"":function(A,C,y){var z,B=h++,D=t;if(typeof C==="string"&&!o.test(C)){C=C.toLowerCase();z=C;D=c}D("parentNode",C,B,A,z,y)},"~":function(A,C,y){var z,B=h++,D=t;if(typeof C==="string"&&!o.test(C)){C=C.toLowerCase();z=C;D=c}D("previousSibling",C,B,A,z,y)}},find:{ID:function(A,z,y){if(typeof z.getElementById!=="undefined"&&!y){var B=z.getElementById(A[1]);return B&&B.parentNode?[B]:[]}},NAME:function(B,y){if(typeof y.getElementsByName!=="undefined"){var C=[],z=y.getElementsByName(B[1]);for(var A=0,D=z.length;A<D;A++){if(z[A].getAttribute("name")===B[1]){C.push(z[A])}}return C.length===0?null:C}},TAG:function(z,y){if(typeof y.getElementsByTagName!=="undefined"){return y.getElementsByTagName(z[1])}}},preFilter:{CLASS:function(B,D,C,E,y,F){B=" "+B[1].replace(g,"")+" ";if(F){return B}for(var A=0,z;(z=D[A])!=null;A++){if(z){if(y^(z.className&&(" "+z.className+" ").replace(/[\t\n\r]/g," ").indexOf(B)>=0)){if(!C){E.push(z)}}else{if(C){D[A]=false}}}}return false},ID:function(y){return y[1].replace(g,"")},TAG:function(y,z){return y[1].replace(g,"").toLowerCase()},CHILD:function(z){if(z[1]==="nth"){if(!z[2]){a.error(z[0])}z[2]=z[2].replace(/^\+|\s*/g,"");var y=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(z[2]==="even"&&"2n"||z[2]==="odd"&&"2n+1"||!/\D/.test(z[2])&&"0n+"+z[2]||z[2]);z[2]=(y[1]+(y[2]||1))-0;z[3]=y[3]-0}else{if(z[2]){a.error(z[0])}}z[0]=h++;return z},ATTR:function(A,D,C,E,z,y){var B=A[1]=A[1].replace(g,"");if(!y&&p.attrMap[B]){A[1]=p.attrMap[B]}A[4]=(A[4]||A[5]||"").replace(g,"");if(A[2]==="~="){A[4]=" "+A[4]+" "}return A},PSEUDO:function(z,C,B,D,y){if(z[1]==="not"){if((l.exec(z[3])||"").length>1||/^\w/.test(z[3])){z[3]=a(z[3],null,null,C)}else{var A=a.filter(z[3],C,B,true^y);if(!B){D.push.apply(D,A)}return false}}else{if(p.match.POS.test(z[0])||p.match.CHILD.test(z[0])){return true}}return z},POS:function(y){y.unshift(true);return y}},filters:{enabled:function(y){return y.disabled===false&&y.type!=="hidden"},disabled:function(y){return y.disabled===true},checked:function(y){return y.checked===true},selected:function(y){if(y.parentNode){y.parentNode.selectedIndex}return y.selected===true},parent:function(y){return !!y.firstChild},empty:function(y){return !y.firstChild},has:function(y,z,A){return !!a(A[3],y).length},header:function(y){return(/h\d/i).test(y.nodeName)},text:function(y){var A=y.getAttribute("type"),z=y.type;return"text"===z&&(A===z||A===null)},radio:function(y){return"radio"===y.type},checkbox:function(y){return"checkbox"===y.type},file:function(y){return"file"===y.type},password:function(y){return"password"===y.type},submit:function(y){return"submit"===y.type},image:function(y){return"image"===y.type},reset:function(y){return"reset"===y.type},button:function(y){return"button"===y.type||y.nodeName.toLowerCase()==="button"},input:function(y){return(/input|select|textarea|button/i).test(y.nodeName)}},setFilters:{first:function(y,z){return z===0},last:function(z,A,B,y){return A===y.length-1},even:function(y,z){return z%2===0},odd:function(y,z){return z%2===1},lt:function(y,z,A){return z<A[3]-0},gt:function(y,z,A){return z>A[3]-0},nth:function(y,z,A){return A[3]-0===z},eq:function(y,z,A){return A[3]-0===z}},filter:{PSEUDO:function(F,A,B,y){var z=A[1],G=p.filters[z];if(G){return G(F,B,A,y)}else{if(z==="contains"){return(F.textContent||F.innerText||a.getText([F])||"").indexOf(A[3])>=0}else{if(z==="not"){var E=A[3];for(var C=0,D=E.length;C<D;C++){if(E[C]===F){return false}}return true}else{a.error(z)}}}},CHILD:function(A,F){var C=F[1],H=A;switch(C){case"only":case"first":while((H=H.previousSibling)){if(H.nodeType===1){return false}}if(C==="first"){return true}H=A;case"last":while((H=H.nextSibling)){if(H.nodeType===1){return false}}return true;case"nth":var G=F[2],y=F[3];if(G===1&&y===0){return true}var D=F[0],z=A.parentNode;if(z&&(z.sizcache!==D||!A.nodeIndex)){var E=0;for(H=z.firstChild;H;H=H.nextSibling){if(H.nodeType===1){H.nodeIndex=++E}}z.sizcache=D}var B=A.nodeIndex-y;if(G===0){return B===0}else{return(B%G===0&&B/G>=0)}}},ID:function(y,z){return y.nodeType===1&&y.getAttribute("id")===z},TAG:function(y,z){return(z==="*"&&y.nodeType===1)||y.nodeName.toLowerCase()===z},CLASS:function(y,z){return(" "+(y.className||y.getAttribute("class"))+" ").indexOf(z)>-1},ATTR:function(z,B){var C=B[1],E=p.attrHandle[C]?p.attrHandle[C](z):z[C]!=null?z[C]:z.getAttribute(C),y=E+"",A=B[2],D=B[4];return E==null?A==="!=":A==="="?y===D:A==="*="?y.indexOf(D)>=0:A==="~="?(" "+y+" ").indexOf(D)>=0:!D?y&&E!==false:A==="!="?y!==D:A==="^="?y.indexOf(D)===0:A==="$="?y.substr(y.length-D.length)===D:A==="|="?y===D||y.substr(0,D.length+1)===D+"-":false},POS:function(z,C,B,y){var D=C[2],A=p.setFilters[D];if(A){return A(z,B,C,y)}}}};var s=p.match.POS,b=function(y,z){return"\\"+(z-0+1)};for(var x in p.match){p.match[x]=new RegExp(p.match[x].source+(/(?![^\[]*\])(?![^\(]*\))/.source));p.leftMatch[x]=new RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[x].source.replace(/\\(\d+)/g,b))}var n=function(y,z){y=Array.prototype.slice.call(y,0);if(z){z.push.apply(z,y);return z}return y};try{Array.prototype.slice.call(ci.documentElement.childNodes,0)[0].nodeType}catch(q){n=function(y,z){var A=0,B=z||[];if(d.call(y)==="[object Array]"){Array.prototype.push.apply(B,y)}else{if(typeof y.length==="number"){for(var C=y.length;A<C;A++){B.push(y[A])}}else{for(;y[A];A++){B.push(y[A])}}}return B}}var f,m;if(ci.documentElement.compareDocumentPosition){f=function(y,z){if(y===z){u=true;return 0}if(!y.compareDocumentPosition||!z.compareDocumentPosition){return y.compareDocumentPosition?-1:1}return y.compareDocumentPosition(z)&4?-1:1}}else{f=function(z,B){var D,H,G=[],A=[],E=z.parentNode,C=B.parentNode,y=E;if(z===B){u=true;return 0}else{if(E===C){return m(z,B)}else{if(!E){return -1}else{if(!C){return 1}}}}while(y){G.unshift(y);y=y.parentNode}y=C;while(y){A.unshift(y);y=y.parentNode}D=G.length;H=A.length;for(var F=0;F<D&&F<H;F++){if(G[F]!==A[F]){return m(G[F],A[F])}}return F===D?m(z,A[F],-1):m(G[F],B,1)};m=function(A,B,z){if(A===B){return z}var y=A.nextSibling;while(y){if(y===B){return -1}y=y.nextSibling}return 1}}a.getText=function(B){var A="",y;for(var z=0;B[z];z++){y=B[z];if(y.nodeType===3||y.nodeType===4){A+=y.nodeValue}else{if(y.nodeType!==8){A+=a.getText(y.childNodes)}}}return A};(function(){var z=ci.createElement("div"),y="script"+(new Date()).getTime(),A=ci.documentElement;z.innerHTML="<a name='"+y+"'/>";A.insertBefore(z,A.firstChild);if(ci.getElementById(y)){p.find.ID=function(D,C,B){if(typeof C.getElementById!=="undefined"&&!B){var E=C.getElementById(D[1]);return E?E.id===D[1]||typeof E.getAttributeNode!=="undefined"&&E.getAttributeNode("id").nodeValue===D[1]?[E]:b1:[]}};p.filter.ID=function(B,D){var C=typeof B.getAttributeNode!=="undefined"&&B.getAttributeNode("id");return B.nodeType===1&&C&&C.nodeValue===D}}A.removeChild(z);A=z=null})();(function(){var y=ci.createElement("div");y.appendChild(ci.createComment(""));if(y.getElementsByTagName("*").length>0){p.find.TAG=function(D,z){var A=z.getElementsByTagName(D[1]);if(D[1]==="*"){var B=[];for(var C=0;A[C];C++){if(A[C].nodeType===1){B.push(A[C])}}A=B}return A}}y.innerHTML="<a href='#'></a>";if(y.firstChild&&typeof y.firstChild.getAttribute!=="undefined"&&y.firstChild.getAttribute("href")!=="#"){p.attrHandle.href=function(z){return z.getAttribute("href",2)}}y=null})();if(ci.querySelectorAll){(function(){var B=a,y=ci.createElement("div"),z="__sizzle__";y.innerHTML="<p class='TEST'></p>";if(y.querySelectorAll&&y.querySelectorAll(".TEST").length===0){return}a=function(E,N,J,F){N=N||ci;if(!F&&!a.isXML(N)){var G=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(E);if(G&&(N.nodeType===1||N.nodeType===9)){if(G[1]){return n(N.getElementsByTagName(E),J)}else{if(G[2]&&p.find.CLASS&&N.getElementsByClassName){return n(N.getElementsByClassName(G[2]),J)}}}if(N.nodeType===9){if(E==="body"&&N.body){return n([N.body],J)}else{if(G&&G[3]){var K=N.getElementById(G[3]);if(K&&K.parentNode){if(K.id===G[3]){return n([K],J)}}else{return n([],J)}}}try{return n(N.querySelectorAll(E),J)}catch(I){}}else{if(N.nodeType===1&&N.nodeName.toLowerCase()!=="object"){var M=N,L=N.getAttribute("id"),O=L||z,C=N.parentNode,D=/^\s*[+~]/.test(E);if(!L){N.setAttribute("id",O)}else{O=O.replace(/'/g,"\\$&")}if(D&&C){N=N.parentNode}try{if(!D||C){return n(N.querySelectorAll("[id='"+O+"'] "+E),J)}}catch(H){}finally{if(!L){M.removeAttribute("id")}}}}}return B(E,N,J,F)};for(var A in B){a[A]=B[A]}y=null})()}(function(){var C=ci.documentElement,A=C.matchesSelector||C.mozMatchesSelector||C.webkitMatchesSelector||C.msMatchesSelector;if(A){var y=!A.call(ci.createElement("div"),"div"),B=false;try{A.call(ci.documentElement,"[test!='']:sizzle")}catch(z){B=true}a.matchesSelector=function(D,F){F=F.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!a.isXML(D)){try{if(B||!p.match.PSEUDO.test(F)&&!/!=/.test(F)){var E=A.call(D,F);if(E||!y||D.document&&D.document.nodeType!==11){return E}}}catch(G){}}return a(F,null,null,[D]).length>0}}})();(function(){var y=ci.createElement("div");y.innerHTML="<div class='test e'></div><div class='test'></div>";if(!y.getElementsByClassName||y.getElementsByClassName("e").length===0){return}y.lastChild.className="e";if(y.getElementsByClassName("e").length===1){return}p.order.splice(1,0,"CLASS");p.find.CLASS=function(B,A,z){if(typeof A.getElementsByClassName!=="undefined"&&!z){return A.getElementsByClassName(B[1])}};y=null})();function c(H,C,D,y,B,A){for(var F=0,G=y.length;F<G;F++){var z=y[F];if(z){var E=false;z=z[H];while(z){if(z.sizcache===D){E=y[z.sizset];break}if(z.nodeType===1&&!A){z.sizcache=D;z.sizset=F}if(z.nodeName.toLowerCase()===C){E=z;break}z=z[H]}y[F]=E}}}function t(H,C,D,y,B,A){for(var F=0,G=y.length;F<G;F++){var z=y[F];if(z){var E=false;z=z[H];while(z){if(z.sizcache===D){E=y[z.sizset];break}if(z.nodeType===1){if(!A){z.sizcache=D;z.sizset=F}if(typeof C!=="string"){if(z===C){E=true;break}}else{if(a.filter(C,[z]).length>0){E=z;break}}}z=z[H]}y[F]=E}}}if(ci.documentElement.contains){a.contains=function(y,z){return y!==z&&(y.contains?y.contains(z):true)}}else{if(ci.documentElement.compareDocumentPosition){a.contains=function(y,z){return !!(y.compareDocumentPosition(z)&16)}}else{a.contains=function(){return false}}}a.isXML=function(z){var y=(z?z.ownerDocument||z:0).documentElement;return y?y.nodeName!=="HTML":false};var v=function(E,F){var z,B=[],A="",C=F.nodeType?[F]:F;while((z=p.match.PSEUDO.exec(E))){A+=z[0];E=E.replace(p.match.PSEUDO,"")}E=p.relative[E]?E+"*":E;for(var y=0,D=C.length;y<D;y++){a(E,C[y],B)}return a.filter(A,B)};bD.find=a;bD.expr=a.selectors;bD.expr[":"]=bD.expr.filters;bD.unique=a.uniqueSort;bD.text=a.getText;bD.isXMLDoc=a.isXML;bD.contains=a.contains})();var cz=/Until$/,cn=/^(?:parents|prevUntil|prevAll)/,c8=/,/,bK=/^.[^:#\[\.,]*$/,bT=Array.prototype.slice,b3=bD.expr.match.POS,cc={children:true,contents:true,next:true,prev:true};bD.fn.extend({find:function(f){var g=this.pushStack("","find",f),b=0;for(var d=0,h=this.length;d<h;d++){b=g.length;bD.find(f,this[d],g);if(d>0){for(var a=b;a<g.length;a++){for(var c=0;c<b;c++){if(g[c]===g[a]){g.splice(a--,1);break}}}}}return g},has:function(b){var a=bD(b);return this.filter(function(){for(var c=0,d=a.length;c<d;c++){if(bD.contains(this,a[c])){return true}}})},not:function(a){return this.pushStack(c0(this,a,false),"not",a)},filter:function(a){return this.pushStack(c0(this,a,true),"filter",a)},is:function(a){return !!a&&bD.filter(a,this).length>0},closest:function(h,f){var n=[],b,d,l=this[0];if(bD.isArray(h)){var o,c,a={},g=1;if(l&&h.length){for(b=0,d=h.length;b<d;b++){c=h[b];if(!a[c]){a[c]=bD.expr.match.POS.test(c)?bD(c,f||this.context):c}}while(l&&l.ownerDocument&&l!==f){for(c in a){o=a[c];if(o.jquery?o.index(l)>-1:bD(l).is(o)){n.push({selector:c,elem:l,level:g})}}l=l.parentNode;g++}}return n}var m=b3.test(h)?bD(h,f||this.context):null;for(b=0,d=this.length;b<d;b++){l=this[b];while(l){if(m?m.index(l)>-1:bD.find.matchesSelector(l,h)){n.push(l);break}else{l=l.parentNode;if(!l||!l.ownerDocument||l===f){break}}}}n=n.length>1?bD.unique(n):n;return this.pushStack(n,"closest",h)},index:function(a){if(!a||typeof a==="string"){return bD.inArray(this[0],a?bD(a):this.parent().children())}return bD.inArray(a.jquery?a[0]:a,this)},add:function(b,d){var a=typeof b==="string"?bD(b,d):bD.makeArray(b),c=bD.merge(this.get(),a);return this.pushStack(ca(a[0])||ca(c[0])?c:bD.unique(c))},andSelf:function(){return this.add(this.prevObject)}});function ca(a){return !a||!a.parentNode||a.parentNode.nodeType===11}bD.each({parent:function(b){var a=b.parentNode;return a&&a.nodeType!==11?a:null},parents:function(a){return bD.dir(a,"parentNode")},parentsUntil:function(c,a,b){return bD.dir(c,"parentNode",b)},next:function(a){return bD.nth(a,2,"nextSibling")},prev:function(a){return bD.nth(a,2,"previousSibling")},nextAll:function(a){return bD.dir(a,"nextSibling")},prevAll:function(a){return bD.dir(a,"previousSibling")},nextUntil:function(c,a,b){return bD.dir(c,"nextSibling",b)},prevUntil:function(c,a,b){return bD.dir(c,"previousSibling",b)},siblings:function(a){return bD.sibling(a.parentNode.firstChild,a)},children:function(a){return bD.sibling(a.firstChild)},contents:function(a){return bD.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:bD.makeArray(a.childNodes)}},function(a,b){bD.fn[a]=function(c,g){var d=bD.map(this,b,c),f=bT.call(arguments);if(!cz.test(a)){g=c}if(g&&typeof g==="string"){d=bD.filter(g,d)}d=this.length>1&&!cc[a]?bD.unique(d):d;if((this.length>1||c8.test(g))&&cn.test(a)){d=d.reverse()}return this.pushStack(d,a,f.join(","))}});bD.extend({filter:function(b,a,c){if(c){b=":not("+b+")"}return a.length===1?bD.find.matchesSelector(a[0],b)?[a[0]]:[]:bD.find.matches(b,a)},dir:function(d,f,a){var c=[],b=d[f];while(b&&b.nodeType!==9&&(a===b1||b.nodeType!==1||!bD(b).is(a))){if(b.nodeType===1){c.push(b)}b=b[f]}return c},nth:function(a,c,d,b){c=c||1;var f=0;for(;a;a=a[d]){if(a.nodeType===1&&++f===c){break}}return a},sibling:function(b,c){var a=[];for(;b;b=b.nextSibling){if(b.nodeType===1&&b!==c){a.push(b)}}return a}});function c0(b,c,a){if(bD.isFunction(c)){return bD.grep(b,function(g,h){var f=!!c.call(g,h,g);return f===a})}else{if(c.nodeType){return bD.grep(b,function(f,g){return(f===c)===a})}else{if(typeof c==="string"){var d=bD.grep(b,function(f){return f.nodeType===1});if(bK.test(c)){return bD.filter(c,d,!a)}else{c=bD.filter(c,d)}}}}return bD.grep(b,function(f,g){return(bD.inArray(f,c)>=0)===a})}var cu=/ jQuery\d+="(?:\d+|null)"/g,cm=/^\s+/,bP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,bB=/<([\w:]+)/,ck=/<tbody/i,cC=/<|&#?\w+;/,bV=/<(?:script|object|embed|option|style)/i,bs=/checked\s*(?:[^=]|=\s*.checked.)/i,ce={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};ce.optgroup=ce.option;ce.tbody=ce.tfoot=ce.colgroup=ce.caption=ce.thead;ce.th=ce.td;if(!bD.support.htmlSerialize){ce._default=[1,"div<div>","</div>"]}bD.fn.extend({text:function(a){if(bD.isFunction(a)){return this.each(function(b){var c=bD(this);c.text(a.call(this,b,c.text()))})}if(typeof a!=="object"&&a!==b1){return this.empty().append((this[0]&&this[0].ownerDocument||ci).createTextNode(a))}return bD.text(this)},wrapAll:function(a){if(bD.isFunction(a)){return this.each(function(c){bD(this).wrapAll(a.call(this,c))})}if(this[0]){var b=bD(a,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b.insertBefore(this[0])}b.map(function(){var c=this;while(c.firstChild&&c.firstChild.nodeType===1){c=c.firstChild}return c}).append(this)}return this},wrapInner:function(a){if(bD.isFunction(a)){return this.each(function(b){bD(this).wrapInner(a.call(this,b))})}return this.each(function(){var c=bD(this),b=c.contents();if(b.length){b.wrapAll(a)}else{c.append(a)}})},wrap:function(a){return this.each(function(){bD(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){if(!bD.nodeName(this,"body")){bD(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(a){if(this.nodeType===1){this.appendChild(a)}})},prepend:function(){return this.domManip(arguments,true,function(a){if(this.nodeType===1){this.insertBefore(a,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this)})}else{if(arguments.length){var a=bD(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this.nextSibling)})}else{if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,bD(arguments[0]).toArray());return a}}},remove:function(b,a){for(var d=0,c;(c=this[d])!=null;d++){if(!b||bD.filter(b,[c]).length){if(!a&&c.nodeType===1){bD.cleanData(c.getElementsByTagName("*"));bD.cleanData([c])}if(c.parentNode){c.parentNode.removeChild(c)}}}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){if(b.nodeType===1){bD.cleanData(b.getElementsByTagName("*"))}while(b.firstChild){b.removeChild(b.firstChild)}}return this},clone:function(b,a){b=b==null?false:b;a=a==null?b:a;return this.map(function(){return bD.clone(this,b,a)})},html:function(b){if(b===b1){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(cu,""):null}else{if(typeof b==="string"&&!bV.test(b)&&(bD.support.leadingWhitespace||!cm.test(b))&&!ce[(bB.exec(b)||["",""])[1].toLowerCase()]){b=b.replace(bP,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++){if(this[c].nodeType===1){bD.cleanData(this[c].getElementsByTagName("*"));this[c].innerHTML=b}}}catch(a){this.empty().append(b)}}else{if(bD.isFunction(b)){this.each(function(f){var g=bD(this);g.html(b.call(this,f,g.html()))})}else{this.empty().append(b)}}}return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(bD.isFunction(a)){return this.each(function(b){var c=bD(this),d=c.html();c.replaceWith(a.call(this,b,d))})}if(typeof a!=="string"){a=bD(a).detach()}return this.each(function(){var b=this.nextSibling,c=this.parentNode;bD(this).remove();if(b){bD(b).before(a)}else{bD(c).append(a)}})}else{return this.length?this.pushStack(bD(bD.isFunction(a)?a():a),"replaceWith",a):this}},detach:function(a){return this.remove(a,true)},domManip:function(o,h,l){var c,b,p,m,n=o[0],f=[];if(!bD.support.checkClone&&arguments.length===3&&typeof n==="string"&&bs.test(n)){return this.each(function(){bD(this).domManip(o,h,l,true)})}if(bD.isFunction(n)){return this.each(function(q){var s=bD(this);o[0]=n.call(this,q,h?s.html():b1);s.domManip(o,h,l)})}if(this[0]){m=n&&n.parentNode;if(bD.support.parentNode&&m&&m.nodeType===11&&m.childNodes.length===this.length){c={fragment:m}}else{c=bD.buildFragment(o,this,f)}p=c.fragment;if(p.childNodes.length===1){b=p=p.firstChild}else{b=p.firstChild}if(b){h=h&&bD.nodeName(b,"tr");for(var d=0,g=this.length,a=g-1;d<g;d++){l.call(h?c7(this[d],b):this[d],c.cacheable||(g>1&&d<a)?bD.clone(p,true,true):p)}}if(f.length){bD.each(f,bM)}}return this}});function c7(a,b){return bD.nodeName(a,"table")?(a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody"))):a}function bm(g,l){if(l.nodeType!==1||!bD.hasData(g)){return}var m=bD.expando,c=bD.data(g),b=bD.data(l,c);if((c=c[m])){var h=c.events;b=b[m]=bD.extend({},c);if(h){delete b.handle;b.events={};for(var a in h){for(var d=0,f=h[a].length;d<f;d++){bD.event.add(l,a+(h[a][d].namespace?".":"")+h[a][d].namespace,h[a][d],h[a][d].data)}}}}}function ct(c,a){if(a.nodeType!==1){return}var b=a.nodeName.toLowerCase();a.clearAttributes();a.mergeAttributes(c);if(b==="object"){a.outerHTML=c.outerHTML}else{if(b==="input"&&(c.type==="checkbox"||c.type==="radio")){if(c.checked){a.defaultChecked=a.checked=c.checked}if(a.value!==c.value){a.value=c.value}}else{if(b==="option"){a.selected=c.defaultSelected}else{if(b==="input"||b==="textarea"){a.defaultValue=c.defaultValue}}}}a.removeAttribute(bD.expando)}bD.buildFragment=function(b,f,h){var c,d,g,a=(f&&f[0]?f[0].ownerDocument||f[0]:ci);if(b.length===1&&typeof b[0]==="string"&&b[0].length<512&&a===ci&&b[0].charAt(0)==="<"&&!bV.test(b[0])&&(bD.support.checkClone||!bs.test(b[0]))){d=true;g=bD.fragments[b[0]];if(g){if(g!==1){c=g}}}if(!c){c=a.createDocumentFragment();bD.clean(b,a,c,h)}if(d){bD.fragments[b[0]]=g?c:1}return{fragment:c,cacheable:d}};bD.fragments={};bD.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){bD.fn[a]=function(m){var g=[],c=bD(m),d=this.length===1&&this[0].parentNode;if(d&&d.nodeType===11&&d.childNodes.length===1&&c.length===1){c[b](this[0]);return this}else{for(var f=0,l=c.length;f<l;f++){var h=(f>0?this.clone(true):this).get();bD(c[f])[b](h);g=g.concat(h)}return this.pushStack(g,a,c.selector)}}});function c3(a){if("getElementsByTagName" in a){return a.getElementsByTagName("*")}else{if("querySelectorAll" in a){return a.querySelectorAll("*")}else{return[]}}}bD.extend({clone:function(c,a,g){var b=c.cloneNode(true),f,h,d;if((!bD.support.noCloneEvent||!bD.support.noCloneChecked)&&(c.nodeType===1||c.nodeType===11)&&!bD.isXMLDoc(c)){ct(c,b);f=c3(c);h=c3(b);for(d=0;f[d];++d){ct(f[d],h[d])}}if(a){bm(c,b);if(g){f=c3(c);h=c3(b);for(d=0;f[d];++d){bm(f[d],h[d])}}}return b},clean:function(d,b,m,s){b=b||ci;if(typeof b.createElement==="undefined"){b=b.ownerDocument||b[0]&&b[0].ownerDocument||ci}var l=[];for(var n=0,a;(a=d[n])!=null;n++){if(typeof a==="number"){a+=""}if(!a){continue}if(typeof a==="string"&&!cC.test(a)){a=b.createTextNode(a)}else{if(typeof a==="string"){a=a.replace(bP,"<$1></$2>");var h=(bB.exec(a)||["",""])[1].toLowerCase(),c=ce[h]||ce._default,o=c[0],f=b.createElement("div");f.innerHTML=c[1]+a+c[2];while(o--){f=f.lastChild}if(!bD.support.tbody){var g=ck.test(a),p=h==="table"&&!g?f.firstChild&&f.firstChild.childNodes:c[1]==="<table>"&&!g?f.childNodes:[];for(var q=p.length-1;q>=0;--q){if(bD.nodeName(p[q],"tbody")&&!p[q].childNodes.length){p[q].parentNode.removeChild(p[q])}}}if(!bD.support.leadingWhitespace&&cm.test(a)){f.insertBefore(b.createTextNode(cm.exec(a)[0]),f.firstChild)}a=f.childNodes}}if(a.nodeType){l.push(a)}else{l=bD.merge(l,a)}}if(m){for(n=0;l[n];n++){if(s&&bD.nodeName(l[n],"script")&&(!l[n].type||l[n].type.toLowerCase()==="text/javascript")){s.push(l[n].parentNode?l[n].parentNode.removeChild(l[n]):l[n])}else{if(l[n].nodeType===1){l.splice.apply(l,[n+1,0].concat(bD.makeArray(l[n].getElementsByTagName("script"))))}m.appendChild(l[n])}}}return l},cleanData:function(f){var b,d,g=bD.cache,h=bD.expando,m=bD.event.special,n=bD.support.deleteExpando;for(var a=0,c;(c=f[a])!=null;a++){if(c.nodeName&&bD.noData[c.nodeName.toLowerCase()]){continue}d=c[bD.expando];if(d){b=g[d]&&g[d][h];if(b&&b.events){for(var l in b.events){if(m[l]){bD.event.remove(c,l)}else{bD.removeEvent(c,l,b.handle)}}if(b.handle){b.handle.elem=null}}if(n){delete c[bD.expando]}else{if(c.removeAttribute){c.removeAttribute(bD.expando)}}delete g[d]}}}});function bM(a,b){if(b.src){bD.ajax({url:b.src,async:false,dataType:"script"})}else{bD.globalEval(b.text||b.textContent||b.innerHTML||"")}if(b.parentNode){b.parentNode.removeChild(b)}}var cr=/alpha\([^)]*\)/i,cl=/opacity=([^)]*)/,cI=/-([a-z])/ig,cg=/([A-Z]|^ms)/g,c5=/^-?\d+(?:px)?$/i,bO=/^-?\d/,c9={position:"absolute",visibility:"hidden",display:"block"},cp=["Left","Right"],cD=["Top","Bottom"],cB,cX,cJ,bt=function(a,b){return b.toUpperCase()};bD.fn.css=function(a,b){if(arguments.length===2&&b===b1){return this}return bD.access(this,a,b,true,function(d,f,c){return c!==b1?bD.style(d,f,c):bD.css(d,f)})};bD.extend({cssHooks:{opacity:{get:function(b,c){if(c){var a=cB(b,"opacity","opacity");return a===""?"1":a}else{return b.style.opacity}}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,zoom:true,lineHeight:true},cssProps:{"float":bD.support.cssFloat?"cssFloat":"styleFloat"},style:function(c,d,h,b){if(!c||c.nodeType===3||c.nodeType===8||!c.style){return}var l,a=bD.camelCase(d),f=c.style,g=bD.cssHooks[a];d=bD.cssProps[a]||a;if(h!==b1){if(typeof h==="number"&&isNaN(h)||h==null){return}if(typeof h==="number"&&!bD.cssNumber[a]){h+="px"}if(!g||!("set" in g)||(h=g.set(c,h))!==b1){try{f[d]=h}catch(m){}}}else{if(g&&"get" in g&&(l=g.get(c,false,b))!==b1){return l}return f[d]}},css:function(a,b,g){var d,f=bD.camelCase(b),c=bD.cssHooks[f];b=bD.cssProps[f]||f;if(c&&"get" in c&&(d=c.get(a,true,g))!==b1){return d}else{if(cB){return cB(a,b,f)}}},swap:function(c,d,a){var b={};for(var f in d){b[f]=c.style[f];c.style[f]=d[f]}a.call(c);for(f in d){c.style[f]=b[f]}},camelCase:function(a){return a.replace(cI,bt)}});bD.curCSS=bD.css;bD.each(["height","width"],function(b,a){bD.cssHooks[a]={get:function(d,f,g){var c;if(f){if(d.offsetWidth!==0){c=bq(d,a,g)}else{bD.swap(d,c9,function(){c=bq(d,a,g)})}if(c<=0){c=cB(d,a,a);if(c==="0px"&&cJ){c=cJ(d,a,a)}if(c!=null){return c===""||c==="auto"?"0px":c}}if(c<0||c==null){c=d.style[a];return c===""||c==="auto"?"0px":c}return typeof c==="string"?c:c+"px"}},set:function(d,c){if(c5.test(c)){c=parseFloat(c);if(c>=0){return c+"px"}}else{return c}}}});if(!bD.support.opacity){bD.cssHooks.opacity={get:function(b,a){return cl.test((a&&b.currentStyle?b.currentStyle.filter:b.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":a?"1":""},set:function(c,a){var d=c.style;d.zoom=1;var b=bD.isNaN(a)?"":"alpha(opacity="+a*100+")",f=d.filter||"";d.filter=cr.test(f)?f.replace(cr,b):d.filter+" "+b}}}bD(function(){if(!bD.support.reliableMarginRight){bD.cssHooks.marginRight={get:function(b,c){var a;bD.swap(b,{display:"inline-block"},function(){if(c){a=cB(b,"margin-right","marginRight")}else{a=b.style.marginRight}});return a}}}});if(ci.defaultView&&ci.defaultView.getComputedStyle){cX=function(a,d,c){var f,b,g;c=c.replace(cg,"-$1").toLowerCase();if(!(b=a.ownerDocument.defaultView)){return b1}if((g=b.getComputedStyle(a,null))){f=g.getPropertyValue(c);if(f===""&&!bD.contains(a.ownerDocument.documentElement,a)){f=bD.style(a,c)}}return f}}if(ci.documentElement.currentStyle){cJ=function(b,f){var a,g=b.currentStyle&&b.currentStyle[f],d=b.runtimeStyle&&b.runtimeStyle[f],c=b.style;if(!c5.test(g)&&bO.test(g)){a=c.left;if(d){b.runtimeStyle.left=b.currentStyle.left}c.left=f==="fontSize"?"1em":(g||0);g=c.pixelLeft+"px";c.left=a;if(d){b.runtimeStyle.left=d}}return g===""?"auto":g}}cB=cX||cJ;function bq(d,f,c){var a=f==="width"?cp:cD,b=f==="width"?d.offsetWidth:d.offsetHeight;if(c==="border"){return b}bD.each(a,function(){if(!c){b-=parseFloat(bD.css(d,"padding"+this))||0}if(c==="margin"){b+=parseFloat(bD.css(d,"margin"+this))||0}else{b-=parseFloat(bD.css(d,"border"+this+"Width"))||0}});return b}if(bD.expr&&bD.expr.filters){bD.expr.filters.hidden=function(b){var c=b.offsetWidth,a=b.offsetHeight;return(c===0&&a===0)||(!bD.support.reliableHiddenOffsets&&(b.style.display||bD.css(b,"display"))==="none")};bD.expr.filters.visible=function(a){return !bD.expr.filters.hidden(a)}}var bw=/%20/g,co=/\[\]$/,bG=/\r?\n/g,bJ=/#.*$/,b6=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,cG=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,cT=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/,cR=/^(?:GET|HEAD)$/,bC=/^\/\//,b0=/\?/,da=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bp=/^(?:select|textarea)/i,by=/\s+/,bH=/([?&])_=[^&]*/,bI=/(^|\-)([a-z])/g,cL=function(c,a,b){return a+b.toUpperCase()},b2=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,cd=bD.fn.load,cA={},bo={},c1,bn;try{c1=ci.location.href}catch(cf){c1=ci.createElement("a");c1.href="";c1=c1.href}bn=b2.exec(c1.toLowerCase())||[];function bA(a){return function(g,d){if(typeof g!=="string"){d=g;g="*"}if(bD.isFunction(d)){var h=g.toLowerCase().split(by),l=0,f=h.length,m,c,b;for(;l<f;l++){m=h[l];b=/^\+/.test(m);if(b){m=m.substr(1)||"*"}c=a[m]=a[m]||[];c[b?"unshift":"push"](d)}}}}function cM(f,h,a,l,n,c){n=n||h.dataTypes[0];c=c||{};c[n]=true;var o=f[n],d=0,g=o?o.length:0,b=(f===cA),m;for(;d<g&&(b||!m);d++){m=o[d](h,a,l);if(typeof m==="string"){if(!b||c[m]){m=b1}else{h.dataTypes.unshift(m);m=cM(f,h,a,l,m,c)}}}if((b||!m)&&!c["*"]){m=cM(f,h,a,l,"*",c)}return m}bD.fn.extend({load:function(g,b,a){if(typeof g!=="string"&&cd){return cd.apply(this,arguments)}else{if(!this.length){return this}}var c=g.indexOf(" ");if(c>=0){var f=g.slice(c,g.length);g=g.slice(0,c)}var d="GET";if(b){if(bD.isFunction(b)){a=b;b=b1}else{if(typeof b==="object"){b=bD.param(b,bD.ajaxSettings.traditional);d="POST"}}}var h=this;bD.ajax({url:g,type:d,dataType:"html",data:b,complete:function(m,n,l){l=m.responseText;if(m.isResolved()){m.done(function(o){l=o});h.html(f?bD("<div>").append(l.replace(da,"")).find(f):l)}if(a){h.each(a,[l,n,m])}}});return this},serialize:function(){return bD.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?bD.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bp.test(this.nodeName)||cG.test(this.type))}).map(function(a,c){var b=bD(this).val();return b==null?null:bD.isArray(b)?bD.map(b,function(d,f){return{name:c.name,value:d.replace(bG,"\r\n")}}):{name:c.name,value:b.replace(bG,"\r\n")}}).get()}});bD.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){bD.fn[b]=function(c){return this.bind(b,c)}});bD.each(["get","post"],function(a,b){bD[b]=function(g,d,c,f){if(bD.isFunction(d)){f=f||c;c=d;d=b1}return bD.ajax({type:b,url:g,data:d,success:c,dataType:f})}});bD.extend({getScript:function(a,b){return bD.get(a,b1,b,"script")},getJSON:function(a,c,b){return bD.get(a,c,b,"json")},ajaxSetup:function(b,a){if(!a){a=b;b=bD.extend(true,bD.ajaxSettings,a)}else{bD.extend(true,b,bD.ajaxSettings,a)}for(var c in {context:1,url:1}){if(c in a){b[c]=a[c]}else{if(c in bD.ajaxSettings){b[c]=bD.ajaxSettings[c]}}}return b},ajaxSettings:{url:c1,isLocal:cT.test(bn[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":c6.String,"text html":true,"text json":bD.parseJSON,"text xml":bD.parseXML}},ajaxPrefilter:bA(cA),ajaxTransport:bA(bo),ajax:function(A,a){if(typeof A==="object"){a=A;A=b1}a=a||{};var s=bD.ajaxSetup({},a),h=s.context||s,l=h!==s&&(h.nodeType||h instanceof bD)?bD(h):bD.event,n=bD.Deferred(),t=bD._Deferred(),w=s.statusCode||{},u,g={},o,B,y,p,f,x=0,b,z,d={readyState:0,setRequestHeader:function(D,C){if(!x){g[D.toLowerCase().replace(bI,cL)]=C}return this},getAllResponseHeaders:function(){return x===2?o:null},getResponseHeader:function(C){var D;if(x===2){if(!B){B={};while((D=b6.exec(o))){B[D[1].toLowerCase()]=D[2]}}D=B[C.toLowerCase()]}return D===b1?null:D},overrideMimeType:function(C){if(!x){s.mimeType=C}return this},abort:function(C){C=C||"abort";if(y){y.abort(C)}m(0,C);return this}};function m(H,J,G,K){if(x===2){return}x=2;if(p){clearTimeout(p)}y=b1;o=K||"";d.readyState=H?4:0;var M,C,D,I=G?bU(s,d,G):b1,L,E;if(H>=200&&H<300||H===304){if(s.ifModified){if((L=d.getResponseHeader("Last-Modified"))){bD.lastModified[u]=L}if((E=d.getResponseHeader("Etag"))){bD.etag[u]=E}}if(H===304){J="notmodified";M=true}else{try{C=b5(s,I);J="success";M=true}catch(F){J="parsererror";D=F}}}else{D=J;if(!J||H){J="error";if(H<0){H=0}}}d.status=H;d.statusText=J;if(M){n.resolveWith(h,[C,J,d])}else{n.rejectWith(h,[d,J,D])}d.statusCode(w);w=b1;if(b){l.trigger("ajax"+(M?"Success":"Error"),[d,s,M?C:D])}t.resolveWith(h,[d,J]);if(b){l.trigger("ajaxComplete",[d,s]);if(!(--bD.active)){bD.event.trigger("ajaxStop")}}}n.promise(d);d.success=d.done;d.error=d.fail;d.complete=t.done;d.statusCode=function(C){if(C){var D;if(x<2){for(D in C){w[D]=[w[D],C[D]]}}else{D=C[d.status];d.then(D,D)}}return this};s.url=((A||s.url)+"").replace(bJ,"").replace(bC,bn[1]+"//");s.dataTypes=bD.trim(s.dataType||"*").toLowerCase().split(by);if(s.crossDomain==null){f=b2.exec(s.url.toLowerCase());s.crossDomain=!!(f&&(f[1]!=bn[1]||f[2]!=bn[2]||(f[3]||(f[1]==="http:"?80:443))!=(bn[3]||(bn[1]==="http:"?80:443))))}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=bD.param(s.data,s.traditional)}cM(cA,s,a,d);if(x===2){return false}b=s.global;s.type=s.type.toUpperCase();s.hasContent=!cR.test(s.type);if(b&&bD.active++===0){bD.event.trigger("ajaxStart")}if(!s.hasContent){if(s.data){s.url+=(b0.test(s.url)?"&":"?")+s.data}u=s.url;if(s.cache===false){var c=bD.now(),q=s.url.replace(bH,"$1_="+c);s.url=q+((q===s.url)?(b0.test(s.url)?"&":"?")+"_="+c:"")}}if(s.data&&s.hasContent&&s.contentType!==false||a.contentType){g["Content-Type"]=s.contentType}if(s.ifModified){u=u||s.url;if(bD.lastModified[u]){g["If-Modified-Since"]=bD.lastModified[u]}if(bD.etag[u]){g["If-None-Match"]=bD.etag[u]}}g.Accept=s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", */*; q=0.01":""):s.accepts["*"];for(z in s.headers){d.setRequestHeader(z,s.headers[z])}if(s.beforeSend&&(s.beforeSend.call(h,d,s)===false||x===2)){d.abort();return false}for(z in {success:1,error:1,complete:1}){d[z](s[z])}y=cM(bo,s,a,d);if(!y){m(-1,"No Transport")}else{d.readyState=1;if(b){l.trigger("ajaxSend",[d,s])}if(s.async&&s.timeout>0){p=setTimeout(function(){d.abort("timeout")},s.timeout)}try{x=1;y.send(g,m)}catch(v){if(status<2){m(-1,v)}else{bD.error(v)}}}return d},param:function(c,d){var f=[],a=function(h,g){g=bD.isFunction(g)?g():g;f[f.length]=encodeURIComponent(h)+"="+encodeURIComponent(g)};if(d===b1){d=bD.ajaxSettings.traditional}if(bD.isArray(c)||(c.jquery&&!bD.isPlainObject(c))){bD.each(c,function(){a(this.name,this.value)})}else{for(var b in c){a0(b,c[b],d,a)}}return f.join("&").replace(bw,"+")}});function a0(d,a,f,c){if(bD.isArray(a)&&a.length){bD.each(a,function(g,h){if(f||co.test(d)){c(d,h)}else{a0(d+"["+(typeof h==="object"||bD.isArray(h)?g:"")+"]",h,f,c)}})}else{if(!f&&a!=null&&typeof a==="object"){if(bD.isArray(a)||bD.isEmptyObject(a)){c(d,"")}else{for(var b in a){a0(d+"["+b+"]",a[b],f,c)}}}else{c(d,a)}}}bD.extend({active:0,lastModified:{},etag:{}});function bU(h,l,a){var f=h.contents,m=h.dataTypes,d=h.responseFields,b,n,c,g;for(n in d){if(n in a){l[d[n]]=a[n]}}while(m[0]==="*"){m.shift();if(b===b1){b=h.mimeType||l.getResponseHeader("content-type")}}if(b){for(n in f){if(f[n]&&f[n].test(b)){m.unshift(n);break}}}if(m[0] in a){c=m[0]}else{for(n in a){if(!m[0]||h.converters[n+" "+m[0]]){c=n;break}if(!g){g=n}}c=c||g}if(c){if(c!==m[0]){m.unshift(c)}return a[c]}}function b5(h,a){if(h.dataFilter){a=h.dataFilter(a,h.dataType)}var o=h.dataTypes,l={},s,n,d=o.length,q,p=o[0],c,b,m,f,g;for(s=1;s<d;s++){if(s===1){for(n in h.converters){if(typeof n==="string"){l[n.toLowerCase()]=h.converters[n]}}}c=p;p=o[s];if(p==="*"){p=c}else{if(c!=="*"&&c!==p){b=c+" "+p;m=l[b]||l["* "+p];if(!m){g=b1;for(f in l){q=f.split(" ");if(q[0]===c||q[0]==="*"){g=l[q[1]+" "+p];if(g){f=l[f];if(f===true){m=g}else{if(g===true){m=f}}break}}}}if(!(m||g)){bD.error("No conversion from "+b.replace(" "," to "))}if(m!==true){a=m?m(a):g(f(a))}}}}return a}var b7=bD.now(),bl=/(\=)\?(&|$)|\?\?/i;bD.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return bD.expando+"_"+(b7++)}});bD.ajaxPrefilter("json jsonp",function(h,o,l){var m=(typeof h.data==="string");if(h.dataTypes[0]==="jsonp"||o.jsonpCallback||o.jsonp!=null||h.jsonp!==false&&(bl.test(h.url)||m&&bl.test(h.data))){var n,d=h.jsonpCallback=bD.isFunction(h.jsonpCallback)?h.jsonpCallback():h.jsonpCallback,a=c6[d],g=h.url,b=h.data,f="$1"+d+"$2",c=function(){c6[d]=a;if(n&&bD.isFunction(a)){c6[d](n[0])}};if(h.jsonp!==false){g=g.replace(bl,f);if(h.url===g){if(m){b=b.replace(bl,f)}if(h.data===b){g+=(/\?/.test(g)?"&":"?")+h.jsonp+"="+d}}}h.url=g;h.data=b;c6[d]=function(p){n=[p]};l.then(c,c);h.converters["script json"]=function(){if(!n){bD.error(d+" was not called")}return n[0]};h.dataTypes[0]="json";return"script"}});bD.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){bD.globalEval(a);return a}}});bD.ajaxPrefilter("script",function(a){if(a.cache===b1){a.cache=false}if(a.crossDomain){a.type="GET";a.global=false}});bD.ajaxTransport("script",function(b){if(b.crossDomain){var a,c=ci.head||ci.getElementsByTagName("head")[0]||ci.documentElement;return{send:function(f,d){a=ci.createElement("script");a.async="async";if(b.scriptCharset){a.charset=b.scriptCharset}a.src=b.url;a.onload=a.onreadystatechange=function(g,h){if(!a.readyState||/loaded|complete/.test(a.readyState)){a.onload=a.onreadystatechange=null;if(c&&a.parentNode){c.removeChild(a)}a=b1;if(!h){d(200,"success")}}};c.insertBefore(a,c.firstChild)},abort:function(){if(a){a.onload(0,1)}}}}});var ch=bD.now(),bY,c2;function cb(){bD(c6).unload(function(){for(var a in bY){bY[a](0,1)}})}function cU(){try{return new c6.XMLHttpRequest()}catch(a){}}function cs(){try{return new c6.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}bD.ajaxSettings.xhr=c6.ActiveXObject?function(){return !this.isLocal&&cU()||cs()}:cU;c2=bD.ajaxSettings.xhr();bD.support.ajax=!!c2;bD.support.cors=c2&&("withCredentials" in c2);c2=b1;if(bD.support.ajax){bD.ajaxTransport(function(a){if(!a.crossDomain||bD.support.cors){var b;return{send:function(c,l){var d=a.xhr(),f,g;if(a.username){d.open(a.type,a.url,a.async,a.username,a.password)}else{d.open(a.type,a.url,a.async)}if(a.xhrFields){for(g in a.xhrFields){d[g]=a.xhrFields[g]}}if(a.mimeType&&d.overrideMimeType){d.overrideMimeType(a.mimeType)}if(!a.crossDomain&&!c["X-Requested-With"]){c["X-Requested-With"]="XMLHttpRequest"}try{for(g in c){d.setRequestHeader(g,c[g])}}catch(h){}d.send((a.hasContent&&a.data)||null);b=function(m,t){var s,u,v,o,p;try{if(b&&(t||d.readyState===4)){b=b1;if(f){d.onreadystatechange=bD.noop;delete bY[f]}if(t){if(d.readyState!==4){d.abort()}}else{s=d.status;v=d.getAllResponseHeaders();o={};p=d.responseXML;if(p&&p.documentElement){o.xml=p}o.text=d.responseText;try{u=d.statusText}catch(n){u=""}if(!s&&a.isLocal&&!a.crossDomain){s=o.text?200:404}else{if(s===1223){s=204}}}}}catch(q){if(!t){l(-1,q)}}if(o){l(s,u,o,v)}};if(!a.async||d.readyState===4){b()}else{if(!bY){bY={};cb()}f=ch++;d.onreadystatechange=bY[f]=b}},abort:function(){if(b){b(0,1)}}}}})}var bQ={},b9=/^(?:toggle|show|hide)$/,cP=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,e,cY=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];bD.fn.extend({show:function(f,a,b){var g,c;if(f||f===0){return this.animate(cE("show",3),f,a,b)}else{for(var h=0,d=this.length;h<d;h++){g=this[h];c=g.style.display;if(!bD._data(g,"olddisplay")&&c==="none"){c=g.style.display=""}if(c===""&&bD.css(g,"display")==="none"){bD._data(g,"olddisplay",cj(g.nodeName))}}for(h=0;h<d;h++){g=this[h];c=g.style.display;if(c===""||c==="none"){g.style.display=bD._data(g,"olddisplay")||""}}return this}},hide:function(f,a,b){if(f||f===0){return this.animate(cE("hide",3),f,a,b)}else{for(var g=0,d=this.length;g<d;g++){var c=bD.css(this[g],"display");if(c!=="none"&&!bD._data(this[g],"olddisplay")){bD._data(this[g],"olddisplay",c)}}for(g=0;g<d;g++){this[g].style.display="none"}return this}},_toggle:bD.fn.toggle,toggle:function(c,d,b){var a=typeof c==="boolean";if(bD.isFunction(c)&&bD.isFunction(d)){this._toggle.apply(this,arguments)}else{if(c==null||a){this.each(function(){var f=a?c:bD(this).is(":hidden");bD(this)[f?"show":"hide"]()})}else{this.animate(cE("toggle",3),c,d,b)}}return this},fadeTo:function(b,a,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:a},b,c,d)},animate:function(a,f,c,d){var b=bD.speed(f,c,d);if(bD.isEmptyObject(a)){return this.each(b.complete)}return this[b.queue===false?"each":"queue"](function(){var n=bD.extend({},b),g,m=this.nodeType===1,l=m&&bD(this).is(":hidden"),p=this;for(g in a){var o=bD.camelCase(g);if(g!==o){a[o]=a[g];delete a[g];g=o}if(a[g]==="hide"&&l||a[g]==="show"&&!l){return n.complete.call(this)}if(m&&(g==="height"||g==="width")){n.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(bD.css(this,"display")==="inline"&&bD.css(this,"float")==="none"){if(!bD.support.inlineBlockNeedsLayout){this.style.display="inline-block"}else{var h=cj(this.nodeName);if(h==="inline"){this.style.display="inline-block"}else{this.style.display="inline";this.style.zoom=1}}}}if(bD.isArray(a[g])){(n.specialEasing=n.specialEasing||{})[g]=a[g][1];a[g]=a[g][0]}}if(n.overflow!=null){this.style.overflow="hidden"}n.curAnim=bD.extend({},a);bD.each(a,function(w,u){var v=new bD.fx(p,n,w);if(b9.test(u)){v[u==="toggle"?l?"show":"hide":u](a)}else{var s=cP.exec(u),q=v.cur();if(s){var x=parseFloat(s[2]),t=s[3]||(bD.cssNumber[w]?"":"px");if(t!=="px"){bD.style(p,w,(x||1)+t);q=((x||1)/v.cur())*q;bD.style(p,w,q+t)}if(s[1]){x=((s[1]==="-="?-1:1)*x)+q}v.custom(q,x,t)}else{v.custom(q,u,"")}}});return true})},stop:function(c,a){var b=bD.timers;if(c){this.queue([])}this.each(function(){for(var d=b.length-1;d>=0;d--){if(b[d].elem===this){if(a){b[d](true)}b.splice(d,1)}}});if(!a){this.dequeue()}return this}});function cE(c,a){var b={};bD.each(cY.concat.apply([],cY.slice(0,a)),function(){b[this]=c});return b}bD.each({slideDown:cE("show",1),slideUp:cE("hide",1),slideToggle:cE("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){bD.fn[a]=function(f,c,d){return this.animate(b,f,c,d)}});bD.extend({speed:function(c,b,d){var a=c&&typeof c==="object"?bD.extend({},c):{complete:d||!d&&b||bD.isFunction(c)&&c,duration:c,easing:d&&b||b&&!bD.isFunction(b)&&b};a.duration=bD.fx.off?0:typeof a.duration==="number"?a.duration:a.duration in bD.fx.speeds?bD.fx.speeds[a.duration]:bD.fx.speeds._default;a.old=a.complete;a.complete=function(){if(a.queue!==false){bD(this).dequeue()}if(bD.isFunction(a.old)){a.old.call(this)}};return a},easing:{linear:function(c,b,a,d){return a+d*c},swing:function(c,b,a,d){return((-Math.cos(c*Math.PI)/2)+0.5)*d+a}},timers:[],fx:function(c,a,b){this.options=a;this.elem=c;this.prop=b;if(!a.orig){a.orig={}}}});bD.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(bD.fx.step[this.prop]||bD.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var a,b=bD.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,b,d){var c=this,f=bD.fx;this.startTime=bD.now();this.start=a;this.end=b;this.unit=d||this.unit||(bD.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;function g(h){return c.step(h)}g.elem=this.elem;if(g()&&bD.timers.push(g)&&!e){e=setInterval(f.tick,f.interval)}},show:function(){this.options.orig[this.prop]=bD.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());bD(this.elem).show()},hide:function(){this.options.orig[this.prop]=bD.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(c){var l=bD.now(),b=true;if(c||l>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var a in this.options.curAnim){if(this.options.curAnim[a]!==true){b=false}}if(b){if(this.options.overflow!=null&&!bD.support.shrinkWrapBlocks){var d=this.elem,h=this.options;bD.each(["","X","Y"],function(p,o){d.style["overflow"+o]=h.overflow[p]})}if(this.options.hide){bD(this.elem).hide()}if(this.options.hide||this.options.show){for(var g in this.options.curAnim){bD.style(this.elem,g,this.options.orig[g])}}this.options.complete.call(this.elem)}return false}else{var f=l-this.startTime;this.state=f/this.options.duration;var n=this.options.specialEasing&&this.options.specialEasing[this.prop];var m=this.options.easing||(bD.easing.swing?"swing":"linear");this.pos=bD.easing[n||m](this.state,f,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};bD.extend(bD.fx,{tick:function(){var b=bD.timers;for(var a=0;a<b.length;a++){if(!b[a]()){b.splice(a--,1)}}if(!b.length){bD.fx.stop()}},interval:13,stop:function(){clearInterval(e);e=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){bD.style(a.elem,"opacity",a.now)},_default:function(a){if(a.elem.style&&a.elem.style[a.prop]!=null){a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit}else{a.elem[a.prop]=a.now}}}});if(bD.expr&&bD.expr.filters){bD.expr.filters.animated=function(a){return bD.grep(bD.timers,function(b){return a===b.elem}).length}}function cj(b){if(!bQ[b]){var a=bD("<"+b+">").appendTo("body"),c=a.css("display");a.remove();if(c==="none"||c===""){c="block"}bQ[b]=c}return bQ[b]}var bF=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;if("getBoundingClientRect" in ci.documentElement){bD.fn.offset=function(g){var b=this[0],q;if(g){return this.each(function(t){bD.offset.setOffset(this,g,t)})}if(!b||!b.ownerDocument){return null}if(b===b.ownerDocument.body){return bD.offset.bodyOffset(b)}try{q=b.getBoundingClientRect()}catch(m){}var h=b.ownerDocument,d=h.documentElement;if(!q||!bD.contains(d,b)){return q?{top:q.top,left:q.left}:{top:0,left:0}}var p=h.body,o=cV(h),s=d.clientTop||p.clientTop||0,n=d.clientLeft||p.clientLeft||0,f=o.pageYOffset||bD.support.boxModel&&d.scrollTop||p.scrollTop,a=o.pageXOffset||bD.support.boxModel&&d.scrollLeft||p.scrollLeft,l=q.top+f-s,c=q.left+a-n;return{top:l,left:c}}}else{bD.fn.offset=function(h){var a=this[0];if(h){return this.each(function(q){bD.offset.setOffset(this,h,q)})}if(!a||!a.ownerDocument){return null}if(a===a.ownerDocument.body){return bD.offset.bodyOffset(a)}bD.offset.initialize();var n,d=a.offsetParent,f=a,l=a.ownerDocument,c=l.documentElement,p=l.body,o=l.defaultView,g=o?o.getComputedStyle(a,null):a.currentStyle,m=a.offsetTop,b=a.offsetLeft;while((a=a.parentNode)&&a!==p&&a!==c){if(bD.offset.supportsFixedPosition&&g.position==="fixed"){break}n=o?o.getComputedStyle(a,null):a.currentStyle;m-=a.scrollTop;b-=a.scrollLeft;if(a===d){m+=a.offsetTop;b+=a.offsetLeft;if(bD.offset.doesNotAddBorder&&!(bD.offset.doesAddBorderForTableAndCells&&bF.test(a.nodeName))){m+=parseFloat(n.borderTopWidth)||0;b+=parseFloat(n.borderLeftWidth)||0}f=d;d=a.offsetParent}if(bD.offset.subtractsBorderForOverflowNotVisible&&n.overflow!=="visible"){m+=parseFloat(n.borderTopWidth)||0;b+=parseFloat(n.borderLeftWidth)||0}g=n}if(g.position==="relative"||g.position==="static"){m+=p.offsetTop;b+=p.offsetLeft}if(bD.offset.supportsFixedPosition&&g.position==="fixed"){m+=Math.max(c.scrollTop,p.scrollTop);b+=Math.max(c.scrollLeft,p.scrollLeft)}return{top:m,left:b}}}bD.offset={initialize:function(){var g=ci.body,l=ci.createElement("div"),d,b,c,a,h=parseFloat(bD.css(g,"marginTop"))||0,f="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";bD.extend(l.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});l.innerHTML=f;g.insertBefore(l,g.firstChild);d=l.firstChild;b=d.firstChild;a=d.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(b.offsetTop!==5);this.doesAddBorderForTableAndCells=(a.offsetTop===5);b.style.position="fixed";b.style.top="20px";this.supportsFixedPosition=(b.offsetTop===20||b.offsetTop===15);b.style.position=b.style.top="";d.style.overflow="hidden";d.style.position="relative";this.subtractsBorderForOverflowNotVisible=(b.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(g.offsetTop!==h);g.removeChild(l);bD.offset.initialize=bD.noop},bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;bD.offset.initialize();if(bD.offset.doesNotIncludeMarginInBodyOffset){b+=parseFloat(bD.css(a,"marginTop"))||0;c+=parseFloat(bD.css(a,"marginLeft"))||0}return{top:b,left:c}},setOffset:function(c,h,q){var p=bD.css(c,"position");if(p==="static"){c.style.position="relative"}var a=bD(c),f=a.offset(),g=bD.css(c,"top"),m=bD.css(c,"left"),l=(p==="absolute"||p==="fixed")&&bD.inArray("auto",[g,m])>-1,n={},o={},d,b;if(l){o=a.position()}d=l?o.top:parseInt(g,10)||0;b=l?o.left:parseInt(m,10)||0;if(bD.isFunction(h)){h=h.call(c,q,f)}if(h.top!=null){n.top=(h.top-f.top)+d}if(h.left!=null){n.left=(h.left-f.left)+b}if("using" in h){h.using.call(c,n)}else{a.css(n)}}};bD.fn.extend({position:function(){if(!this[0]){return null}var c=this[0],d=this.offsetParent(),b=this.offset(),a=cx.test(d[0].nodeName)?{top:0,left:0}:d.offset();b.top-=parseFloat(bD.css(c,"marginTop"))||0;b.left-=parseFloat(bD.css(c,"marginLeft"))||0;a.top+=parseFloat(bD.css(d[0],"borderTopWidth"))||0;a.left+=parseFloat(bD.css(d[0],"borderLeftWidth"))||0;return{top:b.top-a.top,left:b.left-a.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||ci.body;while(a&&(!cx.test(a.nodeName)&&bD.css(a,"position")==="static")){a=a.offsetParent}return a})}});bD.each(["Left","Top"],function(c,a){var b="scroll"+a;bD.fn[b]=function(d){var g=this[0],f;if(!g){return null}if(d!==b1){return this.each(function(){f=cV(this);if(f){f.scrollTo(!c?d:bD(f).scrollLeft(),c?d:bD(f).scrollTop())}else{this[b]=d}})}else{f=cV(g);return f?("pageXOffset" in f)?f[c?"pageYOffset":"pageXOffset"]:bD.support.boxModel&&f.document.documentElement[b]||f.document.body[b]:g[b]}}});function cV(a){return bD.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}bD.each(["Height","Width"],function(c,a){var b=a.toLowerCase();bD.fn["inner"+a]=function(){return this[0]?parseFloat(bD.css(this[0],b,"padding")):null};bD.fn["outer"+a]=function(d){return this[0]?parseFloat(bD.css(this[0],b,d?"margin":"border")):null};bD.fn[b]=function(h){var g=this[0];if(!g){return h==null?null:this}if(bD.isFunction(h)){return this.each(function(m){var n=bD(this);n[b](h.call(this,m,n[b]()))})}if(bD.isWindow(g)){var f=g.document.documentElement["client"+a];return g.document.compatMode==="CSS1Compat"&&f||g.document.body["client"+a]||f}else{if(g.nodeType===9){return Math.max(g.documentElement["client"+a],g.body["scroll"+a],g.documentElement["scroll"+a],g.body["offset"+a],g.documentElement["offset"+a])}else{if(h===b1){var d=bD.css(g,b),l=parseFloat(d);return bD.isNaN(l)?d:l}else{return this.css(b,typeof h==="string"?h:h+"px")}}}}});c6.jQuery=c6.$=bD})(window);(function(f,g){f.ui=f.ui||{};if(f.ui.version){return}f.extend(f.ui,{version:"1.8.17",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});f.fn.extend({propAttr:f.fn.prop||f.fn.attr,_focus:f.fn.focus,focus:function(b,a){return typeof b==="number"?this.each(function(){var c=this;setTimeout(function(){f(c).focus();if(a){a.call(c)}},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;if((f.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){a=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(f.curCSS(this,"position",1))&&(/(auto|scroll)/).test(f.curCSS(this,"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0)}else{a=this.parents().filter(function(){return(/(auto|scroll)/).test(f.curCSS(this,"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!a.length?f(document):a},zIndex:function(a){if(a!==g){return this.css("zIndex",a)}if(this.length){var c=f(this[0]),d,b;while(c.length&&c[0]!==document){d=c.css("position");if(d==="absolute"||d==="relative"||d==="fixed"){b=parseInt(c.css("zIndex"),10);if(!isNaN(b)&&b!==0){return b}}c=c.parent()}}return 0},disableSelection:function(){return this.bind((f.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});f.each(["Width","Height"],function(d,o){var n=o==="Width"?["Left","Right"]:["Top","Bottom"],c=o.toLowerCase(),a={innerWidth:f.fn.innerWidth,innerHeight:f.fn.innerHeight,outerWidth:f.fn.outerWidth,outerHeight:f.fn.outerHeight};function b(m,s,t,l){f.each(n,function(){s-=parseFloat(f.curCSS(m,"padding"+this,true))||0;if(t){s-=parseFloat(f.curCSS(m,"border"+this+"Width",true))||0}if(l){s-=parseFloat(f.curCSS(m,"margin"+this,true))||0}});return s}f.fn["inner"+o]=function(l){if(l===g){return a["inner"+o].call(this)}return this.each(function(){f(this).css(c,b(this,l)+"px")})};f.fn["outer"+o]=function(m,l){if(typeof m!=="number"){return a["outer"+o].call(this,m)}return this.each(function(){f(this).css(c,b(this,m,true,l)+"px")})}});function h(d,o){var a=d.nodeName.toLowerCase();if("area"===a){var b=d.parentNode,c=b.name,n;if(!d.href||!c||b.nodeName.toLowerCase()!=="map"){return false}n=f("img[usemap=#"+c+"]")[0];return !!n&&e(n)}return(/input|select|textarea|button|object/.test(a)?!d.disabled:"a"==a?d.href||o:o)&&e(d)}function e(a){return !f(a).parents().andSelf().filter(function(){return f.curCSS(this,"visibility")==="hidden"||f.expr.filters.hidden(this)}).length}f.extend(f.expr[":"],{data:function(a,b,c){return !!f.data(a,c[3])},focusable:function(a){return h(a,!isNaN(f.attr(a,"tabindex")))},tabbable:function(a){var c=f.attr(a,"tabindex"),b=isNaN(c);return(b||c>=0)&&h(a,!b)}});f(function(){var b=document.body,a=b.appendChild(a=document.createElement("div"));f.extend(a.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});f.support.minHeight=a.offsetHeight===100;f.support.selectstart="onselectstart" in a;b.removeChild(a).style.display="none"});f.extend(f.ui,{plugin:{add:function(d,c,a){var b=f.ui[d].prototype;for(var m in a){b.plugins[m]=b.plugins[m]||[];b.plugins[m].push([c,a[m]])}},call:function(m,c,d){var a=m.plugins[c];if(!a||!m.element[0].parentNode){return}for(var b=0;b<a.length;b++){if(m.options[a[b][0]]){a[b][1].apply(m.element,d)}}}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(a,c){if(f(a).css("overflow")==="hidden"){return false}var d=(c&&c==="left")?"scrollLeft":"scrollTop",b=false;if(a[d]>0){return true}a[d]=1;b=(a[d]>0);a[d]=0;return b},isOverAxis:function(b,c,a){return(b>c)&&(b<(c+a))},isOver:function(a,n,b,c,o,d){return f.ui.isOverAxis(a,b,o)&&f.ui.isOverAxis(n,c,d)}})})(jQuery);(function(e,g){if(e.cleanData){var h=e.cleanData;e.cleanData=function(d){for(var c=0,b;(b=d[c])!=null;c++){try{e(b).triggerHandler("remove")}catch(a){}}h(d)}}else{var f=e.fn.remove;e.fn.remove=function(b,a){return this.each(function(){if(!a){if(!b||e.filter(b,[this]).length){e("*",this).add([this]).each(function(){try{e(this).triggerHandler("remove")}catch(c){}})}}return f.call(e(this),b,a)})}}e.widget=function(n,c,o){var d=n.split(".")[0],a;n=n.split(".")[1];a=d+"-"+n;if(!o){o=c;c=e.Widget}e.expr[":"][a]=function(l){return !!e.data(l,n)};e[d]=e[d]||{};e[d][n]=function(m,l){if(arguments.length){this._createWidget(m,l)}};var b=new c();b.options=e.extend(true,{},b.options);e[d][n].prototype=e.extend(true,b,{namespace:d,widgetName:n,widgetEventPrefix:e[d][n].prototype.widgetEventPrefix||n,widgetBaseClass:a},o);e.widget.bridge(n,e[d][n])};e.widget.bridge=function(a,b){e.fn[a]=function(d){var o=typeof d==="string",n=Array.prototype.slice.call(arguments,1),c=this;d=!o&&n.length?e.extend.apply(null,[true,d].concat(n)):d;if(o&&d.charAt(0)==="_"){return c}if(o){this.each(function(){var m=e.data(this,a),l=m&&e.isFunction(m[d])?m[d].apply(m,n):m;if(l!==m&&l!==g){c=l;return false}})}else{this.each(function(){var l=e.data(this,a);if(l){l.option(d||{})._init()}else{e.data(this,a,new b(d,this))}})}return c}};e.Widget=function(b,a){if(arguments.length){this._createWidget(b,a)}};e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(b,a){e.data(a,this.widgetName,this);this.element=e(a);this.options=e.extend(true,{},this.options,this._getCreateOptions(),b);var c=this;this.element.bind("remove."+this.widgetName,function(){c.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(b,a){var c=b;if(arguments.length===0){return e.extend({},this.options)}if(typeof b==="string"){if(a===g){return this.options[b]}c={};c[b]=a}this._setOptions(c);return this},_setOptions:function(a){var b=this;e.each(a,function(d,c){b._setOption(d,c)});return this},_setOption:function(b,a){this.options[b]=a;if(b==="disabled"){this.widget()[a?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",a)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(o,n,d){var a,b,c=this.options[o];d=d||{};n=e.Event(n);n.type=(o===this.widgetEventPrefix?o:this.widgetEventPrefix+o).toLowerCase();n.target=this.element[0];b=n.originalEvent;if(b){for(a in b){if(!(a in n)){n[a]=b[a]}}}this.element.trigger(n,d);return !(e.isFunction(c)&&c.call(this.element[0],n,d)===false||n.isDefaultPrevented())}}})(jQuery);(function(d,f){var e=false;d(document).mouseup(function(a){e=false});d.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(true===d.data(b.target,a.widgetName+".preventClickEvent")){d.removeData(b.target,a.widgetName+".preventClickEvent");b.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){if(e){return}(this._mouseStarted&&this._mouseUp(b));this._mouseDownEvent=b;var c=this,a=(b.which==1),h=(typeof this.options.cancel=="string"&&b.target.nodeName?d(b.target).closest(this.options.cancel).length:false);if(!a||h||!this._mouseCapture(b)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=(this._mouseStart(b)!==false);if(!this._mouseStarted){b.preventDefault();return true}}if(true===d.data(b.target,this.widgetName+".preventClickEvent")){d.removeData(b.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(g){return c._mouseMove(g)};this._mouseUpDelegate=function(g){return c._mouseUp(g)};d(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);b.preventDefault();e=true;return true},_mouseMove:function(a){if(d.browser.msie&&!(document.documentMode>=9)&&!a.button){return this._mouseUp(a)}if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault()}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,a)!==false);(this._mouseStarted?this._mouseDrag(a):this._mouseUp(a))}return !this._mouseStarted},_mouseUp:function(a){d(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(a.target==this._mouseDownEvent.target){d.data(a.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(a)}return false},_mouseDistanceMet:function(a){return(Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance)},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return true}})})(jQuery);(function(d,c){d.widget("ui.draggable",d.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},destroy:function(){if(!this.element.data("draggable")){return}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this},_mouseCapture:function(b){var a=this.options;if(this.helper||a.disabled||d(b.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(b);if(!this.handle){return false}if(a.iframeFix){d(a.iframeFix===true?"iframe":a.iframeFix).each(function(){d('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(d(this).offset()).appendTo("body")})}return true},_mouseStart:function(b){var a=this.options;this.helper=this._createHelper(b);this._cacheHelperProportions();if(d.ui.ddmanager){d.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};d.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;(a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt));if(a.containment){this._setContainment()}if(this._trigger("start",b)===false){this._clear();return false}this._cacheHelperProportions();if(d.ui.ddmanager&&!a.dropBehaviour){d.ui.ddmanager.prepareOffsets(this,b)}this.helper.addClass("ui-draggable-dragging");this._mouseDrag(b,true);if(d.ui.ddmanager){d.ui.ddmanager.dragStart(this,b)}return true},_mouseDrag:function(f,a){this.position=this._generatePosition(f);this.positionAbs=this._convertPositionTo("absolute");if(!a){var b=this._uiHash();if(this._trigger("drag",f,b)===false){this._mouseUp({});return false}this.position=b.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(d.ui.ddmanager){d.ui.ddmanager.drag(this,f)}return false},_mouseStop:function(b){var a=false;if(d.ui.ddmanager&&!this.options.dropBehaviour){a=d.ui.ddmanager.drop(this,b)}if(this.dropped){a=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original"){return false}if((this.options.revert=="invalid"&&!a)||(this.options.revert=="valid"&&a)||this.options.revert===true||(d.isFunction(this.options.revert)&&this.options.revert.call(this.element,a))){var f=this;d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(f._trigger("stop",b)!==false){f._clear()}})}else{if(this._trigger("stop",b)!==false){this._clear()}}return false},_mouseUp:function(a){if(this.options.iframeFix===true){d("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}if(d.ui.ddmanager){d.ui.ddmanager.dragStop(this,a)}return d.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(b){var a=!this.options.handle||!d(this.options.handle,this.element).length?true:false;d(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==b.target){a=true}});return a},_createHelper:function(b){var a=this.options;var f=d.isFunction(a.helper)?d(a.helper.apply(this.element[0],[b])):(a.helper=="clone"?this.element.clone().removeAttr("id"):this.element);if(!f.parents("body").length){f.appendTo((a.appendTo=="parent"?this.element[0].parentNode:a.appendTo))}if(f[0]!=this.element[0]&&!(/(fixed|absolute)/).test(f.css("position"))){f.css("position","absolute")}return f},_adjustOffsetFromHelper:function(a){if(typeof a=="string"){a=a.split(" ")}if(d.isArray(a)){a={left:+a[0],top:+a[1]||0}}if("left" in a){this.offset.click.left=a.left+this.margins.left}if("right" in a){this.offset.click.left=this.helperProportions.width-a.right+this.margins.left}if("top" in a){this.offset.click.top=a.top+this.margins.top}if("bottom" in a){this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie)){a={top:0,left:0}}return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if(b.containment=="parent"){b.containment=this.helper[0].parentNode}if(b.containment=="document"||b.containment=="window"){this.containment=[b.containment=="document"?0:d(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b.containment=="document"?0:d(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(b.containment=="document"?0:d(window).scrollLeft())+d(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment=="document"?0:d(window).scrollTop())+(d(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(b.containment)&&b.containment.constructor!=Array){var a=d(b.containment);var m=a[0];if(!m){return}var l=a.offset();var n=(d(m).css("overflow")!="hidden");this.containment=[(parseInt(d(m).css("borderLeftWidth"),10)||0)+(parseInt(d(m).css("paddingLeft"),10)||0),(parseInt(d(m).css("borderTopWidth"),10)||0)+(parseInt(d(m).css("paddingTop"),10)||0),(n?Math.max(m.scrollWidth,m.offsetWidth):m.offsetWidth)-(parseInt(d(m).css("borderLeftWidth"),10)||0)-(parseInt(d(m).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(n?Math.max(m.scrollHeight,m.offsetHeight):m.offsetHeight)-(parseInt(d(m).css("borderTopWidth"),10)||0)-(parseInt(d(m).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=a}else{if(b.containment.constructor==Array){this.containment=b.containment}}},_convertPositionTo:function(m,a){if(!a){a=this.position}var o=m=="absolute"?1:-1;var n=this.options,p=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,b=(/(html|body)/i).test(p[0].tagName);return{top:(a.top+this.offset.relative.top*o+this.offset.parent.top*o-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(b?0:p.scrollTop()))*o)),left:(a.left+this.offset.relative.left*o+this.offset.parent.left*o-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():b?0:p.scrollLeft())*o))}},_generatePosition:function(w){var v=this.options,a=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,q=(/(html|body)/i).test(a[0].tagName);var s=w.pageX;var t=w.pageY;if(this.originalPosition){var x;if(this.containment){if(this.relative_container){var b=this.relative_container.offset();x=[this.containment[0]+b.left,this.containment[1]+b.top,this.containment[2]+b.left,this.containment[3]+b.top]}else{x=this.containment}if(w.pageX-this.offset.click.left<x[0]){s=x[0]+this.offset.click.left}if(w.pageY-this.offset.click.top<x[1]){t=x[1]+this.offset.click.top}if(w.pageX-this.offset.click.left>x[2]){s=x[2]+this.offset.click.left}if(w.pageY-this.offset.click.top>x[3]){t=x[3]+this.offset.click.top}}if(v.grid){var o=v.grid[1]?this.originalPageY+Math.round((t-this.originalPageY)/v.grid[1])*v.grid[1]:this.originalPageY;t=x?(!(o-this.offset.click.top<x[1]||o-this.offset.click.top>x[3])?o:(!(o-this.offset.click.top<x[1])?o-v.grid[1]:o+v.grid[1])):o;var u=v.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/v.grid[0])*v.grid[0]:this.originalPageX;s=x?(!(u-this.offset.click.left<x[0]||u-this.offset.click.left>x[2])?u:(!(u-this.offset.click.left<x[0])?u-v.grid[0]:u+v.grid[0])):u}}return{top:(t-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(q?0:a.scrollTop())))),left:(s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():q?0:a.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(f,b,a){a=a||this._uiHash();d.ui.plugin.call(this,f,[b,a]);if(f=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return d.Widget.prototype._trigger.call(this,f,b,a)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});d.extend(d.ui.draggable,{version:"1.8.17"});d.ui.plugin.add("draggable","connectToSortable",{start:function(l,b){var h=d(this).data("draggable"),a=h.options,m=d.extend({},b,{item:h.element});h.sortables=[];d(a.connectToSortable).each(function(){var e=d.data(this,"sortable");if(e&&!e.options.disabled){h.sortables.push({instance:e,shouldRevert:e.options.revert});e.refreshPositions();e._trigger("activate",l,m)}})},stop:function(g,a){var b=d(this).data("draggable"),h=d.extend({},a,{item:b.element});d.each(b.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;b.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(g);this.instance.options.helper=this.instance.options._helper;if(b.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",g,h)}})},drag:function(l,a){var b=d(this).data("draggable"),m=this;var h=function(o){var y=this.offset.click.top,z=this.offset.click.left;var w=this.positionAbs.top,f=this.positionAbs.left;var g=o.height,e=o.width;var x=o.top,v=o.left;return d.ui.isOver(w+y,f+z,x,v,g,e)};d.each(b.sortables,function(e){this.instance.positionAbs=b.positionAbs;this.instance.helperProportions=b.helperProportions;this.instance.offset.click=b.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=d(m).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return a.helper[0]};l.target=this.instance.currentItem[0];this.instance._mouseCapture(l,true);this.instance._mouseStart(l,true,true);this.instance.offset.click.top=b.offset.click.top;this.instance.offset.click.left=b.offset.click.left;this.instance.offset.parent.left-=b.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=b.offset.parent.top-this.instance.offset.parent.top;b._trigger("toSortable",l);b.dropped=this.instance.element;b.currentItem=b.element;this.instance.fromOutside=b}if(this.instance.currentItem){this.instance._mouseDrag(l)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",l,this.instance._uiHash(this.instance));this.instance._mouseStop(l,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}b._trigger("fromSortable",l);b.dropped=false}}})}});d.ui.plugin.add("draggable","cursor",{start:function(g,b){var h=d("body"),a=d(this).data("draggable").options;if(h.css("cursor")){a._cursor=h.css("cursor")}h.css("cursor",a.cursor)},stop:function(f,b){var a=d(this).data("draggable").options;if(a._cursor){d("body").css("cursor",a._cursor)}}});d.ui.plugin.add("draggable","opacity",{start:function(g,b){var h=d(b.helper),a=d(this).data("draggable").options;if(h.css("opacity")){a._opacity=h.css("opacity")}h.css("opacity",a.opacity)},stop:function(f,b){var a=d(this).data("draggable").options;if(a._opacity){d(b.helper).css("opacity",a._opacity)}}});d.ui.plugin.add("draggable","scroll",{start:function(b,a){var f=d(this).data("draggable");if(f.scrollParent[0]!=document&&f.scrollParent[0].tagName!="HTML"){f.overflowOffset=f.scrollParent.offset()}},drag:function(h,b){var l=d(this).data("draggable"),a=l.options,m=false;if(l.scrollParent[0]!=document&&l.scrollParent[0].tagName!="HTML"){if(!a.axis||a.axis!="x"){if((l.overflowOffset.top+l.scrollParent[0].offsetHeight)-h.pageY<a.scrollSensitivity){l.scrollParent[0].scrollTop=m=l.scrollParent[0].scrollTop+a.scrollSpeed}else{if(h.pageY-l.overflowOffset.top<a.scrollSensitivity){l.scrollParent[0].scrollTop=m=l.scrollParent[0].scrollTop-a.scrollSpeed}}}if(!a.axis||a.axis!="y"){if((l.overflowOffset.left+l.scrollParent[0].offsetWidth)-h.pageX<a.scrollSensitivity){l.scrollParent[0].scrollLeft=m=l.scrollParent[0].scrollLeft+a.scrollSpeed}else{if(h.pageX-l.overflowOffset.left<a.scrollSensitivity){l.scrollParent[0].scrollLeft=m=l.scrollParent[0].scrollLeft-a.scrollSpeed}}}}else{if(!a.axis||a.axis!="x"){if(h.pageY-d(document).scrollTop()<a.scrollSensitivity){m=d(document).scrollTop(d(document).scrollTop()-a.scrollSpeed)}else{if(d(window).height()-(h.pageY-d(document).scrollTop())<a.scrollSensitivity){m=d(document).scrollTop(d(document).scrollTop()+a.scrollSpeed)}}}if(!a.axis||a.axis!="y"){if(h.pageX-d(document).scrollLeft()<a.scrollSensitivity){m=d(document).scrollLeft(d(document).scrollLeft()-a.scrollSpeed)}else{if(d(window).width()-(h.pageX-d(document).scrollLeft())<a.scrollSensitivity){m=d(document).scrollLeft(d(document).scrollLeft()+a.scrollSpeed)}}}}if(m!==false&&d.ui.ddmanager&&!a.dropBehaviour){d.ui.ddmanager.prepareOffsets(l,h)}}});d.ui.plugin.add("draggable","snap",{start:function(g,b){var h=d(this).data("draggable"),a=h.options;h.snapElements=[];d(a.snap.constructor!=String?(a.snap.items||":data(draggable)"):a.snap).each(function(){var e=d(this);var f=e.offset();if(this!=h.element[0]){h.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:f.top,left:f.left})}})},drag:function(o,E){var N=d(this).data("draggable"),D=N.options;var I=D.snapTolerance;var a=E.offset.left,b=a+N.helperProportions.width,O=E.offset.top,P=O+N.helperProportions.height;for(var l=N.snapElements.length-1;l>=0;l--){var t=N.snapElements[l].left,H=t+N.snapElements[l].width,J=N.snapElements[l].top,F=J+N.snapElements[l].height;if(!((t-I<a&&a<H+I&&J-I<O&&O<F+I)||(t-I<a&&a<H+I&&J-I<P&&P<F+I)||(t-I<b&&b<H+I&&J-I<O&&O<F+I)||(t-I<b&&b<H+I&&J-I<P&&P<F+I))){if(N.snapElements[l].snapping){(N.options.snap.release&&N.options.snap.release.call(N.element,o,d.extend(N._uiHash(),{snapItem:N.snapElements[l].item})))}N.snapElements[l].snapping=false;continue}if(D.snapMode!="inner"){var Q=Math.abs(J-P)<=I;var G=Math.abs(F-O)<=I;var L=Math.abs(t-b)<=I;var K=Math.abs(H-a)<=I;if(Q){E.position.top=N._convertPositionTo("relative",{top:J-N.helperProportions.height,left:0}).top-N.margins.top}if(G){E.position.top=N._convertPositionTo("relative",{top:F,left:0}).top-N.margins.top}if(L){E.position.left=N._convertPositionTo("relative",{top:0,left:t-N.helperProportions.width}).left-N.margins.left}if(K){E.position.left=N._convertPositionTo("relative",{top:0,left:H}).left-N.margins.left}}var M=(Q||G||L||K);if(D.snapMode!="outer"){var Q=Math.abs(J-O)<=I;var G=Math.abs(F-P)<=I;var L=Math.abs(t-a)<=I;var K=Math.abs(H-b)<=I;if(Q){E.position.top=N._convertPositionTo("relative",{top:J,left:0}).top-N.margins.top}if(G){E.position.top=N._convertPositionTo("relative",{top:F-N.helperProportions.height,left:0}).top-N.margins.top}if(L){E.position.left=N._convertPositionTo("relative",{top:0,left:t}).left-N.margins.left}if(K){E.position.left=N._convertPositionTo("relative",{top:0,left:H-N.helperProportions.width}).left-N.margins.left}}if(!N.snapElements[l].snapping&&(Q||G||L||K||M)){(N.options.snap.snap&&N.options.snap.snap.call(N.element,o,d.extend(N._uiHash(),{snapItem:N.snapElements[l].item})))}N.snapElements[l].snapping=(Q||G||L||K||M)}}});d.ui.plugin.add("draggable","stack",{start:function(l,h){var a=d(this).data("draggable").options;var b=d.makeArray(d(a.stack)).sort(function(e,f){return(parseInt(d(e).css("zIndex"),10)||0)-(parseInt(d(f).css("zIndex"),10)||0)});if(!b.length){return}var m=parseInt(b[0].style.zIndex)||0;d(b).each(function(e){this.style.zIndex=m+e});this[0].style.zIndex=m+b.length}});d.ui.plugin.add("draggable","zIndex",{start:function(g,b){var h=d(b.helper),a=d(this).data("draggable").options;if(h.css("zIndex")){a._zIndex=h.css("zIndex")}h.css("zIndex",a.zIndex)},stop:function(f,b){var a=d(this).data("draggable").options;if(a._zIndex){d(b.helper).css("zIndex",a._zIndex)}}})})(jQuery);(function(d,c){d.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var a=this.options,b=a.accept;this.isover=0;this.isout=1;this.accept=d.isFunction(b)?b:function(f){return f.is(b)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};d.ui.ddmanager.droppables[a.scope]=d.ui.ddmanager.droppables[a.scope]||[];d.ui.ddmanager.droppables[a.scope].push(this);(a.addClasses&&this.element.addClass("ui-droppable"))},destroy:function(){var b=d.ui.ddmanager.droppables[this.options.scope];for(var a=0;a<b.length;a++){if(b[a]==this){b.splice(a,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(b,a){if(b=="accept"){this.accept=d.isFunction(a)?a:function(f){return f.is(a)}}d.Widget.prototype._setOption.apply(this,arguments)},_activate:function(a){var b=d.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}(b&&this._trigger("activate",a,this.ui(b)))},_deactivate:function(a){var b=d.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}(b&&this._trigger("deactivate",a,this.ui(b)))},_over:function(a){var b=d.ui.ddmanager.current;if(!b||(b.currentItem||b.element)[0]==this.element[0]){return}if(this.accept.call(this.element[0],(b.currentItem||b.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",a,this.ui(b))}},_out:function(a){var b=d.ui.ddmanager.current;if(!b||(b.currentItem||b.element)[0]==this.element[0]){return}if(this.accept.call(this.element[0],(b.currentItem||b.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",a,this.ui(b))}},_drop:function(g,b){var h=b||d.ui.ddmanager.current;if(!h||(h.currentItem||h.element)[0]==this.element[0]){return false}var a=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var e=d.data(this,"droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope==h.options.scope&&e.accept.call(e.element[0],(h.currentItem||h.element))&&d.ui.intersect(h,d.extend(e,{offset:e.element.offset()}),e.options.tolerance)){a=true;return false}});if(a){return false}if(this.accept.call(this.element[0],(h.currentItem||h.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",g,this.ui(h));return this.element}return false},ui:function(a){return{draggable:(a.currentItem||a.element),helper:a.helper,position:a.position,offset:a.positionAbs}}});d.extend(d.ui.droppable,{version:"1.8.17"});d.ui.intersect=function(D,t,F){if(!t.offset){return false}var A=(D.positionAbs||D.position.absolute).left,B=A+D.helperProportions.width,a=(D.positionAbs||D.position.absolute).top,b=a+D.helperProportions.height;var y=t.offset.left,C=y+t.proportions.width,E=t.offset.top,l=E+t.proportions.height;switch(F){case"fit":return(y<=A&&B<=C&&E<=a&&b<=l);break;case"intersect":return(y<A+(D.helperProportions.width/2)&&B-(D.helperProportions.width/2)<C&&E<a+(D.helperProportions.height/2)&&b-(D.helperProportions.height/2)<l);break;case"pointer":var x=((D.positionAbs||D.position.absolute).left+(D.clickOffset||D.offset.click).left),w=((D.positionAbs||D.position.absolute).top+(D.clickOffset||D.offset.click).top),z=d.ui.isOver(w,x,E,y,t.proportions.height,t.proportions.width);return z;break;case"touch":return((a>=E&&a<=l)||(b>=E&&b<=l)||(a<E&&b>l))&&((A>=y&&A<=C)||(B>=y&&B<=C)||(A<y&&B>C));break;default:return false;break}};d.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(n,b){var q=d.ui.ddmanager.droppables[n.options.scope]||[];var m=b?b.type:null;var a=(n.currentItem||n.element).find(":data(droppable)").andSelf();droppablesLoop:for(var o=0;o<q.length;o++){if(q[o].options.disabled||(n&&!q[o].accept.call(q[o].element[0],(n.currentItem||n.element)))){continue}for(var p=0;p<a.length;p++){if(a[p]==q[o].element[0]){q[o].proportions.height=0;continue droppablesLoop}}q[o].visible=q[o].element.css("display")!="none";if(!q[o].visible){continue}if(m=="mousedown"){q[o]._activate.call(q[o],b)}q[o].offset=q[o].element.offset();q[o].proportions={width:q[o].element[0].offsetWidth,height:q[o].element[0].offsetHeight}}},drop:function(f,b){var a=false;d.each(d.ui.ddmanager.droppables[f.options.scope]||[],function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&d.ui.intersect(f,this,this.options.tolerance)){a=this._drop.call(this,b)||a}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(f.currentItem||f.element))){this.isout=1;this.isover=0;this._deactivate.call(this,b)}});return a},dragStart:function(b,a){b.element.parents(":not(body,html)").bind("scroll.droppable",function(){if(!b.options.refreshPositions){d.ui.ddmanager.prepareOffsets(b,a)}})},drag:function(b,a){if(b.options.refreshPositions){d.ui.ddmanager.prepareOffsets(b,a)}d.each(d.ui.ddmanager.droppables[b.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var n=d.ui.intersect(b,this,this.options.tolerance);var l=!n&&this.isover==1?"isout":(n&&this.isover==0?"isover":null);if(!l){return}var m;if(this.options.greedy){var o=this.element.parents(":data(droppable):eq(0)");if(o.length){m=d.data(o[0],"droppable");m.greedyChild=(l=="isover"?1:0)}}if(m&&l=="isover"){m.isover=0;m.isout=1;m._out.call(m,a)}this[l]=1;this[l=="isout"?"isover":"isout"]=0;this[l=="isover"?"_over":"_out"].call(this,a);if(m&&l=="isout"){m.isout=0;m.isover=1;m._over.call(m,a)}})},dragStop:function(b,a){b.element.parents(":not(body,html)").unbind("scroll.droppable");if(!b.options.refreshPositions){d.ui.ddmanager.prepareOffsets(b,a)}}}})(jQuery);(function(o,n){o.ui=o.ui||{};var s=/left|center|right/,q=/top|center|bottom/,m="center",p={},l=o.fn.position,t=o.fn.offset;o.fn.position=function(a){if(!a||!a.of){return l.apply(this,arguments)}a=o.extend({},a);var e=o(a.of),f=e[0],c=(a.collision||"flip").split(" "),d=a.offset?a.offset.split(" "):[0,0],g,b,h;if(f.nodeType===9){g=e.width();b=e.height();h={top:0,left:0}}else{if(f.setTimeout){g=e.width();b=e.height();h={top:e.scrollTop(),left:e.scrollLeft()}}else{if(f.preventDefault){a.at="left top";g=b=0;h={top:a.of.pageY,left:a.of.pageX}}else{g=e.outerWidth();b=e.outerHeight();h=e.offset()}}}o.each(["my","at"],function(){var v=(a[this]||"").split(" ");if(v.length===1){v=s.test(v[0])?v.concat([m]):q.test(v[0])?[m].concat(v):[m,m]}v[0]=s.test(v[0])?v[0]:m;v[1]=q.test(v[1])?v[1]:m;a[this]=v});if(c.length===1){c[1]=c[0]}d[0]=parseInt(d[0],10)||0;if(d.length===1){d[1]=d[0]}d[1]=parseInt(d[1],10)||0;if(a.at[0]==="right"){h.left+=g}else{if(a.at[0]===m){h.left+=g/2}}if(a.at[1]==="bottom"){h.top+=b}else{if(a.at[1]===m){h.top+=b/2}}h.left+=d[0];h.top+=d[1];return this.each(function(){var I=o(this),G=I.outerWidth(),J=I.outerHeight(),H=parseInt(o.curCSS(this,"marginLeft",true))||0,K=parseInt(o.curCSS(this,"marginTop",true))||0,E=G+H+(parseInt(o.curCSS(this,"marginRight",true))||0),D=J+K+(parseInt(o.curCSS(this,"marginBottom",true))||0),F=o.extend({},h),L;if(a.my[0]==="right"){F.left-=G}else{if(a.my[0]===m){F.left-=G/2}}if(a.my[1]==="bottom"){F.top-=J}else{if(a.my[1]===m){F.top-=J/2}}if(!p.fractions){F.left=Math.round(F.left);F.top=Math.round(F.top)}L={left:F.left-H,top:F.top-K};o.each(["left","top"],function(u,v){if(o.ui.position[c[u]]){o.ui.position[c[u]][v](F,{targetWidth:g,targetHeight:b,elemWidth:G,elemHeight:J,collisionPosition:L,collisionWidth:E,collisionHeight:D,offset:d,my:a.my,at:a.at})}});if(o.fn.bgiframe){I.bgiframe()}I.offset(o.extend(F,{using:a.using}))})};o.ui.position={fit:{left:function(b,a){var c=o(window),d=a.collisionPosition.left+a.collisionWidth-c.width()-c.scrollLeft();b.left=d>0?b.left-d:Math.max(b.left-a.collisionPosition.left,b.left)},top:function(b,a){var c=o(window),d=a.collisionPosition.top+a.collisionHeight-c.height()-c.scrollTop();b.top=d>0?b.top-d:Math.max(b.top-a.collisionPosition.top,b.top)}},flip:{left:function(a,f){if(f.at[0]===m){return}var d=o(window),e=f.collisionPosition.left+f.collisionWidth-d.width()-d.scrollLeft(),b=f.my[0]==="left"?-f.elemWidth:f.my[0]==="right"?f.elemWidth:0,g=f.at[0]==="left"?f.targetWidth:-f.targetWidth,c=-2*f.offset[0];a.left+=f.collisionPosition.left<0?b+g+c:e>0?b+g+c:0},top:function(a,f){if(f.at[1]===m){return}var d=o(window),e=f.collisionPosition.top+f.collisionHeight-d.height()-d.scrollTop(),b=f.my[1]==="top"?-f.elemHeight:f.my[1]==="bottom"?f.elemHeight:0,g=f.at[1]==="top"?f.targetHeight:-f.targetHeight,c=-2*f.offset[1];a.top+=f.collisionPosition.top<0?b+g+c:e>0?b+g+c:0}}};if(!o.offset.setOffset){o.offset.setOffset=function(e,a){if(/static/.test(o.curCSS(e,"position"))){e.style.position="relative"}var f=o(e),c=f.offset(),b=parseInt(o.curCSS(e,"top",true),10)||0,d=parseInt(o.curCSS(e,"left",true),10)||0,g={top:(a.top-c.top)+b,left:(a.left-c.left)+d};if("using" in a){a.using.call(e,g)}else{f.css(g)}};o.fn.offset=function(b){var a=this[0];if(!a||!a.ownerDocument){return null}if(b){return this.each(function(){o.offset.setOffset(this,b)})}return t.call(this)}}(function(){var b=document.getElementsByTagName("body")[0],c=document.createElement("div"),f,d,a,e,g;f=document.createElement(b?"div":"body");a={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(b){jQuery.extend(a,{position:"absolute",left:"-1000px",top:"-1000px"})}for(var h in a){f.style[h]=a[h]}f.appendChild(c);d=b||document.documentElement;d.insertBefore(f,d.firstChild);c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;";e=o(c).offset(function(x,w){return w}).offset();f.innerHTML="";d.removeChild(f);g=e.top+e.left+(b?2000:0);p.fractions=g>21&&g<22})()}(jQuery));(function(h,g){h.widget("ui.resizable",h.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var n=this,a=this.options;this.element.addClass("ui-resizable");h.extend(this,{_aspectRatio:!!(a.aspectRatio),aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){if(/relative/.test(this.element.css("position"))&&h.browser.opera){this.element.css({position:"relative",top:"auto",left:"auto"})}this.element.wrap(h('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=a.handles||(!h(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw"}var q=this.handles.split(",");this.handles={};for(var d=0;d<q.length;d++){var b=h.trim(q[d]),o="ui-resizable-"+b;var c=h('<div class="ui-resizable-handle '+o+'"></div>');if(/sw|se|ne|nw/.test(b)){c.css({zIndex:++a.zIndex})}if("se"==b){c.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[b]=".ui-resizable-"+b;this.element.append(c)}}this._renderAxis=function(l){l=l||this.element;for(var u in this.handles){if(this.handles[u].constructor==String){this.handles[u]=h(this.handles[u],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var p=h(this.handles[u],this.element),m=0;m=/sw|ne|nw|se|n|s/.test(u)?p.outerHeight():p.outerWidth();var v=["padding",/ne|nw|n/.test(u)?"Top":/se|sw|s/.test(u)?"Bottom":/^e$/.test(u)?"Right":"Left"].join("");l.css(v,m);this._proportionallyResize()}if(!h(this.handles[u]).length){continue}}};this._renderAxis(this.element);this._handles=h(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!n.resizing){if(this.className){var l=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}n.axis=l&&l[1]?l[1]:"se"}});if(a.autoHide){this._handles.hide();h(this.element).addClass("ui-resizable-autohide").hover(function(){if(a.disabled){return}h(this).removeClass("ui-resizable-autohide");n._handles.show()},function(){if(a.disabled){return}if(!n.resizing){h(this).addClass("ui-resizable-autohide");n._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(c){h(c).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var a=this.element;a.after(this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);b(this.originalElement);return this},_mouseCapture:function(b){var a=false;for(var c in this.handles){if(h(this.handles[c])[0]==b.target){a=true}}return !this.options.disabled&&a},_mouseStart:function(d){var a=this.options,o=this.element.position(),p=this.element;this.resizing=true;this.documentScroll={top:h(document).scrollTop(),left:h(document).scrollLeft()};if(p.is(".ui-draggable")||(/absolute/).test(p.css("position"))){p.css({position:"absolute",top:o.top,left:o.left})}if(h.browser.opera&&(/relative/).test(p.css("position"))){p.css({position:"relative",top:"auto",left:"auto"})}this._renderProxy();var q=e(this.helper.css("left")),c=e(this.helper.css("top"));if(a.containment){q+=h(a.containment).scrollLeft()||0;c+=h(a.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:q,top:c};this.size=this._helper?{width:p.outerWidth(),height:p.outerHeight()}:{width:p.width(),height:p.height()};this.originalSize=this._helper?{width:p.outerWidth(),height:p.outerHeight()}:{width:p.width(),height:p.height()};this.originalPosition={left:q,top:c};this.sizeDiff={width:p.outerWidth()-p.width(),height:p.outerHeight()-p.height()};this.originalMousePosition={left:d.pageX,top:d.pageY};this.aspectRatio=(typeof a.aspectRatio=="number")?a.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);var b=h(".ui-resizable-"+this.axis).css("cursor");h("body").css("cursor",b=="auto"?this.axis+"-resize":b);p.addClass("ui-resizable-resizing");this._propagate("start",d);return true},_mouseDrag:function(z){var w=this.helper,x=this.options,a={},B=this,d=this.originalMousePosition,D=this.axis;var A=(z.pageX-d.left)||0,C=(z.pageY-d.top)||0;var o=this._change[D];if(!o){return false}var b=o.apply(this,[z,A,C]),c=h.browser.msie&&h.browser.version<7,y=this.sizeDiff;this._updateVirtualBoundaries(z.shiftKey);if(this._aspectRatio||z.shiftKey){b=this._updateRatio(b,z)}b=this._respectSize(b,z);this._propagate("resize",z);w.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}this._updateCache(b);this._trigger("resize",z,this.ui());return false},_mouseStop:function(s){this.resizing=false;var o=this.options,a=this;if(this._helper){var u=this._proportionallyResizeElements,w=u.length&&(/textarea/i).test(u[0].nodeName),v=w&&h.ui.hasScroll(u[0],"left")?0:a.sizeDiff.height,c=w?0:a.sizeDiff.width;var x={width:(a.helper.width()-c),height:(a.helper.height()-v)},d=(parseInt(a.element.css("left"),10)+(a.position.left-a.originalPosition.left))||null,b=(parseInt(a.element.css("top"),10)+(a.position.top-a.originalPosition.top))||null;if(!o.animate){this.element.css(h.extend(x,{top:b,left:d}))}a.helper.height(a.size.height);a.helper.width(a.size.width);if(this._helper&&!o.animate){this._proportionallyResize()}}h("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",s);if(this._helper){this.helper.remove()}return false},_updateVirtualBoundaries:function(d){var a=this.options,b,c,o,q,p;p={minWidth:f(a.minWidth)?a.minWidth:0,maxWidth:f(a.maxWidth)?a.maxWidth:Infinity,minHeight:f(a.minHeight)?a.minHeight:0,maxHeight:f(a.maxHeight)?a.maxHeight:Infinity};if(this._aspectRatio||d){b=p.minHeight*this.aspectRatio;o=p.minWidth/this.aspectRatio;c=p.maxHeight*this.aspectRatio;q=p.maxWidth/this.aspectRatio;if(b>p.minWidth){p.minWidth=b}if(o>p.minHeight){p.minHeight=o}if(c<p.maxWidth){p.maxWidth=c}if(q<p.maxHeight){p.maxHeight=q}}this._vBoundaries=p},_updateCache:function(b){var a=this.options;this.offset=this.helper.offset();if(f(b.left)){this.position.left=b.left}if(f(b.top)){this.position.top=b.top}if(f(b.height)){this.size.height=b.height}if(f(b.width)){this.size.width=b.width}},_updateRatio:function(c,d){var b=this.options,a=this.position,n=this.size,o=this.axis;if(f(c.height)){c.width=(c.height*this.aspectRatio)}else{if(f(c.width)){c.height=(c.width/this.aspectRatio)}}if(o=="sw"){c.left=a.left+(n.width-c.width);c.top=null}if(o=="nw"){c.top=a.top+(n.height-c.height);c.left=a.left+(n.width-c.width)}return c},_respectSize:function(b,z){var d=this.helper,o=this._vBoundaries,E=this._aspectRatio||z.shiftKey,F=this.axis,C=f(b.width)&&o.maxWidth&&(o.maxWidth<b.width),a=f(b.height)&&o.maxHeight&&(o.maxHeight<b.height),y=f(b.width)&&o.minWidth&&(o.minWidth>b.width),D=f(b.height)&&o.minHeight&&(o.minHeight>b.height);if(y){b.width=o.minWidth}if(D){b.height=o.minHeight}if(C){b.width=o.maxWidth}if(a){b.height=o.maxHeight}var A=this.originalPosition.left+this.originalSize.width,G=this.position.top+this.size.height;var c=/sw|nw|w/.test(F),B=/nw|ne|n/.test(F);if(y&&c){b.left=A-o.minWidth}if(C&&c){b.left=A-o.maxWidth}if(D&&B){b.top=G-o.minHeight}if(a&&B){b.top=G-o.maxHeight}var H=!b.width&&!b.height;if(H&&!b.left&&b.top){b.top=null}else{if(H&&!b.top&&b.left){b.left=null}}return b},_proportionallyResize:function(){var a=this.options;if(!this._proportionallyResizeElements.length){return}var d=this.helper||this.element;for(var n=0;n<this._proportionallyResizeElements.length;n++){var c=this._proportionallyResizeElements[n];if(!this.borderDif){var o=[c.css("borderTopWidth"),c.css("borderRightWidth"),c.css("borderBottomWidth"),c.css("borderLeftWidth")],b=[c.css("paddingTop"),c.css("paddingRight"),c.css("paddingBottom"),c.css("paddingLeft")];this.borderDif=h.map(o,function(t,m){var s=parseInt(t,10)||0,l=parseInt(b[m],10)||0;return s+l})}if(h.browser.msie&&!(!(h(d).is(":hidden")||h(d).parents(":hidden").length))){continue}c.css({height:(d.height()-this.borderDif[0]-this.borderDif[2])||0,width:(d.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var d=this.element,a=this.options;this.elementOffset=d.offset();if(this._helper){this.helper=this.helper||h('<div style="overflow:hidden;"></div>');var m=h.browser.msie&&h.browser.version<7,c=(m?1:0),b=(m?2:-1);this.helper.addClass(this._helper).css({width:this.element.outerWidth()+b,height:this.element.outerHeight()+b,position:"absolute",left:this.elementOffset.left-c+"px",top:this.elementOffset.top-c+"px",zIndex:++a.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(a,b,c){return{width:this.originalSize.width+b}},w:function(c,n,o){var a=this.options,d=this.originalSize,b=this.originalPosition;return{left:b.left+n,width:d.width-n}},n:function(c,n,o){var a=this.options,d=this.originalSize,b=this.originalPosition;return{top:b.top+o,height:d.height-o}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(a,b,c){return h.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,b,c]))},sw:function(a,b,c){return h.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,b,c]))},ne:function(a,b,c){return h.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,b,c]))},nw:function(a,b,c){return h.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,b,c]))}},_propagate:function(a,b){h.ui.plugin.call(this,a,[b,this.ui()]);(a!="resize"&&this._trigger(a,b,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});h.extend(h.ui.resizable,{version:"1.8.17"});h.ui.plugin.add("resizable","alsoResize",{start:function(d,c){var m=h(this).data("resizable"),a=m.options;var b=function(l){h(l).each(function(){var o=h(this);o.data("resizable-alsoresize",{width:parseInt(o.width(),10),height:parseInt(o.height(),10),left:parseInt(o.css("left"),10),top:parseInt(o.css("top"),10),position:o.css("position")})})};if(typeof(a.alsoResize)=="object"&&!a.alsoResize.parentNode){if(a.alsoResize.length){a.alsoResize=a.alsoResize[0];b(a.alsoResize)}else{h.each(a.alsoResize,function(l){b(l)})}}else{b(a.alsoResize)}},resize:function(d,b){var o=h(this).data("resizable"),a=o.options,c=o.originalSize,s=o.originalPosition;var t={height:(o.size.height-c.height)||0,width:(o.size.width-c.width)||0,top:(o.position.top-s.top)||0,left:(o.position.left-s.left)||0},q=function(m,l){h(m).each(function(){var p=h(this),n=h(this).data("resizable-alsoresize"),w={},x=l&&l.length?l:p.parents(b.originalElement[0]).length?["width","height"]:["width","height","top","left"];h.each(x,function(v,z){var u=(n[z]||0)+(t[z]||0);if(u&&u>=0){w[z]=u||null}});if(h.browser.opera&&/relative/.test(p.css("position"))){o._revertToRelativePosition=true;p.css({position:"absolute",top:"auto",left:"auto"})}p.css(w)})};if(typeof(a.alsoResize)=="object"&&!a.alsoResize.nodeType){h.each(a.alsoResize,function(m,l){q(m,l)})}else{q(a.alsoResize)}},stop:function(c,b){var d=h(this).data("resizable"),a=d.options;var m=function(l){h(l).each(function(){var o=h(this);o.css({position:o.data("resizable-alsoresize").position})})};if(d._revertToRelativePosition){d._revertToRelativePosition=false;if(typeof(a.alsoResize)=="object"&&!a.alsoResize.nodeType){h.each(a.alsoResize,function(l){m(l)})}else{m(a.alsoResize)}}h(this).removeData("resizable-alsoresize")}});h.ui.plugin.add("resizable","animate",{stop:function(o,z){var y=h(this).data("resizable"),d=y.options;var u=y._proportionallyResizeElements,x=u.length&&(/textarea/i).test(u[0].nodeName),w=x&&h.ui.hasScroll(u[0],"left")?0:y.sizeDiff.height,b=x?0:y.sizeDiff.width;var v={width:(y.size.width-b),height:(y.size.height-w)},c=(parseInt(y.element.css("left"),10)+(y.position.left-y.originalPosition.left))||null,a=(parseInt(y.element.css("top"),10)+(y.position.top-y.originalPosition.top))||null;y.element.animate(h.extend(v,a&&c?{top:a,left:c}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var l={width:parseInt(y.element.css("width"),10),height:parseInt(y.element.css("height"),10),top:parseInt(y.element.css("top"),10),left:parseInt(y.element.css("left"),10)};if(u&&u.length){h(u[0]).css({width:l.width,height:l.height})}y._updateCache(l);y._propagate("resize",o)}})}});h.ui.plugin.add("resizable","containment",{start:function(y,C){var A=h(this).data("resizable"),c=A.options,a=A.element;var p=c.containment,b=(p instanceof h)?p.get(0):(/parent/.test(p))?a.parent().get(0):p;if(!b){return}A.containerElement=h(b);if(/document/.test(p)||p==document){A.containerOffset={left:0,top:0};A.containerPosition={left:0,top:0};A.parentData={element:h(document),left:0,top:0,width:h(document).width(),height:h(document).height()||document.body.parentNode.scrollHeight}}else{var E=h(b),d=[];h(["Top","Right","Left","Bottom"]).each(function(l,m){d[l]=e(E.css("padding"+m))});A.containerOffset=E.offset();A.containerPosition=E.position();A.containerSize={height:(E.innerHeight()-d[3]),width:(E.innerWidth()-d[1])};var D=A.containerOffset,z=A.containerSize.height,F=A.containerSize.width,o=(h.ui.hasScroll(b,"left")?b.scrollWidth:F),B=(h.ui.hasScroll(b)?b.scrollHeight:z);A.parentData={element:b,left:D.left,top:D.top,width:o,height:B}}},resize:function(z,F){var C=h(this).data("resizable"),o=C.options,A=C.containerSize,G=C.containerOffset,a=C.size,H=C.position,E=C._aspectRatio||z.shiftKey,B={top:0,left:0},y=C.containerElement;if(y[0]!=document&&(/static/).test(y.css("position"))){B=G}if(H.left<(C._helper?G.left:0)){C.size.width=C.size.width+(C._helper?(C.position.left-G.left):(C.position.left-B.left));if(E){C.size.height=C.size.width/o.aspectRatio}C.position.left=o.helper?G.left:0}if(H.top<(C._helper?G.top:0)){C.size.height=C.size.height+(C._helper?(C.position.top-G.top):C.position.top);if(E){C.size.width=C.size.height*o.aspectRatio}C.position.top=C._helper?G.top:0}C.offset.left=C.parentData.left+C.position.left;C.offset.top=C.parentData.top+C.position.top;var b=Math.abs((C._helper?C.offset.left-B.left:(C.offset.left-B.left))+C.sizeDiff.width),D=Math.abs((C._helper?C.offset.top-B.top:(C.offset.top-G.top))+C.sizeDiff.height);var c=C.containerElement.get(0)==C.element.parent().get(0),d=/relative|absolute/.test(C.containerElement.css("position"));if(c&&d){b-=C.parentData.left}if(b+C.size.width>=C.parentData.width){C.size.width=C.parentData.width-b;if(E){C.size.height=C.size.width/C.aspectRatio}}if(D+C.size.height>=C.parentData.height){C.size.height=C.parentData.height-D;if(E){C.size.width=C.size.height*C.aspectRatio}}},stop:function(x,C){var A=h(this).data("resizable"),w=A.options,b=A.position,a=A.containerOffset,y=A.containerPosition,o=A.containerElement;var d=h(A.helper),z=d.offset(),B=d.outerWidth()-A.sizeDiff.width,c=d.outerHeight()-A.sizeDiff.height;if(A._helper&&!w.animate&&(/relative/).test(o.css("position"))){h(this).css({left:z.left-y.left-a.left,width:B,height:c})}if(A._helper&&!w.animate&&(/static/).test(o.css("position"))){h(this).css({left:z.left-y.left-a.left,width:B,height:c})}}});h.ui.plugin.add("resizable","ghost",{start:function(c,b){var m=h(this).data("resizable"),a=m.options,d=m.size;m.ghost=m.originalElement.clone();m.ghost.css({opacity:0.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof a.ghost=="string"?a.ghost:"");m.ghost.appendTo(m.helper)},resize:function(c,b){var d=h(this).data("resizable"),a=d.options;if(d.ghost){d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})}},stop:function(c,b){var d=h(this).data("resizable"),a=d.options;if(d.ghost&&d.helper){d.helper.get(0).removeChild(d.ghost.get(0))}}});h.ui.plugin.add("resizable","grid",{resize:function(x,a){var y=h(this).data("resizable"),u=y.options,c=y.size,o=y.originalSize,d=y.originalPosition,z=y.axis,b=u._aspectRatio||x.shiftKey;u.grid=typeof u.grid=="number"?[u.grid,u.grid]:u.grid;var v=Math.round((c.width-o.width)/(u.grid[0]||1))*(u.grid[0]||1),w=Math.round((c.height-o.height)/(u.grid[1]||1))*(u.grid[1]||1);if(/^(se|s|e)$/.test(z)){y.size.width=o.width+v;y.size.height=o.height+w}else{if(/^(ne)$/.test(z)){y.size.width=o.width+v;y.size.height=o.height+w;y.position.top=d.top-w}else{if(/^(sw)$/.test(z)){y.size.width=o.width+v;y.size.height=o.height+w;y.position.left=d.left-v}else{y.size.width=o.width+v;y.size.height=o.height+w;y.position.top=d.top-w;y.position.left=d.left-v}}}}});var e=function(a){return parseInt(a,10)||0};var f=function(a){return !isNaN(parseInt(a,10))}})(jQuery);(function(d,c){d.widget("ui.sortable",d.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?a.axis==="x"||(/left|right/).test(this.items[0].item.css("float"))||(/inline|table-cell/).test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--){this.items[a].item.removeData(this.widgetName+"-item")}return this},_setOption:function(b,a){if(b==="disabled"){this.options[b]=a;this.widget()[a?"addClass":"removeClass"]("ui-sortable-disabled")}else{d.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(m,b){var n=this;if(this.reverting){return false}if(this.options.disabled||this.options.type=="static"){return false}this._refreshItems(m);var o=null,p=this,q=d(m.target).parents().each(function(){if(d.data(this,n.widgetName+"-item")==p){o=d(this);return false}});if(d.data(m.target,n.widgetName+"-item")==p){o=d(m.target)}if(!o){return false}if(this.options.handle&&!b){var a=false;d(this.options.handle,o).find("*").andSelf().each(function(){if(this==m.target){a=true}});if(!a){return false}}this.currentItem=o;this._removeCurrentsFromItems();return true},_mouseStart:function(l,b,o){var a=this.options,n=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(l);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");d.extend(this.offset,{click:{left:l.pageX-this.offset.left,top:l.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(l);this.originalPageX=l.pageX;this.originalPageY=l.pageY;(a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(a.containment){this._setContainment()}if(a.cursor){if(d("body").css("cursor")){this._storedCursor=d("body").css("cursor")}d("body").css("cursor",a.cursor)}if(a.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",a.opacity)}if(a.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",a.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",l,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!o){for(var m=this.containers.length-1;m>=0;m--){this.containers[m]._trigger("activate",l,n._uiHash(this))}}if(d.ui.ddmanager){d.ui.ddmanager.current=this}if(d.ui.ddmanager&&!a.dropBehaviour){d.ui.ddmanager.prepareOffsets(this,l)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(l);return true},_mouseDrag:function(m){this.position=this._generatePosition(m);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var b=this.options,q=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-m.pageY<b.scrollSensitivity){this.scrollParent[0].scrollTop=q=this.scrollParent[0].scrollTop+b.scrollSpeed}else{if(m.pageY-this.overflowOffset.top<b.scrollSensitivity){this.scrollParent[0].scrollTop=q=this.scrollParent[0].scrollTop-b.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-m.pageX<b.scrollSensitivity){this.scrollParent[0].scrollLeft=q=this.scrollParent[0].scrollLeft+b.scrollSpeed}else{if(m.pageX-this.overflowOffset.left<b.scrollSensitivity){this.scrollParent[0].scrollLeft=q=this.scrollParent[0].scrollLeft-b.scrollSpeed}}}else{if(m.pageY-d(document).scrollTop()<b.scrollSensitivity){q=d(document).scrollTop(d(document).scrollTop()-b.scrollSpeed)}else{if(d(window).height()-(m.pageY-d(document).scrollTop())<b.scrollSensitivity){q=d(document).scrollTop(d(document).scrollTop()+b.scrollSpeed)}}if(m.pageX-d(document).scrollLeft()<b.scrollSensitivity){q=d(document).scrollLeft(d(document).scrollLeft()-b.scrollSpeed)}else{if(d(window).width()-(m.pageX-d(document).scrollLeft())<b.scrollSensitivity){q=d(document).scrollLeft(d(document).scrollLeft()+b.scrollSpeed)}}}if(q!==false&&d.ui.ddmanager&&!b.dropBehaviour){d.ui.ddmanager.prepareOffsets(this,m)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var o=this.items.length-1;o>=0;o--){var n=this.items[o],p=n.item[0],a=this._intersectsWithPointer(n);if(!a){continue}if(p!=this.currentItem[0]&&this.placeholder[a==1?"next":"prev"]()[0]!=p&&!d.ui.contains(this.placeholder[0],p)&&(this.options.type=="semi-dynamic"?!d.ui.contains(this.element[0],p):true)){this.direction=a==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(n)){this._rearrange(m,n)}else{break}this._trigger("change",m,this._uiHash());break}}this._contactContainers(m);if(d.ui.ddmanager){d.ui.ddmanager.drag(this,m)}this._trigger("sort",m,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(g,b){if(!g){return}if(d.ui.ddmanager&&!this.options.dropBehaviour){d.ui.ddmanager.drop(this,g)}if(this.options.revert){var h=this;var a=h.placeholder.offset();h.reverting=true;d(this.helper).animate({left:a.left-this.offset.parent.left-h.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:a.top-this.offset.parent.top-h.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){h._clear(g)})}else{this._clear(g,b)}return false},cancel:function(){var b=this;if(this.dragging){this._mouseUp({target:null});if(this.options.helper=="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var a=this.containers.length-1;a>=0;a--){this.containers[a]._trigger("deactivate",null,b._uiHash(this));if(this.containers[a].containerCache.over){this.containers[a]._trigger("out",null,b._uiHash(this));this.containers[a].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}d.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){d(this.domPosition.prev).after(this.currentItem)}else{d(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(a){var f=this._getItemsAsjQuery(a&&a.connected);var b=[];a=a||{};d(f).each(function(){var e=(d(a.item||this).attr(a.attribute||"id")||"").match(a.expression||(/(.+)[-=_](.+)/));if(e){b.push((a.key||e[1]+"[]")+"="+(a.key&&a.expression?e[1]:e[2]))}});if(!b.length&&a.key){b.push(a.key+"=")}return b.join("&")},toArray:function(a){var f=this._getItemsAsjQuery(a&&a.connected);var b=[];a=a||{};f.each(function(){b.push(d(a.item||this).attr(a.attribute||"id")||"")});return b},_intersectsWith:function(b){var y=this.positionAbs.left,z=y+this.helperProportions.width,l=this.positionAbs.top,t=l+this.helperProportions.height;var x=b.left,A=x+b.width,a=b.top,u=a+b.height;var B=this.offset.click.top,v=this.offset.click.left;var w=(l+B)>a&&(l+B)<u&&(y+v)>x&&(y+v)<A;if(this.options.tolerance=="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>b[this.floating?"width":"height"])){return w}else{return(x<y+(this.helperProportions.width/2)&&z-(this.helperProportions.width/2)<A&&a<l+(this.helperProportions.height/2)&&t-(this.helperProportions.height/2)<u)}},_intersectsWithPointer:function(m){var l=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,m.top,m.height),n=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,m.left,m.width),a=l&&n,o=this._getDragVerticalDirection(),b=this._getDragHorizontalDirection();if(!a){return false}return this.floating?(((b&&b=="right")||o=="down")?2:1):(o&&(o=="down"?2:1))},_intersectsWithSides:function(b){var l=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+(b.height/2),b.height),h=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+(b.width/2),b.width),m=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();if(this.floating&&a){return((a=="right"&&h)||(a=="left"&&!h))}else{return m&&((m=="down"&&l)||(m=="up"&&!l))}},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(v){var a=this;var p=[];var s=[];var o=this._connectWith();if(o&&v){for(var t=o.length-1;t>=0;t--){var b=d(o[t]);for(var u=b.length-1;u>=0;u--){var q=d.data(b[u],this.widgetName);if(q&&q!=this&&!q.options.disabled){s.push([d.isFunction(q.options.items)?q.options.items.call(q.element):d(q.options.items,q.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),q])}}}}s.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var t=s.length-1;t>=0;t--){s[t][0].each(function(){p.push(this)})}return d(p)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");for(var b=0;b<this.items.length;b++){for(var f=0;f<a.length;f++){if(a[f]==this.items[b].item[0]){this.items.splice(b,1)}}}},_refreshItems:function(C){this.items=[];this.containers=[this];var w=this.items;var D=this;var y=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],C,{item:this.currentItem}):d(this.options.items,this.element),this]];var u=this._connectWith();if(u){for(var z=u.length-1;z>=0;z--){var t=d(u[z]);for(var A=t.length-1;A>=0;A--){var x=d.data(t[A],this.widgetName);if(x&&x!=this&&!x.options.disabled){y.push([d.isFunction(x.options.items)?x.options.items.call(x.element[0],C,{item:this.currentItem}):d(x.options.items,x.element),x]);this.containers.push(x)}}}}for(var z=y.length-1;z>=0;z--){var v=y[z][1];var B=y[z][0];for(var A=0,b=B.length;A<b;A++){var a=d(B[A]);a.data(this.widgetName+"-item",v);w.push({item:a,instance:v,width:0,height:0,left:0,top:0})}}},refreshPositions:function(m){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var h=this.items.length-1;h>=0;h--){var b=this.items[h];if(b.instance!=this.currentContainer&&this.currentContainer&&b.item[0]!=this.currentItem[0]){continue}var l=this.options.toleranceElement?d(this.options.toleranceElement,b.item):b.item;if(!m){b.width=l.outerWidth();b.height=l.outerHeight()}var a=l.offset();b.left=a.left;b.top=a.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var h=this.containers.length-1;h>=0;h--){var a=this.containers[h].element.offset();this.containers[h].containerCache.left=a.left;this.containers[h].containerCache.top=a.top;this.containers[h].containerCache.width=this.containers[h].element.outerWidth();this.containers[h].containerCache.height=this.containers[h].element.outerHeight()}}return this},_createPlaceholder:function(b){var h=b||this,a=h.options;if(!a.placeholder||a.placeholder.constructor==String){var g=a.placeholder;a.placeholder={element:function(){var e=d(document.createElement(h.currentItem[0].nodeName)).addClass(g||h.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!g){e.style.visibility="hidden"}return e},update:function(f,e){if(g&&!a.forcePlaceholderSize){return}if(!e.height()){e.height(h.currentItem.innerHeight()-parseInt(h.currentItem.css("paddingTop")||0,10)-parseInt(h.currentItem.css("paddingBottom")||0,10))}if(!e.width()){e.width(h.currentItem.innerWidth()-parseInt(h.currentItem.css("paddingLeft")||0,10)-parseInt(h.currentItem.css("paddingRight")||0,10))}}}}h.placeholder=d(a.placeholder.element.call(h.element,h.currentItem));h.currentItem.after(h.placeholder);a.placeholder.update(h,h.placeholder)},_contactContainers:function(v){var t=null,b=null;for(var q=this.containers.length-1;q>=0;q--){if(d.ui.contains(this.currentItem[0],this.containers[q].element[0])){continue}if(this._intersectsWith(this.containers[q].containerCache)){if(t&&d.ui.contains(this.containers[q].element[0],t.element[0])){continue}t=this.containers[q];b=q}else{if(this.containers[q].containerCache.over){this.containers[q]._trigger("out",v,this._uiHash(this));this.containers[q].containerCache.over=0}}}if(!t){return}if(this.containers.length===1){this.containers[b]._trigger("over",v,this._uiHash(this));this.containers[b].containerCache.over=1}else{if(this.currentContainer!=this.containers[b]){var o=10000;var p=null;var u=this.positionAbs[this.containers[b].floating?"left":"top"];for(var s=this.items.length-1;s>=0;s--){if(!d.ui.contains(this.containers[b].element[0],this.items[s].item[0])){continue}var a=this.items[s][this.containers[b].floating?"left":"top"];if(Math.abs(a-u)<o){o=Math.abs(a-u);p=this.items[s]}}if(!p&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[b];p?this._rearrange(v,p,null,true):this._rearrange(v,null,this.containers[b].element,true);this._trigger("change",v,this._uiHash());this.containers[b]._trigger("change",v,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[b]._trigger("over",v,this._uiHash(this));this.containers[b].containerCache.over=1}}},_createHelper:function(b){var a=this.options;var f=d.isFunction(a.helper)?d(a.helper.apply(this.element[0],[b,this.currentItem])):(a.helper=="clone"?this.currentItem.clone():this.currentItem);if(!f.parents("body").length){d(a.appendTo!="parent"?a.appendTo:this.currentItem[0].parentNode)[0].appendChild(f[0])}if(f[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(f[0].style.width==""||a.forceHelperSize){f.width(this.currentItem.width())}if(f[0].style.height==""||a.forceHelperSize){f.height(this.currentItem.height())}return f},_adjustOffsetFromHelper:function(a){if(typeof a=="string"){a=a.split(" ")}if(d.isArray(a)){a={left:+a[0],top:+a[1]||0}}if("left" in a){this.offset.click.left=a.left+this.margins.left}if("right" in a){this.offset.click.left=this.helperProportions.width-a.right+this.margins.left}if("top" in a){this.offset.click.top=a.top+this.margins.top}if("bottom" in a){this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie)){a={top:0,left:0}}return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(a.containment=="parent"){a.containment=this.helper[0].parentNode}if(a.containment=="document"||a.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(a.containment)){var g=d(a.containment)[0];var b=d(a.containment).offset();var h=(d(g).css("overflow")!="hidden");this.containment=[b.left+(parseInt(d(g).css("borderLeftWidth"),10)||0)+(parseInt(d(g).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(d(g).css("borderTopWidth"),10)||0)+(parseInt(d(g).css("paddingTop"),10)||0)-this.margins.top,b.left+(h?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(d(g).css("borderLeftWidth"),10)||0)-(parseInt(d(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(h?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(d(g).css("borderTopWidth"),10)||0)-(parseInt(d(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(m,a){if(!a){a=this.position}var o=m=="absolute"?1:-1;var n=this.options,p=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,b=(/(html|body)/i).test(p[0].tagName);return{top:(a.top+this.offset.relative.top*o+this.offset.parent.top*o-(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(b?0:p.scrollTop()))*o)),left:(a.left+this.offset.relative.left*o+this.offset.parent.left*o-(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():b?0:p.scrollLeft())*o))}},_generatePosition:function(p){var b=this.options,t=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,a=(/(html|body)/i).test(t[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var q=p.pageX;var s=p.pageY;if(this.originalPosition){if(this.containment){if(p.pageX-this.offset.click.left<this.containment[0]){q=this.containment[0]+this.offset.click.left}if(p.pageY-this.offset.click.top<this.containment[1]){s=this.containment[1]+this.offset.click.top}if(p.pageX-this.offset.click.left>this.containment[2]){q=this.containment[2]+this.offset.click.left}if(p.pageY-this.offset.click.top>this.containment[3]){s=this.containment[3]+this.offset.click.top}}if(b.grid){var n=this.originalPageY+Math.round((s-this.originalPageY)/b.grid[1])*b.grid[1];s=this.containment?(!(n-this.offset.click.top<this.containment[1]||n-this.offset.click.top>this.containment[3])?n:(!(n-this.offset.click.top<this.containment[1])?n-b.grid[1]:n+b.grid[1])):n;var o=this.originalPageX+Math.round((q-this.originalPageX)/b.grid[0])*b.grid[0];q=this.containment?(!(o-this.offset.click.left<this.containment[0]||o-this.offset.click.left>this.containment[2])?o:(!(o-this.offset.click.left<this.containment[0])?o-b.grid[0]:o+b.grid[0])):o}}return{top:(s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(a?0:t.scrollTop())))),left:(q-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():a?0:t.scrollLeft())))}},_rearrange:function(a,b,n,l){n?n[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction=="down"?b.item[0]:b.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var m=this,o=this.counter;window.setTimeout(function(){if(o==m.counter){m.refreshPositions(!l)}},0)},_clear:function(h,b){this.reverting=false;var a=[],m=this;if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var l in this._storedCSS){if(this._storedCSS[l]=="auto"||this._storedCSS[l]=="static"){this._storedCSS[l]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!b){a.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!b){a.push(function(e){this._trigger("update",e,this._uiHash())})}if(!d.ui.contains(this.element[0],this.currentItem[0])){if(!b){a.push(function(e){this._trigger("remove",e,this._uiHash())})}for(var l=this.containers.length-1;l>=0;l--){if(d.ui.contains(this.containers[l].element[0],this.currentItem[0])&&!b){a.push((function(e){return function(f){e._trigger("receive",f,this._uiHash(this))}}).call(this,this.containers[l]));a.push((function(e){return function(f){e._trigger("update",f,this._uiHash(this))}}).call(this,this.containers[l]))}}}for(var l=this.containers.length-1;l>=0;l--){if(!b){a.push((function(e){return function(f){e._trigger("deactivate",f,this._uiHash(this))}}).call(this,this.containers[l]))}if(this.containers[l].containerCache.over){a.push((function(e){return function(f){e._trigger("out",f,this._uiHash(this))}}).call(this,this.containers[l]));this.containers[l].containerCache.over=0}}if(this._storedCursor){d("body").css("cursor",this._storedCursor)}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!b){this._trigger("beforeStop",h,this._uiHash());for(var l=0;l<a.length;l++){a[l].call(this,h)}this._trigger("stop",h,this._uiHash())}return false}if(!b){this._trigger("beforeStop",h,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0]){this.helper.remove()}this.helper=null;if(!b){for(var l=0;l<a.length;l++){a[l].call(this,h)}this._trigger("stop",h,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(d.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(a){var b=a||this;return{helper:b.helper,placeholder:b.placeholder||d([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:a?a.element:null}}});d.extend(d.ui.sortable,{version:"1.8.17"})})(jQuery);(function(m,l){var o="ui-dialog ui-widget ui-widget-content ui-corner-all ",g={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},n={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},h=m.attrFn||{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true,click:true};m.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(a){var b=m(this).css(a).offset().top;if(b<0){m(this).css("top",a.top-b)}}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle=""}this.options.title=this.options.title||this.originalTitle;var x=this,w=x.options,b=w.title||"&#160;",u=m.ui.dialog.getTitleId(x.element),a=(x.uiDialog=m("<div></div>")).appendTo(document.body).hide().addClass(o+w.dialogClass).css({zIndex:w.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(p){if(w.closeOnEscape&&!p.isDefaultPrevented()&&p.keyCode&&p.keyCode===m.ui.keyCode.ESCAPE){x.close(p);p.preventDefault()}}).attr({role:"dialog","aria-labelledby":u}).mousedown(function(p){x.moveToTop(false,p)}),e=x.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(a),f=(x.uiDialogTitlebar=m("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(a),c=m('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){c.addClass("ui-state-hover")},function(){c.removeClass("ui-state-hover")}).focus(function(){c.addClass("ui-state-focus")}).blur(function(){c.removeClass("ui-state-focus")}).click(function(p){x.close(p);return false}).appendTo(f),d=(x.uiDialogTitlebarCloseText=m("<span></span>")).addClass("ui-icon ui-icon-closethick").text(w.closeText).appendTo(c),v=m("<span></span>").addClass("ui-dialog-title").attr("id",u).html(b).prependTo(f);if(m.isFunction(w.beforeclose)&&!m.isFunction(w.beforeClose)){w.beforeClose=w.beforeclose}f.find("*").add(f).disableSelection();if(w.draggable&&m.fn.draggable){x._makeDraggable()}if(w.resizable&&m.fn.resizable){x._makeResizable()}x._createButtons(w.buttons);x._isOpen=false;if(m.fn.bgiframe){a.bgiframe()}},_init:function(){if(this.options.autoOpen){this.open()}},destroy:function(){var a=this;if(a.overlay){a.overlay.destroy()}a.uiDialog.hide();a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");a.uiDialog.remove();if(a.originalTitle){a.element.attr("title",a.originalTitle)}return a},widget:function(){return this.uiDialog},close:function(a){var d=this,b,c;if(false===d._trigger("beforeClose",a)){return}if(d.overlay){d.overlay.destroy()}d.uiDialog.unbind("keypress.ui-dialog");d._isOpen=false;if(d.options.hide){d.uiDialog.hide(d.options.hide,function(){d._trigger("close",a)})}else{d.uiDialog.hide();d._trigger("close",a)}m.ui.dialog.overlay.resize();if(d.options.modal){b=0;m(".ui-dialog").each(function(){if(this!==d.uiDialog[0]){c=m(this).css("z-index");if(!isNaN(c)){b=Math.max(b,c)}}});m.ui.dialog.maxZ=b}return d},isOpen:function(){return this._isOpen},moveToTop:function(e,a){var d=this,b=d.options,c;if((b.modal&&!e)||(!b.stack&&!b.modal)){return d._trigger("focus",a)}if(b.zIndex>m.ui.dialog.maxZ){m.ui.dialog.maxZ=b.zIndex}if(d.overlay){m.ui.dialog.maxZ+=1;d.overlay.$el.css("z-index",m.ui.dialog.overlay.maxZ=m.ui.dialog.maxZ)}c={scrollTop:d.element.scrollTop(),scrollLeft:d.element.scrollLeft()};m.ui.dialog.maxZ+=1;d.uiDialog.css("z-index",m.ui.dialog.maxZ);d.element.attr(c);d._trigger("focus",a);return d},open:function(){if(this._isOpen){return}var b=this,a=b.options,c=b.uiDialog;b.overlay=a.modal?new m.ui.dialog.overlay(b):null;b._size();b._position(a.position);c.show(a.show);b.moveToTop(true);if(a.modal){c.bind("keydown.ui-dialog",function(f){if(f.keyCode!==m.ui.keyCode.TAB){return}var q=m(":tabbable",this),e=q.filter(":first"),d=q.filter(":last");if(f.target===d[0]&&!f.shiftKey){e.focus(1);return false}else{if(f.target===e[0]&&f.shiftKey){d.focus(1);return false}}})}m(b.element.find(":tabbable").get().concat(c.find(".ui-dialog-buttonpane :tabbable").get().concat(c.get()))).eq(0).focus();b._isOpen=true;b._trigger("open");return b},_createButtons:function(a){var b=this,d=false,c=m("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),e=m("<div></div>").addClass("ui-dialog-buttonset").appendTo(c);b.uiDialog.find(".ui-dialog-buttonpane").remove();if(typeof a==="object"&&a!==null){m.each(a,function(){return !(d=true)})}if(d){m.each(a,function(t,f){f=m.isFunction(f)?{click:f,text:t}:f;var s=m('<button type="button"></button>').click(function(){f.click.apply(b.element[0],arguments)}).appendTo(e);m.each(f,function(q,p){if(q==="click"){return}if(q in h){s[q](p)}else{s.attr(q,p)}});if(m.fn.button){s.button()}});c.appendTo(b.uiDialog)}},_makeDraggable:function(){var d=this,a=d.options,e=m(document),b;function c(f){return{position:f.position,offset:f.offset}}d.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(q,f){b=a.height==="auto"?"auto":m(this).height();m(this).height(m(this).height()).addClass("ui-dialog-dragging");d._trigger("dragStart",q,c(f))},drag:function(q,f){d._trigger("drag",q,c(f))},stop:function(q,f){a.position=[f.position.left-e.scrollLeft(),f.position.top-e.scrollTop()];m(this).removeClass("ui-dialog-dragging").height(b);d._trigger("dragStop",q,c(f));m.ui.dialog.overlay.resize()}})},_makeResizable:function(e){e=(e===l?this.options.resizable:e);var c=this,f=c.options,d=c.uiDialog.css("position"),a=(typeof e==="string"?e:"n,e,s,w,se,sw,ne,nw");function b(q){return{originalPosition:q.originalPosition,originalSize:q.originalSize,position:q.position,size:q.size}}c.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:c.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:c._minHeight(),handles:a,start:function(t,s){m(this).addClass("ui-dialog-resizing");c._trigger("resizeStart",t,b(s))},resize:function(t,s){c._trigger("resize",t,b(s))},stop:function(t,s){m(this).removeClass("ui-dialog-resizing");f.height=m(this).height();f.width=m(this).width();c._trigger("resizeStop",t,b(s));m.ui.dialog.overlay.resize()}}).css("position",d).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;if(a.height==="auto"){return a.minHeight}else{return Math.min(a.minHeight,a.height)}},_position:function(c){var b=[],a=[0,0],d;if(c){if(typeof c==="string"||(typeof c==="object"&&"0" in c)){b=c.split?c.split(" "):[c[0],c[1]];if(b.length===1){b[1]=b[0]}m.each(["left","top"],function(e,f){if(+b[e]===b[e]){a[e]=b[e];b[e]=f}});c={my:b.join(" "),at:b.join(" "),offset:a.join(" ")}}c=m.extend({},m.ui.dialog.prototype.options.position,c)}else{c=m.ui.dialog.prototype.options.position}d=this.uiDialog.is(":visible");if(!d){this.uiDialog.show()}this.uiDialog.css({top:0,left:0}).position(m.extend({of:window},c));if(!d){this.uiDialog.hide()}},_setOptions:function(a){var c=this,d={},b=false;m.each(a,function(f,e){c._setOption(f,e);if(f in g){b=true}if(f in n){d[f]=e}});if(b){this._size()}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option",d)}},_setOption:function(a,f){var c=this,d=c.uiDialog;switch(a){case"beforeclose":a="beforeClose";break;case"buttons":c._createButtons(f);break;case"closeText":c.uiDialogTitlebarCloseText.text(""+f);break;case"dialogClass":d.removeClass(c.options.dialogClass).addClass(o+f);break;case"disabled":if(f){d.addClass("ui-dialog-disabled")}else{d.removeClass("ui-dialog-disabled")}break;case"draggable":var b=d.is(":data(draggable)");if(b&&!f){d.draggable("destroy")}if(!b&&f){c._makeDraggable()}break;case"position":c._position(f);break;case"resizable":var e=d.is(":data(resizable)");if(e&&!f){d.resizable("destroy")}if(e&&typeof f==="string"){d.resizable("option","handles",f)}if(!e&&f!==false){c._makeResizable(f)}break;case"title":m(".ui-dialog-title",c.uiDialogTitlebar).html(""+(f||"&#160;"));break}m.Widget.prototype._setOption.apply(c,arguments)},_size:function(){var e=this.options,c,a,d=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(e.minWidth>e.width){e.width=e.minWidth}c=this.uiDialog.css({height:"auto",width:e.width}).height();a=Math.max(0,e.minHeight-c);if(e.height==="auto"){if(m.support.minHeight){this.element.css({minHeight:a,height:"auto"})}else{this.uiDialog.show();var b=this.element.css("height","auto").height();if(!d){this.uiDialog.hide()}this.element.height(Math.max(b,a))}}else{this.element.height(Math.max(e.height-c,0))}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}}});m.extend(m.ui.dialog,{version:"1.8.17",uuid:0,maxZ:0,getTitleId:function(b){var a=b.attr("id");if(!a){this.uuid+=1;a=this.uuid}return"ui-dialog-title-"+a},overlay:function(a){this.$el=m.ui.dialog.overlay.create(a)}});m.extend(m.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:m.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(a){if(this.instances.length===0){setTimeout(function(){if(m.ui.dialog.overlay.instances.length){m(document).bind(m.ui.dialog.overlay.events,function(c){if(m(c.target).zIndex()<m.ui.dialog.overlay.maxZ){return false}})}},1);m(document).bind("keydown.dialog-overlay",function(c){if(a.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===m.ui.keyCode.ESCAPE){a.close(c);c.preventDefault()}});m(window).bind("resize.dialog-overlay",m.ui.dialog.overlay.resize)}var b=(this.oldInstances.pop()||m("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body);if(m.fn.bgiframe){b.bgiframe()}this.instances.push(b);return b},destroy:function(c){var b=m.inArray(c,this.instances);if(b!=-1){this.oldInstances.push(this.instances.splice(b,1)[0])}if(this.instances.length===0){m([document,window]).unbind(".dialog-overlay")}c.remove();var a=0;m.each(this.instances,function(){a=Math.max(a,this.css("z-index"))});this.maxZ=a},height:function(){var a,b;if(m.browser.msie&&m.browser.version<7){a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);b=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(a<b){return m(window).height()+"px"}else{return a+"px"}}else{return m(document).height()+"px"}},width:function(){var b,a;if(m.browser.msie){b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);a=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(b<a){return m(window).width()+"px"}else{return b+"px"}}else{return m(document).width()+"px"}},resize:function(){var a=m([]);m.each(m.ui.dialog.overlay.instances,function(){a=a.add(this)});a.css({width:0,height:0}).css({width:m.ui.dialog.overlay.width(),height:m.ui.dialog.overlay.height()})}});m.extend(m.ui.dialog.overlay.prototype,{destroy:function(){m.ui.dialog.overlay.destroy(this.$el)}})}(jQuery));(function(e,d){var f=0;e.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var c=this,a=this.element[0].ownerDocument,b;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(m){if(c.options.disabled||c.element.propAttr("readOnly")){return}b=false;var l=e.ui.keyCode;switch(m.keyCode){case l.PAGE_UP:c._move("previousPage",m);break;case l.PAGE_DOWN:c._move("nextPage",m);break;case l.UP:c._move("previous",m);m.preventDefault();break;case l.DOWN:c._move("next",m);m.preventDefault();break;case l.ENTER:case l.NUMPAD_ENTER:if(c.menu.active){b=true;m.preventDefault()}case l.TAB:if(!c.menu.active){return}c.menu.select(m);break;case l.ESCAPE:c.element.val(c.term);c.close(m);break;default:clearTimeout(c.searching);c.searching=setTimeout(function(){if(c.term!=c.element.val()){c.selectedItem=null;c.search(null,m)}},c.options.delay);break}}).bind("keypress.autocomplete",function(h){if(b){b=false;h.preventDefault()}}).bind("focus.autocomplete",function(){if(c.options.disabled){return}c.selectedItem=null;c.previous=c.element.val()}).bind("blur.autocomplete",function(h){if(c.options.disabled){return}clearTimeout(c.searching);c.closing=setTimeout(function(){c.close(h);c._change(h)},150)});this._initSource();this.response=function(){return c._response.apply(c,arguments)};this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo||"body",a)[0]).mousedown(function(m){var l=c.menu.element[0];if(!e(m.target).closest(".ui-menu-item").length){setTimeout(function(){e(document).one("mousedown",function(g){if(g.target!==c.element[0]&&g.target!==l&&!e.ui.contains(l,g.target)){c.close()}})},1)}setTimeout(function(){clearTimeout(c.closing)},13)}).menu({focus:function(n,m){var o=m.item.data("item.autocomplete");if(false!==c._trigger("focus",n,{item:o})){if(/^key/.test(n.originalEvent.type)){c.element.val(o.value)}}},selected:function(o,n){var p=n.item.data("item.autocomplete"),q=c.previous;if(c.element[0]!==a.activeElement){c.element.focus();c.previous=q;setTimeout(function(){c.previous=q;c.selectedItem=p},1)}if(false!==c._trigger("select",o,{item:p})){c.element.val(p.value)}c.term=c.element.val();c.close(o);c.selectedItem=p},blur:function(m,l){if(c.menu.element.is(":visible")&&(c.element.val()!==c.term)){c.element.val(c.term)}}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");if(e.fn.bgiframe){this.menu.element.bgiframe()}c.beforeunloadHandler=function(){c.element.removeAttr("autocomplete")};e(window).bind("beforeunload",c.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();e(window).unbind("beforeunload",this.beforeunloadHandler);e.Widget.prototype.destroy.call(this)},_setOption:function(b,a){e.Widget.prototype._setOption.apply(this,arguments);if(b==="source"){this._initSource()}if(b==="appendTo"){this.menu.element.appendTo(e(a||"body",this.element[0].ownerDocument)[0])}if(b==="disabled"&&a&&this.xhr){this.xhr.abort()}},_initSource:function(){var c=this,a,b;if(e.isArray(this.options.source)){a=this.options.source;this.source=function(l,m){m(e.ui.autocomplete.filter(a,l.term))}}else{if(typeof this.options.source==="string"){b=this.options.source;this.source=function(l,m){if(c.xhr){c.xhr.abort()}c.xhr=e.ajax({url:b,data:l,dataType:"json",autocompleteRequest:++f,success:function(g,h){if(this.autocompleteRequest===f){m(g)}},error:function(){if(this.autocompleteRequest===f){m([])}}})}}else{this.source=this.options.source}}},search:function(a,b){a=a!=null?a:this.element.val();this.term=this.element.val();if(a.length<this.options.minLength){return this.close(b)}clearTimeout(this.closing);if(this._trigger("search",b)===false){return}return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:a},this.response)},_response:function(a){if(!this.options.disabled&&a&&a.length){a=this._normalize(a);this._suggest(a);this._trigger("open")}else{this.close()}this.pending--;if(!this.pending){this.element.removeClass("ui-autocomplete-loading")}},close:function(a){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",a)}},_change:function(a){if(this.previous!==this.element.val()){this._trigger("change",a,{item:this.selectedItem})}},_normalize:function(a){if(a.length&&a[0].label&&a[0].value){return a}return e.map(a,function(b){if(typeof b==="string"){return{label:b,value:b}}return e.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var a=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(a,b);this.menu.deactivate();this.menu.refresh();a.show();this._resizeMenu();a.position(e.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next(new e.Event("mouseover"))}},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,b){var c=this;e.each(b,function(m,l){c._renderItem(a,l)})},_renderItem:function(b,a){return e("<li></li>").data("item.autocomplete",a).append(e("<a></a>").text(a.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(":visible")){this.search(null,b);return}if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)){this.element.val(this.term);this.menu.deactivate();return}this.menu[a](b)},widget:function(){return this.menu.element}});e.extend(e.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(a,c){var b=new RegExp(e.ui.autocomplete.escapeRegex(c),"i");return e.grep(a,function(h){return b.test(h.label||h.value||h)})}})}(jQuery));(function(b){b.widget("ui.menu",{_create:function(){var a=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(d){if(!b(d.target).closest(".ui-menu-item a").length){return}d.preventDefault();a.select(d)});this.refresh()},refresh:function(){var d=this;var a=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");a.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){d.activate(c,b(this).parent())}).mouseleave(function(){d.deactivate()})},activate:function(h,l){this.deactivate();if(this.hasScroll()){var g=l.offset().top-this.element.offset().top,a=this.element.scrollTop(),m=this.element.height();if(g<0){this.element.scrollTop(a+g)}else{if(g>=m){this.element.scrollTop(a+g-m+l.height())}}}this.active=l.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",h,{item:l})},deactivate:function(){if(!this.active){return}this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(f,g,h){if(!this.active){this.activate(h,this.element.children(g));return}var a=this.active[f+"All"](".ui-menu-item").eq(0);if(a.length){this.activate(h,a)}else{this.activate(h,this.element.children(g))}},nextPage:function(g){if(this.hasScroll()){if(!this.active||this.last()){this.activate(g,this.element.children(".ui-menu-item:first"));return}var f=this.active.offset().top,h=this.element.height(),a=this.element.children(".ui-menu-item").filter(function(){var c=b(this).offset().top-f-h+b(this).height();return c<10&&c>-10});if(!a.length){a=this.element.children(".ui-menu-item:last")}this.activate(g,a)}else{this.activate(g,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))}},previousPage:function(f){if(this.hasScroll()){if(!this.active||this.first()){this.activate(f,this.element.children(".ui-menu-item:last"));return}var e=this.active.offset().top,a=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var c=b(this).offset().top-e+a-b(this).height();return c<10&&c>-10});if(!result.length){result=this.element.children(".ui-menu-item:first")}this.activate(f,result)}else{this.activate(f,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))}},hasScroll:function(){return this.element.height()<this.element[b.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery));(function(n){n.widget("akottr.dragtable",{options:{revert:false,dragHandle:".table-handle",maxMovingRows:40,excludeFooter:false,onlyHeaderThreshold:100,dragaccept:null,persistState:null,restoreState:null,clickDelay:10,containment:null,cursor:"move",cursorAt:false,distance:0,tolerance:"pointer",axis:"x",beforeStart:n.noop,beforeMoving:n.noop,beforeReorganize:n.noop,beforeStop:n.noop},originalTable:{el:null,selectedHandle:null,sortOrder:null,startIndex:0,endIndex:0},sortableTable:{el:n(),selectedHandle:n(),movingRow:n()},persistState:function(){var a=this;this.originalTable.el.find("th").each(function(b){if(this.id!==""){a.originalTable.sortOrder[this.id]=b}});n.ajax({url:this.options.persistState,data:this.originalTable.sortOrder})},_restoreState:function(b){for(var a in b){this.originalTable.startIndex=n("#"+a).closest("th").prevAll().size()+1;this.originalTable.endIndex=parseInt(b[a]+1,10);this._bubbleCols()}},_bubbleCols:function(){var c,d,q,a;var e=this.originalTable.startIndex;var f=this.originalTable.endIndex;var b=this.originalTable.el.children();if(this.options.excludeFooter){b=b.not("tfoot")}if(e<f){for(c=e;c<f;c++){q=b.find("> tr > td:nth-child("+c+")").add(b.find("> tr > th:nth-child("+c+")"));a=b.find("> tr > td:nth-child("+(c+1)+")").add(b.find("> tr > th:nth-child("+(c+1)+")"));for(d=0;d<q.length;d++){o(q[d],a[d])}}}else{for(c=e;c>f;c--){q=b.find("> tr > td:nth-child("+c+")").add(b.find("> tr > th:nth-child("+c+")"));a=b.find("> tr > td:nth-child("+(c-1)+")").add(b.find("> tr > th:nth-child("+(c-1)+")"));for(d=0;d<q.length;d++){o(q[d],a[d])}}}},_rearrangeTableBackroundProcessing:function(){var a=this;return function(){a._bubbleCols();a.options.beforeStop(this.originalTable);a.sortableTable.el.remove();g();if(a.options.persistState!==null){n.isFunction(a.options.persistState)?a.options.persistState(a.originalTable):a.persistState()}}},_rearrangeTable:function(){var a=this;return function(){a.originalTable.selectedHandle.removeClass("dragtable-handle-selected");a.sortableTable.el.sortable("disable");a.sortableTable.el.addClass("dragtable-disabled");a.options.beforeReorganize(a.originalTable,a.sortableTable);a.originalTable.endIndex=a.sortableTable.movingRow.prevAll().size()+1;setTimeout(a._rearrangeTableBackroundProcessing(),50)}},_generateSortable:function(c){!c.cancelBubble&&(c.cancelBubble=true);var d=this;var C=this.originalTable.el[0].attributes;var B="";for(var z=0;z<C.length;z++){if(C[z].nodeValue&&C[z].nodeName!="id"&&C[z].nodeName!="width"){B+=C[z].nodeName+'="'+C[z].nodeValue+'" '}}var F=[];var G=[];this.originalTable.el.find("tr").slice(0,this.options.maxMovingRows).each(function(t,s){var u=this.attributes;var q="";for(var p=0;p<u.length;p++){if(u[p].nodeValue&&u[p].nodeName!="id"){q+=" "+u[p].nodeName+'="'+u[p].nodeValue+'"'}}F.push(q);G.push(n(this).height())});var b=[];var f=0;var E=d.originalTable.el.children();if(this.options.excludeFooter){E=E.not("tfoot")}E.find("> tr > th").each(function(s,p){var q=n(this).outerWidth();b.push(q);f+=q+2});var e=c.clientX;var A=c.clientY;var H='<ul class="dragtable-sortable" style="position:absolute; width:'+f+'px;"  >';E.find("> tr > th").each(function(p,q){H+='<li style="width:'+n(q).width()+'px">';H+="<table "+B+">";var s=E.find("> tr > th:nth-child("+(p+1)+")");if(d.options.maxMovingRows>1){s=s.add(E.find("> tr > td:nth-child("+(p+1)+")").slice(0,d.options.maxMovingRows-1))}s.each(function(u){var t=n(this).clone().wrap("<div></div>").parent().html();if(t.toLowerCase().indexOf("<th")===0){H+="<thead>"}H+="<tr "+F[u]+'" style="height:'+G[u]+'px;">';H+=t;if(t.toLowerCase().indexOf("<th")===0){H+="</thead>"}H+="</tr>"});H+="</table>";H+="</li>"});H+="</ul>";this.sortableTable.el=this.originalTable.el.before(H).prev();this.sortableTable.el.find("> li > table").each(function(p,q){var s=n(this);if(b[p]<s.width()){s.css("width",b[p]+"px")}});this.sortableTable.selectedHandle=this.sortableTable.el.find("th .dragtable-handle-selected");var a=!this.options.dragaccept?"li":"li:has("+this.options.dragaccept+")";this.sortableTable.el.sortable({items:a,stop:this._rearrangeTable(),revert:this.options.revert,tolerance:this.options.tolerance,containment:this.options.containment,cursor:this.options.cursor,cursorAt:this.options.cursorAt,distance:this.options.distance,axis:this.options.axis});this.originalTable.startIndex=n(c.target).closest("th").prevAll().size()+1;this.options.beforeMoving(this.originalTable,this.sortableTable);this.sortableTable.movingRow=this.sortableTable.el.find("li:nth-child("+this.originalTable.startIndex+")");m();this.sortableTable.movingRow.trigger(n.extend(n.Event(c.type),{which:1,clientX:c.clientX,clientY:c.clientY,pageX:c.pageX,pageY:c.pageY,screenX:c.screenX,screenY:c.screenY}));var D=this.sortableTable.el.find(".ui-sortable-placeholder");if(!D.height()<=0){D.css("height",this.sortableTable.el.find(".ui-sortable-helper").height())}D.html('<div class="outer" style="height:100%;"><div class="inner" style="height:100%;"></div></div>')},bindTo:{},_create:function(){this.originalTable={el:this.element,selectedHandle:n(),sortOrder:{},startIndex:0,endIndex:0};this.bindTo=this.originalTable.el.find("th");if(this.options.dragaccept){this.bindTo=this.bindTo.filter(this.options.dragaccept)}if(this.bindTo.find(this.options.dragHandle).size()>0){this.bindTo=this.bindTo.find(this.options.dragHandle)}if(this.options.restoreState!==null){n.isFunction(this.options.restoreState)?this.options.restoreState(this.originalTable):this._restoreState(this.options.restoreState)}var a=this;this.bindTo.mousedown(function(b){clearTimeout(this.downTimer);this.downTimer=setTimeout(function(){a.originalTable.selectedHandle=n(this);a.originalTable.selectedHandle.addClass("dragtable-handle-selected");a.options.beforeStart(this.originalTable);a._generateSortable(b)},a.options.clickDelay)}).mouseup(function(b){clearTimeout(this.downTimer)})},destroy:function(){this.bindTo.unbind("mousedown");n.Widget.prototype.destroy.apply(this,arguments)}});var l=n(document.body).attr("onselectstart"),h=n(document.body).attr("unselectable");function m(){var a=n('<style id="__dragtable_disable_text_selection__" type="text/css">body { -ms-user-select:none;-moz-user-select:-moz-none;-khtml-user-select:none;-webkit-user-select:none;user-select:none; }</style>');n(document.head).append(a);n(document.body).attr("onselectstart","return false;").attr("unselectable","on");if(window.getSelection){window.getSelection().removeAllRanges()}else{document.selection.empty()}}function g(){n("#__dragtable_disable_text_selection__").remove();if(l){n(document.body).attr("onselectstart",l)}else{n(document.body).removeAttr("onselectstart")}if(h){n(document.body).attr("unselectable",h)}else{n(document.body).removeAttr("unselectable")}}function o(c,d){var a=c.parentNode;var b=c.nextSibling===d?c:c.nextSibling;d.parentNode.insertBefore(c,d);a.insertBefore(d,b)}})(jQuery);(function(p,m){p.extend(p.ui,{datepicker:{version:"@VERSION"}});var o;function n(b){var c,a;while(b.length&&b[0]!==document){c=b.css("position");if(c==="absolute"||c==="relative"||c==="fixed"){a=parseInt(b.css("zIndex"),10);if(!isNaN(a)&&a!==0){return a}}b=b.parent()}return 0}function q(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};p.extend(this._defaults,this.regional[""]);this.dpDiv=h(p("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}p.extend(q.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){l(this._defaults,a||{});return this},_attachDatepicker:function(e,c){var d,a,b;d=e.nodeName.toLowerCase();a=(d==="div"||d==="span");if(!e.id){this.uuid+=1;e.id="dp"+this.uuid}b=this._newInst(p(e),a);b.settings=p.extend({},c||{});if(d==="input"){this._connectDatepicker(e,b)}else{if(a){this._inlineDatepicker(e,b)}}},_newInst:function(b,c){var a=b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:a,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:(!c?this.dpDiv:h(p("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))}},_connectDatepicker:function(a,b){var c=p(a);b.append=p([]);b.trigger=p([]);if(c.hasClass(this.markerClassName)){return}this._attachments(c,b);c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(b);p.data(a,"datepicker",b);if(b.settings.disabled){this._disableDatepicker(a)}},_attachments:function(a,e){var b,f,c,d=this._get(e,"appendText"),g=this._get(e,"isRTL");if(e.append){e.append.remove()}if(d){e.append=p("<span class='"+this._appendClass+"'>"+d+"</span>");a[g?"before":"after"](e.append)}a.unbind("focus",this._showDatepicker);if(e.trigger){e.trigger.remove()}b=this._get(e,"showOn");if(b==="focus"||b==="both"){a.focus(this._showDatepicker)}if(b==="button"||b==="both"){f=this._get(e,"buttonText");c=this._get(e,"buttonImage");e.trigger=p(this._get(e,"buttonImageOnly")?p("<img/>").addClass(this._triggerClass).attr({src:c,alt:f,title:f}):p("<button type='button'></button>").addClass(this._triggerClass).html(!c?f:p("<img/>").attr({src:c,alt:f,title:f})));a[g?"before":"after"](e.trigger);e.trigger.click(function(){if(p.datepicker._datepickerShowing&&p.datepicker._lastInput===a[0]){p.datepicker._hideDatepicker()}else{if(p.datepicker._datepickerShowing&&p.datepicker._lastInput!==a[0]){p.datepicker._hideDatepicker();p.datepicker._showDatepicker(a[0])}else{p.datepicker._showDatepicker(a[0])}}return false})}},_autoSize:function(d){if(this._get(d,"autoSize")&&!d.inline){var g,b,a,e,f=new Date(2009,12-1,20),c=this._get(d,"dateFormat");if(c.match(/[DM]/)){g=function(t){b=0;a=0;for(e=0;e<t.length;e++){if(t[e].length>b){b=t[e].length;a=e}}return a};f.setMonth(g(this._get(d,(c.match(/MM/)?"monthNames":"monthNamesShort"))));f.setDate(g(this._get(d,(c.match(/DD/)?"dayNames":"dayNamesShort")))+20-f.getDay())}d.input.attr("size",this._formatDate(d,f).length)}},_inlineDatepicker:function(b,c){var a=p(b);if(a.hasClass(this.markerClassName)){return}a.addClass(this.markerClassName).append(c.dpDiv);p.data(b,"datepicker",c);this._setDate(c,this._getDefaultDate(c),true);this._updateDatepicker(c);this._updateAlternate(c);if(c.settings.disabled){this._disableDatepicker(b)}c.dpDiv.css("display","block")},_dialogDatepicker:function(z,f,b,e,a){var g,w,c,x,y,d=this._dialogInst;if(!d){this.uuid+=1;g="dp"+this.uuid;this._dialogInput=p("<input type='text' id='"+g+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);p("body").append(this._dialogInput);d=this._dialogInst=this._newInst(this._dialogInput,false);d.settings={};p.data(this._dialogInput[0],"datepicker",d)}l(d.settings,e||{});f=(f&&f.constructor===Date?this._formatDate(d,f):f);this._dialogInput.val(f);this._pos=(a?(a.length?a:[a.pageX,a.pageY]):null);if(!this._pos){w=document.documentElement.clientWidth;c=document.documentElement.clientHeight;x=document.documentElement.scrollLeft||document.body.scrollLeft;y=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(w/2)-100+x,(c/2)-150+y]}this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");d.settings.onSelect=b;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(p.blockUI){p.blockUI(this.dpDiv)}p.data(this._dialogInput[0],"datepicker",d);return this},_destroyDatepicker:function(a){var d,c=p(a),b=p.data(a,"datepicker");if(!c.hasClass(this.markerClassName)){return}d=a.nodeName.toLowerCase();p.removeData(a,"datepicker");if(d==="input"){b.append.remove();b.trigger.remove();c.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(d==="div"||d==="span"){c.removeClass(this.markerClassName).empty()}}},_enableDatepicker:function(e){var d,a,c=p(e),b=p.data(e,"datepicker");if(!c.hasClass(this.markerClassName)){return}d=e.nodeName.toLowerCase();if(d==="input"){e.disabled=false;b.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(d==="div"||d==="span"){a=c.children("."+this._inlineClass);a.children().removeClass("ui-state-disabled");a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}}this._disabledInputs=p.map(this._disabledInputs,function(f){return(f===e?null:f)})},_disableDatepicker:function(e){var d,a,c=p(e),b=p.data(e,"datepicker");if(!c.hasClass(this.markerClassName)){return}d=e.nodeName.toLowerCase();if(d==="input"){e.disabled=true;b.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(d==="div"||d==="span"){a=c.children("."+this._inlineClass);a.children().addClass("ui-state-disabled");a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}}this._disabledInputs=p.map(this._disabledInputs,function(f){return(f===e?null:f)});this._disabledInputs[this._disabledInputs.length]=e},_isDisabledDatepicker:function(a){if(!a){return false}for(var b=0;b<this._disabledInputs.length;b++){if(this._disabledInputs[b]===a){return true}}return false},_getInst:function(a){try{return p.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,b,f){var a,d,g,c,t=this._getInst(e);if(arguments.length===2&&typeof b==="string"){return(b==="defaults"?p.extend({},p.datepicker._defaults):(t?(b==="all"?p.extend({},t.settings):this._get(t,b)):null))}a=b||{};if(typeof b==="string"){a={};a[b]=f}if(t){if(this._curInst===t){this._hideDatepicker()}d=this._getDateDatepicker(e,true);g=this._getMinMaxDate(t,"min");c=this._getMinMaxDate(t,"max");l(t.settings,a);if(g!==null&&a.dateFormat!==m&&a.minDate===m){t.settings.minDate=this._formatDate(t,g)}if(c!==null&&a.dateFormat!==m&&a.maxDate===m){t.settings.maxDate=this._formatDate(t,c)}if("disabled" in a){if(a.disabled){this._disableDatepicker(e)}else{this._enableDatepicker(e)}}this._attachments(p(e),t);this._autoSize(t);this._setDate(t,d);this._updateAlternate(t);this._updateDatepicker(t)}},_changeDatepicker:function(a,c,b){this._optionDatepicker(a,c,b)},_refreshDatepicker:function(a){var b=this._getInst(a);if(b){this._updateDatepicker(b)}},_setDateDatepicker:function(a,c){var b=this._getInst(a);if(b){this._setDate(b,c);this._updateDatepicker(b);this._updateAlternate(b)}},_getDateDatepicker:function(a,c){var b=this._getInst(a);if(b&&!b.inline){this._setDateFromField(b,c)}return(b?this._getDate(b):null)},_doKeyDown:function(g){var b,c,e,f=p.datepicker._getInst(g.target),d=true,a=f.dpDiv.is(".ui-datepicker-rtl");f._keyEvent=true;if(p.datepicker._datepickerShowing){switch(g.keyCode){case 9:p.datepicker._hideDatepicker();d=false;break;case 13:e=p("td."+p.datepicker._dayOverClass+":not(."+p.datepicker._currentClass+")",f.dpDiv);if(e[0]){p.datepicker._selectDay(g.target,f.selectedMonth,f.selectedYear,e[0])}b=p.datepicker._get(f,"onSelect");if(b){c=p.datepicker._formatDate(f);b.apply((f.input?f.input[0]:null),[c,f])}else{p.datepicker._hideDatepicker()}return false;case 27:p.datepicker._hideDatepicker();break;case 33:p.datepicker._adjustDate(g.target,(g.ctrlKey?-p.datepicker._get(f,"stepBigMonths"):-p.datepicker._get(f,"stepMonths")),"M");break;case 34:p.datepicker._adjustDate(g.target,(g.ctrlKey?+p.datepicker._get(f,"stepBigMonths"):+p.datepicker._get(f,"stepMonths")),"M");break;case 35:if(g.ctrlKey||g.metaKey){p.datepicker._clearDate(g.target)}d=g.ctrlKey||g.metaKey;break;case 36:if(g.ctrlKey||g.metaKey){p.datepicker._gotoToday(g.target)}d=g.ctrlKey||g.metaKey;break;case 37:if(g.ctrlKey||g.metaKey){p.datepicker._adjustDate(g.target,(a?+1:-1),"D")}d=g.ctrlKey||g.metaKey;if(g.originalEvent.altKey){p.datepicker._adjustDate(g.target,(g.ctrlKey?-p.datepicker._get(f,"stepBigMonths"):-p.datepicker._get(f,"stepMonths")),"M")}break;case 38:if(g.ctrlKey||g.metaKey){p.datepicker._adjustDate(g.target,-7,"D")}d=g.ctrlKey||g.metaKey;break;case 39:if(g.ctrlKey||g.metaKey){p.datepicker._adjustDate(g.target,(a?-1:+1),"D")}d=g.ctrlKey||g.metaKey;if(g.originalEvent.altKey){p.datepicker._adjustDate(g.target,(g.ctrlKey?+p.datepicker._get(f,"stepBigMonths"):+p.datepicker._get(f,"stepMonths")),"M")}break;case 40:if(g.ctrlKey||g.metaKey){p.datepicker._adjustDate(g.target,+7,"D")}d=g.ctrlKey||g.metaKey;break;default:d=false}}else{if(g.keyCode===36&&g.ctrlKey){p.datepicker._showDatepicker(this)}else{d=false}}if(d){g.preventDefault();g.stopPropagation()}},_doKeyPress:function(a){var b,c,d=p.datepicker._getInst(a.target);if(p.datepicker._get(d,"constrainInput")){b=p.datepicker._possibleChars(p.datepicker._get(d,"dateFormat"));c=String.fromCharCode(a.charCode==null?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||(c<" "||!b||b.indexOf(c)>-1)}},_doKeyUp:function(a){var c,d=p.datepicker._getInst(a.target);if(d.input.val()!==d.lastVal){try{c=p.datepicker.parseDate(p.datepicker._get(d,"dateFormat"),(d.input?d.input.val():null),p.datepicker._getFormatConfig(d));if(c){p.datepicker._setDateFromField(d);p.datepicker._updateAlternate(d);p.datepicker._updateDatepicker(d)}}catch(b){}}return true},_showDatepicker:function(b){b=b.target||b;if(b.nodeName.toLowerCase()!=="input"){b=p("input",b.parentNode)[0]}if(p.datepicker._isDisabledDatepicker(b)||p.datepicker._lastInput===b){return}var t,d,a,f,e,c,g;t=p.datepicker._getInst(b);if(p.datepicker._curInst&&p.datepicker._curInst!==t){p.datepicker._curInst.dpDiv.stop(true,true);if(t&&p.datepicker._datepickerShowing){p.datepicker._hideDatepicker(p.datepicker._curInst.input[0])}}d=p.datepicker._get(t,"beforeShow");a=d?d.apply(b,[b,t]):{};if(a===false){return}l(t.settings,a);t.lastVal=null;p.datepicker._lastInput=b;p.datepicker._setDateFromField(t);if(p.datepicker._inDialog){b.value=""}if(!p.datepicker._pos){p.datepicker._pos=p.datepicker._findPos(b);p.datepicker._pos[1]+=b.offsetHeight}f=false;p(b).parents().each(function(){f|=p(this).css("position")==="fixed";return !f});e={left:p.datepicker._pos[0],top:p.datepicker._pos[1]};p.datepicker._pos=null;t.dpDiv.empty();t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});p.datepicker._updateDatepicker(t);e=p.datepicker._checkOffset(t,e,f);t.dpDiv.css({position:(p.datepicker._inDialog&&p.blockUI?"static":(f?"fixed":"absolute")),display:"none",left:e.left+"px",top:e.top+"px"});if(!t.inline){c=p.datepicker._get(t,"showAnim");g=p.datepicker._get(t,"duration");t.dpDiv.css("z-index",n(p(b))+1);p.datepicker._datepickerShowing=true;if(p.effects&&p.effects.effect[c]){t.dpDiv.show(c,p.datepicker._get(t,"showOptions"),g)}else{t.dpDiv[c||"show"](c?g:null)}if(p.datepicker._shouldFocusInput(t)){t.input.focus()}p.datepicker._curInst=t}},_updateDatepicker:function(a){this.maxRows=4;o=a;a.dpDiv.empty().append(this._generateHTML(a));this._attachHandlers(a);a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var d,c=this._getNumberOfMonths(a),e=c[1],b=17;a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(e>1){a.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",(b*e)+"em")}a.dpDiv[(c[0]!==1||c[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(a===p.datepicker._curInst&&p.datepicker._datepickerShowing&&p.datepicker._shouldFocusInput(a)){a.input.focus()}if(a.yearshtml){d=a.yearshtml;setTimeout(function(){if(d===a.yearshtml&&a.yearshtml){a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml)}d=a.yearshtml=null},0)}},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,d,e){var c=b.dpDiv.outerWidth(),u=b.dpDiv.outerHeight(),v=b.input?b.input.outerWidth():0,g=b.input?b.input.outerHeight():0,a=document.documentElement.clientWidth+(e?0:p(document).scrollLeft()),f=document.documentElement.clientHeight+(e?0:p(document).scrollTop());d.left-=(this._get(b,"isRTL")?(c-v):0);d.left-=(e&&d.left===b.input.offset().left)?p(document).scrollLeft():0;d.top-=(e&&d.top===(b.input.offset().top+g))?p(document).scrollTop():0;d.left-=Math.min(d.left,(d.left+c>a&&a>c)?Math.abs(d.left+c-a):0);d.top-=Math.min(d.top,(d.top+u>f&&f>u)?Math.abs(u+g):0);return d},_findPos:function(d){var c,a=this._getInst(d),b=this._get(a,"isRTL");while(d&&(d.type==="hidden"||d.nodeType!==1||p.expr.filters.hidden(d))){d=d[b?"previousSibling":"nextSibling"]}c=p(d).offset();return[c.left,c.top]},_hideDatepicker:function(a){var b,d,e,c,f=this._curInst;if(!f||(a&&f!==p.data(a,"datepicker"))){return}if(this._datepickerShowing){b=this._get(f,"showAnim");d=this._get(f,"duration");e=function(){p.datepicker._tidyDialog(f)};if(p.effects&&(p.effects.effect[b]||p.effects[b])){f.dpDiv.hide(b,p.datepicker._get(f,"showOptions"),d,e)}else{f.dpDiv[(b==="slideDown"?"slideUp":(b==="fadeIn"?"fadeOut":"hide"))]((b?d:null),e)}if(!b){e()}this._datepickerShowing=false;c=this._get(f,"onClose");if(c){c.apply((f.input?f.input[0]:null),[(f.input?f.input.val():""),f])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(p.blockUI){p.unblockUI();p("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(!p.datepicker._curInst){return}var c=p(b.target),a=p.datepicker._getInst(c[0]);if(((c[0].id!==p.datepicker._mainDivId&&c.parents("#"+p.datepicker._mainDivId).length===0&&!c.hasClass(p.datepicker.markerClassName)&&!c.closest("."+p.datepicker._triggerClass).length&&p.datepicker._datepickerShowing&&!(p.datepicker._inDialog&&p.blockUI)))||(c.hasClass(p.datepicker.markerClassName)&&p.datepicker._curInst!==a)){p.datepicker._hideDatepicker()}},_adjustDate:function(d,e,a){var b=p(d),c=this._getInst(b[0]);if(this._isDisabledDatepicker(b[0])){return}this._adjustInstDate(c,e+(a==="M"?this._get(c,"showCurrentAtPos"):0),a);this._updateDatepicker(c)},_gotoToday:function(d){var c,a=p(d),b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay){b.selectedDay=b.currentDay;b.drawMonth=b.selectedMonth=b.currentMonth;b.drawYear=b.selectedYear=b.currentYear}else{c=new Date();b.selectedDay=c.getDate();b.drawMonth=b.selectedMonth=c.getMonth();b.drawYear=b.selectedYear=c.getFullYear()}this._notifyChange(b);this._adjustDate(a)},_selectMonthYear:function(d,c,e){var a=p(d),b=this._getInst(a[0]);b["selected"+(e==="M"?"Month":"Year")]=b["draw"+(e==="M"?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10);this._notifyChange(b);this._adjustDate(a)},_selectDay:function(d,f,c,e){var b,a=p(d);if(p(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])){return}b=this._getInst(a[0]);b.selectedDay=b.currentDay=p("a",e).html();b.selectedMonth=b.currentMonth=f;b.selectedYear=b.currentYear=c;this._selectDate(d,this._formatDate(b,b.currentDay,b.currentMonth,b.currentYear))},_clearDate:function(a){var b=p(a);this._selectDate(b,"")},_selectDate:function(d,c){var b,e=p(d),a=this._getInst(e[0]);c=(c!=null?c:this._formatDate(a));if(a.input){a.input.val(c)}this._updateAlternate(a);b=this._get(a,"onSelect");if(b){b.apply((a.input?a.input[0]:null),[c,a])}else{if(a.input){a.input.trigger("change")}}if(a.inline){this._updateDatepicker(a)}else{this._hideDatepicker();this._lastInput=a.input[0];if(typeof(a.input[0])!=="object"){a.input.focus()}this._lastInput=null}},_updateAlternate:function(d){var e,a,c,b=this._get(d,"altField");if(b){e=this._get(d,"altFormat")||this._get(d,"dateFormat");a=this._getDate(d);c=this.formatDate(e,a,this._getFormatConfig(d));p(b).each(function(){p(this).val(c)})}},noWeekends:function(a){var b=a.getDay();return[(b>0&&b<6),""]},iso8601Week:function(c){var b,a=new Date(c.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/86400000)/7)+1},parseDate:function(P,e,N){if(P==null||e==null){throw"Invalid arguments"}e=(typeof e==="object"?e.toString():e+"");if(e===""){return null}var U,b,W,O=0,Q=(N?N.shortYearCutoff:null)||this._defaults.shortYearCutoff,V=(typeof Q!=="string"?Q:new Date().getFullYear()%100+parseInt(Q,10)),J=(N?N.dayNamesShort:null)||this._defaults.dayNamesShort,I=(N?N.dayNames:null)||this._defaults.dayNames,Z=(N?N.monthNamesShort:null)||this._defaults.monthNamesShort,T=(N?N.monthNames:null)||this._defaults.monthNames,S=-1,g=-1,R=-1,L=-1,a=false,K,f=function(t){var s=(U+1<P.length&&P.charAt(U+1)===t);if(s){U++}return s},d=function(t){var v=f(t),s=(t==="@"?14:(t==="!"?20:(t==="y"&&v?4:(t==="o"?3:2)))),w=new RegExp("^\\d{1,"+s+"}"),u=e.substring(O).match(w);if(!u){throw"Missing number at position "+O}O+=u[0].length;return parseInt(u[0],10)},M=function(u,t,w){var v=-1,s=p.map(f(u)?w:t,function(x,y){return[[y,x]]}).sort(function(x,y){return -(x[1].length-y[1].length)});p.each(s,function(y,x){var z=x[1];if(e.substr(O,z.length).toLowerCase()===z.toLowerCase()){v=x[0];O+=z.length;return false}});if(v!==-1){return v+1}else{throw"Unknown name at position "+O}},c=function(){if(e.charAt(O)!==P.charAt(U)){throw"Unexpected literal at position "+O}O++};for(U=0;U<P.length;U++){if(a){if(P.charAt(U)==="'"&&!f("'")){a=false}else{c()}}else{switch(P.charAt(U)){case"d":R=d("d");break;case"D":M("D",J,I);break;case"o":L=d("o");break;case"m":g=d("m");break;case"M":g=M("M",Z,T);break;case"y":S=d("y");break;case"@":K=new Date(d("@"));S=K.getFullYear();g=K.getMonth()+1;R=K.getDate();break;case"!":K=new Date((d("!")-this._ticksTo1970)/10000);S=K.getFullYear();g=K.getMonth()+1;R=K.getDate();break;case"'":if(f("'")){c()}else{a=true}break;default:c()}}}if(O<e.length){W=e.substr(O);if(!/^\s+/.test(W)){throw"Extra/unparsed characters found in date: "+W}}if(S===-1){S=new Date().getFullYear()}else{if(S<100){S+=new Date().getFullYear()-new Date().getFullYear()%100+(S<=V?0:-100)}}if(L>-1){g=1;R=L;do{b=this._getDaysInMonth(S,g-1);if(R<=b){break}g++;R-=b}while(true)}K=this._daylightSavingAdjust(new Date(S,g-1,R));if(K.getFullYear()!==S||K.getMonth()+1!==g||K.getDate()!==R){throw"Invalid date"}return K},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),formatDate:function(B,d,c){if(!d){return""}var z,y=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,D=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,b=(c?c.monthNames:null)||this._defaults.monthNames,A=function(t){var s=(z+1<B.length&&B.charAt(z+1)===t);if(s){z++}return s},g=function(s,v,u){var t=""+v;if(A(s)){while(t.length<u){t="0"+t}}return t},a=function(v,s,t,u){return(A(v)?u[s]:t[s])},e="",C=false;if(d){for(z=0;z<B.length;z++){if(C){if(B.charAt(z)==="'"&&!A("'")){C=false}else{e+=B.charAt(z)}}else{switch(B.charAt(z)){case"d":e+=g("d",d.getDate(),2);break;case"D":e+=a("D",d.getDay(),y,f);break;case"o":e+=g("o",Math.round((new Date(d.getFullYear(),d.getMonth(),d.getDate()).getTime()-new Date(d.getFullYear(),0,0).getTime())/86400000),3);break;case"m":e+=g("m",d.getMonth()+1,2);break;case"M":e+=a("M",d.getMonth(),D,b);break;case"y":e+=(A("y")?d.getFullYear():(d.getYear()%100<10?"0":"")+d.getYear()%100);break;case"@":e+=d.getTime();break;case"!":e+=d.getTime()*10000+this._ticksTo1970;break;case"'":if(A("'")){e+="'"}else{C=true}break;default:e+=B.charAt(z)}}}}return e},_possibleChars:function(d){var e,a="",b=false,c=function(g){var f=(e+1<d.length&&d.charAt(e+1)===g);if(f){e++}return f};for(e=0;e<d.length;e++){if(b){if(d.charAt(e)==="'"&&!c("'")){b=false}else{a+=d.charAt(e)}}else{switch(d.charAt(e)){case"d":case"m":case"y":case"@":a+="0123456789";break;case"D":case"M":return null;case"'":if(c("'")){a+="'"}else{b=true}break;default:a+=d.charAt(e)}}}return a},_get:function(a,b){return a.settings[b]!==m?a.settings[b]:this._defaults[b]},_setDateFromField:function(f,a){if(f.input.val()===f.lastVal){return}var d=this._get(f,"dateFormat"),c=f.lastVal=f.input?f.input.val():null,e=this._getDefaultDate(f),b=e,t=this._getFormatConfig(f);try{b=this.parseDate(d,c,t)||e}catch(g){c=(a?"":c)}f.selectedDay=b.getDate();f.drawMonth=f.selectedMonth=b.getMonth();f.drawYear=f.selectedYear=b.getFullYear();f.currentDay=(c?b.getDate():0);f.currentMonth=(c?b.getMonth():0);f.currentYear=(c?b.getFullYear():0);this._adjustInstDate(f)},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date()))},_determineDate:function(e,b,d){var f=function(g){var t=new Date();t.setDate(t.getDate()+g);return t},a=function(F){try{return p.datepicker.parseDate(p.datepicker._get(e,"dateFormat"),F,p.datepicker._getFormatConfig(e))}catch(g){}var D=(F.toLowerCase().match(/^c/)?p.datepicker._getDate(e):null)||new Date(),C=D.getFullYear(),z=D.getMonth(),E=D.getDate(),A=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,B=A.exec(F);while(B){switch(B[2]||"d"){case"d":case"D":E+=parseInt(B[1],10);break;case"w":case"W":E+=parseInt(B[1],10)*7;break;case"m":case"M":z+=parseInt(B[1],10);E=Math.min(E,p.datepicker._getDaysInMonth(C,z));break;case"y":case"Y":C+=parseInt(B[1],10);E=Math.min(E,p.datepicker._getDaysInMonth(C,z));break}B=A.exec(F)}return new Date(C,z,E)},c=(b==null||b===""?d:(typeof b==="string"?a(b):(typeof b==="number"?(isNaN(b)?d:f(b)):new Date(b.getTime()))));c=(c&&c.toString()==="Invalid Date"?d:c);if(c){c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0)}return this._daylightSavingAdjust(c)},_daylightSavingAdjust:function(a){if(!a){return null}a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(d,g,e){var c=!g,a=d.selectedMonth,f=d.selectedYear,b=this._restrictMinMax(d,this._determineDate(d,g,new Date()));d.selectedDay=d.currentDay=b.getDate();d.drawMonth=d.selectedMonth=d.currentMonth=b.getMonth();d.drawYear=d.selectedYear=d.currentYear=b.getFullYear();if((a!==d.selectedMonth||f!==d.selectedYear)&&!e){this._notifyChange(d)}this._adjustInstDate(d);if(d.input){d.input.val(c?"":this._formatDate(d))}},_getDate:function(a){var b=(!a.currentYear||(a.input&&a.input.val()==="")?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay)));return b},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),a="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){var d={prev:function(){p.datepicker._adjustDate(a,-c,"M")},next:function(){p.datepicker._adjustDate(a,+c,"M")},hide:function(){p.datepicker._hideDatepicker()},today:function(){p.datepicker._gotoToday(a)},selectDay:function(){p.datepicker._selectDay(a,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){p.datepicker._selectMonthYear(a,this,"M");return false},selectYear:function(){p.datepicker._selectMonthYear(a,this,"Y");return false}};p(this).bind(this.getAttribute("data-event"),d[this.getAttribute("data-handler")])})},_generateHTML:function(aS){var aO,aQ,b,au,a8,aJ,aW,f,aD,ay,aw,a1,aZ,a0,bb,aM,a3,aI,aG,d,at,aK,aA,a2,a7,a,aq,e,g,a4,aE,aY,aU,aN,a9,aH,az,ar,aV,aP=new Date(),aL=this._daylightSavingAdjust(new Date(aP.getFullYear(),aP.getMonth(),aP.getDate())),aC=this._get(aS,"isRTL"),ax=this._get(aS,"showButtonPanel"),c=this._get(aS,"hideIfNoPrevNext"),aB=this._get(aS,"navigationAsDateFormat"),aT=this._getNumberOfMonths(aS),a5=this._get(aS,"showCurrentAtPos"),av=this._get(aS,"stepMonths"),aF=(aT[0]!==1||aT[1]!==1),ba=this._daylightSavingAdjust((!aS.currentDay?new Date(9999,9,9):new Date(aS.currentYear,aS.currentMonth,aS.currentDay))),a6=this._getMinMaxDate(aS,"min"),aR=this._getMinMaxDate(aS,"max"),bc=aS.drawMonth-a5,aX=aS.drawYear;if(bc<0){bc+=12;aX--}if(aR){aO=this._daylightSavingAdjust(new Date(aR.getFullYear(),aR.getMonth()-(aT[0]*aT[1])+1,aR.getDate()));aO=(a6&&aO<a6?a6:aO);while(this._daylightSavingAdjust(new Date(aX,bc,1))>aO){bc--;if(bc<0){bc=11;aX--}}}aS.drawMonth=bc;aS.drawYear=aX;aQ=this._get(aS,"prevText");aQ=(!aB?aQ:this.formatDate(aQ,this._daylightSavingAdjust(new Date(aX,bc-av,1)),this._getFormatConfig(aS)));b=(this._canAdjustMonth(aS,-1,aX,bc)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+aQ+"'><span class='ui-icon ui-icon-circle-triangle-"+(aC?"e":"w")+"'>"+aQ+"</span></a>":(c?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+aQ+"'><span class='ui-icon ui-icon-circle-triangle-"+(aC?"e":"w")+"'>"+aQ+"</span></a>"));au=this._get(aS,"nextText");au=(!aB?au:this.formatDate(au,this._daylightSavingAdjust(new Date(aX,bc+av,1)),this._getFormatConfig(aS)));a8=(this._canAdjustMonth(aS,+1,aX,bc)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+au+"'><span class='ui-icon ui-icon-circle-triangle-"+(aC?"w":"e")+"'>"+au+"</span></a>":(c?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+au+"'><span class='ui-icon ui-icon-circle-triangle-"+(aC?"w":"e")+"'>"+au+"</span></a>"));aJ=this._get(aS,"currentText");aW=(this._get(aS,"gotoCurrent")&&aS.currentDay?ba:aL);aJ=(!aB?aJ:this.formatDate(aJ,aW,this._getFormatConfig(aS)));f=(!aS.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(aS,"closeText")+"</button>":"");aD=(ax)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(aC?f:"")+(this._isInRange(aS,aW)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+aJ+"</button>":"")+(aC?"":f)+"</div>":"";ay=parseInt(this._get(aS,"firstDay"),10);ay=(isNaN(ay)?0:ay);aw=this._get(aS,"showWeek");a1=this._get(aS,"dayNames");aZ=this._get(aS,"dayNamesMin");a0=this._get(aS,"monthNames");bb=this._get(aS,"monthNamesShort");aM=this._get(aS,"beforeShowDay");a3=this._get(aS,"showOtherMonths");aI=this._get(aS,"selectOtherMonths");aG=this._getDefaultDate(aS);d="";at;for(aK=0;aK<aT[0];aK++){aA="";this.maxRows=4;for(a2=0;a2<aT[1];a2++){a7=this._daylightSavingAdjust(new Date(aX,bc,aS.selectedDay));a=" ui-corner-all";aq="";if(aF){aq+="<div class='ui-datepicker-group";if(aT[1]>1){switch(a2){case 0:aq+=" ui-datepicker-group-first";a=" ui-corner-"+(aC?"right":"left");break;case aT[1]-1:aq+=" ui-datepicker-group-last";a=" ui-corner-"+(aC?"left":"right");break;default:aq+=" ui-datepicker-group-middle";a="";break}}aq+="'>"}aq+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+a+"'>"+(/all|left/.test(a)&&aK===0?(aC?a8:b):"")+(/all|right/.test(a)&&aK===0?(aC?b:a8):"")+this._generateMonthYearHeader(aS,bc,aX,a6,aR,aK>0||a2>0,a0,bb)+"</div><table class='ui-datepicker-calendar'><thead><tr>";e=(aw?"<th class='ui-datepicker-week-col'>"+this._get(aS,"weekHeader")+"</th>":"");for(at=0;at<7;at++){g=(at+ay)%7;e+="<th scope='col'"+((at+ay+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+a1[g]+"'>"+aZ[g]+"</span></th>"}aq+=e+"</tr></thead><tbody>";a4=this._getDaysInMonth(aX,bc);if(aX===aS.selectedYear&&bc===aS.selectedMonth){aS.selectedDay=Math.min(aS.selectedDay,a4)}aE=(this._getFirstDayOfMonth(aX,bc)-ay+7)%7;aY=Math.ceil((aE+a4)/7);aU=(aF?this.maxRows>aY?this.maxRows:aY:aY);this.maxRows=aU;aN=this._daylightSavingAdjust(new Date(aX,bc,1-aE));for(a9=0;a9<aU;a9++){aq+="<tr>";aH=(!aw?"":"<td class='ui-datepicker-week-col'>"+this._get(aS,"calculateWeek")(aN)+"</td>");for(at=0;at<7;at++){az=(aM?aM.apply((aS.input?aS.input[0]:null),[aN]):[true,""]);ar=(aN.getMonth()!==bc);aV=(ar&&!aI)||!az[0]||(a6&&aN<a6)||(aR&&aN>aR);aH+="<td class='"+((at+ay+6)%7>=5?" ui-datepicker-week-end":"")+(ar?" ui-datepicker-other-month":"")+((aN.getTime()===a7.getTime()&&bc===aS.selectedMonth&&aS._keyEvent)||(aG.getTime()===aN.getTime()&&aG.getTime()===a7.getTime())?" "+this._dayOverClass:"")+(aV?" "+this._unselectableClass+" ui-state-disabled":"")+(ar&&!a3?"":" "+az[1]+(aN.getTime()===ba.getTime()?" "+this._currentClass:"")+(aN.getTime()===aL.getTime()?" ui-datepicker-today":""))+"'"+((!ar||a3)&&az[2]?" title='"+az[2].replace(/'/g,"&#39;")+"'":"")+(aV?"":" data-handler='selectDay' data-event='click' data-month='"+aN.getMonth()+"' data-year='"+aN.getFullYear()+"'")+">"+(ar&&!a3?"&#xa0;":(aV?"<span class='ui-state-default'>"+aN.getDate()+"</span>":"<a class='ui-state-default"+(aN.getTime()===aL.getTime()?" ui-state-highlight":"")+(aN.getTime()===ba.getTime()?" ui-state-active":"")+(ar?" ui-priority-secondary":"")+"' href='#'>"+aN.getDate()+"</a>"))+"</td>";aN.setDate(aN.getDate()+1);aN=this._daylightSavingAdjust(aN)}aq+=aH+"</tr>"}bc++;if(bc>11){bc=0;aX++}aq+="</tbody></table>"+(aF?"</div>"+((aT[0]>0&&a2===aT[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");aA+=aq}d+=aA}d+=aD;aS._keyEvent=false;return d},_generateMonthYearHeader:function(P,R,c,M,e,b,H,T){var K,S,J,N,O,a,d,I,Q=this._get(P,"changeMonth"),G=this._get(P,"changeYear"),g=this._get(P,"showMonthAfterYear"),f="<div class='ui-datepicker-title'>",L="";if(b||!Q){L+="<span class='ui-datepicker-month'>"+H[R]+"</span>"}else{K=(M&&M.getFullYear()===c);S=(e&&e.getFullYear()===c);L+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(J=0;J<12;J++){if((!K||J>=M.getMonth())&&(!S||J<=e.getMonth())){L+="<option value='"+J+"'"+(J===R?" selected='selected'":"")+">"+T[J]+"</option>"}}L+="</select>"}if(!g){f+=L+(b||!(Q&&G)?"&#xa0;":"")}if(!P.yearshtml){P.yearshtml="";if(b||!G){f+="<span class='ui-datepicker-year'>"+c+"</span>"}else{N=this._get(P,"yearRange").split(":");O=new Date().getFullYear();a=function(s){var t=(s.match(/c[+\-].*/)?c+parseInt(s.substring(1),10):(s.match(/[+\-].*/)?O+parseInt(s,10):parseInt(s,10)));return(isNaN(t)?O:t)};d=a(N[0]);I=Math.max(d,a(N[1]||""));d=(M?Math.max(d,M.getFullYear()):d);I=(e?Math.min(I,e.getFullYear()):I);P.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;d<=I;d++){P.yearshtml+="<option value='"+d+"'"+(d===c?" selected='selected'":"")+">"+d+"</option>"}P.yearshtml+="</select>";f+=P.yearshtml;P.yearshtml=null}}f+=this._get(P,"yearSuffix");if(g){f+=(b||!(Q&&G)?"&#xa0;":"")+L}f+="</div>";return f},_adjustInstDate:function(g,d,e){var a=g.drawYear+(e==="Y"?d:0),f=g.drawMonth+(e==="M"?d:0),c=Math.min(g.selectedDay,this._getDaysInMonth(a,f))+(e==="D"?d:0),b=this._restrictMinMax(g,this._daylightSavingAdjust(new Date(a,f,c)));g.selectedDay=b.getDate();g.drawMonth=g.selectedMonth=b.getMonth();g.drawYear=g.selectedYear=b.getFullYear();if(e==="M"||e==="Y"){this._notifyChange(g)}},_restrictMinMax:function(e,b){var a=this._getMinMaxDate(e,"min"),d=this._getMinMaxDate(e,"max"),c=(a&&b<a?a:b);return(d&&c>d?d:c)},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");if(b){b.apply((a.input?a.input[0]:null),[a.selectedYear,a.selectedMonth+1,a])}},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return(b==null?[1,1]:(typeof b==="number"?[1,b]:b))},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(b,a){return 32-this._daylightSavingAdjust(new Date(b,a,32)).getDate()},_getFirstDayOfMonth:function(b,a){return new Date(b,a,1).getDay()},_canAdjustMonth:function(f,d,a,e){var c=this._getNumberOfMonths(f),b=this._daylightSavingAdjust(new Date(a,e+(d<0?d:c[0]*c[1]),1));if(d<0){b.setDate(this._getDaysInMonth(b.getFullYear(),b.getMonth()))}return this._isInRange(f,b)},_isInRange:function(c,e){var f,v,d=this._getMinMaxDate(c,"min"),g=this._getMinMaxDate(c,"max"),u=null,b=null,a=this._get(c,"yearRange");if(a){f=a.split(":");v=new Date().getFullYear();u=parseInt(f[0],10);b=parseInt(f[1],10);if(f[0].match(/[+\-].*/)){u+=v}if(f[1].match(/[+\-].*/)){b+=v}}return((!d||e.getTime()>=d.getTime())&&(!g||e.getTime()<=g.getTime())&&(!u||e.getFullYear()>=u)&&(!b||e.getFullYear()<=b))},_getFormatConfig:function(b){var a=this._get(b,"shortYearCutoff");a=(typeof a!=="string"?a:new Date().getFullYear()%100+parseInt(a,10));return{shortYearCutoff:a,dayNamesShort:this._get(b,"dayNamesShort"),dayNames:this._get(b,"dayNames"),monthNamesShort:this._get(b,"monthNamesShort"),monthNames:this._get(b,"monthNames")}},_formatDate:function(e,c,d,a){if(!c){e.currentDay=e.selectedDay;e.currentMonth=e.selectedMonth;e.currentYear=e.selectedYear}var b=(c?(typeof c==="object"?c:this._daylightSavingAdjust(new Date(a,d,c))):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay)));return this.formatDate(this._get(e,"dateFormat"),b,this._getFormatConfig(e))}});function h(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.delegate(b,"mouseout",function(){p(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){p(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){p(this).removeClass("ui-datepicker-next-hover")}}).delegate(b,"mouseover",function(){if(!p.datepicker._isDisabledDatepicker(o.inline?a.parent()[0]:o.input[0])){p(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");p(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){p(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){p(this).addClass("ui-datepicker-next-hover")}}})}function l(a,b){p.extend(a,b);for(var c in b){if(b[c]==null){a[c]=b[c]}}return a}p.fn.datepicker=function(a){if(!this.length){return this}if(!p.datepicker.initialized){p(document).mousedown(p.datepicker._checkExternalClick);p.datepicker.initialized=true}if(p("#"+p.datepicker._mainDivId).length===0){p("body").append(p.datepicker.dpDiv)}var b=Array.prototype.slice.call(arguments,1);if(typeof a==="string"&&(a==="isDisabled"||a==="getDate"||a==="widget")){return p.datepicker["_"+a+"Datepicker"].apply(p.datepicker,[this[0]].concat(b))}if(a==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return p.datepicker["_"+a+"Datepicker"].apply(p.datepicker,[this[0]].concat(b))}return this.each(function(){typeof a==="string"?p.datepicker["_"+a+"Datepicker"].apply(p.datepicker,[this].concat(b)):p.datepicker._attachDatepicker(this,a)})};p.datepicker=new q();p.datepicker.initialized=false;p.datepicker.uuid=new Date().getTime();p.datepicker.version="@VERSION"})(jQuery);$(function(){$.extend($.support,{touch:typeof Touch=="object"});$.fn.addTouch=function(){if($.support.touch){this.each(function(d,c){c.addEventListener("touchstart",iPadTouchHandler,false);c.addEventListener("touchmove",iPadTouchHandler,false);c.addEventListener("touchend",iPadTouchHandler,false);c.addEventListener("touchcancel",iPadTouchHandler,false)})}return this}});var lastTap=null;var tapValid=false;var tapTimeout=null;function cancelTap(){tapValid=false}var rightClickPending=false;var rightClickEvent=null;var holdTimeout=null;var cancelMouseUp=false;function cancelHold(){if(rightClickPending){window.clearTimeout(holdTimeout);rightClickPending=false;rightClickEvent=null}}function startHold(b){if(rightClickPending){return}rightClickPending=true;rightClickEvent=(b.changedTouches)[0];holdTimeout=window.setTimeout("doRightClick();",800)}function doRightClick(){rightClickPending=false;var c=rightClickEvent,d=document.createEvent("MouseEvent");d.initMouseEvent("mouseup",true,true,window,1,c.screenX,c.screenY,c.clientX,c.clientY,false,false,false,false,0,null);c.target.dispatchEvent(d);d=document.createEvent("MouseEvent");d.initMouseEvent("mousedown",true,true,window,1,c.screenX,c.screenY,c.clientX,c.clientY,false,false,false,false,2,null);c.target.dispatchEvent(d);d=document.createEvent("MouseEvent");d.initMouseEvent("contextmenu",true,true,window,1,c.screenX+50,c.screenY+5,c.clientX+50,c.clientY+5,false,false,false,false,2,null);c.target.dispatchEvent(d);cancelMouseUp=true;rightClickEvent=null}function iPadTouchStart(m){var l=m.changedTouches,h=l[0],g="mouseover",f=document.createEvent("MouseEvent");f.initMouseEvent(g,true,true,window,1,h.screenX,h.screenY,h.clientX,h.clientY,false,false,false,false,0,null);h.target.dispatchEvent(f);g="mousedown";f=document.createEvent("MouseEvent");f.initMouseEvent(g,true,true,window,1,h.screenX,h.screenY,h.clientX,h.clientY,false,false,false,false,0,null);h.target.dispatchEvent(f);if(!tapValid){lastTap=h.target;tapValid=true;tapTimeout=window.setTimeout("cancelTap();",600);startHold(m)}else{window.clearTimeout(tapTimeout);if(h.target==lastTap){lastTap=null;tapValid=false;g="click";f=document.createEvent("MouseEvent");f.initMouseEvent(g,true,true,window,1,h.screenX,h.screenY,h.clientX,h.clientY,false,false,false,false,0,null);h.target.dispatchEvent(f);g="dblclick";f=document.createEvent("MouseEvent");f.initMouseEvent(g,true,true,window,1,h.screenX,h.screenY,h.clientX,h.clientY,false,false,false,false,0,null);h.target.dispatchEvent(f)}else{lastTap=h.target;tapValid=true;tapTimeout=window.setTimeout("cancelTap();",600);startHold(m)}}}function iPadTouchHandler(n){var g="",h=0;if(n.touches.length>1){return}switch(n.type){case"touchstart":if($(n.changedTouches[0].target).is("select")){return}iPadTouchStart(n);n.preventDefault();return false;break;case"touchmove":cancelHold();g="mousemove";n.preventDefault();break;case"touchend":if(cancelMouseUp){cancelMouseUp=false;n.preventDefault();return false}cancelHold();g="mouseup";break;default:return}var m=n.changedTouches,l=m[0],o=document.createEvent("MouseEvent");o.initMouseEvent(g,true,true,window,1,l.screenX,l.screenY,l.clientX,l.clientY,false,false,false,false,h,null);l.target.dispatchEvent(o);if(g=="mouseup"&&tapValid&&l.target==lastTap){o=document.createEvent("MouseEvent");o.initMouseEvent("click",true,true,window,1,l.screenX,l.screenY,l.clientX,l.clientY,false,false,false,false,h,null);l.target.dispatchEvent(o)}}var _canLog=true;function _log(l,m){if(!_canLog){return}var e=Array.prototype.slice.apply(arguments,[1]);var o=new Date();var h=o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()+"."+o.getMilliseconds();e[0]=h+" - "+e[0];try{switch(l){case"info":window.console.info.apply(window.console,e);break;case"warn":window.console.warn.apply(window.console,e);break;default:window.console.log.apply(window.console,e);break}}catch(n){if(!window.console){_canLog=false}}}function logMsg(b){Array.prototype.unshift.apply(arguments,["debug"]);_log.apply(this,arguments)}var getDynaTreePersistData=null;var DTNodeStatus_Error=-1;var DTNodeStatus_Loading=1;var DTNodeStatus_Ok=0;(function($){var Class={create:function(){return function(){this.initialize.apply(this,arguments)}}};function getDtNodeFromElement(el){var iMax=5;while(el&&iMax--){if(el.dtnode){return el.dtnode}el=el.parentNode}return null}function noop(){}var DynaTreeNode=Class.create();DynaTreeNode.prototype={initialize:function(parent,tree,data){this.parent=parent;this.tree=tree;if(typeof data==="string"){data={title:data}}if(data.key===undefined){data.key="_"+tree._nodeCount++}this.data=$.extend({},$.ui.dynatree.nodedatadefaults,data);this.li=null;this.span=null;this.ul=null;this.childList=null;this.isLoading=false;this.hasSubSel=false;this.bExpanded=false;this.bSelected=false},toString:function(){return"DynaTreeNode<"+this.data.key+">: '"+this.data.title+"'"},toDict:function(recursive,callback){var dict=$.extend({},this.data);dict.activate=(this.tree.activeNode===this);dict.focus=(this.tree.focusNode===this);dict.expand=this.bExpanded;dict.select=this.bSelected;if(callback){callback(dict)}if(recursive&&this.childList){dict.children=[];for(var i=0,l=this.childList.length;i<l;i++){dict.children.push(this.childList[i].toDict(true,callback))}}else{delete dict.children}return dict},fromDict:function(dict){var children=dict.children;if(children===undefined){this.data=$.extend(this.data,dict);this.render();return}dict=$.extend({},dict);dict.children=undefined;this.data=$.extend(this.data,dict);this.removeChildren();this.addChild(children)},_getInnerHtml:function(){var tree=this.tree,opts=tree.options,cache=tree.cache,level=this.getLevel(),data=this.data,res="";if(level<opts.minExpandLevel){if(level>1){res+=cache.tagConnector}}else{if(this.hasChildren()!==false){res+=cache.tagExpander}else{res+=cache.tagConnector}}if(opts.checkbox&&data.hideCheckbox!==true&&!data.isStatusNode){res+=cache.tagCheckbox}if(data.icon){res+="<img src='"+opts.imagePath+data.icon+"' alt='' />"}else{if(data.icon===false){noop()}else{res+=cache.tagNodeIcon}}var nodeTitle="";if(opts.onCustomRender){nodeTitle=opts.onCustomRender.call(tree,this)||""}if(!nodeTitle){var tooltip=data.tooltip?" title='"+data.tooltip+"'":"";if(opts.noLink||data.noLink){nodeTitle="<span style='display: inline-block;' class='"+opts.classNames.title+"'"+tooltip+">"+data.title+"</span>"}else{nodeTitle="<a href='#' class='"+opts.classNames.title+"'"+tooltip+">"+data.title+"</a>"}}res+=nodeTitle;return res},_fixOrder:function(){var cl=this.childList;if(!cl||!this.ul){return}var childLI=this.ul.firstChild;for(var i=0,l=cl.length-1;i<l;i++){var childNode1=cl[i];var childNode2=childLI.dtnode;if(childNode1!==childNode2){this.tree.logDebug("_fixOrder: mismatch at index "+i+": "+childNode1+" != "+childNode2);this.ul.insertBefore(childNode1.li,childNode2.li)}else{childLI=childLI.nextSibling}}},render:function(useEffects,includeInvisible){var tree=this.tree,parent=this.parent,data=this.data,opts=tree.options,cn=opts.classNames,isLastSib=this.isLastSibling();if(!parent&&!this.ul){this.li=this.span=null;this.ul=document.createElement("ul");if(opts.minExpandLevel>1){this.ul.className=cn.container+" "+cn.noConnector}else{this.ul.className=cn.container}}else{if(parent){if(!this.li){this.li=document.createElement("li");this.li.dtnode=this;if(data.key&&opts.generateIds){this.li.id=opts.idPrefix+data.key}this.span=document.createElement("span");this.span.className=cn.title;this.li.appendChild(this.span);if(!parent.ul){parent.ul=document.createElement("ul");parent.ul.style.display="none";parent.li.appendChild(parent.ul)}parent.ul.appendChild(this.li)}this.span.innerHTML=this._getInnerHtml();var cnList=[];cnList.push(cn.node);if(data.isFolder){cnList.push(cn.folder)}if(this.bExpanded){cnList.push(cn.expanded)}if(this.hasChildren()!==false){cnList.push(cn.hasChildren)}if(data.isLazy&&this.childList===null){cnList.push(cn.lazy)}if(isLastSib){cnList.push(cn.lastsib)}if(this.bSelected){cnList.push(cn.selected)}if(this.hasSubSel){cnList.push(cn.partsel)}if(tree.activeNode===this){cnList.push(cn.active)}if(data.addClass){cnList.push(data.addClass)}cnList.push(cn.combinedExpanderPrefix+(this.bExpanded?"e":"c")+(data.isLazy&&this.childList===null?"d":"")+(isLastSib?"l":""));cnList.push(cn.combinedIconPrefix+(this.bExpanded?"e":"c")+(data.isFolder?"f":""));this.span.className=cnList.join(" ");this.li.className=isLastSib?cn.lastsib:"";if(opts.onRender){opts.onRender.call(tree,this,this.span)}}}if((this.bExpanded||includeInvisible===true)&&this.childList){for(var i=0,l=this.childList.length;i<l;i++){this.childList[i].render(false,includeInvisible)}this._fixOrder()}if(this.ul){var isHidden=(this.ul.style.display==="none");var isExpanded=!!this.bExpanded;if(useEffects&&opts.fx&&(isHidden===isExpanded)){var duration=opts.fx.duration||200;$(this.ul).animate(opts.fx,duration)}else{this.ul.style.display=(this.bExpanded||!parent)?"":"none"}}},getKeyPath:function(excludeSelf){var path=[];this.visitParents(function(node){if(node.parent){path.unshift(node.data.key)}},!excludeSelf);return"/"+path.join(this.tree.options.keyPathSeparator)},getParent:function(){return this.parent},getChildren:function(){return this.childList},hasChildren:function(){if(this.data.isLazy){if(this.childList===null||this.childList===undefined){return undefined}else{if(this.childList.length===0){return false}else{if(this.childList.length===1&&this.childList[0].isStatusNode()){return undefined}}}return true}return !!this.childList},isFirstSibling:function(){var p=this.parent;return !p||p.childList[0]===this},isLastSibling:function(){var p=this.parent;return !p||p.childList[p.childList.length-1]===this},getPrevSibling:function(){if(!this.parent){return null}var ac=this.parent.childList;for(var i=1,l=ac.length;i<l;i++){if(ac[i]===this){return ac[i-1]}}return null},getNextSibling:function(){if(!this.parent){return null}var ac=this.parent.childList;for(var i=0,l=ac.length-1;i<l;i++){if(ac[i]===this){return ac[i+1]}}return null},isStatusNode:function(){return(this.data.isStatusNode===true)},isChildOf:function(otherNode){return(this.parent&&this.parent===otherNode)},isDescendantOf:function(otherNode){if(!otherNode){return false}var p=this.parent;while(p){if(p===otherNode){return true}p=p.parent}return false},countChildren:function(){var cl=this.childList;if(!cl){return 0}var n=cl.length;for(var i=0,l=n;i<l;i++){var child=cl[i];n+=child.countChildren()}return n},sortChildren:function(cmp,deep){var cl=this.childList;if(!cl){return}cmp=cmp||function(a,b){return a.data.title===b.data.title?0:a.data.title>b.data.title?1:-1};cl.sort(cmp);if(deep){for(var i=0,l=cl.length;i<l;i++){if(cl[i].childList){cl[i].sortChildren(cmp,"$norender$")}}}if(deep!=="$norender$"){this.render()}},_setStatusNode:function(data){var firstChild=(this.childList?this.childList[0]:null);if(!data){if(firstChild&&firstChild.isStatusNode()){try{if(this.ul){this.ul.removeChild(firstChild.li)}}catch(e){}if(this.childList.length===1){this.childList=[]}else{this.childList.shift()}}}else{if(firstChild){data.isStatusNode=true;data.key="_statusNode";firstChild.data=data;firstChild.render()}else{data.isStatusNode=true;data.key="_statusNode";firstChild=this.addChild(data)}}},setLazyNodeStatus:function(lts,opts){var tooltip=(opts&&opts.tooltip)?opts.tooltip:null;var info=(opts&&opts.info)?" ("+opts.info+")":"";switch(lts){case DTNodeStatus_Ok:this._setStatusNode(null);$(this.span).removeClass(this.tree.options.classNames.nodeLoading);this.isLoading=false;if(this.tree.options.autoFocus){if(this===this.tree.tnRoot&&this.childList&&this.childList.length>0){this.childList[0].focus()}else{this.focus()}}break;case DTNodeStatus_Loading:this.isLoading=true;$(this.span).addClass(this.tree.options.classNames.nodeLoading);if(!this.parent){this._setStatusNode({title:this.tree.options.strings.loading+info,tooltip:tooltip,addClass:this.tree.options.classNames.nodeWait})}break;case DTNodeStatus_Error:this.isLoading=false;this._setStatusNode({title:this.tree.options.strings.loadError+info,tooltip:tooltip,addClass:this.tree.options.classNames.nodeError});break;default:throw"Bad LazyNodeStatus: '"+lts+"'."}},_parentList:function(includeRoot,includeSelf){var l=[];var dtn=includeSelf?this:this.parent;while(dtn){if(includeRoot||dtn.parent){l.unshift(dtn)}dtn=dtn.parent}return l},getLevel:function(){var level=0;var dtn=this.parent;while(dtn){level++;dtn=dtn.parent}return level},_getTypeForOuterNodeEvent:function(event){var cns=this.tree.options.classNames;var target=event.target;if(target.className.indexOf(cns.node)<0){return null}var eventX=event.pageX-target.offsetLeft;var eventY=event.pageY-target.offsetTop;for(var i=0,l=target.childNodes.length;i<l;i++){var cn=target.childNodes[i];var x=cn.offsetLeft-target.offsetLeft;var y=cn.offsetTop-target.offsetTop;var nx=cn.clientWidth,ny=cn.clientHeight;if(eventX>=x&&eventX<=(x+nx)&&eventY>=y&&eventY<=(y+ny)){if(cn.className==cns.title){return"title"}else{if(cn.className==cns.expander){return"expander"}else{if(cn.className==cns.checkbox){return"checkbox"}else{if(cn.className==cns.nodeIcon){return"icon"}}}}}}return"prefix"},getEventTargetType:function(event){var tcn=event&&event.target?event.target.className:"";var cns=this.tree.options.classNames;if(tcn===cns.title){return"title"}else{if(tcn===cns.expander){return"expander"}else{if(tcn===cns.checkbox){return"checkbox"}else{if(tcn===cns.nodeIcon){return"icon"}else{if(tcn===cns.empty||tcn===cns.vline||tcn===cns.connector){return"prefix"}else{if(tcn.indexOf(cns.node)>=0){return this._getTypeForOuterNodeEvent(event)}}}}}}return null},isVisible:function(){var parents=this._parentList(true,false);for(var i=0,l=parents.length;i<l;i++){if(!parents[i].bExpanded){return false}}return true},makeVisible:function(){var parents=this._parentList(true,false);for(var i=0,l=parents.length;i<l;i++){parents[i]._expand(true)}},focus:function(){this.makeVisible();try{$(this.span).find(">a").focus()}catch(e){}},isFocused:function(){return(this.tree.tnFocused===this)},_activate:function(flag,fireEvents){this.tree.logDebug("dtnode._activate(%o, fireEvents=%o) - %o",flag,fireEvents,this);var opts=this.tree.options;if(this.data.isStatusNode){return}if(fireEvents&&opts.onQueryActivate&&opts.onQueryActivate.call(this.tree,flag,this)===false){return}if(flag){if(this.tree.activeNode){if(this.tree.activeNode===this){return}this.tree.activeNode.deactivate()}if(opts.activeVisible){this.makeVisible()}this.tree.activeNode=this;if(opts.persist){$.cookie(opts.cookieId+"-active",this.data.key,opts.cookie)}this.tree.persistence.activeKey=this.data.key;$(this.span).addClass(opts.classNames.active);if(fireEvents&&opts.onActivate){opts.onActivate.call(this.tree,this)}}else{if(this.tree.activeNode===this){if(opts.onQueryActivate&&opts.onQueryActivate.call(this.tree,false,this)===false){return}$(this.span).removeClass(opts.classNames.active);if(opts.persist){$.cookie(opts.cookieId+"-active","",opts.cookie)}this.tree.persistence.activeKey=null;this.tree.activeNode=null;if(fireEvents&&opts.onDeactivate){opts.onDeactivate.call(this.tree,this)}}}},activate:function(){this._activate(true,true)},activateSilently:function(){this._activate(true,false)},deactivate:function(){this._activate(false,true)},isActive:function(){return(this.tree.activeNode===this)},_userActivate:function(){var activate=true;var expand=false;if(this.data.isFolder){switch(this.tree.options.clickFolderMode){case 2:activate=false;expand=true;break;case 3:activate=expand=true;break}}if(this.parent===null){expand=false}if(expand){this.toggleExpand();this.focus()}if(activate){this.activate()}},_setSubSel:function(hasSubSel){if(hasSubSel){this.hasSubSel=true;$(this.span).addClass(this.tree.options.classNames.partsel)}else{this.hasSubSel=false;$(this.span).removeClass(this.tree.options.classNames.partsel)}},_fixSelectionState:function(){var p,i,l;if(this.bSelected){this.visit(function(node){node.parent._setSubSel(true);node._select(true,false,false)});p=this.parent;while(p){p._setSubSel(true);var allChildsSelected=true;for(i=0,l=p.childList.length;i<l;i++){var n=p.childList[i];if(!n.bSelected&&!n.data.isStatusNode){allChildsSelected=false;break}}if(allChildsSelected){p._select(true,false,false)}p=p.parent}}else{this._setSubSel(false);this.visit(function(node){node._setSubSel(false);node._select(false,false,false)});p=this.parent;while(p){p._select(false,false,false);var isPartSel=false;for(i=0,l=p.childList.length;i<l;i++){if(p.childList[i].bSelected||p.childList[i].hasSubSel){isPartSel=true;break}}p._setSubSel(isPartSel);p=p.parent}}},_select:function(sel,fireEvents,deep){var opts=this.tree.options;if(this.data.isStatusNode){return}if(this.bSelected===sel){return}if(fireEvents&&opts.onQuerySelect&&opts.onQuerySelect.call(this.tree,sel,this)===false){return}if(opts.selectMode==1&&sel){this.tree.visit(function(node){if(node.bSelected){node._select(false,false,false);return false}})}this.bSelected=sel;if(sel){if(opts.persist){this.tree.persistence.addSelect(this.data.key)}$(this.span).addClass(opts.classNames.selected);if(deep&&opts.selectMode===3){this._fixSelectionState()}if(fireEvents&&opts.onSelect){opts.onSelect.call(this.tree,true,this)}}else{if(opts.persist){this.tree.persistence.clearSelect(this.data.key)}$(this.span).removeClass(opts.classNames.selected);if(deep&&opts.selectMode===3){this._fixSelectionState()}if(fireEvents&&opts.onSelect){opts.onSelect.call(this.tree,false,this)}}},select:function(sel){if(this.data.unselectable){return this.bSelected}return this._select(sel!==false,true,true)},toggleSelect:function(){return this.select(!this.bSelected)},isSelected:function(){return this.bSelected},_loadContent:function(){try{var opts=this.tree.options;this.tree.logDebug("_loadContent: start - %o",this);this.setLazyNodeStatus(DTNodeStatus_Loading);if(true===opts.onLazyRead.call(this.tree,this)){this.setLazyNodeStatus(DTNodeStatus_Ok);this.tree.logDebug("_loadContent: succeeded - %o",this)}}catch(e){this.tree.logWarning("_loadContent: failed - %o",e);this.setLazyNodeStatus(DTNodeStatus_Error,{tooltip:""+e})}},_expand:function(bExpand,forceSync){if(this.bExpanded===bExpand){this.tree.logDebug("dtnode._expand(%o) IGNORED - %o",bExpand,this);return}this.tree.logDebug("dtnode._expand(%o) - %o",bExpand,this);var opts=this.tree.options;if(!bExpand&&this.getLevel()<opts.minExpandLevel){this.tree.logDebug("dtnode._expand(%o) prevented collapse - %o",bExpand,this);return}if(opts.onQueryExpand&&opts.onQueryExpand.call(this.tree,bExpand,this)===false){return}this.bExpanded=bExpand;if(opts.persist){if(bExpand){this.tree.persistence.addExpand(this.data.key)}else{this.tree.persistence.clearExpand(this.data.key)}}var allowEffects=!(this.data.isLazy&&this.childList===null)&&!this.isLoading&&!forceSync;this.render(allowEffects);if(this.bExpanded&&this.parent&&opts.autoCollapse){var parents=this._parentList(false,true);for(var i=0,l=parents.length;i<l;i++){parents[i].collapseSiblings()}}if(opts.activeVisible&&this.tree.activeNode&&!this.tree.activeNode.isVisible()){this.tree.activeNode.deactivate()}if(bExpand&&this.data.isLazy&&this.childList===null&&!this.isLoading){this._loadContent();return}if(opts.onExpand){opts.onExpand.call(this.tree,bExpand,this)}},expand:function(flag){flag=(flag!==false);if(!this.childList&&!this.data.isLazy&&flag){return}else{if(this.parent===null&&!flag){return}}this._expand(flag)},scheduleAction:function(mode,ms){if(this.tree.timer){clearTimeout(this.tree.timer);this.tree.logDebug("clearTimeout(%o)",this.tree.timer)}var self=this;switch(mode){case"cancel":break;case"expand":this.tree.timer=setTimeout(function(){self.tree.logDebug("setTimeout: trigger expand");self.expand(true)},ms);break;case"activate":this.tree.timer=setTimeout(function(){self.tree.logDebug("setTimeout: trigger activate");self.activate()},ms);break;default:throw"Invalid mode "+mode}this.tree.logDebug("setTimeout(%s, %s): %s",mode,ms,this.tree.timer)},toggleExpand:function(){this.expand(!this.bExpanded)},collapseSiblings:function(){if(this.parent===null){return}var ac=this.parent.childList;for(var i=0,l=ac.length;i<l;i++){if(ac[i]!==this&&ac[i].bExpanded){ac[i]._expand(false)}}},_onClick:function(event){var targetType=this.getEventTargetType(event);if(targetType==="expander"){this.toggleExpand();this.focus()}else{if(targetType==="checkbox"){this.toggleSelect();this.focus()}else{this._userActivate();var aTag=this.span.getElementsByTagName("a");if(aTag[0]){if(!$.browser.msie){aTag[0].focus()}}else{return true}}}event.preventDefault()},_onDblClick:function(event){},_onKeydown:function(event){var handled=true,sib;switch(event.which){case 107:case 187:if(!this.bExpanded){this.toggleExpand()}break;case 109:case 189:if(this.bExpanded){this.toggleExpand()}break;case 32:this._userActivate();break;case 8:if(this.parent){this.parent.focus()}break;case 37:if(this.bExpanded){this.toggleExpand();this.focus()}else{if(this.parent&&this.parent.parent){this.parent.focus()}}break;case 39:if(!this.bExpanded&&(this.childList||this.data.isLazy)){this.toggleExpand();this.focus()}else{if(this.childList){this.childList[0].focus()}}break;case 38:sib=this.getPrevSibling();while(sib&&sib.bExpanded&&sib.childList){sib=sib.childList[sib.childList.length-1]}if(!sib&&this.parent&&this.parent.parent){sib=this.parent}if(sib){sib.focus()}break;case 40:if(this.bExpanded&&this.childList){sib=this.childList[0]}else{var parents=this._parentList(false,true);for(var i=parents.length-1;i>=0;i--){sib=parents[i].getNextSibling();if(sib){break}}}if(sib){sib.focus()}break;default:handled=false}if(handled){event.preventDefault()}},_onKeypress:function(event){},_onFocus:function(event){var opts=this.tree.options;if(event.type=="blur"||event.type=="focusout"){if(opts.onBlur){opts.onBlur.call(this.tree,this)}if(this.tree.tnFocused){$(this.tree.tnFocused.span).removeClass(opts.classNames.focused)}this.tree.tnFocused=null;if(opts.persist){$.cookie(opts.cookieId+"-focus","",opts.cookie)}}else{if(event.type=="focus"||event.type=="focusin"){if(this.tree.tnFocused&&this.tree.tnFocused!==this){this.tree.logDebug("dtnode.onFocus: out of sync: curFocus: %o",this.tree.tnFocused);$(this.tree.tnFocused.span).removeClass(opts.classNames.focused)}this.tree.tnFocused=this;if(opts.onFocus){opts.onFocus.call(this.tree,this)}$(this.tree.tnFocused.span).addClass(opts.classNames.focused);if(opts.persist){$.cookie(opts.cookieId+"-focus",this.data.key,opts.cookie)}}}},visit:function(fn,includeSelf){var res=true;if(includeSelf===true){res=fn(this);if(res===false||res=="skip"){return res}}if(this.childList){for(var i=0,l=this.childList.length;i<l;i++){res=this.childList[i].visit(fn,true);if(res===false){break}}}return res},visitParents:function(fn,includeSelf){if(includeSelf&&fn(this)===false){return false}var p=this.parent;while(p){if(fn(p)===false){return false}p=p.parent}return true},remove:function(){if(this===this.tree.root){throw"Cannot remove system root"}return this.parent.removeChild(this)},removeChild:function(tn){var ac=this.childList;if(ac.length==1){if(tn!==ac[0]){throw"removeChild: invalid child"}return this.removeChildren()}if(tn===this.tree.activeNode){tn.deactivate()}if(this.tree.options.persist){if(tn.bSelected){this.tree.persistence.clearSelect(tn.data.key)}if(tn.bExpanded){this.tree.persistence.clearExpand(tn.data.key)}}tn.removeChildren(true);this.ul.removeChild(tn.li);for(var i=0,l=ac.length;i<l;i++){if(ac[i]===tn){this.childList.splice(i,1);break}}},removeChildren:function(isRecursiveCall,retainPersistence){this.tree.logDebug("%s.removeChildren(%o)",this,isRecursiveCall);var tree=this.tree;var ac=this.childList;if(ac){for(var i=0,l=ac.length;i<l;i++){var tn=ac[i];if(tn===tree.activeNode&&!retainPersistence){tn.deactivate()}if(this.tree.options.persist&&!retainPersistence){if(tn.bSelected){this.tree.persistence.clearSelect(tn.data.key)}if(tn.bExpanded){this.tree.persistence.clearExpand(tn.data.key)}}tn.removeChildren(true,retainPersistence);if(this.ul){this.ul.removeChild(tn.li)}}this.childList=null}if(!isRecursiveCall){this.isLoading=false;this.render()}},setTitle:function(title){this.fromDict({title:title})},reload:function(force){throw"Use reloadChildren() instead"},reloadChildren:function(callback){if(this.parent===null){throw"Use tree.reload() instead"}else{if(!this.data.isLazy){throw"node.reloadChildren() requires lazy nodes."}}if(callback){var self=this;var eventType="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key;this.tree.$tree.bind(eventType,function(e,node,isOk){self.tree.$tree.unbind(eventType);self.tree.logInfo("loaded %o, %o, %o",e,node,isOk);if(node!==self){throw"got invalid load event"}callback.call(self.tree,node,isOk)})}this.removeChildren();this._loadContent()},_loadKeyPath:function(keyPath,callback){var tree=this.tree;tree.logDebug("%s._loadKeyPath(%s)",this,keyPath);if(keyPath===""){throw"Key path must not be empty"}var segList=keyPath.split(tree.options.keyPathSeparator);if(segList[0]===""){throw"Key path must be relative (don't start with '/')"}var seg=segList.shift();for(var i=0,l=this.childList.length;i<l;i++){var child=this.childList[i];if(child.data.key===seg){if(segList.length===0){callback.call(tree,child,"ok")}else{if(child.data.isLazy&&(child.childList===null||child.childList===undefined)){tree.logDebug("%s._loadKeyPath(%s) -> reloading %s...",this,keyPath,child);var self=this;child.reloadChildren(function(node,isOk){if(isOk){tree.logDebug("%s._loadKeyPath(%s) -> reloaded %s.",node,keyPath,node);callback.call(tree,child,"loaded");node._loadKeyPath(segList.join(tree.options.keyPathSeparator),callback)}else{tree.logWarning("%s._loadKeyPath(%s) -> reloadChildren() failed.",self,keyPath);callback.call(tree,child,"error")}})}else{callback.call(tree,child,"loaded");child._loadKeyPath(segList.join(tree.options.keyPathSeparator),callback)}}return}}tree.logWarning("Node not found: "+seg);return},resetLazy:function(){if(this.parent===null){throw"Use tree.reload() instead"}else{if(!this.data.isLazy){throw"node.resetLazy() requires lazy nodes."}}this.expand(false);this.removeChildren()},_addChildNode:function(dtnode,beforeNode){var tree=this.tree;var opts=tree.options;var pers=tree.persistence;dtnode.parent=this;if(this.childList===null){this.childList=[]}else{if(!beforeNode){if(this.childList.length>0){$(this.childList[this.childList.length-1].span).removeClass(opts.classNames.lastsib)}}}if(beforeNode){var iBefore=$.inArray(beforeNode,this.childList);if(iBefore<0){throw"<beforeNode> must be a child of <this>"}this.childList.splice(iBefore,0,dtnode)}else{this.childList.push(dtnode)}var isInitializing=tree.isInitializing();if(opts.persist&&pers.cookiesFound&&isInitializing){if(pers.activeKey==dtnode.data.key){tree.activeNode=dtnode}if(pers.focusedKey==dtnode.data.key){tree.focusNode=dtnode}dtnode.bExpanded=($.inArray(dtnode.data.key,pers.expandedKeyList)>=0);dtnode.bSelected=($.inArray(dtnode.data.key,pers.selectedKeyList)>=0)}else{if(dtnode.data.activate){tree.activeNode=dtnode;if(opts.persist){pers.activeKey=dtnode.data.key}}if(dtnode.data.focus){tree.focusNode=dtnode;if(opts.persist){pers.focusedKey=dtnode.data.key}}dtnode.bExpanded=(dtnode.data.expand===true);if(dtnode.bExpanded&&opts.persist){pers.addExpand(dtnode.data.key)}dtnode.bSelected=(dtnode.data.select===true);if(dtnode.bSelected&&opts.persist){pers.addSelect(dtnode.data.key)}}if(opts.minExpandLevel>=dtnode.getLevel()){this.bExpanded=true}if(dtnode.bSelected&&opts.selectMode==3){var p=this;while(p){if(!p.hasSubSel){p._setSubSel(true)}p=p.parent}}if(tree.bEnableUpdate){this.render()}return dtnode},addChild:function(obj,beforeNode){if(typeof(obj)=="string"){throw"Invalid data type for "+obj}else{if(!obj||obj.length===0){return}else{if(obj instanceof DynaTreeNode){return this._addChildNode(obj,beforeNode)}}}if(!obj.length){obj=[obj]}var prevFlag=this.tree.enableUpdate(false);var tnFirst=null;for(var i=0,l=obj.length;i<l;i++){var data=obj[i];var dtnode=this._addChildNode(new DynaTreeNode(this,this.tree,data),beforeNode);if(!tnFirst){tnFirst=dtnode}if(data.children){dtnode.addChild(data.children,null)}}this.tree.enableUpdate(prevFlag);return tnFirst},append:function(obj){this.tree.logWarning("node.append() is deprecated (use node.addChild() instead).");return this.addChild(obj,null)},appendAjax:function(ajaxOptions){var self=this;this.removeChildren(false,true);this.setLazyNodeStatus(DTNodeStatus_Loading);if(ajaxOptions.debugLazyDelay){var ms=ajaxOptions.debugLazyDelay;ajaxOptions.debugLazyDelay=0;this.tree.logInfo("appendAjax: waiting for debugLazyDelay "+ms);setTimeout(function(){self.appendAjax(ajaxOptions)},ms);return}var orgSuccess=ajaxOptions.success;var orgError=ajaxOptions.error;var eventType="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key;var options=$.extend({},this.tree.options.ajaxDefaults,ajaxOptions,{success:function(data,textStatus){var prevPhase=self.tree.phase;self.tree.phase="init";if(options.postProcess){data=options.postProcess.call(this,data,this.dataType)}if(!$.isArray(data)||data.length!==0){self.addChild(data,null)}self.tree.phase="postInit";if(orgSuccess){orgSuccess.call(options,self)}self.tree.logInfo("trigger "+eventType);self.tree.$tree.trigger(eventType,[self,true]);self.tree.phase=prevPhase;self.setLazyNodeStatus(DTNodeStatus_Ok);if($.isArray(data)&&data.length===0){self.childList=[];self.render()}},error:function(XMLHttpRequest,textStatus,errorThrown){self.tree.logWarning("appendAjax failed:",textStatus,":\n",XMLHttpRequest,"\n",errorThrown);if(orgError){orgError.call(options,self,XMLHttpRequest,textStatus,errorThrown)}self.tree.$tree.trigger(eventType,[self,false]);self.setLazyNodeStatus(DTNodeStatus_Error,{info:textStatus,tooltip:""+errorThrown})}});$.ajax(options)},move:function(targetNode,mode){var pos;if(this===targetNode){return}if(!this.parent){throw"Cannot move system root"}if(mode===undefined||mode=="over"){mode="child"}var prevParent=this.parent;var targetParent=(mode==="child")?targetNode:targetNode.parent;if(targetParent.isDescendantOf(this)){throw"Cannot move a node to it's own descendant"}if(this.parent.childList.length==1){this.parent.childList=null;this.parent.bExpanded=false}else{pos=$.inArray(this,this.parent.childList);if(pos<0){throw"Internal error"}this.parent.childList.splice(pos,1)}this.parent.ul.removeChild(this.li);this.parent=targetParent;if(targetParent.hasChildren()){switch(mode){case"child":targetParent.childList.push(this);break;case"before":pos=$.inArray(targetNode,targetParent.childList);if(pos<0){throw"Internal error"}targetParent.childList.splice(pos,0,this);break;case"after":pos=$.inArray(targetNode,targetParent.childList);if(pos<0){throw"Internal error"}targetParent.childList.splice(pos+1,0,this);break;default:throw"Invalid mode "+mode}}else{targetParent.childList=[this];if(!targetParent.ul){targetParent.ul=document.createElement("ul");targetParent.ul.style.display="none";targetParent.li.appendChild(targetParent.ul)}}targetParent.ul.appendChild(this.li);if(this.tree!==targetNode.tree){this.visit(function(node){node.tree=targetNode.tree},null,true);throw"Not yet implemented."}if(!prevParent.isDescendantOf(targetParent)){prevParent.render()}if(!targetParent.isDescendantOf(prevParent)){targetParent.render()}},lastentry:undefined};var DynaTreeStatus=Class.create();DynaTreeStatus._getTreePersistData=function(cookieId,cookieOpts){var ts=new DynaTreeStatus(cookieId,cookieOpts);ts.read();return ts.toDict()};getDynaTreePersistData=DynaTreeStatus._getTreePersistData;DynaTreeStatus.prototype={initialize:function(cookieId,cookieOpts){this._log("DynaTreeStatus: initialize");if(cookieId===undefined){cookieId=$.ui.dynatree.prototype.options.cookieId}cookieOpts=$.extend({},$.ui.dynatree.prototype.options.cookie,cookieOpts);this.cookieId=cookieId;this.cookieOpts=cookieOpts;this.cookiesFound=undefined;this.activeKey=null;this.focusedKey=null;this.expandedKeyList=null;this.selectedKeyList=null},_log:function(msg){Array.prototype.unshift.apply(arguments,["debug"]);_log.apply(this,arguments)},read:function(){this._log("DynaTreeStatus: read");this.cookiesFound=false;var cookie=$.cookie(this.cookieId+"-active");this.activeKey=(cookie===null)?"":cookie;if(cookie!==null){this.cookiesFound=true}cookie=$.cookie(this.cookieId+"-focus");this.focusedKey=(cookie===null)?"":cookie;if(cookie!==null){this.cookiesFound=true}cookie=$.cookie(this.cookieId+"-expand");this.expandedKeyList=(cookie===null)?[]:cookie.split(",");if(cookie!==null){this.cookiesFound=true}cookie=$.cookie(this.cookieId+"-select");this.selectedKeyList=(cookie===null)?[]:cookie.split(",");if(cookie!==null){this.cookiesFound=true}},write:function(){this._log("DynaTreeStatus: write");$.cookie(this.cookieId+"-active",(this.activeKey===null)?"":this.activeKey,this.cookieOpts);$.cookie(this.cookieId+"-focus",(this.focusedKey===null)?"":this.focusedKey,this.cookieOpts);$.cookie(this.cookieId+"-expand",(this.expandedKeyList===null)?"":this.expandedKeyList.join(","),this.cookieOpts);$.cookie(this.cookieId+"-select",(this.selectedKeyList===null)?"":this.selectedKeyList.join(","),this.cookieOpts)},addExpand:function(key){this._log("addExpand(%o)",key);if($.inArray(key,this.expandedKeyList)<0){this.expandedKeyList.push(key);$.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts)}},clearExpand:function(key){this._log("clearExpand(%o)",key);var idx=$.inArray(key,this.expandedKeyList);if(idx>=0){this.expandedKeyList.splice(idx,1);$.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts)}},addSelect:function(key){this._log("addSelect(%o)",key);if($.inArray(key,this.selectedKeyList)<0){this.selectedKeyList.push(key);$.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts)}},clearSelect:function(key){this._log("clearSelect(%o)",key);var idx=$.inArray(key,this.selectedKeyList);if(idx>=0){this.selectedKeyList.splice(idx,1);$.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts)}},isReloading:function(){return this.cookiesFound===true},toDict:function(){return{cookiesFound:this.cookiesFound,activeKey:this.activeKey,focusedKey:this.activeKey,expandedKeyList:this.expandedKeyList,selectedKeyList:this.selectedKeyList}},lastentry:undefined};var DynaTree=Class.create();DynaTree.version="$Version: 1.1.1$";DynaTree.prototype={initialize:function($widget){this.phase="init";this.$widget=$widget;this.options=$widget.options;this.$tree=$widget.element;this.timer=null;this.divTree=this.$tree.get(0);_initDragAndDrop(this)},_load:function(callback){var $widget=this.$widget;var opts=this.options;this.bEnableUpdate=true;this._nodeCount=1;this.activeNode=null;this.focusNode=null;if(opts.rootVisible!==undefined){_log("warn","Option 'rootVisible' is no longer supported.")}if(opts.minExpandLevel<1){_log("warn","Option 'minExpandLevel' must be >= 1.");opts.minExpandLevel=1}if(opts.classNames!==$.ui.dynatree.prototype.options.classNames){opts.classNames=$.extend({},$.ui.dynatree.prototype.options.classNames,opts.classNames)}if(opts.ajaxDefaults!==$.ui.dynatree.prototype.options.ajaxDefaults){opts.ajaxDefaults=$.extend({},$.ui.dynatree.prototype.options.ajaxDefaults,opts.ajaxDefaults)}if(opts.dnd!==$.ui.dynatree.prototype.options.dnd){opts.dnd=$.extend({},$.ui.dynatree.prototype.options.dnd,opts.dnd)}if(!opts.imagePath){$("script").each(function(){var _rexDtLibName=/.*dynatree[^\/]*\.js$/i;if(this.src.search(_rexDtLibName)>=0){if(this.src.indexOf("/")>=0){opts.imagePath=this.src.slice(0,this.src.lastIndexOf("/"))+"/skin/"}else{opts.imagePath="skin/"}logMsg("Guessing imagePath from '%s': '%s'",this.src,opts.imagePath);return false}})}this.persistence=new DynaTreeStatus(opts.cookieId,opts.cookie);if(opts.persist){if(!$.cookie){_log("warn","Please include jquery.cookie.js to use persistence.")}this.persistence.read()}this.logDebug("DynaTree.persistence: %o",this.persistence.toDict());this.cache={tagEmpty:"<span class='"+opts.classNames.empty+"'></span>",tagVline:"<span class='"+opts.classNames.vline+"'></span>",tagExpander:"<span class='"+opts.classNames.expander+"'></span>",tagConnector:"<span class='"+opts.classNames.connector+"'></span>",tagNodeIcon:"<span class='"+opts.classNames.nodeIcon+"'></span>",tagCheckbox:"<span class='"+opts.classNames.checkbox+"'></span>",lastentry:undefined};if(opts.children||(opts.initAjax&&opts.initAjax.url)||opts.initId){$(this.divTree).empty()}var $ulInitialize=this.$tree.find(">ul:first").hide();this.tnRoot=new DynaTreeNode(null,this,{});this.tnRoot.bExpanded=true;this.tnRoot.render();this.divTree.appendChild(this.tnRoot.ul);var root=this.tnRoot;var isReloading=(opts.persist&&this.persistence.isReloading());var isLazy=false;var prevFlag=this.enableUpdate(false);this.logDebug("Dynatree._load(): read tree structure...");if(opts.children){root.addChild(opts.children)}else{if(opts.initAjax&&opts.initAjax.url){isLazy=true;root.data.isLazy=true;this._reloadAjax(callback)}else{if(opts.initId){this._createFromTag(root,$("#"+opts.initId))}else{this._createFromTag(root,$ulInitialize);$ulInitialize.remove()}}}this._checkConsistency();this.logDebug("Dynatree._load(): render nodes...");this.enableUpdate(prevFlag);this.logDebug("Dynatree._load(): bind events...");this.$widget.bind();this.logDebug("Dynatree._load(): postInit...");this.phase="postInit";if(opts.persist){this.persistence.write()}if(this.focusNode&&this.focusNode.isVisible()){this.logDebug("Focus on init: %o",this.focusNode);this.focusNode.focus()}if(!isLazy&&opts.onPostInit){opts.onPostInit.call(this,isReloading,false)}this.phase="idle"},_reloadAjax:function(callback){var opts=this.options;if(!opts.initAjax||!opts.initAjax.url){throw"tree.reload() requires 'initAjax' mode."}var pers=this.persistence;var ajaxOpts=$.extend({},opts.initAjax);if(ajaxOpts.addActiveKey){ajaxOpts.data.activeKey=pers.activeKey}if(ajaxOpts.addFocusedKey){ajaxOpts.data.focusedKey=pers.focusedKey}if(ajaxOpts.addExpandedKeyList){ajaxOpts.data.expandedKeyList=pers.expandedKeyList.join(",")}if(ajaxOpts.addSelectedKeyList){ajaxOpts.data.selectedKeyList=pers.selectedKeyList.join(",")}if(opts.onPostInit){if(ajaxOpts.success){this.logWarning("initAjax: success callback is ignored when onPostInit was specified.")}if(ajaxOpts.error){this.logWarning("initAjax: error callback is ignored when onPostInit was specified.")}var isReloading=pers.isReloading();ajaxOpts.success=function(dtnode){opts.onPostInit.call(dtnode.tree,isReloading,false);if(callback){callback.call(dtnode.tree,"ok")}};ajaxOpts.error=function(dtnode){opts.onPostInit.call(dtnode.tree,isReloading,true);if(callback){callback.call(dtnode.tree,"error")}}}this.logDebug("Dynatree._init(): send Ajax request...");this.tnRoot.appendAjax(ajaxOpts)},toString:function(){return"Dynatree '"+this.$tree.attr("id")+"'"},toDict:function(){return this.tnRoot.toDict(true)},serializeArray:function(stopOnParents){var nodeList=this.getSelectedNodes(stopOnParents),name=this.$tree.attr("name")||this.$tree.attr("id"),arr=[];for(var i=0,l=nodeList.length;i<l;i++){arr.push({name:name,value:nodeList[i].data.key})}return arr},getPersistData:function(){return this.persistence.toDict()},logDebug:function(msg){if(this.options.debugLevel>=2){Array.prototype.unshift.apply(arguments,["debug"]);_log.apply(this,arguments)}},logInfo:function(msg){if(this.options.debugLevel>=1){Array.prototype.unshift.apply(arguments,["info"]);_log.apply(this,arguments)}},logWarning:function(msg){Array.prototype.unshift.apply(arguments,["warn"]);_log.apply(this,arguments)},isInitializing:function(){return(this.phase=="init"||this.phase=="postInit")},isReloading:function(){return(this.phase=="init"||this.phase=="postInit")&&this.options.persist&&this.persistence.cookiesFound},isUserEvent:function(){return(this.phase=="userEvent")},redraw:function(){this.tnRoot.render(false,false)},renderInvisibleNodes:function(){this.tnRoot.render(false,true)},reload:function(callback){this._load(callback)},getRoot:function(){return this.tnRoot},enable:function(){this.$widget.enable()},disable:function(){this.$widget.disable()},getNodeByKey:function(key){var el=document.getElementById(this.options.idPrefix+key);if(el){return el.dtnode?el.dtnode:null}var match=null;this.visit(function(node){if(node.data.key==key){match=node;return false}},true);return match},getActiveNode:function(){return this.activeNode},reactivate:function(setFocus){var node=this.activeNode;if(node){this.activeNode=null;node.activate();if(setFocus){node.focus()}}},getSelectedNodes:function(stopOnParents){var nodeList=[];this.tnRoot.visit(function(node){if(node.bSelected){nodeList.push(node);if(stopOnParents===true){return"skip"}}});return nodeList},activateKey:function(key){var dtnode=(key===null)?null:this.getNodeByKey(key);if(!dtnode){if(this.activeNode){this.activeNode.deactivate()}this.activeNode=null;return null}dtnode.focus();dtnode.activate();return dtnode},loadKeyPath:function(keyPath,callback){var segList=keyPath.split(this.options.keyPathSeparator);if(segList[0]===""){segList.shift()}if(segList[0]==this.tnRoot.data.key){this.logDebug("Removed leading root key.");segList.shift()}keyPath=segList.join(this.options.keyPathSeparator);return this.tnRoot._loadKeyPath(keyPath,callback)},selectKey:function(key,select){var dtnode=this.getNodeByKey(key);if(!dtnode){return null}dtnode.select(select);return dtnode},enableUpdate:function(bEnable){if(this.bEnableUpdate==bEnable){return bEnable}this.bEnableUpdate=bEnable;if(bEnable){this.redraw()}return !bEnable},count:function(){return this.tnRoot.countChildren()},visit:function(fn,includeRoot){return this.tnRoot.visit(fn,includeRoot)},_createFromTag:function(parentTreeNode,$ulParent){var self=this;$ulParent.find(">li").each(function(){var $li=$(this);var $liSpan=$li.find(">span:first");var title;if($liSpan.length){title=$liSpan.html()}else{title=$li.html();var iPos=title.search(/<ul/i);if(iPos>=0){title=$.trim(title.substring(0,iPos))}else{title=$.trim(title)}}var data={title:title,isFolder:$li.hasClass("folder"),isLazy:$li.hasClass("lazy"),expand:$li.hasClass("expanded"),select:$li.hasClass("selected"),activate:$li.hasClass("active"),focus:$li.hasClass("focused"),noLink:$li.hasClass("noLink")};if($li.attr("title")){data.tooltip=$li.attr("title")}if($li.attr("id")){data.key=$li.attr("id")}if($li.attr("data")){var dataAttr=$.trim($li.attr("data"));if(dataAttr){if(dataAttr.charAt(0)!="{"){dataAttr="{"+dataAttr+"}"}try{$.extend(data,eval("("+dataAttr+")"))}catch(e){throw ("Error parsing node data: "+e+"\ndata:\n'"+dataAttr+"'")}}}var childNode=parentTreeNode.addChild(data);var $ul=$li.find(">ul:first");if($ul.length){self._createFromTag(childNode,$ul)}})},_checkConsistency:function(){},_setDndStatus:function(sourceNode,targetNode,helper,hitMode,accept){var $source=sourceNode?$(sourceNode.span):null;var $target=$(targetNode.span);if(!this.$dndMarker){this.$dndMarker=$("<div id='dynatree-drop-marker'></div>").hide().prependTo($(this.divTree).parent())}if(hitMode==="after"||hitMode==="before"||hitMode==="over"){var pos=$target.position();switch(hitMode){case"before":this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-over");this.$dndMarker.addClass("dynatree-drop-before");pos.top-=8;break;case"after":this.$dndMarker.removeClass("dynatree-drop-before dynatree-drop-over");this.$dndMarker.addClass("dynatree-drop-after");pos.top+=8;break;default:this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-before");this.$dndMarker.addClass("dynatree-drop-over");$target.addClass("dynatree-drop-target");pos.left+=8}this.$dndMarker.css({left:(pos.left)+"px",top:(pos.top)+"px"}).show()}else{$target.removeClass("dynatree-drop-target");this.$dndMarker.hide()}if(hitMode==="after"){$target.addClass("dynatree-drop-after")}else{$target.removeClass("dynatree-drop-after")}if(hitMode==="before"){$target.addClass("dynatree-drop-before")}else{$target.removeClass("dynatree-drop-before")}if(accept===true){if($source){$source.addClass("dynatree-drop-accept")}$target.addClass("dynatree-drop-accept");helper.addClass("dynatree-drop-accept")}else{if($source){$source.removeClass("dynatree-drop-accept")}$target.removeClass("dynatree-drop-accept");helper.removeClass("dynatree-drop-accept")}if(accept===false){if($source){$source.addClass("dynatree-drop-reject")}$target.addClass("dynatree-drop-reject");helper.addClass("dynatree-drop-reject")}else{if($source){$source.removeClass("dynatree-drop-reject")}$target.removeClass("dynatree-drop-reject");helper.removeClass("dynatree-drop-reject")}},_onDragEvent:function(eventName,node,otherNode,event,ui,draggable){var opts=this.options;var dnd=this.options.dnd;var res=null;var nodeTag=$(node.span);var hitMode;switch(eventName){case"helper":var helper=$("<div class='dynatree-drag-helper'><span class='dynatree-drag-helper-img' /></div>").append($(event.target).closest("a").clone());helper.data("dtSourceNode",node);res=helper;break;case"start":if(node.isStatusNode()){res=false}else{if(dnd.onDragStart){res=dnd.onDragStart(node)}}if(res===false){this.logDebug("tree.onDragStart() cancelled");ui.helper.trigger("mouseup");ui.helper.hide()}else{nodeTag.addClass("dynatree-drag-source")}break;case"enter":res=dnd.onDragEnter?dnd.onDragEnter(node,otherNode):null;res={over:(res!==false)&&((res===true)||(res==="over")||$.inArray("over",res)>=0),before:(res!==false)&&((res===true)||(res==="before")||$.inArray("before",res)>=0),after:(res!==false)&&((res===true)||(res==="after")||$.inArray("after",res)>=0)};ui.helper.data("enterResponse",res);break;case"over":var enterResponse=ui.helper.data("enterResponse");hitMode=null;if(enterResponse===false){break}else{if(typeof enterResponse==="string"){hitMode=enterResponse}else{var nodeOfs=nodeTag.offset();var relPos={x:event.pageX-nodeOfs.left,y:event.pageY-nodeOfs.top};var relPos2={x:relPos.x/nodeTag.width(),y:relPos.y/nodeTag.height()};if(enterResponse.after&&relPos2.y>0.75){hitMode="after"}else{if(!enterResponse.over&&enterResponse.after&&relPos2.y>0.5){hitMode="after"}else{if(enterResponse.before&&relPos2.y<=0.25){hitMode="before"}else{if(!enterResponse.over&&enterResponse.before&&relPos2.y<=0.5){hitMode="before"}else{if(enterResponse.over){hitMode="over"}}}}}if(dnd.preventVoidMoves){if(node===otherNode){hitMode=null}else{if(hitMode==="before"&&otherNode&&node===otherNode.getNextSibling()){hitMode=null}else{if(hitMode==="after"&&otherNode&&node===otherNode.getPrevSibling()){hitMode=null}else{if(hitMode==="over"&&otherNode&&otherNode.parent===node&&otherNode.isLastSibling()){hitMode=null}}}}}ui.helper.data("hitMode",hitMode)}}if(hitMode==="over"&&dnd.autoExpandMS&&node.hasChildren()!==false&&!node.bExpanded){node.scheduleAction("expand",dnd.autoExpandMS)}if(hitMode&&dnd.onDragOver){res=dnd.onDragOver(node,otherNode,hitMode)}this._setDndStatus(otherNode,node,ui.helper,hitMode,res!==false);break;case"drop":hitMode=ui.helper.data("hitMode");if(hitMode&&dnd.onDrop){dnd.onDrop(node,otherNode,hitMode,ui,draggable)}break;case"leave":node.scheduleAction("cancel");ui.helper.data("enterResponse",null);ui.helper.data("hitMode",null);this._setDndStatus(otherNode,node,ui.helper,"out",undefined);if(dnd.onDragLeave){dnd.onDragLeave(node,otherNode)}break;case"stop":nodeTag.removeClass("dynatree-drag-source");if(dnd.onDragStop){dnd.onDragStop(node)}break;default:throw"Unsupported drag event: "+eventName}return res},cancelDrag:function(){var dd=$.ui.ddmanager.current;if(dd){dd.cancel()}},lastentry:undefined};$.widget("ui.dynatree",{_init:function(){if(parseFloat($.ui.version)<1.8){_log("warn","ui.dynatree._init() was called; you should upgrade to jquery.ui.core.js v1.8 or higher.");return this._create()}_log("debug","ui.dynatree._init() was called; no current default functionality.")},_create:function(){logMsg("Dynatree._create(): version='%s', debugLevel=%o.",DynaTree.version,this.options.debugLevel);var opts=this.options;this.options.event+=".dynatree";var divTree=this.element.get(0);this.tree=new DynaTree(this);this.tree._load();this.tree.logDebug("Dynatree._init(): done.")},bind:function(){this.unbind();var eventNames="click.dynatree dblclick.dynatree";if(this.options.keyboard){eventNames+=" keypress.dynatree keydown.dynatree"}this.element.bind(eventNames,function(event){var dtnode=getDtNodeFromElement(event.target);if(!dtnode){return true}var tree=dtnode.tree;var o=tree.options;tree.logDebug("event(%s): dtnode: %s",event.type,dtnode);var prevPhase=tree.phase;tree.phase="userEvent";try{switch(event.type){case"click":return(o.onClick&&o.onClick.call(tree,dtnode,event)===false)?false:dtnode._onClick(event);case"dblclick":return(o.onDblClick&&o.onDblClick.call(tree,dtnode,event)===false)?false:dtnode._onDblClick(event);case"keydown":return(o.onKeydown&&o.onKeydown.call(tree,dtnode,event)===false)?false:dtnode._onKeydown(event);case"keypress":return(o.onKeypress&&o.onKeypress.call(tree,dtnode,event)===false)?false:dtnode._onKeypress(event)}}catch(e){var _=null;tree.logWarning("bind(%o): dtnode: %o, error: %o",event,dtnode,e)}finally{tree.phase=prevPhase}});function __focusHandler(event){event=$.event.fix(event||window.event);var dtnode=getDtNodeFromElement(event.target);return dtnode?dtnode._onFocus(event):false}var div=this.tree.divTree;if(div.addEventListener){div.addEventListener("focus",__focusHandler,true);div.addEventListener("blur",__focusHandler,true)}else{div.onfocusin=div.onfocusout=__focusHandler}},unbind:function(){this.element.unbind(".dynatree")},enable:function(){this.bind();$.Widget.prototype.enable.apply(this,arguments)},disable:function(){this.unbind();$.Widget.prototype.disable.apply(this,arguments)},getTree:function(){return this.tree},getRoot:function(){return this.tree.getRoot()},getActiveNode:function(){return this.tree.getActiveNode()},getSelectedNodes:function(){return this.tree.getSelectedNodes()},lastentry:undefined});if(parseFloat($.ui.version)<1.8){$.ui.dynatree.getter="getTree getRoot getActiveNode getSelectedNodes"}$.ui.dynatree.prototype.options={title:"Dynatree",minExpandLevel:1,imagePath:null,children:null,initId:null,initAjax:null,autoFocus:true,keyboard:true,persist:false,autoCollapse:false,clickFolderMode:3,activeVisible:true,checkbox:false,selectMode:2,fx:null,noLink:false,onClick:null,onDblClick:null,onKeydown:null,onKeypress:null,onFocus:null,onBlur:null,onQueryActivate:null,onQuerySelect:null,onQueryExpand:null,onPostInit:null,onActivate:null,onDeactivate:null,onSelect:null,onExpand:null,onLazyRead:null,onCustomRender:null,onRender:null,dnd:{onDragStart:null,onDragStop:null,autoExpandMS:1000,preventVoidMoves:true,onDragEnter:null,onDragOver:null,onDrop:null,onDragLeave:null},ajaxDefaults:{cache:false,dataType:"json"},strings:{loading:"Loading&#8230;",loadError:"Load error!"},generateIds:false,idPrefix:"dynatree-id-",keyPathSeparator:"/",cookieId:"dynatree",cookie:{expires:null},classNames:{container:"dynatree-container",node:"dynatree-node",folder:"dynatree-folder",empty:"dynatree-empty",vline:"dynatree-vline",expander:"dynatree-expander",connector:"dynatree-connector",checkbox:"dynatree-checkbox",nodeIcon:"dynatree-icon",title:"dynatree-title",noConnector:"dynatree-no-connector",nodeError:"dynatree-statusnode-error",nodeWait:"dynatree-statusnode-wait",hidden:"dynatree-hidden",combinedExpanderPrefix:"dynatree-exp-",combinedIconPrefix:"dynatree-ico-",nodeLoading:"dynatree-loading",hasChildren:"dynatree-has-children",active:"dynatree-active",selected:"dynatree-selected",expanded:"dynatree-expanded",lazy:"dynatree-lazy",focused:"dynatree-focused",partsel:"dynatree-partsel",lastsib:"dynatree-lastsib"},debugLevel:1,lastentry:undefined};if(parseFloat($.ui.version)<1.8){$.ui.dynatree.defaults=$.ui.dynatree.prototype.options}$.ui.dynatree.nodedatadefaults={title:null,key:null,isFolder:false,isLazy:false,tooltip:null,icon:null,addClass:null,noLink:false,activate:false,focus:false,expand:false,select:false,hideCheckbox:false,unselectable:false,children:null,lastentry:undefined};function _initDragAndDrop(tree){var dnd=tree.options.dnd||null;if(dnd&&(dnd.onDragStart||dnd.onDrop)){_registerDnd()}if(dnd&&dnd.onDragStart){tree.$tree.draggable({addClasses:false,appendTo:"body",containment:false,delay:0,distance:4,revert:false,connectToDynatree:true,helper:function(event){var sourceNode=getDtNodeFromElement(event.target);return sourceNode.tree._onDragEvent("helper",sourceNode,null,event,null,null)},_last:null})}if(dnd&&dnd.onDrop){tree.$tree.droppable({addClasses:false,tolerance:"intersect",greedy:false,_last:null})}}var didRegisterDnd=false;var _registerDnd=function(){if(didRegisterDnd){return}$.ui.plugin.add("draggable","connectToDynatree",{start:function(event,ui){var draggable=$(this).data("draggable");var sourceNode=ui.helper.data("dtSourceNode")||null;if(sourceNode){draggable.offset.click.top=-2;draggable.offset.click.left=+16;return sourceNode.tree._onDragEvent("start",sourceNode,null,event,ui,draggable)}},drag:function(event,ui){var draggable=$(this).data("draggable");var sourceNode=ui.helper.data("dtSourceNode")||null;var prevTargetNode=ui.helper.data("dtTargetNode")||null;var targetNode=getDtNodeFromElement(event.target);if(event.target&&!targetNode){var isHelper=$(event.target).closest("div.dynatree-drag-helper,#dynatree-drop-marker").length>0;if(isHelper){return}}ui.helper.data("dtTargetNode",targetNode);if(prevTargetNode&&prevTargetNode!==targetNode){prevTargetNode.tree._onDragEvent("leave",prevTargetNode,sourceNode,event,ui,draggable)}if(targetNode){if(!targetNode.tree.options.dnd.onDrop){noop()}else{if(targetNode===prevTargetNode){targetNode.tree._onDragEvent("over",targetNode,sourceNode,event,ui,draggable)}else{targetNode.tree._onDragEvent("enter",targetNode,sourceNode,event,ui,draggable)}}}},stop:function(event,ui){var draggable=$(this).data("draggable");var sourceNode=ui.helper.data("dtSourceNode")||null;var targetNode=ui.helper.data("dtTargetNode")||null;var mouseDownEvent=draggable._mouseDownEvent;var eventType=event.type;var dropped=(eventType=="mouseup"&&event.which==1);if(!dropped){logMsg("Drag was cancelled")}if(targetNode){if(dropped){targetNode.tree._onDragEvent("drop",targetNode,sourceNode,event,ui,draggable)}targetNode.tree._onDragEvent("leave",targetNode,sourceNode,event,ui,draggable)}if(sourceNode){sourceNode.tree._onDragEvent("stop",sourceNode,null,event,ui,draggable)}}});didRegisterDnd=true}})(jQuery);(function(b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{b((typeof(jQuery)!="undefined")?jQuery:window.Zepto)}}(function(l){var o={};o.fileapi=l("<input type='file'/>").get(0).files!==undefined;o.formdata=window.FormData!==undefined;var m=!!l.fn.prop;l.fn.attr2=function(){if(!m){return this.attr.apply(this,arguments)}var a=this.prop.apply(this,arguments);if((a&&a.jquery)||typeof a==="string"){return a}return this.attr.apply(this,arguments)};l.fn.ajaxSubmit=function(ac){if(!this.length){n("ajaxSubmit: skipping submit process - no element selected");return this}var ad,P,aa,T=this;if(typeof ac=="function"){ac={success:ac}}else{if(ac===undefined){ac={}}}ad=ac.type||this.attr2("method");P=ac.url||this.attr2("action");aa=(typeof P==="string")?l.trim(P):"";aa=aa||window.location.href||"";if(aa){aa=(aa.match(/^([^#]+)/)||[])[1]}ac=l.extend(true,{url:aa,success:l.ajaxSettings.success,type:ad||l.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},ac);var f={};this.trigger("form-pre-serialize",[this,ac,f]);if(f.veto){n("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(ac.beforeSerialize&&ac.beforeSerialize(this,ac)===false){n("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var Z=ac.traditional;if(Z===undefined){Z=l.ajaxSettings.traditional}var N=[];var L,e=this.formToArray(ac.semantic,N);if(ac.data){ac.extraData=ac.data;L=l.param(ac.data,Z)}if(ac.beforeSubmit&&ac.beforeSubmit(e,this,ac)===false){n("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[e,this,ac,f]);if(f.veto){n("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var V=l.param(e,Z);if(L){V=(V?(V+"&"+L):L)}if(ac.type.toUpperCase()=="GET"){ac.url+=(ac.url.indexOf("?")>=0?"&":"?")+V;ac.data=null}else{ac.data=V}var b=[];if(ac.resetForm){b.push(function(){T.resetForm()})}if(ac.clearForm){b.push(function(){T.clearForm(ac.includeHidden)})}if(!ac.dataType&&ac.target){var ab=ac.success||function(){};b.push(function(p){var s=ac.replaceTarget?"replaceWith":"html";l(ac.target)[s](p).each(ab,arguments)})}else{if(ac.success){b.push(ac.success)}}ac.success=function(u,p,t){var v=ac.context||this;for(var w=0,s=b.length;w<s;w++){b[w].apply(v,[u,p,t||T,T])}};if(ac.error){var U=ac.error;ac.error=function(t,s,p){var u=ac.context||this;U.apply(u,[t,s,p,T])}}if(ac.complete){var ae=ac.complete;ac.complete=function(t,s){var p=ac.context||this;ae.apply(p,[t,s,T])}}var M=l("input[type=file]:enabled",this).filter(function(){return l(this).val()!==""});var R=M.length>0;var Q="multipart/form-data";var W=(T.attr("enctype")==Q||T.attr("encoding")==Q);var a=o.fileapi&&o.formdata;n("fileAPI :"+a);var O=(R||W)&&!a;var d;if(ac.iframe!==false&&(ac.iframe||O)){if(ac.closeKeepAlive){l.get(ac.closeKeepAlive,function(){d=c(e)})}else{d=c(e)}}else{if((R||W)&&a){d=q(e)}else{d=l.ajax(ac)}}T.removeData("jqxhr").data("jqxhr",d);for(var S=0;S<N.length;S++){N[S]=null}this.trigger("form-submit-notify",[this,ac]);return this;function af(u){var t=l.param(u,ac.traditional).split("&");var p=t.length;var s=[];var v,w;for(v=0;v<p;v++){t[v]=t[v].replace(/\+/g," ");w=t[v].split("=");s.push([decodeURIComponent(w[0]),decodeURIComponent(w[1])])}return s}function q(p){var t=new FormData();for(var w=0;w<p.length;w++){t.append(p[w].name,p[w].value)}if(ac.extraData){var s=af(ac.extraData);for(w=0;w<s.length;w++){if(s[w]){t.append(s[w][0],s[w][1])}}}ac.data=null;var u=l.extend(true,{},l.ajaxSettings,ac,{contentType:false,processData:false,cache:false,type:ad||"POST"});if(ac.uploadProgress){u.xhr=function(){var x=l.ajaxSettings.xhr();if(x.upload){x.upload.addEventListener("progress",function(y){var z=0;var B=y.loaded||y.position;var A=y.total;if(y.lengthComputable){z=Math.ceil(B/A*100)}ac.uploadProgress(y,B,A,z)},false)}return x}}u.data=null;var v=u.beforeSend;u.beforeSend=function(x,y){if(ac.formData){y.data=ac.formData}else{y.data=t}if(v){v.call(this,x,y)}};return l.ajax(u)}function c(I){var z=T[0],A,ak,aq,K,an,x,u,w,v,am,aj,p;var F=l.Deferred();F.abort=function(ag){w.abort(ag)};if(I){for(ak=0;ak<N.length;ak++){A=l(N[ak]);if(m){A.prop("disabled",false)}else{A.removeAttr("disabled")}}}aq=l.extend(true,{},l.ajaxSettings,ac);aq.context=aq.context||aq;an="jqFormIO"+(new Date().getTime());if(aq.iframeTarget){x=l(aq.iframeTarget);am=x.attr2("name");if(!am){x.attr2("name",an)}else{an=am}}else{x=l('<iframe name="'+an+'" src="'+aq.iframeSrc+'" />');x.css({position:"absolute",top:"-1000px",left:"-1000px"})}u=x[0];w={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(ai){var ah=(ai==="timeout"?"timeout":"aborted");n("aborting upload... "+ah);this.aborted=1;try{if(u.contentWindow.document.execCommand){u.contentWindow.document.execCommand("Stop")}}catch(ag){}x.attr("src",aq.iframeSrc);w.error=ah;if(aq.error){aq.error.call(aq.context,w,ah,ai)}if(K){l.event.trigger("ajaxError",[w,aq,ah])}if(aq.complete){aq.complete.call(aq.context,w,ah)}}};K=aq.global;if(K&&0===l.active++){l.event.trigger("ajaxStart")}if(K){l.event.trigger("ajaxSend",[w,aq])}if(aq.beforeSend&&aq.beforeSend.call(aq.context,w,aq)===false){if(aq.global){l.active--}F.reject();return F}if(w.aborted){F.reject();return F}v=z.clk;if(v){am=v.name;if(am&&!v.disabled){aq.extraData=aq.extraData||{};aq.extraData[am]=v.value;if(v.type=="image"){aq.extraData[am+".x"]=z.clk_x;aq.extraData[am+".y"]=z.clk_y}}}var ar=1;var t=2;function s(ag){var ah=null;try{if(ag.contentWindow){ah=ag.contentWindow.document}}catch(ai){n("cannot get iframe.contentWindow document: "+ai)}if(ah){return ah}try{ah=ag.contentDocument?ag.contentDocument:ag.document}catch(ai){n("cannot get iframe.contentDocument: "+ai);ah=ag.document}return ah}var B=l("meta[name=csrf-token]").attr("content");var C=l("meta[name=csrf-param]").attr("content");if(C&&B){aq.extraData=aq.extraData||{};aq.extraData[C]=B}function al(){var aE=T.attr2("target"),az=T.attr2("action"),aB="multipart/form-data",ai=T.attr("enctype")||T.attr("encoding")||aB;z.setAttribute("target",an);if(!ad||/post/i.test(ad)){z.setAttribute("method","POST")}if(az!=aq.url){z.setAttribute("action",aq.url)}if(!aq.skipEncodingOverride&&(!ad||/post/i.test(ad))){T.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(aq.timeout){p=setTimeout(function(){aj=true;ao(ar)},aq.timeout)}function ah(){try{var at=s(u).readyState;n("state = "+at);if(at&&at.toLowerCase()=="uninitialized"){setTimeout(ah,50)}}catch(au){n("Server abort: ",au," (",au.name,")");ao(t);if(p){clearTimeout(p)}p=undefined}}var ag=[];try{if(aq.extraData){for(var aC in aq.extraData){if(aq.extraData.hasOwnProperty(aC)){if(l.isPlainObject(aq.extraData[aC])&&aq.extraData[aC].hasOwnProperty("name")&&aq.extraData[aC].hasOwnProperty("value")){ag.push(l('<input type="hidden" name="'+aq.extraData[aC].name+'">').val(aq.extraData[aC].value).appendTo(z)[0])}else{ag.push(l('<input type="hidden" name="'+aC+'">').val(aq.extraData[aC]).appendTo(z)[0])}}}}if(!aq.iframeTarget){x.appendTo("body")}if(u.attachEvent){u.attachEvent("onload",ao)}else{u.addEventListener("load",ao,false)}setTimeout(ah,15);try{z.submit()}catch(aA){var aD=document.createElement("form").submit;aD.apply(z)}}finally{z.setAttribute("action",az);z.setAttribute("enctype",ai);if(aE){z.setAttribute("target",aE)}else{T.removeAttr("target")}l(ag).remove()}}if(aq.forceSync){al()}else{setTimeout(al,10)}var H,G,J=50,y;function ao(ah){if(w.aborted||y){return}G=s(u);if(!G){n("cannot access response document");ah=t}if(ah===ar&&w){w.abort("timeout");F.reject(w,"timeout");return}else{if(ah==t&&w){w.abort("server abort");F.reject(w,"error","server abort");return}}if(!G||G.location.href==aq.iframeSrc){if(!aj){return}}if(u.detachEvent){u.detachEvent("onload",ao)}else{u.removeEventListener("load",ao,false)}var aB="success",aI;try{if(aj){throw"timeout"}var aC=aq.dataType=="xml"||G.XMLDocument||l.isXMLDoc(G);n("isXml="+aC);if(!aC&&window.opera&&(G.body===null||!G.body.innerHTML)){if(--J){n("requeing onLoad callback, DOM not available");setTimeout(ao,250);return}}var aH=G.body?G.body:G.documentElement;w.responseText=aH?aH.innerHTML:null;w.responseXML=G.XMLDocument?G.XMLDocument:G;if(aC){aq.dataType="xml"}w.getResponseHeader=function(at){var au={"content-type":aq.dataType};return au[at.toLowerCase()]};if(aH){w.status=Number(aH.getAttribute("status"))||w.status;w.statusText=aH.getAttribute("statusText")||w.statusText}var aF=(aq.dataType||"").toLowerCase();var ag=/(json|script|text)/.test(aF);if(ag||aq.textarea){var ai=G.getElementsByTagName("textarea")[0];if(ai){w.responseText=ai.value;w.status=Number(ai.getAttribute("status"))||w.status;w.statusText=ai.getAttribute("statusText")||w.statusText}else{if(ag){var aE=G.getElementsByTagName("pre")[0];var aG=G.getElementsByTagName("body")[0];if(aE){w.responseText=aE.textContent?aE.textContent:aE.innerText}else{if(aG){w.responseText=aG.textContent?aG.textContent:aG.innerText}}}}}else{if(aF=="xml"&&!w.responseXML&&w.responseText){w.responseXML=ap(w.responseText)}}try{H=E(w,aF,aq)}catch(aD){aB="parsererror";w.error=aI=(aD||aB)}}catch(aD){n("error caught: ",aD);aB="error";w.error=aI=(aD||aB)}if(w.aborted){n("upload aborted");aB=null}if(w.status){aB=(w.status>=200&&w.status<300||w.status===304)?"success":"error"}if(aB==="success"){if(aq.success){aq.success.call(aq.context,H,"success",w)}F.resolve(w.responseText,"success",w);if(K){l.event.trigger("ajaxSuccess",[w,aq])}}else{if(aB){if(aI===undefined){aI=w.statusText}if(aq.error){aq.error.call(aq.context,w,aB,aI)}F.reject(w,"error",aI);if(K){l.event.trigger("ajaxError",[w,aq,aI])}}}if(K){l.event.trigger("ajaxComplete",[w,aq])}if(K&&!--l.active){l.event.trigger("ajaxStop")}if(aq.complete){aq.complete.call(aq.context,w,aB)}y=true;if(aq.timeout){clearTimeout(p)}setTimeout(function(){if(!aq.iframeTarget){x.remove()}else{x.attr("src",aq.iframeSrc)}w.responseXML=null},100)}var ap=l.parseXML||function(ah,ag){if(window.ActiveXObject){ag=new ActiveXObject("Microsoft.XMLDOM");ag.async="false";ag.loadXML(ah)}else{ag=(new DOMParser()).parseFromString(ah,"text/xml")}return(ag&&ag.documentElement&&ag.documentElement.nodeName!="parsererror")?ag:null};var D=l.parseJSON||function(ag){return window["eval"]("("+ag+")")};var E=function(ax,ag,ah){var ai=ax.getResponseHeader("content-type")||"",aw=ag==="xml"||!ag&&ai.indexOf("xml")>=0,ay=aw?ax.responseXML:ax.responseText;if(aw&&ay.documentElement.nodeName==="parsererror"){if(l.error){l.error("parsererror")}}if(ah&&ah.dataFilter){ay=ah.dataFilter(ay,ag)}if(typeof ay==="string"){if(ag==="json"||!ag&&ai.indexOf("json")>=0){ay=D(ay)}else{if(ag==="script"||!ag&&ai.indexOf("javascript")>=0){l.globalEval(ay)}}}return ay};return F}};l.fn.ajaxForm=function(b){b=b||{};b.delegation=b.delegation&&l.isFunction(l.fn.on);if(!b.delegation&&this.length===0){var a={s:this.selector,c:this.context};if(!l.isReady&&a.s){n("DOM not ready, queuing ajaxForm");l(function(){l(a.s,a.c).ajaxForm(b)});return this}n("terminating; zero elements found by selector"+(l.isReady?"":" (DOM not ready)"));return this}if(b.delegation){l(document).off("submit.form-plugin",this.selector,g).off("click.form-plugin",this.selector,h).on("submit.form-plugin",this.selector,b,g).on("click.form-plugin",this.selector,b,h);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",b,g).bind("click.form-plugin",b,h)};function g(a){var b=a.data;if(!a.isDefaultPrevented()){a.preventDefault();l(a.target).ajaxSubmit(b)}}function h(f){var a=f.target;var c=l(a);if(!(c.is("[type=submit],[type=image]"))){var d=c.closest("[type=submit]");if(d.length===0){return}a=d[0]}var b=this;b.clk=a;if(a.type=="image"){if(f.offsetX!==undefined){b.clk_x=f.offsetX;b.clk_y=f.offsetY}else{if(typeof l.fn.offset=="function"){var e=c.offset();b.clk_x=f.pageX-e.left;b.clk_y=f.pageY-e.top}else{b.clk_x=f.pageX-a.offsetLeft;b.clk_y=f.pageY-a.offsetTop}}}setTimeout(function(){b.clk=b.clk_x=b.clk_y=null},100)}l.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};l.fn.formToArray=function(G,F){var H=[];if(this.length===0){return H}var v=this[0];var d=this.attr("id");var M=G?v.getElementsByTagName("*"):v.elements;var b;if(M&&!/MSIE [678]/.test(navigator.userAgent)){M=l(M).get()}if(d){b=l(':input[form="'+d+'"]').get();if(b.length){M=(M||[]).concat(b)}}if(!M||!M.length){return H}var L,a,c,f,e,J,D;for(L=0,J=M.length;L<J;L++){e=M[L];c=e.name;if(!c||e.disabled){continue}if(G&&v.clk&&e.type=="image"){if(v.clk==e){H.push({name:c,value:l(e).val(),type:e.type});H.push({name:c+".x",value:v.clk_x},{name:c+".y",value:v.clk_y})}continue}f=l.fieldValue(e,true);if(f&&f.constructor==Array){if(F){F.push(e)}for(a=0,D=f.length;a<D;a++){H.push({name:c,value:f[a]})}}else{if(o.fileapi&&e.type=="file"){if(F){F.push(e)}var E=e.files;if(E.length){for(a=0;a<E.length;a++){H.push({name:c,value:E[a],type:e.type})}}else{H.push({name:c,value:"",type:e.type})}}else{if(f!==null&&typeof f!="undefined"){if(F){F.push(e)}H.push({name:c,value:f,type:e.type,required:e.required})}}}}if(!G&&v.clk){var K=l(v.clk),I=K[0];c=I.name;if(c&&!I.disabled&&I.type=="image"){H.push({name:c,value:K.val()});H.push({name:c+".x",value:v.clk_x},{name:c+".y",value:v.clk_y})}}return H};l.fn.formSerialize=function(a){return l.param(this.formToArray(a))};l.fn.fieldSerialize=function(a){var b=[];this.each(function(){var e=this.name;if(!e){return}var c=l.fieldValue(this,a);if(c&&c.constructor==Array){for(var f=0,d=c.length;f<d;f++){b.push({name:e,value:c[f]})}}else{if(c!==null&&typeof c!="undefined"){b.push({name:this.name,value:c})}}});return l.param(b)};l.fn.fieldValue=function(e){for(var f=[],b=0,d=this.length;b<d;b++){var a=this[b];var c=l.fieldValue(a,e);if(c===null||typeof c=="undefined"||(c.constructor==Array&&!c.length)){continue}if(c.constructor==Array){l.merge(f,c)}else{f.push(c)}}return f};l.fieldValue=function(t,a){var e=t.name,A=t.type,v=t.tagName.toLowerCase();if(a===undefined){a=true}if(a&&(!e||t.disabled||A=="reset"||A=="button"||(A=="checkbox"||A=="radio")&&!t.checked||(A=="submit"||A=="image")&&t.form&&t.form.clk!=t||v=="select"&&t.selectedIndex==-1)){return null}if(v=="select"){var E=t.selectedIndex;if(E<0){return null}var C=[],f=t.options;var c=(A=="select-one");var D=(c?E+1:f.length);for(var d=(c?E:0);d<D;d++){var b=f[d];if(b.selected){var B=b.value;if(!B){B=(b.attributes&&b.attributes.value&&!(b.attributes.value.specified))?b.text:b.value}if(c){return B}C.push(B)}}return C}return l(t).val()};l.fn.clearForm=function(a){return this.each(function(){l("input,select,textarea",this).clearFields(a)})};l.fn.clearFields=l.fn.clearInputs=function(b){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var c=this.type,d=this.tagName.toLowerCase();if(a.test(c)||d=="textarea"){this.value=""}else{if(c=="checkbox"||c=="radio"){this.checked=false}else{if(d=="select"){this.selectedIndex=-1}else{if(c=="file"){if(/MSIE/.test(navigator.userAgent)){l(this).replaceWith(l(this).clone(true))}else{l(this).val("")}}else{if(b){if((b===true&&/hidden/.test(c))||(typeof b=="string"&&l(this).is(b))){this.value=""}}}}}}})};l.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};l.fn.enable=function(a){if(a===undefined){a=true}return this.each(function(){this.disabled=!a})};l.fn.selected=function(a){if(a===undefined){a=true}return this.each(function(){var c=this.type;if(c=="checkbox"||c=="radio"){this.checked=a}else{if(this.tagName.toLowerCase()=="option"){var b=l(this).parent("select");if(a&&b[0]&&b[0].type=="select-one"){b.find("option").selected(false)}this.selected=a}}})};l.fn.ajaxSubmit.debug=false;function n(){if(!l.fn.ajaxSubmit.debug){return}var a="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(a)}else{if(window.opera&&window.opera.postError){window.opera.postError(a)}}}}));(function(b){b.fn.splitter=function(a){a=a||{};return this.each(function(){var N;function C(c){if(I.outline){N=N||x.clone(false).insertAfter(E)}M.css("-webkit-user-select","none");x.addClass(I.activeClass);b('<div class="splitterMask"></div>').insertAfter(x);E._posSplit=E[0][I.pxSplit]-c[I.eventPos];b(document).bind("mousemove",A).bind("mouseup",K)}function A(c){var d=E._posSplit+c[I.eventPos];if(I.outline){d=Math.max(0,Math.min(d,H._DA-x._DA));x.css(I.origin,d)}else{z(d)}}function K(c){b("div.splitterMask").remove();x.removeClass(I.activeClass);var d=E._posSplit+c[I.eventPos];if(I.outline){N.remove();N=null;z(d)}M.css("-webkit-user-select","text");b(document).unbind("mousemove",A).unbind("mouseup",K)}function z(c){c=Math.max(E._min,H._DA-F._max,Math.min(c,E._max,H._DA-x._DA-F._min));x._DA=x[0][I.pxSplit];x.css(I.origin,c).css(I.fixed,H._DF);E.css(I.origin,0).css(I.split,c).css(I.fixed,H._DF);F.css(I.origin,c+x._DA).css(I.split,H._DA-x._DA-c).css(I.fixed,H._DF);if(y()){M.trigger("resize")}}function L(d,e){var f=0;for(var c=1;c<arguments.length;c++){f+=Math.max(parseInt(d.css(arguments[c]))||0,0)}return f}function y(){return true}var B=(a.splitHorizontal?"h":a.splitVertical?"v":a.type)||"v";var I=b.extend({activeClass:"active",pxPerKey:8,tabIndex:0,accessKey:""},{v:{keyLeft:39,keyRight:37,cursor:"e-resize",splitbarClass:"vsplitbar",outlineClass:"voutline",type:"v",eventPos:"pageX",origin:"left",split:"width",pxSplit:"offsetWidth",side1:"Left",side2:"Right",fixed:"height",pxFixed:"offsetHeight",side3:"Top",side4:"Bottom"},h:{keyTop:40,keyBottom:38,cursor:"n-resize",splitbarClass:"hsplitbar",outlineClass:"houtline",type:"h",eventPos:"pageY",origin:"top",split:"height",pxSplit:"offsetHeight",side1:"Top",side2:"Bottom",fixed:"width",pxFixed:"offsetWidth",side3:"Left",side4:"Right"}}[B],a);var H=b(this).css({position:"relative"});var M=b(">*",H[0]).css({position:"absolute","z-index":"1","-moz-outline-style":"none"});var E=b(M[0]);var F=b(M[1]);var G=b("<div>").attr({accessKey:I.accessKey,tabIndex:I.tabIndex}).bind(b.browser.opera?"click":"focus",function(){this.focus();x.addClass(I.activeClass)}).bind("keydown",function(d){var e=d.which||d.keyCode;var c=e==I["key"+I.side1]?1:e==I["key"+I.side2]?-1:0;if(c){z(E[0][I.pxSplit]+c*I.pxPerKey,false)}}).bind("mousedown",C).bind("mouseup",K).bind("blur",function(){x.removeClass(I.activeClass)});var x=b(M[2]||"<div></div>").insertAfter(E).css("z-index","100").append(G).attr({"class":I.splitbarClass,unselectable:"on"}).css({position:"absolute","user-select":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none",top:"0px"});if(/^(auto|default|)$/.test(x.css("cursor"))){x.css("cursor",I.cursor)}x._DA=x[0][I.pxSplit];H._PBF=b.boxModel?L(H,"border"+I.side3+"Width","border"+I.side4+"Width"):0;H._PBA=b.boxModel?L(H,"border"+I.side1+"Width","border"+I.side2+"Width"):0;E._pane=I.side1;F._pane=I.side2;b.each([E,F],function(){this._min=I["min"+this._pane]||L(this,"min-"+I.split);this._max=I["max"+this._pane]||L(this,"max-"+I.split)||9999;this._init=I["size"+this._pane]===true?parseInt(b.curCSS(this[0],I.split)):I["size"+this._pane]});var J=E._init;if(!isNaN(F._init)){J=H[0][I.pxSplit]-H._PBA-F._init-x._DA}if(I.cookie){if(!b.cookie){alert("jQuery.splitter(): jQuery cookie plugin required")}var D=parseInt(b.cookie(I.cookie));if(!isNaN(D)){J=D}b(window).bind("unload",function(){var c=String(x.css(I.origin));b.cookie(I.cookie,c,{expires:I.cookieExpires||365,path:I.cookiePath||document.location.pathname})})}if(isNaN(J)){J=Math.round((H[0][I.pxSplit]-H._PBA-x._DA)/2)}if(I.anchorToWindow){H._hadjust=L(H,"borderTopWidth","borderBottomWidth","marginBottom");H._hmin=Math.max(L(H,"minHeight"),20);b(window).bind("resize",function(){var d=H.offset().top;var c=b(window).height();H.css("height",Math.max(c-d-H._hadjust,H._hmin)+"px");if(y()){H.trigger("resize")}}).trigger("resize")}else{if(I.resizeToWidth&&y()){b(window).bind("resize",function(){H.trigger("resize")})}}H.bind("resize",function(d,c){if(d.target!=this){return}H._DF=H[0][I.pxFixed]-H._PBF;H._DA=H[0][I.pxSplit]-H._PBA;if(H._DF<=0||H._DA<=0){return}z(!isNaN(c)?c:(!(I.sizeRight||I.sizeBottom)?E[0][I.pxSplit]:H._DA-F[0][I.pxSplit]-x._DA))}).trigger("resize",[J])})}})(jQuery);if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(){function ch(b,c){var a;b||(b={});for(a in c){b[a]=c[a]}return b}function cj(){var d,e=arguments,a,b={},c=function(f,g){var h,l;typeof f!=="object"&&(f={});for(l in g){g.hasOwnProperty(l)&&(h=g[l],f[l]=h&&typeof h==="object"&&Object.prototype.toString.call(h)!=="[object Array]"&&typeof h.nodeType!=="number"?c(f[l]||{},h):g[l])}return f};e[0]===!0&&(b=e[1],e=Array.prototype.slice.call(e,2));a=e.length;for(d=0;d<a;d++){b=c(b,e[d])}return b}function dJ(){for(var c=0,d=arguments,a=d.length,b={};c<a;c++){b[d[c++]]=d[c]}return b}function cE(a,b){return parseInt(a,b||10)}function Q(a){return typeof a==="string"}function dg(a){return typeof a==="object"}function cI(a){return Object.prototype.toString.call(a)==="[object Array]"}function cF(a){return typeof a==="number"}function cl(a){return c9.log(a)/c9.LN10}function dv(a){return c9.pow(10,a)}function a4(b,c){for(var a=b.length;a--;){if(b[a]===c){b.splice(a,1);break}}}function cg(a){return a!==cd&&a!==null}function cM(d,e,a){var b,c;if(Q(e)){cg(a)?d.setAttribute(e,a):d&&d.getAttribute&&(c=d.getAttribute(e))}else{if(cg(e)&&dg(e)){for(b in e){d.setAttribute(b,e[b])}}}return c}function c4(a){return cI(a)?a:[a]}function bc(){var c=arguments,d,a,b=c.length;for(d=0;d<b;d++){if(a=c[d],typeof a!=="undefined"&&a!==null){return a}}}function dO(a,b){if(T&&b&&b.opacity!==cd){b.filter="alpha(opacity="+b.opacity*100+")"}ch(a.style,b)}function a3(d,e,a,b,c){d=cG.createElement(d);e&&ch(d,e);c&&dO(d,{padding:0,border:cJ,margin:0});a&&dO(d,a);b&&b.appendChild(d);return d}function dd(b,c){var a=function(){};a.prototype=new b;ch(a.prototype,c);return a}function E(f,g,a,b){var c=cS.lang,f=+f||0,d=g===-1?(f.toString().split(".")[1]||"").length:isNaN(g=cY(g))?2:g,g=a===void 0?c.decimalPoint:a,b=b===void 0?c.thousandsSep:b,c=f<0?"-":"",a=String(cE(f=cY(f).toFixed(d))),e=a.length>3?a.length%3:0;return c+(e?a.substr(0,e)+b:"")+a.substr(e).replace(/(\d{3})(?=\d)/g,"$1"+b)+(d?g+cY(f-a).toFixed(d).slice(2):"")}function c1(a,b){return Array((b||2)+1-String(a).length).join(0)+a}function da(c,d,a){var b=c[d];c[d]=function(){var e=Array.prototype.slice.call(arguments);e.unshift(b);return a.apply(this,e)}}function S(c,d){for(var e="{",f=!1,g,h,l,m,a,b=[];(e=c.indexOf(e))!==-1;){g=c.slice(0,e);if(f){h=g.split(":");l=h.shift().split(".");a=l.length;g=d;for(m=0;m<a;m++){g=g[l[m]]}if(h.length){h=h.join(":"),l=/\.([0-9])/,m=cS.lang,a=void 0,/f$/.test(h)?(a=(a=h.match(l))?a[1]:-1,g=E(g,a,m.decimalPoint,h.indexOf(",")>-1?m.thousandsSep:"")):g=dn(h,g)}}b.push(g);c=c.slice(e+1);e=(f=!f)?"}":"{"}b.push(c);return b.join("")}function cq(a){return c9.pow(10,c0(c9.log(a)/c9.LN10))}function cH(d,e,a,b){var c,a=bc(a,1);c=d/a;e||(e=[1,2,2.5,5,10],b&&b.allowDecimals===!1&&(a===1?e=[1,2,5,10]:a<=0.1&&(e=[1/a])));for(b=0;b<e.length;b++){if(d=e[b],c<=(e[b]+(e[b+1]||e[b]))/2){break}}d*=a;return d}function q(){this.symbol=this.color=0}function cZ(d,e){var a=d.length,b,c;for(c=0;c<a;c++){d[c].ss_i=c}d.sort(function(g,f){b=e(g,f);return b===0?g.ss_i-f.ss_i:b});for(c=0;c<a;c++){delete d[c].ss_i}}function A(b){for(var c=b.length,a=b[0];c--;){b[c]<a&&(a=b[c])}return a}function cW(b){for(var c=b.length,a=b[0];c--;){b[c]>a&&(a=b[c])}return a}function cr(b,c){for(var a in b){b[a]&&b[a]!==c&&b[a].destroy&&b[a].destroy(),delete b[a]}}function Z(a){cx||(cx=a3(M));a&&cx.appendChild(a);cx.innerHTML=""}function cm(b,c){var a="Highcharts error #"+b+": www.highcharts.com/errors/"+b;if(c){throw a}else{db.console&&console.log(a)}}function dI(a){return parseFloat(a.toPrecision(14))}function v(a,b){co=bc(a,b.animation)}function dc(){var b=cS.global.useUTC,c=b?"getUTC":"get",a=b?"setUTC":"set";a6=(b&&cS.global.timezoneOffset||0)*60000;cO=b?Date.UTC:function(f,g,h,l,d,e){return(new Date(f,g,bc(h,1),bc(l,0),bc(d,0),bc(e,0))).getTime()};cp=c+"Minutes";W=c+"Hours";K=c+"Day";ds=c+"Date";c6=c+"Month";L=c+"FullYear";du=a+"Minutes";dH=a+"Hours";dp=a+"Date";ct=a+"Month";cL=a+"FullYear"}function V(){}function di(c,d,a,b){this.axis=c;this.pos=d;this.type=a||"";this.isNew=!0;!a&&!b&&this.addLabel()}function c3(f,g,a,b,c,d){var e=f.chart.inverted;this.axis=f;this.isNegative=a;this.options=g;this.x=b;this.total=null;this.points={};this.stack=c;this.percent=d==="percent";this.alignOptions={align:g.align||(e?a?"left":"right":"center"),verticalAlign:g.verticalAlign||(e?"middle":a?"bottom":"top"),y:bc(g.y,e?4:a?14:-6),x:bc(g.x,e?a?-6:6:0)};this.textAlign=g.textAlign||(e?a?"right":"left":"center")}function a0(){this.init.apply(this,arguments)}function dB(){this.init.apply(this,arguments)}function F(){this.init.apply(this,arguments)}function dM(f){var g=f.options,a=g.navigator,b=a.enabled,g=g.scrollbar,c=g.enabled,d=b?a.height:0,e=c?g.height:0;this.handles=[];this.scrollbarButtons=[];this.elementsToDestroy=[];this.chart=f;this.setBaseSeries();this.height=d;this.scrollbarHeight=e;this.scrollbarEnabled=c;this.navigatorEnabled=b;this.navigatorOptions=a;this.scrollbarOptions=g;this.outlineHeight=d+e;this.init()}function cB(a){this.init(a)}var cd,cG=document,db=window,c9=Math,ci=c9.round,c0=c9.floor,c2=c9.ceil,cf=c9.max,ck=c9.min,cY=c9.abs,a8=c9.cos,cv=c9.sin,o=c9.PI,z=o*2/360,dm=navigator.userAgent,D=db.opera,T=/msie/i.test(dm)&&!D,ac=cG.documentMode===8,R=/AppleWebKit/.test(dm),cK=/Firefox/.test(dm),ba=/(Mobile|Android|Windows Phone)/.test(dm),dr="http://www.w3.org/2000/svg",s=!!cG.createElementNS&&!!cG.createElementNS(dr,"svg").createSVGRect,dk=cK&&parseInt(dm.split("Firefox/")[1],10)<4,H=!s&&!T&&!!cG.createElement("canvas").getContext,dC,t=cG.documentElement.ontouchstart!==cd,aa={},cU=0,cx,cS,dn,co,cn,cC,ab=function(){},ca=[],M="div",cJ="none",dD=/^[0-9]+$/,O="rgba(192,192,192,"+(s?0.0001:0.002)+")",dt="stroke-width",cO,a6,cp,W,K,ds,c6,L,du,dH,dp,ct,cL,cD={};db.Highcharts=db.Highcharts?cm(16,!0):{};dn=function(a,c,e){if(!cg(c)||isNaN(c)){return"Invalid date"}var a=bc(a,"%Y-%m-%d %H:%M:%S"),f=new Date(c-a6),g,h=f[W](),l=f[K](),m=f[ds](),n=f[c6](),p=f[L](),b=cS.lang,d=b.weekdays,f=ch({a:d[l].substr(0,3),A:d[l],d:c1(m),e:m,b:b.shortMonths[n],B:b.months[n],m:c1(n+1),y:p.toString().substr(2,2),Y:p,H:c1(h),I:c1(h%12||12),l:h%12||12,M:c1(f[cp]()),p:h<12?"AM":"PM",P:h<12?"am":"pm",S:c1(f.getSeconds()),L:c1(ci(c%1000),3)},Highcharts.dateFormats);for(g in f){for(;a.indexOf("%"+g)!==-1;){a=a.replace("%"+g,typeof f[g]==="function"?f[g](c):f[g])}}return e?a.substr(0,1).toUpperCase()+a.substr(1):a};q.prototype={wrapColor:function(a){if(this.color>=a){this.color=0}},wrapSymbol:function(a){if(this.symbol>=a){this.symbol=0}}};cC=dJ("millisecond",1,"second",1000,"minute",60000,"hour",3600000,"day",86400000,"week",604800000,"month",2678400000,"year",31556952000);cn={init:function(c,d,e){var d=d||"",f=c.shift,g=d.indexOf("C")>-1,h=g?7:3,l,d=d.split(" "),e=[].concat(e),m,a,b=function(n){for(l=n.length;l--;){n[l]==="M"&&n.splice(l+1,0,n[l+1],n[l+2],n[l+1],n[l+2])}};g&&(b(d),b(e));c.isArea&&(m=d.splice(d.length-6,6),a=e.splice(e.length-6,6));if(f<=e.length/h&&d.length===e.length){for(;f--;){e=[].concat(e).splice(0,h).concat(e)}}c.shift=0;if(d.length){for(c=e.length;d.length<c;){f=[].concat(d).splice(d.length-h,h),g&&(f[h-6]=f[h-2],f[h-5]=f[h-1]),d=d.concat(f)}}m&&(d=d.concat(m),e=e.concat(a));return[d,e]},step:function(e,f,a,b){var c=[],d=e.length;if(a===1){c=b}else{if(d===f.length&&a<1){for(;d--;){b=parseFloat(e[d]),c[d]=isNaN(b)?e[d]:a*parseFloat(f[d]-b)+b}}else{c=f}}return c}};(function(a){db.HighchartsAdapter=db.HighchartsAdapter||a&&{init:function(g){var b=a.fx,c=b.step,d,e=a.Tween,f=e&&e.propHooks;d=a.cssHooks.opacity;a.extend(a.easing,{easeOutQuad:function(m,p,l,n,h){return -n*(p/=h)*(p-2)+l}});a.each(["cur","_default","width","height","opacity"],function(l,n){var m=c,h;n==="cur"?m=b.prototype:n==="_default"&&e&&(m=f[n],n="set");(h=m[n])&&(m[n]=function(p){var x,p=l?p:this;if(p.prop!=="align"){return x=p.elem,x.attr?x.attr(p.prop,n==="cur"?cd:p.now):h.apply(this,arguments)}})});da(d,"get",function(l,m,h){return m.attr?m.opacity||0:l.call(this,m,h)});d=function(m){var h=m.elem,l;if(!m.started){l=g.init(h,h.d,h.toD),m.start=l[0],m.end=l[1],m.started=!0}h.attr("d",g.step(m.start,m.end,m.pos,h.toD))};e?f.d={set:d}:c.d=d;this.each=Array.prototype.forEach?function(h,l){return Array.prototype.forEach.call(h,l)}:function(l,n){for(var m=0,h=l.length;m<h;m++){if(n.call(l[m],l[m],m,l)===!1){return m}}};a.fn.highcharts=function(){var l="Chart",n=arguments,m,h;Q(n[0])&&(l=n[0],n=Array.prototype.slice.call(n,1));m=n[0];if(m!==cd){m.chart=m.chart||{},m.chart.renderTo=this[0],new Highcharts[l](m,n[1]),h=this}m===cd&&(h=ca[cM(this[0],"data-highcharts-chart")]);return h}},getScript:a.getScript,inArray:a.inArray,adapterRun:function(c,b){return a(c)[b]()},grep:a.grep,map:function(f,b){for(var c=[],d=0,e=f.length;d<e;d++){c[d]=b.call(f[d],f[d],d,f)}return c},offset:function(b){return a(b).offset()},addEvent:function(d,b,c){a(d).bind(b,c)},removeEvent:function(e,b,c){var d=cG.removeEventListener?"removeEventListener":"detachEvent";cG[d]&&e&&!e[d]&&(e[d]=function(){});a(e).unbind(b,c)},fireEvent:function(g,h,b,c){var d=a.Event(h),e="detached"+h,f;!T&&b&&(delete b.layerX,delete b.layerY);ch(d,b);g[h]&&(g[e]=g[h],g[h]=null);a.each(["preventDefault","stopPropagation"],function(l,m){var n=d[m];d[m]=function(){try{n.call(d)}catch(p){m==="preventDefault"&&(f=!0)}}});a(g).trigger(d);g[e]&&(g[h]=g[e],g[e]=null);c&&!d.isDefaultPrevented()&&!f&&c(d)},washMouseEvent:function(c){var b=c.originalEvent||c;if(b.pageX===cd){b.pageX=c.pageX,b.pageY=c.pageY}return b},animate:function(e,b,c){var d=a(e);if(!e.style){e.style={}}if(b.d){e.toD=b.d,b.d=1}d.stop();b.opacity!==cd&&e.attr&&(b.opacity+="px");d.animate(b,c)},stop:function(b){a(b).stop()}}})(db.jQuery);var c5=db.HighchartsAdapter,cQ=c5||{};c5&&c5.init.call(c5,cn);var dy=cQ.adapterRun,cy=cQ.getScript,dA=cQ.inArray,cb=cQ.each,U=cQ.grep,dl=cQ.offset,dG=cQ.map,cz=cQ.addEvent,a1=cQ.removeEvent,cX=cQ.fireEvent,cP=cQ.washMouseEvent,a5=cQ.animate,df=cQ.stop,cQ={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px"}};cS={colors:"#2f7ed8,#0d233a,#8bbc21,#910000,#1aadce,#492970,#f28f43,#77a1e5,#c42525,#a6c96a".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/1.3.9/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/1.3.9/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1000},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:cj(cQ,{align:"center",enabled:!1,formatter:function(){return this.y===null?"":E(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1000}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,animation:s,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:ba?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var c8=cS.plotOptions,c5=c8.line;dc();var bb=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,u=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,dh=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,dL=function(c){var d=[],a,b;(function(e){e&&e.stops?b=dG(e.stops,function(f){return dL(f[1])}):(a=bb.exec(e))?d=[cE(a[1]),cE(a[2]),cE(a[3]),parseFloat(a[4],10)]:(a=u.exec(e))?d=[cE(a[1],16),cE(a[2],16),cE(a[3],16),1]:(a=dh.exec(e))&&(d=[cE(a[1]),cE(a[2]),cE(a[3]),1])})(c);return{get:function(e){var f;b?(f=cj(c),f.stops=[].concat(f.stops),cb(b,function(h,g){f.stops[g]=[f.stops[g][0],h.get(e)]})):f=d&&!isNaN(d[0])?e==="rgb"?"rgb("+d[0]+","+d[1]+","+d[2]+")":e==="a"?d[3]:"rgba("+d.join(",")+")":c;return f},brighten:function(f){if(b){cb(b,function(g){g.brighten(f)})}else{if(cF(f)&&f!==0){var e;for(e=0;e<3;e++){d[e]+=cE(f*255),d[e]<0&&(d[e]=0),d[e]>255&&(d[e]=255)}}}return this},rgba:d,setOpacity:function(e){d[3]=e;return this}}};V.prototype={init:function(a,b){this.element=b==="span"?a3(b):cG.createElementNS(dr,b);this.renderer=a;this.attrSetters={}},opacity:1,animate:function(b,c,a){c=bc(c,co,!0);df(this);if(c){c=cj(c);if(a){c.complete=a}a5(this,b,c)}else{this.attr(b),a&&a()}},attr:function(m,x){var G,a,c,e,f=this.element,g=f.nodeName.toLowerCase(),h=this.renderer,l,n=this.attrSetters,p=this.shadows,C,d,b=this;Q(m)&&cg(x)&&(G=m,m={},m[G]=x);if(Q(m)){G=m,g==="circle"?G={x:"cx",y:"cy"}[G]||G:G==="strokeWidth"&&(G="stroke-width"),b=cM(f,G)||this[G]||0,G!=="d"&&G!=="visibility"&&G!=="fill"&&(b=parseFloat(b))}else{for(G in m){if(l=!1,a=m[G],c=n[G]&&n[G].call(this,a,G),c!==!1){c!==cd&&(a=c);if(G==="d"){a&&a.join&&(a=a.join(" ")),/(NaN| {2}|^$)/.test(a)&&(a="M 0 0")}else{if(G==="x"&&g==="text"){for(c=0;c<f.childNodes.length;c++){e=f.childNodes[c],cM(e,"x")===cM(f,"x")&&cM(e,"x",a)}}else{if(this.rotation&&(G==="x"||G==="y")){d=!0}else{if(G==="fill"){a=h.color(a,f,G)}else{if(g==="circle"&&(G==="x"||G==="y")){G={x:"cx",y:"cy"}[G]||G}else{if(g==="rect"&&G==="r"){cM(f,{rx:a,ry:a}),l=!0}else{if(G==="translateX"||G==="translateY"||G==="rotation"||G==="verticalAlign"||G==="scaleX"||G==="scaleY"){l=d=!0}else{if(G==="stroke"){a=h.color(a,f,G)}else{if(G==="dashstyle"){if(G="stroke-dasharray",a=a&&a.toLowerCase(),a==="solid"){a=cJ}else{if(a){a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(c=a.length;c--;){a[c]=cE(a[c])*bc(m["stroke-width"],this["stroke-width"])}a=a.join(",")}}}else{if(G==="width"){a=cE(a)}else{if(G==="align"){G="text-anchor",a={left:"start",center:"middle",right:"end"}[a]}else{if(G==="title"){c=f.getElementsByTagName("title")[0],c||(c=cG.createElementNS(dr,"title"),f.appendChild(c)),c.textContent=a}}}}}}}}}}}}G==="strokeWidth"&&(G="stroke-width");if(G==="stroke-width"||G==="stroke"){this[G]=a;if(this.stroke&&this["stroke-width"]){cM(f,"stroke",this.stroke),cM(f,"stroke-width",this["stroke-width"]),this.hasStroke=!0}else{if(G==="stroke-width"&&a===0&&this.hasStroke){f.removeAttribute("stroke"),this.hasStroke=!1}}l=!0}this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(G)&&(C||(this.symbolAttr(m),C=!0),l=!0);if(p&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(G)){for(c=p.length;c--;){cM(p[c],G,G==="height"?cf(a-(p[c].cutHeight||0),0):a)}}if((G==="width"||G==="height")&&g==="rect"&&a<0){a=0}this[G]=a;G==="text"?(a!==this.textStr&&delete this.bBox,this.textStr=a,this.added&&h.buildText(this)):l||cM(f,G,a)}}d&&this.updateTransform()}return b},addClass:function(b){var c=this.element,a=cM(c,"class")||"";a.indexOf(b)===-1&&cM(c,"class",a+" "+b);return this},symbolAttr:function(a){var b=this;cb("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(c){b[c]=bc(a[c],b[c])});b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":cJ)},crisp:function(c,d,e,f,g){var h,l={},a={},b,c=c||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;b=ci(c)%2/2;a.x=c0(d||this.x||0)+b;a.y=c0(e||this.y||0)+b;a.width=c0((f||this.width||0)-2*b);a.height=c0((g||this.height||0)-2*b);a.strokeWidth=c;for(h in a){this[h]!==a[h]&&(this[h]=l[h]=a[h])}return l},css:function(e){var f=this.element,a=this.textWidth=e&&e.width&&f.nodeName.toLowerCase()==="text"&&cE(e.width),b,c="",d=function(h,g){return"-"+g.toLowerCase()};if(e&&e.color){e.fill=e.color}this.styles=e=ch(this.styles,e);a&&delete e.width;if(T&&!s){dO(this.element,e)}else{for(b in e){c+=b.replace(/([A-Z])/g,d)+":"+e[b]+";"}cM(f,"style",c)}a&&this.added&&this.renderer.buildText(this);return this},on:function(c,d){var a=this,b=a.element;t&&c==="click"?(b.ontouchstart=function(e){a.touchEventFired=Date.now();e.preventDefault();d.call(b,e)},b.onclick=function(e){(dm.indexOf("Android")===-1||Date.now()-(a.touchEventFired||0)>1100)&&d.call(b,e)}):b["on"+c]=d;return this},setRadialReference:function(a){this.element.radialReference=a;return this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var e=this.translateX||0,f=this.translateY||0,a=this.scaleX,b=this.scaleY,c=this.inverted,d=this.rotation;c&&(e+=this.attr("width"),f+=this.attr("height"));e=["translate("+e+","+f+")"];c?e.push("rotate(90) scale(-1,1)"):d&&e.push("rotate("+d+" "+(this.x||0)+" "+(this.y||0)+")");(cg(a)||cg(b))&&e.push("scale("+bc(a,1)+" "+bc(b,1)+")");e.length&&cM(this.element,"transform",e.join(" "))},toFront:function(){var a=this.element;a.parentNode.appendChild(a);return this},align:function(f,g,h){var a,b,c,d,e={};b=this.renderer;c=b.alignedObjects;if(f){if(this.alignOptions=f,this.alignByTranslate=g,!h||Q(h)){this.alignTo=a=h||"renderer",a4(c,this),c.push(this),h=null}}else{f=this.alignOptions,g=this.alignByTranslate,a=this.alignTo}h=bc(h,b[a],b);a=f.align;b=f.verticalAlign;c=(h.x||0)+(f.x||0);d=(h.y||0)+(f.y||0);if(a==="right"||a==="center"){c+=(h.width-(f.width||0))/{right:1,center:2}[a]}e[g?"translateX":"x"]=ci(c);if(b==="bottom"||b==="middle"){d+=(h.height-(f.height||0))/({bottom:1,middle:2}[b]||1)}e[g?"translateY":"y"]=ci(d);this[this.placed?"animate":"attr"](e);this.placed=!0;this.alignAttr=e;return this},getBBox:function(){var c=this.bBox,d=this.renderer,e,f,g=this.rotation;e=this.element;var h=this.styles,l=g*z;f=this.textStr;var a;if(f===""||dD.test(f)){a=f.length+"|"+h.fontSize+"|"+h.fontFamily,c=d.cache[a]}if(!c){if(e.namespaceURI===dr||d.forExport){try{c=e.getBBox?ch({},e.getBBox()):{width:e.offsetWidth,height:e.offsetHeight}}catch(b){}if(!c||c.width<0){c={width:0,height:0}}}else{c=this.htmlGetBBox()}if(d.isSVG){e=c.width;f=c.height;if(T&&h&&h.fontSize==="11px"&&f.toPrecision(3)==="16.9"){c.height=f=14}if(g){c.width=cY(f*cv(l))+cY(e*a8(l)),c.height=cY(f*a8(l))+cY(e*cv(l))}}this.bBox=c;a&&(d.cache[a]=c)}return c},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var b=this;b.animate({opacity:0},{duration:a||150,complete:function(){b.hide()}})},add:function(f){var g=this.renderer,h=f||g,a=h.element||g.box,b=a.childNodes,c=this.element,d=cM(c,"zIndex"),e;if(f){this.parentGroup=f}this.parentInverted=f&&f.inverted;this.textStr!==void 0&&g.buildText(this);if(d){h.handleZ=!0,d=cE(d)}if(h.handleZ){for(h=0;h<b.length;h++){if(f=b[h],g=cM(f,"zIndex"),f!==c&&(cE(g)>d||!cg(d)&&cg(g))){a.insertBefore(c,f);e=!0;break}}}e||a.appendChild(c);this.added=!0;cX(this,"add");return this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){var e=this,f=e.element||{},a=e.shadows,b=e.renderer.isSVG&&f.nodeName==="SPAN"&&e.parentGroup,c,d;f.onclick=f.onmouseout=f.onmouseover=f.onmousemove=f.point=null;df(e);if(e.clipPath){e.clipPath=e.clipPath.destroy()}if(e.stops){for(d=0;d<e.stops.length;d++){e.stops[d]=e.stops[d].destroy()}e.stops=null}e.safeRemoveChild(f);for(a&&cb(a,function(g){e.safeRemoveChild(g)});b&&b.div.childNodes.length===0;){f=b.parentGroup,e.safeRemoveChild(b.div),delete b.div,b=f}e.alignTo&&a4(e.renderer.alignedObjects,e);for(c in e){delete e[c]}return null},shadow:function(b,d,e){var f=[],g,h,l=this.element,m,n,a,c;if(b){n=bc(b.width,3);a=(b.opacity||0.15)/n;c=this.parentInverted?"(-1,-1)":"("+bc(b.offsetX,1)+", "+bc(b.offsetY,1)+")";for(g=1;g<=n;g++){h=l.cloneNode(0);m=n*2+1-2*g;cM(h,{isShadow:"true",stroke:b.color||"black","stroke-opacity":a*g,"stroke-width":m,transform:"translate"+c,fill:cJ});if(e){cM(h,"height",cf(cM(h,"height")-m,0)),h.cutHeight=m}d?d.element.appendChild(h):l.parentNode.insertBefore(h,l);f.push(h)}this.shadows=f}return this}};var dE=function(){this.init.apply(this,arguments)};dE.prototype={Element:V,init:function(f,g,h,a){var b=location,c,d;c=this.createElement("svg").attr({version:"1.1"});d=c.element;f.appendChild(d);f.innerHTML.indexOf("xmlns")===-1&&cM(d,"xmlns",dr);this.isSVG=!0;this.box=d;this.boxWrapper=c;this.alignedObjects=[];this.url=(cK||R)&&cG.getElementsByTagName("base").length?b.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(cG.createTextNode("Created with Highstock 1.3.9"));this.defs=this.createElement("defs").add();this.forExport=a;this.gradients={};this.cache={};this.setSize(g,h,!1);var e;if(cK&&f.getBoundingClientRect){this.subPixelFix=g=function(){dO(f,{left:0,top:0});e=f.getBoundingClientRect();dO(f,{left:c2(e.left)-e.left+"px",top:c2(e.top)-e.top+"px"})},g(),cz(db,"resize",g)}},isHidden:function(){return !this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();cr(this.gradients||{});this.gradients=null;if(a){this.defs=a.destroy()}this.subPixelFix&&a1(db,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(a){var b=new this.Element;b.init(this,a);return b},draw:function(){},buildText:function(p){for(var C=p.element,a=this,c=a.forExport,e=bc(p.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),f=C.childNodes,g=/style="([^"]+)"/,h=/href="(http[^"]+)"/,l=cM(C,"x"),m=p.styles,n=p.textWidth,x=m&&m.lineHeight,b=f.length,d=function(G){return x?cE(x):a.fontMetrics(/px$/.test(G&&G.style.fontSize)?G.style.fontSize:m.fontSize||11).h};b--;){C.removeChild(f[b])}n&&!p.added&&this.box.appendChild(C);e[e.length-1]===""&&e.pop();cb(e,function(P,G){var I,J=0,P=P.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");I=P.split("|||");cb(I,function(ah){if(ah!==""||I.length===1){var aj={},ak=cG.createElementNS(dr,"tspan"),al;g.test(ah)&&(al=ah.match(g)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),cM(ak,"style",al));h.test(ah)&&!c&&(cM(ak,"onclick",'location.href="'+ah.match(h)[1]+'"'),dO(ak,{cursor:"pointer"}));ah=(ah.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(ah!==" "&&(ak.appendChild(cG.createTextNode(ah)),J?aj.dx=0:aj.x=l,cM(ak,aj),!J&&G&&(!s&&c&&dO(ak,{display:"block"}),cM(ak,"dy",d(ak),R&&ak.offsetHeight)),C.appendChild(ak),J++,n)){for(var ah=ah.replace(/([^\^])-/g,"$1- ").split(" "),aj=ah.length>1&&m.whiteSpace!=="nowrap",am,ad,ag=p._clipHeight,ae=[],af=d(),ai=1;aj&&(ah.length||ae.length);){delete p.bBox,am=p.getBBox(),ad=am.width,!s&&a.forExport&&(ad=a.measureSpanWidth(ak.firstChild.data,p.styles)),am=ad>n,!am||ah.length===1?(ah=ae,ae=[],ah.length&&(ai++,ag&&ai*af>ag?(ah=["..."],p.attr("title",p.textStr)):(ak=cG.createElementNS(dr,"tspan"),cM(ak,{dy:af,x:l}),al&&cM(ak,"style",al),C.appendChild(ak),ad>n&&(n=ad)))):(ak.removeChild(ak.firstChild),ae.unshift(ah.pop())),ah.length&&ak.appendChild(cG.createTextNode(ah.join(" ").replace(/- /g,"-")))}}}})})},button:function(e,g,l,p,G,J,a,c,d){var h=this.label(e,g,l,d,null,null,null,null,"button"),m=0,n,x,b,C,f,I,e={x1:0,y1:0,x2:0,y2:1},G=cj({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:e,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},G);b=G.style;delete G.style;J=cj(G,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#FFF"],[1,"#ACF"]]}},J);C=J.style;delete J.style;a=cj(G,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#9BD"],[1,"#CDF"]]}},a);f=a.style;delete a.style;c=cj(G,{style:{color:"#CCC"}},c);I=c.style;delete c.style;cz(h.element,T?"mouseover":"mouseenter",function(){m!==3&&h.attr(J).css(C)});cz(h.element,T?"mouseout":"mouseleave",function(){m!==3&&(n=[G,J,a][m],x=[b,C,f][m],h.attr(n).css(x))});h.setState=function(P){(h.state=m=P)?P===2?h.attr(a).css(f):P===3&&h.attr(c).css(I):h.attr(G).css(b)};return h.on("click",function(){m!==3&&p.call(h)}).attr(G).css(ch({cursor:"default"},b))},crispLine:function(a,b){a[1]===a[4]&&(a[1]=a[4]=ci(a[1])-b%2/2);a[2]===a[5]&&(a[2]=a[5]=ci(a[2])+b%2/2);return a},path:function(a){var b={fill:cJ};cI(a)?b.d=a:dg(a)&&ch(b,a);return this.createElement("path").attr(b)},circle:function(b,c,a){b=dg(b)?b:{x:b,y:c,r:a};return this.createElement("circle").attr(b)},arc:function(e,f,a,b,c,d){if(dg(e)){f=e.y,a=e.r,b=e.innerR,c=e.start,d=e.end,e=e.x}e=this.symbol("arc",e||0,f||0,a||0,a||0,{innerR:b||0,start:c||0,end:d||0});e.r=a;return e},rect:function(e,f,a,b,c,d){c=dg(e)?e.r:c;c=this.createElement("rect").attr({rx:c,ry:c,fill:cJ});return c.attr(dg(e)?e:c.crisp(d,e,f,cf(a,0),cf(b,0)))},setSize:function(d,e,a){var b=this.alignedObjects,c=b.length;this.width=d;this.height=e;for(this.boxWrapper[bc(a,!0)?"animate":"attr"]({width:d,height:e});c--;){b[c].align()}},g:function(a){var b=this.createElement("g");return cg(a)?b.attr({"class":"highcharts-"+a}):b},image:function(e,f,a,b,c){var d={preserveAspectRatio:cJ};arguments.length>1&&ch(d,{x:f,y:a,width:b,height:c});d=this.createElement("image").attr(d);d.element.setAttributeNS?d.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):d.element.setAttribute("hc-svg-href",e);return d},symbol:function(b,d,e,f,g,h){var l,m=this.symbols[b],m=m&&m(ci(d),ci(e),f,g,h),n=/^url\((.*?)\)$/,a,c;if(m){l=this.path(m),ch(l,{symbolName:b,x:d,y:e,width:f,height:g}),h&&ch(l,h)}else{if(n.test(b)){c=function(p,x){p.element&&(p.attr({width:x[0],height:x[1]}),p.alignByTranslate||p.translate(ci((f-x[0])/2),ci((g-x[1])/2)))},a=b.match(n)[1],b=aa[a],l=this.image(a).attr({x:d,y:e}),l.isImg=!0,b?c(l,b):(l.attr({width:0,height:0}),a3("img",{onload:function(){c(l,aa[a]=[this.width,this.height])},src:a}))}}return l},symbols:{circle:function(d,e,a,b){var c=0.166*a;return["M",d+a/2,e,"C",d+a+c,e,d+a+c,e+b,d+a/2,e+b,"C",d-c,e+b,d-c,e,d+a/2,e,"Z"]},square:function(c,d,a,b){return["M",c,d,"L",c+a,d,c+a,d+b,c,d+b,"Z"]},triangle:function(c,d,a,b){return["M",c+a/2,d,"L",c+a,d+b,c,d+b,"Z"]},"triangle-down":function(c,d,a,b){return["M",c,d,"L",c+a,d,c+a/2,d+b,"Z"]},diamond:function(c,d,a,b){return["M",c+a/2,d,"L",c+a,d+b/2,c+a/2,d+b,c,d+b/2,"Z"]},arc:function(b,d,e,f,g){var h=g.start,e=g.r||e||f,l=g.end-0.001,f=g.innerR,m=g.open,n=a8(h),a=cv(h),c=a8(l),l=cv(l),g=g.end-h<o?0:1;return["M",b+e*n,d+e*a,"A",e,e,0,g,1,b+e*c,d+e*l,m?"M":"L",b+f*c,d+f*l,"A",f,f,0,g,0,b+f*n,d+f*a,m?"":"Z"]}},clipRect:function(e,f,a,b){var c="highcharts-"+cU++,d=this.createElement("clipPath").attr({id:c}).add(this.defs),e=this.rect(e,f,a,b,0).add(d);e.id=c;e.clipPath=d;return e},color:function(p,C,a){var c=this,e,f=/^rgba/,g,h,l,m,n,x,b,d=[];p&&p.linearGradient?g="linearGradient":p&&p.radialGradient&&(g="radialGradient");if(g){a=p[g];h=c.gradients;m=p.stops;C=C.radialReference;cI(a)&&(p[g]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"});g==="radialGradient"&&C&&!cg(a.gradientUnits)&&(a=cj(a,{cx:C[0]-C[2]/2+a.cx*C[2],cy:C[1]-C[2]/2+a.cy*C[2],r:a.r*C[2],gradientUnits:"userSpaceOnUse"}));for(b in a){b!=="id"&&d.push(b,a[b])}for(b in m){d.push(m[b])}d=d.join(",");h[d]?p=h[d].id:(a.id=p="highcharts-"+cU++,h[d]=l=c.createElement(g).attr(a).add(c.defs),l.stops=[],cb(m,function(G){f.test(G[1])?(e=dL(G[1]),n=e.get("rgb"),x=e.get("a")):(n=G[1],x=1);G=c.createElement("stop").attr({offset:G[0],"stop-color":n,"stop-opacity":x}).add(l);l.stops.push(G)}));return"url("+c.url+"#"+p+")"}else{return f.test(p)?(e=dL(p),cM(C,a+"-opacity",e.get("a")),e.get("rgb")):(C.removeAttribute(a+"-opacity"),p)}},text:function(e,f,a,b){var c=cS.chart.style,d=H||!s&&this.forExport;if(b&&!this.forExport){return this.html(e,f,a)}f=ci(bc(f,0));a=ci(bc(a,0));e=this.createElement("text").attr({x:f,y:a,text:e}).css({fontFamily:c.fontFamily,fontSize:c.fontSize});d&&e.css({position:"absolute"});e.x=f;e.y=a;return e},fontMetrics:function(a){var a=cE(a||11),a=a<24?a+4:ci(a*1.2),b=ci(a*0.8);return{h:a,b:b}},label:function(h,m,am,an,ao,a,b,c,d){function e(){var ap,aq;ap=C.element.style;ai=(f===void 0||aj===void 0||p.styles.textAlign)&&C.getBBox();p.width=(f||ai.width||0)+2*af+ad;p.height=(aj||ai.height||0)+2*af;x=af+I.fontMetrics(ap&&ap.fontSize).b;if(G){if(!al){ap=ci(-ak*af),aq=c?-x:0,p.box=al=an?I.symbol(an,ap,aq,p.width,p.height,ae):I.rect(ap,aq,p.width,p.height,0,ae[dt]),al.add(p)}al.isImg||al.attr(cj({width:p.width,height:p.height},ae));ae=null}}function g(){var ap=p.styles,ap=ap&&ap.textAlign,aq=ad+af*(1-ak),ar;ar=c?0:x;if(cg(f)&&(ap==="center"||ap==="right")){aq+={center:0.5,right:1}[ap]*(f-ai.width)}(aq!==C.x||ar!==C.y)&&C.attr({x:aq,y:ar});C.x=aq;C.y=ar}function l(ap,aq){al?al.attr(ap,aq):ae[ap]=aq}function n(){C.add(p);p.attr({text:h,x:m,y:am});al&&cg(ao)&&p.attr({anchorX:ao,anchorY:a})}var I=this,p=I.g(d),C=I.text("",0,0,b).attr({zIndex:1}),al,ai,ak=0,af=3,ad=0,f,aj,ah,ag,P=0,ae={},x,b=p.attrSetters,G;cz(p,"add",n);b.width=function(ap){f=ap;return !1};b.height=function(ap){aj=ap;return !1};b.padding=function(ap){cg(ap)&&ap!==af&&(af=ap,g());return !1};b.paddingLeft=function(ap){cg(ap)&&ap!==ad&&(ad=ap,g());return !1};b.align=function(ap){ak={left:0,center:0.5,right:1}[ap];return !1};b.text=function(ap,aq){C.attr(aq,ap);e();g();return !1};b[dt]=function(ap,aq){G=!0;P=ap%2/2;l(aq,ap);return !1};b.stroke=b.fill=b.r=function(ap,aq){aq==="fill"&&(G=!0);l(aq,ap);return !1};b.anchorX=function(ap,aq){ao=ap;l(aq,ap+P-ah);return !1};b.anchorY=function(ap,aq){a=ap;l(aq,ap-ag);return !1};b.x=function(ap){p.x=ap;ap-=ak*((f||ai.width)+af);ah=ci(ap);p.attr("translateX",ah);return !1};b.y=function(ap){ag=p.y=ci(ap);p.attr("translateY",ag);return !1};var J=p.css;return ch(p,{css:function(ap){if(ap){var aq={},ap=cj(ap);cb("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","),function(ar){ap[ar]!==cd&&(aq[ar]=ap[ar],delete ap[ar])});C.css(aq)}return J.call(p,ap)},getBBox:function(){return{width:ai.width+2*af,height:ai.height+2*af,x:ai.x-af,y:ai.y-af}},shadow:function(ap){al&&al.shadow(ap);return p},destroy:function(){a1(p,"add",n);a1(p.element,"mouseenter");a1(p.element,"mouseleave");C&&(C=C.destroy());al&&(al=al.destroy());V.prototype.destroy.call(p);p=I=e=g=l=n=null}})}};dC=dE;ch(V.prototype,{htmlCss:function(a){var b=this.element;if(b=a&&b.tagName==="SPAN"&&a.width){delete a.width,this.textWidth=b,this.updateTransform()}this.styles=ch(this.styles,a);dO(this.element,a);return this},htmlGetBBox:function(){var a=this.element,b=this.bBox;if(!b){if(a.nodeName==="text"){a.style.position="absolute"}b=this.bBox={x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}}return b},htmlUpdateTransform:function(){if(this.added){var x=this.renderer,a=this.element,c=this.translateX||0,e=this.translateY||0,f=this.x||0,g=this.y||0,h=this.textAlign||"left",l={left:0,center:0.5,right:1}[h],m=this.shadows;dO(a,{marginLeft:c,marginTop:e});m&&cb(m,function(C){dO(C,{marginLeft:c+1,marginTop:e+1})});this.inverted&&cb(a.childNodes,function(C){x.invertChild(C,a)});if(a.tagName==="SPAN"){var n=this.rotation,p,b=cE(this.textWidth),d=[n,h,a.innerHTML,this.textWidth].join(",");if(d!==this.cTT){p=x.fontMetrics(a.style.fontSize).b;cg(n)&&this.setSpanRotation(n,l,p);m=bc(this.elemWidth,a.offsetWidth);if(m>b&&/[ \-]/.test(a.textContent||a.innerText)){dO(a,{width:b+"px",display:"block",whiteSpace:"normal"}),m=b}this.getSpanCorrection(m,p,l,n,h)}dO(a,{left:f+(this.xCorr||0)+"px",top:g+(this.yCorr||0)+"px"});if(R){p=a.offsetHeight}this.cTT=d}}else{this.alignOnAdd=!0}},setSpanRotation:function(d,e,a){var b={},c=T?"-ms-transform":R?"-webkit-transform":cK?"MozTransform":D?"-o-transform":"";b[c]=b.transform="rotate("+d+"deg)";b[c+(cK?"Origin":"-origin")]=e*100+"% "+a+"px";dO(this.element,b)},getSpanCorrection:function(b,c,a){this.xCorr=-b*a;this.yCorr=-c}});ch(dE.prototype,{html:function(f,g,h){var a=cS.chart.style,b=this.createElement("span"),c=b.attrSetters,d=b.element,e=b.renderer;c.text=function(l){l!==d.innerHTML&&delete this.bBox;d.innerHTML=l;return !1};c.x=c.y=c.align=c.rotation=function(l,m){m==="align"&&(m="textAlign");b[m]=l;b.htmlUpdateTransform();return !1};b.attr({text:f,x:ci(g),y:ci(h)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:a.fontFamily,fontSize:a.fontSize});b.css=b.htmlCss;if(e.isSVG){b.add=function(l){var n,m=e.box.parentNode,p=[];if(this.parentGroup=l){if(n=l.div,!n){for(;l;){p.push(l),l=l.parentGroup}cb(p.reverse(),function(C){var x;n=C.div=C.div||a3(M,{className:cM(C.element,"class")},{position:"absolute",left:(C.translateX||0)+"px",top:(C.translateY||0)+"px"},n||m);x=n.style;ch(C.attrSetters,{translateX:function(G){x.left=G+"px"},translateY:function(G){x.top=G+"px"},visibility:function(G,I){x[I]=G}})})}}else{n=m}n.appendChild(d);b.added=!0;b.alignOnAdd&&b.htmlUpdateTransform();return b}}return b}});var dq,y;if(!s&&!H){Highcharts.VMLElement=y={init:function(d,e){var a=["<",e,' filled="f" stroked="f"'],b=["position: ","absolute",";"],c=e===M;(e==="shape"||c)&&b.push("left:0;top:0;width:1px;height:1px;");b.push("visibility: ",c?"hidden":"visible");a.push(' style="',b.join(""),'"/>');if(e){a=c||e==="span"||e==="img"?a.join(""):d.prepVML(a),this.element=a3(a)}this.renderer=d;this.attrSetters={}},add:function(c){var d=this.renderer,a=this.element,b=d.box,b=c?c.element||c:b;c&&c.inverted&&d.invertChild(a,b);b.appendChild(a);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();cX(this,"add");return this},updateTransform:V.prototype.htmlUpdateTransform,setSpanRotation:function(){var b=this.rotation,c=a8(b*z),a=cv(b*z);dO(this.element,{filter:b?["progid:DXImageTransform.Microsoft.Matrix(M11=",c,", M12=",-a,", M21=",a,", M22=",c,", sizingMethod='auto expand')"].join(""):cJ})},getSpanCorrection:function(c,d,e,f,g){var h=f?a8(f*z):1,l=f?cv(f*z):0,a=bc(this.elemHeight,this.element.offsetHeight),b;this.xCorr=h<0&&-c;this.yCorr=l<0&&-a;b=h*l<0;this.xCorr+=l*d*(b?1-e:e);this.yCorr-=h*d*(f?b?e:1-e:1);g&&g!=="left"&&(this.xCorr-=c*e*(h<0?-1:1),f&&(this.yCorr-=a*e*(l<0?-1:1)),dO(this.element,{textAlign:g}))},pathToVML:function(b){for(var c=b.length,a=[];c--;){if(cF(b[c])){a[c]=ci(b[c]*10)-5}else{if(b[c]==="Z"){a[c]="x"}else{if(a[c]=b[c],b.isArc&&(b[c]==="wa"||b[c]==="at")){a[c+5]===a[c+7]&&(a[c+7]+=b[c+7]>b[c+5]?1:-1),a[c+6]===a[c+8]&&(a[c+8]+=b[c+8]>b[c+6]?1:-1)}}}}return a.join(" ")||"x"},attr:function(m,x){var G,a,c,e=this.element||{},f=e.style,g=e.nodeName,h=this.renderer,l=this.symbolName,n,p=this.shadows,C,d=this.attrSetters,b=this;Q(m)&&cg(x)&&(G=m,m={},m[G]=x);if(Q(m)){G=m,b=G==="strokeWidth"||G==="stroke-width"?this.strokeweight:this[G]}else{for(G in m){if(a=m[G],C=!1,c=d[G]&&d[G].call(this,a,G),c!==!1&&a!==null){c!==cd&&(a=c);if(l&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(G)){n||(this.symbolAttr(m),n=!0),C=!0}else{if(G==="d"){a=a||[];this.d=a.join(" ");e.path=a=this.pathToVML(a);if(p){for(c=p.length;c--;){p[c].path=p[c].cutOff?this.cutOffPath(a,p[c].cutOff):a}}C=!0}else{if(G==="visibility"){if(p){for(c=p.length;c--;){p[c].style[G]=a}}g==="DIV"&&(a=a==="hidden"?"-999em":0,ac||(f[G]=a?"visible":"hidden"),G="top");f[G]=a;C=!0}else{if(G==="zIndex"){a&&(f[G]=a),C=!0}else{if(dA(G,["x","y","width","height"])!==-1){this[G]=a,G==="x"||G==="y"?G={x:"left",y:"top"}[G]:a=cf(0,a),this.updateClipping?(this[G]=a,this.updateClipping()):f[G]=a,C=!0}else{if(G==="class"&&g==="DIV"){e.className=a}else{if(G==="stroke"){a=h.color(a,e,G),G="strokecolor"}else{if(G==="stroke-width"||G==="strokeWidth"){e.stroked=a?!0:!1,G="strokeweight",this[G]=a,cF(a)&&(a+="px")}else{if(G==="dashstyle"){(e.getElementsByTagName("stroke")[0]||a3(h.prepVML(["<stroke/>"]),null,null,e))[G]=a||"solid",this.dashstyle=a,C=!0}else{if(G==="fill"){if(g==="SPAN"){f.color=a}else{if(g!=="IMG"){e.filled=a!==cJ?!0:!1,a=h.color(a,e,G,this),G="fillcolor"}}}else{if(G==="opacity"){C=!0}else{if(g==="shape"&&G==="rotation"){this[G]=e.style[G]=a,e.style.left=-ci(cv(a*z)+1)+"px",e.style.top=ci(a8(a*z))+"px"}else{if(G==="translateX"||G==="translateY"||G==="rotation"){this[G]=a,this.updateTransform(),C=!0}}}}}}}}}}}}}C||(ac?e[G]=a:cM(e,G,a))}}}return b},clip:function(b){var c=this,a;b?(a=b.members,a4(a,c),a.push(c),c.destroyClip=function(){a4(a,c)},b=b.getCSS(c)):(c.destroyClip&&c.destroyClip(),b={clip:ac?"inherit":"rect(auto)"});return c.css(b)},css:V.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&Z(a)},destroy:function(){this.destroyClip&&this.destroyClip();return V.prototype.destroy.apply(this)},on:function(a,b){this.element["on"+a]=function(){var c=db.event;c.target=c.srcElement;b(c)};return this},cutOffPath:function(b,c){var a,b=b.split(/[ ,]/);a=b.length;if(a===9||a===11){b[a-4]=b[a-2]=cE(b[a-2])-10*c}return b.join(" ")},shadow:function(m,x,G){var a=[],c,e=this.element,f=this.renderer,g,h=e.style,l,n=e.path,p,C,d,b;n&&typeof n.value!=="string"&&(n="x");C=n;if(m){d=bc(m.width,3);b=(m.opacity||0.15)/d;for(c=1;c<=3;c++){p=d*2+1-2*c;G&&(C=this.cutOffPath(n.value,p+0.5));l=['<shape isShadow="true" strokeweight="',p,'" filled="false" path="',C,'" coordsize="10 10" style="',e.style.cssText,'" />'];g=a3(f.prepVML(l),null,{left:cE(h.left)+bc(m.offsetX,1),top:cE(h.top)+bc(m.offsetY,1)});if(G){g.cutOff=p+1}l=['<stroke color="',m.color||"black",'" opacity="',b*c,'"/>'];a3(f.prepVML(l),null,null,g);x?x.element.appendChild(g):e.parentNode.insertBefore(g,e);a.push(g)}this.shadows=a}return this}},y=dd(V,y),y={Element:y,isIE8:dm.indexOf("MSIE 8.0")>-1,init:function(e,f,a){var b,c;this.alignedObjects=[];b=this.createElement(M);c=b.element;c.style.position="relative";e.appendChild(b.element);this.isVML=!0;this.box=c;this.boxWrapper=b;this.cache={};this.setSize(f,a,!1);if(!cG.namespaces.hcv){cG.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{cG.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(d){cG.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return !this.box.offsetWidth},clipRect:function(e,f,a,b){var c=this.createElement(),d=dg(e);return ch(c,{members:[],left:(d?e.x:e)+1,top:(d?e.y:f)+1,width:(d?e.width:a)-1,height:(d?e.height:b)-1,getCSS:function(p){var h=p.element,l=h.nodeName,p=p.inverted,n=this.top-(l==="shape"?h.offsetTop:0),g=this.left,h=g+this.width,m=n+this.height,n={clip:"rect("+ci(p?g:n)+"px,"+ci(p?m:h)+"px,"+ci(p?h:m)+"px,"+ci(p?n:g)+"px)"};!p&&ac&&l==="DIV"&&ch(n,{width:h+"px",height:m+"px"});return n},updateClipping:function(){cb(c.members,function(g){g.css(c.getCSS(g))})}})},color:function(g,l,n,ak){var al=this,am,a=/^rgba/,b,c,d=cJ;g&&g.linearGradient?c="gradient":g&&g.radialGradient&&(c="pattern");if(c){var e,f,h=g.linearGradient||g.radialGradient,C,m,x,P,J,ad="",g=g.stops,G,ae=[],ag=function(){b=['<fill colors="'+ae.join(",")+'" opacity="',x,'" o:opacity2="',m,'" type="',c,'" ',ad,'focus="100%" method="any" />'];a3(al.prepVML(b),null,null,l)};C=g[0];G=g[g.length-1];C[0]>0&&g.unshift([0,C[1]]);G[0]<1&&g.push([1,G[1]]);cb(g,function(an,ao){a.test(an[1])?(am=dL(an[1]),e=am.get("rgb"),f=am.get("a")):(e=an[1],f=1);ae.push(an[0]*100+"% "+e);ao?(x=f,P=e):(m=f,J=e)});if(n==="fill"){if(c==="gradient"){n=h.x1||h[0]||0,g=h.y1||h[1]||0,C=h.x2||h[2]||0,h=h.y2||h[3]||0,ad='angle="'+(90-c9.atan((h-g)/(C-n))*180/o)+'"',ag()}else{var d=h.r,af=d*2,aj=d*2,ai=h.cx,I=h.cy,ah=l.radialReference,p,d=function(){ah&&(p=ak.getBBox(),ai+=(ah[0]-p.x)/p.width-0.5,I+=(ah[1]-p.y)/p.height-0.5,af*=ah[2]/p.width,aj*=ah[2]/p.height);ad='src="'+cS.global.VMLRadialGradientURL+'" size="'+af+","+aj+'" origin="0.5,0.5" position="'+ai+","+I+'" color2="'+J+'" ';ag()};ak.added?d():cz(ak,"add",d);d=P}}else{d=e}}else{if(a.test(g)&&l.tagName!=="IMG"){am=dL(g),b=["<",n,' opacity="',am.get("a"),'"/>'],a3(this.prepVML(b),null,null,l),d=am.get("rgb")}else{d=l.getElementsByTagName(n);if(d.length){d[0].opacity=1,d[0].type="solid"}d=g}}return d},prepVML:function(a){var b=this.isIE8,a=a.join("");b?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=a.indexOf('style="')===-1?a.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):a.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):a=a.replace("<","<hcv:");return a},text:dE.prototype.html,path:function(a){var b={coordsize:"10 10"};cI(a)?b.d=a:dg(a)&&ch(b,a);return this.createElement("shape").attr(b)},circle:function(c,d,a){var b=this.symbol("circle");if(dg(c)){a=c.r,d=c.y,c=c.x}b.isCircle=!0;b.r=a;return b.attr({x:c,y:d})},g:function(a){var b;a&&(b={className:"highcharts-"+a,"class":"highcharts-"+a});return this.createElement(M).attr(b)},image:function(e,f,a,b,c){var d=this.createElement("img").attr({src:e});arguments.length>1&&d.attr({x:f,y:a,width:b,height:c});return d},rect:function(f,g,a,b,c,d){var e=this.symbol("rect");e.r=dg(f)?f.r:c;return e.attr(dg(f)?f:e.crisp(d,f,g,cf(a,0),cf(b,0)))},invertChild:function(b,c){var a=c.style;dO(b,{flip:"x",left:cE(a.width)-1,top:cE(a.height)-1,rotation:-90})},symbols:{arc:function(b,d,e,f,g){var h=g.start,l=g.end,m=g.r||e||f,e=g.innerR,f=a8(h),n=cv(h),a=a8(l),c=cv(l);if(l-h===0){return["x"]}h=["wa",b-m,d-m,b+m,d+m,b+m*f,d+m*n,b+m*a,d+m*c];g.open&&!e&&h.push("e","M",b,d);h.push("at",b-e,d-e,b+e,d+e,b+e*a,d+e*c,b+e*f,d+e*n,"x","e");h.isArc=!0;return h},circle:function(d,e,a,b,c){c&&(a=b=2*c.r);c&&c.isCircle&&(d-=a/2,e-=b/2);return["wa",d,e,d+a,e+b,d+a,e+b/2,d+a,e+b/2,"e"]},rect:function(f,g,h,a,b){var c=f+h,d=g+a,e;!cg(b)||!b.r?c=dE.prototype.symbols.square.apply(0,arguments):(e=ck(b.r,h,a),c=["M",f+e,g,"L",c-e,g,"wa",c-2*e,g,c,g+2*e,c-e,g,c,g+e,"L",c,d-e,"wa",c-2*e,d-2*e,c,d,c,d-e,c-e,d,"L",f+e,d,"wa",f,d-2*e,f+2*e,d,f+e,d,f,d-e,"L",f,g+e,"wa",f,g,f+2*e,g+2*e,f,g+e,f+e,g,"x","e"]);return c}}},Highcharts.VMLRenderer=dq=function(){this.init.apply(this,arguments)},dq.prototype=cj(dE.prototype,y),dC=dq}dE.prototype.measureSpanWidth=function(c,d){var a=cG.createElement("span"),b;b=cG.createTextNode(c);a.appendChild(b);dO(a,d);this.box.appendChild(a);b=a.offsetWidth;Z(a);return b};var c7;if(H){Highcharts.CanVGRenderer=y=function(){dr="http://www.w3.org/1999/xhtml"},y.prototype.symbols={},c7=function(){function a(){var d=b.length,c;for(c=0;c<d;c++){b[c]()}b=[]}var b=[];return{push:function(c,d){b.length===0&&cy(d,a);b.push(c)}}}(),dC=y}di.prototype={addLabel:function(){var x=this.axis,a=x.options,c=x.chart,e=x.horiz,f=x.categories,g=x.names,h=this.pos,l=a.labels,m=x.tickPositions,e=e&&f&&!l.step&&!l.staggerLines&&!l.rotation&&c.plotWidth/m.length||!e&&(c.margin[3]||c.chartWidth*0.33),n=h===m[0],p=h===m[m.length-1],b,g=f?bc(f[h],g[h],h):h,f=this.label,d=m.info;x.isDatetimeAxis&&d&&(b=a.dateTimeLabelFormats[d.higherRanks[h]||d.unitName]);this.isFirst=n;this.isLast=p;a=x.labelFormatter.call({axis:x,chart:c,isFirst:n,isLast:p,dateTimeLabelFormat:b,value:x.isLog?dI(dv(g)):g});h=e&&{width:cf(1,ci(e-2*(l.padding||10)))+"px"};h=ch(h,l.style);if(cg(f)){f&&f.attr({text:a}).css(h)}else{b={align:x.labelAlign};if(cF(l.rotation)){b.rotation=l.rotation}if(e&&l.ellipsis){b._clipHeight=x.len/m.length}this.label=cg(a)&&l.enabled?c.renderer.text(a,0,0,l.useHTML).attr(b).css(h).add(x.labelGroup):null}},getLabelSize:function(){var a=this.label,b=this.axis;return a?a.getBBox()[b.horiz?"height":"width"]:0},getLabelSides:function(){var c=this.label.getBBox(),d=this.axis,a=d.horiz,b=d.options.labels,c=a?c.width:c.height,d=a?c*{left:0,center:0.5,right:1}[d.labelAlign]-b.x:c;return[-d,c-d]},handleOverflow:function(g,l){var e;var p=!0,G=this.axis,J=this.isFirst,a=this.isLast,c=G.horiz?l.x:l.y,d=G.reversed,f=G.tickPositions,h=this.getLabelSides(),m=h[0],h=h[1],n=G.pos,x=n+G.len,b=this.label.line||0,C=G.labelEdge,I=G.justifyLabels&&(J||a);C[b]===cd||c+m>C[b]?C[b]=c+h:I||(p=!1);if(I){e=(G=G.ticks[f[g+(J?1:-1)]])&&G.label.xy&&G.label.xy.x+G.getLabelSides()[J?0:1],f=e,J&&!d||a&&d?c+m<n&&(c=n-m,G&&c+h>f&&(p=!1)):c+h>x&&(c=x-h,G&&c+m<f&&(p=!1)),l.x=c}return p},getPosition:function(f,g,a,b){var c=this.axis,d=c.chart,e=b&&d.oldChartHeight||d.chartHeight;return{x:f?c.translate(g+a,null,null,b)+c.transB:c.left+c.offset+(c.opposite?(b&&d.oldChartWidth||d.chartWidth)-c.right-c.left:0),y:f?e-c.bottom+c.offset-(c.opposite?c.height:0):e-c.translate(g+a,null,null,b)-c.transB}},getLabelPosition:function(p,C,a,c,e,f,g,h){var l=this.axis,m=l.transA,n=l.reversed,x=l.staggerLines,b=l.chart.renderer.fontMetrics(e.style.fontSize).b,d=e.rotation,p=p+e.x-(f&&c?f*m*(n?-1:1):0),C=C+e.y-(f&&!c?f*m*(n?1:-1):0);d&&l.side===2&&(C-=b-b*a8(d*z));!cg(e.y)&&!d&&(C+=b-a.getBBox().height/2);if(x){a.line=g/(h||1)%x,C+=a.line*(l.labelOffset/x)}return{x:p,y:C}},getMarkPath:function(e,f,a,b,c,d){return d.crispLine(["M",e,f,"L",e+(c?0:-a),f+(c?a:0)],b)},render:function(l,ai,aj){var ak=this.axis,a=ak.options,b=ak.chart.renderer,c=ak.horiz,d=this.type,e=this.label,f=this.pos,g=a.labels,h=this.gridLine,m=d?d+"Grid":"grid",p=d?d+"Tick":"tick",n=a[m+"LineWidth"],x=a[m+"LineColor"],ah=a[m+"LineDashStyle"],G=a[p+"Length"],m=a[p+"Width"]||0,J=a[p+"Color"],P=a[p+"Position"],p=this.mark,ae=g.step,ad=!0,I=ak.tickmarkOffset,ag=this.getPosition(c,f,I,ai),af=ag.x,ag=ag.y,C=c&&af===ak.pos+ak.len||!c&&ag===ak.pos?-1:1;this.isActive=!0;if(n){f=ak.getPlotLinePath(f+I,n*C,ai,!0);if(h===cd){h={stroke:x,"stroke-width":n};if(ah){h.dashstyle=ah}if(!d){h.zIndex=1}if(ai){h.opacity=0}this.gridLine=h=n?b.path(f).attr(h).add(ak.gridGroup):null}if(!ai&&h&&f){h[this.isNew?"attr":"animate"]({d:f,opacity:aj})}}if(m&&G){P==="inside"&&(G=-G),ak.opposite&&(G=-G),d=this.getMarkPath(af,ag,G,m*C,c,b),p?p.animate({d:d,opacity:aj}):this.mark=b.path(d).attr({stroke:J,"stroke-width":m,opacity:aj}).add(ak.axisGroup)}if(e&&!isNaN(af)){e.xy=ag=this.getLabelPosition(af,ag,e,c,g,I,l,ae),this.isFirst&&!this.isLast&&!bc(a.showFirstLabel,1)||this.isLast&&!this.isFirst&&!bc(a.showLastLabel,1)?ad=!1:!ak.isRadial&&!g.step&&!g.rotation&&!ai&&aj!==0&&(ad=this.handleOverflow(l,ag)),ae&&l%ae&&(ad=!1),ad&&!isNaN(ag.y)?(ag.opacity=aj,e[this.isNew?"attr":"animate"](ag),this.isNew=!1):e.attr("y",-9999)}},destroy:function(){cr(this,this.axis)}};c3.prototype={destroy:function(){cr(this,this.axis)},render:function(b){var c=this.options,a=c.format,a=a?S(a,this):c.formatter.call(this);this.label?this.label.attr({text:a,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(a,0,0,c.useHTML).css(c.style).attr({align:this.textAlign,rotation:c.rotation,visibility:"hidden"}).add(b)},setOffset:function(c,d){var e=this.axis,f=e.chart,g=f.inverted,h=this.isNegative,l=e.translate(this.percent?100:this.total,0,0,0,1),e=e.translate(0),e=cY(l-e),a=f.xAxis[0].translate(this.x)+c,b=f.plotHeight,h={x:g?h?l:l-e:a,y:g?b-a-d:h?b-l-e:b-l,width:g?e:d,height:g?d:e};if(g=this.label){g.align(this.alignOptions,null,h),h=g.alignAttr,g.attr({visibility:this.options.crop===!1||f.isInsidePlot(h.x,h.y)?s?"inherit":"visible":"hidden"})}}};var cu=function(a,b){this.axis=a;if(b){this.options=b,this.id=b.id}};cu.prototype={render:function(){var a=this,b=a.axis,c=b.horiz,d=(b.pointRange||0)/2,e=a.options,f=e.label,g=a.label,m=e.width,x=e.to,G=e.from,J=cg(G)&&cg(x),P=e.value,ad=e.dashStyle,l=a.svgElem,h=[],n,ae=e.color,I=e.zIndex,p=e.events,C=b.chart.renderer;b.isLog&&(G=cl(G),x=cl(x),P=cl(P));if(m){if(h=b.getPlotLinePath(P,m),d={stroke:ae,"stroke-width":m},ad){d.dashstyle=ad}}else{if(J){if(G=cf(G,b.min-d),x=ck(x,b.max+d),h=b.getPlotBandPath(G,x,e),d={fill:ae},e.borderWidth){d.stroke=e.borderColor,d["stroke-width"]=e.borderWidth}}else{return}}if(cg(I)){d.zIndex=I}if(l){if(h){l.animate({d:h},null,l.onGetPath)}else{if(l.hide(),l.onGetPath=function(){l.show()},g){a.label=g=g.destroy()}}}else{if(h&&h.length&&(a.svgElem=l=C.path(h).attr(d).add(),p)){for(n in e=function(af){l.on(af,function(ag){p[af].apply(a,[ag])})},p){e(n)}}}if(f&&cg(f.text)&&h&&h.length&&b.width>0&&b.height>0){f=cj({align:c&&J&&"center",x:c?!J&&4:10,verticalAlign:!c&&J&&"middle",y:c?J?16:10:J?6:-4,rotation:c&&!J&&90},f);if(!g){a.label=g=C.text(f.text,0,0,f.useHTML).attr({align:f.textAlign||f.align,rotation:f.rotation,zIndex:I}).css(f.style).add()}b=[h[1],h[4],bc(h[6],h[1])];h=[h[2],h[5],bc(h[7],h[2])];c=A(b);J=A(h);g.align(f,!1,{x:c,y:J,width:cW(b)-c,height:cW(h)-J});g.show()}else{g&&g.hide()}return a},destroy:function(){a4(this.axis.plotLinesAndBands,this);delete this.axis;cr(this)}};a0.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:cQ,lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return E(this.total,-1)},style:cQ.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(e,f){var a=f.isX;this.horiz=e.inverted?!a:a;this.coll=(this.isXAxis=a)?"xAxis":"yAxis";this.opposite=f.opposite;this.side=f.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(f);var b=this.options,c=b.type;this.labelFormatter=b.labels.formatter||this.defaultLabelFormatter;this.userOptions=f;this.minPixelPadding=0;this.chart=e;this.reversed=b.reversed;this.zoomEnabled=b.zoomEnabled!==!1;this.categories=b.categories||c==="category";this.names=[];this.isLog=c==="logarithmic";this.isDatetimeAxis=c==="datetime";this.isLinked=cg(b.linkedTo);this.tickmarkOffset=this.categories&&b.tickmarkPlacement==="between"?0.5:0;this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=b.minRange||b.maxZoom;this.range=b.range;this.offset=b.offset||0;this.stacks={};this.oldStacks={};this.stackExtremes={};this.min=this.max=null;this.crosshair=bc(b.crosshair,c4(e.options.tooltip.crosshairs)[a?0:1],!1);var d,b=this.options.events;dA(this,e.axes)===-1&&(e.axes.push(this),e[this.coll].push(this));this.series=this.series||[];if(e.inverted&&a&&this.reversed===cd){this.reversed=!0}this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(d in b){cz(this,d,b[d])}if(this.isLog){this.val2lin=cl,this.lin2val=dv}},setOptions:function(a){this.options=cj(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],cj(cS[this.coll],a))},defaultLabelFormatter:function(){var f=this.axis,g=this.value,h=f.categories,a=this.dateTimeLabelFormat,b=cS.lang.numericSymbols,c=b&&b.length,d,e=f.options.labels.format,f=f.isLog?g:f.tickInterval;if(e){d=S(e,this)}else{if(h){d=g}else{if(a){d=dn(a,g)}else{if(c&&f>=1000){for(;c--&&d===cd;){h=Math.pow(1000,c+1),f>=h&&b[c]!==null&&(d=E(g/h,-1)+b[c])}}}}}d===cd&&(d=g>=10000?E(g,0):E(g,-1,cd,""));return d},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1;a.dataMin=a.dataMax=null;a.stackExtremes={};a.buildStacks();cb(a.series,function(c){if(c.visible||!b.options.chart.ignoreHiddenSeries){var d;d=c.options.threshold;var e;a.hasVisibleSeries=!0;a.isLog&&d<=0&&(d=null);if(a.isXAxis){if(d=c.xData,d.length){a.dataMin=ck(bc(a.dataMin,d[0]),A(d)),a.dataMax=cf(bc(a.dataMax,d[0]),cW(d))}}else{c.getExtremes();e=c.dataMax;c=c.dataMin;if(cg(c)&&cg(e)){a.dataMin=ck(bc(a.dataMin,c),c),a.dataMax=cf(bc(a.dataMax,e),e)}if(cg(d)){if(a.dataMin>=d){a.dataMin=d,a.ignoreMinPadding=!0}else{if(a.dataMax<d){a.dataMax=d,a.ignoreMaxPadding=!0}}}}}})},translate:function(b,d,e,f,g,h){var l=this.len,m=1,n=0,a=f?this.oldTransA:this.transA,f=f?this.oldMin:this.min,c=this.minPixelPadding,g=(this.options.ordinal||this.isLog&&g)&&this.lin2val;if(!a){a=this.transA}e&&(m*=-1,n=l);this.reversed&&(m*=-1,n-=m*l);d?(b=b*m+n,b-=c,b=b/a+f,g&&(b=this.lin2val(b))):(g&&(b=this.val2lin(b)),h==="between"&&(h=0.5),b=m*(b-f)*a+n+m*c+(cF(h)?a*h*this.pointRange:0));return b},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(x,a,c,e,f){var g=this.chart,h=this.left,l=this.top,m,n,p=c&&g.oldChartHeight||g.chartHeight,b=c&&g.oldChartWidth||g.chartWidth,d;m=this.transB;f=bc(f,this.translate(x,null,null,c));x=c=ci(f+m);m=n=ci(p-f-m);if(isNaN(f)){d=!0}else{if(this.horiz){if(m=l,n=p-this.bottom,x<h||x>h+this.width){d=!0}}else{if(x=h,c=b-this.right,m<l||m>l+this.height){d=!0}}}return d&&!e?null:g.renderer.crispLine(["M",x,m,"L",c,n],a||1)},getLinearTickPositions:function(d,e,a){for(var b,e=dI(c0(e/d)*d),a=dI(c2(a/d)*d),c=[];e<=a;){c.push(e);e=dI(e+d);if(e===b){break}b=e}return c},getMinorTickPositions:function(){var d=this.options,e=this.tickPositions,a=this.minorTickInterval,b=[],c;if(this.isLog){c=e.length;for(d=1;d<c;d++){b=b.concat(this.getLogTickPositions(a,e[d-1],e[d],!0))}}else{if(this.isDatetimeAxis&&d.minorTickInterval==="auto"){b=b.concat(this.getTimeTicks(this.normalizeTimeTickInterval(a),this.min,this.max,d.startOfWeek)),b[0]<this.min&&b.shift()}else{for(e=this.min+(e[0]-this.min)%a;e<=this.max;e+=a){b.push(e)}}}return b},adjustForMinRange:function(){var b=this.options,d=this.min,e=this.max,f,g=this.dataMax-this.dataMin>=this.minRange,h,l,m,n,a;if(this.isXAxis&&this.minRange===cd&&!this.isLog){cg(b.min)||cg(b.max)?this.minRange=null:(cb(this.series,function(p){n=p.xData;for(l=a=p.xIncrement?1:n.length-1;l>0;l--){if(m=n[l]-n[l-1],h===cd||m<h){h=m}}}),this.minRange=ck(h*5,this.dataMax-this.dataMin))}if(e-d<this.minRange){var c=this.minRange;f=(c-e+d)/2;f=[d-f,bc(b.min,d-f)];if(g){f[2]=this.dataMin}d=cW(f);e=[d+c,bc(b.max,d+c)];if(g){e[2]=this.dataMax}e=A(e);e-d<c&&(f[0]=e-c,f[1]=bc(b.min,e-c),d=cW(f))}this.min=d;this.max=e},setAxisTranslation:function(c){var d=this.max-this.min,e=0,f,g=0,h=0,l=this.linkedParent,a=!!this.categories,b=this.transA;if(this.isXAxis||a){l?(g=l.minPointOffset,h=l.pointRangePadding):cb(this.series,function(x){var n=cf(x.pointRange,+a),p=x.options.pointPlacement,m=x.closestPointRange;n>d&&(n=0);e=cf(e,n);g=cf(g,Q(p)?0:n/2);h=cf(h,p==="on"?0:n);!x.noSharedTooltip&&cg(m)&&(f=cg(f)?ck(f,m):m)}),l=this.ordinalSlope&&f?this.ordinalSlope/f:1,this.minPointOffset=g*=l,this.pointRangePadding=h*=l,this.pointRange=ck(e,d),this.closestPointRange=f}if(c){this.oldTransA=b}this.translationSlope=this.transA=b=this.len/(d+h||1);this.transB=this.horiz?this.left:this.bottom;this.minPixelPadding=b*g},setTickPositions:function(h){var n=this,C=n.chart,I=n.options,a=n.isLog,c=n.isDatetimeAxis,e=n.isXAxis,f=n.isLinked,g=n.options.tickPositioner,m=I.maxPadding,p=I.minPadding,x=I.tickInterval,G=I.minTickInterval,d=I.tickPixelInterval,b,l=n.categories;f?(n.linkedParent=C[n.coll][I.linkedTo],C=n.linkedParent.getExtremes(),n.min=bc(C.min,C.dataMin),n.max=bc(C.max,C.dataMax),I.type!==n.linkedParent.options.type&&cm(11,1)):(n.min=bc(n.userMin,I.min,n.dataMin),n.max=bc(n.userMax,I.max,n.dataMax));if(a){!h&&ck(n.min,bc(n.dataMin,n.min))<=0&&cm(10,1),n.min=dI(cl(n.min)),n.max=dI(cl(n.max))}if(n.range&&cg(n.max)){n.userMin=n.min=cf(n.min,n.max-n.range),n.userMax=n.max,n.range=null}n.beforePadding&&n.beforePadding();n.adjustForMinRange();if(!l&&!n.usePercentage&&!f&&cg(n.min)&&cg(n.max)&&(C=n.max-n.min)){if(!cg(I.min)&&!cg(n.userMin)&&p&&(n.dataMin<0||!n.ignoreMinPadding)){n.min-=C*p}if(!cg(I.max)&&!cg(n.userMax)&&m&&(n.dataMax>0||!n.ignoreMaxPadding)){n.max+=C*m}}n.min===n.max||n.min===void 0||n.max===void 0?n.tickInterval=1:f&&!x&&d===n.linkedParent.options.tickPixelInterval?n.tickInterval=n.linkedParent.tickInterval:(n.tickInterval=bc(x,l?1:(n.max-n.min)*d/cf(n.len,d)),!cg(x)&&n.len<d&&!this.isRadial&&!l&&I.startOnTick&&I.endOnTick&&(b=!0,n.tickInterval/=4));e&&!h&&cb(n.series,function(J){J.processData(n.min!==n.oldMin||n.max!==n.oldMax)});n.setAxisTranslation(!0);n.beforeSetTickPositions&&n.beforeSetTickPositions();if(n.postProcessTickInterval){n.tickInterval=n.postProcessTickInterval(n.tickInterval)}if(n.pointRange){n.tickInterval=cf(n.pointRange,n.tickInterval)}if(!x&&n.tickInterval<G){n.tickInterval=G}if(!c&&!a&&!x){n.tickInterval=cH(n.tickInterval,null,cq(n.tickInterval),I)}n.minorTickInterval=I.minorTickInterval==="auto"&&n.tickInterval?n.tickInterval/5:I.minorTickInterval;n.tickPositions=h=I.tickPositions?[].concat(I.tickPositions):g&&g.apply(n,[n.min,n.max]);if(!h){!n.ordinalPositions&&(n.max-n.min)/n.tickInterval>cf(2*n.len,200)&&cm(19,!0),h=c?n.getTimeTicks(n.normalizeTimeTickInterval(n.tickInterval,I.units),n.min,n.max,I.startOfWeek,n.ordinalPositions,n.closestPointRange,!0):a?n.getLogTickPositions(n.tickInterval,n.min,n.max):n.getLinearTickPositions(n.tickInterval,n.min,n.max),b&&h.splice(1,h.length-2),n.tickPositions=h}if(!f){a=h[0],c=h[h.length-1],f=n.minPointOffset||0,I.startOnTick?n.min=a:n.min-f>a&&h.shift(),I.endOnTick?n.max=c:n.max+f<c&&h.pop(),h.length===1&&(n.min-=0.001,n.max+=0.001)}},setMaxTicks:function(){var c=this.chart,d=c.maxTicks||{},a=this.tickPositions,b=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");if(!this.isLinked&&!this.isDatetimeAxis&&a&&a.length>(d[b]||0)&&this.options.alignTicks!==!1){d[b]=a.length}c.maxTicks=d},adjustTickAmount:function(){var d=this._maxTicksKey,e=this.tickPositions,a=this.chart.maxTicks;if(a&&a[d]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1&&this.min!==cd){var b=this.tickAmount,c=e.length;this.tickAmount=d=a[d];if(c<d){for(;e.length<d;){e.push(dI(e[e.length-1]+this.tickInterval))}this.transA*=(c-1)/(d-1);this.max=e[e.length-1]}if(cg(b)&&d!==b){this.isDirty=!0}}},setScale:function(){var d=this.stacks,e,a,b,c;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();c=this.len!==this.oldAxisLength;cb(this.series,function(f){if(f.isDirtyData||f.isDirty||f.xAxis.isDirty){b=!0}});if(c||b||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis){for(e in d){for(a in d[e]){d[e][a].total=null,d[e][a].cum=0}}}this.forceRedraw=!1;this.getSeriesExtremes();this.setTickPositions();this.oldUserMin=this.userMin;this.oldUserMax=this.userMax;if(!this.isDirty){this.isDirty=c||this.min!==this.oldMin||this.max!==this.oldMax}}else{if(!this.isXAxis){if(this.oldStacks){d=this.stacks=this.oldStacks}for(e in d){for(a in d[e]){d[e][a].cum=d[e][a].total}}}}this.setMaxTicks()},setExtremes:function(f,g,a,b,c){var d=this,e=d.chart,a=bc(a,!0),c=ch(c,{min:f,max:g});cX(d,"setExtremes",c,function(){d.userMin=f;d.userMax=g;d.eventArgs=c;d.isDirtyExtremes=!0;a&&e.redraw(b)})},zoom:function(a,b){this.allowZoomOutside||(cg(this.dataMin)&&a<=this.dataMin&&(a=cd),cg(this.dataMax)&&b>=this.dataMax&&(b=cd));this.displayBtn=a!==cd||b!==cd;this.setExtremes(a,b,!1,cd,{trigger:"zoom"});return !0},setAxisSize:function(){var f=this.chart,g=this.options,a=g.offsetLeft||0,b=g.offsetRight||0,c=this.horiz,d,e;this.left=e=bc(g.left,f.plotLeft+a);this.top=d=bc(g.top,f.plotTop);this.width=a=bc(g.width,f.plotWidth-a+b);this.height=g=bc(g.height,f.plotHeight);this.bottom=f.chartHeight-g-d;this.right=f.chartWidth-a-e;this.len=cf(c?a:g,0);this.pos=c?e:d},getExtremes:function(){var a=this.isLog;return{min:a?dI(dv(this.min)):this.min,max:a?dI(dv(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(b){var c=this.isLog,a=c?dv(this.min):this.min,c=c?dv(this.max):this.max;a>b||b===null?b=a:c<b&&(b=c);return this.translate(b,0,1,0,1)},autoLabelAlign:function(a){a=(bc(a,0)-this.side*90+720)%360;return a>15&&a<165?"right":a>195&&a<345?"left":"center"},getOffset:function(){var aj=this,ak=aj.chart,a=ak.renderer,b=aj.options,c=aj.tickPositions,d=aj.ticks,e=aj.horiz,f=aj.side,g=ak.inverted?[1,0,3,2][f]:f,h,m=0,n,p=0,G=b.title,C=b.labels,ai=0,ae=ak.axisOffset,x=ak.clipOffset,ad=[-1,1,1,-1][f],P,ah=1,l=bc(C.maxStaggerLines,5),J,ag,af,I;aj.hasData=h=aj.hasVisibleSeries||cg(aj.min)&&cg(aj.max)&&!!c;aj.showAxis=ak=h||bc(b.showEmpty,!0);aj.staggerLines=aj.horiz&&C.staggerLines;if(!aj.axisGroup){aj.gridGroup=a.g("grid").attr({zIndex:b.gridZIndex||1}).add(),aj.axisGroup=a.g("axis").attr({zIndex:b.zIndex||2}).add(),aj.labelGroup=a.g("axis-labels").attr({zIndex:C.zIndex||7}).add()}if(h||aj.isLinked){aj.labelAlign=bc(C.align||aj.autoLabelAlign(C.rotation));cb(c,function(al){d[al]?d[al].addLabel():d[al]=new di(aj,al)});if(aj.horiz&&!aj.staggerLines&&l&&!C.rotation){for(P=aj.reversed?[].concat(c).reverse():c;ah<l;){h=[];J=!1;for(C=0;C<P.length;C++){ag=P[C],af=(af=d[ag].label&&d[ag].label.getBBox())?af.width:0,I=C%ah,af&&(ag=aj.translate(ag),h[I]!==cd&&ag<h[I]&&(J=!0),h[I]=ag+af)}if(J){ah++}else{break}}if(ah>1){aj.staggerLines=ah}}cb(c,function(al){if(f===0||f===2||{1:"left",3:"right"}[f]===aj.labelAlign){ai=cf(d[al].getLabelSize(),ai)}});if(aj.staggerLines){ai*=aj.staggerLines,aj.labelOffset=ai}}else{for(P in d){d[P].destroy(),delete d[P]}}if(G&&G.text&&G.enabled!==!1){if(!aj.axisTitle){aj.axisTitle=a.text(G.text,0,0,G.useHTML).attr({zIndex:7,rotation:G.rotation||0,align:G.textAlign||{low:"left",middle:"center",high:"right"}[G.align]}).css(G.style).add(aj.axisGroup),aj.axisTitle.isNew=!0}if(ak){m=aj.axisTitle.getBBox()[e?"height":"width"],p=bc(G.margin,e?5:10),n=G.offset}aj.axisTitle[ak?"show":"hide"]()}aj.offset=ad*bc(b.offset,ae[f]);aj.axisTitleMargin=bc(n,ai+p+(f!==2&&ai&&ad*b.labels[e?"y":"x"]));ae[f]=cf(ae[f],aj.axisTitleMargin+m+ad*aj.offset);x[g]=cf(x[g],c0(b.lineWidth/2)*2)},getLinePath:function(e){var f=this.chart,a=this.opposite,b=this.offset,c=this.horiz,d=this.left+(a?this.width:0)+b,b=f.chartHeight-this.bottom-(a?this.height:0)+b;a&&(e*=-1);return f.renderer.crispLine(["M",c?this.left:d,c?b:this.top,"L",c?f.chartWidth-this.right:d,c?b:f.chartHeight-this.bottom],e)},getTitlePosition:function(){var c=this.horiz,d=this.left,e=this.top,f=this.len,g=this.options.title,h=c?d:e,l=this.opposite,a=this.offset,b=cE(g.style.fontSize||12),f={low:h+(c?0:f),middle:h+f/2,high:h+(c?f:0)}[g.align],d=(c?e+this.height:d)+(c?1:-1)*(l?-1:1)*this.axisTitleMargin+(this.side===2?b:0);return{x:c?f:d+(l?this.width:0)+a+(g.x||0),y:c?d-(l?this.height:0)+a:f+(g.y||0)}},render:function(){var h=this,m=h.horiz,aj=h.reversed,ak=h.chart,al=ak.renderer,a=h.options,b=h.isLog,c=h.isLinked,d=h.tickPositions,e,f=h.axisTitle,g=h.stacks,l=h.ticks,x=h.minorTicks,n=h.alternateBands,p=a.stackLabels,I=a.alternateGridColor,ah=h.tickmarkOffset,G=a.lineWidth,P=ak.hasRendered&&cg(h.oldMin)&&!isNaN(h.oldMin),J=h.hasData,af=h.showAxis,ai,ae=h.justifyLabels=!h.staggerLines&&m&&a.labels.overflow==="justify",ad;h.labelEdge.length=0;cb([l,x,n],function(am){for(var an in am){am[an].isActive=!1}});if(J||c){if(h.minorTickInterval&&!h.categories&&cb(h.getMinorTickPositions(),function(am){x[am]||(x[am]=new di(h,am,"minor"));P&&x[am].isNew&&x[am].render(null,!0);x[am].render(null,!1,1)}),d.length&&(e=d.slice(),(m&&aj||!m&&!aj)&&e.reverse(),ae&&(e=e.slice(1).concat([e[0]])),cb(e,function(an,am){ae&&(am=am===e.length-1?0:am+1);if(!c||an>=h.min&&an<=h.max){l[an]||(l[an]=new di(h,an)),P&&l[an].isNew&&l[an].render(am,!0,0.1),l[an].render(am,!1,1)}}),ah&&h.min===0&&(l[-1]||(l[-1]=new di(h,-1,null,!0)),l[-1].render(-1))),I&&cb(d,function(an,am){if(am%2===0&&an<h.max){n[an]||(n[an]=new cu(h)),ai=an+ah,ad=d[am+1]!==cd?d[am+1]+ah:h.max,n[an].options={from:b?dv(ai):ai,to:b?dv(ad):ad,color:I},n[an].render(),n[an].isActive=!0}}),!h._addedPlotLB){cb((a.plotLines||[]).concat(a.plotBands||[]),function(am){h.addPlotBandOrLine(am)}),h._addedPlotLB=!0}}cb([l,x,n],function(ap){var aq,ar,am=[],an=co?co.duration||500:0,ao=function(){for(ar=am.length;ar--;){ap[am[ar]]&&!ap[am[ar]].isActive&&(ap[am[ar]].destroy(),delete ap[am[ar]])}};for(aq in ap){if(!ap[aq].isActive){ap[aq].render(aq,!1,0),ap[aq].isActive=!1,am.push(aq)}}ap===n||!ak.hasRendered||!an?ao():an&&setTimeout(ao,an)});if(G){m=h.getLinePath(G),h.axisLine?h.axisLine.animate({d:m}):h.axisLine=al.path(m).attr({stroke:a.lineColor,"stroke-width":G,zIndex:7}).add(h.axisGroup),h.axisLine[af?"show":"hide"]()}if(f&&af){f[f.isNew?"attr":"animate"](h.getTitlePosition()),f.isNew=!1}if(p&&p.enabled){var C,ag,a=h.stackTotalGroup;if(!a){h.stackTotalGroup=a=al.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()}a.translate(ak.plotLeft,ak.plotTop);for(C in g){for(ag in al=g[C],al){al[ag].render(a)}}}h.isDirty=!1},redraw:function(){var a=this.chart.pointer;a.reset&&a.reset(!0);this.render();cb(this.plotLinesAndBands,function(b){b.render()});cb(this.series,function(b){b.isDirty=!0})},buildStacks:function(){var a=this.series,b=a.length;if(!this.isXAxis){for(;b--;){a[b].setStackedPoints()}if(this.usePercentage){for(b=0;b<a.length;b++){a[b].setPercentStacks()}}}},destroy:function(d){var e=this,a=e.stacks,b,c=e.plotLinesAndBands;d||a1(e);for(b in a){cr(a[b]),a[b]=null}cb([e.ticks,e.minorTicks,e.alternateBands],function(f){cr(f)});for(d=c.length;d--;){c[d].destroy()}cb("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(f){e[f]&&(e[f]=e[f].destroy())});this.cross&&this.cross.destroy()},drawCrosshair:function(d,e){if(this.crosshair){if((cg(e)||!bc(this.crosshair.snap,!0))===!1){this.hideCrosshair()}else{var a,b=this.crosshair,c=b.animation;bc(b.snap,!0)?cg(e)&&(a=this.chart.inverted!=this.horiz?e.plotX:this.len-e.plotY):a=this.horiz?d.chartX-this.pos:this.len-d.chartY+this.pos;a=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:bc(e.stackY,e.y)):this.getPlotLinePath(null,null,null,null,a);if(a===null){this.hideCrosshair()}else{if(this.cross){this.cross.attr({visibility:"visible"})[c?"animate":"attr"]({d:a},c)}else{c={"stroke-width":b.width||1,stroke:b.color||"#C0C0C0",zIndex:b.zIndex||2};if(b.dashStyle){c.dashstyle=b.dashStyle}this.cross=this.chart.renderer.path(a).attr(c).add()}}}}},hideCrosshair:function(){this.cross&&this.cross.hide()}};ch(a0.prototype,{getPlotBandPath:function(c,d){var a=this.getPlotLinePath(d),b=this.getPlotLinePath(c);b&&a?b.push(a[4],a[5],a[1],a[2]):b=null;return b},addPlotBand:function(a){this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(c,d){var a=(new cu(this,c)).render(),b=this.userOptions;a&&(d&&(b[d]=b[d]||[],b[d].push(c)),this.plotLinesAndBands.push(a));return a},removePlotBandOrLine:function(d){for(var e=this.plotLinesAndBands,a=this.options,b=this.userOptions,c=e.length;c--;){e[c].id===d&&e[c].destroy()}cb([a.plotLines||[],b.plotLines||[],a.plotBands||[],b.plotBands||[]],function(f){for(c=f.length;c--;){f[c].id===d&&a4(f,f[c])}})}});a0.prototype.getTimeTicks=function(p,C,a,c){var e=[],f={},g=cS.global.useUTC,h,l=new Date(C-a6),m=p.unitRange,n=p.count;if(cg(C)){m>=cC.second&&(l.setMilliseconds(0),l.setSeconds(m>=cC.minute?0:n*c0(l.getSeconds()/n)));if(m>=cC.minute){l[du](m>=cC.hour?0:n*c0(l[cp]()/n))}if(m>=cC.hour){l[dH](m>=cC.day?0:n*c0(l[W]()/n))}if(m>=cC.day){l[dp](m>=cC.month?1:n*c0(l[ds]()/n))}m>=cC.month&&(l[ct](m>=cC.year?0:n*c0(l[c6]()/n)),h=l[L]());m>=cC.year&&(h-=h%n,l[cL](h));if(m===cC.week){l[dp](l[ds]()-l[K]()+bc(c,1))}C=1;a6&&(l=new Date(l.getTime()+a6));h=l[L]();for(var c=l.getTime(),x=l[c6](),b=l[ds](),d=g?a6:(86400000+l.getTimezoneOffset()*60000)%86400000;c<a;){e.push(c),m===cC.year?c=cO(h+C*n,0):m===cC.month?c=cO(h,x+C*n):!g&&(m===cC.day||m===cC.week)?c=cO(h,x,b+C*n*(m===cC.day?1:7)):c+=m*n,C++}e.push(c);cb(U(e,function(G){return m<=cC.hour&&G%cC.day===d}),function(G){f[G]="day"})}e.info=ch(p,{higherRanks:f,totalRange:m*n});return e};a0.prototype.normalizeTimeTickInterval=function(f,g){var a=g||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],b=a[a.length-1],c=cC[b[0]],d=b[1],e;for(e=0;e<a.length;e++){if(b=a[e],c=cC[b[0]],d=b[1],a[e+1]&&f<=(c*d[d.length-1]+cC[a[e+1][0]])/2){break}}c===cC.year&&f<5*c&&(d=[1,2,5]);a=cH(f/c,d,b[0]==="year"?cf(cq(f/c),1):1);return{unitRange:c,count:a,unitName:b[0]}};a0.prototype.getLogTickPositions=function(a,c,e,f){var g=this.options,h=this.len,l=[];if(!f){this._minorAutoInterval=null}if(a>=0.5){a=ci(a),l=this.getLinearTickPositions(a,c,e)}else{if(a>=0.08){for(var h=c0(c),m,n,p,b,d,g=a>0.3?[1,2,4]:a>0.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];h<e+1&&!d;h++){n=g.length;for(m=0;m<n&&!d;m++){p=cl(dv(h)*g[m]),p>c&&(!f||b<=e)&&l.push(b),b>e&&(d=!0),b=p}}}else{if(c=dv(c),e=dv(e),a=g[f?"minorTickInterval":"tickInterval"],a=bc(a==="auto"?null:a,this._minorAutoInterval,(e-c)*(g.tickPixelInterval/(f?5:1))/((f?h/this.tickPositions.length:h)||1)),a=cH(a,null,cq(a)),l=dG(this.getLinearTickPositions(a,c,e),cl),!f){this._minorAutoInterval=a/5}}}if(!f){this.tickInterval=a}return l};dB.prototype={init:function(d,e){var a=e.borderWidth,b=e.style,c=cE(b.padding);this.chart=d;this.options=e;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=d.renderer.label("",0,0,e.shape,null,null,e.useHTML,null,"tooltip").attr({padding:c,fill:e.backgroundColor,"stroke-width":a,r:e.borderRadius,zIndex:8}).css(b).css({padding:0}).add().attr({y:-999});H||this.label.shadow(e.shadow);this.shared=e.shared},destroy:function(){if(this.label){this.label=this.label.destroy()}clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(f,g,a,b){var c=this,d=c.now,e=c.options.animation!==!1&&!c.isHidden;ch(d,{x:e?(2*d.x+f)/3:f,y:e?(d.y+g)/2:g,anchorX:e?(2*d.anchorX+a)/3:a,anchorY:e?(d.anchorY+b)/2:b});c.label.attr(d);if(e&&(cY(f-d.x)>1||cY(g-d.y)>1)){clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){c&&c.move(f,g,a,b)},32)}},hide:function(){var a=this,b;clearTimeout(this.hideTimer);if(!this.isHidden){b=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){a.label.fadeOut();a.isHidden=!0},bc(this.options.hideDelay,500)),b&&cb(b,function(c){c.setState()}),this.chart.hoverPoints=null}},getAnchor:function(c,d){var e,f=this.chart,g=f.inverted,h=f.plotTop,l=0,a=0,b,c=c4(c);e=c[0].tooltipPos;this.followPointer&&d&&(d.chartX===cd&&(d=f.pointer.normalize(d)),e=[d.chartX-f.plotLeft,d.chartY-h]);e||(cb(c,function(m){b=m.series.yAxis;l+=m.plotX;a+=(m.plotLow?(m.plotLow+m.plotHigh)/2:m.plotY)+(!g&&b?b.top-h:0)}),l/=c.length,a/=c.length,e=[g?f.plotWidth-a:l,this.shared&&!g&&c.length>1&&d?d.chartY-h:g?f.plotHeight-l:a]);return dG(e,ci)},getPosition:function(a,c,e){var f=this.chart,g=f.plotLeft,h=f.plotTop,l=f.plotWidth,m=f.plotHeight,n=bc(this.options.distance,12),p=e.plotX,e=e.plotY,f=p+g+(f.inverted?n:-a-n),b=e-c+h+15,d;f<7&&(f=g+cf(p,0)+n);f+a>g+l&&(f-=f+a-(g+l),b=e-c+h-n,d=!0);b<h+5&&(b=h+5,d&&e>=b&&e<=b+c&&(b=e+h+n));b+c>h+m&&(b=cf(h,h+m-c-n));return{x:f,y:b}},defaultFormatter:function(c){var d=this.points||c4(this),a=d[0].series,b;b=[a.tooltipHeaderFormatter(d[0])];cb(d,function(e){a=e.series;b.push(a.tooltipFormatter&&a.tooltipFormatter(e)||e.point.tooltipFormatter(a.tooltipOptions.pointFormat))});b.push(c.options.footerFormat||"");return b.join("")},refresh:function(a,c){var e=this.chart,f=this.label,g=this.options,h,l,m={},n,p=[];n=g.formatter||this.defaultFormatter;var m=e.hoverPoints,b,d=this.shared;clearTimeout(this.hideTimer);this.followPointer=c4(a)[0].series.tooltipOptions.followPointer;l=this.getAnchor(a,c);h=l[0];l=l[1];d&&(!a.series||!a.series.noSharedTooltip)?(e.hoverPoints=a,m&&cb(m,function(x){x.setState()}),cb(a,function(x){x.setState("hover");p.push(x.getLabelConfig())}),m={x:a[0].category,y:a[0].y},m.points=p,a=a[0]):m=a.getLabelConfig();n=n.call(m,this);m=a.series;n===!1?this.hide():(this.isHidden&&(df(f),f.attr("opacity",1).show()),f.attr({text:n}),b=g.borderColor||a.color||m.color||"#606060",f.attr({stroke:b}),this.updatePosition({plotX:h,plotY:l}),this.isHidden=!1);cX(e,"tooltipRefresh",{text:n,x:h+e.plotLeft,y:l+e.plotTop,borderColor:b})},updatePosition:function(b){var c=this.chart,a=this.label,a=(this.options.positioner||this.getPosition).call(this,a.width,a.height,b);this.move(ci(a.x),ci(a.y),b.plotX+c.plotLeft,b.plotY+c.plotTop)}};var cw=Highcharts.Pointer=function(a,b){this.init(a,b)};cw.prototype={init:function(e,f){var a=f.chart,b=a.events,c=H?"":a.zoomType,a=e.inverted,d;this.options=f;this.chart=e;this.zoomX=d=/x/.test(c);this.zoomY=c=/y/.test(c);this.zoomHor=d&&!a||c&&a;this.zoomVert=c&&!a||d&&a;this.runChartClick=b&&!!b.click;this.pinchDown=[];this.lastValidTouch={};if(f.tooltip.enabled){e.tooltip=new dB(e,f.tooltip)}this.setDOMEvents()},normalize:function(c,d){var a,b,c=c||db.event;if(!c.target){c.target=c.srcElement}c=cP(c);b=c.touches?c.touches.item(0):c;if(!d){this.chartPosition=d=dl(this.chart.container)}b.pageX===cd?(a=cf(c.x,c.clientX-d.left),b=c.y):(a=b.pageX-d.left,b=b.pageY-d.top);return ch(c,{chartX:ci(a),chartY:ci(b)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};cb(this.chart.axes,function(c){b[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(a[c.horiz?"chartX":"chartY"])})});return b},getIndex:function(a){var b=this.chart;return b.inverted?b.plotHeight+b.plotTop-a.chartY:a.chartX-b.plotLeft},runPointActions:function(x){var a=this,c=a.chart,e=c.series,f=c.tooltip,g,h,l=c.hoverPoint,m=c.hoverSeries,n,p,b=c.chartWidth,d=a.getIndex(x);if(f&&a.options.tooltip.shared&&(!m||!m.noSharedTooltip)){h=[];n=e.length;for(p=0;p<n;p++){if(e[p].visible&&e[p].options.enableMouseTracking!==!1&&!e[p].noSharedTooltip&&e[p].tooltipPoints.length&&(g=e[p].tooltipPoints[d])&&g.series){g._dist=cY(d-g.clientX),b=ck(b,g._dist),h.push(g)}}for(n=h.length;n--;){h[n]._dist>b&&h.splice(n,1)}if(h.length&&h[0].clientX!==a.hoverX){f.refresh(h,x),a.hoverX=h[0].clientX}}if(m&&m.tracker){if((g=m.tooltipPoints[d])&&g!==l){g.onMouseOver(x)}}else{f&&f.followPointer&&!f.isHidden&&(e=f.getAnchor([{}],x),f.updatePosition({plotX:e[0],plotY:e[1]}))}if(f&&!a._onDocumentMouseMove){a._onDocumentMouseMove=function(C){a.onDocumentMouseMove(C)},cz(cG,"mousemove",a._onDocumentMouseMove)}cb(c.axes,function(C){C.drawCrosshair(x,bc(g,l))})},reset:function(e){var f=this.chart,a=f.hoverSeries,b=f.hoverPoint,c=f.tooltip,d=c&&c.shared?f.hoverPoints:b;(e=e&&c&&d)&&c4(d)[0].plotX===cd&&(e=!1);if(e){c.refresh(d),b&&b.setState(b.state,!0)}else{if(b){b.onMouseOut()}if(a){a.onMouseOut()}c&&c.hide();if(this._onDocumentMouseMove){a1(cG,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null}cb(f.axes,function(g){g.hideCrosshair()});this.hoverX=null}},scaleGroups:function(c,d){var a=this.chart,b;cb(a.series,function(e){b=c||e.getPlotBox();e.xAxis&&e.xAxis.zoomEnabled&&(e.group.attr(b),e.markerGroup&&(e.markerGroup.attr(b),e.markerGroup.clip(d?a.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(b))});a.clipRect.attr(d||a.clipBox)},pinchTranslate:function(f,g,h,a,b,c,d,e){f&&this.pinchTranslateDirection(!0,h,a,b,c,d,e);g&&this.pinchTranslateDirection(!1,h,a,b,c,d,e)},pinchTranslateDirection:function(h,m,ah,ai,aj,a,b,c){var d=this.chart,e=h?"x":"y",f=h?"X":"Y",g="chart"+f,l=h?"width":"height",x=d["plot"+(h?"Left":"Top")],n,p,C=c||1,ag=d.inverted,J=d.bounds[h?"h":"v"],I=m.length===1,ae=m[0][g],P=ah[0][g],ad=!I&&m[1][g],af=!I&&ah[1][g],G,ah=function(){!I&&cY(ae-ad)>20&&(C=c||cY(P-af)/cY(ae-ad));p=(x-P)/C+ae;n=d["plot"+(h?"Width":"Height")]/C};ah();m=p;m<J.min?(m=J.min,G=!0):m+n>J.max&&(m=J.max-n,G=!0);G?(P-=0.8*(P-b[e][0]),I||(af-=0.8*(af-b[e][1])),ah()):b[e]=[P,af];ag||(a[e]=p-x,a[l]=n);a=ag?1/C:C;aj[l]=n;aj[e]=m;ai[ag?h?"scaleY":"scaleX":"scale"+f]=C;ai["translate"+f]=a*x+(P-a*ae)},pinch:function(m){var x=this,G=x.chart,a=x.pinchDown,c=G.tooltip&&G.tooltip.options.followTouchMove,e=m.touches,f=e.length,g=x.lastValidTouch,h=x.zoomHor||x.pinchHor,l=x.zoomVert||x.pinchVert,n=h||l,p=x.selectionMarker,C={},d=f===1&&(x.inClass(m.target,"highcharts-tracker")&&G.runTrackerClick||G.runChartClick),b={};(n||c)&&!d&&m.preventDefault();dG(e,function(I){return x.normalize(I)});if(m.type==="touchstart"){cb(e,function(I,J){a[J]={chartX:I.chartX,chartY:I.chartY}}),g.x=[a[0].chartX,a[1]&&a[1].chartX],g.y=[a[0].chartY,a[1]&&a[1].chartY],cb(G.axes,function(I){if(I.zoomEnabled){var J=G.bounds[I.horiz?"h":"v"],P=I.minPixelPadding,ad=I.toPixels(I.dataMin),ae=I.toPixels(I.dataMax),af=ck(ad,ae),ad=cf(ad,ae);J.min=ck(I.pos,af-P);J.max=cf(I.pos+I.len,ad+P)}})}else{if(a.length){if(!p){x.selectionMarker=p=ch({destroy:ab},G.plotBox)}x.pinchTranslate(h,l,a,e,C,p,b,g);x.hasPinched=n;x.scaleGroups(C,b);!n&&c&&f===1&&this.runPointActions(x.normalize(m))}}},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type;b.cancelClick=!1;b.mouseDownX=this.mouseDownX=a.chartX;b.mouseDownY=this.mouseDownY=a.chartY},drag:function(p){var C=this.chart,a=C.options.chart,c=p.chartX,e=p.chartY,f=this.zoomHor,g=this.zoomVert,h=C.plotLeft,l=C.plotTop,m=C.plotWidth,n=C.plotHeight,x,b=this.mouseDownX,d=this.mouseDownY;c<h?c=h:c>h+m&&(c=h+m);e<l?e=l:e>l+n&&(e=l+n);this.hasDragged=Math.sqrt(Math.pow(b-c,2)+Math.pow(d-e,2));if(this.hasDragged>10){x=C.isInsidePlot(b-h,d-l);if(C.hasCartesianSeries&&(this.zoomX||this.zoomY)&&x&&!this.selectionMarker){this.selectionMarker=C.renderer.rect(h,l,f?1:m,g?1:n,0).attr({fill:a.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()}this.selectionMarker&&f&&(c-=b,this.selectionMarker.attr({width:cY(c),x:(c>0?0:c)+b}));this.selectionMarker&&g&&(c=e-d,this.selectionMarker.attr({height:cY(c),y:(c>0?0:c)+d}));x&&!this.selectionMarker&&a.panning&&C.pan(p,a.panning)}},drop:function(f){var g=this.chart,h=this.hasPinched;if(this.selectionMarker){var a={xAxis:[],yAxis:[],originalEvent:f.originalEvent||f},b=this.selectionMarker,c=b.x,d=b.y,e;if(this.hasDragged||h){cb(g.axes,function(l){if(l.zoomEnabled){var m=l.horiz,n=l.toValue(m?c:d),m=l.toValue(m?c+b.width:d+b.height);!isNaN(n)&&!isNaN(m)&&(a[l.coll].push({axis:l,min:ck(n,m),max:cf(n,m)}),e=!0)}}),e&&cX(g,"selection",a,function(l){g.zoom(ch(l,h?{animation:!1}:null))})}this.selectionMarker=this.selectionMarker.destroy();h&&this.scaleGroups()}if(g){dO(g.container,{cursor:g._cursor}),g.cancelClick=this.hasDragged>10,g.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[]}},onContainerMouseDown:function(a){a=this.normalize(a);a.preventDefault&&a.preventDefault();this.dragStart(a)},onDocumentMouseUp:function(a){this.drop(a)},onDocumentMouseMove:function(c){var d=this.chart,a=this.chartPosition,b=d.hoverSeries,c=this.normalize(c,a);a&&b&&!this.inClass(c.target,"highcharts-tracker")&&!d.isInsidePlot(c.chartX-d.plotLeft,c.chartY-d.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset();this.chartPosition=null},onContainerMouseMove:function(a){var b=this.chart,a=this.normalize(a);b.mouseIsDown==="mousedown"&&this.drag(a);(this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop))&&!b.openMenu&&this.runPointActions(a)},inClass:function(b,c){for(var a;b;){if(a=cM(b,"class")){if(a.indexOf(c)!==-1){return !0}else{if(a.indexOf("highcharts-container")!==-1){return !1}}}b=b.parentNode}},onTrackerMouseOut:function(b){var c=this.chart.hoverSeries,a=(b=b.relatedTarget||b.toElement)&&b.point&&b.point.series;if(c&&!c.options.stickyTracking&&!this.inClass(b,"highcharts-tooltip")&&a!==c){c.onMouseOut()}},onContainerClick:function(c){var d=this.chart,e=d.hoverPoint,f=d.plotLeft,g=d.plotTop,h=d.inverted,l,a,b,c=this.normalize(c);c.cancelBubble=!0;if(!d.cancelClick){e&&this.inClass(c.target,"highcharts-tracker")?(l=this.chartPosition,a=e.plotX,b=e.plotY,ch(e,{pageX:l.left+f+(h?d.plotWidth-b:a),pageY:l.top+g+(h?d.plotHeight-a:b)}),cX(e.series,"click",ch(c,{point:e})),d.hoverPoint&&e.firePointEvent("click",c)):(ch(c,this.getCoordinates(c)),d.isInsidePlot(c.chartX-f,c.chartY-g)&&cX(d,"click",c))}},onContainerTouchStart:function(a){var b=this.chart;a.touches.length===1?(a=this.normalize(a),b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)?(this.runPointActions(a),this.pinch(a)):this.reset()):a.touches.length===2&&this.pinch(a)},onContainerTouchMove:function(a){(a.touches.length===1||a.touches.length===2)&&this.pinch(a)},onDocumentTouchEnd:function(a){this.drop(a)},setDOMEvents:function(){var b=this,c=b.chart.container,a;this._events=a=[[c,"onmousedown","onContainerMouseDown"],[c,"onmousemove","onContainerMouseMove"],[c,"onclick","onContainerClick"],[c,"mouseleave","onContainerMouseLeave"],[cG,"mouseup","onDocumentMouseUp"]];t&&a.push([c,"ontouchstart","onContainerTouchStart"],[c,"ontouchmove","onContainerTouchMove"],[cG,"touchend","onDocumentTouchEnd"]);cb(a,function(d){b["_"+d[2]]=function(e){b[d[2]](e)};d[1].indexOf("on")===0?d[0][d[1]]=b["_"+d[2]]:cz(d[0],d[1],b["_"+d[2]])})},destroy:function(){var a=this;cb(a._events,function(b){b[1].indexOf("on")===0?b[0][b[1]]=null:a1(b[0],b[1],a["_"+b[2]])});delete a._events;clearInterval(a.tooltipTimeout)}};var dw=Highcharts.TrackerMixin={drawTrackerPoint:function(){var e=this,f=e.chart,a=f.pointer,b=e.options.cursor,c=b&&{cursor:b},d=function(h){var l=h.target,g;if(f.hoverSeries!==e){e.onMouseOver()}for(;l&&!g;){g=l.point,l=l.parentNode}if(g!==cd&&g!==f.hoverPoint){g.onMouseOver(h)}};cb(e.points,function(g){if(g.graphic){g.graphic.element.point=g}if(g.dataLabel){g.dataLabel.element.point=g}});if(!e._hasTracking){cb(e.trackerGroups,function(g){if(e[g]&&(e[g].addClass("highcharts-tracker").on("mouseover",d).on("mouseout",function(h){a.onTrackerMouseOut(h)}).css(c),t)){e[g].on("touchstart",d)}}),e._hasTracking=!0}},drawTrackerGraph:function(){var p=this,C=p.options,a=C.trackByArea,c=[].concat(a?p.areaPath:p.graphPath),e=c.length,f=p.chart,g=f.pointer,h=f.renderer,l=f.options.tooltip.snap,m=p.tracker,n=C.cursor,x=n&&{cursor:n},n=p.singlePoints,b,d=function(){if(f.hoverSeries!==p){p.onMouseOver()}};if(e&&!a){for(b=e+1;b--;){c[b]==="M"&&c.splice(b+1,0,c[b+1]-l,c[b+2],"L"),(b&&c[b]==="M"||b===e)&&c.splice(b,0,"L",c[b-2]+l,c[b-1])}}for(b=0;b<n.length;b++){e=n[b],c.push("M",e.plotX-l,e.plotY,"L",e.plotX+l,e.plotY)}m?m.attr({d:c}):(p.tracker=h.path(c).attr({"stroke-linejoin":"round",visibility:p.visible?"visible":"hidden",stroke:O,fill:a?O:cJ,"stroke-width":C.lineWidth+(a?0:2*l),zIndex:2}).add(p.group),cb([p.tracker,p.markerGroup],function(G){G.addClass("highcharts-tracker").on("mouseover",d).on("mouseout",function(I){g.onTrackerMouseOut(I)}).css(x);if(t){G.on("touchstart",d)}}))}};if(db.PointerEvent||db.MSPointerEvent){var dN={};cw.prototype.getWebkitTouches=function(){var a,b=[];b.item=function(c){return this[c]};for(a in dN){dN.hasOwnProperty(a)&&b.push({pageX:dN[a].pageX,pageY:dN[a].pageY,target:dN[a].target})}return b};da(cw.prototype,"init",function(b,c,a){c.container.style["-ms-touch-action"]=c.container.style["touch-action"]="none";b.call(this,c,a)});da(cw.prototype,"setDOMEvents",function(a){var b=this;a.apply(this,Array.prototype.slice.call(arguments,1));cb([[this.chart.container,"PointerDown","touchstart","onContainerTouchStart",function(c){dN[c.pointerId]={pageX:c.pageX,pageY:c.pageY,target:c.currentTarget}}],[this.chart.container,"PointerMove","touchmove","onContainerTouchMove",function(c){dN[c.pointerId]={pageX:c.pageX,pageY:c.pageY};if(!dN[c.pointerId].target){dN[c.pointerId].target=c.currentTarget}}],[document,"PointerUp","touchend","onDocumentTouchEnd",function(c){delete dN[c.pointerId]}]],function(c){cz(c[0],window.PointerEvent?c[1].toLowerCase():"MS"+c[1],function(d){d=d.originalEvent;if(d.pointerType==="touch"||d.pointerType===d.MSPOINTER_TYPE_TOUCH){c[4](d),b[c[3]]({type:c[2],target:d.currentTarget,preventDefault:ab,touches:b.getWebkitTouches()})}})})})}var a7=Highcharts.Legend=function(a,b){this.init(a,b)};a7.prototype={init:function(e,f){var a=this,b=f.itemStyle,c=bc(f.padding,8),d=f.itemMarginTop||0;this.options=f;if(f.enabled){a.baseline=cE(b.fontSize)+3+d,a.itemStyle=b,a.itemHiddenStyle=cj(b,f.itemHiddenStyle),a.itemMarginTop=d,a.padding=c,a.initialItemX=c,a.initialItemY=c-5,a.maxItemWidth=0,a.chart=e,a.itemHeight=0,a.lastLineHeight=0,a.symbolWidth=bc(f.symbolWidth,16),a.pages=[],a.render(),cz(a.chart,"endResize",function(){a.positionCheckboxes()})}},colorizeItem:function(c,d){var e=this.options,f=c.legendItem,g=c.legendLine,h=c.legendSymbol,l=this.itemHiddenStyle.color,e=d?e.itemStyle.color:l,m=d?c.legendColor||c.color:l,l=c.options&&c.options.marker,a={stroke:m,fill:m},b;f&&f.css({fill:e,color:e});g&&g.attr({stroke:m});if(h){if(l&&h.isMarker){for(b in l=c.convertAttribs(l),l){f=l[b],f!==cd&&(a[b]=f)}}h.attr(a)}},positionItem:function(e){var f=this.options,a=f.symbolPadding,f=!f.rtl,b=e._legendItemPos,c=b[0],b=b[1],d=e.checkbox;e.legendGroup&&e.legendGroup.translate(f?c:this.legendWidth-c-2*a-4,b);if(d){d.x=c,d.y=b}},destroyItem:function(a){var b=a.checkbox;cb(["legendItem","legendLine","legendSymbol","legendGroup"],function(c){a[c]&&(a[c]=a[c].destroy())});b&&Z(a.checkbox)},destroy:function(){var a=this.group,b=this.box;if(b){this.box=b.destroy()}if(a){this.group=a.destroy()}},positionCheckboxes:function(c){var d=this.group.alignAttr,a,b=this.clipHeight||this.legendHeight;if(d){a=d.translateY,cb(this.allItems,function(e){var f=e.checkbox,g;f&&(g=a+f.y+(c||0)+3,dO(f,{left:d.translateX+e.legendItemWidth+f.x-20+"px",top:g+"px",display:g>a-6&&g<a+b-6?"":cJ}))})}},renderTitle:function(){var b=this.padding,c=this.options.title,a=0;if(c.text){if(!this.title){this.title=this.chart.renderer.label(c.text,b-3,b-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(c.style).add(this.group)}b=this.title.getBBox();a=b.height;this.offsetWidth=b.width;this.contentGroup.attr({translateY:a})}this.titleHeight=a},renderItem:function(a){var n;var b=this,c=b.chart,d=c.renderer,e=b.options,f=e.layout==="horizontal",g=b.symbolWidth,h=e.symbolPadding,l=b.itemStyle,m=b.itemHiddenStyle,C=b.padding,I=f?bc(e.itemDistance,8):0,J=!e.rtl,ae=e.width,ad=e.itemMarginBottom||0,af=b.itemMarginTop,ag=b.initialItemX,P=a.legendItem,p=a.series&&a.series.drawLegendSymbol?a.series:a,x=p.options,x=x&&x.showCheckbox,G=e.useHTML;if(!P&&(a.legendGroup=d.g("legend-item").attr({zIndex:1}).add(b.scrollGroup),p.drawLegendSymbol(b,a),a.legendItem=P=d.text(e.labelFormat?S(e.labelFormat,a):e.labelFormatter.call(a),J?g+h:-h,b.baseline,G).css(cj(a.visible?l:m)).attr({align:J?"left":"right",zIndex:2}).add(a.legendGroup),(G?P:a.legendGroup).on("mouseover",function(){a.setState("hover");P.css(b.options.itemHoverStyle)}).on("mouseout",function(){P.css(a.visible?l:m);a.setState()}).on("click",function(ai){var ah=function(){a.setVisible()},ai={browserEvent:ai};a.firePointEvent?a.firePointEvent("legendItemClick",ai,ah):cX(a,"legendItemClick",ai,ah)}),b.colorizeItem(a,a.visible),x)){a.checkbox=a3("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},e.itemCheckboxStyle,c.container),cz(a.checkbox,"click",function(ah){cX(a,"checkboxClick",{checked:ah.target.checked},function(){a.select()})})}d=P.getBBox();n=a.legendItemWidth=e.itemWidth||a.legendItemWidth||g+h+d.width+I+(x?20:0),e=n;b.itemHeight=g=ci(a.legendItemHeight||d.height);if(f&&b.itemX-ag+e>(ae||c.chartWidth-2*C-ag)){b.itemX=ag,b.itemY+=af+b.lastLineHeight+ad,b.lastLineHeight=0}b.maxItemWidth=cf(b.maxItemWidth,e);b.lastItemY=af+b.itemY+ad;b.lastLineHeight=cf(g,b.lastLineHeight);a._legendItemPos=[b.itemX,b.itemY];f?b.itemX+=e:(b.itemY+=af+g+ad,b.lastLineHeight=g);b.offsetWidth=ae||cf((f?b.itemX-ag-I:e)+C,b.offsetWidth)},getAllItems:function(){var a=[];cb(this.chart.series,function(c){var b=c.options;if(bc(b.showInLegend,!cg(b.linkedTo)?cd:!1,!0)){a=a.concat(c.legendItems||(b.legendType==="point"?c.data:c))}});return a},render:function(){var x=this,a=x.chart,c=a.renderer,e=x.group,f,g,h,l,m=x.box,n=x.options,p=x.padding,b=n.borderWidth,d=n.backgroundColor;x.itemX=x.initialItemX;x.itemY=x.initialItemY;x.offsetWidth=0;x.lastItemY=0;if(!e){x.group=e=c.g("legend").attr({zIndex:7}).add(),x.contentGroup=c.g().attr({zIndex:1}).add(e),x.scrollGroup=c.g().add(x.contentGroup)}x.renderTitle();f=x.getAllItems();cZ(f,function(C,G){return(C.options&&C.options.legendIndex||0)-(G.options&&G.options.legendIndex||0)});n.reversed&&f.reverse();x.allItems=f;x.display=g=!!f.length;cb(f,function(C){x.renderItem(C)});h=n.width||x.offsetWidth;l=x.lastItemY+x.lastLineHeight+x.titleHeight;l=x.handleOverflow(l);if(b||d){h+=p;l+=p;if(m){if(h>0&&l>0){m[m.isNew?"attr":"animate"](m.crisp(null,null,null,h,l)),m.isNew=!1}}else{x.box=m=c.rect(0,0,h,l,n.borderRadius,b||0).attr({stroke:n.borderColor,"stroke-width":b||0,fill:d||cJ}).add(e).shadow(n.shadow),m.isNew=!0}m[g?"show":"hide"]()}x.legendWidth=h;x.legendHeight=l;cb(f,function(C){x.positionItem(C)});g&&e.align(ch({width:h,height:l},n),!0,"spacingBox");a.isResizing||this.positionCheckboxes()},handleOverflow:function(h){var n=this,C=this.chart,I=C.renderer,a=this.options,c=a.y,c=C.spacingBox.height+(a.verticalAlign==="top"?-c:c)-this.padding,e=a.maxHeight,f,g=this.clipRect,m=a.navigation,p=bc(m.animation,!0),x=m.arrowSize||12,G=this.nav,d=this.pages,b,l=this.allItems;a.layout==="horizontal"&&(c/=2);e&&(c=ck(c,e));d.length=0;if(h>c&&!a.useHTML){this.clipHeight=f=c-20-this.titleHeight-this.padding;this.currentPage=bc(this.currentPage,1);this.fullHeight=h;cb(l,function(af,J){var P=af._legendItemPos[1],ad=ci(af.legendItem.bBox.height),ae=d.length;if(!ae||P-d[ae-1]>f){d.push(b||P)}J===l.length-1&&P+ad-d[ae-1]>f&&d.push(P);P!==b&&(b=P)});if(!g){g=n.clipRect=I.clipRect(0,this.padding,9999,0),n.contentGroup.clip(g)}g.attr({height:f});if(!G){this.nav=G=I.g().attr({zIndex:1}).add(this.group),this.up=I.symbol("triangle",0,0,x,x).on("click",function(){n.scroll(-1,p)}).add(G),this.pager=I.text("",15,10).css(m.style).add(G),this.down=I.symbol("triangle-down",0,0,x,x).on("click",function(){n.scroll(1,p)}).add(G)}n.scroll(0);h=c}else{if(G){g.attr({height:C.chartHeight}),G.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0}}return h},scroll:function(c,d){var e=this.pages,f=e.length,g=this.currentPage+c,h=this.clipHeight,l=this.options.navigation,m=l.activeColor,l=l.inactiveColor,a=this.pager,b=this.padding;g>f&&(g=f);if(g>0){d!==cd&&v(d,this.chart),this.nav.attr({translateX:b,translateY:h+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:g===1?l:m}).css({cursor:g===1?"default":"pointer"}),a.attr({text:g+"/"+f}),this.down.attr({x:18+this.pager.getBBox().width,fill:g===f?l:m}).css({cursor:g===f?"default":"pointer"}),e=-e[g-1]+this.initialItemY,this.scrollGroup.animate({translateY:e}),this.currentPage=g,this.positionCheckboxes(e)}}};cQ=Highcharts.LegendSymbolMixin={drawRectangle:function(b,c){var a=b.options.symbolHeight||12;c.legendSymbol=this.chart.renderer.rect(0,b.baseline-5-a/2,b.symbolWidth,a,bc(b.options.symbolRadius,2)).attr({zIndex:3}).add(c.legendGroup)},drawLineMarker:function(f){var g=this.options,a=g.marker,b;b=f.symbolWidth;var c=this.chart.renderer,d=this.legendGroup,f=f.baseline-ci(c.fontMetrics(f.options.itemStyle.fontSize).b*0.3),e;if(g.lineWidth){e={"stroke-width":g.lineWidth};if(g.dashStyle){e.dashstyle=g.dashStyle}this.legendLine=c.path(["M",0,f,"L",b,f]).attr(e).add(d)}if(a&&a.enabled){g=a.radius,this.legendSymbol=b=c.symbol(this.symbol,b/2-g,f-g,2*g,2*g).add(d),b.isMarker=!0}}};/Trident\/7\.0/.test(dm)&&da(a7.prototype,"positionItem",function(c,d){var a=this,b=function(){d._legendItemPos&&c.call(a,d)};a.chart.renderer.forExport?b():setTimeout(b)});F.prototype={init:function(f,g){var a,b=f.series;f.series=null;a=cj(cS,f);a.series=f.series=b;this.userOptions=f;b=a.chart;this.margin=this.splashArray("margin",b);this.spacing=this.splashArray("spacing",b);var c=b.events;this.bounds={h:{},v:{}};this.callback=g;this.isResizing=0;this.options=a;this.axes=[];this.series=[];this.hasCartesianSeries=b.showAxes;var d=this,e;d.index=ca.length;ca.push(d);b.reflow!==!1&&cz(d,"load",function(){d.initReflow()});if(c){for(e in c){cz(d,e,c[e])}}d.xAxis=[];d.yAxis=[];d.animation=H?!1:bc(b.animation,!0);d.pointCount=0;d.counters=new q;d.firstRender()},initSeries:function(a){var b=this.options.chart;(b=cD[a.type||b.type||b.defaultSeriesType])||cm(17,!0);b=new b;b.init(this,a);return b},isInsidePlot:function(c,d,a){var b=a?d:c,c=a?c:d;return b>=0&&b<=this.plotWidth&&c>=0&&c<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&cb(this.axes,function(a){a.adjustTickAmount()});this.maxTicks=null},redraw:function(p){var C=this.axes,a=this.series,c=this.pointer,e=this.legend,f=this.isDirtyLegend,g,h,l=this.isDirtyBox,m=a.length,n=m,x=this.renderer,b=x.isHidden(),d=[];v(p,this);b&&this.cloneRenderTo();for(this.layOutTitles();n--;){if(p=a[n],p.options.stacking&&(g=!0,p.isDirty)){h=!0;break}}if(h){for(n=m;n--;){if(p=a[n],p.options.stacking){p.isDirty=!0}}}cb(a,function(G){G.isDirty&&G.options.legendType==="point"&&(f=!0)});if(f&&e.options.enabled){e.render(),this.isDirtyLegend=!1}g&&this.getStacks();if(this.hasCartesianSeries){if(!this.isResizing){this.maxTicks=null,cb(C,function(G){G.setScale()})}this.adjustTickAmounts();this.getMargins();cb(C,function(G){G.isDirty&&(l=!0)});cb(C,function(G){if(G.isDirtyExtremes){G.isDirtyExtremes=!1,d.push(function(){cX(G,"afterSetExtremes",ch(G.eventArgs,G.getExtremes()));delete G.eventArgs})}(l||g)&&G.redraw()})}l&&this.drawChartBox();cb(a,function(G){G.isDirty&&G.visible&&(!G.isCartesian||G.xAxis)&&G.redraw()});c&&c.reset&&c.reset(!0);x.draw();cX(this,"redraw");b&&this.cloneRenderTo(!0);cb(d,function(G){G.call()})},get:function(d){var e=this.axes,a=this.series,b,c;for(b=0;b<e.length;b++){if(e[b].options.id===d){return e[b]}}for(b=0;b<a.length;b++){if(a[b].options.id===d){return a[b]}}for(b=0;b<a.length;b++){c=a[b].points||[];for(e=0;e<c.length;e++){if(c[e].id===d){return c[e]}}}return null},getAxes:function(){var b=this,c=this.options,a=c.xAxis=c4(c.xAxis||{}),c=c.yAxis=c4(c.yAxis||{});cb(a,function(d,e){d.index=e;d.isX=!0});cb(c,function(d,e){d.index=e});a=a.concat(c);cb(a,function(d){new a0(b,d)});b.adjustTickAmounts()},getSelectedPoints:function(){var a=[];cb(this.series,function(b){a=a.concat(U(b.points||[],function(c){return c.selected}))});return a},getSelectedSeries:function(){return U(this.series,function(a){return a.selected})},getStacks:function(){var a=this;cb(a.yAxis,function(b){if(b.stacks&&b.hasVisibleSeries){b.oldStacks=b.stacks}});cb(a.series,function(b){if(b.options.stacking&&(b.visible===!0||a.options.chart.ignoreHiddenSeries===!1)){b.stackKey=b.type+bc(b.options.stack,"")}})},showResetZoom:function(){var e=this,f=cS.lang,a=e.options.chart.resetZoomButton,b=a.theme,c=b.states,d=a.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(f.resetZoom,null,null,function(){e.zoomOut()},b,c&&c.hover).attr({align:a.position.align,title:f.resetZoomTitle}).add().align(a.position,!1,d)},zoomOut:function(){var a=this;cX(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(d){var e,a=this.pointer,b=!1,c;!d||d.resetSelection?cb(this.axes,function(f){e=f.zoom()}):cb(d.xAxis.concat(d.yAxis),function(g){var h=g.axis,f=h.isXAxis;if(a[f?"zoomX":"zoomY"]||a[f?"pinchX":"pinchY"]){e=h.zoom(g.min,g.max),h.displayBtn&&(b=!0)}});c=this.resetZoomButton;if(b&&!c){this.showResetZoom()}else{if(!b&&dg(c)){this.resetZoomButton=c.destroy()}}e&&this.redraw(bc(this.options.chart.animation,d&&d.animation,this.pointCount<100))},pan:function(d,e){var a=this,b=a.hoverPoints,c;b&&cb(b,function(f){f.setState()});cb(e==="xy"?[1,0]:[1],function(h){var l=d[h?"chartX":"chartY"],p=a[h?"xAxis":"yAxis"][0],f=a[h?"mouseDownX":"mouseDownY"],m=(p.pointRange||0)/2,n=p.getExtremes(),g=p.toValue(f-l,!0)+m,f=p.toValue(f+a[h?"plotWidth":"plotHeight"]-l,!0)-m;p.series.length&&g>ck(n.dataMin,n.min)&&f<cf(n.dataMax,n.max)&&(p.setExtremes(g,f,!1,!1,{trigger:"pan"}),c=!0);a[h?"mouseDownX":"mouseDownY"]=l});c&&a.redraw(!1);dO(a.container,{cursor:"move"})},setTitle:function(e,f){var d;var a=this,b=a.options,c;c=b.title=cj(b.title,e);d=b.subtitle=cj(b.subtitle,f),b=d;cb([["title",e,c],["subtitle",f,b]],function(m){var h=m[0],g=a[h],l=m[1],m=m[2];g&&l&&(a[h]=g=g.destroy());m&&m.text&&!g&&(a[h]=a.renderer.text(m.text,0,0,m.useHTML).attr({align:m.align,"class":"highcharts-"+h,zIndex:m.zIndex||4}).css(m.style).add())});a.layOutTitles()},layOutTitles:function(){var e=0,f=this.title,a=this.subtitle,b=this.options,c=b.title,b=b.subtitle,d=this.spacingBox.width-44;if(f&&(f.css({width:(c.width||d)+"px"}).align(ch({y:15},c),!1,"spacingBox"),!c.floating&&!c.verticalAlign)){e=f.getBBox().height,e>=18&&e<=25&&(e=15)}a&&(a.css({width:(b.width||d)+"px"}).align(ch({y:e+c.margin},b),!1,"spacingBox"),!b.floating&&!b.verticalAlign&&(e=c2(e+a.getBBox().height)));this.titleOffset=e},getChartSize:function(){var a=this.options.chart,b=this.renderToClone||this.renderTo;this.containerWidth=dy(b,"width");this.containerHeight=dy(b,"height");this.chartWidth=cf(0,a.width||this.containerWidth||600);this.chartHeight=cf(0,bc(a.height,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(b){var c=this.renderToClone,a=this.container;b?c&&(this.renderTo.appendChild(a),Z(c),delete this.renderToClone):(a&&a.parentNode===this.renderTo&&this.renderTo.removeChild(a),this.renderToClone=c=this.renderTo.cloneNode(0),dO(c,{position:"absolute",top:"-9999px",display:"block"}),cG.body.appendChild(c),a&&c.appendChild(a))},getContainer:function(){var d,e=this.options.chart,a,b,c;this.renderTo=d=e.renderTo;c="highcharts-"+cU++;if(Q(d)){this.renderTo=d=cG.getElementById(d)}d||cm(13,!0);a=cE(cM(d,"data-highcharts-chart"));!isNaN(a)&&ca[a]&&ca[a].destroy();cM(d,"data-highcharts-chart",this.index);d.innerHTML="";d.offsetWidth||this.cloneRenderTo();this.getChartSize();a=this.chartWidth;b=this.chartHeight;this.container=d=a3(M,{className:"highcharts-container"+(e.className?" "+e.className:""),id:c},ch({position:"relative",overflow:"hidden",width:a+"px",height:b+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},e.style),this.renderToClone||d);this._cursor=d.style.cursor;this.renderer=e.forExport?new dE(d,a,b,!0):new dC(d,a,b);H&&this.renderer.create(this,d,a,b)},getMargins:function(){var b=this.spacing,d,e=this.legend,f=this.margin,g=this.options.legend,h=bc(g.margin,10),l=g.x,m=g.y,n=g.align,a=g.verticalAlign,c=this.titleOffset;this.resetMargins();d=this.axisOffset;if(c&&!cg(f[0])){this.plotTop=cf(this.plotTop,c+this.options.title.margin+b[0])}if(e.display&&!g.floating){if(n==="right"){if(!cg(f[1])){this.marginRight=cf(this.marginRight,e.legendWidth-l+h+b[1])}}else{if(n==="left"){if(!cg(f[3])){this.plotLeft=cf(this.plotLeft,e.legendWidth+l+h+b[3])}}else{if(a==="top"){if(!cg(f[0])){this.plotTop=cf(this.plotTop,e.legendHeight+m+h+b[0])}}else{if(a==="bottom"&&!cg(f[2])){this.marginBottom=cf(this.marginBottom,e.legendHeight-m+h+b[2])}}}}}this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&cb(this.axes,function(p){p.getOffset()});cg(f[3])||(this.plotLeft+=d[3]);cg(f[0])||(this.plotTop+=d[0]);cg(f[2])||(this.marginBottom+=d[2]);cg(f[1])||(this.marginRight+=d[1]);this.setChartSize()},reflow:function(e){var f=this,a=f.options.chart,b=f.renderTo,c=a.width||dy(b,"width"),d=a.height||dy(b,"height"),a=e?e.target:db,b=function(){if(f.container){f.setSize(c,d,!1),f.hasUserSize=null}};if(!f.hasUserSize&&c&&d&&(a===db||a===cG)){if(c!==f.containerWidth||d!==f.containerHeight){clearTimeout(f.reflowTimeout),e?f.reflowTimeout=setTimeout(b,100):b()}f.containerWidth=c;f.containerHeight=d}},initReflow:function(){var a=this,b=function(c){a.reflow(c)};cz(db,"resize",b);cz(a,"destroy",function(){a1(db,"resize",b)})},setSize:function(f,g,a){var b=this,c,d,e;b.isResizing+=1;e=function(){b&&cX(b,"endResize",null,function(){b.isResizing-=1})};v(a,b);b.oldChartHeight=b.chartHeight;b.oldChartWidth=b.chartWidth;if(cg(f)){b.chartWidth=c=cf(0,ci(f)),b.hasUserSize=!!c}if(cg(g)){b.chartHeight=d=cf(0,ci(g))}(co?a5:dO)(b.container,{width:c+"px",height:d+"px"},co);b.setChartSize(!0);b.renderer.setSize(c,d,a);b.maxTicks=null;cb(b.axes,function(h){h.isDirty=!0;h.setScale()});cb(b.series,function(h){h.isDirty=!0});b.isDirtyLegend=!0;b.isDirtyBox=!0;b.getMargins();b.redraw(a);b.oldChartHeight=null;cX(b,"resize");co===!1?e():setTimeout(e,co&&co.duration||500)},setChartSize:function(a){var c=this.inverted,e=this.renderer,f=this.chartWidth,g=this.chartHeight,h=this.options.chart,l=this.spacing,m=this.clipOffset,n,p,b,d;this.plotLeft=n=ci(this.plotLeft);this.plotTop=p=ci(this.plotTop);this.plotWidth=b=cf(0,ci(f-n-this.marginRight));this.plotHeight=d=cf(0,ci(g-p-this.marginBottom));this.plotSizeX=c?d:b;this.plotSizeY=c?b:d;this.plotBorderWidth=h.plotBorderWidth||0;this.spacingBox=e.spacingBox={x:l[3],y:l[0],width:f-l[3]-l[1],height:g-l[0]-l[2]};this.plotBox=e.plotBox={x:n,y:p,width:b,height:d};f=2*c0(this.plotBorderWidth/2);c=c2(cf(f,m[3])/2);e=c2(cf(f,m[0])/2);this.clipBox={x:c,y:e,width:c0(this.plotSizeX-cf(f,m[1])/2-c),height:c0(this.plotSizeY-cf(f,m[2])/2-e)};a||cb(this.axes,function(x){x.setAxisSize();x.setAxisTranslation()})},resetMargins:function(){var a=this.spacing,b=this.margin;this.plotTop=bc(b[0],a[0]);this.marginRight=bc(b[1],a[1]);this.marginBottom=bc(b[2],a[2]);this.plotLeft=bc(b[3],a[3]);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0]},drawChartBox:function(){var a=this.options.chart,b=this.renderer,c=this.chartWidth,d=this.chartHeight,e=this.chartBackground,f=this.plotBackground,g=this.plotBorder,h=this.plotBGImage,l=a.borderWidth||0,m=a.backgroundColor,C=a.plotBackgroundColor,I=a.plotBackgroundImage,P=a.plotBorderWidth||0,af,ad=this.plotLeft,ae=this.plotTop,n=this.plotWidth,J=this.plotHeight,x=this.plotBox,p=this.clipRect,G=this.clipBox;af=l+(a.shadow?8:0);if(l||m){if(e){e.animate(e.crisp(null,null,null,c-af,d-af))}else{e={fill:m||cJ};if(l){e.stroke=a.borderColor,e["stroke-width"]=l}this.chartBackground=b.rect(af/2,af/2,c-af,d-af,a.borderRadius,l).attr(e).add().shadow(a.shadow)}}if(C){f?f.animate(x):this.plotBackground=b.rect(ad,ae,n,J,0).attr({fill:C}).add().shadow(a.plotShadow)}if(I){h?h.animate(x):this.plotBGImage=b.image(I,ad,ae,n,J).add()}p?p.animate({width:G.width,height:G.height}):this.clipRect=b.clipRect(G);if(P){g?g.animate(g.crisp(null,ad,ae,n,J)):this.plotBorder=b.rect(ad,ae,n,J,0,-P).attr({stroke:a.plotBorderColor,"stroke-width":P,zIndex:1}).add()}this.isDirtyBox=!1},propFromSeries:function(){var e=this,f=e.options.chart,a,b=e.options.series,c,d;cb(["inverted","angular","polar"],function(g){a=cD[f.type||f.defaultSeriesType];d=e[g]||f[g]||a&&a.prototype[g];for(c=b&&b.length;!d&&c--;){(a=cD[b[c].type])&&a.prototype[g]&&(d=!0)}e[g]=d})},linkSeries:function(){var a=this,b=a.series;cb(b,function(c){c.linkedSeries.length=0});cb(b,function(d){var c=d.options.linkedTo;if(Q(c)&&(c=c===":previous"?a.series[d.index-1]:a.get(c))){c.linkedSeries.push(d),d.linkedParent=c}})},render:function(){var f=this,g=f.axes,a=f.renderer,b=f.options,c=b.labels,d=b.credits,e;f.setTitle();f.legend=new a7(f,b.legend);f.getStacks();cb(g,function(h){h.setScale()});f.getMargins();f.maxTicks=null;cb(g,function(h){h.setTickPositions(!0);h.setMaxTicks()});f.adjustTickAmounts();f.getMargins();f.drawChartBox();f.hasCartesianSeries&&cb(g,function(h){h.render()});if(!f.seriesGroup){f.seriesGroup=a.g("series-group").attr({zIndex:3}).add()}cb(f.series,function(h){h.translate();h.setTooltipPoints();h.render()});c.items&&cb(c.items,function(n){var m=ch(c.style,n.style),h=cE(m.left)+f.plotLeft,l=cE(m.top)+f.plotTop+12;delete m.left;delete m.top;a.text(n.html,h,l).attr({zIndex:2}).css(m).add()});if(d.enabled&&!f.credits){e=d.href,f.credits=a.text(d.text,0,0).on("click",function(){if(e){location.href=e}}).attr({align:d.position.align,zIndex:8}).css(d.style).add().align(d.position)}f.hasRendered=!0},destroy:function(){var e=this,f=e.axes,a=e.series,b=e.container,c,d=b&&b.parentNode;cX(e,"destroy");ca[e.index]=cd;e.renderTo.removeAttribute("data-highcharts-chart");a1(e);for(c=f.length;c--;){f[c]=f[c].destroy()}for(c=a.length;c--;){a[c]=a[c].destroy()}cb("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(g){var h=e[g];h&&h.destroy&&(e[g]=h.destroy())});if(b){b.innerHTML="",a1(b),d&&Z(b)}for(c in e){delete e[c]}},isReadyToRender:function(){var a=this;return !s&&db==db.top&&cG.readyState!=="complete"||H&&!db.canvg?(H?c7.push(function(){a.firstRender()},a.options.global.canvasToolsURL):cG.attachEvent("onreadystatechange",function(){cG.detachEvent("onreadystatechange",a.firstRender);cG.readyState==="complete"&&a.firstRender()}),!1):!0},firstRender:function(){var b=this,c=b.options,a=b.callback;if(b.isReadyToRender()){b.getContainer(),cX(b,"init"),b.resetMargins(),b.setChartSize(),b.propFromSeries(),b.getAxes(),cb(c.series||[],function(d){b.initSeries(d)}),b.linkSeries(),cX(b,"beforeRender"),b.pointer=new cw(b,c),b.render(),b.renderer.draw(),a&&a.apply(b,[b]),cb(b.callbacks,function(d){d.apply(b,[b])}),b.cloneRenderTo(!0),cX(b,"load")}},splashArray:function(b,c){var a=c[b],a=dg(a)?a:[a,a,a,a];return[bc(c[b+"Top"],a[0]),bc(c[b+"Right"],a[1]),bc(c[b+"Bottom"],a[2]),bc(c[b+"Left"],a[3])]}};F.prototype.callbacks=[];y=Highcharts.CenteredSeriesMixin={getCenter:function(){var f=this.options,g=this.chart,h=2*(f.slicedOffset||0),a,b=g.plotWidth-2*h,c=g.plotHeight-2*h,g=f.center,f=[bc(g[0],"50%"),bc(g[1],"50%"),f.size||"100%",f.innerSize||0],d=ck(b,c),e;return dG(f,function(l,m){e=/%$/.test(l);a=m<2||m===2&&e;return(e?[b,c,d,d][m]*cE(l)/100:l)+(a?h:0)})}};var cT=function(){};cT.prototype={init:function(b,c,a){this.series=b;this.applyOptions(c,a);this.pointAttr={};if(b.options.colorByPoint&&(c=b.options.colors||b.chart.options.colors,this.color=this.color||c[b.colorCounter++],b.colorCounter===c.length)){b.colorCounter=0}b.chart.pointCount++;return this},applyOptions:function(c,d){var a=this.series,b=a.pointValKey,c=cT.prototype.optionsToObject.call(this,c);ch(this,c);this.options=this.options?ch(this.options,c):c;if(b){this.y=this[b]}if(this.x===cd&&a){this.x=d===cd?a.autoIncrement():d}return this},optionsToObject:function(f){var g={},a=this.series,b=a.pointArrayMap||["y"],c=b.length,d=0,e=0;if(typeof f==="number"||f===null){g[b[0]]=f}else{if(cI(f)){if(f.length>c){a=typeof f[0];if(a==="string"){g.name=f[0]}else{if(a==="number"){g.x=f[0]}}d++}for(;e<c;){g[b[e++]]=f[d++]}}else{if(typeof f==="object"){g=f;if(f.dataLabels){a._hasPointLabels=!0}if(f.marker){a._hasPointMarkers=!0}}}}return g},destroy:function(){var b=this.series.chart,c=b.hoverPoints,a;b.pointCount--;if(c&&(this.setState(),a4(c,this),!c.length)){b.hoverPoints=null}if(this===b.hoverPoint){this.onMouseOut()}if(this.graphic||this.dataLabel){a1(this),this.destroyElements()}this.legendItem&&b.legend.destroyItem(this);for(a in this){this[a]=null}},destroyElements:function(){for(var b="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),c,a=6;a--;){c=b[a],this[c]&&(this[c]=this[c].destroy())}},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(d,e){var a=this,b=a.series,c=b.chart,d=bc(d,!a.selected);a.firePointEvent(d?"select":"unselect",{accumulate:e},function(){a.selected=a.options.selected=d;b.options.data[dA(a,b.data)]=a.options;a.setState(d&&"select");e||cb(c.getSelectedPoints(),function(f){if(f.selected&&f!==a){f.selected=f.options.selected=!1,b.options.data[dA(f,b.data)]=f.options,f.setState(""),f.firePointEvent("unselect")}})})},onMouseOver:function(d){var e=this.series,a=e.chart,b=a.tooltip,c=a.hoverPoint;if(c&&c!==this){c.onMouseOut()}this.firePointEvent("mouseOver");b&&(!b.shared||e.noSharedTooltip)&&b.refresh(this,d);this.setState("hover");a.hoverPoint=this},onMouseOut:function(){var a=this.series.chart,b=a.hoverPoints;if(!b||dA(this,b)===-1){this.firePointEvent("mouseOut"),this.setState(),a.hoverPoint=null}},tooltipFormatter:function(e){var f=this.series,a=f.tooltipOptions,b=bc(a.valueDecimals,""),c=a.valuePrefix||"",d=a.valueSuffix||"";cb(f.pointArrayMap||["y"],function(g){g="{point."+g;if(c||d){e=e.replace(g+"}",c+g+"}"+d)}e=e.replace(g+"}",g+":,."+b+"f}")});return S(e,{point:this,series:this.series})},firePointEvent:function(d,e,a){var b=this,c=this.series.options;(c.point.events[d]||b.options&&b.options.events&&b.options.events[d])&&this.importEvents();d==="click"&&c.allowPointSelect&&(a=function(f){b.select(null,f.ctrlKey||f.metaKey||f.shiftKey)});cX(this,d,e,a)},importEvents:function(){if(!this.hasImportedEvents){var a=cj(this.series.options.point,this.options).events,b;this.events=a;for(b in a){cz(this,b,a[b])}this.hasImportedEvents=!0}},setState:function(p,C){var a=this.plotX,c=this.plotY,e=this.series,f=e.options.states,g=c8[e.type].marker&&e.options.marker,h=g&&!g.enabled,l=g&&g.states[p],m=l&&l.enabled===!1,n=e.stateMarkerGraphic,x=this.marker||{},b=e.chart,d=this.pointAttr,p=p||"",C=C&&n;if(!(p===this.state&&!C||this.selected&&p!=="select"||f[p]&&f[p].enabled===!1||p&&(m||h&&!l.enabled)||p&&x.states&&x.states[p]&&x.states[p].enabled===!1)){if(this.graphic){f=g&&this.graphic.symbolName&&d[p].r,this.graphic.attr(cj(d[p],f?{x:a-f,y:c-f,width:2*f,height:2*f}:{}))}else{if(p&&l){if(f=l.radius,x=x.symbol||e.symbol,n&&n.currentSymbol!==x&&(n=n.destroy()),n){n[C?"animate":"attr"]({x:a-f,y:c-f})}else{e.stateMarkerGraphic=n=b.renderer.symbol(x,a-f,c-f,2*f,2*f).attr(d[p]).add(e.markerGroup),n.currentSymbol=x}}if(n){n[p&&b.isInsidePlot(a,c,b.inverted)?"show":"hide"]()}}this.state=p}}};var cV=function(){};cV.prototype={isCartesian:!0,type:"line",pointClass:cT,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(f,g){var a=this,b,c,d=f.series,e=function(h,l){return bc(h.options.index,h._i)-bc(l.options.index,l._i)};a.chart=f;a.options=g=a.setOptions(g);a.linkedSeries=[];a.bindAxes();ch(a,{name:g.name,state:"",pointAttr:{},visible:g.visible!==!1,selected:g.selected===!0});if(H){g.animation=!1}c=g.events;for(b in c){cz(a,b,c[b])}if(c&&c.click||g.point&&g.point.events&&g.point.events.click||g.allowPointSelect){f.runTrackerClick=!0}a.getColor();a.getSymbol();cb(a.parallelArrays,function(h){a[h+"Data"]=[]});a.setData(g.data,!1);if(a.isCartesian){f.hasCartesianSeries=!0}d.push(a);a._i=d.length-1;cZ(d,e);this.yAxis&&cZ(this.yAxis.series,e);cb(d,function(h,l){h.index=l;h.name=h.name||"Series "+(l+1)})},bindAxes:function(){var c=this,d=c.options,a=c.chart,b;cb(c.axisTypes||[],function(e){cb(a[e],function(f){b=f.options;if(d[e]===b.index||d[e]!==cd&&d[e]===b.id||d[e]===cd&&b.index===0){f.series.push(c),c[e]=f,f.isDirty=!0}});!c[e]&&c.optionalAxis!==e&&cm(18,!0)})},updateParallelArrays:function(c,d){var a=c.series,b=arguments;cb(a.parallelArrays,typeof d==="number"?function(e){var f=e==="y"&&a.toYData?a.toYData(c):c[e];a[e+"Data"][d]=f}:function(e){Array.prototype[d].apply(a[e+"Data"],Array.prototype.slice.call(b,2))})},autoIncrement:function(){var a=this.options,b=this.xIncrement,b=bc(b,a.pointStart,0);this.pointInterval=bc(this.pointInterval,a.pointInterval,1);this.xIncrement=b+this.pointInterval;return b},getSegments:function(){var d=-1,e=[],a,b=this.points,c=b.length;if(c){if(this.options.connectNulls){for(a=c;a--;){b[a].y===null&&b.splice(a,1)}b.length&&(e=[b])}else{cb(b,function(f,g){f.y===null?(g>d+1&&e.push(b.slice(d+1,g)),d=g):g===c-1&&e.push(b.slice(d+1,g+1))})}}this.segments=e},setOptions:function(d){var e=this.chart,a=e.options.plotOptions,e=e.userOptions||{},b=e.plotOptions||{},c=a[this.type];this.userOptions=d;a=cj(c,a.series,d);this.tooltipOptions=cj(cS.tooltip,cS.plotOptions[this.type].tooltip,e.tooltip,b.series&&b.series.tooltip,b[this.type]&&b[this.type].tooltip,d.tooltip);c.marker===null&&delete a.marker;return a},getColor:function(){var d=this.options,e=this.userOptions,a=this.chart.options.colors,b=this.chart.counters,c;c=d.color||c8[this.type].color;if(!c&&!d.colorByPoint){cg(e._colorIndex)?d=e._colorIndex:(e._colorIndex=b.color,d=b.color++),c=a[d]}this.color=c;b.wrapColor(a.length)},getSymbol:function(){var c=this.userOptions,d=this.options.marker,a=this.chart,b=a.options.symbols,a=a.counters;this.symbol=d.symbol;if(!this.symbol){cg(c._symbolIndex)?c=c._symbolIndex:(c._symbolIndex=a.symbol,c=a.symbol++),this.symbol=b[c]}if(/^url/.test(this.symbol)){d.radius=0}a.wrapSymbol(b.length)},drawLegendSymbol:cQ.drawLineMarker,setData:function(p,C){var a=this,c=a.points,e=a.options,f=a.chart,g=null,h=a.xAxis,l=h&&!!h.categories,m;a.xIncrement=null;a.pointRange=l?1:e.pointRange;a.colorCounter=0;var p=p||[],n=p.length;m=e.turboThreshold;var x=this.xData,b=this.yData,d=a.pointArrayMap,d=d&&d.length;cb(this.parallelArrays,function(G){a[G+"Data"].length=0});if(m&&n>m){for(m=0;g===null&&m<n;){g=p[m],m++}if(cF(g)){l=bc(e.pointStart,0);e=bc(e.pointInterval,1);for(m=0;m<n;m++){x[m]=l,b[m]=p[m],l+=e}a.xIncrement=l}else{if(cI(g)){if(d){for(m=0;m<n;m++){e=p[m],x[m]=e[0],b[m]=e.slice(1,d+1)}}else{for(m=0;m<n;m++){e=p[m],x[m]=e[0],b[m]=e[1]}}}else{cm(12)}}}else{for(m=0;m<n;m++){if(p[m]!==cd&&(e={series:a},a.pointClass.prototype.applyOptions.apply(e,[p[m]]),a.updateParallelArrays(e,m),l&&e.name)){h.names[e.x]=e.name}}}Q(b[0])&&cm(14,!0);a.data=[];a.options.data=p;for(m=c&&c.length||0;m--;){c[m]&&c[m].destroy&&c[m].destroy()}if(h){h.minRange=h.userMinRange}a.isDirty=a.isDirtyData=f.isDirtyBox=!0;bc(C,!0)&&f.redraw(!1)},processData:function(b){var d=this.xData,e=this.yData,f=d.length,g;g=0;var h,l,m=this.xAxis,n=this.options,a=n.cropThreshold,c=this.isCartesian;if(c&&!this.isDirty&&!m.isDirty&&!this.yAxis.isDirty&&!b){return !1}if(c&&this.sorted&&(!a||f>a||this.forceCrop)){if(b=m.min,m=m.max,d[f-1]<b||d[0]>m){d=[],e=[]}else{if(d[0]<b||d[f-1]>m){g=this.cropData(this.xData,this.yData,b,m),d=g.xData,e=g.yData,g=g.start,h=!0}}}for(m=d.length-1;m>=0;m--){f=d[m]-d[m-1],f>0&&(l===cd||f<l)?l=f:f<0&&this.requireSorting&&cm(15)}this.cropped=h;this.cropStart=g;this.processedXData=d;this.processedYData=e;if(n.pointRange===null){this.pointRange=l||1}this.closestPointRange=l},cropData:function(c,d,e,f){var g=c.length,h=0,l=g,a=bc(this.cropShoulder,1),b;for(b=0;b<g;b++){if(c[b]>=e){h=cf(0,b-a);break}}for(;b<g;b++){if(c[b]>f){l=b+a;break}}return{xData:c.slice(h,l),yData:d.slice(h,l),start:h,end:l}},generatePoints:function(){var x=this.options.data,a=this.data,c,e=this.processedXData,f=this.processedYData,g=this.pointClass,h=e.length,l=this.cropStart||0,m,n=this.hasGroupedData,p,b=[],d;if(!a&&!n){a=[],a.length=x.length,a=this.data=a}for(d=0;d<h;d++){m=l+d,n?b[d]=(new g).init(this,[e[d]].concat(c4(f[d]))):(a[m]?p=a[m]:x[m]!==cd&&(a[m]=p=(new g).init(this,x[m],e[d])),b[d]=p)}if(a&&(h!==(c=a.length)||n)){for(d=0;d<c;d++){if(d===l&&!n&&(d+=h),a[d]){a[d].destroyElements(),a[d].plotX=cd}}}this.data=a;this.points=b},setStackedPoints:function(){if(this.options.stacking&&!(this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)){var a=this.processedXData,b=this.processedYData,c=[],d=b.length,e=this.options,h=e.threshold,n=e.stack,e=e.stacking,x=this.stackKey,I="-"+x,J=this.negStacks,P=this.yAxis,f=P.stacks,g=P.oldStacks,p,l,m,C,G;for(m=0;m<d;m++){C=a[m];G=b[m];l=(p=J&&G<h)?I:x;f[l]||(f[l]={});if(!f[l][C]){g[l]&&g[l][C]?(f[l][C]=g[l][C],f[l][C].total=null):f[l][C]=new c3(P,P.options.stackLabels,p,C,n,e)}l=f[l][C];l.points[this.index]=[l.cum||0];e==="percent"?(p=p?x:I,J&&f[p]&&f[p][C]?(p=f[p][C],l.total=p.total=cf(p.total,l.total)+cY(G)||0):l.total=dI(l.total+(cY(G)||0))):l.total=dI(l.total+(G||0));l.cum=(l.cum||0)+(G||0);l.points[this.index].push(l.cum);c[m]=l.cum}if(e==="percent"){P.usePercentage=!0}this.stackedYData=c;P.oldStacks={}}},setPercentStacks:function(){var b=this,c=b.stackKey,a=b.yAxis.stacks;cb([c,"-"+c],function(g){var h;for(var d=b.xData.length,e,f;d--;){if(e=b.xData[d],h=(f=a[g]&&a[g][e])&&f.points[b.index],e=h){f=f.total?100/f.total:0,e[0]=dI(e[0]*f),e[1]=dI(e[1]*f),b.stackedYData[d]=e[1]}}})},getExtremes:function(a){var c=this.yAxis,e=this.processedXData,f,g=[],h=0;f=this.xAxis.getExtremes();var l=f.min,m=f.max,n,p,b,d,a=a||this.stackedYData||this.processedYData;f=a.length;for(d=0;d<f;d++){if(p=e[d],b=a[d],n=b!==null&&b!==cd&&(!c.isLog||b.length||b>0),p=this.getExtremesFromAll||this.cropped||(e[d+1]||p)>=l&&(e[d-1]||p)<=m,n&&p){if(n=b.length){for(;n--;){b[n]!==null&&(g[h++]=b[n])}}else{g[h++]=b}}}this.dataMin=bc(void 0,A(g));this.dataMax=bc(void 0,cW(g))},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var f=this.options,h=f.stacking,n=this.xAxis,C=n.categories,I=this.yAxis,a=this.points,b=a.length,d=!!this.modifyValue,e=f.pointPlacement,g=e==="between"||cF(e),l=f.threshold,f=0;f<b;f++){var m=a[f],p=m.x,G=m.y,x=m.low,c=h&&I.stacks[(this.negStacks&&G<l?"-":"")+this.stackKey];if(I.isLog&&G<=0){m.y=G=null}m.plotX=n.translate(p,0,0,0,1,e,this.type==="flags");if(h&&this.visible&&c&&c[p]){c=c[p],G=c.points[this.index],x=G[0],G=G[1],x===0&&(x=bc(l,I.min)),I.isLog&&x<=0&&(x=null),m.total=m.stackTotal=c.total,m.percentage=h==="percent"&&m.y/c.total*100,m.stackY=G,c.setOffset(this.pointXOffset||0,this.barW||0)}m.yBottom=cg(x)?I.translate(x,0,1,0,1):null;d&&(G=this.modifyValue(G,m));m.plotY=typeof G==="number"&&G!==Infinity?I.translate(G,0,1,0,1):cd;m.clientX=g?n.translate(p,0,0,0,1):m.plotX;m.negative=m.y<(l||0);m.category=C&&C[m.x]!==cd?C[m.x]:m.x}this.getSegments()},setTooltipPoints:function(c){var d=[],e,f,g=this.xAxis,h=g&&g.getExtremes(),l=g?g.tooltipLen||g.len:this.chart.plotSizeX,m,a,b=[];if(this.options.enableMouseTracking!==!1){if(c){this.tooltipPoints=null}cb(this.segments||this.points,function(n){d=d.concat(n)});g&&g.reversed&&(d=d.reverse());this.orderTooltipPoints&&this.orderTooltipPoints(d);c=d.length;for(a=0;a<c;a++){if(g=d[a],e=g.x,e>=h.min&&e<=h.max){m=d[a+1];e=f===cd?0:f+1;for(f=d[a+1]?ck(cf(0,c0((g.clientX+(m?m.wrappedClientX||m.clientX:l))/2)),l):l;e>=0&&e<=f;){b[e++]=g}}}this.tooltipPoints=b}},tooltipHeaderFormatter:function(f){var g=this.tooltipOptions,a=g.dateTimeLabelFormats,b=g.xDateFormat,c=this.xAxis,d=c&&c.options.type==="datetime",g=g.headerFormat,c=c&&c.closestPointRange,e;if(d&&!b){if(c){for(e in cC){if(cC[e]>=c){b=a[e];break}}}else{b=a.day}b=b||a.year}d&&b&&cF(f.key)&&(g=g.replace("{point.key}","{point.key:"+b+"}"));return S(g,{point:f,series:this})},onMouseOver:function(){var a=this.chart,b=a.hoverSeries;if(b&&b!==this){b.onMouseOut()}this.options.events.mouseOver&&cX(this,"mouseOver");this.setState("hover");a.hoverSeries=this},onMouseOut:function(){var c=this.options,d=this.chart,a=d.tooltip,b=d.hoverPoint;if(b){b.onMouseOut()}this&&c.events.mouseOut&&cX(this,"mouseOut");a&&!c.stickyTracking&&(!a.shared||this.noSharedTooltip)&&a.hide();this.setState();d.hoverSeries=null},animate:function(f){var g=this,h=g.chart,a=h.renderer,b;b=g.options.animation;var c=h.clipBox,d=h.inverted,e;if(b&&!dg(b)){b=c8[g.type].animation}e="_sharedClip"+b.duration+b.easing;if(f){f=h[e],b=h[e+"m"],f||(h[e]=f=a.clipRect(ch(c,{width:0})),h[e+"m"]=b=a.clipRect(-99,d?-h.plotLeft:-h.plotTop,99,d?h.chartWidth:h.chartHeight)),g.group.clip(f),g.markerGroup.clip(b),g.sharedClipKey=e}else{if(f=h[e]){f.animate({width:h.plotSizeX},b),h[e+"m"].animate({width:h.plotSizeX+99},b)}g.animate=null;g.animationTimeout=setTimeout(function(){g.afterAnimate()},b.duration)}},afterAnimate:function(){var b=this.chart,c=this.sharedClipKey,a=this.group;a&&this.options.clip!==!1&&(a.clip(b.clipRect),this.markerGroup.clip());setTimeout(function(){c&&b[c]&&(b[c]=b[c].destroy(),b[c+"m"]=b[c+"m"].destroy())},100)},drawPoints:function(){var p,C=this.points,a=this.chart,c,e,f,g,h,l,m,n,x=this.options.marker,b,d=this.markerGroup;if(x.enabled||this._hasPointMarkers){for(f=C.length;f--;){if(g=C[f],c=c0(g.plotX),e=g.plotY,n=g.graphic,l=g.marker||{},p=x.enabled&&l.enabled===cd||l.enabled,b=a.isInsidePlot(ci(c),e,a.inverted),p&&e!==cd&&!isNaN(e)&&g.y!==null){if(p=g.pointAttr[g.selected?"select":""],h=p.r,l=bc(l.symbol,this.symbol),m=l.indexOf("url")===0,n){n.attr({visibility:b?s?"inherit":"visible":"hidden"}).animate(ch({x:c-h,y:e-h},n.symbolName?{width:2*h,height:2*h}:{}))}else{if(b&&(h>0||m)){g.graphic=a.renderer.symbol(l,c-h,e-h,2*h,2*h).attr(p).add(d)}}}else{if(n){g.graphic=n.destroy()}}}}},convertAttribs:function(f,g,h,a){var b=this.pointAttrToOptions,c,d,e={},f=f||{},g=g||{},h=h||{},a=a||{};for(c in b){d=b[c],e[c]=bc(f[d],g[c],h[c],a[c])}return e},getAttribs:function(){var f=this,h=f.options,n=c8[f.type].marker?h.marker:h,C=n.states,I=C.hover,a,c=f.color,d={stroke:c,fill:c},e=f.points||[],g=[],l,m=f.pointAttrToOptions,p=h.negativeColor,b=n.lineColor,x=n.fillColor,G;h.marker?(I.radius=I.radius||n.radius+2,I.lineWidth=I.lineWidth||n.lineWidth+1):I.color=I.color||dL(I.color||c).brighten(I.brightness).get();g[""]=f.convertAttribs(n,d);cb(["hover","select"],function(J){g[J]=f.convertAttribs(C[J],g[""])});f.pointAttr=g;for(c=e.length;c--;){d=e[c];if((n=d.options&&d.options.marker||d.options)&&n.enabled===!1){n.radius=0}if(d.negative&&p){d.color=d.fillColor=p}l=h.colorByPoint||d.color;if(d.options){for(G in m){cg(n[m[G]])&&(l=!0)}}if(l){n=n||{};l=[];C=n.states||{};a=C.hover=C.hover||{};if(!h.marker){a.color=dL(a.color||d.color).brighten(a.brightness||I.brightness).get()}a={color:d.color};if(!x){a.fillColor=d.color}if(!b){a.lineColor=d.color}l[""]=f.convertAttribs(ch(a,n),g[""]);l.hover=f.convertAttribs(C.hover,g.hover,l[""]);l.select=f.convertAttribs(C.select,g.select,l[""])}else{l=g}d.pointAttr=l}},destroy:function(){var c=this,d=c.chart,e=/AppleWebKit\/533/.test(dm),f,g,h=c.data||[],l,a,b;cX(c,"destroy");a1(c);cb(c.axisTypes||[],function(m){if(b=c[m]){a4(b.series,c),b.isDirty=b.forceRedraw=!0}});c.legendItem&&c.chart.legend.destroyItem(c);for(g=h.length;g--;){(l=h[g])&&l.destroy&&l.destroy()}c.points=null;clearTimeout(c.animationTimeout);cb("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(m){c[m]&&(f=e&&m==="group"?"hide":"destroy",c[m][f]())});if(d.hoverSeries===c){d.hoverSeries=null}a4(d.series,c);for(a in c){delete c[a]}},getSegmentPath:function(c){var d=this,a=[],b=d.options.step;cb(c,function(h,l){var e=h.plotX,f=h.plotY,g;d.getPointSpline?a.push.apply(a,d.getPointSpline(c,h,l)):(a.push(l?"L":"M"),b&&l&&(g=c[l-1],b==="right"?a.push(g.plotX,f):b==="center"?a.push((g.plotX+e)/2,g.plotY,(g.plotX+e)/2,f):a.push(e,g.plotY)),a.push(h.plotX,h.plotY))});return a},getGraphPath:function(){var c=this,d=[],a,b=[];cb(c.segments,function(e){a=c.getSegmentPath(e);e.length>1?d=d.concat(a):b.push(e[0])});c.singlePoints=b;return c.graphPath=d},drawGraph:function(){var f=this,g=this.options,h=[["graph",g.lineColor||this.color]],a=g.lineWidth,b=g.dashStyle,c=g.linecap!=="square",d=this.getGraphPath(),e=g.negativeColor;e&&h.push(["graphNeg",e]);cb(h,function(m,p){var l=m[0],n=f[l];if(n){df(n),n.animate({d:d})}else{if(a&&d.length){n={stroke:m[1],"stroke-width":a,zIndex:1},b?n.dashstyle=b:c&&(n["stroke-linecap"]=n["stroke-linejoin"]="round"),f[l]=f.chart.renderer.path(d).attr(n).add(f.group).shadow(!p&&g.shadow)}}})},clipNeg:function(){var a=this.options,c=this.chart,e=c.renderer,f=a.negativeColor||a.negativeFillColor,g,h=this.graph,l=this.area,m=this.posClip,n=this.negClip;g=c.chartWidth;var p=c.chartHeight,b=cf(g,p),d=this.yAxis;if(f&&(h||l)){f=ci(d.toPixels(a.threshold||0,!0));f<0&&(b-=f);a={x:0,y:0,width:b,height:f};b={x:0,y:f,width:b,height:b};if(c.inverted){a.height=b.y=c.plotWidth-f,e.isVML&&(a={x:c.plotWidth-f-c.plotLeft,y:0,width:g,height:p},b={x:f+c.plotLeft-g,y:0,width:c.plotLeft+f,height:g})}d.reversed?(c=b,g=a):(c=a,g=b);m?(m.animate(c),n.animate(g)):(this.posClip=m=e.clipRect(c),this.negClip=n=e.clipRect(g),h&&this.graphNeg&&(h.clip(m),this.graphNeg.clip(n)),l&&(l.clip(m),this.areaNeg.clip(n)))}},invertGroups:function(){function b(){var d={width:c.yAxis.len,height:c.xAxis.len};cb(["group","markerGroup"],function(e){c[e]&&c[e].attr(d).invert()})}var c=this,a=c.chart;if(c.xAxis){cz(a,"resize",b),cz(c,"destroy",function(){a1(a,"resize",b)}),b(),c.invertGroups=b}},plotGroup:function(f,g,a,b,c){var d=this[f],e=!d;e&&(this[f]=d=this.chart.renderer.g(g).attr({visibility:a,zIndex:b||0.1}).add(c));d[e?"attr":"animate"](this.getPlotBox());return d},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var f=this.chart,g,h=this.options,a=h.animation&&!!this.animate&&f.renderer.isSVG,b=this.visible?"visible":"hidden",c=h.zIndex,d=this.hasRendered,e=f.seriesGroup;g=this.plotGroup("group","series",b,c,e);this.markerGroup=this.plotGroup("markerGroup","markers",b,c,e);a&&this.animate(!0);this.getAttribs();g.inverted=this.isCartesian?f.inverted:!1;this.drawGraph&&(this.drawGraph(),this.clipNeg());this.drawDataLabels&&this.drawDataLabels();this.visible&&this.drawPoints();this.options.enableMouseTracking!==!1&&this.drawTracker();f.inverted&&this.invertGroups();h.clip!==!1&&!this.sharedClipKey&&!d&&g.clip(f.clipRect);a?this.animate():d||this.afterAnimate();this.isDirty=this.isDirtyData=!1;this.hasRendered=!0},redraw:function(){var d=this.chart,e=this.isDirtyData,a=this.group,b=this.xAxis,c=this.yAxis;a&&(d.inverted&&a.attr({width:d.plotWidth,height:d.plotHeight}),a.animate({translateX:bc(b&&b.left,d.plotLeft),translateY:bc(c&&c.top,d.plotTop)}));this.translate();this.setTooltipPoints(!0);this.render();e&&cX(this,"updatedData")},setState:function(d){var e=this.options,a=this.graph,b=this.graphNeg,c=e.states,e=e.lineWidth,d=d||"";if(this.state!==d){this.state=d,c[d]&&c[d].enabled===!1||(d&&(e=c[d].lineWidth||e+1),a&&!a.dashstyle&&(d={"stroke-width":e},a.attr(d),b&&b.attr(d)))}},setVisible:function(f,g){var h=this,a=h.chart,b=h.legendItem,c,d=a.options.chart.ignoreHiddenSeries,e=h.visible;c=(h.visible=f=h.userOptions.visible=f===cd?!e:f)?"show":"hide";cb(["group","dataLabelsGroup","markerGroup","tracker"],function(l){if(h[l]){h[l][c]()}});if(a.hoverSeries===h){h.onMouseOut()}b&&a.legend.colorizeItem(h,f);h.isDirty=!0;h.options.stacking&&cb(a.series,function(l){if(l.options.stacking&&l.visible){l.isDirty=!0}});cb(h.linkedSeries,function(l){l.setVisible(f,!1)});if(d){a.isDirtyBox=!0}g!==!1&&a.redraw();cX(h,c)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=a===cd?!this.selected:a;if(this.checkbox){this.checkbox.checked=a}cX(this,a?"select":"unselect")},drawTracker:dw.drawTrackerGraph};ch(F.prototype,{addSeries:function(d,e,a){var b,c=this;d&&(e=bc(e,!0),cX(c,"addSeries",{options:d},function(){b=c.initSeries(d);c.isDirtyLegend=!0;c.linkSeries();e&&c.redraw(a)}));return b},addAxis:function(e,f,a,b){var c=f?"xAxis":"yAxis",d=this.options;new a0(this,cj(e,{index:this[c].length,isX:f}));d[c]=c4(d[c]||{});d[c].push(e);bc(a,!0)&&this.redraw(b)},showLoading:function(c){var d=this.options,a=this.loadingDiv,b=d.loading;if(!a){this.loadingDiv=a=a3(M,{className:"highcharts-loading"},ch(b.style,{zIndex:10,display:cJ}),this.container),this.loadingSpan=a3("span",null,b.labelStyle,a)}this.loadingSpan.innerHTML=c||d.lang.loading;if(!this.loadingShown){dO(a,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),a5(a,{opacity:b.style.opacity},{duration:b.showDuration||0}),this.loadingShown=!0}},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&a5(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){dO(b,{display:cJ})}});this.loadingShown=!1}});ch(cT.prototype,{update:function(c,d,e){var f=this,g=f.series,h=f.graphic,l,m=g.data,a=g.chart,b=g.options,d=bc(d,!0);f.firePointEvent("update",{options:c},function(){f.applyOptions(c);if(dg(c)){g.getAttribs();if(h){c&&c.marker&&c.marker.symbol?f.graphic=h.destroy():h.attr(f.pointAttr[f.state||""])}if(c&&c.dataLabels&&f.dataLabel){f.dataLabel=f.dataLabel.destroy()}}l=dA(f,m);g.updateParallelArrays(f,l);b.data[l]=f.options;g.isDirty=g.isDirtyData=!0;if(!g.fixedBox&&g.hasCartesianSeries){a.isDirtyBox=!0}b.legendType==="point"&&a.legend.destroyItem(f);d&&a.redraw(e)})},remove:function(f,g){var h=this,a=h.series,b=a.points,c=a.chart,d,e=a.data;v(g,c);f=bc(f,!0);h.firePointEvent("remove",null,function(){d=dA(h,e);e.length===b.length&&b.splice(d,1);e.splice(d,1);a.options.data.splice(d,1);a.updateParallelArrays(h,"splice",d,1);h.destroy();a.isDirty=!0;a.isDirtyData=!0;f&&c.redraw()})}});ch(cV.prototype,{addPoint:function(p,C,a,c){var e=this.options,f=this.data,g=this.graph,h=this.area,l=this.chart,m=this.xAxis&&this.xAxis.names,n=g&&g.shift||0,x=e.data,b,d=this.xData;v(c,l);a&&cb([g,h,this.graphNeg,this.areaNeg],function(G){if(G){G.shift=n+1}});if(h){h.isArea=!0}C=bc(C,!0);c={series:this};this.pointClass.prototype.applyOptions.apply(c,[p]);g=c.x;h=d.length;if(this.requireSorting&&g<d[h-1]){for(b=!0;h&&d[h-1]>g;){h--}}this.updateParallelArrays(c,"splice",h,0,0);this.updateParallelArrays(c,h);if(m){m[g]=c.name}x.splice(h,0,p);b&&(this.data.splice(h,0,null),this.processData());e.legendType==="point"&&this.generatePoints();a&&(f[0]&&f[0].remove?f[0].remove(!1):(f.shift(),this.updateParallelArrays(c,"shift"),x.shift()));this.isDirtyData=this.isDirty=!0;C&&(this.getAttribs(),l.redraw())},remove:function(c,d){var a=this,b=a.chart,c=bc(c,!0);if(!a.isRemoving){a.isRemoving=!0,cX(a,"remove",null,function(){a.destroy();b.isDirtyLegend=b.isDirtyBox=!0;b.linkSeries();c&&b.redraw(d)})}a.isRemoving=!1},update:function(e,f){var a=this.chart,b=this.type,c=cD[b].prototype,d,e=cj(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},e);this.remove(!1);for(d in c){c.hasOwnProperty(d)&&(this[d]=cd)}ch(this,cD[e.type||b].prototype);this.init(a,e);bc(f,!0)&&a.redraw(!1)}});ch(a0.prototype,{update:function(b,c){var a=this.chart,b=a.options[this.coll][this.options.index]=cj(this.userOptions,b);this.destroy(!0);this._addedPlotLB=this.userMin=this.userMax=cd;this.init(a,ch(b,{events:cd}));a.isDirtyBox=!0;bc(c,!0)&&a.redraw()},remove:function(b){var c=this.chart,a=this.coll;cb(this.series,function(d){d.remove(!1)});a4(c.axes,this);a4(c[a],this);c.options[a].splice(this.options.index,1);cb(c[a],function(d,e){d.options.index=e});this.destroy();c.isDirtyBox=!0;bc(b,!0)&&c.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}});var cN=dd(cV);cD.line=cN;c8.area=cj(c5,{threshold:0});var dj=dd(cV,{type:"area",getSegments:function(){var p=[],C=[],a=[],c=this.xAxis,e=this.yAxis,f=e.stacks[this.stackKey],g={},h,l,m=this.points,n=this.options.connectNulls,x,b,d;if(this.options.stacking&&!this.cropped){for(b=0;b<m.length;b++){g[m[b].x]=m[b]}for(d in f){f[d].total!==null&&a.push(+d)}a.sort(function(G,I){return G-I});cb(a,function(G){if(!n||g[G]&&g[G].y!==null){g[G]?C.push(g[G]):(h=c.translate(G),x=f[G].percent?f[G].total?f[G].cum*100/f[G].total:0:f[G].cum,l=e.toPixels(x,!0),C.push({y:null,plotX:h,clientX:h,plotY:l,yBottom:l,onMouseOver:ab}))}});C.length&&p.push(C)}else{cV.prototype.getSegments.call(this),p=this.segments}this.segments=p},getSegmentPath:function(f){var g=cV.prototype.getSegmentPath.call(this,f),a=[].concat(g),b,c=this.options;b=g.length;var d=this.yAxis.getThreshold(c.threshold),e;b===3&&a.push("L",g[1],g[2]);if(c.stacking&&!this.closedStacks){for(b=f.length-1;b>=0;b--){e=bc(f[b].yBottom,d),b<f.length-1&&c.step&&a.push(f[b+1].plotX,e),a.push(f[b].plotX,e)}}else{this.closeSegment(a,f,d)}this.areaPath=this.areaPath.concat(a);return g},closeSegment:function(b,c,a){b.push("L",c[c.length-1].plotX,a,"L",c[0].plotX,a)},drawGraph:function(){this.areaPath=[];cV.prototype.drawGraph.apply(this);var e=this,f=this.areaPath,a=this.options,b=a.negativeColor,c=a.negativeFillColor,d=[["area",this.color,a.fillColor]];(b||c)&&d.push(["areaNeg",b,c]);cb(d,function(h){var l=h[0],g=e[l];g?g.animate({d:f}):e[l]=e.chart.renderer.path(f).attr({fill:bc(h[2],dL(h[1]).setOpacity(bc(a.fillOpacity,0.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:cQ.drawRectangle});cD.area=dj;c8.spline=cj(c5);cN=dd(cV,{type:"spline",getPointSpline:function(a,c,e){var f=c.plotX,g=c.plotY,h=a[e-1],l=a[e+1],m,n,p,b;if(h&&l){a=h.plotY;p=l.plotX;var l=l.plotY,d;m=(1.5*f+h.plotX)/2.5;n=(1.5*g+a)/2.5;p=(1.5*f+p)/2.5;b=(1.5*g+l)/2.5;d=(b-n)*(p-f)/(p-m)+g-b;n+=d;b+=d;n>a&&n>g?(n=cf(a,g),b=2*g-n):n<a&&n<g&&(n=ck(a,g),b=2*g-n);b>l&&b>g?(b=cf(l,g),n=2*g-b):b<l&&b<g&&(b=ck(l,g),n=2*g-b);c.rightContX=p;c.rightContY=b}e?(c=["C",h.rightContX||h.plotX,h.rightContY||h.plotY,m||f,n||g,f,g],h.rightContX=h.rightContY=null):c=["M",f,g];return c}});cD.spline=cN;c8.areaspline=cj(c8.area);dj=dj.prototype;cN=dd(cN,{type:"areaspline",closedStacks:!0,getSegmentPath:dj.getSegmentPath,closeSegment:dj.closeSegment,drawGraph:dj.drawGraph,drawLegendSymbol:cQ.drawRectangle});cD.areaspline=cN;c8.column=cj(c5,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0});cN=dd(cV,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){cV.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&cb(b.series,function(c){if(c.type===a.type){c.isDirty=!0}})},getColumnMetrics:function(){var a=this,c=a.options,e=a.xAxis,f=a.yAxis,g=e.reversed,h,l={},m,n=0;c.grouping===!1?n=1:cb(a.chart.series,function(G){var x=G.options,C=G.yAxis;if(G.type===a.type&&G.visible&&f.len===C.len&&f.pos===C.pos){x.stacking?(h=G.stackKey,l[h]===cd&&(l[h]=n++),m=l[h]):x.grouping!==!1&&(m=n++),G.columnIndex=m}});var e=ck(cY(e.transA)*(e.ordinalSlope||c.pointRange||e.closestPointRange||1),e.len),p=e*c.groupPadding,b=(e-2*p)/n,d=c.pointWidth,c=cg(d)?(b-d)/2:b*c.pointPadding,d=bc(d,b-2*c);return a.columnMetrics={width:d,offset:c+(p+((g?n-(a.columnIndex||0):a.columnIndex)||0)*b-e/2)*(g?-1:1)}},translate:function(){var b=this.chart,d=this.options,e=d.borderWidth,f=this.yAxis,g=this.translatedThreshold=f.getThreshold(d.threshold),h=bc(d.minPointLength,5),d=this.getColumnMetrics(),l=d.width,m=this.barW=c2(cf(l,1+2*e)),n=this.pointXOffset=d.offset,a=-(e%2?0.5:0),c=e%2?0.5:1;b.renderer.isVML&&b.inverted&&(c+=1);cV.prototype.translate.apply(this);cb(this.points,function(G){var I=bc(G.yBottom,g),P=ck(cf(-999-I,G.plotY),f.len+999+I),p=G.plotX+n,x=m,C=ck(P,I),J,P=cf(P,I)-C;cY(P)<h&&h&&(P=h,C=ci(cY(C-g)>h?I-h:g-(f.translate(G.y,0,1,0,1)<=g?h:0)));G.barX=p;G.pointWidth=l;I=cY(p)<0.5;x=ci(p+x)+a;p=ci(p)+a;x-=p;J=cY(C)<0.5;P=ci(C+P)+c;C=ci(C)+c;P-=C;I&&(p+=1,x-=1);J&&(C-=1,P+=1);G.shapeType="rect";G.shapeArgs={x:p,y:C,width:x,height:P}})},getSymbol:ab,drawLegendSymbol:cQ.drawRectangle,drawGraph:ab,drawPoints:function(){var e=this,f=this.chart,a=e.options,b=f.renderer,c=f.options.animationLimit||250,d;cb(e.points,function(h){var l=h.plotY,g=h.graphic;if(l!==cd&&!isNaN(l)&&h.y!==null){d=h.shapeArgs,g?(df(g),g[f.pointCount<c?"animate":"attr"](cj(d))):h.graphic=b[h.shapeType](d).attr(h.pointAttr[h.selected?"select":""]).add(e.group).shadow(a.shadow,null,a.stacking&&!a.borderRadius)}else{if(g){h.graphic=g.destroy()}}})},drawTracker:dw.drawTrackerPoint,animate:function(d){var e=this.yAxis,a=this.options,b=this.chart.inverted,c={};if(s){d?(c.scaleY=0.001,d=ck(e.pos+e.len,cf(e.pos,e.toPixels(a.threshold))),b?c.translateX=d-e.len:c.translateY=d,this.group.attr(c)):(c.scaleY=1,c[b?"translateX":"translateY"]=e.pos,this.group.animate(c,this.options.animation),this.animate=null)}},remove:function(){var a=this,b=a.chart;b.hasRendered&&cb(b.series,function(c){if(c.type===a.type){c.isDirty=!0}});cV.prototype.remove.apply(a,arguments)}});cD.column=cN;c8.bar=cj(c8.column);cN=dd(cN,{type:"bar",inverted:!0});cD.bar=cN;c8.scatter=cj(c5,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1});cN=dd(cV,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,drawTracker:dw.drawTrackerPoint,drawGraph:function(){this.options.lineWidth&&cV.prototype.drawGraph.call(this)},setTooltipPoints:ab});cD.scatter=cN;c8.pie=cj(c5,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});c5={type:"pie",isCartesian:!1,pointClass:dd(cT,{init:function(){cT.prototype.init.apply(this,arguments);var a=this,b;if(a.y<0){a.y=null}ch(a,{visible:a.visible!==!1,name:bc(a.name,"Slice")});b=function(c){a.slice(c.type==="select")};cz(a,"select",b);cz(a,"unselect",b);return a},setVisible:function(d){var e=this,a=e.series,b=a.chart,c;e.visible=e.options.visible=d=d===cd?!e.visible:d;a.options.data[dA(e,a.data)]=e.options;c=d?"show":"hide";cb(["graphic","dataLabel","connector","shadowGroup"],function(f){if(e[f]){e[f][c]()}});e.legendItem&&b.legend.colorizeItem(e,d);if(!a.isDirty&&a.options.ignoreHiddenPoint){a.isDirty=!0,b.redraw()}},slice:function(c,d,a){var b=this.series;v(a,b.chart);bc(d,!0);this.sliced=this.options.sliced=c=cg(c)?c:!this.sliced;b.options.data[dA(this,b.data)]=this.options;c=c?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(c);this.shadowGroup&&this.shadowGroup.animate(c)}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:ab,animate:function(c){var d=this,a=d.points,b=d.startAngleRad;if(!c){cb(a,function(f){var e=f.graphic,f=f.shapeArgs;e&&(e.attr({r:d.center[3]/2,start:b,end:b}),e.animate({r:f.r,start:f.start,end:f.end},d.options.animation))}),d.animate=null}},setData:function(a,b){cV.prototype.setData.call(this,a,!1);this.processData();this.generatePoints();bc(b,!0)&&this.chart.redraw()},generatePoints:function(){var e,f=0,a,b,c,d=this.options.ignoreHiddenPoint;cV.prototype.generatePoints.call(this);a=this.points;b=a.length;for(e=0;e<b;e++){c=a[e],f+=d&&!c.visible?0:c.y}this.total=f;for(e=0;e<b;e++){c=a[e],c.percentage=f>0?c.y/f*100:0,c.total=f}},translate:function(m){this.generatePoints();var x=0,G=this.options,a=G.slicedOffset,c=a+G.borderWidth,e,f,g,h=G.startAngle||0,l=this.startAngleRad=o/180*(h-90),h=(this.endAngleRad=o/180*((G.endAngle||h+360)-90))-l,n=this.points,p=G.dataLabels.distance,G=G.ignoreHiddenPoint,C,d=n.length,b;if(!m){this.center=m=this.getCenter()}this.getX=function(J,I){g=c9.asin((J-m[1])/(m[2]/2+p));return m[0]+(I?-1:1)*a8(g)*(m[2]/2+p)};for(C=0;C<d;C++){b=n[C];e=l+x*h;if(!G||b.visible){x+=b.percentage/100}f=l+x*h;b.shapeType="arc";b.shapeArgs={x:m[0],y:m[1],r:m[2]/2,innerR:m[3]/2,start:ci(e*1000)/1000,end:ci(f*1000)/1000};g=(f+e)/2;g>0.75*h&&(g-=2*o);b.slicedTranslation={translateX:ci(a8(g)*a),translateY:ci(cv(g)*a)};e=a8(g)*m[2]/2;f=cv(g)*m[2]/2;b.tooltipPos=[m[0]+e*0.7,m[1]+f*0.7];b.half=g<-o/2||g>o/2?1:0;b.angle=g;c=ck(c,p/2);b.labelPos=[m[0]+e+a8(g)*p,m[1]+f+cv(g)*p,m[0]+e+a8(g)*c,m[1]+f+cv(g)*c,m[0]+e,m[1]+f,p<0?"center":b.half?"right":"left",g]}},setTooltipPoints:ab,drawGraph:null,drawPoints:function(){var f=this,g=f.chart.renderer,a,b,c=f.options.shadow,d,e;if(c&&!f.shadowGroup){f.shadowGroup=g.g("shadow").add(f.group)}cb(f.points,function(h){b=h.graphic;e=h.shapeArgs;d=h.shadowGroup;if(c&&!d){d=h.shadowGroup=g.g("shadow").add(f.shadowGroup)}a=h.sliced?h.slicedTranslation:{translateX:0,translateY:0};d&&d.attr(a);b?b.animate(ch(e,a)):h.graphic=b=g.arc(e).setRadialReference(f.center).attr(h.pointAttr[h.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(a).add(f.group).shadow(c,d);h.visible!==void 0&&h.setVisible(h.visible)})},sortByAngle:function(a,b){a.sort(function(d,c){return d.angle!==void 0&&(c.angle-d.angle)*b})},drawTracker:dw.drawTrackerPoint,drawLegendSymbol:cQ.drawRectangle,getCenter:y.getCenter,getSymbol:ab};c5=dd(cV,c5);cD.pie=c5;cV.prototype.drawDataLabels=function(){var f=this,g=f.options,h=g.cursor,a=g.dataLabels,g=f.points,b,c,d,e;if(a.enabled||f._hasPointLabels){f.dlProcessOptions&&f.dlProcessOptions(a),e=f.plotGroup("dataLabelsGroup","data-labels",f.visible?"visible":"hidden",a.zIndex||6),c=a,cb(g,function(l){var p,x=l.dataLabel,G,C,n=l.connector,m=!0;b=l.options&&l.options.dataLabels;p=bc(b&&b.enabled,c.enabled);if(x&&!p){l.dataLabel=x.destroy()}else{if(p){a=cj(c,b);p=a.rotation;G=l.getLabelConfig();d=a.format?S(a.format,G):a.formatter.call(G,a);a.style.color=bc(a.color,a.style.color,f.color,"black");if(x){if(cg(d)){x.attr({text:d}),m=!1}else{if(l.dataLabel=x=x.destroy(),n){l.connector=n.destroy()}}}else{if(cg(d)){x={fill:a.backgroundColor,stroke:a.borderColor,"stroke-width":a.borderWidth,r:a.borderRadius||0,rotation:p,padding:a.padding,zIndex:1};for(C in x){x[C]===cd&&delete x[C]}x=l.dataLabel=f.chart.renderer[p?"text":"label"](d,0,-999,null,null,null,a.useHTML).attr(x).css(ch(a.style,h&&{cursor:h})).add(e).shadow(a.shadow)}}x&&f.alignDataLabel(l,x,a,null,m)}}})}};cV.prototype.alignDataLabel=function(c,d,e,f,g){var h=this.chart,l=h.inverted,m=bc(c.plotX,-999),a=bc(c.plotY,-999),b=d.getBBox();if(c=this.visible&&(c.series.forceDL||h.isInsidePlot(c.plotX,c.plotY,l))){f=ch({x:l?h.plotWidth-a:m,y:ci(l?h.plotHeight-m:a),width:0,height:0},f),ch(e,{width:b.width,height:b.height}),e.rotation?(l={align:e.align,x:f.x+e.x+f.width/2,y:f.y+e.y+f.height/2},d[g?"attr":"animate"](l)):(d.align(e,null,f),l=d.alignAttr,bc(e.overflow,"justify")==="justify"?this.justifyDataLabel(d,e,l,b,f,g):bc(e.crop,!0)&&(c=h.isInsidePlot(l.x,l.y)&&h.isInsidePlot(l.x+b.width,l.y+b.height)))}if(!c){d.attr({y:-999}),d.placed=!1}};cV.prototype.justifyDataLabel=function(b,d,e,f,g,h){var l=this.chart,m=d.align,n=d.verticalAlign,a,c;a=e.x;if(a<0){m==="right"?d.align="left":d.x=-a,c=!0}a=e.x+f.width;if(a>l.plotWidth){m==="left"?d.align="right":d.x=l.plotWidth-a,c=!0}a=e.y;if(a<0){n==="bottom"?d.verticalAlign="top":d.y=-a,c=!0}a=e.y+f.height;if(a>l.plotHeight){n==="top"?d.verticalAlign="bottom":d.y=l.plotHeight-a,c=!0}if(c){b.placed=!h,b.align(d,null,g)}};if(cD.pie){cD.pie.prototype.drawDataLabels=function(){var e=this,g=e.data,l,p=e.chart,G=e.options.dataLabels,J=bc(G.connectorPadding,10),ad=bc(G.connectorWidth,1),af=p.plotWidth,p=p.plotHeight,ah,ai,am=bc(G.softConnector,!0),an=G.distance,ap=e.center,C=ap[2]/2,n=ap[1],ar=an>0,b,P,d,m,ag=[[],[]],I,ae,c,h,at,ao=[0,0,0,0],x=function(au,av){return av.y-au.y};if(e.visible&&(G.enabled||e._hasPointLabels)){cV.prototype.drawDataLabels.apply(e);cb(g,function(au){au.dataLabel&&au.visible&&ag[au.half].push(au)});for(h=0;!m&&g[h];){m=g[h]&&g[h].dataLabel&&(g[h].dataLabel.getBBox().height||21),h++}for(h=2;h--;){var g=[],f=[],a=ag[h],aq=a.length,aj;e.sortByAngle(a,h-0.5);if(an>0){for(at=n-C-an;at<=n+C+an;at+=m){g.push(at)}P=g.length;if(aq>P){l=[].concat(a);l.sort(x);for(at=aq;at--;){l[at].rank=at}for(at=aq;at--;){a[at].rank>=P&&a.splice(at,1)}aq=a.length}for(at=0;at<aq;at++){l=a[at];d=l.labelPos;l=9999;var al,ak;for(ak=0;ak<P;ak++){al=cY(g[ak]-d[1]),al<l&&(l=al,aj=ak)}if(aj<at&&g[at]!==null){aj=at}else{for(P<aq-at+aj&&g[at]!==null&&(aj=P-aq+at);g[aj]===null;){aj++}}f.push({i:aj,y:g[aj]});g[aj]=null}f.sort(x)}for(at=0;at<aq;at++){l=a[at];d=l.labelPos;b=l.dataLabel;c=l.visible===!1?"hidden":"visible";l=d[1];if(an>0){if(P=f.pop(),aj=P.i,ae=P.y,l>ae&&g[aj+1]!==null||l<ae&&g[aj-1]!==null){ae=l}}else{ae=l}I=G.justify?ap[0]+(h?-1:1)*(C+an):e.getX(aj===0||aj===g.length-1?l:ae,h);b._attr={visibility:c,align:d[6]};b._pos={x:I+G.x+({left:J,right:-J}[d[6]]||0),y:ae+G.y-10};b.connX=I;b.connY=ae;if(this.options.size===null){P=b.width,I-P<J?ao[3]=cf(ci(P-I+J),ao[3]):I+P>af-J&&(ao[1]=cf(ci(I+P-af+J),ao[1])),ae-m/2<0?ao[0]=cf(ci(-ae+m/2),ao[0]):ae+m/2>p&&(ao[2]=cf(ci(ae+m/2-p),ao[2]))}}}if(cW(ao)===0||this.verifyDataLabelOverflow(ao)){this.placeDataLabels(),ar&&ad&&cb(this.points,function(au){ah=au.connector;d=au.labelPos;if((b=au.dataLabel)&&b._pos){c=b._attr.visibility,I=b.connX,ae=b.connY,ai=am?["M",I+(d[6]==="left"?5:-5),ae,"C",I,ae,2*d[2]-d[4],2*d[3]-d[5],d[2],d[3],"L",d[4],d[5]]:["M",I+(d[6]==="left"?5:-5),ae,"L",d[2],d[3],"L",d[4],d[5]],ah?(ah.animate({d:ai}),ah.attr("visibility",c)):au.connector=ah=e.chart.renderer.path(ai).attr({"stroke-width":ad,stroke:G.connectorColor||au.color||"#606060",visibility:c}).add(e.group)}else{if(ah){au.connector=ah.destroy()}}})}}},cD.pie.prototype.placeDataLabels=function(){cb(this.points,function(a){var a=a.dataLabel,b;if(a){(b=a._pos)?(a.attr(a._attr),a[a.moved?"animate":"attr"](b),a.moved=!0):a&&a.attr({y:-999})}})},cD.pie.prototype.alignDataLabel=ab,cD.pie.prototype.verifyDataLabelOverflow=function(e){var f=this.center,a=this.options,b=a.center,c=a=a.minSize||80,d;b[0]!==null?c=cf(f[2]-cf(e[1],e[3]),a):(c=cf(f[2]-e[1]-e[3],a),f[0]+=(e[3]-e[1])/2);b[1]!==null?c=cf(ck(c,f[2]-cf(e[0],e[2])),a):(c=cf(ck(c,f[2]-e[0]-e[2]),a),f[1]+=(e[0]-e[2])/2);c<f[2]?(f[2]=c,this.translate(f),cb(this.points,function(g){if(g.dataLabel){g.dataLabel._pos=null}}),this.drawDataLabels&&this.drawDataLabels()):d=!0;return d}}if(cD.column){cD.column.prototype.alignDataLabel=function(c,d,e,f,g){var h=this.chart,l=h.inverted,m=c.dlBox||c.shapeArgs,a=c.below||c.plotY>bc(this.translatedThreshold,h.plotSizeY),b=bc(e.inside,!!this.options.stacking);if(m&&(f=cj(m),l&&(f={x:h.plotWidth-f.y-f.height,y:h.plotHeight-f.x-f.width,width:f.height,height:f.width}),!b)){l?(f.x+=a?0:f.width,f.width=0):(f.y+=a?f.height:0,f.height=0)}e.align=bc(e.align,!l||b?"center":a?"right":"left");e.verticalAlign=bc(e.verticalAlign,l||b?"middle":a?"top":"bottom");cV.prototype.alignDataLabel.call(this,c,d,e,f,g)}}da(cV.prototype,"init",function(a){var b;a.apply(this,Array.prototype.slice.call(arguments,1));(b=this.xAxis)&&b.options.ordinal&&cz(this,"updatedData",function(){delete b.ordinalIndex})});da(a0.prototype,"getTimeTicks",function(a,b,c,d,e,f,g,m){var C=0,I=0,J,P={},ad,n,h,l=[],p=-Number.MAX_VALUE,G=this.options.tickPixelInterval;if(!this.options.ordinal||!f||f.length<3||c===cd){return a.call(this,b,c,d,e)}for(n=f.length;I<n;I++){h=I&&f[I-1]>d;f[I]<c&&(C=I);if(I===n-1||f[I+1]-f[I]>g*5||h){if(f[I]>p){for(J=a.call(this,b,f[C],f[I],e);J.length&&J[0]<=p;){J.shift()}J.length&&(p=J[J.length-1]);l=l.concat(J)}C=I+1}if(h){break}}a=J.info;if(m&&a.unitRange<=cC.hour){I=l.length-1;for(C=1;C<I;C++){(new Date(l[C]-a6))[ds]()!==(new Date(l[C-1]-a6))[ds]()&&(P[l[C]]="day",ad=!0)}ad&&(P[l[0]]="day");a.higherRanks=P}l.info=a;if(m&&cg(G)){var m=a=l.length,I=[],x;for(ad=[];m--;){C=this.translate(l[m]),x&&(ad[m]=x-C),I[m]=x=C}ad.sort();ad=ad[c0(ad.length/2)];ad<G*0.6&&(ad=null);m=l[a-1]>d?a-1:a;for(x=void 0;m--;){C=I[m],d=x-C,x&&d<G*0.8&&(ad===null||d<ad*0.8)?(P[l[m]]&&!P[l[m+1]]?(d=m+1,x=C):d=m,l.splice(d,1)):x=C}}return l});ch(a0.prototype,{beforeSetTickPositions:function(){var f,g=[],a=!1,b,c=this.getExtremes(),d=c.min,c=c.max,e;if(this.options.ordinal){cb(this.series,function(h,l){if(h.visible!==!1&&h.takeOrdinalPosition!==!1&&(g=g.concat(h.processedXData),f=g.length,g.sort(function(n,m){return n-m}),f)){for(l=f-1;l--;){g[l]===g[l+1]&&g.splice(l,1)}}});f=g.length;if(f>2){b=g[1]-g[0];for(e=f-1;e--&&!a;){g[e+1]-g[e]!==b&&(a=!0)}if(!this.options.keepOrdinalPadding&&(g[0]-d>b||c-g[g.length-1]>b)){a=!0}}a?(this.ordinalPositions=g,a=this.val2lin(cf(d,g[0]),!0),b=this.val2lin(ck(c,g[g.length-1]),!0),this.ordinalSlope=c=(c-d)/(b-a),this.ordinalOffset=d-a*c):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=cd}this.groupIntervalFactor=null},val2lin:function(e,f){var a=this.ordinalPositions;if(a){var b=a.length,c,d;for(c=b;c--;){if(a[c]===e){d=c;break}}for(c=b-1;c--;){if(e>a[c]||c===0){a=(e-a[c])/(a[c+1]-a[c]);d=c+a;break}}return f?d:this.ordinalSlope*(d||0)+this.ordinalOffset}else{return e}},lin2val:function(f,g){var h=this.ordinalPositions;if(h){var a=this.ordinalSlope,b=this.ordinalOffset,c=h.length-1,d,e;if(g){f<0?f=h[0]:f>c?f=h[c]:(c=c0(f),e=f-c)}else{for(;c--;){if(d=a*c+b,f>=d){a=a*(c+1)+b;e=(f-d)/(a-d);break}}}return e!==cd&&h[c]!==cd?h[c]+(e?e*(h[c+1]-h[c]):0):f}else{return f}},getExtendedPositions:function(){var f=this.chart,g=this.series[0].currentDataGrouping,a=this.ordinalIndex,b=g?g.count+g.unitName:"raw",c=this.getExtremes(),d,e;if(!a){a=this.ordinalIndex={}}if(!a[b]){d={series:[],getExtremes:function(){return{min:c.dataMin,max:c.dataMax}},options:{ordinal:!0},val2lin:a0.prototype.val2lin},cb(this.series,function(h){e={xAxis:d,xData:h.xData,chart:f,destroyGroupedData:ab};e.options={dataGrouping:g?{enabled:!0,forced:!0,approximation:"open",units:[[g.unitName,[g.count]]]}:{enabled:!1}};h.processData.apply(e);d.series.push(e)}),this.beforeSetTickPositions.apply(d),a[b]=d.ordinalPositions}return a[b]},getGroupIntervalFactor:function(f,g,a){var b=0,a=a.processedXData,c=a.length,d=[],e=this.groupIntervalFactor;if(!e){for(;b<c-1;b++){d[b]=a[b+1]-a[b]}d.sort(function(h,l){return h-l});b=d[c0(c/2)];f=cf(f,a[0]);g=ck(g,a[c-1]);this.groupIntervalFactor=e=c*b/(g-f)}return e},postProcessTickInterval:function(a){var b=this.ordinalSlope;return b?a/(b/this.closestPointRange):a}});da(F.prototype,"pan",function(m,x){var G=this.xAxis[0],a=x.chartX,c=!1;if(G.options.ordinal&&G.series.length){var e=this.mouseDownX,f=G.getExtremes(),g=f.dataMax,h=f.min,l=f.max,n=this.hoverPoints,p=G.closestPointRange,e=(e-a)/(G.translationSlope*(G.ordinalSlope||p)),C={ordinalPositions:G.getExtendedPositions()},p=G.lin2val,d=G.val2lin,b;if(C.ordinalPositions){if(cY(e)>1){n&&cb(n,function(I){I.setState()}),e<0?(n=C,b=G.ordinalPositions?G:C):(n=G.ordinalPositions?G:C,b=C),C=b.ordinalPositions,g>C[C.length-1]&&C.push(g),e=G.toFixedRange(null,null,p.apply(n,[d.apply(n,[h,!0])+e,!0]),p.apply(b,[d.apply(b,[l,!0])+e,!0])),e.min>=ck(f.dataMin,h)&&e.max<=cf(g,l)&&G.setExtremes(e.min,e.max,!0,!1,{trigger:"pan"}),this.mouseDownX=a,dO(this.container,{cursor:"move"})}}else{c=!0}}else{c=!0}c&&m.apply(this,Array.prototype.slice.call(arguments,1))});da(cV.prototype,"getSegments",function(c){var d,a=this.options.gapSize,b=this.xAxis;c.apply(this,Array.prototype.slice.call(arguments,1));if(a){d=this.segments,cb(d,function(g,e){for(var f=g.length-1;f--;){g[f+1].x-g[f].x>b.closestPointRange*a&&d.splice(e+1,0,g.splice(f+1,g.length-f))}})}});var a2=cV.prototype,dz=a2.processData,dK=a2.generatePoints,cA=a2.destroy,cR=a2.tooltipHeaderFormatter,ce={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:dJ("millisecond",["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],"second",["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],"minute",["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],"hour",["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],"day",["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],"week",["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],"month",["%B %Y","%B","-%B %Y"],"year",["%Y","%Y","-%Y"])},cc={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},w=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],cs={sum:function(b){var c=b.length,a;if(!c&&b.hasNulls){a=null}else{if(c){for(a=0;c--;){a+=b[c]}}}return a},average:function(a){var b=a.length,a=cs.sum(a);typeof a==="number"&&b&&(a/=b);return a},open:function(a){return a.length?a[0]:a.hasNulls?null:cd},high:function(a){return a.length?cW(a):a.hasNulls?null:cd},low:function(a){return a.length?A(a):a.hasNulls?null:cd},close:function(a){return a.length?a[a.length-1]:a.hasNulls?null:cd},ohlc:function(c,d,a,b){c=cs.open(c);d=cs.high(d);a=cs.low(a);b=cs.close(b);if(typeof c==="number"||typeof d==="number"||typeof a==="number"||typeof b==="number"){return[c,d,a,b]}},range:function(a,b){a=cs.low(a);b=cs.high(b);if(typeof a==="number"||typeof b==="number"){return[a,b]}}};a2.groupData=function(d,e,g,l){var p=this.data,G=this.options.data,J=[],a=[],b=d.length,c,f,h=!!e,m=[[],[],[],[]],l=typeof l==="function"?l:cs[l],C=this.pointArrayMap,n=C&&C.length,x;for(x=0;x<=b;x++){for(;g[1]!==cd&&d[x]>=g[1]||x===b;){if(c=g.shift(),f=l.apply(0,m),f!==cd&&(J.push(c),a.push(f)),m[0]=[],m[1]=[],m[2]=[],m[3]=[],x===b){break}}if(x===b){break}if(C){c=this.cropStart+x;c=p&&p[c]||this.pointClass.prototype.applyOptions.apply({series:this},[G[c]]);var I;for(f=0;f<n;f++){if(I=c[C[f]],typeof I==="number"){m[f].push(I)}else{if(I===null){m[f].hasNulls=!0}}}}else{if(c=h?e[x]:null,typeof c==="number"){m[0].push(c)}else{if(c===null){m[0].hasNulls=!0}}}}return[J,a]};a2.processData=function(){var b=this.chart,d=this.options,e=d.dataGrouping,f=e&&bc(e.enabled,b.options._stock),g;this.forceCrop=f;this.groupPixelWidth=null;if(dz.apply(this,arguments)!==!1&&f){this.destroyGroupedData();var h=this.processedXData,l=this.processedYData,m=b.plotSizeX,n=this.xAxis,a=n.options.ordinal,c=this.groupPixelWidth=n.getGroupPixelWidth&&n.getGroupPixelWidth(),b=this.pointRange;if(c){g=!0;this.points=null;f=n.getExtremes();b=f.min;f=f.max;a=a&&n.getGroupIntervalFactor(b,f,this)||1;m=c*(f-b)/m*a;n=n.getTimeTicks(n.normalizeTimeTickInterval(m,e.units||w),b,f,null,h,this.closestPointRange);l=a2.groupData.apply(this,[h,l,n,e.approximation]);h=l[0];l=l[1];if(e.smoothed){e=h.length-1;for(h[e]=f;e--&&e>0;){h[e]+=m/2}h[0]=b}this.currentDataGrouping=n.info;if(d.pointRange===null){this.pointRange=n.info.totalRange}this.closestPointRange=n.info.totalRange;this.processedXData=h;this.processedYData=l}else{this.currentDataGrouping=null,this.pointRange=b}this.hasGroupedData=g}};a2.destroyGroupedData=function(){var a=this.groupedData;cb(a||[],function(c,b){c&&(a[b]=c.destroy?c.destroy():null)});this.groupedData=null};a2.generatePoints=function(){dK.apply(this);this.destroyGroupedData();this.groupedData=this.hasGroupedData?this.points:null};a2.tooltipHeaderFormatter=function(f){var g=this.tooltipOptions,h=this.options.dataGrouping,a=g.xDateFormat,b,c=this.xAxis,d,e;if(c&&c.options.type==="datetime"&&h&&cF(f.key)){d=this.currentDataGrouping;h=h.dateTimeLabelFormats;if(d){c=h[d.unitName],d.count===1?a=c[0]:(a=c[1],b=c[2])}else{if(!a&&h){for(e in cC){if(cC[e]>=c.closestPointRange){a=h[e][0];break}}}}a=dn(a,f.key);b&&(a+=dn(b,f.key+d.totalRange-1));f=g.headerFormat.replace("{point.key}",a)}else{f=cR.call(this,f)}return f};a2.destroy=function(){for(var a=this.groupedData||[],b=a.length;b--;){a[b]&&a[b].destroy()}cA.apply(this)};da(a2,"setOptions",function(e,f){var a=e.call(this,f),b=this.type,c=this.chart.options.plotOptions,d=c8[b].dataGrouping;if(cc[b]){d||(d=cj(ce,cc[b])),a.dataGrouping=cj(d,c.series&&c.series.dataGrouping,c[b].dataGrouping,f.dataGrouping)}if(this.chart.options._stock){this.requireSorting=!0}return a});a0.prototype.getGroupPixelWidth=function(){var e=this.series,f=e.length,a,b=0,c=!1,d;for(a=f;a--;){(d=e[a].options.dataGrouping)&&(b=cf(b,d.groupPixelWidth))}for(a=f;a--;){if(d=e[a].options.dataGrouping){if(f=(e[a].processedXData||e[a].data).length,e[a].groupPixelWidth||f>this.chart.plotSizeX/b||f&&d.forced){c=!0}}}return c?b:0};c8.ohlc=cj(c8.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{series.color};font-weight:bold">{series.name}</span><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null});c5=dd(cD.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(a){return[a.open,a.high,a.low,a.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){cD.column.prototype.getAttribs.apply(this,arguments);var c=this.options,d=c.states,c=c.upColor||this.color,a=cj(this.pointAttr),b=this.upColorProp;a[""][b]=c;a.hover[b]=d.hover.upColor||c;a.select[b]=d.select.upColor||c;cb(this.points,function(e){if(e.open<e.close){e.pointAttr=a}})},translate:function(){var a=this.yAxis;cD.column.prototype.translate.apply(this);cb(this.points,function(b){if(b.open!==null){b.plotOpen=a.translate(b.open,0,1,0,1)}if(b.close!==null){b.plotClose=a.translate(b.close,0,1,0,1)}})},drawPoints:function(){var c=this,d=c.chart,e,f,g,h,l,m,a,b;cb(c.points,function(n){if(n.plotY!==cd){a=n.graphic,e=n.pointAttr[n.selected?"selected":""],h=e["stroke-width"]%2/2,b=ci(n.plotX)+h,l=ci(n.shapeArgs.width/2),m=["M",b,ci(n.yBottom),"L",b,ci(n.plotY)],n.open!==null&&(f=ci(n.plotOpen)+h,m.push("M",b,f,"L",b-l,f)),n.close!==null&&(g=ci(n.plotClose)+h,m.push("M",b,g,"L",b+l,g)),a?a.animate({d:m}):n.graphic=d.renderer.path(m).attr(e).add(c.group)}})},animate:null});cD.ohlc=c5;c8.candlestick=cj(c8.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:c8.ohlc.tooltip,threshold:null,upColor:"white"});c5=dd(c5,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){cD.ohlc.prototype.getAttribs.apply(this,arguments);var d=this.options,e=d.states,a=d.upLineColor||d.lineColor,b=e.hover.upLineColor||a,c=e.select.upLineColor||a;cb(this.points,function(f){if(f.open<f.close){f.pointAttr[""].stroke=a,f.pointAttr.hover.stroke=b,f.pointAttr.select.stroke=c}})},drawPoints:function(){var p=this,C=p.chart,a,c,e,f,g,h,l,m,n,x,b,d;cb(p.points,function(G){x=G.graphic;if(G.plotY!==cd){a=G.pointAttr[G.selected?"selected":""],m=a["stroke-width"]%2/2,n=ci(G.plotX)+m,c=G.plotOpen,e=G.plotClose,f=c9.min(c,e),g=c9.max(c,e),d=ci(G.shapeArgs.width/2),h=ci(f)!==ci(G.plotY),l=g!==G.yBottom,f=ci(f)+m,g=ci(g)+m,b=["M",n-d,g,"L",n-d,f,"L",n+d,f,"L",n+d,g,"L",n-d,g,"M",n,f,"L",n,h?ci(G.plotY):f,"M",n,g,"L",n,l?ci(G.yBottom):g,"Z"],x?x.animate({d:b}):G.graphic=C.renderer.path(b).attr(a).add(p.group).shadow(p.options.shadow)}})}});cD.candlestick=c5;var dF=dE.prototype.symbols;c8.flags=cj(c8.column,{dataGrouping:null,fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30});cD.flags=dd(cD.column,{type:"flags",sorted:!1,noSharedTooltip:!0,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:cV.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){cD.column.prototype.translate.apply(this);var x=this.chart,a=this.points,c=a.length-1,e,f,g=this.options.onSeries,g=(e=g&&x.get(g))&&e.options.step,h=e&&e.points,l=h&&h.length,m=this.xAxis,n=m.getExtremes(),p,b,d;if(e&&e.visible&&l){e=e.currentDataGrouping;b=h[l-1].x+(e?e.totalRange:0);for(a.sort(function(C,G){return C.x-G.x});l--&&a[c];){if(e=a[c],p=h[l],p.x<=e.x&&p.plotY!==cd){if(e.x<=b){e.plotY=p.plotY,p.x<e.x&&!g&&(d=h[l+1])&&d.plotY!==cd&&(e.plotY+=(e.x-p.x)/(d.x-p.x)*(d.plotY-p.plotY))}c--;l++;if(c<0){break}}}}cb(a,function(C,G){if(C.plotY===cd){C.x>=n.min&&C.x<=n.max?C.plotY=x.chartHeight-m.bottom-(m.opposite?m.height:0)+m.offset-x.plotTop:C.shapeArgs={}}if((f=a[G-1])&&f.plotX===C.plotX){if(f.stackIndex===cd){f.stackIndex=0}C.stackIndex=f.stackIndex+1}})},drawPoints:function(){var p,C=this.points,a=this.chart.renderer,c,e,f=this.options,g=f.y,h,l,m,n,x=f.lineWidth%2/2,b,d;for(l=C.length;l--;){if(m=C[l],p=m.plotX>this.xAxis.len,c=m.plotX+(p?x:-x),n=m.stackIndex,h=m.options.shape||f.shape,e=m.plotY,e!==cd&&(e=m.plotY+g+x-(n!==cd&&n*f.stackDistance)),b=n?cd:m.plotX+x,d=n?cd:m.plotY,n=m.graphic,e!==cd&&c>=0&&!p){p=m.pointAttr[m.selected?"select":""],n?n.attr({x:c,y:e,r:p.r,anchorX:b,anchorY:d}):m.graphic=a.label(m.options.title||f.title||"A",c,e,h,b,d,f.useHTML).css(cj(f.style,m.style)).attr(p).attr({align:h==="flag"?"left":"center",width:f.width,height:f.height}).add(this.markerGroup).shadow(f.shadow),m.tooltipPos=[c,e]}else{if(n){m.graphic=n.destroy()}}}},drawTracker:function(){var a=this.points;dw.drawTrackerPoint.apply(this);cb(a,function(c){var b=c.graphic;b&&cz(b.element,"mouseover",function(){if(c.stackIndex>0&&!c.raised){c._y=b.y,b.attr({y:c._y-8}),c.raised=!0}cb(a,function(d){if(d!==c&&d.raised&&d.graphic){d.graphic.attr({y:d._y}),d.raised=!1}})})})},animate:ab});dF.flag=function(e,f,a,b,c){var d=c&&c.anchorX||e,c=c&&c.anchorY||f;return["M",d,c,"L",e,f+b,e,f,e+a,f,e+a,f+b,e,f+b,"M",d,c,"Z"]};cb(["circle","square"],function(a){dF[a+"pin"]=function(g,b,c,d,e){var f=e&&e.anchorX,e=e&&e.anchorY,g=dF[a](g,b,c,d);f&&e&&g.push("M",f,b>e?b:b+d,"L",f,e);return g}});dC===Highcharts.VMLRenderer&&cb(["flag","circlepin","squarepin"],function(a){dq.prototype.symbols[a]=dF[a]});c5=dJ("linearGradient",{x1:0,y1:0,x2:0,y2:1},"stops",[[0,"#FFF"],[1,"#CCC"]]);cQ=[].concat(w);cQ[4]=["day",[1,2,3,4]];cQ[5]=["week",[1,2,3]];ch(cS,{navigator:{handles:{backgroundColor:"#FFF",borderColor:"#666"},height:40,margin:10,maskFill:"rgba(255, 255, 255, 0.75)",outlineColor:"#444",outlineWidth:1,series:{type:cD.areaspline===cd?"line":"areaspline",color:"#4572A7",compare:null,fillOpacity:0.4,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:cQ},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",x:3,y:-4},crosshair:{label:{enabled:!1}}},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:0.1,maxPadding:0.1,labels:{enabled:!1},crosshair:{enabled:!1,label:{enabled:!1}},title:{text:null},tickWidth:0}},scrollbar:{height:ba?20:14,barBackgroundColor:c5,barBorderRadius:2,barBorderWidth:1,barBorderColor:"#666",buttonArrowColor:"#666",buttonBackgroundColor:c5,buttonBorderColor:"#666",buttonBorderRadius:2,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:dJ("linearGradient",{x1:0,y1:0,x2:0,y2:1},"stops",[[0,"#EEE"],[1,"#FFF"]]),trackBorderColor:"#CCC",trackBorderWidth:1,liveRedraw:s&&!ba}});dM.prototype={drawHandle:function(f,g){var h=this.chart,a=h.renderer,b=this.elementsToDestroy,c=this.handles,d=this.navigatorOptions.handles,d={fill:d.backgroundColor,stroke:d.borderColor,"stroke-width":1},e;this.rendered||(c[g]=a.g().css({cursor:"e-resize"}).attr({zIndex:4-g}).add(),e=a.rect(-4.5,0,9,16,3,1).attr(d).add(c[g]),b.push(e),e=a.path(["M",-1.5,4,"L",-1.5,12,"M",0.5,4,"L",0.5,12]).attr(d).add(c[g]),b.push(e));c[g][h.isResizing?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(f,10),translateY:this.top+this.height/2-8})},drawScrollbarButton:function(f){var g=this.chart.renderer,a=this.elementsToDestroy,b=this.scrollbarButtons,c=this.scrollbarHeight,d=this.scrollbarOptions,e;this.rendered||(b[f]=g.g().add(this.scrollbarGroup),e=g.rect(-0.5,-0.5,c+1,c+1,d.buttonBorderRadius,d.buttonBorderWidth).attr({stroke:d.buttonBorderColor,"stroke-width":d.buttonBorderWidth,fill:d.buttonBackgroundColor}).add(b[f]),a.push(e),e=g.path(["M",c/2+(f?-1:1),c/2-3,"L",c/2+(f?-1:1),c/2+3,c/2+(f?2:-2),c/2]).attr({fill:d.buttonArrowColor}).add(b[f]),a.push(e));f&&b[f].attr({translateX:this.scrollerWidth-c})},render:function(C,I,P,ai){var aj=this.chart,al=aj.renderer,g,m,n,am,an=this.scrollbarGroup,ao=this.navigatorGroup,a=this.scrollbar,ao=this.xAxis,c=this.scrollbarTrack,b=this.scrollbarHeight,e=this.scrollbarEnabled,h=this.navigatorOptions,ag=this.scrollbarOptions,x=ag.minWidth,J=this.height,ae=this.top,d=this.navigatorEnabled,ah=h.outlineWidth,ak=ah/2,af=0,l=this.outlineHeight,G=ag.barBorderRadius,p=ag.barBorderWidth,f=ae+ak,ad;if(!isNaN(C)){this.navigatorLeft=g=bc(ao.left,aj.plotLeft+b);this.navigatorWidth=m=bc(ao.len,aj.plotWidth-2*b);this.scrollerLeft=n=g-b;this.scrollerWidth=am=am=m+2*b;ao.getExtremes&&(ad=this.getUnionExtremes(!0))&&(ad.dataMin!==ao.min||ad.dataMax!==ao.max)&&ao.setExtremes(ad.dataMin,ad.dataMax,!0,!1);P=bc(P,ao.translate(C));ai=bc(ai,ao.translate(I));if(isNaN(P)||cY(P)===Infinity){P=0,ai=am}this.zoomedMax=ck(cf(P,ai),m);this.zoomedMin=cf(this.fixedWidth?this.zoomedMax-this.fixedWidth:ck(P,ai),0);this.range=this.zoomedMax-this.zoomedMin;P=ci(this.zoomedMax);I=ci(this.zoomedMin);C=P-I;if(!this.rendered){if(d){this.navigatorGroup=ao=al.g("navigator").attr({zIndex:3}).add(),this.leftShade=al.rect().attr({fill:h.maskFill}).add(ao),this.rightShade=al.rect().attr({fill:h.maskFill}).add(ao),this.outline=al.path().attr({"stroke-width":ah,stroke:h.outlineColor}).add(ao)}if(e){this.scrollbarGroup=an=al.g("scrollbar").add(),a=ag.trackBorderWidth,this.scrollbarTrack=c=al.rect().attr({y:-a%2/2,fill:ag.trackBackgroundColor,stroke:ag.trackBorderColor,"stroke-width":a,r:ag.trackBorderRadius||0,height:b}).add(an),this.scrollbar=a=al.rect().attr({y:-p%2/2,height:b,fill:ag.barBackgroundColor,stroke:ag.barBorderColor,"stroke-width":p,r:G}).add(an),this.scrollbarRifles=al.path().attr({stroke:ag.rifleColor,"stroke-width":1}).add(an)}}aj=aj.isResizing?"animate":"attr";d&&(this.leftShade[aj]({x:g,y:ae,width:I,height:J}),this.rightShade[aj]({x:g+P,y:ae,width:m-P,height:J}),this.outline[aj]({d:["M",n,f,"L",g+I+ak,f,g+I+ak,f+l-b,"M",g+P-ak,f+l-b,"L",g+P-ak,f,n+am,f]}),this.drawHandle(I+ak,0),this.drawHandle(P+ak,1));if(e&&an){this.drawScrollbarButton(0),this.drawScrollbarButton(1),an[aj]({translateX:n,translateY:ci(f+J)}),c[aj]({width:am}),g=b+I,m=C-p,m<x&&(af=(x-m)/2,m=x,g-=af),this.scrollbarPad=af,a[aj]({x:c0(g)+p%2/2,width:m}),x=b+I+C/2-0.5,this.scrollbarRifles.attr({visibility:C>12?"visible":"hidden"})[aj]({d:["M",x-3,b/4,"L",x-3,2*b/3,"M",x,b/4,"L",x,2*b/3,"M",x+3,b/4,"L",x+3,2*b/3]})}this.scrollbarPad=af;this.rendered=!0}},addEvents:function(){var d=this.chart.container,e=this.mouseDownHandler,a=this.mouseMoveHandler,b=this.mouseUpHandler,c;c=[[d,"mousedown",e],[d,"mousemove",a],[document,"mouseup",b]];t&&c.push([d,"touchstart",e],[d,"touchmove",a],[document,"touchend",b]);cb(c,function(f){cz.apply(null,f)});this._events=c},removeEvents:function(){cb(this._events,function(a){a1.apply(null,a)});this._events=cd;this.navigatorEnabled&&this.baseSeries&&a1(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var m=this,x=m.chart,G,a,c=m.scrollbarHeight,e=m.navigatorOptions,f=m.height,g=m.top,h,l,n=document.body.style,p,C=m.baseSeries;m.mouseDownHandler=function(ad){var ad=x.pointer.normalize(ad),ae=m.zoomedMin,af=m.zoomedMax,ag=m.top,ah=m.scrollbarHeight,ai=m.scrollerLeft,aj=m.scrollerWidth,al=m.navigatorLeft,ak=m.navigatorWidth,am=m.scrollbarPad,an=m.range,ao=ad.chartX,I=ad.chartY,ad=x.xAxis[0],J,P=ba?10:7;if(I>ag&&I<ag+f+ah){if((ag=!m.scrollbarEnabled||I<ag+f)&&c9.abs(ao-ae-al)<P){m.grabbedLeft=!0,m.otherHandlePos=af,m.fixedExtreme=ad.max,x.fixedRange=null}else{if(ag&&c9.abs(ao-af-al)<P){m.grabbedRight=!0,m.otherHandlePos=ae,m.fixedExtreme=ad.min,x.fixedRange=null}else{if(ao>al+ae-am&&ao<al+af+am){m.grabbedCenter=ao;m.fixedWidth=an;if(x.renderer.isSVG){p=n.cursor,n.cursor="ew-resize"}h=ao-ae}else{if(ao>ai&&ao<ai+aj){af=ag?ao-al-an/2:ao<al?ae-an*0.2:ao>ai+aj-ah?ae+an*0.2:ao<al+ae?ae-an:af;if(af<0){af=0}else{if(af+an>=ak){af=ak-an,J=G.dataMax}}if(af!==ae){m.fixedWidth=an,ae=G.toFixedRange(af,af+an,null,J),ad.setExtremes(ae.min,ae.max,!0,!1,{trigger:"navigator"})}}}}}}};m.mouseMoveHandler=function(P){var ad=m.scrollbarHeight,ae=m.navigatorLeft,af=m.navigatorWidth,ag=m.scrollerLeft,ah=m.scrollerWidth,I=m.range,J;if(P.pageX!==0){P=x.pointer.normalize(P),J=P.chartX,J<ae?J=ae:J>ag+ah-ad&&(J=ag+ah-ad),m.grabbedLeft?(l=!0,m.render(0,0,J-ae,m.otherHandlePos)):m.grabbedRight?(l=!0,m.render(0,0,m.otherHandlePos,J-ae)):m.grabbedCenter&&(l=!0,J<h?J=h:J>af+h-I&&(J=af+h-I),m.render(0,0,J-h,J-h+I)),l&&m.scrollbarOptions.liveRedraw&&setTimeout(function(){m.mouseUpHandler(P)},0)}};m.mouseUpHandler=function(P){var I,J;if(l){if(m.zoomedMin===m.otherHandlePos){I=m.fixedExtreme}else{if(m.zoomedMax===m.otherHandlePos){J=m.fixedExtreme}}if(m.zoomedMax===m.navigatorWidth){J=G.dataMax}I=G.toFixedRange(m.zoomedMin,m.zoomedMax,I,J);x.xAxis[0].setExtremes(I.min,I.max,!0,!1,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:P})}if(P.type!=="mousemove"){m.grabbedLeft=m.grabbedRight=m.grabbedCenter=m.fixedWidth=m.fixedExtreme=m.otherHandlePos=l=h=null,n.cursor=p||""}};var d=x.xAxis.length,b=x.yAxis.length;x.extraBottomMargin=m.outlineHeight+e.margin;m.navigatorEnabled?(m.xAxis=G=new a0(x,cj({ordinal:C&&C.xAxis.options.ordinal},e.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:d,height:f,offset:0,offsetLeft:c,offsetRight:-c,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),m.yAxis=a=new a0(x,cj(e.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:f,offset:0,index:b,zoomEnabled:!1})),C||e.series.data?m.addBaseSeries():x.series.length===0&&da(x,"redraw",function(I,J){if(x.series.length>0&&!m.series){m.setBaseSeries(),x.redraw=I}I.call(x,J)})):m.xAxis=G={translate:function(J,P){var ad=x.xAxis[0].getExtremes(),ae=x.plotWidth-2*c,I=ad.dataMin,ad=ad.dataMax-I;return P?J*ad/ae+I:ae*(J-I)/ad},toFixedRange:a0.prototype.toFixedRange};da(x,"getMargins",function(J){var P=this.legend,I=P.options;J.call(this);m.top=g=m.navigatorOptions.top||this.chartHeight-m.height-m.scrollbarHeight-this.spacing[2]-(I.verticalAlign==="bottom"&&I.enabled&&!I.floating?P.legendHeight+bc(I.margin,10):0);if(G&&a){G.options.top=a.options.top=g,G.setAxisSize(),a.setAxisSize()}});m.addEvents()},getUnionExtremes:function(c){var d=this.chart.xAxis[0],a=this.xAxis,b=a.options;if(!c||d.dataMin!==null){return{dataMin:bc(b&&b.min,(cg(d.dataMin)&&cg(a.dataMin)?ck:bc)(d.dataMin,a.dataMin)),dataMax:bc(b&&b.max,(cg(d.dataMax)&&cg(a.dataMax)?cf:bc)(d.dataMax,a.dataMax))}}},setBaseSeries:function(a){var b=this.chart,a=a||b.options.navigator.baseSeries;this.series&&this.series.remove();this.baseSeries=b.series[a]||typeof a==="string"&&b.get(a)||b.series[0];this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var d=this.baseSeries,e=d?d.options:{},a=e.data,b=this.navigatorOptions.series,c;c=b.data;this.hasNavigatorData=!!c;e=cj(e,b,{clip:!1,enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0});e.data=c||a;this.series=this.chart.initSeries(e);if(d&&this.navigatorOptions.adaptToUpdatedData!==!1){cz(d,"updatedData",this.updatedDataHandler),d.userOptions.events=ch(d.userOptions.event,{updatedData:this.updatedDataHandler})}},updatedDataHandler:function(){var m=this.chart.scroller,x=m.baseSeries,G=x.xAxis,a=G.getExtremes(),c=a.min,e=a.max,f=a.dataMin,a=a.dataMax,g=e-c,h,l,n,p,C,d=m.series;h=d.xData;var b=!!G.setExtremes;l=e>=h[h.length-1]-(this.closestPointRange||0);h=c<=f;if(!m.hasNavigatorData){d.options.pointStart=x.xData[0],d.setData(x.options.data,!1),C=!0}h&&(p=f,n=p+g);l&&(n=a,h||(p=cf(n-g,d.xData[0])));b&&(h||l)?isNaN(p)||G.setExtremes(p,n,!0,!1,{trigger:"updatedData"}):(C&&this.chart.redraw(!1),m.render(cf(c,f),ck(e,a)))},destroy:function(){this.removeEvents();cb([this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline,this.scrollbarTrack,this.scrollbarRifles,this.scrollbarGroup,this.scrollbar],function(a){a&&a.destroy&&a.destroy()});this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=this.scrollbarTrack=this.scrollbarRifles=this.scrollbarGroup=this.scrollbar=null;cb([this.scrollbarButtons,this.handles,this.elementsToDestroy],function(a){cr(a)})}};Highcharts.Scroller=dM;da(a0.prototype,"zoom",function(f,g,h){var a=this.chart,b=a.options,c=b.chart.zoomType,d=b.navigator,b=b.rangeSelector,e;if(this.isXAxis&&(d&&d.enabled||b&&b.enabled)){if(c==="x"){a.resetZoomButton="blocked"}else{if(c==="y"){e=!1}else{if(c==="xy"){a=this.previousZoom,cg(g)?this.previousZoom=[this.min,this.max]:a&&(g=a[0],h=a[1],delete this.previousZoom)}}}}return e!==cd?e:f.call(this,g,h)});da(F.prototype,"init",function(b,c,a){cz(this,"beforeRender",function(){var d=this.options;if(d.navigator.enabled||d.scrollbar.enabled){this.scroller=new dM(this)}});b.call(this,c,a)});da(cV.prototype,"addPoint",function(e,f,a,b,c){var d=this.options.turboThreshold;d&&this.xData.length>d&&dg(f)&&!cI(f)&&this.chart.scroller&&cm(20,!0);e.call(this,f,a,b,c)});ch(cS,{rangeSelector:{buttonTheme:{width:28,height:16,padding:1,r:0,stroke:"#68A",zIndex:7},inputPosition:{align:"right"},labelStyle:{color:"#666"}}});cS.lang=cj(cS.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"});cB.prototype={clickButton:function(l,n){var C=this,G=C.selected,J=C.chart,a=C.buttons,c=C.buttonOptions[l],e=J.xAxis[0],h=J.scroller&&J.scroller.getUnionExtremes()||e||{},m=h.dataMin,p=h.dataMax,x,I=e&&ci(ck(e.max,bc(p,e.max))),d=new Date(I),b=c.type,f=c.count,h=c._range,g;if(!(m===null||p===null||l===C.selected)){if(b==="month"||b==="year"){x={month:"Month",year:"FullYear"}[b],d["set"+x](d["get"+x]()-f),x=d.getTime(),m=bc(m,Number.MIN_VALUE),isNaN(x)||x<m?(x=m,I=ck(x+h,p)):h=I-x}else{if(h){x=cf(I-h,m),I=ck(x+h,p)}else{if(b==="ytd"){if(e){if(p===cd){m=Number.MAX_VALUE,p=Number.MIN_VALUE,cb(J.series,function(P){P=P.xData;m=ck(P[0],m);p=cf(P[P.length-1],p)}),n=!1}I=new Date(p);g=I.getFullYear();x=g=cf(m||0,Date.UTC(g,0,1));I=I.getTime();I=ck(p||I,I)}else{cz(J,"beforeRender",function(){C.clickButton(l)});return}}else{b==="all"&&e&&(x=m,I=p)}}}a[G]&&a[G].setState(0);a[l]&&a[l].setState(2);J.fixedRange=h;e?e.setExtremes(x,I,bc(n,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:c}):(G=J.options.xAxis,G[0]=cj(G[0],{range:h,min:g}));C.setSelected(l)}},setSelected:function(a){this.selected=this.options.selected=a},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(e){var f=this,a=e.options.rangeSelector,b=a.buttons||[].concat(f.defaultButtons),c=a.selected,d=f.blurInputs=function(){var g=f.minInput,h=f.maxInput;g&&g.blur();h&&h.blur()};f.chart=e;f.options=a;f.buttons=[];e.extraTopMargin=25;f.buttonOptions=b;cz(e.container,"mousedown",d);cz(e,"resize",d);cb(b,f.computeButtonRange);c!==cd&&b[c]&&this.clickButton(c,!1);cz(e,"load",function(){cz(e.xAxis[0],"afterSetExtremes",function(){f.updateButtonStates(!0)})})},updateButtonStates:function(c){var d=this,e=this.chart,f=e.xAxis[0],g=e.scroller&&e.scroller.getUnionExtremes()||f,h=g.dataMin,l=g.dataMax,a=d.selected,b=d.buttons;c&&e.fixedRange!==ci(f.max-f.min)&&(b[a]&&b[a].setState(0),d.setSelected(null));cb(d.buttonOptions,function(I,n){var C=I._range,m=C>l-h,G=C<f.minRange,p=I.type==="all"&&f.max-f.min>=l-h&&b[n].state!==2,x=I.type==="ytd"&&dn("%Y",h)===dn("%Y",l);C===ci(f.max-f.min)&&n!==a?(d.setSelected(n),b[n].setState(2)):m||G||p||x?b[n].setState(3):b[n].state===3&&b[n].setState(0)})},computeButtonRange:function(c){var d=c.type,a=c.count||1,b={millisecond:1,second:1000,minute:60000,hour:3600000,day:86400000,week:604800000};if(b[d]){c._range=b[d]*a}else{if(d==="month"||d==="year"){c._range={month:30,year:365}[d]*86400000*a}}},setInputValue:function(b,c){var a=this.chart.options.rangeSelector;if(cg(c)){this[b+"Input"].HCTime=c}this[b+"Input"].value=dn(a.inputEditDateFormat||"%Y-%m-%d",this[b+"Input"].HCTime);this[b+"DateBox"].attr({text:dn(a.inputDateFormat||"%b %e, %Y",this[b+"Input"].HCTime)})},drawInput:function(a){var c=this,e=c.chart,f=e.options.chart.style,g=e.renderer,h=e.options.rangeSelector,l=c.div,m=a==="min",n,p,b,d=this.inputGroup;this[a+"Label"]=p=g.label(cS.lang[m?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:1}).css(cj(f,h.labelStyle)).add(d);d.offset+=p.width+5;this[a+"DateBox"]=b=g.label("",d.offset).attr({padding:1,width:h.inputBoxWidth||90,height:h.inputBoxHeight||16,stroke:h.inputBoxBorderColor||"silver","stroke-width":1}).css(cj({textAlign:"center"},f,h.inputStyle)).on("click",function(){c[a+"Input"].focus()}).add(d);d.offset+=b.width+(m?10:0);this[a+"Input"]=n=a3("input",{name:a,className:"highcharts-range-selector",type:"text"},ch({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:f.fontSize,fontFamily:f.fontFamily,top:e.plotTop+"px"},h.inputStyle),l);n.onfocus=function(){dO(this,{left:d.translateX+b.x+"px",top:d.translateY+"px",width:b.width-2+"px",height:b.height-2+"px",border:"2px solid silver"})};n.onblur=function(){dO(this,{border:0,width:"1px",height:"1px"});c.setInputValue(a)};n.onchange=function(){var J=n.value,x=(h.inputDateParser||Date.parse)(J),C=e.xAxis[0],G=C.dataMin,I=C.dataMax;isNaN(x)&&(x=J.split("-"),x=Date.UTC(cE(x[0]),cE(x[1])-1,cE(x[2])));isNaN(x)||(cS.global.useUTC||(x+=(new Date).getTimezoneOffset()*60000),m?x>c.maxInput.HCTime?x=cd:x<G&&(x=G):x<c.minInput.HCTime?x=cd:x>I&&(x=I),x!==cd&&e.xAxis[0].setExtremes(m?x:C.min,m?C.max:x,cd,cd,{trigger:"rangeSelectorInput"}))}},render:function(f,h){var n=this,C=n.chart,I=C.renderer,a=C.container,c=C.options,d=c.exporting&&c.navigation&&c.navigation.buttonOptions,e=c.rangeSelector,g=n.buttons,c=cS.lang,l=n.div,l=n.inputGroup,m=e.buttonTheme,p=e.inputEnabled!==!1,G=m&&m.states,x=C.plotLeft,b;if(!n.rendered&&(n.zoomText=I.text(c.rangeSelectorZoom,x,C.plotTop-10).css(e.labelStyle).add(),b=x+n.zoomText.getBBox().width+5,cb(n.buttonOptions,function(P,J){g[J]=I.button(P.text,b,C.plotTop-25,function(){n.clickButton(J);n.isActive=!0},m,G&&G.hover,G&&G.select).css({textAlign:"center"}).add();b+=g[J].width+(e.buttonSpacing||0);n.selected===J&&g[J].setState(2)}),n.updateButtonStates(),p)){n.div=l=a3("div",null,{position:"relative",height:0,zIndex:1}),a.parentNode.insertBefore(l,a),n.inputGroup=l=I.g("input-group").add(),l.offset=0,n.drawInput("min"),n.drawInput("max")}p&&(a=C.plotTop-35,l.align(ch({y:a,width:l.offset,x:d&&a<(d.y||0)+d.height-C.spacing[0]?-40:0},e.inputPosition),!0,C.spacingBox),n.setInputValue("min",f),n.setInputValue("max",h));n.rendered=!0},destroy:function(){var d=this.minInput,e=this.maxInput,a=this.chart,b=this.blurInputs,c;a1(a.container,"mousedown",b);a1(a,"resize",b);cr(this.buttons);if(d){d.onfocus=d.onblur=d.onchange=null}if(e){e.onfocus=e.onblur=e.onchange=null}for(c in this){this[c]&&c!=="chart"&&(this[c].destroy?this[c].destroy():this[c].nodeType&&Z(this[c])),this[c]=null}}};a0.prototype.toFixedRange=function(d,e,a,b){var c=this.chart&&this.chart.fixedRange,d=bc(a,this.translate(d,!0)),e=bc(b,this.translate(e,!0)),a=c&&(e-d)/c;a>0.7&&a<1.3&&(b?d=e-c:e=d+c);return{min:d,max:e}};da(F.prototype,"init",function(b,c,a){cz(this,"init",function(){if(this.options.rangeSelector.enabled){this.rangeSelector=new cB(this)}});b.call(this,c,a)});Highcharts.RangeSelector=cB;F.prototype.callbacks.push(function(f){function g(){c=f.xAxis[0].getExtremes();d.render(c.min,c.max)}function h(){c=f.xAxis[0].getExtremes();isNaN(c.min)||e.render(c.min,c.max)}function a(l){l.triggerOp!=="navigator-drag"&&d.render(l.min,l.max)}function b(l){e.render(l.min,l.max)}var c,d=f.scroller,e=f.rangeSelector;d&&(cz(f.xAxis[0],"afterSetExtremes",a),da(f,"drawChartBox",function(m){var l=this.isDirtyBox;m.call(this);l&&g()}),g());e&&(cz(f.xAxis[0],"afterSetExtremes",b),cz(f,"resize",h),h());cz(f,"destroy",function(){d&&a1(f.xAxis[0],"afterSetExtremes",a);e&&(a1(f,"resize",h),a1(f.xAxis[0],"afterSetExtremes",b))})});Highcharts.StockChart=function(f,g){var a=f.series,b,c=bc(f.navigator&&f.navigator.enabled,!0)?{startOnTick:!1,endOnTick:!1}:null,d={marker:{enabled:!1,states:{hover:{radius:5}}},states:{hover:{lineWidth:2}}},e={shadow:!1,borderWidth:0};f.xAxis=dG(c4(f.xAxis||{}),function(h){return cj({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},h,{type:"datetime",categories:null},c)});f.yAxis=dG(c4(f.yAxis||{}),function(h){b=h.opposite;return cj({labels:{align:b?"right":"left",x:b?-2:2,y:-2},showLastLabel:!1,title:{text:null}},h)});f.series=null;f=cj({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:d,spline:d,area:d,areaspline:d,arearange:d,areasplinerange:d,column:e,columnrange:e,candlestick:e,ohlc:e}},f,{_stock:!0,chart:{inverted:!1}});f.series=a;return new F(f,g)};da(cw.prototype,"init",function(c,d,a){var b=a.chart.pinchType||"";c.call(this,d,a);this.pinchX=this.pinchHor=b.indexOf("x")!==-1;this.pinchY=this.pinchVert=b.indexOf("y")!==-1});da(a0.prototype,"hideCrosshair",function(b,c,a){b.call(this,c,a);this.crossLabel&&this.crossLabel.hide()});da(a0.prototype,"drawCrosshair",function(m,x,G){var a,c;m.call(this,x,G);if(cg(this.crosshair.label)&&this.crosshair.label.enabled&&cg(G)){var m=this.chart,e=this.options.crosshair.label,f=this.isXAxis?"x":"y",x=this.horiz,g=this.opposite,h=this.left,l=this.top,n=this.crossLabel,p,C,d=e.format,b="";if(!n){n=this.crossLabel=m.renderer.label().attr({align:e.align||x?"center":g?this.labelAlign==="right"?"right":"center":this.labelAlign==="left"?"left":"center",zIndex:12,height:x?16:cd,fill:e.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:bc(e.padding,2),stroke:e.borderColor||null,"stroke-width":e.borderWidth||0}).css(ch({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},e.style)).add()}x?(p=G.plotX+h,C=l+(g?0:this.height)):(p=g?this.width+h:0,C=G.plotY+l);if(C<l||C>l+this.height){this.hideCrosshair()}else{!d&&!e.formatter&&(this.isDatetimeAxis&&(b="%b %d, %Y"),d="{value"+(b?":"+b:"")+"}");n.attr({x:p,y:C,text:d?S(d,{value:G[f]}):e.formatter.call(this,G[f]),visibility:"visible"});G=n.box;if(x){if(this.options.tickPosition==="inside"&&!g||this.options.tickPosition!=="inside"&&g){C=n.y-G.height}}else{C=n.y-G.height/2}x?(a=h-G.x,c=h+this.width-G.x):(a=this.labelAlign==="left"?h:0,c=this.labelAlign==="right"?h+this.width:m.chartWidth);n.translateX<a&&(p+=a-n.translateX);n.translateX+G.width>=c&&(p-=n.translateX+G.width-c);n.attr({x:p,y:C,visibility:"visible"})}}});var N=a2.init,B=a2.processData,de=cT.prototype.tooltipFormatter;a2.init=function(){N.apply(this,arguments);this.setCompare(this.options.compare)};a2.setCompare=function(a){this.modifyValue=a==="value"||a==="percent"?function(d,b){var c=this.compareValue,d=a==="value"?d-c:d=100*(d/c)-100;if(b){b.change=d}return d}:null;if(this.chart.hasRendered){this.isDirty=!0}};a2.processData=function(){var c=0,d,a,b;B.apply(this,arguments);if(this.xAxis&&this.processedYData){d=this.processedXData;a=this.processedYData;for(b=a.length;c<b;c++){if(typeof a[c]==="number"&&d[c]>=this.xAxis.min){this.compareValue=a[c];break}}}};da(a2,"getExtremes",function(a){a.call(this);if(this.modifyValue){this.dataMax=this.modifyValue(this.dataMax),this.dataMin=this.modifyValue(this.dataMin)}});a0.prototype.setCompare=function(a,b){this.isXAxis||(cb(this.series,function(c){c.setCompare(a)}),bc(b,!0)&&this.chart.redraw())};cT.prototype.tooltipFormatter=function(a){a=a.replace("{point.change}",(this.change>0?"+":"")+E(this.change,bc(this.series.tooltipOptions.changeDecimals,2)));return de.apply(this,[a])};ch(Highcharts,{Axis:a0,Chart:F,Color:dL,Point:cT,Tick:di,Tooltip:dB,Renderer:dC,Series:cV,SVGElement:V,SVGRenderer:dE,arrayMin:A,arrayMax:cW,charts:ca,dateFormat:dn,format:S,pathAnim:cn,getOptions:function(){return cS},hasBidiBug:dk,isTouchDevice:ba,numberFormat:E,seriesTypes:cD,setOptions:function(a){cS=cj(!0,cS,a);dc();return cS},addEvent:cz,removeEvent:a1,createElement:a3,discardElement:Z,css:dO,each:cb,extend:ch,map:dG,merge:cj,pick:bc,splat:c4,extendClass:dd,pInt:cE,wrap:da,svg:s,canvas:H,vml:!s&&!H,product:"Highstock",version:"1.3.9"})})();(function(w,J){function q(c,a,b){this.init.call(this,c,a,b)}var z=w.arrayMin,B=w.arrayMax,O=w.each,s=w.extend,E=w.merge,K=w.map,H=w.pick,ad=w.pInt,x=w.getOptions().plotOptions,u=w.seriesTypes,S=w.extendClass,t=w.splat,A=w.wrap,p=w.Axis,D=w.Tick,h=w.Point,M=w.Pointer,N=w.TrackerMixin,Q=w.CenteredSeriesMixin,o=w.Series,U=Math,P=U.round,G=U.floor,R=U.max,T=w.Color,L=function(){};s(q.prototype,{init:function(e,b,a){var c=this,d=c.defaultOptions;c.chart=b;if(b.angular){d.background={}}c.options=e=E(d,e);(e=e.background)&&O([].concat(t(e)).reverse(),function(g){var f=g.backgroundColor,g=E(c.defaultBackgroundOptions,g);if(f){g.backgroundColor=f}g.color=g.backgroundColor;a.options.plotBands.unshift(g)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:Number.MIN_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var ac=p.prototype,D=D.prototype,V={getOffset:L,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:L,setCategories:L,setTitle:L},v={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,plotBands:[],tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,plotBands:[],showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},plotBands:[],showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(a){this.options=E(this.defaultOptions,this.defaultRadialOptions,a)},getOffset:function(){ac.getOffset.call(this);this.chart.axisOffset[this.side]=0;this.center=this.pane.center=Q.getCenter.call(this.pane)},getLinePath:function(c,a){var b=this.center,a=H(a,b[2]/2-this.offset);return this.chart.renderer.symbols.arc(this.left+b[0],this.top+b[1],a,a,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){ac.setAxisTranslation.call(this);if(this.center){this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset+(this.reversed?(this.endAngleRad-this.startAngleRad)/4:0):0}},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){ac.setAxisSize.call(this);if(this.isRadial){this.center=this.pane.center=w.CenteredSeriesMixin.getCenter.call(this.pane),this.len=this.width=this.height=this.isCircular?this.center[2]*(this.endAngleRad-this.startAngleRad)/2:this.center[2]/2}},getPosition:function(b,a){if(!this.isCircular){a=this.translate(b),b=this.min}return this.postTranslate(this.translate(b),H(a,this.center[2]/2)-this.offset)},postTranslate:function(d,a){var b=this.chart,c=this.center,d=this.startAngleRad+d;return{x:b.plotLeft+c[0]+Math.cos(d)*a,y:b.plotTop+c[1]+Math.sin(d)*a}},getPlotBandPath:function(e,f,g){var l=this.center,m=this.startAngleRad,a=l[2]/2,n=[H(g.outerRadius,"100%"),g.innerRadius,H(g.thickness,10)],b=/%$/,d,c=this.isCircular;this.options.gridLineInterpolation==="polygon"?l=this.getPlotLinePath(e).concat(this.getPlotLinePath(f,!0)):(c||(n[0]=this.translate(e),n[1]=this.translate(f)),n=K(n,function(y){b.test(y)&&(y=ad(y,10)*a/100);return y}),g.shape==="circle"||!c?(e=-Math.PI/2,f=Math.PI*1.5,d=!0):(e=m+this.translate(e),f=m+this.translate(f)),l=this.chart.renderer.symbols.arc(this.left+l[0],this.top+l[1],n[0],n[0],{start:e,end:f,innerR:H(n[1],n[0]-n[2]),open:d}));return l},getPlotLinePath:function(l,e){var a=this.center,b=this.chart,c=this.getPosition(l),f,d,g;this.isCircular?g=["M",a[0]+b.plotLeft,a[1]+b.plotTop,"L",c.x,c.y]:this.options.gridLineInterpolation==="circle"?(l=this.translate(l))&&(g=this.getLinePath(0,l)):(f=b.xAxis[0],g=[],l=this.translate(l),a=f.tickPositions,f.autoConnect&&(a=a.concat([a[0]])),e&&(a=[].concat(a).reverse()),O(a,function(m,n){d=f.getPosition(m,l);g.push(n?"L":"M",d.x,d.y)}));return g},getTitlePosition:function(){var c=this.center,a=this.chart,b=this.options.title;return{x:a.plotLeft+c[0]+(b.x||0),y:a.plotTop+c[1]-{high:0.5,middle:0.25,low:0}[b.align]*c[2]+(b.y||0)}}};A(ac,"init",function(e,f,g){var a;var l=f.angular,m=f.polar,y=g.isX,n=l&&y,b,d;d=f.options;var c=g.pane||0;if(l){if(s(this,n?V:v),b=!y){this.defaultRadialOptions=this.defaultRadialGaugeOptions}}else{if(m){s(this,v),this.defaultRadialOptions=(b=y)?this.defaultRadialXOptions:E(this.defaultYAxisOptions,this.defaultRadialYOptions)}}e.call(this,f,g);if(!n&&(l||m)){e=this.options;if(!f.panes){f.panes=[]}this.pane=(a=f.panes[c]=f.panes[c]||new q(t(d.pane)[c],f,this),c=a);c=c.options;f.inverted=!1;d.chart.zoomType=null;this.startAngleRad=f=(c.startAngle-90)*Math.PI/180;this.endAngleRad=d=(H(c.endAngle,c.startAngle+360)-90)*Math.PI/180;this.offset=e.offset||0;if((this.isCircular=b)&&g.max===J&&d-f===2*Math.PI){this.autoConnect=!0}}});A(D,"getPosition",function(f,c,a,b,d){var e=this.axis;return e.getPosition?e.getPosition(a):f.call(this,c,a,b,d)});A(D,"getLabelPosition",function(c,e,l,m,n,C,y,a,f){var b=this.axis,F=C.y,d=C.align,g=(b.translate(this.pos)+b.startAngleRad+Math.PI/2)/Math.PI*180%360;b.isRadial?(c=b.getPosition(this.pos,b.center[2]/2+H(C.distance,-25)),C.rotation==="auto"?m.attr({rotation:g}):F===null&&(F=b.chart.renderer.fontMetrics(m.styles.fontSize).b-m.getBBox().height/2),d===null&&(d=b.isCircular?g>20&&g<160?"left":g>200&&g<340?"right":"center":"center",m.attr({align:d})),c.x+=C.x,c.y+=F):c=c.call(this,e,l,m,n,C,y,a,f);return c});A(D,"getMarkPath",function(l,e,a,b,c,f,d){var g=this.axis;g.isRadial?(l=g.getPosition(this.pos,g.center[2]/2+b),e=["M",e,a,"L",l.x,l.y]):e=l.call(this,e,a,b,c,f,d);return e});x.arearange=E(x.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0}});u.arearange=S(u.area,{type:"arearange",pointArrayMap:["low","high"],toYData:function(a){return[a.low,a.high]},pointValKey:"low",getSegments:function(){var a=this;O(a.points,function(b){if(!a.options.connectNulls&&(b.low===null||b.high===null)){b.y=null}else{if(b.low===null&&b.high!==null){b.y=b.high}}});o.prototype.getSegments.call(this)},translate:function(){var a=this.yAxis;u.area.prototype.translate.apply(this);O(this.points,function(e){var b=e.low,c=e.high,d=e.plotY;c===null&&b===null?e.y=null:b===null?(e.plotLow=e.plotY=null,e.plotHigh=a.translate(c,0,1,0,1)):c===null?(e.plotLow=d,e.plotHigh=null):(e.plotLow=d,e.plotHigh=a.translate(c,0,1,0,1))})},getSegmentPath:function(l){var e,a=[],b=l.length,c=o.prototype.getSegmentPath,f,d;d=this.options;var g=d.step;for(e=HighchartsAdapter.grep(l,function(m){return m.plotLow!==null});b--;){f=l[b],f.plotHigh!==null&&a.push({plotX:f.plotX,plotY:f.plotHigh})}l=c.call(this,e);if(g){g===!0&&(g="left"),d.step={left:"right",center:"center",right:"left"}[g]}a=c.call(this,a);d.step=g;d=[].concat(l,a);a[0]="L";this.areaPath=this.areaPath.concat(l,a);return d},drawDataLabels:function(){var l=this.data,e=l.length,a,b=[],c=o.prototype,f=this.options.dataLabels,d,g=this.chart.inverted;if(f.enabled||this._hasPointLabels){for(a=e;a--;){d=l[a],d.y=d.high,d.plotY=d.plotHigh,b[a]=d.dataLabel,d.dataLabel=d.dataLabelUpper,d.below=!1,g?(f.align="left",f.x=f.xHigh):f.y=f.yHigh}c.drawDataLabels&&c.drawDataLabels.apply(this,arguments);for(a=e;a--;){d=l[a],d.dataLabelUpper=d.dataLabel,d.dataLabel=b[a],d.y=d.low,d.plotY=d.plotLow,d.below=!0,g?(f.align="right",f.x=f.xLow):f.y=f.yLow}c.drawDataLabels&&c.drawDataLabels.apply(this,arguments)}},alignDataLabel:function(){u.column.prototype.alignDataLabel.apply(this,arguments)},getSymbol:u.column.prototype.getSymbol,drawPoints:L});x.areasplinerange=E(x.arearange);u.areasplinerange=S(u.arearange,{type:"areasplinerange",getPointSpline:u.spline.prototype.getPointSpline});(function(){var a=u.column.prototype;x.columnrange=E(x.column,x.arearange,{lineWidth:1,pointRange:null});u.columnrange=S(u.arearange,{type:"columnrange",translate:function(){var d=this,b=d.yAxis,c;a.translate.apply(d);O(d.points,function(l){var f=l.shapeArgs,e=d.options.minPointLength,g;l.plotHigh=c=b.translate(l.high,0,1,0,1);l.plotLow=l.plotY;g=c;l=l.plotY-c;l<e&&(e-=l,l+=e,g-=e/2);f.height=l;f.y=g})},trackerGroups:["group","dataLabels"],drawGraph:L,pointAttrToOptions:a.pointAttrToOptions,drawPoints:a.drawPoints,drawTracker:a.drawTracker,animate:a.animate,getColumnMetrics:a.getColumnMetrics})})();x.gauge=E(x.line,{dataLabels:{enabled:!0,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,style:{fontWeight:"bold"},verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1});h={type:"gauge",pointClass:S(h,{setState:function(a){this.state=a}}),angular:!0,drawGraph:L,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabels"],translate:function(){var c=this.yAxis,a=this.options,b=c.center;this.generatePoints();O(this.points,function(d){var e=E(a.dial,d.dial),g=ad(H(e.radius,80))*b[2]/200,f=ad(H(e.baseLength,70))*g/100,m=ad(H(e.rearLength,10))*g/100,y=e.baseWidth||3,n=e.topWidth||1,l=c.startAngleRad+c.translate(d.y,null,null,null,!0);a.wrap===!1&&(l=Math.max(c.startAngleRad,Math.min(c.endAngleRad,l)));l=l*180/Math.PI;d.shapeType="path";d.shapeArgs={d:e.path||["M",-m,-y/2,"L",f,-y/2,g,-n/2,g,n/2,f,y/2,-m,y/2,"z"],translateX:b[0],translateY:b[1],rotation:l};d.plotX=b[0];d.plotY=b[1]})},drawPoints:function(){var f=this,c=f.yAxis.center,a=f.pivot,b=f.options,d=b.pivot,e=f.chart.renderer;O(f.points,function(l){var y=l.graphic,n=l.shapeArgs,g=n.d,m=E(b.dial,l.dial);y?(y.animate(n),n.d=g):l.graphic=e[l.shapeType](n).attr({stroke:m.borderColor||"none","stroke-width":m.borderWidth||0,fill:m.backgroundColor||"black",rotation:n.rotation}).add(f.group)});a?a.animate({translateX:c[0],translateY:c[1]}):f.pivot=e.circle(0,0,H(d.radius,5)).attr({"stroke-width":d.borderWidth||0,stroke:d.borderColor||"silver",fill:d.backgroundColor||"black"}).translate(c[0],c[1]).add(f.group)},animate:function(b){var a=this;if(!b){O(a.points,function(d){var c=d.graphic;c&&(c.attr({rotation:a.yAxis.startAngleRad*180/Math.PI}),c.animate({rotation:d.shapeArgs.rotation},a.options.animation))}),a.animate=null}},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup);o.prototype.render.call(this);this.group.clip(this.chart.clipRect)},setData:function(b,a){o.prototype.setData.call(this,b,!1);this.processData();this.generatePoints();H(a,!0)&&this.chart.redraw()},drawTracker:N.drawTrackerPoint};u.gauge=S(u.line,h);x.boxplot=E(x.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-0.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{series.color};font-weight:bold">{series.name}</span><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2});u.boxplot=S(u.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(a){return[a.low,a.q1,a.median,a.q3,a.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:L,translate:function(){var b=this.yAxis,a=this.pointArrayMap;u.column.prototype.translate.apply(this);O(this.points,function(c){O(a,function(d){c[d]!==null&&(c[d+"Plot"]=b.translate(c[d],0,1,0,1))})})},drawPoints:function(){var I=this,W=I.points,aa=I.options,ae=I.chart.renderer,af,ak,ai,a,e,c,an,d,am,al,b,ah,f,g,m,C,aj,y,Z,ab,l,ag,F=I.doQuartiles!==!1,n=parseInt(I.options.whiskerLength,10)/100;O(W,function(ao){am=ao.graphic;l=ao.shapeArgs;b={};g={};C={};ag=ao.color||I.color;if(ao.plotY!==J){if(af=ao.pointAttr[ao.selected?"selected":""],aj=l.width,y=G(l.x),Z=y+aj,ab=P(aj/2),ak=G(F?ao.q1Plot:ao.lowPlot),ai=G(F?ao.q3Plot:ao.lowPlot),a=G(ao.highPlot),e=G(ao.lowPlot),b.stroke=ao.stemColor||aa.stemColor||ag,b["stroke-width"]=H(ao.stemWidth,aa.stemWidth,aa.lineWidth),b.dashstyle=ao.stemDashStyle||aa.stemDashStyle,g.stroke=ao.whiskerColor||aa.whiskerColor||ag,g["stroke-width"]=H(ao.whiskerWidth,aa.whiskerWidth,aa.lineWidth),C.stroke=ao.medianColor||aa.medianColor||ag,C["stroke-width"]=H(ao.medianWidth,aa.medianWidth,aa.lineWidth),C["stroke-linecap"]="round",an=b["stroke-width"]%2/2,d=y+ab+an,al=["M",d,ai,"L",d,a,"M",d,ak,"L",d,e,"z"],F&&(an=af["stroke-width"]%2/2,d=G(d)+an,ak=G(ak)+an,ai=G(ai)+an,y+=an,Z+=an,ah=["M",y,ai,"L",y,ak,"L",Z,ak,"L",Z,ai,"L",y,ai,"z"]),n&&(an=g["stroke-width"]%2/2,a+=an,e+=an,f=["M",d-ab*n,a,"L",d+ab*n,a,"M",d-ab*n,e,"L",d+ab*n,e]),an=C["stroke-width"]%2/2,c=P(ao.medianPlot)+an,m=["M",y,c,"L",Z,c,"z"],am){ao.stem.animate({d:al}),n&&ao.whiskers.animate({d:f}),F&&ao.box.animate({d:ah}),ao.medianShape.animate({d:m})}else{ao.graphic=am=ae.g().add(I.group);ao.stem=ae.path(al).attr(b).add(am);if(n){ao.whiskers=ae.path(f).attr(g).add(am)}if(F){ao.box=ae.path(ah).attr(af).add(am)}ao.medianShape=ae.path(m).attr(C).add(am)}}})}});x.errorbar=E(x.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null});u.errorbar=S(u.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(a){return[a.low,a.high]},pointValKey:"high",doQuartiles:!1,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||u.column.prototype.getColumnMetrics.call(this)}});x.waterfall=E(x.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333"});u.waterfall=S(u.column,{type:"waterfall",upColorProp:"fill",pointArrayMap:["low","y"],pointValKey:"y",init:function(b,a){a.stacking=!0;u.column.prototype.init.call(this,b,a)},translate:function(){var e=this.options,f=this.yAxis,g,l,m,y,n,b,d,c,a;g=e.threshold;e=e.borderWidth%2/2;u.column.prototype.translate.apply(this);c=g;m=this.points;for(l=0,g=m.length;l<g;l++){y=m[l];n=y.shapeArgs;b=this.getStack(l);a=b.points[this.index];if(isNaN(y.y)){y.y=this.yData[l]}d=R(c,c+y.y)+a[0];n.y=f.translate(d,0,1);y.isSum||y.isIntermediateSum?(n.y=f.translate(a[1],0,1),n.height=f.translate(a[0],0,1)-n.y):c+=b.total;n.height<0&&(n.y+=n.height,n.height*=-1);y.plotY=n.y=P(n.y)-e;n.height=P(n.height);y.yBottom=n.y+n.height}},processData:function(d){var f=this.yData,g=this.points,l,m=f.length,y=this.options.threshold||0,n,a,e,b,C,c;a=n=e=b=y;for(c=0;c<m;c++){C=f[c],l=g&&g[c]?g[c]:{},C==="sum"||l.isSum?f[c]=a:C==="intermediateSum"||l.isIntermediateSum?(f[c]=n,n=y):(a+=C,n+=C),e=Math.min(a,e),b=Math.max(a,b)}o.prototype.processData.call(this,d);this.dataMin=e;this.dataMax=b},toYData:function(a){if(a.isSum){return"sum"}else{if(a.isIntermediateSum){return"intermediateSum"}}return a.y},getAttribs:function(){u.column.prototype.getAttribs.apply(this,arguments);var e=this.options,b=e.states,a=e.upColor||this.color,e=w.Color(a).brighten(0.1).get(),c=E(this.pointAttr),d=this.upColorProp;c[""][d]=a;c.hover[d]=b.hover.upColor||e;c.select[d]=b.select.upColor||a;O(this.points,function(f){if(f.y>0&&!f.color){f.pointAttr=c,f.color=a}})},getGraphPath:function(){var g=this.data,d=g.length,a=P(this.options.lineWidth+this.options.borderWidth)%2/2,b=[],c,f,e;for(e=1;e<d;e++){f=g[e].shapeArgs,c=g[e-1].shapeArgs,f=["M",c.x+c.width,c.y+a,"L",f.x,c.y+a],g[e-1].y<0&&(f[2]+=c.height,f[5]+=c.height),b=b.concat(f)}return b},getExtremes:L,getStack:function(c){var a=this.yAxis.stacks,b=this.stackKey;this.processedYData[c]<this.options.threshold&&(b="-"+b);return a[b][c]},drawGraph:o.prototype.drawGraph});x.bubble=E(x.scatter,{dataLabels:{inside:!0,style:{color:"white",textShadow:"0px 0px 3px black"},verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0});u.bubble=S(u.scatter,{type:"bubble",pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(c){var a=this.options.marker,b=H(a.fillOpacity,0.5),c=c||a.fillColor||this.color;b!==1&&(c=T(c).setOpacity(b).get("rgba"));return c},convertAttribs:function(){var a=o.prototype.convertAttribs.apply(this,arguments);a.fill=this.applyOpacity(a.fill);return a},getRadii:function(e,f,g,l){var m,a,n,b=this.zData,d=[],c=this.options.sizeBy!=="width";for(a=0,m=b.length;a<m;a++){n=f-e,n=n>0?(b[a]-e)/(f-e):0.5,c&&n>=0&&(n=Math.sqrt(n)),d.push(U.ceil(g+n*(l-g))/2)}this.radii=d},animate:function(b){var a=this.options.animation;if(!b){O(this.points,function(d){var c=d.graphic,d=d.shapeArgs;c&&d&&(c.attr("r",1),c.animate({r:d.r},a))}),this.animate=null}},translate:function(){var e,b=this.data,a,c,d=this.radii;u.scatter.prototype.translate.call(this);for(e=b.length;e--;){a=b[e],c=d?d[e]:0,a.negative=a.z<(this.options.zThreshold||0),c>=this.minPxSize/2?(a.shapeType="circle",a.shapeArgs={x:a.plotX,y:a.plotY,r:c},a.dlBox={x:a.plotX-c,y:a.plotY-c,width:2*c,height:2*c}):a.shapeArgs=a.plotY=a.dlBox=J}},drawLegendSymbol:function(c,a){var b=ad(c.itemStyle.fontSize)/2;a.legendSymbol=this.chart.renderer.circle(b,c.baseline-b,b).attr({zIndex:3}).add(a.legendGroup);a.legendSymbol.isMarker=!0},drawPoints:u.column.prototype.drawPoints,alignDataLabel:u.column.prototype.alignDataLabel});p.prototype.beforePadding=function(){var m=this,C=this.len,W=this.chart,a=0,c=C,f=this.isXAxis,e=f?"xData":"yData",n=this.min,b={},F=U.min(W.plotWidth,W.plotHeight),l=Number.MAX_VALUE,I=-Number.MAX_VALUE,g=this.max-n,y=C/g,d=[];this.tickPositions&&(O(this.series,function(Z){var aa=Z.options;if(Z.bubblePadding&&Z.visible&&(m.allowZoomOutside=!0,d.push(Z),f)){O(["minSize","maxSize"],function(ae){var af=aa[ae],ab=/%$/.test(af),af=ad(af);b[ae]=ab?F*af/100:af}),Z.minPxSize=b.minSize,Z=Z.zData,Z.length&&(l=U.min(l,U.max(z(Z),aa.displayNegative===!1?aa.zThreshold:-Number.MAX_VALUE)),I=U.max(I,B(Z)))}}),O(d,function(aa){var ab=aa[e],Z=ab.length,ae;f&&aa.getRadii(l,I,b.minSize,b.maxSize);if(g>0){for(;Z--;){typeof ab[Z]==="number"&&(ae=aa.radii[Z],a=Math.min((ab[Z]-n)*y-ae,a),c=Math.max((ab[Z]-n)*y+ae,c))}}}),d.length&&g>0&&H(this.options.min,this.userMin)===J&&H(this.options.max,this.userMax)===J&&(c-=C,y*=(C+a-c)/C,this.min+=a/y,this.max+=c/y))};(function(){function e(g,l,f){g.call(this,l,f);if(this.chart.polar){this.closeSegment=function(m){var n=this.xAxis.center;m.push("L",n[0],n[1])},this.closedStacks=!0}}function b(f,g){var l=this.chart,m=this.options.animation,n=this.group,C=this.markerGroup,I=this.xAxis.center,y=l.plotLeft,F=l.plotTop;if(l.polar){if(l.renderer.isSVG){if(m===!0&&(m={}),g){if(l={translateX:I[0]+y,translateY:I[1]+F,scaleX:0.001,scaleY:0.001},n.attr(l),C){C.attrSetters=n.attrSetters,C.attr(l)}}else{l={translateX:y,translateY:F,scaleX:1,scaleY:1},n.animate(l,m),C&&C.animate(l,m),this.animate=null}}}else{f.call(this,g)}}var a=o.prototype,c=M.prototype,d;a.toXY=function(l){var m,f=this.chart;m=l.plotX;var g=l.plotY;l.rectPlotX=m;l.rectPlotY=g;l.clientX=(m/Math.PI*180+this.xAxis.pane.options.startAngle)%360;m=this.xAxis.postTranslate(l.plotX,this.yAxis.len-g);l.plotX=l.polarPlotX=m.x-f.plotLeft;l.plotY=l.polarPlotY=m.y-f.plotTop};a.orderTooltipPoints=function(f){if(this.chart.polar&&(f.sort(function(g,l){return g.clientX-l.clientX}),f[0])){f[0].wrappedClientX=f[0].clientX+360,f.push(f[0])}};u.area&&A(u.area.prototype,"init",e);u.areaspline&&A(u.areaspline.prototype,"init",e);u.spline&&A(u.spline.prototype,"getPointSpline",function(I,Z,f,g){var l,n,C,m,y,W,F;if(this.chart.polar){l=f.plotX;n=f.plotY;I=Z[g-1];C=Z[g+1];this.connectEnds&&(I||(I=Z[Z.length-2]),C||(C=Z[1]));if(I&&C){m=I.plotX,y=I.plotY,Z=C.plotX,W=C.plotY,m=(1.5*l+m)/2.5,y=(1.5*n+y)/2.5,C=(1.5*l+Z)/2.5,F=(1.5*n+W)/2.5,Z=Math.sqrt(Math.pow(m-l,2)+Math.pow(y-n,2)),W=Math.sqrt(Math.pow(C-l,2)+Math.pow(F-n,2)),m=Math.atan2(y-n,m-l),y=Math.atan2(F-n,C-l),F=Math.PI/2+(m+y)/2,Math.abs(m-F)>Math.PI/2&&(F-=Math.PI),m=l+Math.cos(F)*Z,y=n+Math.sin(F)*Z,C=l+Math.cos(Math.PI+F)*W,F=n+Math.sin(Math.PI+F)*W,f.rightContX=C,f.rightContY=F}g?(f=["C",I.rightContX||I.plotX,I.rightContY||I.plotY,m||l,y||n,l,n],I.rightContX=I.rightContY=null):f=["M",l,n]}else{f=I.call(this,Z,f,g)}return f});A(a,"translate",function(f){f.call(this);if(this.chart.polar&&!this.preventPostTranslate){for(var f=this.points,g=f.length;g--;){this.toXY(f[g])}}});A(a,"getSegmentPath",function(g,l){var f=this.points;if(this.chart.polar&&this.options.connectEnds!==!1&&l[l.length-1]===f[f.length-1]&&f[0].y!==null){this.connectEnds=!0,l=[].concat(l,[f[0]])}return g.call(this,l)});A(a,"animate",b);A(a,"setTooltipPoints",function(f,g){this.chart.polar&&s(this.xAxis,{tooltipLen:360});return f.call(this,g)});if(u.column){d=u.column.prototype,A(d,"animate",b),A(d,"translate",function(n){var y=this.xAxis,F=this.yAxis.len,g=y.center,C=y.startAngleRad,l=this.chart.renderer,f,m;this.preventPostTranslate=!0;n.call(this);if(y.isRadial){y=this.points;for(m=y.length;m--;){f=y[m],n=f.barX+C,f.shapeType="path",f.shapeArgs={d:l.symbols.arc(g[0],g[1],F-f.plotY,null,{start:n,end:n+f.pointWidth,innerR:F-H(f.yBottom,F)})},this.toXY(f)}}}),A(d,"alignDataLabel",function(m,n,y,f,g,l){if(this.chart.polar){m=n.rectPlotX/Math.PI*180;if(f.align===null){f.align=m>20&&m<160?"left":m>200&&m<340?"right":"center"}if(f.verticalAlign===null){f.verticalAlign=m<45||m>315?"bottom":m>135&&m<225?"top":"middle"}a.alignDataLabel.call(this,n,y,f,g,l)}else{m.call(this,n,y,f,g,l)}})}A(c,"getIndex",function(m,n){var f,g=this.chart,l;g.polar?(l=g.xAxis[0].center,f=n.chartX-l[0]-g.plotLeft,g=n.chartY-l[1]-g.plotTop,f=180-Math.round(Math.atan2(f,g)/Math.PI*180)):f=m.call(this,n);return f});A(c,"getCoordinates",function(l,m){var f=this.chart,g={xAxis:[],yAxis:[]};f.polar?O(f.axes,function(y){var F=y.isXAxis,n=y.center,C=m.chartX-n[0]-f.plotLeft,n=m.chartY-n[1]-f.plotTop;g[F?"xAxis":"yAxis"].push({axis:y,value:y.translate(F?Math.PI-Math.atan2(C,n):Math.sqrt(Math.pow(C,2)+Math.pow(n,2)),!0)})}):g=l.call(this,m);return g})})()})(Highcharts);jQuery.fn.extend({selectbox:function(b){return this.each(function(){new jQuery.SelectBox(this,b)})}});if(!window.console){var console={log:function(b){}}}jQuery.SelectBox=function(M,ah){var ak=ah||{data_present:true};ak.inputClass=ak.inputClass||"selectbox";ak.containerClass=ak.containerClass||"selectbox-wrapper";ak.hoverClass=ak.hoverClass||"current";ak.currentClass=ak.selectedClass||"selected";ak.debug=ak.debug||false;ak.set_readonly=L;ak.readOnly=false;var aa=M.id;var af=-1;var ai=false;var N=0;var I=$(M);var K=ad(ak);var aj=U(ak);var Z=$("<table>").attr("cellSpacing",0).attr("cellPadding",0);ak.data_get_callback=R;ak._input=aj;ak._table=Z;ak._options=ah;ak._this=this;var O=false;var V=R(aj.attr("id"),Z,ah);ak._data_container=V;if(ak.auto_complete==true){Q(aj,V)}var ae=$("<tr>");if(ak.auto_complete!=true){var S=$("<td>").attr("valign","top").addClass("column_one").click({table:Z,opt:ak},function(a){setTimeout(function(){al(a)},10)});ae.append(S);S.append($("<span>").addClass("menu_prefix"))}var T=$("<td>").attr("valign","top").addClass("column_two").click({table:Z,opt:ak},function(a){setTimeout(function(){al(a)},10)});var H=$("<td>").attr("valign","top").addClass("column_three").click({table:Z,opt:ak},function(a){setTimeout(function(){al(a)},10)});ae.append(T).append(H);T.append(aj);H.append($("<span>").addClass("menu_ex"));Z.append(ae);I.hide().before(Z).before(K);J(V);$(document.body).click({table:Z,hasfocus:N},function(a){if(N!=0){ac(a.data.table)}});if(typeof(ak.scrollBody)!="undefined"){$(ak.scrollBody).scroll({table:Z,hasfocus:N},function(a){if(N!=0){ac(a.data.table)}})}aj.click({table:Z},function(a){if(K[0].style.display=="block"&&!O){ac(a.data.table);return}O=false}).keydown({table:Z},function(a){switch(a.keyCode){case 38:a.preventDefault();W(-1);break;case 40:a.preventDefault();W(1);break;case 13:a.preventDefault();$("li."+ak.hoverClass).trigger("click");break;case 27:ac(a.data.table);break}}).blur({table:Z},function(a){if(K.is(":visible")&&N>0){if(ak.debug){console.log("container visible and has focus")}a.data.table.addClass("active")}else{a.data.table.removeClass("active")}});function al(a){if(a.data.opt.readOnly){return}if(K[0].style.display=="none"){ai=true;N=1;K.css("min-width",aj.width()+110);K.css("max-height",$(window).height()-aj.offset().top-aj.height()-2);K.slideDown(300)}else{ai=false;N=0;K.slideUp("fast")}if(ai){a.data.table.addClass("active")}else{a.data.table.removeClass("active")}}function Q(a,b){var c=null;var d=$(b);aj.autocomplete({delay:0,minLength:0,source:function(g,e){ac();var f=new RegExp($.ui.autocomplete.escapeRegex(g.term),"i");e(d.children("li").map(function(){var h=$(this).text();if(this.value&&(!g.term||f.test(h))){return{label:h.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+$.ui.autocomplete.escapeRegex(g.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),value:h,option:this}}}))},select:function(g,f){f.item.option.selected=true;var e=$("li."+ak.currentClass,K).get(0);var l=(""+e.id).split("_");var h=l[l.length-1];I.val(h);ac()},change:function(h,g){if(!g.item){var f=new RegExp("^"+$.ui.autocomplete.escapeRegex($(this).val())+"$","i"),e=false;d.children("ul").each(function(){if($(this).text().match(f)){this.selected=e=true;c=true;return false}});if(!e&&c){$(this).val("");d.val("");a.data("autocomplete").term="";c=null;return false}}}});aj.data("autocomplete")._renderItem=function(e,f){return $("<li></li>").data("item.autocomplete",f).append("<a>"+f.label+"</a>").appendTo(e)}}function ac(a){N=0;O=false;K.slideUp("fast");if(a){a.removeClass("active")}}function J(a){K.append(a).hide()}function ad(a){var b=document.createElement("div");K=$(b);K.attr("id",aa+"_container");K.css("width",a.width);K.addClass(a.containerClass);K.mouseover(function(c){N=2});K.mouseout(function(c){N=-1});return K}function U(b){var c=document.createElement("input");var a=$(c);a.attr("id",aa+"_input");a.attr("type","text");if(typeof(b.auto_complete)=="undefined"||b.auto_complete==false){a.attr("readonly","true");a.addClass(b.inputClass)}else{a.attr("autocomplete","on")}a.attr("tabIndex",I.attr("tabindex"));return a}function W(a){var b=$("li",K);if(!b){return}af+=a;if(af<0){af=0}else{if(af>=b.size()){af=b.size()-1}}b.removeClass(ak.hoverClass);$(b[af]).addClass(ak.hoverClass)}function ag(){var c=$("li."+ak.currentClass,K).get(0);var b=(""+c.id).split("_");var a=b[b.length-1];I.val(a);if(aj.val()!=$(c).html()){if(typeof(ak.change_listener)=="function"){ak.change_listener.call(null,$(c).html(),aj);if(typeof(ak.set_current)=="undefined"||ak.set_current==false){return true}}}aj.val($(c).html());return true}function P(){return I.val()}function ab(){return aj.val()}function L(a){ak.readOnly=a;if(ak.readOnly){$(this._table).find(".selectbox").addClass("selectbox_readonly");$(this._table).find(".menu_ex").addClass("selectbox_readonly");$(this._table).find(".menu_prefix").addClass("selectbox_readonly")}else{$(this._table).find(".selectbox").removeClass("selectbox_readonly");$(this._table).find(".menu_ex").removeClass("selectbox_readonly");$(this._table).find(".menu_prefix").removeClass("selectbox_readonly")}}function R(g,b,d,a){var f=new Array();var e=a;$(e).empty();if(!e){e=document.createElement("ul");return e}I.children("option").each(function(){var h=document.createElement("li");h.setAttribute("id",g+"_"+$(this).val());h.innerHTML=$(this).html();if($(this).is(":selected")){aj.val($(this).html());$(h).addClass(d.currentClass)}e.appendChild(h);$(h).mouseover(function(l){N=1;if(d.debug){console.log("over on : "+this.id)}jQuery(l.target,K).addClass(d.hoverClass)}).mouseout(function(l){N=-1;if(d.debug){console.log("out on : "+this.id)}jQuery(l.target,K).removeClass(d.hoverClass)}).click(function(m){var l=$("li."+d.hoverClass,K).get(0);if(d.debug){console.log("click on :"+this.id)}$("li."+d.currentClass).removeClass(d.currentClass);$(this).addClass(d.currentClass);ag();ac(b)})});if(d.set_current==true){var c=$("li",K).html();aj.val(c)}return e}return ah};(function(d){var c={set:{colors:1,values:1,backgroundColor:1,scaleColors:1,normalizeFunction:1,focus:1},get:{selectedRegions:1,selectedMarkers:1,mapObject:1,regionName:1}};d.fn.vectorMap=function(b){var a,f,a=this.children(".jvectormap-container").data("mapObject");if(b==="addMap"){jvm.Map.maps[arguments[1]]=arguments[2]}else{if((b==="set"||b==="get")&&c[b][arguments[1]]){f=arguments[1].charAt(0).toUpperCase()+arguments[1].substr(1);return a[b+f].apply(a,Array.prototype.slice.call(arguments,2))}else{b=b||{};b.container=this;a=new jvm.Map(b)}}return this}})(jQuery);(function(b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{if(typeof exports==="object"){module.exports=b}else{b(jQuery)}}}(function(x){var w=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],p=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice,q,y;if(x.event.fixHooks){for(var v=w.length;v;){x.event.fixHooks[w[--v]]=x.event.mouseHooks}}var u=x.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener){for(var a=p.length;a;){this.addEventListener(p[--a],o,false)}}else{this.onmousewheel=o}x.data(this,"mousewheel-line-height",u.getLineHeight(this));x.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var a=p.length;a;){this.removeEventListener(p[--a],o,false)}}else{this.onmousewheel=null}},getLineHeight:function(a){return parseInt(x(a)["offsetParent" in x.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(a){return x(a).height()},settings:{adjustOldDeltas:true}};x.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}});function o(c){var a=c||window.event,f=s.call(arguments,1),d=0,h=0,l=0,g=0;c=x.event.fix(a);c.type="mousewheel";if("detail" in a){l=a.detail*-1}if("wheelDelta" in a){l=a.wheelDelta}if("wheelDeltaY" in a){l=a.wheelDeltaY}if("wheelDeltaX" in a){h=a.wheelDeltaX*-1}if("axis" in a&&a.axis===a.HORIZONTAL_AXIS){h=l*-1;l=0}d=l===0?h:l;if("deltaY" in a){l=a.deltaY*-1;d=l}if("deltaX" in a){h=a.deltaX;if(l===0){d=h*-1}}if(l===0&&h===0){return}if(a.deltaMode===1){var e=x.data(this,"mousewheel-line-height");d*=e;l*=e;h*=e}else{if(a.deltaMode===2){var b=x.data(this,"mousewheel-page-height");d*=b;l*=b;h*=b}}g=Math.max(Math.abs(l),Math.abs(h));if(!y||g<y){y=g;if(z(a,g)){y/=40}}if(z(a,g)){d/=40;h/=40;l/=40}d=Math[d>=1?"floor":"ceil"](d/y);h=Math[h>=1?"floor":"ceil"](h/y);l=Math[l>=1?"floor":"ceil"](l/y);c.deltaX=h;c.deltaY=l;c.deltaFactor=y;c.deltaMode=0;f.unshift(c,d,h,l);if(q){clearTimeout(q)}q=setTimeout(t,200);return(x.event.dispatch||x.event.handle).apply(this,f)}function t(){y=null}function z(a,b){return u.settings.adjustOldDeltas&&a.type==="mousewheel"&&b%120===0}}));var jvm={inherits:function(f,d){function e(){}e.prototype=d.prototype;f.prototype=new e();f.prototype.constructor=f;f.parentClass=d},mixin:function(d,e){var f;for(f in e.prototype){if(e.prototype.hasOwnProperty(f)){d.prototype[f]=e.prototype[f]}}},min:function(e){var f=Number.MAX_VALUE,d;if(e instanceof Array){for(d=0;d<e.length;d++){if(e[d]<f){f=e[d]}}}else{for(d in e){if(e[d]<f){f=e[d]}}}return f},max:function(d){var e=Number.MIN_VALUE,f;if(d instanceof Array){for(f=0;f<d.length;f++){if(d[f]>e){e=d[f]}}}else{for(f in d){if(d[f]>e){e=d[f]}}}return e},keys:function(e){var f=[],d;for(d in e){f.push(d)}return f},values:function(e){var f=[],g,h;for(h=0;h<arguments.length;h++){e=arguments[h];for(g in e){f.push(e[g])}}return f},whenImageLoaded:function(f){var d=new jvm.$.Deferred(),e=jvm.$("<img/>");e.error(function(){d.reject()}).load(function(){d.resolve(e)});e.attr("src",f);return d},isImageUrl:function(b){return/\.\w{3,4}$/.test(b)}};jvm.$=jQuery;if(!Array.prototype.indexOf){Array.prototype.indexOf=function(o,n){var g;if(this==null){throw new TypeError('"this" is null or not defined')}var m=Object(this);var h=m.length>>>0;if(h===0){return -1}var l=+n||0;if(Math.abs(l)===Infinity){l=0}if(l>=h){return -1}g=Math.max(l>=0?l:h-Math.abs(l),0);while(g<h){if(g in m&&m[g]===o){return g}g++}return -1}}jvm.AbstractElement=function(c,d){this.node=this.createElement(c);this.name=c;this.properties={};if(d){this.set(d)}};jvm.AbstractElement.prototype.set=function(f,d){var e;if(typeof f==="object"){for(e in f){this.properties[e]=f[e];this.applyAttr(e,f[e])}}else{this.properties[f]=d;this.applyAttr(f,d)}};jvm.AbstractElement.prototype.get=function(b){return this.properties[b]};jvm.AbstractElement.prototype.applyAttr=function(c,d){this.node.setAttribute(c,d)};jvm.AbstractElement.prototype.remove=function(){jvm.$(this.node).remove()};jvm.AbstractCanvasElement=function(d,f,e){this.container=d;this.setSize(f,e);this.rootElement=new jvm[this.classPrefix+"GroupElement"]();this.node.appendChild(this.rootElement.node);this.container.appendChild(this.node)};jvm.AbstractCanvasElement.prototype.add=function(d,c){c=c||this.rootElement;c.add(d);d.canvas=this};jvm.AbstractCanvasElement.prototype.addPath=function(f,h,g){var e=new jvm[this.classPrefix+"PathElement"](f,h);this.add(e,g);return e};jvm.AbstractCanvasElement.prototype.addCircle=function(f,h,g){var e=new jvm[this.classPrefix+"CircleElement"](f,h);this.add(e,g);return e};jvm.AbstractCanvasElement.prototype.addImage=function(f,h,g){var e=new jvm[this.classPrefix+"ImageElement"](f,h);this.add(e,g);return e};jvm.AbstractCanvasElement.prototype.addText=function(f,h,g){var e=new jvm[this.classPrefix+"TextElement"](f,h);this.add(e,g);return e};jvm.AbstractCanvasElement.prototype.addGroup=function(c){var d=new jvm[this.classPrefix+"GroupElement"]();if(c){c.node.appendChild(d.node)}else{this.node.appendChild(d.node)}d.canvas=this;return d};jvm.AbstractShapeElement=function(d,e,f){this.style=f||{};this.style.current=this.style.current||{};this.isHovered=false;this.isSelected=false;this.updateStyle()};jvm.AbstractShapeElement.prototype.setStyle=function(f,d){var e={};if(typeof f==="object"){e=f}else{e[f]=d}jvm.$.extend(this.style.current,e);this.updateStyle()};jvm.AbstractShapeElement.prototype.updateStyle=function(){var b={};jvm.AbstractShapeElement.mergeStyles(b,this.style.initial);jvm.AbstractShapeElement.mergeStyles(b,this.style.current);if(this.isHovered){jvm.AbstractShapeElement.mergeStyles(b,this.style.hover)}if(this.isSelected){jvm.AbstractShapeElement.mergeStyles(b,this.style.selected);if(this.isHovered){jvm.AbstractShapeElement.mergeStyles(b,this.style.selectedHover)}}this.set(b)};jvm.AbstractShapeElement.mergeStyles=function(d,f){var e;f=f||{};for(e in f){if(f[e]===null){delete d[e]}else{d[e]=f[e]}}};jvm.SVGElement=function(c,d){jvm.SVGElement.parentClass.apply(this,arguments)};jvm.inherits(jvm.SVGElement,jvm.AbstractElement);jvm.SVGElement.svgns="http://www.w3.org/2000/svg";jvm.SVGElement.prototype.createElement=function(b){return document.createElementNS(jvm.SVGElement.svgns,b)};jvm.SVGElement.prototype.addClass=function(b){this.node.setAttribute("class",b)};jvm.SVGElement.prototype.getElementCtr=function(b){return jvm["SVG"+b]};jvm.SVGElement.prototype.getBBox=function(){return this.node.getBBox()};jvm.SVGGroupElement=function(){jvm.SVGGroupElement.parentClass.call(this,"g")};jvm.inherits(jvm.SVGGroupElement,jvm.SVGElement);jvm.SVGGroupElement.prototype.add=function(b){this.node.appendChild(b.node)};jvm.SVGCanvasElement=function(d,f,e){this.classPrefix="SVG";jvm.SVGCanvasElement.parentClass.call(this,"svg");this.defsElement=new jvm.SVGElement("defs");this.node.appendChild(this.defsElement.node);jvm.AbstractCanvasElement.apply(this,arguments)};jvm.inherits(jvm.SVGCanvasElement,jvm.SVGElement);jvm.mixin(jvm.SVGCanvasElement,jvm.AbstractCanvasElement);jvm.SVGCanvasElement.prototype.setSize=function(c,d){this.width=c;this.height=d;this.node.setAttribute("width",c);this.node.setAttribute("height",d)};jvm.SVGCanvasElement.prototype.applyTransformParams=function(f,d,e){this.scale=f;this.transX=d;this.transY=e;this.rootElement.node.setAttribute("transform","scale("+f+") translate("+d+", "+e+")")};jvm.SVGShapeElement=function(d,e,f){jvm.SVGShapeElement.parentClass.call(this,d,e);jvm.AbstractShapeElement.apply(this,arguments)};jvm.inherits(jvm.SVGShapeElement,jvm.SVGElement);jvm.mixin(jvm.SVGShapeElement,jvm.AbstractShapeElement);jvm.SVGShapeElement.prototype.applyAttr=function(g,m){var l,h,f=this;if(g==="fill"&&jvm.isImageUrl(m)){if(!jvm.SVGShapeElement.images[m]){jvm.whenImageLoaded(m).then(function(a){h=new jvm.SVGElement("image");h.node.setAttributeNS("http://www.w3.org/1999/xlink","href",m);h.applyAttr("x","0");h.applyAttr("y","0");h.applyAttr("width",a[0].width);h.applyAttr("height",a[0].height);l=new jvm.SVGElement("pattern");l.applyAttr("id","image"+jvm.SVGShapeElement.imageCounter);l.applyAttr("x",0);l.applyAttr("y",0);l.applyAttr("width",a[0].width/2);l.applyAttr("height",a[0].height/2);l.applyAttr("viewBox","0 0 "+a[0].width+" "+a[0].height);l.applyAttr("patternUnits","userSpaceOnUse");l.node.appendChild(h.node);f.canvas.defsElement.node.appendChild(l.node);jvm.SVGShapeElement.images[m]=jvm.SVGShapeElement.imageCounter++;f.applyAttr("fill","url(#image"+jvm.SVGShapeElement.images[m]+")")})}else{this.applyAttr("fill","url(#image"+jvm.SVGShapeElement.images[m]+")")}}else{jvm.SVGShapeElement.parentClass.prototype.applyAttr.apply(this,arguments)}};jvm.SVGShapeElement.imageCounter=1;jvm.SVGShapeElement.images={};jvm.SVGPathElement=function(d,c){jvm.SVGPathElement.parentClass.call(this,"path",d,c);this.node.setAttribute("fill-rule","evenodd")};jvm.inherits(jvm.SVGPathElement,jvm.SVGShapeElement);jvm.SVGCircleElement=function(d,c){jvm.SVGCircleElement.parentClass.call(this,"circle",d,c)};jvm.inherits(jvm.SVGCircleElement,jvm.SVGShapeElement);jvm.SVGImageElement=function(d,c){jvm.SVGImageElement.parentClass.call(this,"image",d,c)};jvm.inherits(jvm.SVGImageElement,jvm.SVGShapeElement);jvm.SVGImageElement.prototype.applyAttr=function(e,f){var d=this;if(e=="image"){jvm.whenImageLoaded(f).then(function(b){d.node.setAttributeNS("http://www.w3.org/1999/xlink","href",f);d.width=b[0].width;d.height=b[0].height;d.applyAttr("width",d.width);d.applyAttr("height",d.height);var a=21;if(f.indexOf("balloon.png")!==-1){a=11}d.applyAttr("x",d.cx-d.width/2);d.applyAttr("y",d.cy-d.height/2-a);jvm.$(d.node).trigger("imageloaded",[b])})}else{if(e=="cx"){this.cx=f;if(this.width){this.applyAttr("x",f-this.width/2)}}else{if(e=="cy"){this.cy=f;if(this.height){this.applyAttr("y",f-this.height/2)}}else{jvm.SVGImageElement.parentClass.prototype.applyAttr.apply(this,arguments)}}}};jvm.SVGTextElement=function(d,c){jvm.SVGTextElement.parentClass.call(this,"text",d,c)};jvm.inherits(jvm.SVGTextElement,jvm.SVGShapeElement);jvm.SVGTextElement.prototype.applyAttr=function(d,c){if(d==="text"){this.node.textContent=c}else{jvm.SVGTextElement.parentClass.prototype.applyAttr.apply(this,arguments)}};jvm.VMLElement=function(c,d){if(!jvm.VMLElement.VMLInitialized){jvm.VMLElement.initializeVML()}jvm.VMLElement.parentClass.apply(this,arguments)};jvm.inherits(jvm.VMLElement,jvm.AbstractElement);jvm.VMLElement.VMLInitialized=false;jvm.VMLElement.initializeVML=function(){try{if(!document.namespaces.rvml){document.namespaces.add("rvml","urn:schemas-microsoft-com:vml")}jvm.VMLElement.prototype.createElement=function(a){return document.createElement("<rvml:"+a+' class="rvml">')}}catch(b){jvm.VMLElement.prototype.createElement=function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");jvm.VMLElement.VMLInitialized=true};jvm.VMLElement.prototype.getElementCtr=function(b){return jvm["VML"+b]};jvm.VMLElement.prototype.addClass=function(b){jvm.$(this.node).addClass(b)};jvm.VMLElement.prototype.applyAttr=function(d,c){this.node[d]=c};jvm.VMLElement.prototype.getBBox=function(){var b=jvm.$(this.node);return{x:b.position().left/this.canvas.scale,y:b.position().top/this.canvas.scale,width:b.width()/this.canvas.scale,height:b.height()/this.canvas.scale}};jvm.VMLGroupElement=function(){jvm.VMLGroupElement.parentClass.call(this,"group");this.node.style.left="0px";this.node.style.top="0px";this.node.coordorigin="0 0"};jvm.inherits(jvm.VMLGroupElement,jvm.VMLElement);jvm.VMLGroupElement.prototype.add=function(b){this.node.appendChild(b.node)};jvm.VMLCanvasElement=function(d,f,e){this.classPrefix="VML";jvm.VMLCanvasElement.parentClass.call(this,"group");jvm.AbstractCanvasElement.apply(this,arguments);this.node.style.position="absolute"};jvm.inherits(jvm.VMLCanvasElement,jvm.VMLElement);jvm.mixin(jvm.VMLCanvasElement,jvm.AbstractCanvasElement);jvm.VMLCanvasElement.prototype.setSize=function(m,g){var l,h,n,o;this.width=m;this.height=g;this.node.style.width=m+"px";this.node.style.height=g+"px";this.node.coordsize=m+" "+g;this.node.coordorigin="0 0";if(this.rootElement){l=this.rootElement.node.getElementsByTagName("shape");for(n=0,o=l.length;n<o;n++){l[n].coordsize=m+" "+g;l[n].style.width=m+"px";l[n].style.height=g+"px"}h=this.node.getElementsByTagName("group");for(n=0,o=h.length;n<o;n++){h[n].coordsize=m+" "+g;h[n].style.width=m+"px";h[n].style.height=g+"px"}}};jvm.VMLCanvasElement.prototype.applyTransformParams=function(f,d,e){this.scale=f;this.transX=d;this.transY=e;this.rootElement.node.coordorigin=(this.width-d-this.width/100)+","+(this.height-e-this.height/100);this.rootElement.node.coordsize=this.width/f+","+this.height/f};jvm.VMLShapeElement=function(c,d){jvm.VMLShapeElement.parentClass.call(this,c,d);this.fillElement=new jvm.VMLElement("fill");this.strokeElement=new jvm.VMLElement("stroke");this.node.appendChild(this.fillElement.node);this.node.appendChild(this.strokeElement.node);this.node.stroked=false;jvm.AbstractShapeElement.apply(this,arguments)};jvm.inherits(jvm.VMLShapeElement,jvm.VMLElement);jvm.mixin(jvm.VMLShapeElement,jvm.AbstractShapeElement);jvm.VMLShapeElement.prototype.applyAttr=function(d,c){switch(d){case"fill":this.node.fillcolor=c;break;case"fill-opacity":this.fillElement.node.opacity=Math.round(c*100)+"%";break;case"stroke":if(c==="none"){this.node.stroked=false}else{this.node.stroked=true}this.node.strokecolor=c;break;case"stroke-opacity":this.strokeElement.node.opacity=Math.round(c*100)+"%";break;case"stroke-width":if(parseInt(c,10)===0){this.node.stroked=false}else{this.node.stroked=true}this.node.strokeweight=c;break;case"d":this.node.path=jvm.VMLPathElement.pathSvgToVml(c);break;default:jvm.VMLShapeElement.parentClass.prototype.applyAttr.apply(this,arguments)}};jvm.VMLPathElement=function(e,d){var f=new jvm.VMLElement("skew");jvm.VMLPathElement.parentClass.call(this,"shape",e,d);this.node.coordorigin="0 0";f.node.on=true;f.node.matrix="0.01,0,0,0.01,0,0";f.node.offset="0,0";this.node.appendChild(f.node)};jvm.inherits(jvm.VMLPathElement,jvm.VMLShapeElement);jvm.VMLPathElement.prototype.applyAttr=function(d,c){if(d==="d"){this.node.path=jvm.VMLPathElement.pathSvgToVml(c)}else{jvm.VMLShapeElement.prototype.applyAttr.call(this,d,c)}};jvm.VMLPathElement.pathSvgToVml=function(l){var g=0,h=0,m,f;l=l.replace(/(-?\d+)e(-?\d+)/g,"0");return l.replace(/([MmLlHhVvCcSs])\s*((?:-?\d*(?:\.\d+)?\s*,?\s*)+)/g,function(p,a,e,c){e=e.replace(/(\d)-/g,"$1,-").replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g,",").split(",");if(!e[0]){e.shift()}for(var b=0,d=e.length;b<d;b++){e[b]=Math.round(100*e[b])}switch(a){case"m":g+=e[0];h+=e[1];return"t"+e.join(",");case"M":g=e[0];h=e[1];return"m"+e.join(",");case"l":g+=e[0];h+=e[1];return"r"+e.join(",");case"L":g=e[0];h=e[1];return"l"+e.join(",");case"h":g+=e[0];return"r"+e[0]+",0";case"H":g=e[0];return"l"+g+","+h;case"v":h+=e[0];return"r0,"+e[0];case"V":h=e[0];return"l"+g+","+h;case"c":m=g+e[e.length-4];f=h+e[e.length-3];g+=e[e.length-2];h+=e[e.length-1];return"v"+e.join(",");case"C":m=e[e.length-4];f=e[e.length-3];g=e[e.length-2];h=e[e.length-1];return"c"+e.join(",");case"s":e.unshift(h-f);e.unshift(g-m);m=g+e[e.length-4];f=h+e[e.length-3];g+=e[e.length-2];h+=e[e.length-1];return"v"+e.join(",");case"S":e.unshift(h+h-f);e.unshift(g+g-m);m=e[e.length-4];f=e[e.length-3];g=e[e.length-2];h=e[e.length-1];return"c"+e.join(",")}return""}).replace(/z/g,"e")};jvm.VMLCircleElement=function(d,c){jvm.VMLCircleElement.parentClass.call(this,"oval",d,c)};jvm.inherits(jvm.VMLCircleElement,jvm.VMLShapeElement);jvm.VMLCircleElement.prototype.applyAttr=function(d,c){switch(d){case"r":this.node.style.width=c*2+"px";this.node.style.height=c*2+"px";this.applyAttr("cx",this.get("cx")||0);this.applyAttr("cy",this.get("cy")||0);break;case"cx":if(!c){return}this.node.style.left=c-(this.get("r")||0)+"px";break;case"cy":if(!c){return}this.node.style.top=c-(this.get("r")||0)+"px";break;default:jvm.VMLCircleElement.parentClass.prototype.applyAttr.call(this,d,c)}};jvm.VectorCanvas=function(d,f,e){this.mode=window.SVGAngle?"svg":"vml";if(this.mode=="svg"){this.impl=new jvm.SVGCanvasElement(d,f,e)}else{this.impl=new jvm.VMLCanvasElement(d,f,e)}this.impl.mode=this.mode;return this.impl};jvm.SimpleScale=function(b){this.scale=b};jvm.SimpleScale.prototype.getValue=function(b){return b};jvm.OrdinalScale=function(b){this.scale=b};jvm.OrdinalScale.prototype.getValue=function(b){return this.scale[b]};jvm.OrdinalScale.prototype.getTicks=function(){var c=[],d;for(d in this.scale){c.push({label:d,value:this.scale[d]})}return c};jvm.NumericScale=function(g,f,e,h){this.scale=[];f=f||"linear";if(g){this.setScale(g)}if(f){this.setNormalizeFunction(f)}if(typeof e!=="undefined"){this.setMin(e)}if(typeof h!=="undefined"){this.setMax(h)}};jvm.NumericScale.prototype={setMin:function(b){this.clearMinValue=b;if(typeof this.normalize==="function"){this.minValue=this.normalize(b)}else{this.minValue=b}},setMax:function(b){this.clearMaxValue=b;if(typeof this.normalize==="function"){this.maxValue=this.normalize(b)}else{this.maxValue=b}},setScale:function(c){var d;this.scale=[];for(d=0;d<c.length;d++){this.scale[d]=[c[d]]}},setNormalizeFunction:function(b){if(b==="polynomial"){this.normalize=function(a){return Math.pow(a,0.2)}}else{if(b==="linear"){delete this.normalize}else{this.normalize=b}}this.setMin(this.clearMinValue);this.setMax(this.clearMaxValue)},getValue:function(o){var l=[],n=0,h,c=0,m;if(typeof this.normalize==="function"){o=this.normalize(o)}for(c=0;c<this.scale.length-1;c++){h=this.vectorLength(this.vectorSubtract(this.scale[c+1],this.scale[c]));l.push(h);n+=h}m=(this.maxValue-this.minValue)/n;for(c=0;c<l.length;c++){l[c]*=m}c=0;o-=this.minValue;while(o-l[c]>=0){o-=l[c];c++}if(c==this.scale.length-1){o=this.vectorToNum(this.scale[c])}else{o=(this.vectorToNum(this.vectorAdd(this.scale[c],this.vectorMult(this.vectorSubtract(this.scale[c+1],this.scale[c]),(o)/(l[c])))))}return o},vectorToNum:function(e){var d=0,f;for(f=0;f<e.length;f++){d+=Math.round(e[f])*Math.pow(256,e.length-f-1)}return d},vectorSubtract:function(g,h){var f=[],e;for(e=0;e<g.length;e++){f[e]=g[e]-h[e]}return f},vectorAdd:function(g,h){var f=[],e;for(e=0;e<g.length;e++){f[e]=g[e]+h[e]}return f},vectorMult:function(e,h){var f=[],g;for(g=0;g<e.length;g++){f[g]=e[g]*h}return f},vectorLength:function(d){var e=0,f;for(f=0;f<d.length;f++){e+=d[f]*d[f]}return Math.sqrt(e)},getTicks:function(){var m=5,q=[this.clearMinValue,this.clearMaxValue],s=q[1]-q[0],n=Math.pow(10,Math.floor(Math.log(s/m)/Math.LN10)),o=m/s*n,p=[],t,l;if(o<=0.15){n*=10}else{if(o<=0.35){n*=5}else{if(o<=0.75){n*=2}}}q[0]=Math.floor(q[0]/n)*n;q[1]=Math.ceil(q[1]/n)*n;t=q[0];while(t<=q[1]){if(t==q[0]){l=this.clearMinValue}else{if(t==q[1]){l=this.clearMaxValue}else{l=t}}p.push({label:t,value:this.getValue(l)});t+=n}return p}};jvm.ColorScale=function(f,e,h,g){jvm.ColorScale.parentClass.apply(this,arguments)};jvm.inherits(jvm.ColorScale,jvm.NumericScale);jvm.ColorScale.prototype.setScale=function(c){var d;for(d=0;d<c.length;d++){this.scale[d]=jvm.ColorScale.rgbToArray(c[d])}};jvm.ColorScale.prototype.getValue=function(b){return jvm.ColorScale.numToRgb(jvm.ColorScale.parentClass.prototype.getValue.call(this,b))};jvm.ColorScale.arrayToRgb=function(f){var d="#",g,h;for(h=0;h<f.length;h++){g=f[h].toString(16);d+=g.length==1?"0"+g:g}return d};jvm.ColorScale.numToRgb=function(b){b=b.toString(16);while(b.length<6){b="0"+b}return"#"+b};jvm.ColorScale.rgbToArray=function(b){b=b.substr(1);return[parseInt(b.substr(0,2),16),parseInt(b.substr(2,2),16),parseInt(b.substr(4,2),16)]};jvm.Legend=function(b){this.params=b||{};this.map=this.params.map;this.series=this.params.series;this.body=jvm.$("<div/>");this.body.addClass("jvectormap-legend");if(this.params.cssClass){this.body.addClass(this.params.cssClass)}if(b.vertical){this.map.legendCntVertical.append(this.body)}else{this.map.legendCntHorizontal.append(this.body)}this.render()};jvm.Legend.prototype.render=function(){var l=this.series.scale.getTicks(),n,h=jvm.$("<div/>").addClass("jvectormap-legend-inner"),o,m,g;this.body.html("");if(this.params.title){this.body.append(jvm.$("<div/>").addClass("jvectormap-legend-title").html(this.params.title))}this.body.append(h);for(n=0;n<l.length;n++){o=jvm.$("<div/>").addClass("jvectormap-legend-tick");m=jvm.$("<div/>").addClass("jvectormap-legend-tick-sample");switch(this.series.params.attribute){case"fill":if(jvm.isImageUrl(l[n].value)){m.css("background","url("+l[n].value+")")}else{m.css("background",l[n].value)}break;case"stroke":m.css("background",l[n].value);break;case"image":m.css("background","url("+l[n].value+") no-repeat center center");break;case"r":jvm.$("<div/>").css({"border-radius":l[n].value,border:this.map.params.markerStyle.initial["stroke-width"]+"px "+this.map.params.markerStyle.initial.stroke+" solid",width:l[n].value*2+"px",height:l[n].value*2+"px",background:this.map.params.markerStyle.initial.fill}).appendTo(m);break}o.append(m);g=l[n].label;if(this.params.labelRender){g=this.params.labelRender(g)}o.append(jvm.$("<div>"+g+" </div>").addClass("jvectormap-legend-tick-text"));h.append(o)}h.append(jvm.$("<div/>").css("clear","both"))};jvm.DataSeries=function(g,e,h){var f;g=g||{};g.attribute=g.attribute||"fill";this.elements=e;this.params=g;this.map=h;if(g.attributes){this.setAttributes(g.attributes)}if(jvm.$.isArray(g.scale)){f=(g.attribute==="fill"||g.attribute==="stroke")?jvm.ColorScale:jvm.NumericScale;this.scale=new f(g.scale,g.normalizeFunction,g.min,g.max)}else{if(g.scale){this.scale=new jvm.OrdinalScale(g.scale)}else{this.scale=new jvm.SimpleScale(g.scale)}}this.values=g.values||{};this.setValues(this.values);if(this.params.legend){this.legend=new jvm.Legend($.extend({map:this.map,series:this},this.params.legend))}};jvm.DataSeries.prototype={setAttributes:function(h,f){var e=h,g;if(typeof h=="string"){if(this.elements[h]){this.elements[h].setStyle(this.params.attribute,f)}}else{for(g in e){if(this.elements[g]){this.elements[g].element.setStyle(this.params.attribute,e[g])}}}},setValues:function(g){var h=-Number.MAX_VALUE,n=Number.MAX_VALUE,m,l,o={};if(!(this.scale instanceof jvm.OrdinalScale)&&!(this.scale instanceof jvm.SimpleScale)){if(typeof this.params.min==="undefined"||typeof this.params.max==="undefined"){for(l in g){m=parseFloat(g[l]);if(m>h){h=m}if(m<n){n=m}}}if(typeof this.params.min==="undefined"){this.scale.setMin(n);this.params.min=n}else{this.scale.setMin(this.params.min)}if(typeof this.params.max==="undefined"){this.scale.setMax(h);this.params.max=h}else{this.scale.setMax(this.params.max)}for(l in g){if(l!="indexOf"){m=parseFloat(g[l]);if(!isNaN(m)){o[l]=this.scale.getValue(m)}else{o[l]=this.elements[l].element.style.initial[this.params.attribute]}}}}else{for(l in g){if(g[l]){o[l]=this.scale.getValue(g[l])}else{o[l]=this.elements[l].element.style.initial[this.params.attribute]}}}this.setAttributes(o);jvm.$.extend(this.values,g)},clear:function(){var c,d={};for(c in this.values){if(this.elements[c]){d[c]=this.elements[c].element.shape.style.initial[this.params.attribute]}}this.setAttributes(d);this.values={}},setScale:function(b){this.scale.setScale(b);if(this.values){this.setValues(this.values)}},setNormalizeFunction:function(b){this.scale.setNormalizeFunction(b);if(this.values){this.setValues(this.values)}}};jvm.Proj={degRad:180/Math.PI,radDeg:Math.PI/180,radius:6381372,sgn:function(b){if(b>0){return 1}else{if(b<0){return -1}else{return b}}},mill:function(c,e,f){return{x:this.radius*(e-f)*this.radDeg,y:-this.radius*Math.log(Math.tan((45+0.4*c)*this.radDeg))/0.8}},mill_inv:function(e,f,c){return{lat:(2.5*Math.atan(Math.exp(0.8*f/this.radius))-5*Math.PI/8)*this.degRad,lng:(c*this.radDeg+e/this.radius)*this.degRad}},merc:function(c,e,f){return{x:this.radius*(e-f)*this.radDeg,y:-this.radius*Math.log(Math.tan(Math.PI/4+c*Math.PI/360))}},merc_inv:function(e,f,c){return{lat:(2*Math.atan(Math.exp(f/this.radius))-Math.PI/2)*this.degRad,lng:(c*this.radDeg+e/this.radius)*this.degRad}},aea:function(c,F,n){var u=0,B=n*this.radDeg,w=29.5*this.radDeg,y=45.5*this.radDeg,E=c*this.radDeg,v=F*this.radDeg,z=(Math.sin(w)+Math.sin(y))/2,C=Math.cos(w)*Math.cos(w)+2*z*Math.sin(w),A=z*(v-B),x=Math.sqrt(C-2*z*Math.sin(E))/z,D=Math.sqrt(C-2*z*Math.sin(u))/z;return{x:x*Math.sin(A)*this.radius,y:-(D-x*Math.cos(A))*this.radius}},aea_inv:function(A,x,c){var E=A/this.radius,F=x/this.radius,n=0,B=c*this.radDeg,u=29.5*this.radDeg,w=45.5*this.radDeg,y=(Math.sin(u)+Math.sin(w))/2,C=Math.cos(u)*Math.cos(u)+2*y*Math.sin(u),D=Math.sqrt(C-2*y*Math.sin(n))/y,v=Math.sqrt(E*E+(D-F)*(D-F)),z=Math.atan(E/(D-F));return{lat:(Math.asin((C-v*v*y*y)/(2*y)))*this.degRad,lng:(B+z/y)*this.degRad}},lcc:function(t,n,u){var w=0,B=u*this.radDeg,v=n*this.radDeg,x=33*this.radDeg,z=45*this.radDeg,D=t*this.radDeg,A=Math.log(Math.cos(x)*(1/Math.cos(z)))/Math.log(Math.tan(Math.PI/4+z/2)*(1/Math.tan(Math.PI/4+x/2))),c=(Math.cos(x)*Math.pow(Math.tan(Math.PI/4+x/2),A))/A,y=c*Math.pow(1/Math.tan(Math.PI/4+D/2),A),C=c*Math.pow(1/Math.tan(Math.PI/4+w/2),A);return{x:y*Math.sin(A*(v-B))*this.radius,y:-(C-y*Math.cos(A*(v-B)))*this.radius}},lcc_inv:function(B,y,n){var F=B/this.radius,c=y/this.radius,u=0,C=n*this.radDeg,v=33*this.radDeg,x=45*this.radDeg,z=Math.log(Math.cos(v)*(1/Math.cos(x)))/Math.log(Math.tan(Math.PI/4+x/2)*(1/Math.tan(Math.PI/4+v/2))),E=(Math.cos(v)*Math.pow(Math.tan(Math.PI/4+v/2),z))/z,D=E*Math.pow(1/Math.tan(Math.PI/4+u/2),z),w=this.sgn(z)*Math.sqrt(F*F+(D-c)*(D-c)),A=Math.atan(F/(D-c));return{lat:(2*Math.atan(Math.pow(E/w,1/z))-Math.PI/2)*this.degRad,lng:(C+A/z)*this.degRad}}};jvm.MapObject=function(b){};jvm.MapObject.prototype.getLabelText=function(d){var c;if(this.config.label){if(typeof this.config.label.render==="function"){c=this.config.label.render(d)}else{c=d}}else{c=null}return c};jvm.MapObject.prototype.getLabelOffsets=function(d){var c;if(this.config.label){if(typeof this.config.label.offsets==="function"){c=this.config.label.offsets(d)}else{if(typeof this.config.label.offsets==="object"){c=this.config.label.offsets[d]}}}return c||[0,0]};jvm.MapObject.prototype.setHovered=function(b){if(this.isHovered!==b){this.isHovered=b;this.shape.isHovered=b;if(this.label){this.label.isHovered=b;this.label.updateStyle()}}};jvm.MapObject.prototype.setSelected=function(b){if(this.isSelected!==b){this.isSelected=b;this.shape.isSelected=b;this.shape.updateStyle();if(this.label){this.label.isSelected=b;this.label.updateStyle()}jvm.$(this.shape).trigger("selected",[b])}};jvm.MapObject.prototype.setStyle=function(){this.shape.setStyle.apply(this.shape,arguments)};jvm.MapObject.prototype.remove=function(){this.shape.remove();if(this.label){this.label.remove()}};jvm.Region=function(g){var m,n,o,h,l;this.config=g;this.map=this.config.map;this.shape=g.canvas.addPath({d:g.path,"data-code":g.code},g.style,g.canvas.rootElement);this.shape.addClass("jvectormap-region jvectormap-element");m=this.shape.getBBox();n=this.getLabelText(g.code);if(this.config.label&&n){o=this.getLabelOffsets(g.code);this.labelX=m.x+m.width/2+o[0];this.labelY=m.y+m.height/2+o[1];this.label=g.canvas.addText({text:n,"text-anchor":"middle","alignment-baseline":"central",x:this.labelX,y:this.labelY,"data-code":g.code},g.labelStyle,g.labelsGroup);this.label.addClass("jvectormap-region jvectormap-element")}};jvm.inherits(jvm.Region,jvm.MapObject);jvm.Region.prototype.updateLabelPosition=function(){if(this.label){this.label.set({x:this.labelX*this.map.scale+this.map.transX*this.map.scale,y:this.labelY*this.map.scale+this.map.transY*this.map.scale})}};jvm.Marker=function(e){var f,d;this.config=e;this.map=this.config.map;this.isImage=!!this.config.style.initial.image;this.createShape();f=this.getLabelText(e.index);if(this.config.label&&f){this.offsets=this.getLabelOffsets(e.index);this.labelX=e.cx/this.map.scale-this.map.transX;this.labelY=e.cy/this.map.scale-this.map.transY;this.label=e.canvas.addText({text:f,"data-index":e.index,dy:"0.6ex",x:this.labelX,y:this.labelY},e.labelStyle,e.labelsGroup);this.label.addClass("jvectormap-marker jvectormap-element")}};jvm.inherits(jvm.Marker,jvm.MapObject);jvm.Marker.prototype.createShape=function(){var b=this;if(this.shape){this.shape.remove()}this.shape=this.config.canvas[this.isImage?"addImage":"addCircle"]({"data-index":this.config.index,cx:this.config.cx,cy:this.config.cy},this.config.style,this.config.group);this.shape.addClass("jvectormap-marker jvectormap-element");if(this.isImage){jvm.$(this.shape.node).bind("imageloaded",function(){b.updateLabelPosition()})}};jvm.Marker.prototype.updateLabelPosition=function(){if(this.label){this.label.set({x:this.labelX*this.map.scale+this.offsets[0]+this.map.transX*this.map.scale+5+(this.isImage?(this.shape.width||0)/2:this.shape.properties.r),y:this.labelY*this.map.scale+this.map.transY*this.map.scale+this.offsets[1]})}};jvm.Marker.prototype.setStyle=function(d,e){var f;jvm.Marker.parentClass.prototype.setStyle.apply(this,arguments);if(d==="r"){this.updateLabelPosition()}f=!!this.shape.get("image");if(f!=this.isImage){this.isImage=f;this.config.style=jvm.$.extend(true,{},this.shape.style);this.createShape()}};jvm.Map=function(f){var d=this,e;this.params=jvm.$.extend(true,{},jvm.Map.defaultParams,f);if(!jvm.Map.maps[this.params.map]){throw new Error("Attempt to use map which was not loaded: "+this.params.map)}this.mapData=jvm.Map.maps[this.params.map];this.markers={};this.regions={};this.regionsColors={};this.regionsData={};this.container=jvm.$("<div>").addClass("jvectormap-container");if(this.params.container){this.params.container.append(this.container)}this.container.data("mapObject",this);this.defaultWidth=this.mapData.width;this.defaultHeight=this.mapData.height;this.setBackgroundColor(this.params.backgroundColor);this.onResize=function(){d.updateSize()};for(e in jvm.Map.apiEvents){if(this.params[e]){this.container.bind(jvm.Map.apiEvents[e]+".jvectormap",this.params[e])}}this.canvas=new jvm.VectorCanvas(this.container[0],this.width,this.height);if(("ontouchstart" in window)||(window.DocumentTouch&&document instanceof DocumentTouch)){if(this.params.bindTouchEvents){this.bindContainerTouchEvents()}}this.bindContainerEvents();this.bindElementEvents();this.createTip();if(this.params.zoomButtons){this.bindZoomButtons()}this.createRegions();this.createMarkers(this.params.markers||{});this.updateSize();if(this.params.focusOn){if(typeof this.params.focusOn==="string"){this.params.focusOn={region:this.params.focusOn}}else{if(jvm.$.isArray(this.params.focusOn)){this.params.focusOn={regions:this.params.focusOn}}}this.setFocus(this.params.focusOn)}if(this.params.selectedRegions){this.setSelectedRegions(this.params.selectedRegions)}if(this.params.selectedMarkers){this.setSelectedMarkers(this.params.selectedMarkers)}this.legendCntHorizontal=jvm.$("<div/>").addClass("jvectormap-legend-cnt jvectormap-legend-cnt-h");this.legendCntVertical=jvm.$("<div/>").addClass("jvectormap-legend-cnt jvectormap-legend-cnt-v");this.container.append(this.legendCntHorizontal);this.container.append(this.legendCntVertical);if(this.params.series){this.createSeries()}};jvm.Map.prototype={transX:0,transY:0,scale:1,baseTransX:0,baseTransY:0,baseScale:1,width:0,height:0,setBackgroundColor:function(b){this.container.css("background-color",b)},resize:function(){var b=this.baseScale;if(this.width/this.height>this.defaultWidth/this.defaultHeight){this.baseScale=this.height/this.defaultHeight;this.baseTransX=Math.abs(this.width-this.defaultWidth*this.baseScale)/(2*this.baseScale)}else{this.baseScale=this.width/this.defaultWidth;this.baseTransY=Math.abs(this.height-this.defaultHeight*this.baseScale)/(2*this.baseScale)}this.scale*=this.baseScale/b;this.transX*=this.baseScale/b;this.transY*=this.baseScale/b},updateSize:function(){this.width=this.container.width();this.height=this.container.height()-40;this.resize();this.canvas.setSize(this.width,this.height);this.applyTransform()},reset:function(){var c,d;for(c in this.series){for(d=0;d<this.series[c].length;d++){this.series[c][d].clear()}}this.scale=this.baseScale;this.transX=this.baseTransX;this.transY=this.baseTransY;this.applyTransform()},applyTransform:function(){var h,e,f,g;if(this.defaultWidth*this.scale<=this.width){h=(this.width-this.defaultWidth*this.scale)/(2*this.scale);f=(this.width-this.defaultWidth*this.scale)/(2*this.scale)}else{h=0;f=(this.width-this.defaultWidth*this.scale)/this.scale}if(this.defaultHeight*this.scale<=this.height){e=(this.height-this.defaultHeight*this.scale)/(2*this.scale);g=(this.height-this.defaultHeight*this.scale)/(2*this.scale)}else{e=0;g=(this.height-this.defaultHeight*this.scale)/this.scale}if(this.transY>e){this.transY=e}else{if(this.transY<g){this.transY=g}}if(this.transX>h){this.transX=h}else{if(this.transX<f){this.transX=f}}this.canvas.applyTransformParams(this.scale,this.transX,this.transY);if(this.markers){this.repositionMarkers()}this.repositionLabels();this.container.trigger("viewportChange",[this.scale/this.baseScale,this.transX,this.transY])},bindContainerEvents:function(){var e=false,h,f,g=this;if(this.params.panOnDrag){this.container.mousemove(function(a){if(e){g.transX-=(h-a.pageX)/g.scale;g.transY-=(f-a.pageY)/g.scale;g.applyTransform();h=a.pageX;f=a.pageY}return false}).mousedown(function(a){e=true;h=a.pageX;f=a.pageY;return false});this.onContainerMouseUp=function(){e=false};jvm.$("body").mouseup(this.onContainerMouseUp)}if(this.params.zoomOnScroll){this.container.mousewheel(function(c,s,p,q){var t=jvm.$(g.container).offset(),a=c.pageX-t.left,b=c.pageY-t.top,d=Math.pow(1+g.params.zoomOnScrollSpeed/1000,c.deltaFactor*c.deltaY);g.tip.hide();g.setScale(g.scale*d,a,b);c.preventDefault()})}},bindContainerTouchEvents:function(){var u,q,v=this,m,n,s,t,o,p=function(d){var e=d.originalEvent.touches,b,c,f,a;if(d.type=="touchstart"){o=0}if(e.length==1){if(o==1){f=v.transX;a=v.transY;v.transX-=(m-e[0].pageX)/v.scale;v.transY-=(n-e[0].pageY)/v.scale;v.applyTransform();v.tip.hide();if(f!=v.transX||a!=v.transY){d.preventDefault()}}m=e[0].pageX;n=e[0].pageY}else{if(e.length==2){if(o==2){c=Math.sqrt(Math.pow(e[0].pageX-e[1].pageX,2)+Math.pow(e[0].pageY-e[1].pageY,2))/q;v.setScale(u*c,s,t);v.tip.hide();d.preventDefault()}else{b=jvm.$(v.container).offset();if(e[0].pageX>e[1].pageX){s=e[1].pageX+(e[0].pageX-e[1].pageX)/2}else{s=e[0].pageX+(e[1].pageX-e[0].pageX)/2}if(e[0].pageY>e[1].pageY){t=e[1].pageY+(e[0].pageY-e[1].pageY)/2}else{t=e[0].pageY+(e[1].pageY-e[0].pageY)/2}s-=b.left;t-=b.top;u=v.scale;q=Math.sqrt(Math.pow(e[0].pageX-e[1].pageX,2)+Math.pow(e[0].pageY-e[1].pageY,2))}}}o=e.length};jvm.$(this.container).bind("touchstart",p);jvm.$(this.container).bind("touchmove",p)},bindElementEvents:function(){var c=this,d;this.container.mousemove(function(){d=true});this.container.delegate("[class~='jvectormap-element']","mouseover mouseout",function(a){var q=jvm.$(this).attr("class").baseVal||jvm.$(this).attr("class"),o=q.indexOf("jvectormap-region")===-1?"marker":"region",e=o=="region"?jvm.$(this).attr("data-code"):jvm.$(this).attr("data-index"),p=o=="region"?c.regions[e].element:c.markers[e].element,t=o=="region"?c.mapData.paths[e].name:(c.markers[e].config.name||""),b=jvm.$.Event(o+"TipShow.jvectormap"),s=jvm.$.Event(o+"Over.jvectormap");if(a.type=="mouseover"){c.container.trigger(s,[e]);if(!s.isDefaultPrevented()){p.setHovered(true)}c.tip.text(t);c.container.trigger(b,[c.tip,e]);if(!b.isDefaultPrevented()){c.tip.show();c.tipWidth=c.tip.width();c.tipHeight=c.tip.height()}}else{p.setHovered(false);c.tip.hide();c.container.trigger(o+"Out.jvectormap",[e])}});this.container.delegate("[class~='jvectormap-element']","mousedown",function(){d=false});this.container.delegate("[class~='jvectormap-element']","mouseup",function(){var l=jvm.$(this).attr("class").baseVal?jvm.$(this).attr("class").baseVal:jvm.$(this).attr("class"),b=l.indexOf("jvectormap-region")===-1?"marker":"region",a=b=="region"?jvm.$(this).attr("data-code"):jvm.$(this).attr("data-index"),m=jvm.$.Event(b+"Click.jvectormap"),h=b=="region"?c.regions[a].element:c.markers[a].element;c.container.trigger(m,[a]);if((b==="region"&&c.params.regionsSelectable)||(b==="marker"&&c.params.markersSelectable)){if(!m.isDefaultPrevented()){if(c.params[b+"sSelectableOne"]){c.clearSelected(b+"s")}h.setSelected(!h.isSelected)}}})},bindZoomButtons:function(){var b=this;jvm.$("<div/>").addClass("jvectormap-zoomin").text("+").appendTo(this.container);jvm.$("<div/>").addClass("jvectormap-zoomout").html("&#x2212;").appendTo(this.container);this.container.find(".jvectormap-zoomin").click(function(){b.setScale(b.scale*b.params.zoomStep,b.width/2,b.height/2,false,b.params.zoomAnimate)});this.container.find(".jvectormap-zoomout").click(function(){b.setScale(b.scale/b.params.zoomStep,b.width/2,b.height/2,false,b.params.zoomAnimate)})},createTip:function(){var b=this;this.tip=jvm.$("<div/>").addClass("jvectormap-tip").appendTo(jvm.$("body"));this.container.mousemove(function(e){var m=50;var a=b.tip.prevObject[0].innerHTML;if(a!==""&&a!==undefined&&a!==null){if(a.match("[<>/]")===null){m=0}}var h=e.pageX-15-b.tipWidth,l=e.pageY-m;if(h<5){h=e.pageX+15}if(l<5){l=e.pageY+15}b.tip.css({left:h,top:l})})},setScale:function(y,N,P,E,K){var D=jvm.$.Event("zoom.jvectormap"),A,G=this,C=0,I=Math.abs(Math.round((y-this.scale)*60/Math.max(y,this.scale))),F,B,L,J,H,z,M,O,x=new jvm.$.Deferred();if(y>this.params.zoomMax*this.baseScale){y=this.params.zoomMax*this.baseScale}else{if(y<this.params.zoomMin*this.baseScale){y=this.params.zoomMin*this.baseScale}}if(typeof N!="undefined"&&typeof P!="undefined"){zoomStep=y/this.scale;if(E){M=N+this.defaultWidth*(this.width/(this.defaultWidth*y))/2;O=P+this.defaultHeight*(this.height/(this.defaultHeight*y))/2}else{M=this.transX-(zoomStep-1)/y*N;O=this.transY-(zoomStep-1)/y*P}}if(K&&I>0){F=this.scale;B=(y-F)/I;L=this.transX*this.scale;H=this.transY*this.scale;J=(M*y-L)/I;z=(O*y-H)/I;A=setInterval(function(){C+=1;G.scale=F+B*C;G.transX=(L+J*C)/G.scale;G.transY=(H+z*C)/G.scale;G.applyTransform();if(C==I){clearInterval(A);G.container.trigger(D,[y/G.baseScale]);x.resolve()}},10)}else{this.transX=M;this.transY=O;this.scale=y;this.applyTransform();this.container.trigger(D,[y/this.baseScale]);x.resolve()}return x},setFocus:function(p){var m,q,n,h,o,l;p=p||{};if(p.region){h=[p.region]}else{if(p.regions){h=p.regions}}if(h){for(o=0;o<h.length;o++){if(this.regions[h[o]]){q=this.regions[h[o]].element.shape.getBBox();if(q){if(typeof m=="undefined"){m=q}else{n={x:Math.min(m.x,q.x),y:Math.min(m.y,q.y),width:Math.max(m.x+m.width,q.x+q.width)-Math.min(m.x,q.x),height:Math.max(m.y+m.height,q.y+q.height)-Math.min(m.y,q.y)};m=n}}}}return this.setScale(Math.min(this.width/m.width,this.height/m.height),-(m.x+m.width/2),-(m.y+m.height/2),true,p.animate)}else{if(p.lat&&p.lng){l=this.latLngToPoint(p.lat,p.lng);p.x=this.transX-l.x/this.scale;p.y=this.transY-l.y/this.scale}else{if(p.x&&p.y){p.x*=-this.defaultWidth;p.y*=-this.defaultHeight}}return this.setScale(p.scale*this.baseScale,p.x,p.y,true,p.animate)}},getSelected:function(f){var e,d=[];for(e in this[f]){if(this[f][e].element.isSelected){d.push(e)}}return d},getSelectedRegions:function(){return this.getSelected("regions")},getSelectedMarkers:function(){return this.getSelected("markers")},setSelected:function(d,f){var e;if(typeof f!="object"){f=[f]}if(jvm.$.isArray(f)){for(e=0;e<f.length;e++){this[d][f[e]].element.setSelected(true)}}else{for(e in f){this[d][e].element.setSelected(!!f[e])}}},setSelectedRegions:function(b){this.setSelected("regions",b)},setSelectedMarkers:function(b){this.setSelected("markers",b)},clearSelected:function(g){var f={},h=this.getSelected(g),e;for(e=0;e<h.length;e++){f[h[e]]=false}this.setSelected(g,f)},clearSelectedRegions:function(){this.clearSelected("regions")},clearSelectedMarkers:function(){this.clearSelected("markers")},getMapObject:function(){return this},getRegionName:function(b){return this.mapData.paths[b].name},createRegions:function(){var e,f,d=this;this.regionLabelsGroup=this.regionLabelsGroup||this.canvas.addGroup();for(e in this.mapData.paths){f=new jvm.Region({map:this,path:this.mapData.paths[e].path,code:e,style:jvm.$.extend(true,{},this.params.regionStyle),labelStyle:jvm.$.extend(true,{},this.params.regionLabelStyle),canvas:this.canvas,labelsGroup:this.regionLabelsGroup,label:this.canvas.mode!="vml"?(this.params.labels&&this.params.labels.regions):null});jvm.$(f.shape).bind("selected",function(a,b){d.container.trigger("regionSelected.jvectormap",[jvm.$(this.node).attr("data-code"),b,d.getSelectedRegions()])});this.regions[e]={element:f,config:this.mapData.paths[e]}}},createMarkers:function(m){var p,q,h,n,l,o=this;this.markersGroup=this.markersGroup||this.canvas.addGroup();this.markerLabelsGroup=this.markerLabelsGroup||this.canvas.addGroup();if(jvm.$.isArray(m)){l=m.slice();m={};for(p=0;p<l.length;p++){m[p]=l[p]}}for(p in m){n=m[p] instanceof Array?{latLng:m[p]}:m[p];h=this.getMarkerPosition(n);if(h!==false){q=new jvm.Marker({map:this,style:jvm.$.extend(true,{},this.params.markerStyle,{initial:n.style||{}}),labelStyle:jvm.$.extend(true,{},this.params.markerLabelStyle),index:p,cx:h.x,cy:h.y,group:this.markersGroup,canvas:this.canvas,labelsGroup:this.markerLabelsGroup,label:this.canvas.mode!="vml"?(this.params.labels&&this.params.labels.markers):null});jvm.$(q.shape).bind("selected",function(a,b){o.container.trigger("markerSelected.jvectormap",[jvm.$(this.node).attr("data-index"),b,o.getSelectedMarkers()])});if(this.markers[p]){this.removeMarkers([p])}this.markers[p]={element:q,config:n}}}},repositionMarkers:function(){var c,d;for(c in this.markers){d=this.getMarkerPosition(this.markers[c].config);if(d!==false){this.markers[c].element.setStyle({cx:d.x,cy:d.y})}}},repositionLabels:function(){var b;for(b in this.regions){this.regions[b].element.updateLabelPosition()}for(b in this.markers){this.markers[b].element.updateLabelPosition()}},getMarkerPosition:function(b){if(jvm.Map.maps[this.params.map].projection){return this.latLngToPoint.apply(this,b.latLng||[0,0])}else{return{x:b.coords[0]*this.scale+this.transX*this.scale,y:b.coords[1]*this.scale+this.transY*this.scale}}},addMarker:function(o,l,p){var m={},n=[],h,q,p=p||[];m[o]=l;for(q=0;q<p.length;q++){h={};if(typeof p[q]!=="undefined"){h[o]=p[q]}n.push(h)}this.addMarkers(m,n)},addMarkers:function(f,d){var e;d=d||[];this.createMarkers(f);for(e=0;e<d.length;e++){this.series.markers[e].setValues(d[e]||{})}},removeMarkers:function(c){var d;for(d=0;d<c.length;d++){this.markers[c[d]].element.remove();delete this.markers[c[d]]}},removeAllMarkers:function(){var d,c=[];for(d in this.markers){c.push(d)}this.removeMarkers(c)},latLngToPoint:function(n,q){var l,p=jvm.Map.maps[this.params.map].projection,o=p.centralMeridian,h,m;if(q<(-180+o)){q+=360}l=jvm.Proj[p.type](n,q,o);h=this.getInsetForPoint(l.x,l.y);if(h){m=h.bbox;l.x=(l.x-m[0].x)/(m[1].x-m[0].x)*h.width*this.scale;l.y=(l.y-m[0].y)/(m[1].y-m[0].y)*h.height*this.scale;return{x:l.x+this.transX*this.scale+h.left*this.scale,y:l.y+this.transY*this.scale+h.top*this.scale}}else{return false}},pointToLatLng:function(p,q){var w=jvm.Map.maps[this.params.map].projection,v=w.centralMeridian,x=jvm.Map.maps[this.params.map].insets,u,n,o,s,t;for(u=0;u<x.length;u++){n=x[u];o=n.bbox;s=p-(this.transX*this.scale+n.left*this.scale);t=q-(this.transY*this.scale+n.top*this.scale);s=(s/(n.width*this.scale))*(o[1].x-o[0].x)+o[0].x;t=(t/(n.height*this.scale))*(o[1].y-o[0].y)+o[0].y;if(s>o[0].x&&s<o[1].x&&t>o[0].y&&t<o[1].y){return jvm.Proj[w.type+"_inv"](s,-t,v)}}return false},getInsetForPoint:function(g,h){var f=jvm.Map.maps[this.params.map].insets,m,l;for(m=0;m<f.length;m++){l=f[m].bbox;if(g>l[0].x&&g<l[1].x&&h>l[0].y&&h<l[1].y){return f[m]}}},createSeries:function(){var c,d;this.series={markers:[],regions:[]};for(d in this.params.series){for(c=0;c<this.params.series[d].length;c++){this.series[d][c]=new jvm.DataSeries(this.params.series[d][c],this[d],this)}}},remove:function(){this.tip.remove();this.container.remove();jvm.$(window).unbind("resize",this.onResize);jvm.$("body").unbind("mouseup",this.onContainerMouseUp)}};jvm.Map.maps={};jvm.Map.defaultParams={map:"world_mill_en",backgroundColor:"#505050",zoomButtons:true,zoomOnScroll:true,zoomOnScrollSpeed:3,panOnDrag:true,zoomMax:8,zoomMin:1,zoomStep:1.6,zoomAnimate:true,regionsSelectable:false,markersSelectable:false,bindTouchEvents:true,regionStyle:{initial:{fill:"white","fill-opacity":1,stroke:"none","stroke-width":0,"stroke-opacity":1},hover:{"fill-opacity":0.8,cursor:"pointer"},selected:{fill:"yellow"},selectedHover:{}},regionLabelStyle:{initial:{"font-family":"Verdana","font-size":"12","font-weight":"bold",cursor:"default",fill:"black"},hover:{cursor:"pointer"}},markerStyle:{initial:{fill:"grey",stroke:"#505050","fill-opacity":1,"stroke-width":1,"stroke-opacity":1,r:5},hover:{stroke:"black","stroke-width":2,cursor:"pointer"},selected:{fill:"blue"},selectedHover:{}},markerLabelStyle:{initial:{"font-family":"Verdana","font-size":"12","font-weight":"bold",cursor:"default",fill:"black"},hover:{cursor:"pointer"}}};jvm.Map.apiEvents={onRegionTipShow:"regionTipShow",onRegionOver:"regionOver",onRegionOut:"regionOut",onRegionClick:"regionClick",onRegionSelected:"regionSelected",onMarkerTipShow:"markerTipShow",onMarkerOver:"markerOver",onMarkerOut:"markerOut",onMarkerClick:"markerClick",onMarkerSelected:"markerSelected",onViewportChange:"viewportChange"};jvm.MultiMap=function(c){var d=this;this.maps={};this.params=jvm.$.extend(true,{},jvm.MultiMap.defaultParams,c);this.params.maxLevel=this.params.maxLevel||Number.MAX_VALUE;this.params.main=this.params.main||{};this.params.main.multiMapLevel=0;this.history=[this.addMap(this.params.main.map,this.params.main)];this.defaultProjection=this.history[0].mapData.projection.type;this.mapsLoaded={};this.params.container.css({position:"relative"});this.backButton=jvm.$("<div/>").addClass("jvectormap-goback").text("Back").appendTo(this.params.container);this.backButton.hide();this.backButton.click(function(){d.goBack()});this.spinner=jvm.$("<div/>").addClass("jvectormap-spinner").appendTo(this.params.container);this.spinner.hide()};jvm.MultiMap.prototype={addMap:function(d,e){var f=jvm.$("<div/>").css({width:"100%",height:"100%"});this.params.container.append(f);this.maps[d]=new jvm.Map(jvm.$.extend(e,{container:f}));if(this.params.maxLevel>e.multiMapLevel){this.maps[d].container.bind("regionClick.jvectormap",{scope:this},function(a,b){var l=a.data.scope,c=l.params.mapNameByCode(b,l);if(!l.drillDownPromise||l.drillDownPromise.state()!=="pending"){l.drillDown(c,b)}})}return this.maps[d]},downloadMap:function(f){var d=this,e=jvm.$.Deferred();if(!this.mapsLoaded[f]){jvm.$.get(this.params.mapUrlByCode(f,this)).then(function(){d.mapsLoaded[f]=true;e.resolve()},function(){e.reject()})}else{e.resolve()}return e},drillDown:function(g,m){var h=this.history[this.history.length-1],n=this,o=h.setFocus({region:m,animate:true}),l=this.downloadMap(m);o.then(function(){if(l.state()==="pending"){n.spinner.show()}});l.always(function(){n.spinner.hide()});this.drillDownPromise=jvm.$.when(l,o);this.drillDownPromise.then(function(){h.params.container.hide();if(!n.maps[g]){n.addMap(g,{map:g,multiMapLevel:h.params.multiMapLevel+1})}else{n.maps[g].params.container.show()}n.history.push(n.maps[g]);n.backButton.show()})},goBack:function(){var e=this.history.pop(),f=this.history[this.history.length-1],d=this;e.setFocus({scale:1,x:0.5,y:0.5,animate:true}).then(function(){e.params.container.hide();f.params.container.show();f.updateSize();if(d.history.length===1){d.backButton.hide()}f.setFocus({scale:1,x:0.5,y:0.5,animate:true})})}};jvm.MultiMap.defaultParams={mapNameByCode:function(d,c){return d.toLowerCase()+"_"+c.defaultProjection+"_en"},mapUrlByCode:function(d,c){return"jquery-jvectormap-data-"+d.toLowerCase()+"-"+c.defaultProjection+"-en.js"}};$.fn.vectorMap("addMap","world_mill_en",{insets:[{width:900,top:0,height:440.7063107441331,bbox:[{y:-12671671.123330014,x:-20004297.151525836},{y:6930392.02513512,x:20026572.394749384}],left:0}],paths:{BD:{path:"M652.71,228.85l-0.04,1.38l-0.46,-0.21l-0.42,0.3l0.05,0.65l-0.17,-1.37l-0.48,-1.26l-1.08,-1.6l-0.23,-0.13l-2.31,-0.11l-0.31,0.36l0.21,0.98l-0.6,1.11l-0.8,-0.4l-0.37,0.09l-0.23,0.3l-0.54,-0.21l-0.78,-0.19l-0.38,-2.04l-0.83,-1.89l0.4,-1.5l-0.16,-0.35l-1.24,-0.57l0.36,-0.62l1.5,-0.95l0.02,-0.49l-1.62,-1.26l0.64,-1.31l1.7,1.0l0.12,0.04l0.96,0.11l0.19,1.62l0.25,0.26l2.38,0.37l2.32,-0.04l1.06,0.33l-0.92,1.79l-0.97,0.13l-0.23,0.16l-0.77,1.51l0.05,0.35l1.37,1.37l0.5,-0.14l0.35,-1.46l0.24,-0.0l1.24,3.92Z",name:"Bangladesh"},BE:{path:"M429.28,143.95l1.76,0.25l0.13,-0.01l2.16,-0.64l1.46,1.34l1.26,0.71l-0.23,1.8l-0.44,0.08l-0.24,0.25l-0.2,1.36l-1.8,-1.22l-0.23,-0.05l-1.14,0.23l-1.62,-1.43l-1.15,-1.31l-0.21,-0.1l-0.95,-0.04l-0.21,-0.68l1.66,-0.54Z",name:"Belgium"},BF:{path:"M413.48,260.21l-1.22,-0.46l-0.13,-0.02l-1.17,0.1l-0.15,0.06l-0.73,0.53l-0.87,-0.41l-0.39,-0.75l-0.13,-0.13l-0.98,-0.48l-0.14,-1.2l0.63,-0.99l0.05,-0.18l-0.05,-0.73l1.9,-2.01l0.08,-0.14l0.35,-1.65l0.49,-0.44l1.05,0.3l0.21,-0.02l1.05,-0.52l0.13,-0.13l0.3,-0.58l1.87,-1.1l0.11,-0.1l0.43,-0.72l2.23,-1.01l1.21,-0.32l0.51,0.4l0.19,0.06l1.25,-0.01l-0.14,0.89l0.01,0.13l0.34,1.16l0.06,0.11l1.35,1.59l0.07,1.13l0.24,0.28l2.64,0.53l-0.05,1.39l-0.42,0.59l-1.11,0.21l-0.22,0.17l-0.46,0.99l-0.69,0.23l-2.12,-0.05l-1.14,-0.2l-0.19,0.03l-0.72,0.36l-1.07,-0.17l-4.35,0.12l-0.29,0.29l-0.06,1.44l0.25,1.45Z",name:"Burkina Faso"},BG:{path:"M477.63,166.84l0.51,0.9l0.33,0.14l0.9,-0.21l1.91,0.47l3.68,0.16l0.17,-0.05l1.2,-0.75l2.78,-0.67l1.72,1.05l1.02,0.24l-0.97,0.97l-0.91,2.17l0.0,0.24l0.56,1.19l-1.58,-0.3l-0.16,0.01l-2.55,0.95l-0.2,0.28l-0.02,1.23l-1.92,0.24l-1.68,-0.99l-0.27,-0.02l-1.94,0.8l-1.52,-0.07l-0.15,-1.72l-0.12,-0.21l-0.99,-0.76l0.18,-0.18l0.02,-0.39l-0.17,-0.22l0.33,-0.75l0.91,-0.91l0.01,-0.42l-1.16,-1.25l-0.18,-0.89l0.24,-0.27Z",name:"Bulgaria"},BA:{path:"M468.39,164.66l0.16,0.04l0.43,-0.0l-0.43,0.93l0.06,0.34l1.08,1.06l-0.28,1.09l-0.5,0.13l-0.47,0.28l-0.86,0.74l-0.1,0.16l-0.28,1.29l-1.81,-0.94l-0.9,-1.22l-1.0,-0.73l-1.1,-1.1l-0.55,-0.96l-1.11,-1.3l0.3,-0.75l0.59,0.46l0.42,-0.04l0.46,-0.54l1.0,-0.06l2.11,0.5l1.72,-0.03l1.06,0.64Z",name:"Bosnia and Herzegovina"},BN:{path:"M707.34,273.57l0.76,-0.72l1.59,-1.03l-0.18,1.93l-0.9,-0.06l-0.28,0.14l-0.31,0.51l-0.68,-0.78Z",name:"Brunei"},BO:{path:"M263.83,340.79l-0.23,-0.12l-2.86,-0.11l-0.28,0.17l-0.77,1.67l-1.17,-1.51l-0.18,-0.11l-3.28,-0.64l-0.28,0.1l-2.02,2.3l-1.43,0.29l-0.91,-3.35l-1.31,-2.88l0.75,-2.41l-0.09,-0.32l-1.23,-1.03l-0.31,-1.76l-0.05,-0.12l-1.12,-1.6l1.49,-2.62l0.01,-0.28l-1.0,-2.0l0.48,-0.72l0.02,-0.29l-0.37,-0.78l0.87,-1.13l0.06,-0.18l0.05,-2.17l0.12,-1.71l0.5,-0.8l0.01,-0.3l-1.9,-3.58l1.3,0.15l1.34,-0.05l0.23,-0.12l0.51,-0.7l2.12,-0.99l1.31,-0.93l2.81,-0.37l-0.21,1.51l0.01,0.13l0.29,0.91l-0.19,1.64l0.11,0.27l2.72,2.27l0.15,0.07l2.71,0.41l0.92,0.88l0.12,0.07l1.64,0.49l1.0,0.71l0.18,0.06l1.5,-0.02l1.24,0.64l0.1,1.31l0.05,0.14l0.44,0.68l0.02,0.73l-0.44,0.03l-0.27,0.39l0.96,2.99l0.28,0.21l4.43,0.1l-0.28,1.12l0.0,0.15l0.27,1.02l0.15,0.19l1.27,0.67l0.52,1.42l-0.42,1.91l-0.66,1.1l-0.04,0.2l0.21,1.3l-0.19,0.13l-0.01,-0.27l-0.15,-0.24l-2.33,-1.33l-0.14,-0.04l-2.38,-0.03l-4.36,0.76l-0.21,0.16l-1.2,2.29l-0.03,0.13l-0.06,1.37l-0.79,2.53l-0.05,-0.08Z",name:"Bolivia"},JP:{path:"M781.17,166.78l1.8,0.67l0.28,-0.04l1.38,-1.01l0.43,2.67l-3.44,0.77l-0.18,0.12l-2.04,2.79l-3.71,-1.94l-0.42,0.15l-1.29,3.11l-2.32,0.04l-0.3,-2.63l1.12,-2.1l2.51,-0.16l0.28,-0.25l0.73,-4.22l0.58,-1.9l2.59,2.84l2.0,1.1ZM773.66,187.36l-0.92,2.24l-0.01,0.2l0.4,1.3l-1.18,1.81l-3.06,1.28l-4.35,0.17l-0.19,0.08l-3.4,3.06l-1.36,-0.87l-0.1,-1.95l-0.34,-0.28l-4.35,0.62l-2.99,1.33l-2.87,0.05l-0.28,0.2l0.09,0.33l2.37,1.93l-1.57,4.44l-1.35,0.97l-0.9,-0.79l0.57,-2.32l-0.15,-0.34l-1.5,-0.77l-0.81,-1.53l2.04,-0.75l0.14,-0.1l1.28,-1.72l2.47,-1.43l1.84,-1.92l4.83,-0.82l2.62,0.57l0.33,-0.16l2.45,-4.77l1.38,1.14l0.38,0.0l5.1,-4.02l0.09,-0.11l1.57,-3.57l0.02,-0.16l-0.42,-3.22l0.94,-1.67l2.27,-0.47l1.26,3.82l-0.07,2.23l-2.26,2.86l-0.06,0.19l0.04,2.93ZM757.85,196.18l0.22,0.66l-1.11,1.33l-0.8,-0.7l-0.33,-0.04l-1.28,0.65l-0.14,0.15l-0.54,1.34l-1.17,-0.57l0.02,-1.03l1.2,-1.45l1.24,0.28l0.29,-0.1l0.9,-1.03l1.51,0.5Z",name:"Japan"},BI:{path:"M494.7,295.83l-0.14,-2.71l-0.04,-0.13l-0.34,-0.62l0.93,0.12l0.3,-0.16l0.67,-1.25l0.9,0.11l0.11,0.76l0.08,0.16l0.46,0.48l0.02,0.56l-0.55,0.48l-0.96,1.29l-0.82,0.82l-0.61,0.07Z",name:"Burundi"},BJ:{path:"M427.4,268.94l-1.58,0.22l-0.52,-1.45l0.11,-5.73l-0.08,-0.21l-0.43,-0.44l-0.09,-1.13l-0.09,-0.19l-1.52,-1.52l0.24,-1.01l0.7,-0.23l0.18,-0.16l0.45,-0.97l1.07,-0.21l0.19,-0.12l0.53,-0.73l0.73,-0.65l0.68,-0.0l1.69,1.3l-0.08,0.67l0.02,0.14l0.52,1.38l-0.44,0.9l-0.01,0.24l0.2,0.52l-1.1,1.42l-0.76,0.76l-0.08,0.13l-0.47,1.59l0.05,1.69l-0.13,3.79Z",name:"Benin"},BT:{path:"M650.38,213.78l0.88,0.75l-0.13,1.24l-1.77,0.07l-2.1,-0.18l-1.57,0.4l-2.02,-0.91l-0.02,-0.24l1.54,-1.87l1.18,-0.6l1.67,0.59l1.32,0.08l1.01,0.67Z",name:"Bhutan"},JM:{path:"M226.67,238.37l1.64,0.23l1.2,0.56l0.11,0.19l-1.25,0.03l-0.14,0.04l-0.65,0.37l-1.24,-0.37l-1.17,-0.77l0.11,-0.22l0.86,-0.15l0.52,0.08Z",name:"Jamaica"},BW:{path:"M484.91,331.96l0.53,0.52l0.82,1.53l2.83,2.86l0.14,0.08l0.85,0.22l0.03,0.81l0.74,1.66l0.21,0.17l1.87,0.39l1.17,0.87l-3.13,1.71l-2.3,2.01l-0.07,0.1l-0.82,1.74l-0.66,0.88l-1.24,0.19l-0.24,0.2l-0.65,1.98l-1.4,0.55l-1.9,-0.12l-1.2,-0.74l-1.06,-0.32l-0.22,0.02l-1.22,0.62l-0.14,0.14l-0.58,1.21l-1.16,0.79l-1.18,1.13l-1.5,0.23l-0.4,-0.68l0.22,-1.53l-0.04,-0.19l-1.48,-2.54l-0.11,-0.11l-0.53,-0.31l-0.0,-7.25l2.18,-0.08l0.29,-0.3l0.07,-9.0l1.63,-0.08l3.69,-0.86l0.84,0.93l0.38,0.05l1.53,-0.97l0.79,-0.03l1.3,-0.53l0.23,0.1l0.92,1.96Z",name:"Botswana"},BR:{path:"M259.49,274.87l1.42,0.25l1.97,0.62l0.28,-0.05l0.67,-0.55l1.76,-0.38l2.8,-0.94l0.12,-0.08l0.92,-0.96l0.05,-0.33l-0.15,-0.32l0.73,-0.06l0.36,0.35l-0.27,0.93l0.17,0.36l0.76,0.34l0.44,0.9l-0.58,0.73l-0.06,0.13l-0.4,2.13l0.03,0.19l0.62,1.22l0.17,1.11l0.11,0.19l1.54,1.18l0.15,0.06l1.23,0.12l0.29,-0.15l0.2,-0.36l0.71,-0.11l1.13,-0.44l0.79,-0.63l1.25,0.19l0.65,-0.08l1.32,0.2l0.32,-0.18l0.23,-0.51l-0.05,-0.31l-0.31,-0.37l0.11,-0.31l0.75,0.17l0.13,0.0l1.1,-0.24l1.34,0.5l1.08,0.51l0.33,-0.05l0.67,-0.58l0.27,0.05l0.28,0.57l0.31,0.17l1.2,-0.18l0.17,-0.08l1.03,-1.05l0.76,-1.82l1.39,-2.16l0.49,-0.07l0.52,1.17l1.4,4.37l0.2,0.2l1.14,0.35l0.05,1.39l-1.8,1.97l0.01,0.42l0.78,0.75l0.18,0.08l4.16,0.37l0.08,2.25l0.5,0.22l1.78,-1.54l2.98,0.85l4.07,1.5l1.07,1.28l-0.37,1.23l0.36,0.38l2.83,-0.75l4.8,1.3l3.75,-0.09l3.6,2.02l3.27,2.84l1.93,0.72l2.13,0.11l0.76,0.66l1.22,4.56l-0.96,4.03l-1.22,1.58l-3.52,3.51l-1.63,2.91l-1.75,2.09l-0.5,0.04l-0.26,0.19l-0.72,1.99l0.18,4.76l-0.95,5.56l-0.74,0.96l-0.06,0.15l-0.43,3.39l-2.49,3.34l-0.06,0.13l-0.4,2.56l-1.9,1.07l-0.13,0.16l-0.51,1.38l-2.59,0.0l-3.94,1.01l-1.82,1.19l-2.85,0.81l-3.01,2.17l-2.12,2.65l-0.06,0.13l-0.36,2.0l0.01,0.13l0.4,1.42l-0.45,2.63l-0.53,1.23l-1.76,1.53l-2.76,4.79l-2.16,2.15l-1.69,1.29l-0.09,0.12l-1.12,2.6l-1.3,1.26l-0.45,-1.02l0.99,-1.18l0.01,-0.37l-1.5,-1.95l-1.98,-1.54l-2.58,-1.77l-0.2,-0.05l-0.81,0.07l-2.42,-2.05l-0.25,-0.07l-0.77,0.14l2.75,-3.07l2.8,-2.61l1.67,-1.09l2.11,-1.49l0.13,-0.24l0.05,-2.15l-0.07,-0.2l-1.26,-1.54l-0.35,-0.09l-0.64,0.27l0.3,-0.95l0.34,-1.57l0.01,-1.52l-0.16,-0.26l-0.9,-0.48l-0.27,-0.01l-0.86,0.39l-0.65,-0.08l-0.23,-0.8l-0.23,-2.39l-0.04,-0.12l-0.47,-0.79l-0.14,-0.12l-1.69,-0.71l-0.25,0.01l-0.93,0.47l-2.29,-0.44l0.15,-3.3l-0.03,-0.15l-0.62,-1.22l0.57,-0.39l0.13,-0.3l-0.22,-1.37l0.67,-1.13l0.44,-2.04l-0.01,-0.17l-0.59,-1.61l-0.14,-0.16l-1.25,-0.66l-0.22,-0.82l0.35,-1.41l-0.28,-0.37l-4.59,-0.1l-0.78,-2.41l0.34,-0.02l0.28,-0.31l-0.03,-1.1l-0.05,-0.16l-0.45,-0.68l-0.1,-1.4l-0.16,-0.24l-1.45,-0.76l-0.14,-0.03l-1.48,0.02l-1.04,-0.73l-1.62,-0.48l-0.93,-0.9l-0.16,-0.08l-2.72,-0.41l-2.53,-2.12l0.18,-1.54l-0.01,-0.13l-0.29,-0.91l0.26,-1.83l-0.34,-0.34l-3.28,0.43l-0.14,0.05l-1.3,0.93l-2.16,1.01l-0.12,0.09l-0.47,0.65l-1.12,0.05l-1.84,-0.21l-0.12,0.01l-1.33,0.41l-0.82,-0.21l0.16,-3.6l-0.48,-0.26l-1.97,1.43l-1.96,-0.06l-0.86,-1.23l-0.22,-0.13l-1.23,-0.11l0.34,-0.69l-0.05,-0.33l-1.36,-1.5l-0.92,-2.0l0.45,-0.32l0.13,-0.25l-0.0,-0.87l1.34,-0.64l0.17,-0.32l-0.23,-1.23l0.56,-0.77l0.05,-0.13l0.16,-1.03l2.7,-1.61l2.01,-0.47l0.16,-0.09l0.24,-0.27l2.11,0.11l0.31,-0.25l1.13,-6.87l0.06,-1.12l-0.4,-1.53l-0.1,-0.15l-1.0,-0.82l0.01,-1.45l1.08,-0.32l0.39,0.2l0.44,-0.24l0.08,-0.96l-0.25,-0.32l-1.22,-0.22l-0.02,-1.01l4.57,0.05l0.22,-0.09l0.6,-0.63l0.44,0.5l0.47,1.42l0.45,0.16l0.27,-0.18l1.21,1.16l0.23,0.08l1.95,-0.16l0.23,-0.14l0.43,-0.67l1.76,-0.55l1.05,-0.42l0.18,-0.2l0.25,-0.92l1.65,-0.66l0.18,-0.35l-0.14,-0.53l-0.26,-0.22l-1.91,-0.19l-0.29,-1.33l0.1,-1.64l-0.15,-0.28l-0.44,-0.25Z",name:"Brazil"},BS:{path:"M227.51,216.69l0.3,0.18l-0.24,1.07l0.03,-1.04l-0.09,-0.21ZM226.5,224.03l-0.13,0.03l-0.54,-1.3l-0.09,-0.12l-0.78,-0.64l0.4,-1.26l0.33,0.05l0.79,2.0l0.01,1.24ZM225.76,216.5l-2.16,0.34l-0.07,-0.41l0.85,-0.16l1.36,0.07l0.02,0.16Z",name:"The Bahamas"},BY:{path:"M480.08,135.28l2.09,0.02l0.13,-0.03l2.72,-1.3l0.16,-0.19l0.55,-1.83l1.94,-1.06l0.15,-0.31l-0.2,-1.33l1.33,-0.52l2.58,-1.3l2.39,0.8l0.3,0.75l0.37,0.17l1.22,-0.39l2.18,0.75l0.2,1.36l-0.48,0.85l0.01,0.32l1.57,2.26l0.92,0.6l-0.1,0.41l0.19,0.35l1.61,0.57l0.48,0.6l-0.64,0.49l-1.91,-0.11l-0.18,0.05l-0.48,0.32l-0.1,0.39l0.57,1.1l0.51,1.78l-1.79,0.17l-0.18,0.08l-0.77,0.73l-0.09,0.19l-0.13,1.31l-0.75,-0.22l-2.11,0.15l-0.56,-0.66l-0.39,-0.06l-0.8,0.49l-0.79,-0.4l-0.13,-0.03l-1.94,-0.07l-2.76,-0.79l-2.58,-0.27l-1.98,0.07l-0.15,0.05l-1.31,0.86l-0.8,0.09l-0.04,-1.16l-0.03,-0.12l-0.63,-1.28l1.22,-0.56l0.17,-0.27l0.01,-1.35l-0.04,-0.15l-0.66,-1.24l-0.08,-1.12Z",name:"Belarus"},BZ:{path:"M198.03,239.7l0.28,0.19l0.43,-0.1l0.82,-1.42l0.0,0.07l0.29,0.29l0.16,0.0l-0.02,0.35l-0.39,1.08l0.02,0.25l0.16,0.29l-0.23,0.8l0.04,0.24l0.09,0.14l-0.25,1.12l-0.38,0.53l-0.33,0.06l-0.21,0.15l-0.41,0.74l-0.25,0.0l0.17,-2.58l0.01,-2.2Z",name:"Belize"},RU:{path:"M688.57,38.85l0.63,2.39l0.44,0.19l2.22,-1.23l7.18,0.07l5.54,2.49l1.85,1.77l-0.55,2.34l-2.64,1.42l-6.57,2.76l-1.95,1.5l0.12,0.53l3.09,0.68l3.69,1.23l0.21,-0.01l1.98,-0.81l1.16,2.84l0.5,0.08l1.03,-1.18l3.86,-0.74l7.79,0.78l0.56,2.05l0.27,0.22l10.47,0.71l0.32,-0.29l0.13,-3.34l4.98,0.8l3.96,-0.02l3.88,2.43l1.06,2.79l-1.38,1.83l0.01,0.38l3.15,3.64l0.1,0.08l3.94,1.86l0.4,-0.14l2.28,-4.56l3.75,1.94l0.22,0.02l4.18,-1.22l4.76,1.4l0.26,-0.04l1.74,-1.23l3.98,0.63l0.32,-0.41l-1.71,-4.1l3.0,-1.86l22.39,3.04l2.06,2.67l0.1,0.08l6.55,3.51l0.17,0.03l10.08,-0.86l4.86,0.73l1.91,1.72l-0.29,3.13l0.18,0.31l3.08,1.26l0.19,0.01l3.32,-0.9l4.37,-0.11l4.78,0.87l4.61,-0.48l4.26,3.82l0.32,0.05l3.1,-1.4l0.12,-0.45l-1.91,-2.67l0.92,-1.64l7.78,1.22l5.22,-0.26l7.12,2.1l9.6,5.22l6.4,4.15l-0.2,2.44l0.14,0.28l1.69,1.04l0.45,-0.31l-0.51,-2.66l6.31,0.58l4.52,3.61l-2.1,1.52l-4.02,0.42l-0.27,0.29l-0.06,3.83l-0.81,0.67l-2.14,-0.11l-1.91,-1.39l-3.19,-1.13l-0.51,-1.63l-0.21,-0.2l-2.54,-0.67l-0.13,-0.0l-2.69,0.5l-1.12,-1.19l0.48,-1.36l-0.38,-0.39l-3.0,0.98l-0.17,0.44l1.02,1.76l-1.27,1.55l-3.09,1.71l-3.15,-0.29l-0.3,0.18l0.07,0.34l2.22,2.1l1.47,3.22l1.15,1.09l0.25,1.41l-0.48,0.76l-4.47,-0.81l-0.17,0.02l-6.97,2.9l-2.2,0.44l-0.11,0.05l-3.83,2.68l-3.63,2.32l-0.1,0.11l-0.76,1.4l-3.3,-2.4l-0.3,-0.03l-6.31,2.85l-0.99,-1.21l-0.4,-0.06l-2.32,1.54l-3.23,-0.49l-0.33,0.2l-0.79,2.39l-2.97,3.51l-0.07,0.21l0.09,1.47l0.22,0.27l2.62,0.74l-0.3,4.7l-2.06,0.12l-0.26,0.2l-1.07,2.94l0.04,0.27l0.83,1.19l-4.03,1.63l-0.18,0.21l-0.83,3.72l-3.55,0.79l-0.23,0.23l-0.73,3.32l-3.22,2.76l-0.76,-1.88l-1.07,-4.88l-1.39,-7.59l1.17,-4.76l2.05,-2.08l0.09,-0.19l0.11,-1.46l3.67,-0.77l0.15,-0.08l4.47,-4.61l4.29,-3.82l4.48,-3.01l0.11,-0.14l2.01,-5.43l-0.31,-0.4l-3.04,0.33l-0.24,0.17l-1.47,3.11l-5.98,3.94l-1.91,-4.36l-0.33,-0.17l-6.46,1.3l-0.15,0.08l-6.27,6.33l-0.01,0.41l1.7,1.87l-5.04,0.87l-3.51,0.34l0.16,-2.32l-0.26,-0.32l-3.89,-0.56l-0.19,0.04l-3.02,1.77l-7.63,-0.63l-8.24,1.1l-0.16,0.07l-8.11,7.09l-9.6,8.31l0.16,0.52l3.79,0.42l1.16,2.03l0.17,0.14l2.43,0.76l0.31,-0.08l1.5,-1.61l2.49,0.2l3.46,3.6l0.08,2.67l-1.91,3.26l-0.04,0.14l-0.21,3.91l-1.11,5.09l-3.73,4.55l-0.87,2.21l-6.73,7.14l-1.59,1.77l-3.23,1.72l-1.38,0.03l-1.48,-1.39l-0.37,-0.03l-3.36,2.22l-0.11,0.14l-0.16,0.42l-0.01,-1.09l1.0,-0.06l0.28,-0.27l0.36,-3.6l-0.61,-2.51l1.85,-0.94l2.94,0.53l0.32,-0.15l1.71,-3.1l0.84,-3.38l0.97,-1.18l1.32,-2.88l-0.34,-0.42l-4.14,0.95l-2.18,1.25l-3.51,-0.0l-0.95,-2.81l-0.1,-0.14l-2.97,-2.3l-0.11,-0.05l-4.19,-1.0l-0.89,-3.08l-0.87,-2.03l-0.95,-1.46l-1.54,-3.37l-0.12,-0.14l-2.27,-1.28l-3.83,-1.02l-3.37,0.1l-3.11,0.61l-0.13,0.06l-2.07,1.69l0.04,0.49l1.23,0.72l0.03,1.53l-1.34,1.05l-2.26,3.51l-0.05,0.17l0.02,1.27l-3.25,1.9l-2.87,-1.17l-0.14,-0.02l-2.86,0.26l-1.22,-1.02l-0.12,-0.06l-1.5,-0.35l-0.23,0.04l-3.62,2.27l-3.24,0.53l-2.28,0.79l-3.08,-0.51l-2.24,0.03l-1.49,-1.61l-2.45,-1.57l-0.11,-0.04l-2.6,-0.43l-3.17,0.43l-2.31,0.59l-3.31,-1.28l-0.45,-2.31l-0.21,-0.23l-2.94,-0.85l-2.26,-0.39l-2.77,-1.36l-0.37,0.09l-2.59,3.45l-0.03,0.32l0.91,1.74l-2.15,2.01l-3.47,-0.79l-2.44,-0.12l-1.59,-1.46l-0.2,-0.08l-2.55,-0.05l-2.12,-0.98l-0.24,-0.01l-3.85,1.57l-4.74,2.79l-2.59,0.55l-0.79,0.21l-1.21,-1.81l-0.29,-0.13l-3.05,0.41l-0.96,-1.25l-0.14,-0.1l-1.65,-0.6l-1.15,-1.82l-0.13,-0.12l-1.38,-0.6l-0.19,-0.02l-3.49,0.82l-3.35,-1.85l-0.38,0.08l-1.08,1.4l-5.36,-8.17l-3.02,-2.52l0.72,-0.85l0.01,-0.38l-0.37,-0.08l-6.22,3.21l-1.98,0.16l0.17,-1.51l-0.2,-0.31l-3.22,-1.17l-0.19,-0.0l-2.3,0.74l-0.72,-3.27l-0.24,-0.23l-4.5,-0.75l-0.21,0.04l-2.2,1.42l-6.21,1.27l-0.11,0.05l-1.16,0.81l-9.3,1.19l-0.18,0.09l-1.15,1.17l-0.02,0.39l1.56,2.01l-2.02,0.74l-0.16,0.42l0.35,0.68l-2.18,1.49l0.02,0.51l3.83,2.16l-0.45,1.13l-3.31,-0.13l-0.25,0.12l-0.57,0.77l-2.97,-1.59l-0.15,-0.04l-3.97,0.07l-0.13,0.03l-2.53,1.32l-2.84,-1.28l-5.52,-2.3l-0.12,-0.02l-3.91,0.09l-0.16,0.05l-5.17,3.6l-0.13,0.21l-0.25,1.89l-2.17,-1.6l-0.44,0.1l-2.0,3.59l0.06,0.37l0.55,0.5l-1.32,2.23l0.04,0.36l2.13,2.17l0.23,0.09l1.7,-0.08l1.42,1.89l-0.23,1.5l0.19,0.32l0.94,0.38l-0.89,1.44l-2.3,0.49l-0.17,0.11l-2.49,3.2l0.0,0.37l2.2,2.81l-0.23,1.93l0.06,0.22l2.56,3.32l-1.27,1.02l-0.4,0.66l-0.8,-0.15l-1.65,-1.75l-0.18,-0.09l-0.66,-0.09l-1.45,-0.64l-0.72,-1.16l-0.18,-0.13l-2.34,-0.63l-0.17,0.0l-1.32,0.41l-0.31,-0.4l-0.12,-0.09l-3.49,-1.48l-3.67,-0.49l-2.1,-0.52l-0.3,0.1l-0.12,0.14l-2.96,-2.4l-2.89,-1.19l-1.69,-1.42l1.27,-0.35l0.16,-0.1l2.08,-2.61l-0.04,-0.41l-1.02,-0.9l3.21,-1.12l0.2,-0.31l-0.07,-0.69l-0.37,-0.26l-1.86,0.42l0.05,-0.86l1.11,-0.76l2.35,-0.23l0.25,-0.19l0.39,-1.07l0.0,-0.19l-0.51,-1.64l0.95,-1.58l0.04,-0.16l-0.03,-0.95l-0.22,-0.28l-3.69,-1.06l-1.43,0.02l-1.45,-1.44l-0.29,-0.08l-1.83,0.49l-2.88,-1.04l0.04,-0.42l-0.04,-0.18l-0.89,-1.43l-0.23,-0.14l-1.77,-0.14l-0.13,-0.66l0.52,-0.56l0.01,-0.4l-1.6,-1.9l-0.27,-0.1l-2.55,0.32l-0.71,-0.16l-0.3,0.1l-0.53,0.63l-0.58,-0.08l-0.56,-1.97l-0.48,-0.94l0.17,-0.11l1.92,0.11l0.2,-0.06l0.97,-0.74l0.05,-0.42l-0.72,-0.91l-0.13,-0.1l-1.43,-0.51l0.09,-0.36l-0.13,-0.33l-0.97,-0.59l-1.43,-2.06l0.44,-0.77l0.04,-0.19l-0.25,-1.64l-0.2,-0.24l-2.45,-0.84l-0.19,-0.0l-1.05,0.34l-0.25,-0.62l-0.18,-0.17l-2.5,-0.84l-0.74,-1.93l-0.21,-1.7l-0.13,-0.21l-0.92,-0.63l0.83,-0.89l0.07,-0.27l-0.71,-3.26l1.69,-2.01l0.03,-0.34l-0.24,-0.41l2.63,-1.9l-0.01,-0.49l-2.31,-1.57l5.08,-4.61l2.33,-2.24l1.01,-2.08l-0.09,-0.37l-3.52,-2.56l0.94,-2.38l-0.04,-0.29l-2.14,-2.86l1.61,-3.35l-0.01,-0.29l-2.81,-4.58l2.19,-3.04l-0.06,-0.42l-3.7,-2.76l0.32,-2.67l1.87,-0.38l4.26,-1.77l2.46,-1.47l3.96,2.58l0.12,0.05l6.81,1.04l9.37,4.87l1.81,1.92l0.15,2.55l-2.61,2.06l-3.95,1.07l-11.1,-3.15l-0.17,0.0l-1.84,0.53l-0.1,0.53l3.97,2.97l0.15,1.77l0.16,4.14l0.19,0.27l3.21,1.22l1.94,1.03l0.44,-0.22l0.32,-1.94l-0.07,-0.25l-1.32,-1.52l1.25,-1.2l5.87,2.45l0.24,-0.01l2.11,-0.98l0.13,-0.42l-1.55,-2.75l5.52,-3.84l2.13,0.22l2.28,1.42l0.43,-0.12l1.46,-2.87l-0.04,-0.33l-1.97,-2.37l1.14,-2.38l-0.02,-0.3l-1.42,-2.07l6.15,1.22l1.14,1.92l-2.74,0.46l-0.25,0.3l0.02,2.36l0.12,0.24l1.97,1.44l0.25,0.05l3.87,-0.91l0.22,-0.23l0.58,-2.55l5.09,-1.98l8.67,-3.69l1.22,0.14l-2.06,2.2l0.18,0.5l3.11,0.45l0.23,-0.07l1.71,-1.41l4.59,-0.12l0.12,-0.03l3.53,-1.72l2.7,2.48l0.42,-0.01l2.85,-2.88l-0.0,-0.43l-2.42,-2.35l1.0,-1.13l7.2,1.31l3.42,1.36l9.06,4.97l0.39,-0.08l1.67,-2.27l-0.04,-0.4l-2.46,-2.23l-0.06,-0.82l-0.26,-0.27l-2.64,-0.38l0.69,-1.76l0.0,-0.22l-1.32,-3.47l-0.07,-1.27l4.52,-4.09l0.08,-0.11l1.6,-4.18l1.67,-0.84l6.33,1.2l0.46,2.31l-2.31,3.67l0.05,0.38l1.49,1.41l0.77,3.04l-0.56,6.05l0.09,0.24l2.62,2.54l-0.99,2.65l-4.87,5.96l0.17,0.48l2.86,0.61l0.31,-0.13l0.94,-1.42l2.67,-1.04l0.18,-0.19l0.64,-2.01l2.11,-1.98l0.05,-0.37l-1.38,-2.32l1.11,-2.74l-0.24,-0.41l-2.53,-0.33l-0.53,-2.16l1.96,-4.42l-0.05,-0.32l-3.03,-3.48l4.21,-2.94l0.12,-0.3l-0.52,-3.04l0.72,-0.06l1.18,2.35l-0.97,4.39l0.2,0.35l2.68,0.84l0.37,-0.38l-1.05,-3.07l3.89,-1.71l5.05,-0.24l4.55,2.62l0.36,-0.05l0.05,-0.36l-2.19,-3.84l-0.23,-4.78l4.07,-0.92l5.98,0.21l5.47,-0.64l0.2,-0.48l-1.88,-2.37l2.65,-2.99l2.75,-0.13l0.12,-0.03l4.82,-2.48l6.56,-0.67l0.23,-0.14l0.76,-1.27l6.33,-0.46l1.97,1.11l0.28,0.01l5.55,-2.71l4.53,0.08l0.29,-0.21l0.67,-2.18l2.29,-2.15l5.75,-2.13l3.48,1.4l-2.7,1.03l-0.19,0.31l0.26,0.26l5.47,0.78ZM871.83,65.73l0.25,-0.15l1.99,0.01l3.3,1.2l-0.08,0.22l-2.41,1.03l-5.73,0.49l-0.31,-1.0l2.99,-1.8ZM797.64,48.44l-2.22,1.51l-3.85,-0.43l-4.35,-1.85l0.42,-1.13l4.42,0.72l5.59,1.17ZM783.82,46.06l-1.71,3.25l-9.05,-0.14l-4.11,1.15l-4.64,-3.04l1.21,-3.13l3.11,-0.91l6.53,0.22l8.66,2.59ZM780.37,145.71l2.28,5.23l-3.09,-0.89l-0.37,0.19l-1.54,4.65l0.04,0.27l2.38,3.17l-0.05,1.4l-1.41,-1.41l-0.46,0.04l-1.23,1.81l-0.33,-1.86l0.28,-3.1l-0.28,-3.41l0.58,-2.46l0.11,-4.39l-0.03,-0.13l-1.44,-3.2l0.21,-4.39l2.19,-1.49l0.09,-0.41l-0.81,-1.3l0.48,-0.21l0.56,1.94l0.86,3.23l-0.05,3.36l1.03,3.35ZM780.16,57.18l-3.4,0.03l-5.06,-0.53l1.97,-1.59l2.95,-0.42l3.35,1.75l0.18,0.77ZM683.84,31.18l-13.29,1.97l4.16,-6.56l1.88,-0.58l1.77,0.34l6.08,3.02l-0.6,1.8ZM670.94,28.02l-5.18,0.65l-6.89,-1.58l-4.03,-2.07l-1.88,-3.98l-0.18,-0.16l-2.8,-0.93l5.91,-3.62l5.25,-1.29l4.73,2.88l5.63,5.44l-0.57,4.66ZM564.37,68.98l-0.85,0.23l-7.93,-0.57l-0.6,-1.84l-0.21,-0.2l-4.34,-1.18l-0.3,-2.08l2.34,-0.92l0.19,-0.29l-0.08,-2.43l4.85,-4.0l-0.12,-0.52l-1.68,-0.43l5.47,-3.94l0.11,-0.33l-0.6,-2.02l5.36,-2.55l8.22,-3.27l8.29,-0.96l4.34,-1.94l4.67,-0.65l1.45,1.72l-1.43,1.37l-8.8,2.52l-7.65,2.42l-7.92,4.84l-3.73,4.75l-3.92,4.58l-0.07,0.23l0.51,3.88l0.11,0.2l4.32,3.39ZM548.86,18.57l-3.28,0.75l-2.25,0.44l-0.22,0.19l-0.3,0.81l-2.67,0.86l-2.27,-1.14l1.2,-1.51l-0.23,-0.49l-3.14,-0.1l2.48,-0.54l3.55,-0.07l0.44,1.36l0.49,0.12l1.4,-1.35l2.2,-0.9l3.13,1.08l-0.54,0.49ZM477.5,133.25l-4.21,0.05l-2.69,-0.34l0.39,-1.03l3.24,-1.06l2.51,0.58l0.85,0.43l-0.2,0.71l-0.0,0.15l0.12,0.52Z",name:"Russia"},RW:{path:"M497.03,288.12l0.78,1.11l-0.12,1.19l-0.49,0.21l-1.25,-0.15l-0.3,0.16l-0.67,1.24l-1.01,-0.13l0.16,-0.92l0.22,-0.12l0.15,-0.24l0.09,-1.37l0.49,-0.48l0.42,0.18l0.25,-0.01l1.26,-0.65Z",name:"Rwanda"},RS:{path:"M469.75,168.65l0.21,-0.21l0.36,-1.44l-0.08,-0.29l-1.06,-1.03l0.54,-1.16l-0.28,-0.43l-0.26,0.0l0.55,-0.67l-0.01,-0.39l-0.77,-0.86l-0.45,-0.89l1.56,-0.67l1.39,0.12l1.22,1.1l0.26,0.91l0.16,0.19l1.38,0.66l0.17,1.12l0.14,0.21l1.46,0.9l0.35,-0.03l0.62,-0.54l0.09,0.06l-0.28,0.25l-0.03,0.42l0.29,0.34l-0.44,0.5l-0.07,0.26l0.22,1.12l0.07,0.14l1.02,1.1l-0.81,0.84l-0.42,0.96l0.04,0.3l0.12,0.15l-0.15,0.16l-1.04,0.04l-0.39,0.08l0.33,-0.81l-0.29,-0.41l-0.21,0.01l-0.39,-0.45l-0.13,-0.09l-0.32,-0.11l-0.27,-0.4l-0.14,-0.11l-0.4,-0.16l-0.31,-0.37l-0.34,-0.09l-0.45,0.17l-0.18,0.18l-0.29,0.84l-0.96,-0.65l-0.81,-0.33l-0.32,-0.37l-0.22,-0.18Z",name:"Republic of Serbia"},LT:{path:"M478.13,133.31l-0.14,-0.63l0.25,-0.88l-0.15,-0.35l-1.17,-0.58l-2.43,-0.57l-0.45,-2.51l2.58,-0.97l4.14,0.22l2.3,-0.32l0.26,0.54l0.22,0.17l1.26,0.22l2.25,1.6l0.19,1.23l-1.87,1.01l-0.14,0.18l-0.54,1.83l-2.54,1.21l-2.18,-0.02l-0.52,-0.91l-0.18,-0.14l-1.11,-0.32Z",name:"Lithuania"},LU:{path:"M435.95,147.99l0.33,0.49l-0.11,1.07l-0.39,0.04l-0.29,-0.15l0.21,-1.4l0.25,-0.05Z",name:"Luxembourg"},LR:{path:"M401.37,273.67l-0.32,0.01l-2.48,-1.15l-2.24,-1.89l-2.14,-1.38l-1.47,-1.42l0.44,-0.59l0.05,-0.13l0.12,-0.65l1.07,-1.3l1.08,-1.09l0.52,-0.07l0.43,-0.18l0.84,1.24l-0.15,0.89l0.07,0.25l0.49,0.54l0.22,0.1l0.71,0.01l0.27,-0.16l0.42,-0.83l0.19,0.02l-0.06,0.52l0.23,1.12l-0.5,1.03l0.06,0.35l0.73,0.69l0.14,0.08l0.71,0.15l0.92,0.91l0.06,0.76l-0.17,0.22l-0.06,0.15l-0.17,1.8Z",name:"Liberia"},RO:{path:"M477.94,155.19l1.02,-0.64l1.49,0.33l1.52,0.01l1.09,0.73l0.32,0.01l0.81,-0.46l1.8,-0.3l0.18,-0.1l0.54,-0.64l0.86,0.0l0.64,0.26l0.71,0.87l0.8,1.35l1.39,1.81l0.07,1.25l-0.26,1.3l0.01,0.15l0.45,1.42l0.15,0.18l1.12,0.57l0.25,0.01l1.05,-0.45l0.86,0.4l0.03,0.43l-0.92,0.51l-0.63,-0.24l-0.4,0.22l-0.64,3.41l-1.12,-0.24l-1.78,-1.09l-0.23,-0.04l-2.95,0.71l-1.25,0.77l-3.55,-0.16l-1.89,-0.47l-0.14,-0.0l-0.75,0.17l-0.61,-1.07l-0.3,-0.36l0.36,-0.32l-0.04,-0.48l-0.62,-0.38l-0.36,0.03l-0.62,0.54l-1.15,-0.71l-0.18,-1.14l-0.17,-0.22l-1.4,-0.67l-0.24,-0.86l-0.09,-0.14l-0.96,-0.87l1.49,-0.44l0.16,-0.11l1.51,-2.14l1.15,-2.09l1.44,-0.63Z",name:"Romania"},GW:{path:"M383.03,256.73l-1.12,-0.88l-0.14,-0.06l-0.94,-0.15l-0.43,-0.54l0.01,-0.27l-0.13,-0.26l-0.68,-0.48l-0.05,-0.16l0.99,-0.31l0.77,0.08l0.15,-0.02l0.61,-0.26l4.25,0.1l-0.02,0.44l-0.19,0.18l-0.08,0.29l0.17,0.66l-0.17,0.14l-0.44,0.0l-0.16,0.05l-0.57,0.37l-0.66,-0.04l-0.24,0.1l-0.92,1.03Z",name:"Guinea Bissau"},GT:{path:"M195.13,249.89l-1.05,-0.35l-1.5,-0.04l-1.06,-0.47l-1.19,-0.93l0.04,-0.53l0.27,-0.55l-0.03,-0.31l-0.24,-0.32l1.02,-1.77l3.04,-0.01l0.3,-0.28l0.06,-0.88l-0.19,-0.3l-0.3,-0.11l-0.23,-0.45l-0.11,-0.12l-0.9,-0.58l-0.35,-0.33l0.37,-0.0l0.3,-0.3l0.0,-1.15l4.05,0.02l-0.02,1.74l-0.2,2.89l0.3,0.32l0.67,-0.0l0.75,0.42l0.4,-0.11l-0.62,0.53l-1.17,0.7l-0.13,0.16l-0.18,0.49l0.0,0.21l0.14,0.34l-0.35,0.44l-0.49,0.13l-0.2,0.41l0.03,0.06l-0.27,0.16l-0.86,0.64l-0.12,0.22ZM199.35,245.38l0.07,-0.13l0.05,0.02l-0.13,0.11Z",name:"Guatemala"},GR:{path:"M487.2,174.55l-0.64,1.54l-0.43,0.24l-1.41,-0.08l-1.28,-0.28l-0.14,0.0l-3.03,0.77l-0.13,0.51l1.39,1.34l-0.78,0.29l-1.2,0.0l-1.23,-1.42l-0.47,0.02l-0.47,0.65l-0.04,0.27l0.56,1.76l0.06,0.11l1.02,1.12l-0.66,0.45l-0.04,0.46l1.39,1.35l1.15,0.79l0.02,1.06l-1.91,-0.63l-0.36,0.42l0.56,1.12l-1.2,0.23l-0.22,0.4l0.8,2.14l-1.15,0.02l-1.89,-1.15l-0.89,-2.19l-0.43,-1.91l-0.05,-0.11l-0.98,-1.35l-1.24,-1.62l-0.13,-0.63l1.07,-1.32l0.06,-0.14l0.13,-0.81l0.68,-0.36l0.16,-0.25l0.03,-0.54l1.4,-0.23l0.12,-0.05l0.87,-0.6l1.26,0.05l0.25,-0.11l0.34,-0.43l0.33,-0.07l1.81,0.08l0.13,-0.02l1.87,-0.77l1.64,0.97l0.19,0.04l2.28,-0.28l0.26,-0.29l0.02,-0.95l0.56,0.36ZM480.44,192.0l1.05,0.74l0.01,0.0l-1.26,-0.23l0.2,-0.51ZM481.76,192.79l1.86,-0.15l1.53,0.17l-0.02,0.19l0.34,0.3l-2.28,0.15l0.01,-0.13l-0.25,-0.31l-1.19,-0.22ZM485.65,193.28l0.65,-0.16l-0.05,0.12l-0.6,0.04Z",name:"Greece"},GQ:{path:"M444.81,282.04l-0.21,-0.17l0.74,-2.4l3.56,0.05l0.02,2.42l-3.34,-0.02l-0.76,0.13Z",name:"Equatorial Guinea"},GY:{path:"M271.34,264.25l1.43,0.81l1.44,1.53l0.06,1.19l0.28,0.28l0.84,0.05l2.13,1.92l-0.34,1.93l-1.37,0.59l-0.17,0.34l0.12,0.51l-0.43,1.21l0.03,0.26l1.11,1.82l0.26,0.14l0.56,0.0l0.32,1.29l1.25,1.78l-0.08,0.01l-1.34,-0.21l-0.24,0.06l-0.78,0.64l-1.06,0.41l-0.76,0.1l-0.22,0.15l-0.18,0.32l-0.95,-0.1l-1.38,-1.05l-0.19,-1.13l-0.6,-1.18l0.37,-1.96l0.65,-0.83l0.03,-0.32l-0.57,-1.17l-0.15,-0.14l-0.62,-0.27l0.25,-0.85l-0.08,-0.3l-0.58,-0.58l-0.24,-0.09l-1.15,0.1l-1.41,-1.58l0.48,-0.49l0.09,-0.22l-0.04,-0.92l1.31,-0.34l0.73,-0.52l0.04,-0.44l-0.75,-0.82l0.16,-0.66l1.74,-1.3Z",name:"Guyana"},GE:{path:"M525.41,174.19l0.26,-0.88l-0.0,-0.17l-0.63,-2.06l-0.1,-0.15l-1.45,-1.12l-0.11,-0.05l-1.31,-0.33l-0.66,-0.69l1.97,0.48l3.65,0.49l3.3,1.41l0.39,0.5l0.33,0.1l1.43,-0.45l2.14,0.58l0.7,1.14l0.13,0.12l1.06,0.47l-0.18,0.11l-0.08,0.43l1.08,1.41l-0.06,0.06l-1.16,-0.15l-1.82,-0.84l-0.31,0.04l-0.55,0.44l-3.29,0.44l-2.32,-1.41l-0.17,-0.04l-2.25,0.12Z",name:"Georgia"},GB:{path:"M412.82,118.6l-2.31,3.4l-0.0,0.33l0.31,0.13l2.52,-0.49l2.34,0.02l-0.56,2.51l-2.22,3.13l0.22,0.47l2.43,0.21l2.35,4.35l0.17,0.14l1.58,0.51l1.49,3.78l0.73,1.37l0.2,0.15l2.76,0.59l-0.25,1.75l-1.18,0.91l-0.08,0.39l0.87,1.49l-1.96,1.51l-3.31,-0.02l-4.15,0.88l-1.07,-0.59l-0.35,0.04l-1.55,1.44l-2.17,-0.35l-0.22,0.05l-1.61,1.15l-0.78,-0.38l3.31,-3.12l2.18,-0.7l0.21,-0.31l-0.26,-0.27l-3.78,-0.54l-0.48,-0.9l2.3,-0.92l0.13,-0.46l-1.29,-1.71l0.39,-1.83l3.46,0.29l0.32,-0.24l0.37,-1.99l-0.06,-0.24l-1.71,-2.17l-0.18,-0.11l-2.91,-0.58l-0.43,-0.68l0.82,-1.4l-0.03,-0.35l-0.82,-0.97l-0.46,0.01l-0.85,1.05l-0.11,-2.6l-0.05,-0.16l-1.19,-1.7l0.86,-3.53l1.81,-2.75l1.88,0.26l2.38,-0.24ZM406.39,132.84l-1.09,1.92l-1.65,-0.62l-1.26,0.02l0.41,-1.46l0.0,-0.16l-0.42,-1.51l1.62,-0.11l2.39,1.92Z",name:"United Kingdom"},GA:{path:"M448.76,294.47l-2.38,-2.34l-1.63,-2.04l-1.46,-2.48l0.06,-0.66l0.54,-0.81l0.61,-1.82l0.46,-1.69l0.63,-0.11l3.62,0.03l0.3,-0.3l-0.02,-2.75l0.88,-0.12l1.47,0.32l0.13,0.0l1.39,-0.3l-0.13,0.87l0.03,0.19l0.7,1.29l0.3,0.16l1.74,-0.19l0.36,0.29l-1.01,2.7l0.05,0.29l1.13,1.42l0.25,1.82l-0.3,1.56l-0.64,0.99l-1.93,-0.09l-1.26,-1.13l-0.5,0.17l-0.16,0.91l-1.48,0.27l-0.12,0.05l-0.86,0.63l-0.08,0.39l0.81,1.42l-1.48,1.08Z",name:"Gabon"},GN:{path:"M399.83,265.31l-0.69,-0.06l-0.3,0.16l-0.43,0.85l-0.39,-0.01l-0.3,-0.33l0.14,-0.87l-0.05,-0.22l-1.05,-1.54l-0.37,-0.11l-0.61,0.27l-0.84,0.12l0.02,-0.54l-0.04,-0.17l-0.35,-0.57l0.07,-0.63l-0.03,-0.17l-0.57,-1.11l-0.7,-0.9l-0.24,-0.12l-2.0,-0.0l-0.19,0.07l-0.51,0.42l-0.6,0.05l-0.21,0.11l-0.43,0.55l-0.3,0.7l-1.04,0.86l-0.91,-1.24l-1.0,-1.02l-0.69,-0.37l-0.52,-0.42l-0.3,-1.11l-0.37,-0.56l-0.1,-0.1l-0.4,-0.23l0.77,-0.85l0.62,0.04l0.18,-0.05l0.58,-0.38l0.46,-0.0l0.19,-0.07l0.39,-0.34l0.1,-0.3l-0.17,-0.67l0.15,-0.14l0.09,-0.2l0.03,-0.57l0.87,0.02l1.76,0.6l0.13,0.01l0.55,-0.06l0.22,-0.13l0.08,-0.12l1.18,0.17l0.17,-0.02l0.09,0.56l0.3,0.25l0.4,-0.0l0.14,-0.03l0.56,-0.29l0.23,0.05l0.63,0.59l0.15,0.07l1.07,0.2l0.24,-0.06l0.65,-0.52l0.77,-0.32l0.55,-0.32l0.3,0.04l0.44,0.45l0.34,0.74l0.84,0.87l-0.35,0.45l-0.06,0.15l-0.1,0.82l0.42,0.31l0.35,-0.16l0.05,0.04l-0.1,0.59l0.09,0.27l0.42,0.4l-0.06,0.02l-0.18,0.21l-0.2,0.86l0.03,0.21l0.56,1.02l0.52,1.71l-0.65,0.21l-0.15,0.12l-0.24,0.35l-0.03,0.28l0.16,0.41l-0.1,0.76l-0.12,0.0Z",name:"Guinea"},GM:{path:"M379.18,251.48l0.15,-0.55l2.51,-0.07l0.21,-0.09l0.48,-0.52l0.58,-0.03l0.91,0.58l0.16,0.05l0.78,0.01l0.14,-0.03l0.59,-0.31l0.16,0.24l-0.71,0.38l-0.94,-0.04l-1.02,-0.51l-0.3,0.01l-0.86,0.55l-0.37,0.02l-0.14,0.04l-0.53,0.31l-1.81,-0.04Z",name:"Gambia"},GL:{path:"M304.13,6.6l8.19,-3.63l8.72,0.28l0.19,-0.06l3.12,-2.28l8.75,-0.61l19.94,0.8l14.93,4.75l-3.92,2.01l-9.52,0.27l-13.48,0.6l-0.27,0.2l0.09,0.33l1.26,1.09l0.22,0.07l8.81,-0.67l7.49,2.07l0.19,-0.01l4.68,-1.78l1.76,1.84l-2.59,3.26l-0.01,0.36l0.34,0.11l6.35,-2.2l12.09,-2.32l7.31,1.14l1.17,2.13l-9.9,4.05l-1.43,1.32l-7.91,0.98l-0.26,0.31l0.29,0.29l5.25,0.25l-2.63,3.72l-2.02,3.61l-0.04,0.15l0.08,6.05l0.07,0.19l2.61,3.0l-3.4,0.2l-4.12,1.66l-0.04,0.54l4.5,2.67l0.53,3.9l-2.39,0.42l-0.19,0.48l2.91,3.83l-5.0,0.32l-0.27,0.22l0.12,0.33l2.69,1.84l-0.65,1.35l-3.36,0.71l-3.46,0.01l-0.21,0.51l3.05,3.15l0.02,1.53l-4.54,-1.79l-0.32,0.06l-1.29,1.26l0.11,0.5l3.33,1.15l3.17,2.74l0.85,3.29l-4.0,0.78l-1.83,-1.66l-3.1,-2.64l-0.36,-0.02l-0.13,0.33l0.8,2.92l-2.76,2.26l-0.09,0.33l0.28,0.2l6.59,0.19l2.47,0.18l-5.86,3.38l-6.76,3.43l-7.26,1.48l-2.73,0.02l-0.16,0.05l-2.67,1.72l-3.44,4.42l-5.28,2.86l-1.73,0.18l-3.33,1.01l-3.59,0.96l-0.15,0.1l-2.15,2.52l-0.07,0.19l-0.03,2.76l-1.21,2.49l-4.03,3.1l-0.1,0.33l0.98,2.94l-2.31,6.57l-3.21,0.21l-3.6,-3.0l-0.19,-0.07l-4.9,-0.02l-2.29,-1.97l-1.69,-3.78l-4.31,-4.86l-1.23,-2.52l-0.34,-3.58l-0.08,-0.17l-3.35,-3.67l0.85,-2.92l-0.09,-0.31l-1.5,-1.34l2.33,-4.7l3.67,-1.57l0.15,-0.13l1.02,-1.93l0.52,-3.47l-0.44,-0.31l-2.85,1.57l-1.33,0.64l-2.12,0.59l-2.81,-1.32l-0.15,-2.79l0.88,-2.17l2.09,-0.06l5.07,1.2l0.34,-0.17l-0.11,-0.37l-4.3,-2.9l-2.24,-1.58l-0.25,-0.05l-2.38,0.62l-1.7,-0.93l2.62,-4.1l-0.03,-0.36l-1.51,-1.75l-1.97,-3.3l-3.01,-5.21l-0.1,-0.11l-3.04,-1.85l0.03,-1.94l-0.18,-0.28l-6.82,-3.01l-5.35,-0.38l-6.69,0.21l-6.03,0.37l-2.81,-1.59l-3.84,-2.9l5.94,-1.5l5.01,-0.28l0.28,-0.29l-0.26,-0.31l-10.68,-1.38l-5.38,-2.1l0.27,-1.68l9.3,-2.6l9.18,-2.68l0.19,-0.16l0.97,-2.05l-0.18,-0.42l-6.29,-1.91l1.81,-1.9l8.58,-4.05l3.6,-0.63l0.23,-0.4l-0.92,-2.37l5.59,-1.5l7.66,-0.95l7.58,-0.05l2.65,1.84l0.31,0.02l6.52,-3.29l5.85,2.24l3.55,0.49l5.17,1.95l0.38,-0.16l-0.13,-0.39l-5.77,-3.16l0.29,-2.26Z",name:"Greenland"},KW:{path:"M540.87,207.81l0.41,0.94l-0.18,0.51l0.0,0.21l0.65,1.66l-1.15,0.05l-0.54,-1.12l-0.24,-0.17l-1.73,-0.2l1.44,-2.06l1.33,0.18Z",name:"Kuwait"},GH:{path:"M423.16,269.88l-3.58,1.34l-1.41,0.87l-2.13,0.69l-1.91,-0.61l0.09,-0.75l-0.03,-0.17l-1.04,-2.07l0.62,-2.7l1.04,-2.08l0.03,-0.19l-1.0,-5.46l0.05,-1.12l4.04,-0.11l1.08,0.18l0.18,-0.03l0.72,-0.36l0.75,0.13l-0.11,0.48l0.06,0.26l0.98,1.22l-0.0,1.77l0.24,1.99l0.05,0.13l0.55,0.81l-0.52,2.14l0.19,1.37l0.69,1.66l0.38,0.62Z",name:"Ghana"},OM:{path:"M568.16,231.0l-0.08,0.1l-0.84,1.61l-0.93,-0.11l-0.27,0.11l-0.58,0.73l-0.4,1.32l-0.01,0.14l0.29,1.61l-0.07,0.09l-1.0,-0.01l-0.16,0.04l-1.56,0.97l-0.14,0.2l-0.23,1.17l-0.41,0.4l-1.44,-0.02l-0.17,0.05l-0.98,0.65l-0.13,0.25l0.01,0.87l-0.97,0.57l-1.27,-0.22l-0.19,0.03l-1.63,0.84l-0.88,0.11l-2.55,-5.57l7.2,-2.49l0.19,-0.19l1.67,-5.23l-0.03,-0.25l-1.1,-1.78l0.05,-0.89l0.68,-1.03l0.05,-0.16l0.01,-0.89l0.96,-0.44l0.07,-0.5l-0.32,-0.26l0.16,-1.31l0.85,-0.01l1.03,1.67l0.09,0.09l1.4,0.96l0.11,0.05l1.82,0.34l1.37,0.45l1.75,2.32l0.13,0.1l0.7,0.26l-0.0,0.3l-1.25,2.19l-1.01,0.8ZM561.88,218.47l-0.01,0.02l-0.15,-0.29l0.3,-0.38l-0.14,0.65Z",name:"Oman"},SOL:{path:"M543.2,261.06l-1.07,1.46l-1.65,1.99l-1.91,0.01l-8.08,-2.95l-0.89,-0.84l-0.9,-1.19l-0.81,-1.23l0.44,-0.73l0.76,-1.12l0.49,0.28l0.52,1.05l1.13,1.06l0.2,0.08l1.24,0.01l2.42,-0.65l2.77,-0.31l2.17,-0.78l1.31,-0.19l0.84,-0.43l1.03,-0.06l-0.01,4.54Z",name:"Somaliland"},_2:{path:"M384.23,230.37l0.07,-0.06l0.28,-0.89l0.99,-1.13l0.07,-0.13l0.8,-3.54l3.4,-2.8l0.09,-0.13l0.76,-2.17l0.07,5.5l-2.07,0.21l-0.24,0.17l-0.61,1.36l-0.02,0.16l0.43,3.46l-4.01,-0.01ZM391.82,218.2l0.07,-0.06l0.75,-1.93l1.86,-0.25l0.94,0.34l1.14,0.0l0.18,-0.06l0.73,-0.56l1.41,-0.08l-0.0,2.72l-7.08,-0.12Z",name:"Western Sahara"},_1:{path:"M472.71,172.84l-0.07,-0.43l-0.16,-0.22l-0.53,-0.27l-0.38,-0.58l0.3,-0.43l0.51,-0.19l0.18,-0.18l0.3,-0.87l0.12,-0.04l0.22,0.26l0.12,0.09l0.38,0.15l0.28,0.41l0.15,0.12l0.34,0.12l0.43,0.5l0.15,0.07l-0.12,0.3l-0.27,0.32l-0.03,0.18l-0.31,0.06l-1.48,0.47l-0.15,0.17Z",name:"Kosovo"},JO:{path:"M510.26,200.93l0.28,-0.57l2.53,1.0l0.27,-0.02l4.57,-2.77l0.84,2.84l-0.28,0.25l-4.95,1.37l-0.14,0.49l2.24,2.48l-0.5,0.28l-0.13,0.14l-0.35,0.78l-1.76,0.35l-0.2,0.14l-0.57,0.94l-0.94,0.73l-2.45,-0.38l-0.03,-0.12l1.23,-4.32l-0.04,-1.1l0.34,-0.75l0.03,-0.12l0.0,-1.63Z",name:"Jordan"},HR:{path:"M455.49,162.73l1.53,0.09l0.24,-0.1l0.29,-0.34l0.64,0.38l0.14,0.04l0.98,0.06l0.32,-0.3l-0.01,-0.66l0.67,-0.25l0.19,-0.22l0.21,-1.11l1.72,-0.72l0.65,0.32l1.94,1.37l2.07,0.6l0.22,-0.02l0.67,-0.33l0.47,0.94l0.67,0.76l-0.63,0.77l-0.91,-0.55l-0.16,-0.04l-1.69,0.04l-2.2,-0.51l-1.17,0.07l-0.21,0.11l-0.36,0.42l-0.67,-0.53l-0.46,0.12l-0.52,1.29l0.05,0.31l1.21,1.42l0.58,0.99l1.15,1.14l0.95,0.68l0.92,1.23l0.1,0.09l1.75,0.91l-1.87,-0.89l-1.5,-1.11l-2.23,-0.88l-1.77,-1.9l0.12,-0.06l0.1,-0.47l-1.07,-1.22l-0.04,-0.94l-0.21,-0.27l-1.61,-0.49l-0.35,0.14l-0.53,0.93l-0.41,-0.57l0.04,-0.73Z",name:"Croatia"},HT:{path:"M237.82,234.68l1.35,0.1l1.95,0.37l0.18,1.15l-0.16,0.83l-0.51,0.37l-0.06,0.44l0.57,0.68l-0.02,0.22l-1.31,-0.35l-1.26,0.17l-1.49,-0.18l-0.15,0.02l-1.03,0.43l-1.02,-0.61l0.09,-0.36l2.04,0.32l1.9,0.21l0.19,-0.05l0.9,-0.58l0.05,-0.47l-1.05,-1.03l0.02,-0.86l-0.23,-0.3l-1.13,-0.29l0.18,-0.23Z",name:"Haiti"},HU:{path:"M461.96,157.92l0.68,-1.66l-0.03,-0.29l-0.15,-0.22l0.84,-0.0l0.3,-0.26l0.12,-0.84l0.88,0.57l0.98,0.38l0.16,0.01l2.1,-0.39l0.23,-0.21l0.14,-0.45l0.88,-0.1l1.06,-0.43l0.13,0.1l0.28,0.04l1.18,-0.4l0.14,-0.1l0.52,-0.67l0.63,-0.15l2.6,0.95l0.26,-0.03l0.38,-0.23l1.12,0.7l0.1,0.49l-1.31,0.57l-0.14,0.13l-1.18,2.14l-1.44,2.04l-1.85,0.55l-1.51,-0.13l-0.14,0.02l-1.92,0.82l-0.85,0.42l-1.91,-0.55l-1.83,-1.31l-0.74,-0.37l-0.44,-0.97l-0.26,-0.18Z",name:"Hungary"},HN:{path:"M202.48,251.87l-0.33,-0.62l-0.18,-0.14l-0.5,-0.15l0.13,-0.76l-0.11,-0.28l-0.34,-0.28l-0.6,-0.23l-0.18,-0.01l-0.81,0.22l-0.16,-0.24l-0.72,-0.39l-0.51,-0.48l-0.12,-0.07l-0.31,-0.09l0.24,-0.3l0.04,-0.3l-0.16,-0.4l0.1,-0.28l1.14,-0.69l1.0,-0.86l0.09,0.04l0.3,-0.05l0.47,-0.39l0.49,-0.03l0.14,0.13l0.29,0.06l0.31,-0.1l1.16,0.22l1.24,-0.08l0.81,-0.28l0.29,-0.25l0.63,0.1l0.69,0.18l0.65,-0.06l0.49,-0.2l1.04,0.32l0.38,0.06l0.7,0.44l0.71,0.56l0.92,0.41l0.1,0.11l-0.11,-0.01l-0.23,0.09l-0.3,0.3l-0.76,0.29l-0.58,0.0l-0.15,0.04l-0.45,0.26l-0.31,-0.07l-0.37,-0.34l-0.28,-0.07l-0.26,0.07l-0.18,0.15l-0.23,0.43l-0.04,-0.0l-0.33,0.28l-0.03,0.4l-0.76,0.61l-0.45,0.3l-0.15,0.16l-0.51,-0.36l-0.41,0.06l-0.45,0.56l-0.41,-0.01l-0.59,0.06l-0.27,0.31l0.04,0.96l-0.07,0.0l-0.25,0.16l-0.24,0.45l-0.42,0.06Z",name:"Honduras"},PR:{path:"M254.95,238.31l1.15,0.21l0.2,0.23l-0.36,0.36l-1.76,-0.01l-1.2,0.07l-0.09,-0.69l0.17,-0.18l1.89,0.01Z",name:"Puerto Rico"},PS:{path:"M509.66,201.06l-0.0,1.44l-0.29,0.63l-0.59,0.19l0.02,-0.11l0.52,-0.31l-0.02,-0.53l-0.41,-0.2l0.36,-1.28l0.41,0.17Z",name:"Palestine"},PT:{path:"M398.65,173.6l0.75,-0.63l0.7,-0.3l0.51,1.2l0.28,0.18l1.48,-0.0l0.2,-0.08l0.33,-0.3l1.16,0.08l0.52,1.11l-0.95,0.66l-0.13,0.24l-0.03,2.2l-0.33,0.35l-0.08,0.18l-0.08,1.17l-0.86,0.19l-0.2,0.44l0.93,1.64l-0.64,1.79l0.07,0.31l0.72,0.72l-0.24,0.56l-0.9,1.05l-0.07,0.26l0.17,0.77l-0.73,0.54l-1.18,-0.36l-0.16,-0.0l-0.85,0.21l0.31,-1.81l-0.23,-1.87l-0.23,-0.25l-0.99,-0.24l-0.49,-0.91l0.18,-1.72l0.93,-0.99l0.08,-0.16l0.17,-1.17l0.52,-1.76l-0.04,-1.36l-0.51,-1.14l-0.09,-0.8Z",name:"Portugal"},PY:{path:"M264.33,341.43l0.93,-2.96l0.07,-1.42l1.1,-2.1l4.19,-0.73l2.22,0.04l2.12,1.21l0.07,0.76l0.7,1.38l-0.16,3.48l0.24,0.31l2.64,0.5l0.19,-0.03l0.9,-0.45l1.47,0.62l0.38,0.64l0.23,2.35l0.3,1.07l0.25,0.21l0.93,0.12l0.16,-0.02l0.8,-0.37l0.61,0.33l-0.0,1.25l-0.33,1.53l-0.5,1.57l-0.39,2.26l-2.14,1.94l-1.85,0.4l-2.74,-0.4l-2.13,-0.62l2.26,-3.75l0.03,-0.24l-0.36,-1.18l-0.17,-0.19l-2.55,-1.03l-3.04,-1.95l-2.07,-0.43l-4.4,-4.12Z",name:"Paraguay"},PA:{path:"M213.65,263.79l0.18,-0.43l0.02,-0.18l-0.06,-0.28l0.23,-0.18l-0.01,-0.48l-0.4,-0.29l-0.01,-0.62l0.57,-0.13l0.68,0.69l-0.04,0.39l0.26,0.33l1.0,0.11l0.27,-0.1l0.49,0.44l0.24,0.07l1.34,-0.22l1.04,-0.62l1.49,-0.5l0.86,-0.73l0.99,0.11l0.18,0.28l1.35,0.08l1.02,0.4l0.78,0.72l0.71,0.53l-0.1,0.12l-0.05,0.3l0.53,1.34l-0.28,0.44l-0.6,-0.13l-0.36,0.22l-0.2,0.76l-0.41,-0.36l-0.44,-1.12l0.49,-0.53l-0.14,-0.49l-0.51,-0.14l-0.41,-0.72l-0.11,-0.11l-1.25,-0.7l-0.19,-0.04l-1.1,0.16l-0.22,0.15l-0.47,0.81l-0.9,0.56l-0.49,0.08l-0.22,0.17l-0.25,0.52l0.05,0.32l0.93,1.07l-0.41,0.21l-0.29,0.3l-0.81,0.09l-0.36,-1.26l-0.53,-0.1l-0.21,0.28l-0.5,-0.09l-0.44,-0.88l-0.22,-0.16l-0.99,-0.16l-0.61,-0.28l-0.13,-0.03l-1.0,0.0Z",name:"Panama"},PG:{path:"M808.4,298.6l0.62,0.46l1.19,1.56l1.04,0.77l-0.18,0.37l-0.42,0.15l-0.92,-0.82l-1.05,-1.53l-0.27,-0.96ZM804.09,296.06l-0.3,0.26l-0.36,-1.11l-0.66,-1.06l-2.55,-1.89l-1.42,-0.59l0.17,-0.15l1.16,0.6l0.85,0.55l1.01,0.58l0.97,1.02l0.9,0.76l0.24,1.03ZM796.71,297.99l0.15,0.82l0.34,0.24l1.43,-0.19l0.19,-0.11l0.68,-0.82l1.36,-0.87l0.13,-0.31l-0.21,-1.13l1.04,-0.03l0.3,0.25l-0.04,1.17l-0.74,1.34l-1.17,0.18l-0.22,0.15l-0.35,0.62l-2.51,1.13l-1.21,-0.0l-1.99,-0.71l-1.19,-0.58l0.07,-0.28l1.98,0.32l1.46,-0.2l0.24,-0.21l0.25,-0.79ZM789.24,303.52l0.11,0.15l2.19,1.62l1.6,2.62l0.27,0.14l1.09,-0.06l-0.07,0.77l0.23,0.32l1.23,0.27l-0.14,0.09l0.05,0.53l2.39,0.95l-0.11,0.28l-1.33,0.14l-0.51,-0.55l-0.18,-0.09l-4.59,-0.65l-1.87,-1.55l-1.38,-1.35l-1.28,-2.17l-0.16,-0.13l-3.27,-1.1l-0.19,0.0l-2.12,0.72l-1.58,0.85l-0.15,0.31l0.28,1.63l-1.65,0.73l-1.37,-0.4l-2.3,-0.09l-0.08,-15.65l3.95,1.57l4.58,1.42l1.67,1.25l1.32,1.19l0.36,1.39l0.19,0.21l4.06,1.51l0.39,0.85l-1.9,0.22l-0.25,0.39l0.55,1.68Z",name:"Papua New Guinea"},PE:{path:"M246.44,329.21l-0.63,1.25l-1.05,0.54l-2.25,-1.33l-0.19,-0.93l-0.16,-0.21l-4.95,-2.58l-4.46,-2.79l-1.87,-1.52l-0.94,-1.91l0.33,-0.6l-0.01,-0.31l-2.11,-3.33l-2.46,-4.66l-2.36,-5.02l-1.04,-1.18l-0.77,-1.81l-0.08,-0.11l-1.95,-1.64l-1.54,-0.88l0.61,-0.85l0.02,-0.31l-1.15,-2.27l0.69,-1.56l1.59,-1.26l0.12,0.42l-0.56,0.47l-0.11,0.25l0.07,0.92l0.36,0.27l0.97,-0.19l0.85,0.23l0.99,1.19l0.41,0.05l1.42,-1.03l0.11,-0.16l0.46,-1.64l1.45,-2.06l2.92,-0.96l0.11,-0.07l2.73,-2.62l0.84,-1.72l0.02,-0.18l-0.3,-1.65l0.28,-0.1l1.49,1.06l0.77,1.14l0.1,0.09l1.08,0.6l1.43,2.55l0.21,0.15l1.86,0.31l0.18,-0.03l1.25,-0.6l0.77,0.37l0.17,0.03l1.4,-0.2l1.57,0.96l-1.45,2.29l0.23,0.46l0.63,0.05l0.66,0.7l-1.51,-0.08l-0.24,0.1l-0.27,0.31l-1.96,0.46l-2.95,1.74l-0.14,0.21l-0.17,1.1l-0.6,0.82l-0.05,0.23l0.21,1.13l-1.31,0.63l-0.17,0.27l0.0,0.91l-0.53,0.37l-0.1,0.37l1.04,2.27l1.31,1.46l-0.44,0.9l0.24,0.43l1.52,0.13l0.87,1.23l0.24,0.13l2.21,0.07l0.18,-0.06l1.55,-1.13l-0.14,3.22l0.23,0.3l1.14,0.29l0.16,-0.0l1.18,-0.36l1.97,3.71l-0.45,0.71l-0.04,0.14l-0.12,1.8l-0.05,2.07l-0.92,1.2l-0.03,0.31l0.38,0.8l-0.48,0.72l-0.02,0.3l1.01,2.02l-1.5,2.64Z",name:"Peru"},PK:{path:"M609.08,187.76l1.66,1.21l0.71,2.11l0.2,0.19l3.62,1.01l-1.98,1.95l-2.65,0.4l-3.75,-0.68l-0.26,0.08l-1.23,1.22l-0.07,0.31l0.89,2.46l0.88,1.92l0.1,0.12l1.67,1.14l-1.8,1.35l-0.12,0.25l0.04,1.85l-2.35,2.67l-1.59,2.79l-2.5,2.72l-2.76,-0.2l-0.24,0.09l-2.76,2.83l0.04,0.45l1.54,1.13l0.27,1.94l0.09,0.17l1.34,1.29l0.4,1.83l-5.14,-0.01l-0.22,0.09l-1.53,1.63l-1.52,-0.56l-0.76,-1.88l-1.93,-2.03l-0.25,-0.09l-4.6,0.5l-4.05,0.05l-3.1,0.33l0.77,-2.53l3.48,-1.33l0.19,-0.33l-0.21,-1.24l-0.19,-0.23l-1.01,-0.37l-0.06,-2.18l-0.17,-0.26l-2.32,-1.16l-0.96,-1.57l-0.56,-0.65l3.16,1.05l0.14,0.01l2.45,-0.4l1.44,0.33l0.3,-0.1l0.4,-0.47l1.58,0.22l0.14,-0.01l3.25,-1.14l0.2,-0.27l0.08,-2.23l1.23,-1.38l1.73,0.0l0.28,-0.2l0.22,-0.61l1.68,-0.32l0.86,0.24l0.27,-0.05l0.98,-0.78l0.11,-0.26l-0.13,-1.57l0.96,-1.52l1.51,-0.67l0.14,-0.41l-0.74,-1.4l1.86,0.07l0.26,-0.13l0.69,-1.01l0.05,-0.2l-0.09,-0.94l1.14,-1.09l0.09,-0.28l-0.29,-1.41l-0.51,-1.07l1.23,-1.05l2.6,-0.58l2.86,-0.33l1.33,-0.54l1.3,-0.29Z",name:"Pakistan"},PH:{path:"M737.11,263.82l0.25,1.66l0.14,1.34l-0.54,1.46l-0.64,-1.79l-0.5,-0.1l-1.17,1.28l-0.05,0.32l0.74,1.71l-0.49,0.81l-2.6,-1.28l-0.61,-1.57l0.68,-1.07l-0.07,-0.4l-1.59,-1.19l-0.42,0.06l-0.69,0.91l-1.01,-0.08l-0.21,0.06l-1.58,1.2l-0.17,-0.3l0.87,-1.88l1.48,-0.66l1.18,-0.81l0.71,0.92l0.34,0.1l1.9,-0.69l0.18,-0.18l0.34,-0.94l1.57,-0.06l0.29,-0.32l-0.1,-1.38l1.41,0.83l0.36,2.06ZM734.94,254.42l0.56,2.24l-1.41,-0.49l-0.4,0.3l0.07,0.94l0.51,1.3l-0.54,0.26l-0.08,-1.34l-0.25,-0.28l-0.56,-0.1l-0.23,-0.91l1.03,0.14l0.34,-0.31l-0.03,-0.96l-0.06,-0.18l-1.14,-1.44l1.62,0.04l0.57,0.78ZM724.68,238.33l1.48,0.71l0.33,-0.04l0.44,-0.38l0.05,0.13l-0.37,0.97l0.01,0.23l0.81,1.75l-0.59,1.92l-1.37,0.79l-0.14,0.2l-0.39,2.07l0.01,0.14l0.56,2.04l0.23,0.21l1.33,0.28l0.14,-0.0l1.0,-0.27l2.82,1.28l-0.2,1.16l0.12,0.29l0.66,0.5l-0.13,0.56l-1.54,-0.99l-0.89,-1.29l-0.49,0.0l-0.44,0.65l-1.34,-1.28l-0.26,-0.08l-2.18,0.36l-0.96,-0.44l0.09,-0.72l0.69,-0.57l-0.01,-0.47l-0.75,-0.59l-0.47,0.14l-0.15,0.43l-0.86,-1.02l-0.34,-1.02l-0.07,-1.74l0.49,0.41l0.49,-0.21l0.26,-3.99l0.73,-2.1l1.23,0.0ZM731.12,258.92l-0.82,0.75l-0.83,1.64l-0.52,0.5l-1.17,-1.33l0.36,-0.47l0.62,-0.7l0.07,-0.15l0.24,-1.35l0.73,-0.08l-0.31,1.29l0.16,0.34l0.37,-0.09l1.21,-1.6l-0.12,1.24ZM726.66,255.58l0.85,0.45l0.14,0.03l1.28,-0.0l-0.03,0.62l-1.04,0.96l-1.15,0.55l-0.05,-0.71l0.17,-1.26l-0.01,-0.13l-0.16,-0.51ZM724.92,252.06l-0.45,1.5l-0.7,-0.83l-0.95,-1.43l1.44,0.06l0.67,0.7ZM717.48,261.28l-1.87,1.35l0.21,-0.3l1.81,-1.57l1.5,-1.75l0.97,-1.84l0.23,1.08l-1.56,1.33l-1.29,1.7Z",name:"Philippines"},PL:{path:"M458.8,144.25l-0.96,-1.98l0.18,-1.06l-0.01,-0.15l-0.62,-1.8l-0.82,-1.11l0.56,-0.73l0.05,-0.28l-0.51,-1.51l1.48,-0.87l3.88,-1.58l3.06,-1.14l2.23,0.52l0.15,0.66l0.29,0.23l2.4,0.04l3.11,0.39l4.56,-0.05l1.12,0.32l0.51,0.89l0.1,1.45l0.03,0.12l0.66,1.23l-0.01,1.08l-1.33,0.61l-0.14,0.41l0.74,1.5l0.07,1.53l1.22,2.79l-0.19,0.66l-1.09,0.33l-0.14,0.09l-2.27,2.72l-0.04,0.31l0.35,0.8l-2.22,-1.16l-0.21,-0.02l-1.72,0.44l-1.1,-0.31l-0.21,0.02l-1.3,0.61l-1.11,-1.02l-0.32,-0.05l-0.81,0.35l-1.15,-1.61l-0.21,-0.12l-1.65,-0.17l-0.19,-0.82l-0.23,-0.23l-1.72,-0.37l-0.34,0.17l-0.25,0.56l-0.88,-0.44l0.12,-0.69l-0.25,-0.35l-1.78,-0.27l-1.08,-0.97Z",name:"Poland"},ZM:{path:"M502.81,308.32l1.09,1.04l0.58,1.94l-0.39,0.66l-0.5,2.05l-0.0,0.14l0.45,1.95l-0.69,0.77l-0.06,0.11l-0.76,2.37l0.15,0.36l0.62,0.31l-6.85,1.9l-0.22,0.33l0.2,1.54l-1.62,0.3l-0.12,0.05l-1.43,1.02l-0.11,0.15l-0.25,0.73l-0.73,0.17l-0.14,0.08l-2.18,2.12l-1.33,1.6l-0.65,0.05l-0.83,-0.29l-2.75,-0.28l-0.24,-0.1l-0.15,-0.27l-0.99,-0.58l-0.12,-0.04l-1.73,-0.14l-1.88,0.54l-1.5,-1.48l-1.61,-2.01l0.11,-7.73l4.92,0.03l0.29,-0.37l-0.19,-0.79l0.34,-0.86l0.0,-0.21l-0.41,-1.11l0.26,-1.14l-0.01,-0.16l-0.12,-0.36l0.18,0.01l0.1,0.56l0.31,0.25l1.14,-0.06l1.44,0.21l0.76,1.05l0.19,0.12l2.01,0.35l0.19,-0.03l1.24,-0.65l0.44,1.03l0.22,0.18l1.81,0.34l0.85,0.99l1.02,1.39l0.24,0.12l1.92,0.02l0.3,-0.32l-0.21,-2.74l-0.47,-0.23l-0.53,0.36l-1.58,-0.89l-0.51,-0.34l0.29,-2.36l0.44,-2.99l-0.03,-0.18l-0.5,-0.99l0.61,-1.38l0.53,-0.24l3.26,-0.41l0.89,0.23l1.01,0.62l1.04,0.44l1.6,0.43l1.35,0.72Z",name:"Zambia"},EE:{path:"M482.19,120.88l0.23,-1.68l-0.43,-0.31l-0.75,0.37l-1.34,-1.1l-0.18,-1.75l2.92,-0.95l3.07,-0.53l2.66,0.6l2.48,-0.1l0.18,0.31l-1.65,1.96l-0.06,0.26l0.71,3.25l-0.88,0.94l-1.85,-0.01l-2.08,-1.3l-1.14,-0.47l-0.2,-0.01l-1.69,0.51Z",name:"Estonia"},EG:{path:"M508.07,208.8l-0.66,1.06l-0.53,2.03l-0.64,1.32l-0.32,0.26l-1.74,-1.85l-1.77,-3.86l-0.48,-0.09l-0.26,0.25l-0.07,0.32l1.04,2.88l1.55,2.76l1.89,4.18l0.94,1.48l0.83,1.54l2.08,2.73l-0.3,0.28l-0.1,0.23l0.08,1.72l0.11,0.22l2.91,2.37l-28.78,0.0l0.0,-19.06l-0.73,-2.2l0.61,-1.59l0.0,-0.2l-0.34,-1.04l0.73,-1.08l3.13,-0.04l2.36,0.72l2.48,0.81l1.15,0.43l0.23,-0.01l1.93,-0.87l1.02,-0.78l2.08,-0.21l1.59,0.31l0.62,1.24l0.52,0.03l0.46,-0.71l1.86,0.59l1.95,0.16l0.17,-0.04l0.92,-0.52l1.48,4.24Z",name:"Egypt"},ZA:{path:"M467.06,373.27l-0.13,-0.29l0.01,-1.58l-0.02,-0.12l-0.71,-1.64l0.59,-0.37l0.14,-0.26l-0.07,-2.13l-0.05,-0.15l-1.63,-2.58l-1.25,-2.31l-1.71,-3.37l0.88,-0.98l0.7,0.52l0.39,1.08l0.23,0.19l1.1,0.19l1.55,0.51l0.14,0.01l1.35,-0.2l0.11,-0.04l2.24,-1.39l0.14,-0.25l0.0,-9.4l0.16,0.09l1.39,2.38l-0.22,1.53l0.04,0.19l0.56,0.94l0.3,0.14l1.79,-0.27l0.16,-0.08l1.23,-1.18l1.17,-0.79l0.1,-0.12l0.57,-1.19l1.02,-0.52l0.9,0.28l1.16,0.73l0.14,0.05l2.04,0.13l0.13,-0.02l1.6,-0.62l0.18,-0.19l0.63,-1.93l1.18,-0.19l0.19,-0.12l0.78,-1.05l0.81,-1.71l2.18,-1.91l3.44,-1.88l0.89,0.02l1.17,0.43l0.21,-0.0l0.76,-0.29l1.07,0.21l1.15,3.55l0.63,1.82l-0.44,2.9l0.1,0.52l-0.74,-0.29l-0.18,-0.01l-0.72,0.19l-0.21,0.2l-0.22,0.74l-0.66,0.97l-0.05,0.18l0.02,0.93l0.09,0.21l1.49,1.46l0.27,0.08l1.47,-0.29l0.22,-0.18l0.43,-1.01l1.29,0.02l-0.51,1.63l-0.29,2.2l-0.59,1.12l-2.2,1.78l-1.06,1.39l-0.72,1.44l-1.39,1.93l-2.81,2.84l-1.75,1.65l-1.85,1.24l-2.55,1.06l-1.23,0.14l-0.24,0.18l-0.22,0.54l-1.27,-0.35l-0.2,0.01l-1.15,0.5l-2.62,-0.52l-0.12,0.0l-1.46,0.33l-0.98,-0.14l-0.16,0.02l-2.55,1.1l-2.11,0.44l-1.59,1.07l-0.93,0.06l-0.97,-0.92l-0.19,-0.08l-0.72,-0.04l-1.0,-1.16l-0.25,0.05ZM493.72,359.24l-1.12,-0.86l-0.31,-0.03l-1.23,0.59l-1.36,1.07l-1.39,1.78l0.01,0.38l1.88,2.11l0.31,0.09l0.9,-0.27l0.18,-0.15l0.4,-0.77l1.28,-0.39l0.18,-0.16l0.42,-0.88l0.76,-1.32l-0.05,-0.37l-0.87,-0.82Z",name:"South Africa"},EC:{path:"M220.2,293.48l1.25,-1.76l0.02,-0.31l-0.54,-1.09l-0.5,-0.06l-0.78,0.94l-1.03,-0.75l0.33,-0.46l0.05,-0.23l-0.38,-2.04l0.66,-0.28l0.17,-0.19l0.45,-1.52l0.93,-1.58l0.04,-0.2l-0.13,-0.78l1.19,-0.47l1.57,-0.91l2.35,1.34l0.17,0.04l0.28,-0.02l0.52,0.91l0.21,0.15l2.12,0.35l0.2,-0.03l0.55,-0.31l1.08,0.73l0.97,0.54l0.31,1.67l-0.71,1.49l-2.64,2.54l-2.95,0.97l-0.15,0.11l-1.53,2.18l-0.49,1.68l-1.1,0.8l-0.87,-1.05l-0.15,-0.1l-1.01,-0.27l-0.13,-0.0l-0.7,0.14l-0.03,-0.43l0.6,-0.5l0.1,-0.31l-0.26,-0.91Z",name:"Ecuador"},AL:{path:"M470.27,171.7l0.38,0.19l0.45,-0.18l0.4,0.61l0.11,0.1l0.46,0.24l0.13,0.87l-0.3,0.95l-0.0,0.17l0.36,1.28l0.12,0.17l0.9,0.63l-0.03,0.44l-0.67,0.35l-0.16,0.22l-0.14,0.88l-0.96,1.18l-0.06,-0.03l-0.04,-0.48l-0.12,-0.22l-1.28,-0.92l-0.19,-1.25l0.2,-1.96l0.33,-0.89l-0.06,-0.3l-0.36,-0.41l-0.13,-0.75l0.66,-0.9Z",name:"Albania"},AO:{path:"M461.62,299.93l0.55,1.67l0.73,1.54l1.56,2.18l0.28,0.12l1.66,-0.2l0.81,-0.34l1.28,0.33l0.33,-0.14l0.39,-0.67l0.56,-1.3l1.37,-0.09l0.27,-0.21l0.07,-0.23l0.67,-0.01l-0.13,0.53l0.29,0.37l2.74,-0.02l0.04,1.29l0.03,0.13l0.46,0.87l-0.35,1.52l0.18,1.55l0.07,0.16l0.75,0.85l-0.13,2.89l0.41,0.29l0.56,-0.21l1.11,0.05l1.5,-0.37l0.9,0.12l0.18,0.53l-0.27,1.15l0.01,0.17l0.4,1.08l-0.33,0.85l-0.01,0.18l0.12,0.51l-4.83,-0.03l-0.3,0.3l-0.12,8.13l0.07,0.19l1.69,2.1l1.27,1.25l-4.03,0.92l-5.93,-0.36l-1.66,-1.19l-0.18,-0.06l-10.15,0.11l-0.34,0.13l-1.35,-1.05l-0.17,-0.06l-1.62,-0.08l-1.6,0.45l-0.88,0.36l-0.17,-1.2l0.34,-2.19l0.85,-2.32l0.14,-1.13l0.79,-2.24l0.57,-1.0l1.42,-1.64l0.82,-1.15l0.05,-0.13l0.26,-1.88l-0.13,-1.51l-0.07,-0.16l-0.72,-0.87l-1.23,-2.91l0.09,-0.37l0.73,-0.95l0.05,-0.27l-1.27,-4.12l-1.19,-1.54l0.1,-0.2l0.86,-0.28l0.78,0.03l0.83,-0.29l7.12,0.03ZM451.81,298.94l-0.17,0.07l-0.5,-1.42l0.85,-0.92l0.53,-0.29l0.48,0.44l-0.56,0.32l-0.1,0.1l-0.41,0.65l-0.05,0.14l-0.07,0.91Z",name:"Angola"},KZ:{path:"M598.42,172.08l-1.37,0.54l-3.3,2.09l-0.11,0.12l-1.01,1.97l-0.56,0.01l-0.6,-1.24l-0.26,-0.17l-2.95,-0.09l-0.46,-2.22l-0.29,-0.24l-0.91,-0.02l0.17,-2.72l-0.12,-0.26l-3.0,-2.22l-0.2,-0.06l-4.29,0.24l-2.8,0.42l-2.36,-2.7l-6.4,-3.65l-0.23,-0.03l-6.45,1.83l-0.22,0.29l0.1,10.94l-0.84,0.1l-1.65,-2.21l-0.11,-0.09l-1.69,-0.84l-0.2,-0.02l-2.84,0.63l-0.14,0.07l-0.71,0.64l-0.02,-0.11l0.57,-1.17l0.0,-0.26l-0.48,-1.05l-0.17,-0.16l-2.78,-0.99l-1.08,-2.62l-0.13,-0.15l-1.24,-0.7l-0.04,-0.48l2.07,0.25l0.34,-0.29l0.09,-2.03l1.84,-0.44l2.12,0.45l0.36,-0.25l0.45,-3.04l-0.45,-2.06l-0.31,-0.23l-2.44,0.15l-2.07,-0.75l-0.23,0.01l-2.88,1.38l-2.21,0.62l-0.96,-0.38l0.22,-1.39l-0.06,-0.23l-1.6,-2.12l-0.25,-0.12l-1.72,0.08l-1.87,-1.91l1.33,-2.24l-0.06,-0.38l-0.55,-0.5l1.72,-3.08l2.3,1.7l0.48,-0.2l0.29,-2.26l4.99,-3.48l3.76,-0.08l5.46,2.27l2.96,1.33l0.26,-0.01l2.59,-1.36l3.82,-0.06l3.13,1.67l0.38,-0.09l0.63,-0.85l3.36,0.14l0.29,-0.19l0.63,-1.57l-0.13,-0.37l-3.64,-2.05l2.0,-1.36l0.1,-0.38l-0.32,-0.62l2.09,-0.76l0.13,-0.47l-1.65,-2.13l0.89,-0.91l9.27,-1.18l0.13,-0.05l1.17,-0.82l6.2,-1.27l2.26,-1.43l4.19,0.7l0.74,3.39l0.38,0.22l2.52,-0.81l2.9,1.06l-0.18,1.63l0.32,0.33l2.52,-0.23l5.0,-2.58l0.03,0.39l3.16,2.62l5.57,8.48l0.49,0.02l1.18,-1.53l3.22,1.78l0.21,0.03l3.5,-0.83l1.21,0.52l1.16,1.82l0.15,0.12l1.67,0.61l1.01,1.32l0.28,0.11l3.04,-0.41l1.1,1.64l-1.68,1.89l-1.97,0.28l-0.26,0.29l-0.12,3.09l-1.2,1.23l-4.81,-1.01l-0.35,0.2l-1.77,5.51l-1.14,0.62l-4.92,1.23l-0.2,0.41l2.14,5.06l-1.45,0.67l-0.17,0.31l0.15,1.28l-1.05,-0.3l-1.21,-1.04l-0.17,-0.07l-3.73,-0.32l-4.15,-0.08l-0.92,0.31l-3.46,-1.24l-0.22,0.01l-1.42,0.63l-0.17,0.21l-0.32,1.49l-3.82,-0.97l-0.15,0.0l-1.65,0.43l-0.2,0.17l-0.51,1.21Z",name:"Kazakhstan"},ET:{path:"M516.0,247.63l1.21,0.92l0.3,0.04l1.3,-0.53l0.46,0.41l0.19,0.08l1.65,0.03l2.05,0.96l0.67,0.88l1.07,0.79l1.0,1.45l0.7,0.68l-0.72,0.92l-0.85,1.19l-0.04,0.25l0.19,0.67l0.04,0.74l0.29,0.28l1.4,0.04l0.55,-0.15l0.23,0.19l-0.41,0.67l0.01,0.32l0.92,1.39l0.93,1.23l0.99,0.94l0.1,0.06l8.19,2.99l1.51,0.01l-6.51,6.95l-3.14,0.11l-0.18,0.06l-2.15,1.71l-1.51,0.04l-0.22,0.1l-0.6,0.69l-1.46,-0.0l-0.93,-0.78l-0.32,-0.04l-2.29,1.05l-0.12,0.1l-0.64,0.9l-1.44,-0.17l-0.51,-0.26l-0.17,-0.03l-0.56,0.07l-0.68,-0.02l-3.1,-2.08l-0.17,-0.05l-1.62,0.0l-0.68,-0.65l0.0,-1.28l-0.21,-0.29l-1.19,-0.38l-1.42,-2.63l-0.13,-0.12l-1.05,-0.53l-0.46,-1.0l-1.27,-1.23l-0.17,-0.08l-1.08,-0.13l0.53,-0.9l1.17,-0.05l0.26,-0.17l0.37,-0.77l0.03,-0.14l-0.03,-2.23l0.7,-2.49l1.08,-0.65l0.14,-0.19l0.24,-1.0l1.03,-1.85l1.47,-1.22l0.09,-0.12l1.02,-2.51l0.36,-1.96l2.62,0.48l0.33,-0.18l0.63,-1.55Z",name:"Ethiopia"},ZW:{path:"M498.95,341.2l-1.16,-0.23l-0.16,0.01l-0.74,0.28l-1.11,-0.41l-1.02,-0.04l-1.52,-1.13l-0.12,-0.05l-1.79,-0.37l-0.65,-1.46l-0.01,-0.86l-0.22,-0.29l-0.99,-0.26l-2.74,-2.77l-0.77,-1.46l-0.52,-0.5l-0.72,-1.54l2.24,0.23l0.78,0.28l0.12,0.02l0.85,-0.06l0.21,-0.11l1.38,-1.66l2.11,-2.05l0.81,-0.18l0.22,-0.2l0.27,-0.8l1.29,-0.93l1.53,-0.28l0.11,0.66l0.3,0.25l2.02,-0.05l1.04,0.48l0.5,0.59l0.18,0.1l1.13,0.18l1.11,0.7l0.01,3.06l-0.49,1.82l-0.11,1.94l0.03,0.16l0.35,0.68l-0.24,1.3l-0.27,0.17l-0.12,0.15l-0.64,1.83l-2.49,2.8Z",name:"Zimbabwe"},ES:{path:"M398.67,172.8l0.09,-1.45l-0.06,-0.2l-0.82,-1.05l3.16,-1.96l3.01,0.54l3.33,-0.02l2.64,0.52l2.14,-0.15l3.9,0.1l0.91,1.08l0.14,0.09l4.61,1.38l0.26,-0.04l0.77,-0.55l2.66,1.29l0.17,0.03l2.59,-0.35l0.1,1.28l-2.2,1.85l-3.13,0.62l-0.23,0.23l-0.21,0.92l-1.54,1.68l-0.97,2.4l0.02,0.26l0.85,1.46l-1.27,1.14l-0.09,0.14l-0.5,1.73l-1.73,0.53l-0.15,0.1l-1.68,2.1l-3.03,0.04l-2.38,-0.05l-0.17,0.05l-1.57,1.01l-0.9,1.01l-0.96,-0.19l-0.82,-0.86l-0.69,-1.6l-0.22,-0.18l-2.14,-0.41l-0.13,-0.62l0.83,-0.97l0.39,-0.86l-0.06,-0.33l-0.73,-0.73l0.63,-1.74l-0.02,-0.25l-0.8,-1.41l0.69,-0.15l0.23,-0.27l0.09,-1.29l0.33,-0.36l0.08,-0.2l0.03,-2.16l1.03,-0.72l0.1,-0.37l-0.7,-1.5l-0.25,-0.17l-1.46,-0.11l-0.22,0.07l-0.34,0.3l-1.17,0.0l-0.55,-1.29l-0.39,-0.16l-1.02,0.44l-0.45,0.36Z",name:"Spain"},ER:{path:"M527.15,253.05l-0.77,-0.74l-1.01,-1.47l-1.14,-0.86l-0.62,-0.84l-0.11,-0.09l-2.18,-1.02l-0.12,-0.03l-1.61,-0.03l-0.52,-0.46l-0.31,-0.05l-1.31,0.54l-1.38,-1.06l-0.46,0.12l-0.69,1.68l-2.49,-0.46l-0.2,-0.76l1.06,-3.69l0.24,-1.65l0.66,-0.66l1.76,-0.4l0.16,-0.1l0.97,-1.13l1.24,2.55l0.68,2.34l0.09,0.14l1.4,1.27l3.39,2.4l1.37,1.43l2.14,2.34l0.94,0.6l-0.32,0.26l-0.85,-0.17Z",name:"Eritrea"},ME:{path:"M469.05,172.9l-0.57,-0.8l-0.1,-0.09l-0.82,-0.46l0.16,-0.33l0.35,-1.57l0.72,-0.62l0.27,-0.16l0.48,0.38l0.35,0.4l0.12,0.08l0.79,0.32l0.66,0.43l-0.43,0.62l-0.28,0.11l-0.07,-0.25l-0.53,-0.1l-1.09,1.49l-0.05,0.23l0.06,0.32Z",name:"Montenegro"},MD:{path:"M488.2,153.75l0.14,-0.11l1.49,-0.28l1.75,0.95l1.06,0.14l0.92,0.7l-0.15,0.9l0.15,0.31l0.8,0.46l0.33,1.2l0.09,0.14l0.72,0.66l-0.11,0.28l0.1,0.33l-0.06,0.02l-1.25,-0.08l-0.17,-0.29l-0.39,-0.12l-0.52,0.25l-0.16,0.36l0.13,0.42l-0.6,0.88l-0.43,1.03l-0.22,0.12l-0.32,-1.0l0.25,-1.34l-0.08,-1.38l-0.06,-0.17l-1.43,-1.87l-0.81,-1.36l-0.78,-0.95l-0.12,-0.09l-0.29,-0.12Z",name:"Moldova"},MG:{path:"M544.77,316.45l0.64,1.04l0.6,1.62l0.4,3.04l0.63,1.21l-0.22,1.07l-0.15,0.26l-0.59,-1.05l-0.52,-0.01l-0.47,0.76l-0.04,0.23l0.46,1.84l-0.19,0.92l-0.61,0.53l-0.1,0.21l-0.16,2.15l-0.97,2.98l-1.24,3.59l-1.55,4.97l-0.96,3.67l-1.08,2.93l-1.94,0.61l-2.05,1.06l-3.2,-1.53l-0.62,-1.26l-0.18,-2.39l-0.87,-2.07l-0.22,-1.8l0.4,-1.69l1.01,-0.4l0.19,-0.28l0.01,-0.79l1.15,-1.91l0.04,-0.11l0.23,-1.66l-0.03,-0.17l-0.57,-1.21l-0.46,-1.58l-0.19,-2.25l0.82,-1.36l0.33,-1.51l1.11,-0.1l1.4,-0.53l0.9,-0.45l1.03,-0.03l0.21,-0.09l1.41,-1.45l2.12,-1.65l0.75,-1.29l0.03,-0.24l-0.17,-0.56l0.53,0.15l0.32,-0.1l1.38,-1.77l0.06,-0.18l0.04,-1.44l0.54,-0.74l0.62,0.77Z",name:"Madagascar"},MA:{path:"M378.66,230.13l0.07,-0.75l0.93,-0.72l0.82,-1.37l0.04,-0.21l-0.14,-0.8l0.8,-1.74l1.33,-1.61l0.79,-0.4l0.14,-0.15l0.66,-1.55l0.08,-1.46l0.83,-1.52l1.6,-0.94l0.11,-0.11l1.56,-2.71l1.2,-0.99l2.24,-0.29l0.17,-0.08l1.95,-1.83l1.3,-0.77l2.09,-2.28l0.07,-0.26l-0.61,-3.34l0.92,-2.3l0.33,-1.44l1.52,-1.79l2.48,-1.27l1.86,-1.16l0.1,-0.11l1.67,-2.93l0.72,-1.59l1.54,0.01l1.43,1.14l0.21,0.06l2.33,-0.19l2.55,0.62l0.97,0.03l0.83,1.6l0.15,1.71l0.86,2.96l0.09,0.14l0.5,0.45l-0.31,0.73l-3.11,0.44l-0.16,0.07l-1.07,0.97l-1.36,0.23l-0.25,0.28l-0.1,1.85l-2.74,1.02l-0.14,0.11l-0.9,1.3l-1.93,0.69l-2.56,0.44l-4.04,2.01l-0.17,0.27l0.02,2.91l-0.08,0.0l-0.3,0.31l0.05,1.15l-1.25,0.07l-0.16,0.06l-0.73,0.55l-0.98,0.0l-0.85,-0.33l-0.15,-0.02l-2.11,0.29l-0.24,0.19l-0.76,1.95l-0.63,0.16l-0.21,0.19l-1.15,3.29l-3.42,2.81l-0.1,0.17l-0.81,3.57l-0.98,1.12l-0.3,0.85l-5.13,0.19Z",name:"Morocco"},UZ:{path:"M587.83,186.48l0.06,-1.46l-0.19,-0.29l-3.31,-1.24l-2.57,-1.4l-1.63,-1.38l-2.79,-1.98l-1.2,-2.98l-0.12,-0.14l-0.84,-0.54l-0.18,-0.05l-2.61,0.13l-0.76,-0.48l-0.25,-2.25l-0.17,-0.24l-3.37,-1.6l-0.32,0.04l-2.08,1.73l-2.11,1.02l-0.16,0.35l0.31,1.14l-2.14,0.03l-0.09,-10.68l6.1,-1.74l6.25,3.57l2.36,2.72l0.27,0.1l2.92,-0.44l4.17,-0.23l2.78,2.06l-0.18,2.87l0.29,0.32l0.98,0.02l0.46,2.22l0.28,0.24l3.0,0.09l0.61,1.25l0.28,0.17l0.93,-0.02l0.26,-0.16l1.06,-2.06l3.21,-2.03l1.3,-0.5l0.19,0.08l-1.75,1.62l0.05,0.48l1.85,1.12l0.27,0.02l1.65,-0.69l2.4,1.27l-2.69,1.79l-1.79,-0.27l-0.89,0.06l-0.22,-0.52l0.48,-1.26l-0.34,-0.4l-3.35,0.69l-0.22,0.18l-0.78,1.87l-1.07,1.47l-1.93,-0.13l-0.29,0.16l-0.65,1.29l0.16,0.42l1.69,0.64l0.48,1.91l-1.25,2.6l-1.64,-0.53l-1.18,-0.03Z",name:"Uzbekistan"},MM:{path:"M670.1,233.39l-1.46,1.11l-1.68,0.11l-0.26,0.19l-1.1,2.7l-0.95,0.42l-0.14,0.42l1.21,2.27l1.61,1.92l0.94,1.55l-0.82,1.99l-0.77,0.42l-0.13,0.39l0.64,1.35l1.62,1.97l0.26,1.32l-0.04,1.15l0.02,0.13l0.92,2.18l-1.3,2.23l-0.79,1.69l-0.1,-0.77l0.74,-1.87l-0.02,-0.26l-0.8,-1.42l0.2,-2.68l-0.06,-0.2l-0.98,-1.27l-0.8,-2.98l-0.45,-3.22l-1.11,-2.22l-0.45,-0.1l-1.64,1.28l-2.74,1.76l-1.26,-0.2l-1.27,-0.49l0.79,-2.93l0.0,-0.14l-0.52,-2.42l-1.93,-2.97l0.26,-0.8l-0.22,-0.39l-1.37,-0.31l-1.65,-1.98l-0.12,-1.5l0.41,0.19l0.42,-0.26l0.05,-1.7l1.08,-0.54l0.16,-0.34l-0.24,-1.0l0.5,-0.79l0.05,-0.15l0.08,-2.35l1.58,0.49l0.36,-0.15l1.12,-2.19l0.15,-1.34l1.35,-2.18l0.04,-0.17l-0.07,-1.35l2.97,-1.71l1.67,0.45l0.38,-0.33l-0.18,-1.46l0.7,-0.4l0.15,-0.32l-0.13,-0.72l0.94,-0.13l0.74,1.41l0.11,0.12l0.95,0.56l0.07,1.89l-0.09,2.08l-2.28,2.15l-0.09,0.19l-0.3,3.15l0.35,0.32l2.37,-0.39l0.53,2.17l0.2,0.21l1.3,0.42l-0.63,1.9l0.14,0.36l1.86,0.99l1.1,0.49l0.24,0.0l1.45,-0.6l0.04,0.51l-2.01,1.6l-0.56,0.96l-1.34,0.56Z",name:"Myanmar"},ML:{path:"M390.79,248.2l0.67,-0.37l0.14,-0.18l0.36,-1.31l0.51,-0.04l1.68,0.69l0.21,0.0l1.34,-0.48l0.89,0.16l0.3,-0.13l0.29,-0.44l9.89,-0.04l0.29,-0.21l0.56,-1.8l-0.11,-0.33l-0.33,-0.24l-2.37,-22.1l3.41,-0.04l8.37,5.73l8.38,5.68l0.56,1.15l0.14,0.14l1.56,0.75l0.99,0.36l0.03,1.45l0.33,0.29l2.45,-0.22l0.01,5.52l-1.3,1.64l-0.06,0.15l-0.18,1.37l-1.99,0.36l-3.4,0.22l-0.19,0.09l-0.85,0.83l-1.48,0.09l-1.49,0.01l-0.54,-0.43l-0.26,-0.05l-1.38,0.36l-2.39,1.08l-0.13,0.12l-0.44,0.73l-1.88,1.11l-0.11,0.12l-0.3,0.57l-0.86,0.42l-1.1,-0.31l-0.28,0.07l-0.69,0.62l-0.09,0.16l-0.35,1.66l-1.93,2.04l-0.08,0.23l0.05,0.76l-0.63,0.99l-0.04,0.19l0.14,1.23l-0.81,0.29l-0.32,0.17l-0.27,-0.75l-0.39,-0.18l-0.65,0.26l-0.36,-0.04l-0.29,0.14l-0.37,0.6l-1.69,-0.02l-0.63,-0.34l-0.32,0.02l-0.12,0.09l-0.47,-0.45l0.1,-0.6l-0.09,-0.27l-0.31,-0.3l-0.33,-0.05l-0.05,0.02l0.02,-0.21l0.46,-0.59l-0.02,-0.39l-0.99,-1.02l-0.34,-0.74l-0.56,-0.56l-0.17,-0.09l-0.5,-0.07l-0.19,0.04l-0.58,0.35l-0.79,0.33l-0.65,0.51l-0.85,-0.16l-0.63,-0.59l-0.14,-0.07l-0.41,-0.08l-0.2,0.03l-0.59,0.31l-0.07,0.0l-0.1,-0.63l0.11,-0.85l-0.21,-0.98l-0.11,-0.17l-0.86,-0.66l-0.45,-1.34l-0.1,-1.36Z",name:"Mali"},MN:{path:"M641.06,150.59l2.41,-0.53l4.76,-2.8l3.67,-1.49l2.06,0.96l0.12,0.03l2.5,0.05l1.59,1.45l0.19,0.08l2.47,0.12l3.59,0.81l0.27,-0.07l2.43,-2.28l0.06,-0.36l-0.93,-1.77l2.33,-3.1l2.66,1.3l2.26,0.39l2.75,0.8l0.44,2.3l0.19,0.22l3.56,1.38l0.18,0.01l2.35,-0.6l3.1,-0.42l2.4,0.41l2.37,1.52l1.49,1.63l0.23,0.1l2.29,-0.03l3.13,0.52l0.15,-0.01l2.28,-0.79l3.27,-0.53l0.11,-0.04l3.56,-2.23l1.31,0.31l1.26,1.05l0.22,0.07l2.45,-0.22l-0.98,1.96l-1.77,3.21l-0.01,0.28l0.64,1.31l0.35,0.16l1.35,-0.38l2.4,0.48l0.22,-0.04l1.78,-1.09l1.82,0.92l2.11,2.07l-0.17,0.68l-1.79,-0.31l-3.74,0.45l-1.85,0.96l-1.78,2.01l-3.74,1.18l-2.46,1.61l-2.45,-0.6l-1.42,-0.28l-0.31,0.13l-1.31,1.99l0.0,0.33l0.78,1.15l0.3,0.74l-1.58,0.93l-1.75,1.59l-2.83,1.03l-3.77,0.12l-4.05,1.05l-2.81,1.54l-0.95,-0.8l-0.19,-0.07l-2.96,0.0l-3.64,-1.8l-2.55,-0.48l-3.38,0.41l-5.13,-0.67l-2.66,0.06l-1.35,-1.65l-1.12,-2.78l-0.21,-0.18l-1.5,-0.33l-2.98,-1.89l-0.12,-0.04l-3.37,-0.43l-2.84,-0.51l-0.75,-1.13l0.93,-3.54l-0.04,-0.24l-1.73,-2.55l-0.15,-0.12l-3.52,-1.18l-1.99,-1.61l-0.54,-1.85Z",name:"Mongolia"},MK:{path:"M472.73,173.87l0.08,0.01l0.32,-0.25l0.08,-0.44l1.29,-0.41l1.37,-0.28l1.03,-0.04l1.06,0.82l0.14,1.59l-0.22,0.04l-0.17,0.11l-0.32,0.4l-1.2,-0.05l-0.18,0.05l-0.9,0.61l-1.45,0.23l-0.85,-0.59l-0.3,-1.09l0.22,-0.71Z",name:"Macedonia"},MW:{path:"M507.18,313.84l-0.67,1.85l-0.01,0.16l0.7,3.31l0.31,0.24l0.75,-0.03l0.78,0.71l0.99,1.75l0.2,3.03l-0.91,0.45l-0.14,0.15l-0.59,1.38l-1.24,-1.21l-0.17,-1.62l0.49,-1.12l0.02,-0.16l-0.15,-1.03l-0.13,-0.21l-0.99,-0.65l-0.26,-0.03l-0.53,0.18l-1.31,-1.12l-1.15,-0.59l0.66,-2.06l0.75,-0.84l0.07,-0.27l-0.47,-2.04l0.48,-1.94l0.4,-0.65l0.03,-0.24l-0.64,-2.15l-0.08,-0.13l-0.44,-0.42l1.34,0.26l1.25,1.73l0.67,3.3Z",name:"Malawi"},MR:{path:"M390.54,247.66l-1.48,-1.58l-1.51,-1.88l-0.12,-0.09l-1.64,-0.67l-1.17,-0.74l-0.17,-0.05l-1.4,0.03l-0.12,0.03l-1.14,0.52l-1.15,-0.21l-0.26,0.08l-0.44,0.43l-0.11,-0.72l0.68,-1.29l0.31,-2.43l-0.28,-2.63l-0.29,-1.27l0.24,-1.24l-0.03,-0.2l-0.65,-1.24l-1.19,-1.05l0.32,-0.51l9.64,0.02l0.3,-0.34l-0.46,-3.71l0.51,-1.12l2.17,-0.22l0.27,-0.3l-0.08,-6.5l7.91,0.13l0.31,-0.3l0.01,-3.5l8.17,5.63l-2.89,0.04l-0.29,0.33l2.42,22.56l0.12,0.21l0.26,0.19l-0.43,1.38l-9.83,0.04l-0.25,0.13l-0.27,0.41l-0.77,-0.14l-0.15,0.01l-1.3,0.47l-1.64,-0.67l-0.14,-0.02l-0.79,0.06l-0.27,0.22l-0.39,1.39l-0.53,0.29Z",name:"Mauritania"},UG:{path:"M500.74,287.17l-2.84,-0.02l-0.92,0.32l-1.37,0.71l-0.29,-0.12l0.02,-1.6l0.54,-0.89l0.04,-0.13l0.14,-1.96l0.49,-1.09l0.91,-1.24l0.97,-0.68l0.8,-0.89l-0.13,-0.49l-0.79,-0.27l0.13,-2.55l0.78,-0.52l1.45,0.51l0.18,0.01l1.97,-0.57l1.72,0.01l0.18,-0.06l1.29,-0.97l0.98,1.44l0.29,1.24l1.05,2.75l-0.84,1.68l-1.94,2.66l-0.06,0.18l0.02,2.36l-4.8,0.18Z",name:"Uganda"},MY:{path:"M717.6,273.52l-1.51,0.7l-2.13,-0.41l-2.88,-0.0l-0.29,0.21l-0.84,2.77l-0.9,0.82l-0.08,0.12l-1.23,3.34l-1.81,0.47l-2.29,-0.68l-0.14,-0.01l-1.2,0.22l-0.14,0.07l-1.36,1.18l-1.47,-0.17l-0.12,0.01l-1.46,0.46l-1.51,-1.25l-0.24,-0.97l1.26,0.59l0.2,0.02l1.93,-0.47l0.22,-0.22l0.47,-1.98l0.9,-0.4l2.97,-0.54l0.17,-0.09l1.8,-1.98l1.02,-1.32l0.9,1.03l0.48,-0.04l0.43,-0.7l1.02,0.07l0.32,-0.27l0.25,-2.72l1.84,-1.67l1.23,-1.89l0.73,-0.01l1.12,1.11l0.1,0.99l0.18,0.24l1.66,0.71l1.85,0.67l-0.09,0.51l-1.45,0.11l-0.26,0.4l0.35,0.97ZM673.78,269.53l0.17,1.14l0.35,0.25l1.65,-0.3l0.18,-0.11l0.68,-0.86l0.31,0.13l1.41,1.45l0.99,1.59l0.13,1.57l-0.26,1.09l0.0,0.15l0.24,0.84l0.18,1.46l0.11,0.2l0.82,0.64l0.92,2.08l-0.03,0.52l-1.4,0.13l-2.29,-1.79l-2.86,-1.92l-0.27,-1.16l-0.07,-0.13l-1.39,-1.61l-0.33,-1.99l-0.05,-0.12l-0.84,-1.27l0.26,-1.72l-0.03,-0.18l-0.45,-0.87l0.13,-0.13l1.71,0.92Z",name:"Malaysia"},MX:{path:"M133.41,213.83l0.61,0.09l0.27,-0.09l0.93,-1.01l0.08,-0.18l0.09,-1.22l-0.09,-0.23l-1.93,-1.94l-1.46,-0.77l-2.96,-5.62l-0.86,-2.1l2.44,-0.18l2.68,-0.25l-0.03,0.08l0.17,0.4l3.79,1.35l5.81,1.97l6.96,-0.02l0.3,-0.3l0.0,-0.84l3.91,0.0l0.87,0.93l1.27,0.87l1.44,1.17l0.79,1.37l0.62,1.49l0.12,0.14l1.35,0.85l2.08,0.82l0.35,-0.1l1.49,-2.04l1.81,-0.05l1.63,1.01l1.21,1.8l0.86,1.58l1.47,1.55l0.53,1.82l0.73,1.32l0.14,0.13l1.98,0.84l1.78,0.59l0.61,-0.03l-0.78,1.89l-0.45,1.96l-0.19,3.58l-0.24,1.27l0.01,0.14l0.43,1.43l0.78,1.31l0.49,1.98l0.06,0.12l1.63,1.9l0.61,1.51l0.98,1.28l0.16,0.11l2.58,0.67l0.98,1.02l0.31,0.08l2.17,-0.71l1.91,-0.26l1.87,-0.47l1.67,-0.49l1.59,-1.06l0.11,-0.14l0.6,-1.52l0.22,-2.21l0.35,-0.62l1.58,-0.64l2.59,-0.59l2.18,0.09l1.43,-0.2l0.39,0.36l-0.07,1.02l-1.28,1.48l-0.65,1.68l0.07,0.32l0.33,0.32l-0.79,2.49l-0.28,-0.3l-0.24,-0.09l-1.0,0.08l-0.24,0.15l-0.74,1.28l-0.19,-0.13l-0.28,-0.03l-0.3,0.12l-0.19,0.29l0.0,0.06l-4.34,-0.02l-0.3,0.3l-0.0,1.16l-0.83,0.0l-0.28,0.19l0.08,0.33l0.93,0.86l0.9,0.58l0.24,0.48l0.16,0.15l0.2,0.08l-0.03,0.38l-2.94,0.01l-0.26,0.15l-1.21,2.09l0.02,0.33l0.25,0.33l-0.21,0.44l-0.04,0.22l-2.42,-2.35l-1.36,-0.87l-2.04,-0.67l-0.13,-0.01l-1.4,0.19l-2.07,0.98l-1.14,0.23l-1.72,-0.66l-1.85,-0.48l-2.31,-1.16l-1.92,-0.38l-2.79,-1.18l-2.04,-1.2l-0.6,-0.66l-0.19,-0.1l-1.37,-0.15l-2.45,-0.78l-1.07,-1.18l-2.63,-1.44l-1.2,-1.56l-0.44,-0.93l0.5,-0.15l0.2,-0.39l-0.2,-0.58l0.46,-0.55l0.07,-0.19l0.01,-0.91l-0.06,-0.18l-0.81,-1.13l-0.25,-1.08l-0.86,-1.36l-2.21,-2.63l-2.53,-2.09l-1.2,-1.63l-0.11,-0.09l-2.08,-1.06l-0.34,-0.48l0.35,-1.53l-0.16,-0.34l-1.24,-0.61l-1.39,-1.23l-0.6,-1.81l-0.24,-0.2l-1.25,-0.2l-1.38,-1.35l-1.11,-1.25l-0.1,-0.76l-0.05,-0.13l-1.33,-2.04l-0.85,-2.02l0.04,-0.99l-0.14,-0.27l-1.81,-1.1l-0.2,-0.04l-0.74,0.11l-1.34,-0.72l-0.42,0.16l-0.4,1.12l-0.0,0.19l0.41,1.3l0.24,2.04l0.06,0.15l0.88,1.16l1.84,1.86l0.4,0.61l0.12,0.1l0.27,0.14l0.29,0.82l0.31,0.2l0.2,-0.02l0.43,1.51l0.09,0.14l0.72,0.65l0.51,0.91l1.58,1.4l0.8,2.42l0.77,1.23l0.66,1.19l0.13,1.34l0.28,0.27l1.08,0.08l0.92,1.1l0.83,1.08l-0.03,0.24l-0.88,0.81l-0.13,-0.0l-0.59,-1.42l-0.07,-0.11l-1.67,-1.53l-1.81,-1.28l-1.15,-0.61l0.07,-1.85l-0.38,-1.45l-0.12,-0.17l-2.91,-2.03l-0.39,0.04l-0.11,0.11l-0.42,-0.46l-0.11,-0.08l-1.49,-0.63l-1.09,-1.16Z",name:"Mexico"},VU:{path:"M839.92,325.66l0.78,0.73l-0.18,0.07l-0.6,-0.8ZM839.13,322.74l0.27,1.36l-0.13,-0.06l-0.21,-0.02l-0.29,0.08l-0.22,-0.43l-0.03,-1.32l0.61,0.4Z",name:"Vanuatu"},FR:{path:"M444.58,172.63l-0.68,1.92l-0.72,-0.38l-0.51,-1.79l0.43,-0.95l1.15,-0.83l0.33,2.04ZM429.71,147.03l1.77,1.57l0.26,0.07l1.16,-0.23l2.12,1.44l0.56,0.28l0.16,0.03l0.61,-0.06l1.09,0.78l0.13,0.05l3.18,0.53l-1.09,1.94l-0.3,2.16l-0.48,0.38l-1.0,-0.26l-0.37,0.32l0.07,0.66l-1.73,1.68l-0.09,0.21l-0.04,1.42l0.41,0.29l0.96,-0.4l0.67,1.07l-0.09,0.78l0.04,0.19l0.61,0.97l-0.71,0.78l-0.07,0.28l0.65,2.39l0.21,0.21l1.09,0.31l-0.2,0.95l-2.08,1.58l-4.81,-0.8l-0.13,0.01l-3.65,0.99l-0.22,0.24l-0.25,1.6l-2.59,0.35l-2.74,-1.33l-0.31,0.03l-0.79,0.57l-4.38,-1.31l-0.79,-0.94l1.16,-1.64l0.05,-0.15l0.48,-6.17l-0.06,-0.21l-2.58,-3.3l-1.89,-1.65l-0.11,-0.06l-3.64,-1.17l-0.2,-1.88l2.92,-0.63l4.14,0.82l0.35,-0.36l-0.65,-3.0l1.77,1.05l0.27,0.02l5.83,-2.54l0.17,-0.19l0.71,-2.54l1.75,-0.53l0.27,0.88l0.27,0.21l1.04,0.05l1.08,1.23Z",name:"France"},FG:{path:"M289.1,278.45l-0.85,0.84l-0.88,0.13l-0.25,-0.51l-0.21,-0.16l-0.56,-0.1l-0.25,0.07l-0.63,0.55l-0.62,-0.29l0.5,-0.88l0.21,-1.11l0.42,-1.05l-0.03,-0.28l-0.93,-1.42l-0.18,-1.54l1.13,-1.87l2.42,0.78l2.55,2.04l0.33,0.81l-1.4,2.16l-0.77,1.84Z",name:"French Guiana"},FI:{path:"M492.26,76.42l-0.38,3.12l0.12,0.28l3.6,2.69l-2.14,2.96l-0.01,0.33l2.83,4.61l-1.61,3.36l0.03,0.31l2.15,2.87l-0.96,2.44l0.1,0.35l3.51,2.55l-0.81,1.72l-2.28,2.19l-5.28,4.79l-4.51,0.31l-4.39,1.37l-3.87,0.75l-1.34,-1.89l-0.11,-0.09l-2.23,-1.14l0.53,-3.54l-0.01,-0.14l-1.17,-3.37l1.12,-2.13l2.23,-2.44l5.69,-4.33l1.65,-0.84l0.16,-0.31l-0.26,-1.73l-0.15,-0.22l-3.4,-1.91l-0.77,-1.47l-0.07,-6.45l-0.12,-0.24l-3.91,-2.94l-3.0,-1.92l0.97,-0.76l2.6,2.17l0.21,0.07l3.2,-0.21l2.63,1.03l0.3,-0.05l2.39,-1.94l0.09,-0.13l1.18,-3.12l3.63,-1.42l2.87,1.59l-0.98,2.87Z",name:"Finland"},FJ:{path:"M869.98,327.07l-1.31,0.44l-0.14,-0.41l0.96,-0.41l0.85,-0.17l1.43,-0.78l-0.16,0.65l-1.64,0.67ZM867.58,329.12l0.54,0.47l-0.31,1.0l-1.32,0.3l-1.13,-0.26l-0.17,-0.78l0.72,-0.66l0.98,0.27l0.25,-0.04l0.43,-0.29Z",name:"Fiji"},FK:{path:"M268.15,427.89l2.6,-1.73l1.98,0.77l0.31,-0.05l1.32,-1.17l1.58,1.18l-0.54,0.84l-3.1,0.92l-1.0,-1.04l-0.39,-0.04l-1.9,1.35l-0.86,-1.04Z",name:"Falkland Islands"},NI:{path:"M202.1,252.6l0.23,-0.0l0.12,-0.11l0.68,-0.09l0.22,-0.15l0.23,-0.43l0.2,-0.01l0.28,-0.31l-0.04,-0.97l0.29,-0.03l0.5,0.02l0.25,-0.11l0.37,-0.46l0.51,0.35l0.4,-0.06l0.23,-0.28l0.45,-0.29l0.87,-0.7l0.11,-0.21l0.02,-0.26l0.23,-0.12l0.25,-0.48l0.29,0.27l0.14,0.07l0.5,0.12l0.22,-0.03l0.48,-0.28l0.66,-0.02l0.87,-0.33l0.36,-0.32l0.21,0.01l-0.11,0.48l0.0,0.14l0.22,0.8l-0.54,0.85l-0.27,1.03l-0.09,1.18l0.14,0.72l0.05,0.95l-0.24,0.15l-0.13,0.19l-0.23,1.09l0.0,0.14l0.14,0.53l-0.42,0.53l-0.06,0.24l0.12,0.69l0.08,0.15l0.18,0.19l-0.26,0.23l-0.49,-0.11l-0.35,-0.44l-0.16,-0.1l-0.79,-0.21l-0.23,0.03l-0.45,0.26l-1.51,-0.62l-0.31,0.05l-0.17,0.15l-1.81,-1.62l-0.6,-0.9l-1.04,-0.79l-0.77,-0.71Z",name:"Nicaragua"},NL:{path:"M436.22,136.65l1.82,0.08l0.36,0.89l-0.6,2.96l-0.53,1.06l-1.32,0.0l-0.3,0.34l0.35,2.89l-0.83,-0.47l-1.56,-1.43l-0.29,-0.07l-2.26,0.67l-1.02,-0.15l0.68,-0.48l0.1,-0.12l2.14,-4.84l3.25,-1.35Z",name:"Netherlands"},NO:{path:"M491.45,67.31l7.06,3.0l-2.52,0.94l-0.11,0.49l2.43,2.49l-3.82,1.59l-1.48,0.3l0.89,-2.61l-0.14,-0.36l-3.21,-1.78l-0.25,-0.02l-3.89,1.52l-0.17,0.17l-1.2,3.17l-2.19,1.78l-2.53,-0.99l-0.13,-0.02l-3.15,0.21l-2.69,-2.25l-0.38,-0.01l-1.43,1.11l-1.47,0.17l-0.26,0.26l-0.33,2.57l-4.42,-0.65l-0.33,0.22l-0.6,2.19l-2.17,-0.01l-0.27,0.16l-4.15,7.68l-3.88,5.76l-0.0,0.33l0.81,1.23l-0.7,1.27l-2.3,-0.06l-0.28,0.18l-1.63,3.72l-0.02,0.13l0.15,5.17l0.07,0.18l1.51,1.84l-0.79,4.24l-2.04,2.5l-0.92,1.75l-1.39,-1.88l-0.44,-0.05l-4.89,4.21l-3.16,0.81l-3.24,-1.74l-0.86,-3.82l-0.78,-8.6l2.18,-2.36l6.56,-3.28l5.0,-4.16l4.63,-5.74l5.99,-8.09l4.17,-3.23l6.84,-5.49l5.39,-1.92l4.06,0.24l0.23,-0.09l3.72,-3.67l4.51,0.19l4.4,-0.89ZM484.58,19.95l4.42,1.82l-3.25,2.68l-7.14,0.65l-7.16,-0.91l-0.39,-1.37l-0.28,-0.22l-3.48,-0.1l-2.25,-2.15l7.09,-1.48l3.55,1.36l0.28,-0.03l2.42,-1.66l6.18,1.41ZM481.99,33.92l-4.73,1.85l-3.76,-1.06l1.27,-1.02l0.04,-0.43l-1.18,-1.35l4.46,-0.94l0.89,1.83l0.17,0.15l2.83,0.96ZM466.5,23.95l7.64,3.87l-5.63,1.94l-0.19,0.19l-1.35,3.88l-2.08,0.96l-0.16,0.19l-1.14,4.18l-2.71,0.18l-4.94,-2.95l1.95,-1.63l-0.08,-0.51l-3.7,-1.54l-4.79,-4.54l-1.78,-4.01l6.29,-1.88l1.25,1.81l0.25,0.13l3.57,-0.08l0.26,-0.17l0.87,-1.79l3.41,-0.18l3.08,1.94Z",name:"Norway"},NA:{path:"M461.88,357.98l-1.61,-1.77l-0.94,-1.9l-0.54,-2.58l-0.62,-1.95l-0.83,-4.05l-0.06,-3.13l-0.33,-1.5l-0.07,-0.14l-0.95,-1.06l-1.27,-2.12l-1.3,-3.1l-0.59,-1.71l-1.98,-2.46l-0.13,-1.67l0.99,-0.4l1.44,-0.42l1.48,0.07l1.42,1.11l0.31,0.03l0.32,-0.15l9.99,-0.11l1.66,1.18l0.16,0.06l6.06,0.37l4.69,-1.06l2.01,-0.57l1.5,0.14l0.63,0.37l-1.0,0.41l-0.7,0.01l-0.16,0.05l-1.38,0.88l-0.79,-0.88l-0.29,-0.09l-3.83,0.9l-1.84,0.08l-0.29,0.3l-0.07,8.99l-2.18,0.08l-0.29,0.3l-0.0,17.47l-2.04,1.27l-1.21,0.18l-1.51,-0.49l-0.99,-0.18l-0.36,-1.0l-0.1,-0.14l-0.99,-0.74l-0.4,0.04l-0.98,1.09Z",name:"Namibia"},NC:{path:"M835.87,338.68l2.06,1.63l1.01,0.94l-0.49,0.32l-1.21,-0.62l-1.76,-1.16l-1.58,-1.36l-1.61,-1.79l-0.16,-0.41l0.54,0.02l1.32,0.83l1.08,0.87l0.79,0.73Z",name:"New Caledonia"},NE:{path:"M426.67,254.17l0.03,-1.04l-0.24,-0.3l-2.66,-0.53l-0.06,-1.0l-0.07,-0.17l-1.37,-1.62l-0.3,-1.04l0.15,-0.94l1.37,-0.09l0.19,-0.09l0.85,-0.83l3.34,-0.22l2.22,-0.41l0.24,-0.26l0.2,-1.5l1.32,-1.65l0.07,-0.19l-0.01,-5.74l3.4,-1.13l7.24,-5.12l8.46,-4.95l3.76,1.08l1.35,1.39l0.36,0.05l1.39,-0.77l0.55,3.66l0.12,0.2l0.82,0.6l0.03,0.69l0.1,0.21l0.87,0.74l-0.47,0.99l-0.96,5.26l-0.13,3.25l-3.08,2.34l-0.1,0.15l-1.08,3.37l0.08,0.31l0.94,0.86l-0.01,1.51l0.29,0.3l1.25,0.05l-0.14,0.66l-0.51,0.11l-0.24,0.26l-0.06,0.57l-0.04,0.0l-1.59,-2.62l-0.21,-0.14l-0.59,-0.1l-0.23,0.05l-1.83,1.33l-1.79,-0.68l-1.42,-0.17l-0.17,0.03l-0.65,0.32l-1.39,-0.07l-0.19,0.06l-1.4,1.03l-1.12,0.05l-2.97,-1.29l-0.26,0.01l-1.12,0.59l-1.08,-0.04l-0.85,-0.88l-0.11,-0.07l-2.51,-0.95l-0.14,-0.02l-2.69,0.3l-0.16,0.07l-0.65,0.55l-0.1,0.16l-0.34,1.41l-0.69,0.98l-0.05,0.15l-0.13,1.72l-1.47,-1.13l-0.18,-0.06l-0.9,0.01l-0.2,0.08l-0.32,0.28Z",name:"Niger"},NG:{path:"M442.0,272.7l-2.4,0.83l-0.88,-0.12l-0.19,0.04l-0.89,0.52l-1.78,-0.05l-1.23,-1.44l-0.88,-1.87l-1.77,-1.66l-0.21,-0.08l-3.78,0.03l0.13,-3.75l-0.06,-1.58l0.44,-1.47l0.74,-0.75l1.21,-1.56l0.04,-0.29l-0.22,-0.56l0.44,-0.9l0.01,-0.24l-0.54,-1.44l0.26,-2.97l0.72,-1.06l0.33,-1.37l0.51,-0.43l2.53,-0.28l2.38,0.9l0.89,0.91l0.2,0.09l1.28,0.04l0.15,-0.03l1.06,-0.56l2.9,1.26l0.13,0.02l1.28,-0.06l0.16,-0.06l1.39,-1.02l1.36,0.07l0.15,-0.03l0.64,-0.32l1.22,0.13l1.9,0.73l0.28,-0.04l1.86,-1.35l0.33,0.06l1.62,2.67l0.29,0.14l0.32,-0.04l0.73,0.74l-0.19,0.37l-0.12,0.74l-2.03,1.89l-0.07,0.11l-0.66,1.62l-0.35,1.28l-0.48,0.51l-0.07,0.12l-0.48,1.67l-1.26,0.98l-0.1,0.15l-0.38,1.24l-0.58,1.07l-0.2,0.91l-1.43,0.7l-1.26,-0.93l-0.19,-0.06l-0.95,0.04l-0.2,0.09l-1.41,1.39l-0.61,0.02l-0.26,0.17l-1.19,2.42l-0.61,1.67Z",name:"Nigeria"},NZ:{path:"M857.9,379.62l1.85,3.1l0.33,0.14l0.22,-0.28l0.04,-1.41l0.57,0.4l0.35,2.06l0.17,0.22l2.02,0.94l1.78,0.26l0.22,-0.06l1.31,-1.01l0.84,0.22l-0.53,2.27l-0.67,1.5l-1.71,-0.05l-0.25,0.12l-0.67,0.89l-0.05,0.23l0.21,1.15l-0.31,0.46l-2.15,3.57l-1.6,0.99l-0.28,-0.51l-0.15,-0.13l-0.72,-0.3l1.27,-2.15l0.01,-0.29l-0.82,-1.63l-0.15,-0.14l-2.5,-1.09l0.05,-0.69l1.67,-0.94l0.15,-0.21l0.42,-2.24l-0.11,-1.95l-0.03,-0.12l-0.97,-1.85l0.05,-0.41l-0.09,-0.25l-1.18,-1.17l-1.94,-2.49l-0.86,-1.64l0.38,-0.09l1.24,1.43l0.12,0.08l1.81,0.68l0.67,2.39ZM853.93,393.55l0.57,1.24l0.44,0.12l1.51,-1.03l0.52,0.91l0.0,1.09l-0.88,1.31l-1.62,2.2l-1.26,1.2l-0.05,0.38l0.64,1.02l-1.4,0.03l-0.14,0.04l-2.14,1.16l-0.14,0.17l-0.67,2.0l-1.38,3.06l-3.07,2.19l-2.12,-0.06l-1.55,-0.99l-0.14,-0.05l-2.53,-0.2l-0.31,-0.84l1.25,-2.15l3.07,-2.97l1.62,-0.59l1.81,-1.17l2.18,-1.63l1.55,-1.65l1.08,-2.18l0.9,-0.72l0.11,-0.17l0.35,-1.56l1.37,-1.07l0.4,0.91Z",name:"New Zealand"},NP:{path:"M641.26,213.53l-0.14,0.95l0.32,1.64l-0.21,0.78l-1.83,0.04l-2.98,-0.62l-1.86,-0.25l-1.37,-1.3l-0.18,-0.08l-3.38,-0.34l-3.21,-1.49l-2.38,-1.34l-2.16,-0.92l0.84,-2.2l1.51,-1.18l0.89,-0.57l1.83,0.77l2.5,1.76l1.39,0.41l0.78,1.21l0.17,0.13l1.91,0.53l2.0,1.17l2.92,0.66l2.63,0.24Z",name:"Nepal"},CI:{path:"M413.53,272.08l-0.83,0.02l-1.79,-0.49l-1.64,0.03l-3.04,0.46l-1.73,0.72l-2.4,0.89l-0.12,-0.02l0.16,-1.7l0.19,-0.25l0.06,-0.2l-0.08,-0.99l-0.09,-0.19l-1.06,-1.05l-0.15,-0.08l-0.71,-0.15l-0.51,-0.48l0.45,-0.92l0.02,-0.19l-0.24,-1.16l0.07,-0.43l0.14,-0.0l0.3,-0.26l0.15,-1.1l-0.02,-0.15l-0.13,-0.34l0.09,-0.13l0.83,-0.27l0.19,-0.37l-0.62,-2.02l-0.55,-1.0l0.14,-0.59l0.35,-0.14l0.24,-0.16l0.53,0.29l0.14,0.04l1.93,0.02l0.26,-0.14l0.36,-0.58l0.39,0.01l0.43,-0.17l0.28,0.79l0.43,0.16l0.56,-0.31l0.89,-0.32l0.92,0.45l0.39,0.75l0.14,0.13l1.13,0.53l0.3,-0.03l0.81,-0.59l1.02,-0.08l1.49,0.57l0.62,3.33l-1.03,2.09l-0.65,2.84l0.02,0.2l1.05,2.08l-0.07,0.64Z",name:"Ivory Coast"},CH:{path:"M444.71,156.27l0.05,0.3l-0.34,0.69l0.13,0.4l1.13,0.58l1.07,0.1l-0.12,0.81l-0.87,0.42l-1.75,-0.37l-0.34,0.18l-0.47,1.1l-0.86,0.07l-0.33,-0.38l-0.41,-0.04l-1.34,1.01l-1.02,0.13l-0.93,-0.58l-0.82,-1.32l-0.37,-0.12l-0.77,0.32l0.02,-0.84l1.74,-1.69l0.09,-0.25l-0.04,-0.38l0.73,0.19l0.26,-0.06l0.6,-0.48l2.02,0.02l0.24,-0.12l0.38,-0.51l2.31,0.84Z",name:"Switzerland"},CO:{path:"M232.24,284.95l-0.94,-0.52l-1.22,-0.82l-0.31,-0.01l-0.62,0.35l-1.88,-0.31l-0.54,-0.95l-0.29,-0.15l-0.37,0.03l-2.34,-1.33l-0.15,-0.35l0.57,-0.11l0.24,-0.32l-0.1,-1.15l0.46,-0.71l1.11,-0.15l0.21,-0.13l1.05,-1.57l0.95,-1.31l-0.08,-0.43l-0.73,-0.47l0.4,-1.24l0.01,-0.16l-0.53,-2.15l0.44,-0.54l0.06,-0.24l-0.4,-2.13l-0.06,-0.13l-0.93,-1.22l0.21,-0.8l0.52,0.12l0.32,-0.13l0.47,-0.75l0.03,-0.27l-0.52,-1.32l0.09,-0.11l1.14,0.07l0.22,-0.08l1.82,-1.71l0.96,-0.25l0.22,-0.28l0.02,-0.81l0.43,-2.01l1.28,-1.04l1.48,-0.05l0.27,-0.19l0.12,-0.31l1.73,0.19l0.2,-0.05l1.96,-1.28l0.97,-0.56l1.16,-1.16l0.64,0.11l0.43,0.44l-0.31,0.55l-1.49,0.39l-0.19,0.16l-0.6,1.2l-0.97,0.74l-0.73,0.94l-0.06,0.13l-0.3,1.76l-0.68,1.44l0.23,0.43l1.1,0.14l0.27,0.97l0.08,0.13l0.49,0.49l0.17,0.85l-0.27,0.86l-0.01,0.14l0.09,0.53l0.2,0.23l0.52,0.18l0.54,0.79l0.27,0.13l3.18,-0.24l1.31,0.29l1.7,2.08l0.31,0.1l0.96,-0.26l1.75,0.13l1.41,-0.27l0.56,0.27l-0.36,1.07l-0.54,0.81l-0.05,0.13l-0.2,1.8l0.51,1.79l0.07,0.12l0.65,0.68l0.05,0.32l-1.16,1.14l0.05,0.47l0.86,0.52l0.6,0.79l0.31,1.01l-0.7,-0.81l-0.44,-0.01l-0.74,0.77l-4.75,-0.05l-0.3,0.31l0.03,1.57l0.25,0.29l1.2,0.21l-0.02,0.24l-0.1,-0.05l-0.22,-0.02l-1.41,0.41l-0.22,0.29l-0.01,1.82l0.11,0.23l1.04,0.85l0.35,1.3l-0.06,1.02l-1.02,6.26l-0.84,-0.89l-0.19,-0.09l-0.25,-0.02l1.35,-2.13l-0.1,-0.42l-1.92,-1.17l-0.2,-0.04l-1.41,0.2l-0.82,-0.39l-0.26,0.0l-1.29,0.62l-1.63,-0.27l-1.4,-2.5l-0.12,-0.12l-1.1,-0.61l-0.83,-1.2l-1.67,-1.19l-0.27,-0.04l-0.54,0.19Z",name:"Colombia"},CN:{path:"M740.32,148.94l0.22,0.21l4.3,1.03l2.84,2.2l0.99,2.92l0.28,0.2l3.8,0.0l0.15,-0.04l2.13,-1.24l3.5,-0.8l-1.05,2.29l-0.95,1.13l-0.06,0.12l-0.85,3.41l-1.56,2.81l-2.83,-0.51l-0.19,0.03l-2.15,1.09l-0.15,0.34l0.65,2.59l-0.33,3.3l-1.03,0.07l-0.28,0.3l0.01,0.75l-1.09,-1.2l-0.48,0.05l-0.94,1.6l-3.76,1.26l-0.2,0.36l0.29,1.19l-1.67,-0.08l-1.11,-0.88l-0.42,0.05l-1.69,2.08l-2.71,1.57l-2.04,1.88l-3.42,0.84l-0.11,0.05l-1.8,1.34l-1.54,0.46l0.52,-0.53l0.06,-0.33l-0.44,-0.96l1.84,-1.84l0.02,-0.41l-1.32,-1.56l-0.36,-0.08l-2.23,1.08l-2.83,2.06l-1.52,1.85l-2.32,0.13l-0.2,0.09l-1.28,1.37l-0.03,0.37l1.32,1.97l0.18,0.13l1.83,0.43l0.07,1.08l0.18,0.26l1.98,0.84l0.3,-0.03l2.66,-1.96l2.06,1.04l0.12,0.03l1.4,0.07l0.27,1.0l-3.24,0.73l-0.17,0.11l-1.13,1.5l-2.38,1.4l-0.1,0.1l-1.29,1.99l0.1,0.42l2.6,1.5l0.97,2.72l1.52,2.56l1.66,2.08l-0.03,1.76l-1.4,0.67l-0.15,0.38l0.6,1.47l0.13,0.15l1.29,0.75l-0.35,2.0l-0.58,1.96l-1.22,0.21l-0.2,0.14l-1.83,2.93l-2.02,3.51l-2.29,3.13l-3.4,2.42l-3.42,2.18l-2.75,0.3l-0.15,0.06l-1.32,1.01l-0.68,-0.67l-0.41,-0.01l-1.37,1.27l-3.42,1.28l-2.62,0.4l-0.24,0.21l-0.8,2.57l-0.95,0.11l-0.53,-1.54l0.52,-0.89l-0.19,-0.44l-3.36,-0.84l-0.17,0.01l-1.09,0.4l-2.36,-0.64l-1.0,-0.9l0.35,-1.34l-0.23,-0.37l-2.22,-0.47l-1.15,-0.94l-0.36,-0.02l-2.08,1.37l-2.35,0.29l-1.98,-0.01l-0.13,0.03l-1.32,0.63l-1.28,0.38l-0.21,0.33l0.33,2.65l-0.78,-0.04l-0.14,-0.39l-0.07,-1.04l-0.41,-0.26l-1.72,0.71l-0.96,-0.43l-1.63,-0.86l0.65,-1.95l-0.19,-0.38l-1.43,-0.46l-0.56,-2.27l-0.34,-0.22l-2.26,0.38l0.25,-2.65l2.29,-2.15l0.09,-0.2l0.1,-2.21l-0.07,-2.09l-0.15,-0.25l-1.02,-0.6l-0.8,-1.52l-0.31,-0.16l-1.42,0.2l-2.16,-0.32l0.55,-0.74l0.01,-0.35l-1.17,-1.7l-0.41,-0.08l-1.67,1.07l-1.97,-0.63l-0.25,0.03l-2.89,1.73l-2.26,1.99l-1.82,0.3l-1.0,-0.66l-0.15,-0.05l-1.28,-0.06l-1.75,-0.61l-0.24,0.02l-1.35,0.69l-0.1,0.08l-1.2,1.45l-0.14,-1.41l-0.4,-0.25l-1.46,0.55l-2.83,-0.26l-2.77,-0.61l-1.99,-1.17l-1.91,-0.54l-0.78,-1.21l-0.17,-0.13l-1.36,-0.38l-2.54,-1.79l-2.01,-0.84l-0.28,0.02l-0.89,0.56l-3.31,-1.83l-2.35,-1.67l-0.57,-2.49l1.34,0.28l0.36,-0.28l0.08,-1.42l-0.05,-0.19l-0.93,-1.34l0.24,-2.18l-0.07,-0.22l-2.69,-3.32l-0.15,-0.1l-3.97,-1.11l-0.69,-2.05l-0.11,-0.15l-1.79,-1.3l-0.39,-0.73l-0.36,-1.57l0.08,-1.09l-0.18,-0.3l-1.52,-0.66l-0.22,-0.01l-0.51,0.18l-0.52,-2.21l0.59,-0.55l0.06,-0.35l-0.22,-0.44l2.12,-1.24l1.63,-0.55l2.58,0.39l0.31,-0.16l0.87,-1.75l3.05,-0.34l0.21,-0.12l0.84,-1.12l3.87,-1.59l0.15,-0.14l0.35,-0.68l0.03,-0.17l-0.17,-1.51l1.52,-0.7l0.15,-0.39l-2.12,-5.0l4.62,-1.15l1.35,-0.72l0.14,-0.17l1.72,-5.37l4.7,0.99l0.28,-0.08l1.39,-1.43l0.08,-0.2l0.11,-2.95l1.83,-0.26l0.18,-0.1l1.85,-2.08l0.61,-0.17l0.57,1.97l0.1,0.15l2.2,1.75l3.48,1.17l1.59,2.36l-0.93,3.53l0.04,0.24l0.9,1.35l0.2,0.13l2.98,0.53l3.32,0.43l2.97,1.89l1.49,0.35l1.08,2.67l1.52,1.88l0.24,0.11l2.74,-0.07l5.15,0.67l3.36,-0.41l2.39,0.43l3.67,1.81l0.13,0.03l2.92,-0.0l1.02,0.86l0.34,0.03l2.88,-1.59l3.98,-1.03l3.81,-0.13l3.02,-1.12l1.77,-1.61l1.73,-1.01l0.13,-0.37l-0.41,-1.01l-0.72,-1.07l1.09,-1.66l1.21,0.24l2.57,0.63l0.24,-0.04l2.46,-1.62l3.78,-1.19l0.13,-0.09l1.8,-2.03l1.66,-0.84l3.54,-0.41l1.93,0.35l0.34,-0.22l0.27,-1.12l-0.08,-0.29l-2.27,-2.22l-2.08,-1.07l-0.29,0.01l-1.82,1.12l-2.36,-0.47l-0.14,0.01l-1.18,0.34l-0.46,-0.94l1.69,-3.08l1.1,-2.21l2.75,1.12l0.26,-0.02l3.53,-2.06l0.15,-0.26l-0.02,-1.35l2.18,-3.39l1.35,-1.04l0.12,-0.24l-0.03,-1.85l-0.15,-0.25l-1.0,-0.58l1.68,-1.37l3.01,-0.59l3.25,-0.09l3.67,0.99l2.08,1.18l1.51,3.3l0.95,1.45l0.85,1.99l0.92,3.19ZM697.0,237.37l-1.95,1.12l-1.74,-0.68l-0.06,-1.9l1.08,-1.03l2.62,-0.7l1.23,0.05l0.37,0.65l-1.01,1.08l-0.54,1.4Z",name:"China"},CM:{path:"M453.76,278.92l-0.26,-0.11l-0.18,-0.02l-1.42,0.31l-1.56,-0.33l-1.17,0.16l-3.7,-0.05l0.3,-1.63l-0.04,-0.21l-0.98,-1.66l-0.15,-0.13l-1.03,-0.38l-0.46,-1.01l-0.13,-0.14l-0.48,-0.27l0.02,-0.46l0.62,-1.72l1.1,-2.25l0.54,-0.02l0.2,-0.09l1.41,-1.39l0.73,-0.03l1.32,0.97l0.31,0.03l1.72,-0.85l0.16,-0.2l0.22,-1.0l0.57,-1.03l0.36,-1.18l1.26,-0.98l0.1,-0.15l0.49,-1.7l0.48,-0.51l0.07,-0.13l0.35,-1.3l0.63,-1.54l2.06,-1.92l0.09,-0.17l0.12,-0.79l0.24,-0.41l-0.04,-0.36l-0.89,-0.91l0.04,-0.45l0.28,-0.06l0.85,1.39l0.16,1.59l-0.09,1.66l0.04,0.17l1.09,1.84l-0.86,-0.02l-0.72,0.17l-1.07,-0.24l-0.34,0.17l-0.54,1.19l0.06,0.34l1.48,1.47l1.06,0.44l0.32,0.94l0.73,1.6l-0.32,0.57l-1.23,2.49l-0.54,0.41l-0.12,0.21l-0.19,1.95l0.24,1.08l-0.18,0.67l0.07,0.28l1.13,1.25l0.24,0.93l0.92,1.29l1.1,0.8l0.1,1.01l0.26,0.73l-0.12,0.93l-1.65,-0.49l-2.02,-0.66l-3.19,-0.11Z",name:"Cameroon"},CL:{path:"M246.8,429.1l-1.14,0.78l-2.25,1.21l-0.16,0.23l-0.37,2.94l-0.75,0.06l-2.72,-1.07l-2.83,-2.34l-3.06,-1.9l-0.71,-1.92l0.67,-1.84l-0.02,-0.25l-1.22,-2.13l-0.31,-5.41l1.02,-2.95l2.59,-2.4l-0.13,-0.51l-3.32,-0.8l2.06,-2.4l0.07,-0.15l0.79,-4.77l2.44,0.95l0.4,-0.22l1.31,-6.31l-0.16,-0.33l-1.68,-0.8l-0.42,0.21l-0.72,3.47l-1.01,-0.27l0.74,-4.06l0.85,-5.46l1.12,-1.96l0.03,-0.22l-0.71,-2.82l-0.19,-2.94l0.76,-0.07l0.26,-0.2l1.53,-4.62l1.73,-4.52l1.07,-4.2l-0.56,-4.2l0.73,-2.2l0.01,-0.12l-0.29,-3.3l1.46,-3.34l0.45,-5.19l0.8,-5.52l0.78,-5.89l-0.18,-4.33l-0.49,-3.47l1.1,-0.56l0.13,-0.13l0.44,-0.88l0.9,1.29l0.32,1.8l0.1,0.18l1.16,0.97l-0.73,2.33l0.01,0.21l1.33,2.91l0.97,3.6l0.35,0.22l1.57,-0.31l0.16,0.34l-0.79,2.51l-2.61,1.25l-0.17,0.28l0.08,4.36l-0.48,0.79l0.01,0.33l0.6,0.84l-1.62,1.55l-1.67,2.6l-0.89,2.47l-0.02,0.13l0.23,2.56l-1.5,2.76l-0.03,0.21l1.15,4.8l0.11,0.17l0.54,0.42l-0.01,2.37l-1.4,2.7l-0.03,0.15l0.06,2.25l-1.8,1.78l-0.09,0.21l0.02,2.73l0.71,2.63l-1.33,0.94l-0.12,0.17l-0.67,2.64l-0.59,3.03l0.4,3.55l-0.84,0.51l-0.14,0.31l0.58,3.5l0.08,0.16l0.96,0.99l-0.7,1.08l0.11,0.43l1.04,0.55l0.19,0.8l-0.89,0.48l-0.16,0.31l0.26,1.77l-0.89,4.06l-1.31,2.67l-0.03,0.19l0.28,1.53l-0.73,1.88l-1.85,1.37l-0.12,0.26l0.22,3.46l0.06,0.16l0.88,1.19l0.28,0.12l1.32,-0.17l-0.04,2.13l0.04,0.15l1.04,1.95l0.24,0.16l5.94,0.44ZM248.79,430.71l0.0,7.41l0.3,0.3l2.67,0.0l1.01,0.06l-0.54,0.91l-1.99,1.01l-1.13,-0.1l-1.42,-0.27l-1.87,-1.06l-2.57,-0.49l-3.09,-1.9l-2.52,-1.83l-2.65,-2.93l0.93,0.32l3.54,2.29l3.32,1.23l0.34,-0.09l1.29,-1.57l0.83,-2.32l2.11,-1.28l1.43,0.32Z",name:"Chile"},CA:{path:"M280.14,145.66l-1.66,2.88l0.06,0.37l0.37,0.03l1.5,-1.01l1.17,0.49l-0.64,0.83l0.13,0.46l2.22,0.89l0.28,-0.03l1.02,-0.7l2.09,0.83l-0.69,2.1l0.37,0.38l1.43,-0.45l0.27,1.43l0.74,1.88l-0.95,2.5l-0.88,0.09l-1.34,-0.48l0.49,-2.34l-0.14,-0.32l-0.7,-0.4l-0.36,0.04l-2.81,2.66l-0.63,-0.05l1.2,-1.01l-0.1,-0.52l-2.4,-0.77l-2.79,0.18l-4.65,-0.09l-0.22,-0.54l1.37,-0.99l0.01,-0.48l-0.82,-0.65l1.91,-1.79l2.57,-5.17l1.49,-1.81l2.04,-1.07l0.63,0.08l-0.27,0.51l-1.33,2.07ZM193.92,74.85l-0.01,4.24l0.19,0.28l0.33,-0.07l3.14,-3.22l2.65,2.5l-0.71,3.04l0.06,0.26l2.42,2.88l0.46,0.0l2.66,-3.14l1.83,-3.74l0.03,-0.12l0.13,-4.53l3.23,0.31l3.63,0.64l3.18,2.08l0.13,1.91l-1.79,2.22l-0.0,0.37l1.69,2.2l-0.28,1.8l-4.74,2.84l-3.33,0.62l-2.5,-1.21l-0.41,0.17l-0.73,2.05l-2.39,3.44l-0.74,1.78l-2.78,2.61l-3.48,0.26l-0.17,0.07l-1.98,1.68l-0.1,0.21l-0.15,2.33l-2.68,0.45l-0.17,0.09l-3.1,3.2l-2.75,4.38l-0.99,3.06l-0.14,4.31l0.25,0.31l3.5,0.58l1.07,3.24l1.18,2.76l0.34,0.18l3.43,-0.69l4.55,1.52l2.45,1.32l1.76,1.65l0.12,0.07l3.11,0.96l2.63,1.46l0.13,0.04l4.12,0.2l2.41,0.3l-0.36,2.81l0.8,3.51l1.81,3.78l0.08,0.1l3.73,3.17l0.34,0.03l1.93,-1.08l0.13,-0.15l1.35,-3.44l0.01,-0.18l-1.31,-5.38l-0.08,-0.14l-1.46,-1.5l3.68,-1.51l2.84,-2.46l1.45,-2.55l0.04,-0.17l-0.2,-2.39l-0.04,-0.12l-1.7,-3.07l-2.9,-2.64l2.79,-3.66l0.05,-0.27l-1.08,-3.38l-0.8,-5.75l1.45,-0.75l4.18,1.03l2.6,0.38l0.18,-0.03l1.93,-0.95l2.18,1.23l3.01,2.18l0.73,1.42l0.25,0.16l4.18,0.27l-0.06,2.95l0.83,4.7l0.22,0.24l2.19,0.55l1.75,2.08l0.38,0.07l3.63,-2.03l0.11,-0.11l2.38,-4.06l1.36,-1.43l1.76,3.01l3.26,4.68l2.68,4.19l-0.94,2.09l0.12,0.38l3.31,1.98l2.23,1.98l0.13,0.07l3.94,0.89l1.48,1.02l0.96,2.82l0.22,0.2l1.85,0.43l0.88,1.13l0.17,3.53l-1.68,1.16l-1.76,1.14l-4.08,1.17l-0.11,0.06l-3.08,2.65l-4.11,0.52l-5.35,-0.69l-3.76,-0.02l-2.62,0.23l-0.2,0.1l-2.05,2.29l-3.13,1.41l-0.11,0.08l-3.6,4.24l-2.87,2.92l-0.05,0.36l0.33,0.14l2.13,-0.52l0.15,-0.08l3.98,-4.15l5.16,-2.63l3.58,-0.31l1.82,1.3l-2.09,1.91l-0.09,0.29l0.8,3.46l0.82,2.37l0.15,0.17l3.25,1.56l0.16,0.03l4.14,-0.45l0.21,-0.12l2.03,-2.86l0.11,1.46l0.13,0.22l1.26,0.88l-2.7,1.78l-5.51,1.83l-2.52,1.26l-2.75,2.16l-1.52,-0.18l-0.08,-2.16l4.19,-2.47l0.14,-0.34l-0.3,-0.22l-4.01,0.1l-2.66,0.36l-1.45,-1.56l0.0,-4.16l-0.11,-0.23l-1.11,-0.91l-0.28,-0.05l-1.5,0.48l-0.7,-0.7l-0.45,0.02l-1.91,2.39l-0.8,2.5l-0.82,1.31l-0.95,0.43l-0.77,0.15l-0.23,0.2l-0.18,0.56l-8.2,0.02l-0.13,0.03l-1.19,0.61l-2.95,2.45l-0.78,1.13l-4.6,0.01l-0.12,0.02l-1.13,0.48l-0.13,0.44l0.37,0.55l0.2,0.82l-0.01,0.09l-3.1,1.42l-2.63,0.5l-2.84,1.57l-0.47,0.0l-0.72,-0.4l-0.18,-0.27l0.03,-0.15l0.52,-1.0l1.2,-1.71l0.73,-1.8l0.02,-0.17l-1.03,-5.47l-0.15,-0.21l-2.35,-1.32l0.16,-0.29l-0.05,-0.35l-0.37,-0.38l-0.22,-0.09l-0.56,0.0l-0.35,-0.34l-0.11,-0.65l-0.46,-0.2l-0.39,0.26l-0.2,-0.03l-0.11,-0.33l-0.48,-0.25l-0.21,-0.71l-0.15,-0.18l-3.97,-2.07l-4.8,-2.39l-0.25,-0.01l-2.19,0.89l-0.72,0.03l-3.04,-0.82l-0.14,-0.0l-1.94,0.4l-2.4,-0.98l-2.56,-0.51l-1.7,-0.19l-0.62,-0.44l-0.42,-1.67l-0.3,-0.23l-0.85,0.02l-0.29,0.3l-0.01,0.95l-69.26,-0.01l-4.77,-3.14l-1.78,-1.41l-4.51,-1.38l-1.3,-2.73l0.34,-1.96l-0.17,-0.33l-3.06,-1.37l-0.41,-2.58l-0.11,-0.18l-2.92,-2.4l-0.05,-1.53l1.32,-1.59l0.07,-0.2l-0.07,-2.21l-0.16,-0.26l-4.19,-2.22l-2.52,-4.02l-1.56,-2.6l-0.08,-0.09l-2.28,-1.64l-1.65,-1.48l-1.31,-1.89l-0.38,-0.1l-2.51,1.21l-2.28,1.92l-2.03,-2.22l-1.85,-1.71l-2.44,-1.04l-2.28,-0.12l0.03,-37.72l4.27,0.98l4.0,2.13l2.61,0.4l0.24,-0.07l2.17,-1.81l2.92,-1.33l3.63,0.53l0.18,-0.03l3.72,-1.94l3.89,-1.06l1.6,1.72l0.37,0.06l1.87,-1.04l0.14,-0.19l0.48,-1.83l1.37,0.38l4.18,3.96l0.41,0.0l2.89,-2.62l0.28,2.79l0.37,0.26l3.08,-0.73l0.17,-0.12l0.85,-1.16l2.81,0.24l3.83,1.86l5.86,1.61l3.46,0.75l2.44,-0.26l2.89,1.89l-3.12,1.89l-0.14,0.31l0.24,0.24l4.53,0.92l6.84,-0.5l2.04,-0.71l2.54,2.44l0.39,0.02l2.72,-2.16l-0.01,-0.48l-2.26,-1.61l1.27,-1.16l2.94,-0.19l1.94,-0.42l1.89,0.97l2.49,2.32l0.24,0.08l2.71,-0.33l4.35,1.9l0.17,0.02l3.86,-0.67l3.62,0.1l0.31,-0.33l-0.26,-2.44l1.9,-0.65l3.58,1.36l-0.01,3.84l0.23,0.29l0.34,-0.17l1.51,-3.23l1.81,0.1l0.31,-0.22l1.13,-4.37l-0.08,-0.29l-2.68,-2.73l-2.83,-1.76l0.19,-4.73l2.77,-3.15l3.06,0.69l2.44,1.97l3.24,4.88l-2.05,2.02l0.15,0.51l4.41,0.85ZM265.85,150.7l-0.84,0.04l-3.15,-0.99l-1.77,-1.17l0.19,-0.06l3.17,0.79l2.39,1.27l0.01,0.12ZM249.41,3.71l6.68,0.49l5.34,0.79l4.34,1.6l-0.08,1.24l-5.91,2.56l-6.03,1.21l-2.36,1.38l-0.14,0.34l0.29,0.22l4.37,-0.02l-4.96,3.01l-4.06,1.64l-0.11,0.08l-4.21,4.62l-5.07,0.92l-0.12,0.05l-1.53,1.1l-7.5,0.59l-0.28,0.28l0.24,0.31l2.67,0.54l-1.04,0.6l-0.09,0.44l1.89,2.49l-2.11,1.66l-3.83,1.52l-0.15,0.13l-1.14,2.01l-3.41,1.55l-0.16,0.36l0.35,1.19l0.3,0.22l3.98,-0.19l0.03,0.78l-6.42,2.99l-6.44,-1.41l-7.41,0.79l-3.72,-0.62l-4.48,-0.26l-0.25,-2.0l4.37,-1.13l0.21,-0.38l-1.14,-3.55l1.13,-0.28l6.61,2.29l0.35,-0.12l-0.04,-0.37l-3.41,-3.45l-0.14,-0.08l-3.57,-0.92l1.62,-1.7l4.36,-1.3l0.2,-0.18l0.71,-1.94l-0.12,-0.36l-3.45,-2.15l-0.88,-2.43l6.36,0.23l1.94,0.61l0.23,-0.02l3.91,-2.1l0.15,-0.32l-0.26,-0.24l-5.69,-0.67l-8.69,0.37l-4.3,-1.92l-2.12,-2.39l-2.82,-1.68l-0.44,-1.65l3.41,-1.06l2.93,-0.2l4.91,-0.99l3.69,-2.28l2.93,0.31l2.64,1.68l0.42,-0.1l1.84,-3.23l3.17,-0.96l4.45,-0.69l7.56,-0.26l1.26,0.64l0.18,0.03l7.2,-1.06l10.81,0.8ZM203.94,57.59l0.01,0.32l1.97,2.97l0.51,-0.01l2.26,-3.75l6.05,-1.89l4.08,4.72l-0.36,2.95l0.38,0.33l4.95,-1.36l0.11,-0.05l2.23,-1.77l5.37,2.31l3.32,2.14l0.3,1.89l0.36,0.25l4.48,-1.01l2.49,2.8l0.14,0.09l5.99,1.78l2.09,1.74l2.18,3.83l-4.29,1.91l-0.01,0.54l5.9,2.83l3.95,0.94l3.54,3.84l0.2,0.1l3.58,0.25l-0.67,2.51l-4.18,4.54l-2.84,-1.61l-3.91,-3.95l-0.26,-0.09l-3.24,0.52l-0.25,0.26l-0.32,2.37l0.1,0.26l2.63,2.38l3.42,1.89l0.96,1.0l1.57,3.8l-0.74,2.43l-2.85,-0.96l-6.26,-3.15l-0.38,0.09l0.04,0.39l3.54,3.4l2.55,2.31l0.23,0.78l-6.26,-1.43l-5.33,-2.25l-2.73,-1.73l0.67,-0.86l-0.09,-0.45l-7.38,-4.01l-0.44,0.27l0.03,0.89l-6.85,0.61l-1.8,-1.17l1.43,-2.6l4.56,-0.07l5.15,-0.52l0.23,-0.45l-0.76,-1.34l0.8,-1.89l3.21,-4.06l0.05,-0.29l-0.72,-1.95l-0.97,-1.47l-0.11,-0.1l-3.84,-2.1l-4.53,-1.33l1.09,-0.75l0.05,-0.45l-2.65,-2.75l-0.18,-0.09l-2.12,-0.24l-1.91,-1.47l-0.39,0.02l-1.27,1.25l-4.4,0.56l-9.06,-0.99l-5.28,-1.31l-4.01,-0.67l-1.72,-1.31l2.32,-1.85l0.1,-0.33l-0.28,-0.2l-3.3,-0.02l-0.74,-4.36l1.86,-4.09l2.46,-1.88l5.74,-1.15l-1.5,2.55ZM261.28,159.28l0.19,0.14l1.82,0.42l1.66,-0.05l-0.66,0.68l-0.75,0.16l-3.0,-1.25l-0.46,-0.77l0.51,-0.52l0.68,1.19ZM230.87,84.48l-2.48,0.19l-0.52,-1.74l0.96,-2.17l2.03,-0.53l1.71,1.04l0.02,1.6l-0.22,0.46l-1.5,1.16ZM229.52,58.19l0.14,0.82l-4.99,-0.22l-2.73,0.63l-0.59,-0.23l-2.61,-2.4l0.08,-1.38l0.94,-0.25l5.61,0.51l4.14,2.54ZM222.12,105.0l-0.79,1.63l-0.75,-0.22l-0.52,-0.91l0.04,-0.09l0.84,-1.01l0.74,0.06l0.44,0.55ZM183.77,38.22l2.72,1.65l0.16,0.04l4.83,-0.01l1.92,1.52l-0.51,1.75l0.18,0.36l2.84,1.14l1.56,1.19l0.16,0.06l3.37,0.22l3.65,0.42l4.07,-1.1l5.05,-0.43l3.96,0.35l2.53,1.8l0.48,1.79l-1.37,1.16l-3.6,1.03l-3.22,-0.59l-7.17,0.76l-5.1,0.09l-4.0,-0.6l-6.48,-1.56l-0.81,-2.57l-0.3,-2.49l-0.1,-0.19l-2.51,-2.25l-0.16,-0.07l-5.12,-0.63l-2.61,-1.45l0.75,-1.71l4.88,0.32ZM207.46,91.26l0.42,1.62l0.42,0.19l1.12,-0.55l1.35,0.99l2.74,1.39l2.73,1.2l0.2,1.74l0.35,0.26l1.72,-0.29l1.31,0.97l-1.72,0.96l-3.68,-0.9l-1.34,-1.71l-0.43,-0.04l-2.46,2.1l-3.23,1.85l-0.74,-1.98l-0.31,-0.19l-2.47,0.28l1.49,-1.34l0.1,-0.19l0.32,-3.15l0.79,-3.45l1.34,0.25ZM215.59,102.66l-2.73,2.0l-1.49,-0.08l-0.37,-0.7l1.61,-1.56l3.0,0.03l-0.02,0.3ZM202.79,24.07l0.11,0.12l2.54,1.53l-3.01,1.47l-4.55,4.07l-4.3,0.38l-5.07,-0.68l-2.51,-2.09l0.03,-1.72l1.86,-1.4l0.1,-0.34l-0.29,-0.2l-4.49,0.04l-2.63,-1.79l-1.45,-2.36l1.61,-2.38l1.65,-1.69l2.47,-0.4l0.19,-0.48l-0.72,-0.89l5.1,-0.26l3.1,3.05l0.13,0.07l4.21,1.25l3.99,1.06l1.92,3.65ZM187.5,59.3l-0.15,0.1l-2.59,3.4l-2.5,-0.15l-1.47,-3.92l0.04,-2.24l1.22,-1.92l2.34,-1.26l5.11,0.17l4.28,1.06l-3.36,3.86l-2.9,0.9ZM186.19,48.8l-1.15,1.63l-3.42,-0.35l-2.68,-1.15l1.11,-1.88l3.34,-1.27l2.01,1.63l0.79,1.38ZM185.78,35.41l-0.95,0.13l-4.48,-0.33l-0.4,-0.91l4.5,0.07l1.45,0.82l-0.1,0.21ZM180.76,32.56l-3.43,1.03l-1.85,-1.14l-1.01,-1.92l-0.16,-1.87l2.87,0.2l1.39,0.35l2.75,1.75l-0.55,1.6ZM181.03,76.32l-1.21,1.2l-3.19,-1.26l-0.18,-0.01l-1.92,0.45l-2.88,-1.67l1.84,-1.16l1.6,-1.77l2.45,1.17l1.45,0.77l2.05,2.28ZM169.72,54.76l2.83,0.97l0.14,0.01l4.25,-0.58l0.47,1.01l-2.19,2.16l0.07,0.48l3.61,1.95l-0.41,3.84l-3.87,1.68l-2.23,-0.36l-1.73,-1.75l-6.07,-3.53l0.03,-1.01l4.79,0.55l0.3,-0.16l-0.04,-0.34l-2.55,-2.89l2.59,-2.05ZM174.44,40.56l1.49,1.87l0.07,2.48l-1.07,3.52l-3.87,0.48l-2.41,-0.72l0.05,-2.72l-0.33,-0.3l-3.79,0.36l-0.13,-3.31l2.36,0.14l0.15,-0.03l3.7,-1.74l3.44,0.29l0.31,-0.22l0.03,-0.12ZM170.14,31.5l0.75,1.74l-3.52,-0.52l-4.19,-1.77l-4.65,-0.17l1.65,-1.11l-0.05,-0.52l-2.86,-1.26l-0.13,-1.58l4.52,0.7l6.66,1.99l1.84,2.5ZM134.64,58.08l-1.08,1.93l0.34,0.44l5.44,-1.41l3.37,2.32l0.37,-0.02l2.66,-2.28l2.03,1.38l2.01,4.53l0.53,0.04l1.26,-1.93l0.03,-0.27l-1.67,-4.55l1.82,-0.58l2.36,0.73l2.69,1.84l1.53,4.46l0.77,3.24l0.15,0.19l4.22,2.26l4.32,2.04l-0.21,1.51l-3.87,0.34l-0.19,0.5l1.45,1.54l-0.65,1.23l-4.3,-0.65l-4.4,-1.19l-2.97,0.28l-4.67,1.48l-6.31,0.65l-4.27,0.39l-1.26,-1.91l-0.15,-0.12l-3.42,-1.2l-0.16,-0.01l-2.05,0.45l-2.66,-3.02l1.2,-0.34l3.82,-0.76l3.58,0.19l3.27,-0.78l0.23,-0.29l-0.24,-0.29l-4.84,-1.06l-5.42,0.35l-3.4,-0.09l-0.97,-1.22l5.39,-1.7l0.21,-0.33l-0.3,-0.25l-3.82,0.06l-3.95,-1.1l1.88,-3.13l1.68,-1.81l6.54,-2.84l2.11,0.77ZM158.85,56.58l-1.82,2.62l-3.38,-2.9l0.49,-0.39l3.17,-0.18l1.54,0.86ZM149.71,42.7l1.0,1.87l0.37,0.14l2.17,-0.83l2.33,0.2l0.38,2.16l-1.38,2.17l-8.33,0.76l-6.34,2.15l-3.51,0.1l-0.22,-1.13l4.98,-2.12l0.17,-0.34l-0.31,-0.23l-11.27,0.6l-3.04,-0.78l3.14,-4.57l2.2,-1.35l6.87,1.7l4.4,3.0l0.14,0.05l4.37,0.39l0.27,-0.48l-3.41,-4.68l1.96,-1.62l2.28,0.53l0.79,2.32ZM145.44,29.83l-2.18,0.77l-3.79,-0.0l0.02,-0.31l2.34,-1.5l1.2,0.23l2.42,0.83ZM144.83,34.5l-4.44,1.46l-3.18,-1.48l1.6,-1.36l3.51,-0.53l3.1,0.75l-0.6,1.16ZM119.02,65.87l-6.17,2.07l-1.19,-1.82l-0.13,-0.11l-5.48,-2.32l0.92,-1.7l1.73,-3.44l2.16,-3.15l-0.02,-0.36l-2.09,-2.56l7.84,-0.71l3.59,1.02l6.32,0.27l2.35,1.37l2.25,1.71l-2.68,1.04l-6.21,3.41l-3.1,3.28l-0.08,0.21l0.0,1.81ZM129.66,35.4l-0.3,3.55l-1.77,1.67l-2.34,0.27l-4.62,2.2l-3.89,0.76l-2.83,-0.93l3.85,-3.52l5.04,-3.36l3.75,0.07l3.11,-0.7ZM111.24,152.74l-0.82,0.29l-3.92,-1.39l-0.7,-1.06l-0.12,-0.1l-2.15,-1.09l-0.41,-0.84l-0.2,-0.16l-2.44,-0.56l-0.84,-1.56l0.1,-0.36l2.34,0.64l1.53,0.5l2.28,0.34l0.78,1.04l1.24,1.55l0.09,0.08l2.42,1.3l0.81,1.39ZM88.54,134.82l0.14,0.02l2.0,-0.23l-0.67,3.48l0.06,0.24l1.78,2.22l-0.24,-0.0l-1.4,-1.42l-0.91,-1.53l-1.26,-1.08l-0.42,-1.35l0.09,-0.66l0.82,0.31Z",name:"Canada"},CG:{path:"M453.66,296.61l-0.9,-0.82l-0.35,-0.04l-0.83,0.48l-0.77,0.83l-1.65,-2.13l1.66,-1.2l0.08,-0.39l-0.81,-1.43l0.59,-0.43l1.62,-0.29l0.24,-0.24l0.1,-0.58l0.94,0.84l0.19,0.08l2.21,0.11l0.27,-0.14l0.81,-1.29l0.32,-1.76l-0.27,-1.96l-0.06,-0.15l-1.08,-1.35l1.02,-2.74l-0.09,-0.34l-0.62,-0.5l-0.22,-0.06l-1.66,0.18l-0.55,-1.03l0.12,-0.73l2.85,0.09l1.98,0.65l2.0,0.59l0.38,-0.25l0.17,-1.3l1.26,-2.24l1.34,-1.19l1.54,0.38l1.35,0.12l-0.11,1.15l-0.74,1.34l-0.5,1.61l-0.31,2.22l0.12,1.41l-0.4,0.9l-0.06,0.88l-0.24,0.67l-1.57,1.15l-1.24,1.41l-1.09,2.43l-0.03,0.13l0.08,1.95l-0.55,0.69l-1.46,1.23l-1.32,1.41l-0.61,-0.29l-0.13,-0.57l-0.29,-0.23l-1.36,-0.02l-0.23,0.1l-0.72,0.81l-0.41,-0.16Z",name:"Republic of the Congo"},CF:{path:"M459.41,266.56l1.9,-0.17l0.22,-0.12l0.36,-0.5l0.14,0.02l0.55,0.51l0.29,0.07l3.15,-0.96l0.12,-0.07l1.05,-0.97l1.29,-0.87l0.12,-0.33l-0.17,-0.61l0.38,-0.12l2.36,0.15l0.15,-0.03l2.36,-1.17l0.12,-0.1l1.78,-2.72l1.18,-0.96l1.23,-0.34l0.21,0.79l0.07,0.13l1.37,1.5l0.01,0.86l-0.39,1.0l-0.01,0.17l0.16,0.78l0.1,0.17l0.91,0.76l1.89,1.09l1.24,0.92l0.02,0.67l0.12,0.23l1.67,1.3l0.99,1.03l0.61,1.46l0.14,0.15l1.79,0.95l0.2,0.4l-0.44,0.14l-1.54,-0.06l-1.98,-0.26l-0.93,0.22l-0.19,0.14l-0.3,0.48l-0.57,0.05l-0.91,-0.49l-0.26,-0.01l-2.7,1.21l-1.04,-0.23l-0.21,0.03l-0.34,0.19l-0.12,0.13l-0.64,1.3l-1.67,-0.43l-1.77,-0.24l-1.58,-0.91l-2.06,-0.85l-0.27,0.02l-1.42,0.88l-0.97,1.27l-0.06,0.14l-0.19,1.46l-1.3,-0.11l-1.67,-0.42l-0.27,0.07l-1.55,1.41l-0.99,1.76l-0.14,-1.18l-0.13,-0.22l-1.1,-0.78l-0.86,-1.2l-0.2,-0.84l-0.07,-0.13l-1.07,-1.19l0.16,-0.59l0.0,-0.15l-0.24,-1.01l0.18,-1.77l0.5,-0.38l0.09,-0.11l1.18,-2.4Z",name:"Central African Republic"},CD:{path:"M497.85,276.25l-0.14,2.77l0.2,0.3l0.57,0.19l-0.47,0.52l-1.0,0.71l-0.96,1.31l-0.56,1.22l-0.16,2.04l-0.54,0.89l-0.04,0.15l-0.02,1.76l-0.63,0.61l-0.09,0.2l-0.08,1.33l-0.2,0.11l-0.15,0.21l-0.23,1.37l0.03,0.2l0.6,1.08l0.16,2.96l0.44,2.29l-0.24,1.25l0.01,0.15l0.5,1.46l0.07,0.12l1.41,1.37l1.09,2.56l-0.51,-0.11l-3.45,0.45l-0.67,0.3l-0.15,0.15l-0.71,1.61l0.01,0.26l0.52,1.03l-0.43,2.9l-0.31,2.55l0.13,0.29l0.7,0.46l1.75,0.99l0.31,-0.01l0.26,-0.17l0.15,1.9l-1.44,-0.02l-0.94,-1.28l-0.94,-1.1l-0.17,-0.1l-1.76,-0.33l-0.5,-1.18l-0.42,-0.15l-1.44,0.75l-1.79,-0.32l-0.77,-1.05l-0.2,-0.12l-1.59,-0.23l-0.97,0.04l-0.1,-0.53l-0.27,-0.25l-0.86,-0.06l-1.13,-0.15l-1.62,0.37l-1.04,-0.06l-0.32,0.09l0.11,-2.56l-0.08,-0.21l-0.77,-0.87l-0.17,-1.41l0.36,-1.47l-0.03,-0.21l-0.48,-0.91l-0.04,-1.52l-0.3,-0.29l-2.65,0.02l0.13,-0.53l-0.29,-0.37l-1.28,0.01l-0.28,0.21l-0.07,0.24l-1.35,0.09l-0.26,0.18l-0.62,1.45l-0.25,0.42l-1.17,-0.3l-0.19,0.01l-0.79,0.34l-1.44,0.18l-1.41,-1.96l-0.7,-1.47l-0.61,-1.86l-0.28,-0.21l-7.39,-0.03l-0.92,0.3l-0.78,-0.03l-0.78,0.25l-0.11,-0.25l0.35,-0.15l0.18,-0.26l0.07,-1.02l0.33,-0.52l0.72,-0.42l0.52,0.2l0.33,-0.08l0.76,-0.86l0.99,0.02l0.11,0.48l0.16,0.2l0.94,0.44l0.35,-0.07l1.46,-1.56l1.44,-1.21l0.68,-0.85l0.06,-0.2l-0.08,-1.99l1.04,-2.33l1.1,-1.23l1.62,-1.19l0.11,-0.14l0.29,-0.8l0.08,-0.94l0.38,-0.82l0.03,-0.16l-0.13,-1.38l0.3,-2.16l0.47,-1.51l0.73,-1.31l0.04,-0.12l0.15,-1.51l0.21,-1.66l0.89,-1.16l1.16,-0.7l1.9,0.79l1.69,0.95l1.81,0.24l1.85,0.48l0.35,-0.16l0.71,-1.43l0.16,-0.09l1.03,0.23l0.19,-0.02l2.65,-1.19l0.86,0.46l0.17,0.03l0.81,-0.08l0.23,-0.14l0.31,-0.5l0.75,-0.17l1.83,0.26l1.64,0.06l0.72,-0.21l1.39,1.9l0.16,0.11l1.12,0.3l0.24,-0.04l0.58,-0.36l1.05,0.15l0.15,-0.02l1.15,-0.44l0.47,0.84l0.08,0.09l2.08,1.57Z",name:"Democratic Republic of the Congo"},CZ:{path:"M463.29,152.22l-0.88,-0.47l-0.18,-0.03l-1.08,0.15l-1.86,-0.94l-0.21,-0.02l-0.88,0.24l-0.13,0.07l-1.25,1.17l-1.63,-0.91l-1.38,-1.36l-1.22,-0.75l-0.24,-1.24l-0.33,-0.75l1.53,-0.6l0.98,-0.84l1.74,-0.62l0.11,-0.07l0.47,-0.47l0.46,0.27l0.24,0.03l0.96,-0.3l1.06,0.95l0.15,0.07l1.57,0.24l-0.1,0.6l0.16,0.32l1.36,0.68l0.41,-0.15l0.28,-0.62l1.29,0.28l0.19,0.84l0.26,0.23l1.73,0.18l0.74,1.02l-0.17,0.0l-0.25,0.13l-0.32,0.49l-0.46,0.11l-0.22,0.23l-0.13,0.57l-0.32,0.1l-0.2,0.22l-0.03,0.14l-0.65,0.25l-1.05,-0.05l-0.28,0.17l-0.22,0.43Z",name:"Czech Republic"},CY:{path:"M505.03,193.75l-1.51,0.68l-1.0,-0.3l-0.32,-0.63l0.69,-0.06l0.41,0.13l0.19,-0.0l0.62,-0.22l0.31,0.02l0.06,0.22l0.49,0.17l0.06,-0.01Z",name:"Cyprus"},MT:{path:"M458.2,191.05l-0.51,0.28l-0.5,-0.3l-0.32,-0.23l0.62,-0.22l0.31,0.02l0.06,0.22l0.49,0.17l0.06,-0.01Z",name:"Malta"},CR:{path:"M213.0,263.84l-0.98,-0.4l-0.3,-0.31l0.16,-0.24l0.05,-0.21l-0.09,-0.56l-0.1,-0.18l-0.76,-0.65l-0.99,-0.5l-0.74,-0.28l-0.13,-0.58l-0.12,-0.18l-0.66,-0.45l-0.34,-0.0l-0.13,0.31l0.13,0.59l-0.17,0.21l-0.34,-0.42l-0.14,-0.1l-0.7,-0.22l-0.23,-0.34l0.01,-0.62l0.31,-0.74l-0.14,-0.38l-0.3,-0.15l0.47,-0.4l1.48,0.6l0.26,-0.02l0.47,-0.27l0.58,0.15l0.35,0.44l0.17,0.11l0.74,0.17l0.27,-0.07l0.3,-0.27l0.52,1.09l0.97,1.02l0.77,0.71l-0.41,0.1l-0.23,0.3l0.01,1.02l0.12,0.24l0.2,0.14l-0.07,0.05l-0.11,0.3l0.08,0.37l-0.23,0.63Z",name:"Costa Rica"},CU:{path:"M215.01,226.09l2.08,0.18l1.94,0.03l2.24,0.86l0.95,0.92l0.25,0.08l2.22,-0.28l0.79,0.55l3.68,2.81l0.19,0.06l0.77,-0.03l1.18,0.42l-0.12,0.47l0.27,0.37l1.78,0.1l1.59,0.9l-0.11,0.22l-1.5,0.3l-1.64,0.13l-1.75,-0.2l-2.69,0.19l1.0,-0.86l-0.03,-0.48l-1.02,-0.68l-0.13,-0.05l-1.52,-0.16l-0.74,-0.64l-0.57,-1.42l-0.3,-0.19l-1.36,0.1l-2.23,-0.67l-0.71,-0.52l-0.14,-0.06l-3.2,-0.4l-0.42,-0.25l0.56,-0.39l0.12,-0.33l-0.27,-0.22l-2.46,-0.13l-0.2,0.06l-1.72,1.31l-0.94,0.03l-0.25,0.15l-0.29,0.53l-1.04,0.24l-0.29,-0.07l0.7,-0.43l0.1,-0.11l0.5,-0.87l1.04,-0.54l1.23,-0.49l1.86,-0.25l0.62,-0.28Z",name:"Cuba"},SZ:{path:"M500.95,353.41l-0.41,0.97l-1.16,0.23l-1.29,-1.26l-0.02,-0.71l0.63,-0.93l0.23,-0.7l0.47,-0.12l1.04,0.4l0.32,1.05l0.2,1.08Z",name:"Swaziland"},SY:{path:"M510.84,199.83l0.09,-0.11l0.07,-0.2l-0.04,-1.08l0.56,-1.4l1.3,-1.01l0.1,-0.34l-0.41,-1.11l-0.24,-0.19l-0.89,-0.11l-0.2,-1.84l0.55,-1.05l1.3,-1.22l0.09,-0.19l0.09,-1.09l0.39,0.27l0.25,0.04l2.66,-0.77l1.35,0.52l2.06,-0.01l2.93,-1.08l1.35,0.04l2.14,-0.34l-0.83,1.16l-1.31,0.68l-0.16,0.3l0.23,2.03l-0.9,3.25l-5.43,2.87l-4.79,2.91l-2.32,-0.92Z",name:"Syria"},KG:{path:"M599.04,172.15l0.38,-0.9l1.43,-0.37l4.04,1.02l0.37,-0.23l0.36,-1.64l1.17,-0.52l3.45,1.24l0.2,-0.0l0.86,-0.31l4.09,0.08l3.61,0.31l1.18,1.02l0.11,0.06l1.19,0.34l-0.13,0.26l-3.84,1.58l-0.13,0.1l-0.81,1.08l-3.08,0.34l-0.24,0.16l-0.85,1.7l-2.43,-0.37l-0.14,0.01l-1.79,0.61l-2.39,1.4l-0.12,0.39l0.25,0.49l-0.48,0.45l-4.57,0.43l-3.04,-0.94l-2.45,0.18l0.14,-1.02l2.42,0.44l0.27,-0.08l0.81,-0.81l1.76,0.27l0.21,-0.05l3.21,-2.14l-0.03,-0.51l-2.97,-1.57l-0.26,-0.01l-1.64,0.69l-1.38,-0.84l1.81,-1.67l-0.09,-0.5l-0.46,-0.18Z",name:"Kyrgyzstan"},KE:{path:"M523.3,287.04l0.06,0.17l1.29,1.8l-1.46,0.84l-0.11,0.11l-0.55,0.93l-0.81,0.16l-0.24,0.24l-0.34,1.69l-0.81,1.06l-0.46,1.58l-0.76,0.63l-3.3,-2.3l-0.16,-1.32l-0.15,-0.23l-9.35,-5.28l-0.02,-2.4l1.92,-2.63l0.91,-1.83l0.01,-0.24l-1.09,-2.86l-0.29,-1.24l-1.09,-1.63l2.93,-2.85l0.92,0.3l0.0,1.19l0.09,0.22l0.86,0.83l0.21,0.08l1.65,0.0l3.09,2.08l0.16,0.05l0.79,0.03l0.54,-0.06l0.58,0.28l1.67,0.2l0.28,-0.12l0.69,-0.98l2.04,-0.94l0.86,0.73l0.19,0.07l1.1,0.0l-1.82,2.36l-0.06,0.18l0.03,9.12Z",name:"Kenya"},SS:{path:"M505.7,261.39l0.02,1.64l-0.27,0.55l-1.15,0.05l-0.24,0.15l-0.85,1.44l0.22,0.45l1.44,0.17l1.15,1.12l0.42,0.95l0.14,0.15l1.06,0.54l1.33,2.45l-3.06,2.98l-1.44,1.08l-1.75,0.01l-1.92,0.56l-1.5,-0.53l-0.27,0.03l-0.85,0.57l-1.98,-1.5l-0.56,-1.02l-0.37,-0.13l-1.32,0.5l-1.08,-0.15l-0.2,0.04l-0.56,0.35l-0.9,-0.24l-1.44,-1.97l-0.39,-0.77l-0.13,-0.13l-1.78,-0.94l-0.65,-1.5l-1.08,-1.12l-1.57,-1.22l-0.02,-0.68l-0.12,-0.23l-1.37,-1.02l-1.17,-0.68l0.2,-0.08l0.86,-0.48l0.14,-0.18l0.63,-2.22l0.6,-1.02l1.47,-0.28l0.35,0.56l1.29,1.48l0.14,0.09l0.69,0.22l0.22,-0.02l0.83,-0.4l1.58,0.08l0.26,0.39l0.25,0.13l2.49,0.0l0.3,-0.25l0.06,-0.35l1.13,-0.42l0.18,-0.18l0.22,-0.63l0.68,-0.38l1.95,1.37l0.23,0.05l1.29,-0.26l0.19,-0.12l1.23,-1.8l1.36,-1.37l0.08,-0.25l-0.21,-1.52l-0.06,-0.15l-0.25,-0.3l0.94,-0.08l0.26,-0.21l0.1,-0.32l0.6,0.09l-0.25,1.67l0.3,1.83l0.11,0.19l1.22,0.94l0.25,0.73l-0.04,1.2l0.26,0.31l0.09,0.01Z",name:"South Sudan"},SR:{path:"M278.1,270.26l2.71,0.45l0.31,-0.14l0.19,-0.32l1.82,-0.16l2.25,0.56l-1.09,1.81l-0.04,0.19l0.2,1.72l0.05,0.13l0.9,1.35l-0.39,0.99l-0.21,1.09l-0.48,0.8l-1.2,-0.44l-0.17,-0.01l-1.12,0.24l-0.95,-0.21l-0.35,0.2l-0.25,0.73l0.05,0.29l0.3,0.35l-0.06,0.13l-1.01,-0.15l-1.42,-2.03l-0.32,-1.36l-0.29,-0.23l-0.63,-0.0l-0.95,-1.56l0.41,-1.16l0.01,-0.17l-0.08,-0.35l1.29,-0.56l0.18,-0.22l0.35,-1.97Z",name:"Suriname"},KH:{path:"M680.28,257.89l-0.93,-1.2l-1.24,-2.56l-0.56,-2.9l1.45,-1.92l3.07,-0.46l2.26,0.35l2.03,0.98l0.38,-0.11l1.0,-1.55l1.86,0.79l0.52,1.51l-0.28,2.82l-4.05,1.88l-0.12,0.45l0.79,1.1l-2.2,0.17l-2.08,0.98l-1.89,-0.33Z",name:"Cambodia"},SV:{path:"M197.02,248.89l0.18,-0.05l0.59,0.17l0.55,0.51l0.64,0.35l0.06,0.22l0.37,0.21l1.01,-0.28l0.38,0.13l0.16,0.13l-0.14,0.81l-0.18,0.38l-1.22,-0.03l-0.84,-0.23l-1.11,-0.52l-1.31,-0.15l-0.49,-0.38l0.02,-0.08l0.76,-0.57l0.46,-0.27l0.11,-0.35Z",name:"El Salvador"},SK:{path:"M468.01,150.02l0.05,0.07l0.36,0.1l0.85,-0.37l1.12,1.02l0.33,0.05l1.38,-0.65l1.07,0.3l0.16,0.0l1.69,-0.43l1.95,1.02l-0.51,0.64l-0.45,1.2l-0.32,0.2l-2.55,-0.93l-0.17,-0.01l-0.82,0.2l-0.17,0.11l-0.53,0.68l-0.94,0.32l-0.14,-0.11l-0.29,-0.04l-1.18,0.48l-0.95,0.09l-0.26,0.21l-0.15,0.47l-1.84,0.34l-0.82,-0.31l-1.14,-0.73l-0.2,-0.89l0.42,-0.84l0.91,0.05l0.12,-0.02l0.86,-0.33l0.18,-0.21l0.03,-0.13l0.32,-0.1l0.2,-0.22l0.12,-0.55l0.39,-0.1l0.18,-0.13l0.3,-0.45l0.43,-0.0Z",name:"Slovakia"},KR:{path:"M737.31,185.72l0.84,0.08l0.27,-0.12l0.89,-1.2l1.63,-0.13l1.1,-0.2l0.21,-0.16l0.12,-0.24l1.86,2.95l0.59,1.79l0.02,3.17l-0.84,1.38l-2.23,0.55l-1.95,1.14l-1.91,0.21l-0.22,-1.21l0.45,-2.07l-0.01,-0.17l-0.99,-2.67l1.54,-0.4l0.17,-0.46l-1.55,-2.24Z",name:"South Korea"},SI:{path:"M455.77,159.59l1.79,0.21l0.18,-0.04l1.2,-0.68l2.12,-0.08l0.21,-0.1l0.38,-0.42l0.1,0.01l0.28,0.62l-1.71,0.71l-0.18,0.22l-0.21,1.1l-0.71,0.26l-0.2,0.28l0.01,0.55l-0.59,-0.04l-0.79,-0.47l-0.38,0.06l-0.36,0.41l-0.84,-0.05l0.05,-0.15l-0.56,-1.24l0.21,-1.17Z",name:"Slovenia"},KP:{path:"M747.76,172.02l-0.23,-0.04l-0.26,0.08l-1.09,1.02l-0.78,1.06l-0.06,0.19l0.09,1.95l-1.12,0.57l-0.53,0.58l-0.88,0.82l-1.69,0.51l-1.09,0.79l-0.12,0.22l-0.07,1.17l-0.22,0.25l0.09,0.47l0.96,0.46l1.22,1.1l-0.19,0.37l-0.91,0.16l-1.75,0.14l-0.22,0.12l-0.87,1.18l-0.95,-0.09l-0.3,0.18l-0.97,-0.44l-0.39,0.13l-0.25,0.44l-0.29,0.09l-0.03,-0.2l-0.18,-0.23l-0.62,-0.25l-0.43,-0.29l0.52,-0.97l0.52,-0.3l0.13,-0.38l-0.18,-0.42l0.59,-1.47l0.01,-0.21l-0.16,-0.48l-0.22,-0.2l-1.41,-0.31l-0.82,-0.55l1.74,-1.62l2.73,-1.58l1.62,-1.96l0.96,0.76l0.17,0.06l2.17,0.11l0.31,-0.37l-0.32,-1.31l3.61,-1.21l0.16,-0.13l0.79,-1.34l1.25,1.38Z",name:"North Korea"},SO:{path:"M543.8,256.48l0.61,-0.05l1.14,-0.37l1.31,-0.25l0.12,-0.05l1.11,-0.81l0.57,-0.0l0.03,0.39l-0.23,1.49l0.01,1.25l-0.52,0.92l-0.7,2.71l-1.19,2.79l-1.54,3.2l-2.13,3.66l-2.12,2.79l-2.92,3.39l-2.47,2.0l-3.76,2.5l-2.33,1.9l-2.77,3.06l-0.61,1.35l-0.28,0.29l-1.22,-1.69l-0.03,-8.92l2.12,-2.76l0.59,-0.68l1.47,-0.04l0.18,-0.06l2.15,-1.71l3.16,-0.11l0.21,-0.09l7.08,-7.55l1.76,-2.12l1.14,-1.57l0.06,-0.18l0.01,-4.67Z",name:"Somalia"},SN:{path:"M379.28,250.34l-0.95,-1.82l-0.09,-0.1l-0.83,-0.6l0.62,-0.28l0.13,-0.11l1.21,-1.8l0.6,-1.31l0.71,-0.68l1.09,0.2l0.18,-0.02l1.17,-0.53l1.25,-0.03l1.17,0.73l1.59,0.65l1.47,1.83l1.59,1.7l0.12,1.56l0.49,1.46l0.1,0.14l0.85,0.65l0.18,0.82l-0.08,0.57l-0.13,0.05l-1.29,-0.19l-0.29,0.13l-0.11,0.16l-0.35,0.04l-1.83,-0.61l-5.84,-0.13l-0.12,0.02l-0.6,0.26l-0.87,-0.06l-1.01,0.32l-0.26,-1.26l1.9,0.04l0.16,-0.04l0.54,-0.32l0.37,-0.02l0.15,-0.05l0.78,-0.5l0.92,0.46l0.12,0.03l1.09,0.04l0.15,-0.03l1.08,-0.57l0.11,-0.44l-0.51,-0.74l-0.39,-0.1l-0.76,0.39l-0.62,-0.01l-0.92,-0.58l-0.18,-0.05l-0.79,0.04l-0.2,0.09l-0.48,0.51l-2.41,0.06Z",name:"Senegal"},SL:{path:"M392.19,267.53l-0.44,-0.12l-1.73,-0.97l-1.24,-1.28l-0.4,-0.84l-0.27,-1.65l1.21,-1.0l0.09,-0.12l0.27,-0.66l0.32,-0.41l0.56,-0.05l0.16,-0.07l0.5,-0.41l1.75,0.0l0.59,0.77l0.49,0.96l-0.07,0.64l0.04,0.19l0.36,0.58l-0.03,0.84l0.24,0.2l-0.64,0.65l-1.13,1.37l-0.06,0.14l-0.12,0.66l-0.43,0.58Z",name:"Sierra Leone"},SB:{path:"M826.74,311.51l0.23,0.29l-0.95,-0.01l-0.39,-0.63l0.65,0.27l0.45,0.09ZM825.01,308.52l-1.18,-1.39l-0.37,-1.06l0.24,0.0l0.82,1.84l0.49,0.6ZM823.21,309.42l-0.44,0.03l-1.43,-0.24l-0.32,-0.24l0.08,-0.5l1.29,0.31l0.72,0.47l0.11,0.18ZM817.9,303.81l2.59,1.44l0.3,0.41l-1.21,-0.66l-1.34,-0.89l-0.34,-0.3ZM813.77,302.4l0.48,0.34l0.1,0.08l-0.33,-0.17l-0.25,-0.25Z",name:"Solomon Islands"},SA:{path:"M528.24,243.1l-0.2,-0.69l-0.07,-0.12l-0.69,-0.71l-0.18,-0.94l-0.12,-0.19l-1.24,-0.89l-1.28,-2.09l-0.7,-2.08l-0.07,-0.11l-1.73,-1.79l-0.11,-0.07l-1.03,-0.39l-1.57,-2.36l-0.27,-1.72l0.1,-1.53l-0.03,-0.15l-1.44,-2.93l-1.25,-1.13l-1.34,-0.56l-0.72,-1.33l0.11,-0.49l-0.02,-0.2l-0.7,-1.38l-0.08,-0.1l-0.68,-0.56l-0.97,-1.98l-2.8,-4.03l-0.25,-0.13l-0.85,0.01l0.29,-1.11l0.12,-0.97l0.23,-0.81l2.52,0.39l0.23,-0.06l1.08,-0.84l0.6,-0.95l1.78,-0.35l0.22,-0.17l0.37,-0.83l0.74,-0.42l0.08,-0.46l-2.17,-2.4l4.55,-1.26l0.12,-0.06l0.36,-0.32l2.83,0.71l3.67,1.91l7.04,5.5l0.17,0.06l4.64,0.22l2.06,0.24l0.55,1.15l0.28,0.17l1.56,-0.06l0.9,2.15l0.14,0.15l1.14,0.57l0.39,0.85l0.11,0.13l1.59,1.06l0.12,0.91l-0.23,0.83l0.01,0.18l0.32,0.9l0.07,0.11l0.68,0.7l0.33,0.86l0.37,0.65l0.09,0.1l0.76,0.53l0.25,0.04l0.45,-0.12l0.35,0.75l0.1,0.63l0.96,2.68l0.23,0.19l7.53,1.33l0.27,-0.09l0.24,-0.26l0.87,1.41l-1.58,4.96l-7.34,2.54l-7.28,1.02l-2.34,1.17l-0.12,0.1l-1.74,2.63l-0.86,0.32l-0.49,-0.68l-0.28,-0.12l-0.92,0.12l-2.32,-0.25l-0.41,-0.23l-0.15,-0.04l-2.89,0.06l-0.63,0.2l-0.91,-0.59l-0.43,0.11l-0.66,1.27l-0.03,0.21l0.21,0.89l-0.6,0.45Z",name:"Saudi Arabia"},SE:{path:"M476.42,90.44l-0.15,0.1l-2.43,2.86l-0.07,0.24l0.36,2.31l-3.84,3.1l-4.83,3.38l-0.11,0.15l-1.82,5.45l0.03,0.26l1.78,2.68l2.27,1.99l-2.13,3.88l-2.49,0.82l-0.2,0.24l-0.95,6.05l-1.32,3.09l-2.82,-0.32l-0.3,0.16l-1.34,2.64l-2.48,0.14l-0.76,-3.15l-2.09,-4.04l-1.85,-5.01l1.03,-1.98l2.06,-2.53l0.06,-0.13l0.83,-4.45l-0.06,-0.25l-1.54,-1.86l-0.15,-5.0l1.52,-3.48l2.28,0.06l0.27,-0.16l0.87,-1.59l-0.01,-0.31l-0.8,-1.21l3.79,-5.63l4.07,-7.54l2.23,0.01l0.29,-0.22l0.59,-2.15l4.46,0.66l0.34,-0.26l0.34,-2.64l1.21,-0.14l3.24,2.08l3.78,2.85l0.06,6.37l0.03,0.14l0.67,1.29l-3.95,1.07Z",name:"Sweden"},SD:{path:"M505.98,259.75l-0.31,-0.9l-0.1,-0.14l-1.2,-0.93l-0.27,-1.66l0.29,-1.83l-0.25,-0.34l-1.16,-0.17l-0.33,0.21l-0.11,0.37l-1.3,0.11l-0.21,0.49l0.55,0.68l0.18,1.29l-1.31,1.33l-1.18,1.72l-1.04,0.21l-2.0,-1.4l-0.32,-0.02l-0.95,0.52l-0.14,0.16l-0.21,0.6l-1.16,0.43l-0.19,0.23l-0.04,0.27l-2.08,0.0l-0.25,-0.39l-0.24,-0.13l-1.81,-0.09l-0.14,0.03l-0.8,0.38l-0.49,-0.16l-1.22,-1.39l-0.42,-0.67l-0.31,-0.14l-1.81,0.35l-0.2,0.14l-0.72,1.24l-0.61,2.14l-0.73,0.4l-0.62,0.22l-0.83,-0.68l-0.12,-0.6l0.38,-0.97l0.01,-1.14l-0.08,-0.2l-1.39,-1.53l-0.25,-0.97l0.03,-0.57l-0.11,-0.25l-0.81,-0.66l-0.03,-1.34l-0.04,-0.14l-0.52,-0.98l-0.31,-0.15l-0.42,0.07l0.12,-0.44l0.63,-1.03l0.03,-0.23l-0.24,-0.88l0.69,-0.66l0.02,-0.41l-0.4,-0.46l0.58,-1.39l1.04,-1.71l1.97,0.16l0.32,-0.3l-0.12,-10.24l0.02,-0.8l2.59,-0.01l0.3,-0.3l0.0,-4.92l29.19,0.0l0.68,2.17l-0.4,0.35l-0.1,0.27l0.36,2.69l0.93,3.15l0.12,0.16l2.05,1.4l-0.99,1.15l-1.75,0.4l-0.15,0.08l-0.79,0.79l-0.08,0.17l-0.24,1.69l-1.07,3.75l-0.0,0.16l0.25,0.96l-0.38,2.1l-0.98,2.41l-1.52,1.3l-1.07,1.94l-0.25,0.99l-1.08,0.64l-0.13,0.18l-0.46,1.65Z",name:"Sudan"},DO:{path:"M241.7,234.97l0.15,-0.22l1.73,0.01l1.43,0.64l0.15,0.03l0.45,-0.04l0.36,0.74l0.28,0.17l1.02,-0.04l-0.04,0.43l0.27,0.33l1.03,0.09l0.91,0.7l-0.57,0.64l-0.99,-0.47l-0.16,-0.03l-1.11,0.11l-0.79,-0.12l-0.26,0.09l-0.38,0.4l-0.66,0.11l-0.28,-0.45l-0.38,-0.12l-0.83,0.37l-0.14,0.13l-0.85,1.49l-0.27,-0.17l-0.1,-0.58l0.05,-0.67l-0.07,-0.21l-0.44,-0.53l0.35,-0.25l0.12,-0.19l0.19,-1.0l-0.2,-1.4Z",name:"Dominican Republic"},DJ:{path:"M528.78,253.36l0.34,0.45l-0.06,0.76l-1.26,0.54l-0.05,0.53l0.82,0.53l-0.57,0.83l-0.3,-0.25l-0.27,-0.05l-0.56,0.17l-1.07,-0.03l-0.04,-0.56l-0.16,-0.56l0.76,-1.07l0.76,-0.97l0.89,0.18l0.25,-0.06l0.51,-0.42Z",name:"Djibouti"},DK:{path:"M452.4,129.07l-1.27,2.39l-2.25,-1.69l-0.26,-1.08l3.15,-1.0l0.63,1.39ZM447.87,126.25l-0.35,0.76l-0.47,-0.24l-0.38,0.09l-1.8,2.53l-0.03,0.29l0.56,1.4l-1.22,0.4l-1.68,-0.41l-0.92,-1.76l-0.07,-3.47l0.38,-0.88l0.62,-0.93l2.07,-0.21l0.19,-0.1l0.84,-0.95l1.5,-0.76l-0.06,1.26l-0.7,1.1l-0.03,0.25l0.3,1.0l0.18,0.19l1.06,0.42Z",name:"Denmark"},DE:{path:"M445.51,131.69l0.03,0.94l0.21,0.28l2.32,0.74l-0.02,1.0l0.37,0.3l2.55,-0.65l1.36,-0.89l2.63,1.27l1.09,1.01l0.51,1.51l-0.6,0.78l-0.0,0.36l0.88,1.17l0.58,1.68l-0.18,1.08l0.03,0.18l0.87,1.81l-0.66,0.2l-0.55,-0.32l-0.36,0.05l-0.58,0.58l-1.73,0.62l-0.99,0.84l-1.77,0.7l-0.16,0.4l0.42,0.94l0.26,1.34l0.14,0.2l1.25,0.76l1.22,1.2l-0.71,1.2l-0.81,0.37l-0.17,0.32l0.34,1.99l-0.04,0.09l-0.47,-0.39l-0.17,-0.07l-1.2,-0.1l-1.85,0.57l-2.15,-0.13l-0.29,0.18l-0.21,0.5l-0.96,-0.67l-0.24,-0.05l-0.67,0.16l-2.6,-0.94l-0.34,0.1l-0.42,0.57l-1.64,-0.02l0.26,-1.88l1.24,-2.15l-0.21,-0.45l-3.54,-0.58l-0.98,-0.71l0.12,-1.26l-0.05,-0.2l-0.44,-0.64l0.27,-2.18l-0.38,-3.14l1.17,-0.0l0.27,-0.17l0.63,-1.26l0.65,-3.17l-0.02,-0.17l-0.41,-1.0l0.32,-0.47l1.77,-0.16l0.37,0.6l0.47,0.06l1.7,-1.69l0.06,-0.33l-0.55,-1.24l-0.09,-1.51l1.5,0.36l0.16,-0.01l1.22,-0.4Z",name:"Germany"},YE:{path:"M553.53,242.65l-1.51,0.58l-0.17,0.16l-0.48,1.14l-0.07,0.79l-2.31,1.0l-3.98,1.19l-2.28,1.8l-0.97,0.12l-0.7,-0.14l-0.23,0.05l-1.42,1.03l-1.51,0.47l-2.07,0.13l-0.68,0.15l-0.17,0.1l-0.49,0.6l-0.57,0.16l-0.18,0.13l-0.3,0.49l-1.06,-0.05l-0.13,0.02l-0.73,0.32l-1.48,-0.11l-0.55,-1.26l0.07,-1.32l-0.04,-0.16l-0.39,-0.72l-0.48,-1.85l-0.52,-0.79l0.08,-0.02l0.22,-0.36l-0.23,-1.05l0.24,-0.39l0.04,-0.19l-0.09,-0.95l0.96,-0.72l0.11,-0.31l-0.23,-0.98l0.46,-0.88l0.75,0.49l0.26,0.03l0.63,-0.22l2.76,-0.06l0.5,0.25l2.42,0.26l0.85,-0.11l0.52,0.71l0.35,0.1l1.17,-0.43l0.15,-0.12l1.75,-2.64l2.22,-1.11l6.95,-0.96l2.55,5.58Z",name:"Yemen"},AT:{path:"M463.17,154.15l-0.14,0.99l-1.15,0.01l-0.24,0.47l0.39,0.56l-0.75,1.84l-0.36,0.4l-2.06,0.07l-0.14,0.04l-1.18,0.67l-1.96,-0.23l-3.43,-0.78l-0.5,-0.97l-0.33,-0.16l-2.47,0.55l-0.2,0.16l-0.18,0.37l-1.27,-0.38l-1.28,-0.09l-0.81,-0.41l0.25,-0.51l0.03,-0.18l-0.05,-0.28l0.35,-0.08l1.16,0.81l0.45,-0.13l0.27,-0.64l2.0,0.12l1.84,-0.57l1.05,0.09l0.71,0.59l0.47,-0.11l0.23,-0.54l0.02,-0.17l-0.32,-1.85l0.69,-0.31l0.13,-0.12l0.73,-1.23l1.61,0.89l0.35,-0.04l1.35,-1.27l0.7,-0.19l1.84,0.93l0.18,0.03l1.08,-0.15l0.81,0.43l-0.07,0.15l-0.02,0.2l0.24,1.06Z",name:"Austria"},DZ:{path:"M450.58,224.94l-8.31,4.86l-7.23,5.12l-3.46,1.13l-2.42,0.22l-0.02,-1.33l-0.2,-0.28l-1.15,-0.42l-1.45,-0.69l-0.55,-1.13l-0.1,-0.12l-8.45,-5.72l-17.72,-12.17l0.03,-0.38l-0.02,-3.21l3.84,-1.91l2.46,-0.41l2.1,-0.75l0.14,-0.11l0.9,-1.3l2.84,-1.06l0.19,-0.27l0.09,-1.81l1.21,-0.2l0.15,-0.07l1.06,-0.96l3.19,-0.46l0.23,-0.18l0.46,-1.08l-0.08,-0.34l-0.6,-0.54l-0.83,-2.85l-0.18,-1.8l-0.82,-1.57l2.13,-1.37l2.65,-0.49l0.13,-0.05l1.55,-1.15l2.34,-0.85l4.2,-0.51l4.07,-0.23l1.21,0.41l0.23,-0.01l2.3,-1.11l2.52,-0.02l0.94,0.62l0.2,0.05l1.25,-0.13l-0.36,1.03l-0.01,0.14l0.39,2.66l-0.56,2.2l-1.49,1.52l-0.08,0.24l0.22,2.12l0.11,0.2l1.94,1.58l0.02,0.54l0.12,0.23l1.45,1.06l1.04,4.85l0.81,2.42l0.13,1.19l-0.43,2.17l0.17,1.28l-0.31,1.53l0.2,1.56l-0.9,1.02l-0.01,0.38l1.43,1.88l0.09,1.06l0.04,0.13l0.89,1.48l0.37,0.12l1.03,-0.43l1.79,1.12l0.89,1.34Z",name:"Algeria"},US:{path:"M892.64,99.05l1.16,0.57l0.21,0.02l1.45,-0.38l1.92,0.99l2.17,0.47l-1.65,0.72l-1.75,-0.79l-0.93,-0.7l-0.21,-0.06l-2.11,0.22l-0.35,-0.2l0.09,-0.87ZM183.29,150.37l0.39,1.54l0.12,0.17l0.78,0.55l0.14,0.05l1.74,0.2l2.52,0.5l2.4,0.98l0.17,0.02l1.96,-0.4l3.01,0.81l0.91,-0.02l2.22,-0.88l4.67,2.33l3.86,2.01l0.21,0.71l0.15,0.18l0.33,0.17l-0.02,0.05l0.23,0.43l0.67,0.1l0.21,-0.05l0.1,-0.07l0.05,0.29l0.09,0.16l0.5,0.5l0.21,0.09l0.56,0.0l0.13,0.13l-0.2,0.36l0.12,0.41l2.49,1.39l0.99,5.24l-0.69,1.68l-1.16,1.64l-0.6,1.18l-0.06,0.31l0.04,0.22l0.28,0.43l0.11,0.1l0.85,0.47l0.15,0.04l0.63,0.0l0.14,-0.04l2.87,-1.58l2.6,-0.49l3.28,-1.5l0.17,-0.23l0.04,-0.43l-0.23,-0.93l-0.24,-0.39l0.74,-0.32l4.7,-0.01l0.25,-0.13l0.77,-1.15l2.9,-2.41l1.04,-0.52l8.35,-0.02l0.28,-0.21l0.2,-0.6l0.7,-0.14l1.06,-0.48l0.13,-0.11l0.92,-1.49l0.75,-2.39l1.67,-2.08l0.59,0.6l0.3,0.07l1.52,-0.49l0.88,0.72l-0.0,4.14l0.08,0.2l1.6,1.72l0.31,0.72l-2.42,1.35l-2.55,1.05l-2.64,0.9l-0.14,0.11l-1.33,1.81l-0.44,0.7l-0.05,0.15l-0.03,1.6l0.03,0.14l0.83,1.59l0.24,0.16l0.78,0.06l-1.15,0.33l-1.25,-0.04l-1.83,0.52l-2.51,0.29l-2.17,0.88l-0.17,0.36l0.33,0.22l3.55,-0.54l0.15,0.11l-2.87,0.73l-1.19,0.0l-0.16,-0.33l-0.36,0.06l-0.76,0.82l0.17,0.5l0.42,0.08l-0.45,1.75l-1.4,1.74l-0.04,-0.17l-0.21,-0.22l-0.48,-0.13l-0.77,-0.69l-0.36,-0.03l-0.12,0.34l0.52,1.58l0.09,0.14l0.52,0.43l0.03,0.87l-0.74,1.05l-0.39,0.63l0.05,-0.12l-0.08,-0.34l-1.19,-1.03l-0.28,-2.31l-0.26,-0.26l-0.32,0.19l-0.48,1.27l-0.01,0.19l0.39,1.33l-1.14,-0.31l-0.36,0.18l0.14,0.38l1.57,0.85l0.1,2.58l0.22,0.28l0.55,0.15l0.21,0.81l0.33,2.72l-1.46,1.94l-2.5,0.81l-0.12,0.07l-1.58,1.58l-1.15,0.17l-0.15,0.06l-1.27,1.03l-0.09,0.13l-0.32,0.85l-2.71,1.79l-1.45,1.37l-1.18,1.64l-0.05,0.12l-0.39,1.96l0.0,0.13l0.44,1.91l0.85,2.37l1.1,1.91l0.03,1.2l1.16,3.07l-0.08,1.74l-0.1,0.99l-0.57,1.48l-0.54,0.24l-0.97,-0.26l-0.34,-1.02l-0.12,-0.16l-0.89,-0.58l-2.44,-4.28l-0.34,-0.94l0.49,-1.71l-0.02,-0.21l-0.7,-1.5l-2.0,-2.35l-0.11,-0.08l-0.98,-0.42l-0.25,0.01l-2.42,1.19l-0.26,-0.08l-1.26,-1.29l-1.57,-0.68l-0.16,-0.02l-2.79,0.34l-2.18,-0.3l-1.98,0.19l-1.12,0.45l-0.14,0.44l0.4,0.65l-0.04,1.02l0.09,0.22l0.29,0.3l-0.06,0.05l-0.77,-0.33l-0.26,0.01l-0.87,0.48l-1.64,-0.08l-1.79,-1.39l-0.23,-0.06l-2.11,0.33l-1.75,-0.61l-0.14,-0.01l-1.61,0.2l-2.11,0.64l-0.11,0.06l-2.25,1.99l-2.53,1.21l-1.43,1.38l-0.58,1.22l-0.03,0.12l-0.03,1.86l0.13,1.32l0.3,0.62l-0.46,0.04l-1.71,-0.57l-1.85,-0.79l-0.63,-1.14l-0.54,-1.85l-0.07,-0.12l-1.45,-1.51l-0.86,-1.58l-1.26,-1.87l-0.09,-0.09l-1.76,-1.09l-0.17,-0.04l-2.05,0.05l-0.23,0.12l-1.44,1.97l-1.84,-0.72l-1.19,-0.76l-0.6,-1.45l-0.9,-1.52l-1.49,-1.21l-1.27,-0.87l-0.89,-0.96l-0.22,-0.1l-4.34,-0.0l-0.3,0.3l-0.0,0.84l-6.62,0.02l-5.66,-1.93l-3.48,-1.24l0.11,-0.25l-0.3,-0.42l-3.18,0.3l-2.6,0.2l-0.35,-1.19l-0.08,-0.13l-1.62,-1.61l-0.13,-0.08l-1.02,-0.29l-0.22,-0.66l-0.25,-0.2l-1.31,-0.13l-0.82,-0.7l-0.16,-0.07l-2.25,-0.27l-0.48,-0.34l-0.28,-1.44l-0.07,-0.14l-2.41,-2.84l-2.03,-3.89l0.08,-0.58l-0.1,-0.27l-1.08,-0.94l-1.87,-2.36l-0.33,-2.31l-0.07,-0.15l-1.24,-1.5l0.52,-2.4l-0.09,-2.57l-0.78,-2.3l0.96,-2.83l0.61,-5.66l-0.46,-4.26l-0.79,-2.71l-0.68,-1.4l0.13,-0.26l3.24,0.97l1.28,2.88l0.52,0.06l0.62,-0.84l0.06,-0.22l-0.4,-2.61l-0.74,-2.29l68.9,-0.0l0.3,-0.3l0.01,-0.95l0.32,-0.01ZM32.5,67.43l1.75,1.99l0.41,0.04l1.02,-0.81l3.79,0.25l-0.1,0.72l0.24,0.34l3.83,0.77l2.6,-0.44l5.21,1.41l4.84,0.43l1.9,0.57l0.15,0.01l3.25,-0.71l3.72,1.32l2.52,0.58l-0.03,38.14l0.29,0.3l2.41,0.11l2.34,1.0l1.7,1.59l2.22,2.42l0.42,0.03l2.41,-2.04l2.25,-1.08l1.23,1.76l1.71,1.53l2.24,1.62l1.54,2.56l2.56,4.09l0.11,0.11l4.1,2.17l0.06,1.93l-1.12,1.35l-1.22,-1.14l-2.08,-1.05l-0.68,-2.94l-0.09,-0.16l-3.18,-2.84l-1.32,-3.35l-0.25,-0.19l-2.43,-0.24l-3.93,-0.09l-2.85,-1.02l-5.24,-3.85l-6.77,-2.04l-3.52,0.3l-4.84,-1.7l-2.96,-1.6l-0.23,-0.02l-2.78,0.8l-0.21,0.35l0.46,2.31l-1.11,0.19l-2.9,0.78l-2.24,1.26l-2.42,0.68l-0.29,-1.79l1.07,-3.49l2.54,-1.11l0.12,-0.45l-0.69,-0.96l-0.41,-0.07l-3.19,2.12l-1.76,2.54l-3.57,2.62l-0.03,0.46l1.63,1.59l-2.14,2.38l-2.64,1.49l-2.49,1.09l-0.16,0.17l-0.58,1.48l-3.8,1.79l-0.14,0.14l-0.75,1.57l-2.75,1.41l-1.62,-0.25l-0.16,0.02l-2.35,0.98l-2.54,1.19l-2.06,1.15l-4.05,0.93l-0.1,-0.15l2.45,-1.45l2.49,-1.1l2.61,-1.88l3.03,-0.39l0.19,-0.1l1.2,-1.41l3.43,-2.11l0.61,-0.75l1.81,-1.24l0.13,-0.2l0.42,-2.7l1.24,-2.12l-0.03,-0.35l-0.34,-0.09l-2.73,1.05l-0.67,-0.53l-0.39,0.02l-1.13,1.11l-1.43,-1.62l-0.49,0.06l-0.41,0.8l-0.67,-1.31l-0.42,-0.12l-2.43,1.43l-1.18,-0.0l-0.18,-1.86l0.43,-1.3l-0.09,-0.33l-1.61,-1.33l-0.26,-0.06l-3.11,0.68l-2.0,-1.66l-1.61,-0.85l-0.01,-1.97l-0.11,-0.23l-1.76,-1.48l0.86,-1.96l2.01,-2.13l0.88,-1.94l1.79,-0.25l1.65,0.6l0.31,-0.06l1.91,-1.8l1.67,0.31l0.22,-0.04l1.91,-1.23l0.13,-0.33l-0.47,-1.82l-0.15,-0.19l-1.0,-0.52l1.51,-1.27l0.09,-0.34l-0.29,-0.19l-1.62,0.06l-2.66,0.88l-0.13,0.09l-0.62,0.72l-1.77,-0.8l-0.16,-0.02l-3.48,0.44l-3.5,-0.92l-1.06,-1.61l-2.78,-2.09l3.07,-1.51l5.52,-2.01l1.65,0.0l-0.28,1.73l0.31,0.35l5.29,-0.16l0.23,-0.49l-2.03,-2.59l-0.1,-0.08l-3.03,-1.58l-1.79,-2.12l-2.4,-1.83l-3.18,-1.27l1.13,-1.84l4.28,-0.14l0.15,-0.05l3.16,-2.0l0.13,-0.17l0.57,-2.07l2.43,-2.02l2.42,-0.52l4.67,-1.98l2.22,0.29l0.2,-0.04l3.74,-2.37l3.57,0.91ZM37.66,123.49l-2.31,1.26l-1.04,-0.75l-0.31,-1.35l2.06,-1.16l1.24,-0.51l1.48,0.22l0.76,0.81l-1.89,1.49ZM30.89,233.84l1.2,0.57l0.35,0.3l0.48,0.69l-1.6,0.86l-0.3,0.31l-0.24,-0.14l0.05,-0.54l-0.02,-0.15l-0.36,-0.83l0.05,-0.12l0.39,-0.38l0.07,-0.31l-0.09,-0.27ZM29.06,231.89l0.5,0.14l0.31,0.19l-0.46,0.1l-0.34,-0.43ZM25.02,230.13l0.2,-0.11l0.4,0.47l-0.43,-0.05l-0.17,-0.31ZM21.29,228.68l0.1,-0.07l0.22,0.02l0.02,0.21l-0.02,0.02l-0.32,-0.18ZM6.0,113.33l-1.19,0.45l-1.5,-0.64l-0.94,-0.63l1.76,-0.46l1.71,0.29l0.16,0.98Z",name:"United States of America"},LV:{path:"M473.99,127.16l0.07,-2.15l1.15,-2.11l2.05,-1.07l1.84,2.48l0.25,0.12l2.01,-0.07l0.29,-0.25l0.45,-2.58l1.85,-0.56l0.98,0.4l2.13,1.33l0.16,0.05l1.97,0.01l1.02,0.7l0.21,1.67l0.71,1.84l-2.44,1.23l-1.36,0.53l-2.28,-1.62l-0.12,-0.05l-1.18,-0.2l-0.28,-0.6l-0.31,-0.17l-2.43,0.35l-4.17,-0.23l-0.12,0.02l-2.45,0.93Z",name:"Latvia"},UY:{path:"M276.9,363.17l1.3,-0.23l2.4,2.04l0.22,0.07l0.82,-0.07l2.48,1.7l1.93,1.5l1.28,1.67l-0.95,1.14l-0.04,0.31l0.63,1.45l-0.96,1.57l-2.65,1.47l-1.73,-0.53l-0.15,-0.01l-1.25,0.28l-2.22,-1.16l-0.16,-0.03l-1.56,0.08l-1.33,-1.36l0.17,-1.58l0.48,-0.55l0.07,-0.2l-0.02,-2.74l0.66,-2.8l0.57,-2.02Z",name:"Uruguay"},LB:{path:"M510.44,198.11l-0.48,0.03l-0.26,0.17l-0.15,0.32l-0.21,-0.0l0.72,-1.85l1.19,-1.9l0.74,0.09l0.27,0.73l-1.19,0.93l-0.09,0.13l-0.54,1.36Z",name:"Lebanon"},LA:{path:"M684.87,248.8l0.61,-0.86l0.05,-0.16l0.11,-2.17l-0.08,-0.22l-1.96,-2.16l-0.15,-2.44l-0.08,-0.18l-1.9,-2.1l-0.19,-0.1l-1.89,-0.18l-0.29,0.15l-0.42,0.76l-1.21,0.06l-0.67,-0.41l-0.31,-0.0l-2.2,1.29l-0.05,-1.77l0.61,-2.7l-0.27,-0.37l-1.44,-0.1l-0.12,-1.31l-0.12,-0.21l-0.87,-0.65l0.38,-0.68l1.76,-1.41l0.08,0.22l0.27,0.2l1.33,0.07l0.31,-0.34l-0.35,-2.75l0.85,-0.25l1.32,1.88l1.11,2.36l0.27,0.17l2.89,0.02l0.78,1.82l-1.32,0.56l-0.12,0.09l-0.72,0.93l0.1,0.45l2.93,1.52l3.62,5.27l1.88,1.78l0.58,1.67l-0.38,2.11l-1.87,-0.79l-0.37,0.11l-0.99,1.54l-1.51,-0.73Z",name:"Laos"},TW:{path:"M725.6,222.5l-1.5,4.22l-0.82,1.65l-1.01,-1.7l-0.26,-1.8l1.4,-2.48l1.8,-1.81l0.76,0.53l-0.38,1.39Z",name:"Taiwan"},HK:{path:"M707.6,228.5l-0.5,0.22l-0.02,-0.2l-0.26,-0.3l0.4,-0.3l0.36,0.53l-0.38,0.39Z",name:"Hong Kong"},TT:{path:"M266.35,259.46l0.41,-0.39l0.09,-0.23l-0.04,-0.75l1.14,-0.26l0.2,0.03l-0.07,1.37l-1.73,0.23Z",name:"Trinidad and Tobago"},BB:{path:"M270.7,252.5l0.2,-0.2l0.02,-0.1l-0.02,-0.3l0.64,-0.26l0.2,0.03l-0.07,0.37l-0.13,0.23Z",name:"Barbados"},TR:{path:"M513.25,175.38l3.63,1.17l0.14,0.01l2.88,-0.45l2.11,0.26l0.18,-0.03l2.9,-1.53l2.51,-0.13l2.25,1.37l0.36,0.88l-0.23,1.36l0.19,0.33l1.81,0.72l0.61,0.53l-1.31,0.64l-0.16,0.34l0.76,3.24l-0.44,0.8l0.01,0.3l1.19,2.02l-0.71,0.29l-0.74,-0.62l-0.15,-0.07l-2.91,-0.37l-0.15,0.02l-1.04,0.43l-2.78,0.44l-1.44,-0.03l-2.83,1.06l-1.95,0.01l-1.28,-0.52l-0.2,-0.01l-2.62,0.76l-0.7,-0.48l-0.47,0.22l-0.13,1.49l-1.01,0.94l-0.58,-0.82l0.79,-0.9l0.04,-0.34l-0.31,-0.15l-1.46,0.23l-2.03,-0.64l-0.3,0.07l-1.65,1.58l-3.58,0.3l-1.94,-1.47l-0.17,-0.06l-2.7,-0.1l-0.28,0.17l-0.51,1.06l-1.47,0.29l-2.32,-1.46l-0.17,-0.05l-2.55,0.05l-1.4,-2.7l-1.72,-1.54l1.11,-2.06l-0.07,-0.37l-1.35,-1.19l2.47,-2.51l3.74,-0.11l0.26,-0.17l0.96,-2.07l4.56,0.38l0.19,-0.05l2.97,-1.92l2.84,-0.83l4.03,-0.06l4.31,2.08ZM488.85,176.8l-1.81,1.38l-0.57,-1.01l0.02,-0.36l0.45,-0.25l0.13,-0.15l0.78,-1.87l-0.11,-0.37l-0.72,-0.47l1.91,-0.71l1.89,0.35l0.25,0.97l0.17,0.2l1.87,0.83l-0.19,0.31l-2.82,0.16l-0.18,0.07l-1.06,0.91Z",name:"Turkey"},LK:{path:"M625.44,266.07l-0.35,2.4l-0.9,0.61l-1.91,0.5l-1.04,-1.75l-0.43,-3.5l1.0,-3.6l1.34,1.09l1.13,1.72l1.16,2.52Z",name:"Sri Lanka"},TN:{path:"M444.91,206.18l-0.99,-4.57l-0.12,-0.18l-1.43,-1.04l-0.02,-0.53l-0.11,-0.22l-1.95,-1.59l-0.19,-1.85l1.44,-1.47l0.08,-0.14l0.59,-2.34l-0.38,-2.77l0.44,-1.28l2.52,-1.08l1.41,0.28l-0.06,1.2l0.43,0.28l1.81,-0.9l0.02,0.06l-1.14,1.28l-0.08,0.2l-0.02,1.32l0.11,0.24l0.74,0.6l-0.29,2.18l-1.56,1.35l-0.09,0.32l0.48,1.54l0.28,0.21l1.11,0.04l0.55,1.17l0.15,0.14l0.76,0.35l-0.12,1.79l-1.1,0.72l-0.8,0.91l-1.68,1.04l-0.13,0.32l0.25,1.08l-0.18,0.96l-0.74,0.39Z",name:"Tunisia"},TL:{path:"M734.21,307.22l0.17,-0.34l1.99,-0.52l1.72,-0.08l0.78,-0.3l0.29,0.1l-0.43,0.32l-2.57,1.09l-1.71,0.59l-0.05,-0.49l-0.19,-0.36Z",name:"East Timor"},TM:{path:"M553.16,173.51l-0.12,1.0l-0.26,-0.65l0.38,-0.34ZM553.54,173.16l0.13,-0.12l0.43,-0.09l-0.56,0.21ZM555.68,172.6l0.65,-0.14l1.53,0.76l1.71,2.29l0.27,0.12l1.27,-0.14l2.81,-0.04l0.29,-0.38l-0.35,-1.27l1.98,-0.97l1.96,-1.63l3.05,1.44l0.25,2.23l0.14,0.22l0.96,0.61l0.18,0.05l2.61,-0.13l0.68,0.44l1.2,2.97l0.1,0.13l2.85,2.03l1.67,1.41l2.66,1.45l3.13,1.17l-0.05,1.23l-0.36,-0.04l-1.12,-0.73l-0.44,0.14l-0.34,0.89l-1.96,0.52l-0.22,0.23l-0.47,2.17l-1.26,0.78l-1.93,0.42l-0.21,0.18l-0.46,1.14l-1.64,0.33l-2.3,-0.97l-0.2,-2.23l-0.28,-0.27l-1.76,-0.1l-2.78,-2.48l-0.15,-0.07l-1.95,-0.31l-2.82,-1.48l-1.78,-0.27l-0.18,0.03l-1.03,0.51l-1.6,-0.08l-0.22,0.08l-1.72,1.6l-1.83,0.46l-0.39,-1.7l0.36,-3.0l-0.16,-0.3l-1.73,-0.88l0.57,-1.77l-0.25,-0.39l-1.33,-0.14l0.41,-1.85l2.05,0.63l0.21,-0.01l2.2,-0.95l0.09,-0.49l-1.78,-1.75l-0.69,-1.66l-0.07,-0.03Z",name:"Turkmenistan"},TJ:{path:"M597.99,178.71l-0.23,0.23l-2.57,-0.47l-0.35,0.25l-0.24,1.7l0.32,0.34l2.66,-0.22l3.15,0.95l4.47,-0.42l0.58,2.45l0.39,0.21l0.71,-0.25l1.22,0.53l-0.06,1.01l0.29,1.28l-2.19,-0.0l-1.71,-0.21l-0.23,0.07l-1.51,1.25l-1.05,0.27l-0.77,0.51l-0.71,-0.67l0.22,-2.28l-0.24,-0.32l-0.43,-0.08l0.17,-0.57l-0.16,-0.36l-1.36,-0.66l-0.34,0.05l-1.08,1.01l-0.09,0.15l-0.25,1.09l-0.24,0.26l-1.36,-0.05l-0.27,0.14l-0.65,1.06l-0.58,-0.39l-0.3,-0.02l-1.68,0.86l-0.36,-0.16l1.28,-2.65l0.02,-0.2l-0.54,-2.17l-0.18,-0.21l-1.53,-0.58l0.41,-0.82l1.89,0.13l0.26,-0.12l1.19,-1.63l0.77,-1.82l2.66,-0.55l-0.33,0.87l0.01,0.23l0.36,0.82l0.3,0.18l0.23,-0.02Z",name:"Tajikistan"},LS:{path:"M493.32,359.69l0.69,0.65l-0.65,1.12l-0.38,0.8l-1.27,0.39l-0.18,0.15l-0.4,0.77l-0.59,0.18l-1.59,-1.78l1.16,-1.5l1.3,-1.02l0.97,-0.46l0.94,0.72Z",name:"Lesotho"},TH:{path:"M677.42,253.68l-1.7,-0.88l-0.14,-0.03l-1.77,0.04l0.3,-1.64l-0.3,-0.35l-2.21,0.01l-0.3,0.28l-0.2,2.76l-2.15,5.9l-0.02,0.13l0.17,1.83l0.28,0.27l1.45,0.07l0.93,2.1l0.44,2.15l0.08,0.15l1.4,1.44l0.16,0.09l1.43,0.27l1.04,1.05l-0.58,0.73l-1.24,0.22l-0.15,-0.99l-0.15,-0.22l-2.04,-1.1l-0.36,0.06l-0.23,0.23l-0.72,-0.71l-0.41,-1.18l-0.06,-0.11l-1.33,-1.42l-1.22,-1.2l-0.5,0.13l-0.15,0.54l-0.14,-0.41l0.26,-1.48l0.73,-2.38l1.2,-2.57l1.37,-2.35l0.02,-0.27l-0.95,-2.26l0.03,-1.19l-0.29,-1.42l-0.06,-0.13l-1.65,-2.0l-0.46,-0.99l0.62,-0.34l0.13,-0.15l0.92,-2.23l-0.02,-0.27l-1.05,-1.74l-1.57,-1.86l-1.04,-1.96l0.76,-0.34l0.16,-0.16l1.07,-2.63l1.58,-0.1l0.16,-0.06l1.43,-1.11l1.24,-0.52l0.84,0.62l0.13,1.43l0.28,0.27l1.34,0.09l-0.54,2.39l0.05,2.39l0.45,0.25l2.48,-1.45l0.6,0.36l0.17,0.04l1.47,-0.07l0.25,-0.15l0.41,-0.73l1.58,0.15l1.76,1.93l0.15,2.44l0.08,0.18l1.94,2.15l-0.1,1.96l-0.66,0.93l-2.25,-0.34l-3.24,0.49l-0.19,0.12l-1.6,2.12l-0.06,0.24l0.48,2.46Z",name:"Thailand"},TF:{path:"M593.76,417.73l1.38,0.84l2.15,0.37l0.04,0.31l-0.59,1.24l-3.36,0.19l-0.05,-1.38l0.43,-1.56Z",name:"French Southern and Antarctic Lands"},TG:{path:"M425.23,269.29l-1.49,0.4l-0.43,-0.68l-0.64,-1.54l-0.18,-1.16l0.54,-2.21l-0.04,-0.24l-0.59,-0.86l-0.23,-1.9l0.0,-1.82l-0.07,-0.19l-0.95,-1.19l0.1,-0.41l1.58,0.04l-0.23,0.97l0.08,0.28l1.55,1.55l0.09,1.13l0.08,0.19l0.42,0.43l-0.11,5.66l0.52,1.53Z",name:"Togo"},TD:{path:"M457.57,252.46l0.23,-1.08l-0.28,-0.36l-1.32,-0.05l0.0,-1.35l-0.1,-0.22l-0.9,-0.82l0.99,-3.1l3.12,-2.37l0.12,-0.23l0.13,-3.33l0.95,-5.2l0.53,-1.09l-0.07,-0.36l-0.94,-0.81l-0.03,-0.7l-0.12,-0.23l-0.84,-0.61l-0.57,-3.76l2.21,-1.26l19.67,9.88l0.12,9.74l-1.83,-0.15l-0.28,0.14l-1.14,1.89l-0.68,1.62l0.05,0.31l0.33,0.38l-0.61,0.58l-0.08,0.3l0.25,0.93l-0.58,0.95l-0.29,1.01l0.34,0.37l0.67,-0.11l0.39,0.73l0.03,1.4l0.11,0.23l0.8,0.65l-0.01,0.24l-1.38,0.37l-0.11,0.06l-1.27,1.03l-1.83,2.76l-2.21,1.1l-2.34,-0.15l-0.82,0.25l-0.2,0.37l0.19,0.68l-1.16,0.79l-1.01,0.94l-2.92,0.89l-0.5,-0.46l-0.17,-0.08l-0.41,-0.05l-0.28,0.12l-0.38,0.54l-1.36,0.12l0.1,-0.18l0.01,-0.27l-0.78,-1.72l-0.35,-1.03l-0.17,-0.18l-1.03,-0.41l-1.29,-1.28l0.36,-0.78l0.9,0.2l0.14,-0.0l0.67,-0.17l1.36,0.02l0.26,-0.45l-1.32,-2.22l0.09,-1.64l-0.17,-1.68l-0.04,-0.13l-0.93,-1.53Z",name:"Chad"},LY:{path:"M457.99,226.38l-1.57,0.87l-1.25,-1.28l-0.13,-0.08l-3.85,-1.11l-1.04,-1.57l-0.09,-0.09l-1.98,-1.23l-0.27,-0.02l-0.93,0.39l-0.72,-1.2l-0.09,-1.07l-0.06,-0.16l-1.33,-1.75l0.83,-0.94l0.07,-0.24l-0.21,-1.64l0.31,-1.43l-0.17,-1.29l0.43,-2.26l-0.15,-1.33l-0.73,-2.18l0.99,-0.52l0.16,-0.21l0.22,-1.16l-0.22,-1.06l1.54,-0.95l0.81,-0.92l1.19,-0.78l0.14,-0.23l0.12,-1.76l2.57,0.84l0.16,0.01l0.99,-0.23l2.01,0.45l3.19,1.2l1.12,2.36l0.2,0.16l2.24,0.53l3.5,1.14l2.65,1.36l0.29,-0.01l1.22,-0.71l1.27,-1.32l0.07,-0.29l-0.55,-2.0l0.69,-1.19l1.7,-1.23l1.61,-0.35l3.2,0.54l0.78,1.14l0.24,0.13l0.85,0.01l0.84,0.47l2.35,0.31l0.42,0.63l-0.79,1.16l-0.04,0.26l0.35,1.08l-0.61,1.6l-0.0,0.2l0.73,2.16l0.0,24.24l-2.58,0.01l-0.3,0.29l-0.02,0.62l-19.55,-9.83l-0.28,0.01l-2.53,1.44Z",name:"Libya"},AE:{path:"M550.59,223.8l0.12,0.08l1.92,-0.41l3.54,0.15l0.23,-0.09l1.71,-1.79l1.86,-1.7l1.31,-1.36l0.26,0.5l0.28,1.72l-0.93,0.01l-0.3,0.26l-0.21,1.73l0.11,0.27l0.08,0.06l-0.7,0.32l-0.17,0.27l-0.01,0.99l-0.68,1.02l-0.05,0.15l-0.06,0.96l-0.32,0.36l-7.19,-1.27l-0.79,-2.22Z",name:"United Arab Emirates"},VE:{path:"M240.66,256.5l0.65,0.91l-0.03,1.13l-1.05,1.39l-0.03,0.31l0.95,2.0l0.32,0.17l1.08,-0.16l0.24,-0.21l0.56,-1.83l-0.06,-0.29l-0.71,-0.81l-0.1,-1.58l2.9,-0.96l0.19,-0.37l-0.29,-1.02l0.45,-0.41l0.72,1.43l0.26,0.16l1.65,0.04l1.46,1.27l0.08,0.72l0.3,0.27l2.28,0.02l2.55,-0.25l1.34,1.06l0.14,0.06l1.92,0.31l0.2,-0.03l1.4,-0.79l0.15,-0.25l0.02,-0.36l2.82,-0.14l1.17,-0.01l-0.41,0.14l-0.14,0.46l0.86,1.19l0.22,0.12l1.93,0.18l1.73,1.13l0.37,1.9l0.31,0.24l1.21,-0.05l0.52,0.32l-1.63,1.21l-0.11,0.17l-0.22,0.92l0.07,0.27l0.63,0.69l-0.31,0.24l-1.48,0.39l-0.22,0.3l0.04,1.03l-0.59,0.6l-0.01,0.41l1.67,1.87l0.23,0.48l-0.72,0.76l-2.71,0.91l-1.78,0.39l-0.13,0.06l-0.6,0.49l-1.84,-0.58l-1.89,-0.33l-0.18,0.03l-0.47,0.23l-0.02,0.53l0.96,0.56l-0.08,1.58l0.35,1.58l0.26,0.23l1.91,0.19l0.02,0.07l-1.54,0.62l-0.18,0.2l-0.25,0.92l-0.88,0.35l-1.85,0.58l-0.16,0.13l-0.4,0.64l-1.66,0.14l-1.22,-1.18l-0.79,-2.52l-0.67,-0.88l-0.66,-0.43l0.99,-0.98l0.09,-0.26l-0.09,-0.56l-0.08,-0.16l-0.66,-0.69l-0.47,-1.54l0.18,-1.67l0.55,-0.85l0.45,-1.35l-0.15,-0.36l-0.89,-0.43l-0.19,-0.02l-1.39,0.28l-1.76,-0.13l-0.92,0.23l-1.64,-2.01l-0.17,-0.1l-1.54,-0.33l-3.05,0.23l-0.5,-0.73l-0.15,-0.12l-0.45,-0.15l-0.05,-0.28l0.28,-0.86l0.01,-0.15l-0.2,-1.01l-0.08,-0.15l-0.5,-0.5l-0.3,-1.08l-0.25,-0.22l-0.89,-0.12l0.54,-1.18l0.29,-1.73l0.66,-0.85l0.94,-0.7l0.09,-0.11l0.3,-0.6Z",name:"Venezuela"},AF:{path:"M574.42,192.1l2.24,0.95l0.18,0.02l1.89,-0.38l0.22,-0.18l0.46,-1.14l1.82,-0.4l1.5,-0.91l0.14,-0.19l0.46,-2.12l1.93,-0.51l0.2,-0.18l0.26,-0.68l0.87,0.57l0.13,0.05l0.79,0.09l1.35,0.02l1.83,0.59l0.75,0.34l0.26,-0.01l1.66,-0.85l0.7,0.46l0.42,-0.09l0.72,-1.17l1.32,0.05l0.23,-0.1l0.39,-0.43l0.07,-0.14l0.24,-1.08l0.86,-0.81l0.94,0.46l-0.2,0.64l0.23,0.38l0.49,0.09l-0.21,2.15l0.09,0.25l0.99,0.94l0.38,0.03l0.83,-0.57l1.06,-0.27l0.12,-0.06l1.46,-1.21l1.63,0.2l2.4,0.0l0.17,0.32l-1.12,0.25l-1.23,0.52l-2.86,0.33l-2.69,0.6l-0.13,0.06l-1.46,1.25l-0.07,0.36l0.58,1.18l0.25,1.21l-1.13,1.08l-0.09,0.25l0.09,0.98l-0.53,0.79l-2.22,-0.08l-0.28,0.44l0.83,1.57l-1.3,0.58l-0.13,0.11l-1.06,1.69l-0.05,0.18l0.13,1.51l-0.73,0.58l-0.78,-0.22l-0.14,-0.01l-1.91,0.36l-0.23,0.19l-0.2,0.57l-1.65,-0.0l-0.22,0.1l-1.4,1.56l-0.08,0.19l-0.08,2.13l-2.99,1.05l-1.67,-0.23l-0.27,0.1l-0.39,0.46l-1.43,-0.31l-2.43,0.4l-3.69,-1.23l1.96,-2.15l0.08,-0.24l-0.21,-1.78l-0.23,-0.26l-1.69,-0.42l-0.19,-1.62l-0.77,-2.08l0.98,-1.41l-0.14,-0.45l-0.82,-0.31l0.6,-1.79l0.93,-3.21Z",name:"Afghanistan"},IQ:{path:"M534.42,190.89l0.13,0.14l1.5,0.78l0.15,1.34l-1.13,0.87l-0.11,0.16l-0.58,2.2l0.04,0.24l1.73,2.67l0.12,0.1l2.99,1.49l1.18,1.94l-0.39,1.89l0.29,0.36l0.5,-0.0l0.02,1.17l0.08,0.2l0.83,0.86l-2.36,-0.29l-0.29,0.13l-1.74,2.49l-4.4,-0.21l-7.03,-5.49l-3.73,-1.94l-2.92,-0.74l-0.89,-3.0l5.33,-2.81l0.15,-0.19l0.95,-3.43l-0.2,-2.0l1.19,-0.61l0.11,-0.09l1.23,-1.73l0.92,-0.38l2.75,0.35l0.81,0.68l0.31,0.05l0.94,-0.38l1.5,3.17Z",name:"Iraq"},IS:{path:"M384.26,87.96l-0.51,2.35l0.08,0.28l2.61,2.58l-2.99,2.83l-7.16,2.72l-2.08,0.7l-9.51,-1.71l1.89,-1.36l-0.07,-0.53l-4.4,-1.59l3.33,-0.59l0.25,-0.32l-0.11,-1.2l-0.25,-0.27l-4.82,-0.88l1.38,-2.2l3.54,-0.57l3.8,2.74l0.33,0.01l3.68,-2.18l3.02,1.12l0.25,-0.02l4.01,-2.18l3.72,0.27Z",name:"Iceland"},IR:{path:"M556.2,187.5l2.05,-0.52l0.13,-0.07l1.69,-1.57l1.55,0.08l0.15,-0.03l1.02,-0.5l1.64,0.25l2.82,1.48l1.91,0.3l2.8,2.49l0.18,0.08l1.61,0.09l0.19,2.09l-1.0,3.47l-0.69,2.04l0.18,0.38l0.73,0.28l-0.85,1.22l-0.04,0.28l0.81,2.19l0.19,1.72l0.23,0.26l1.69,0.42l0.17,1.43l-2.18,2.39l-0.01,0.4l1.22,1.42l1.0,1.62l0.12,0.11l2.23,1.11l0.06,2.2l0.2,0.27l1.03,0.38l0.14,0.83l-3.38,1.3l-0.18,0.19l-0.87,2.85l-4.44,-0.76l-2.75,-0.62l-2.64,-0.32l-1.01,-3.11l-0.17,-0.19l-1.2,-0.48l-0.18,-0.01l-1.99,0.51l-2.42,1.25l-2.89,-0.84l-2.48,-2.03l-2.41,-0.79l-1.61,-2.47l-1.84,-3.63l-0.36,-0.15l-1.22,0.4l-1.48,-0.84l-0.37,0.06l-0.72,0.82l-1.08,-1.12l-0.02,-1.35l-0.3,-0.29l-0.43,0.0l0.34,-1.64l-0.04,-0.22l-1.29,-2.11l-0.12,-0.11l-3.0,-1.49l-1.62,-2.49l0.52,-1.98l1.18,-0.92l0.11,-0.27l-0.19,-1.66l-0.16,-0.23l-1.55,-0.81l-1.58,-3.33l-1.3,-2.2l0.41,-0.75l0.03,-0.21l-0.73,-3.12l1.2,-0.59l0.35,0.9l1.26,1.35l0.15,0.09l1.81,0.39l0.91,-0.09l0.15,-0.06l2.9,-2.13l0.7,-0.16l0.48,0.56l-0.75,1.26l0.05,0.37l1.56,1.53l0.28,0.08l0.37,-0.09l0.7,1.89l0.21,0.19l2.31,0.59l1.69,1.4l0.15,0.07l3.66,0.49l3.91,-0.76l0.23,-0.19l0.19,-0.52Z",name:"Iran"},AM:{path:"M530.51,176.08l2.91,-0.39l0.41,0.63l0.11,0.1l0.66,0.36l-0.32,0.47l0.07,0.41l1.1,0.84l-0.53,0.7l0.06,0.42l1.06,0.8l1.01,0.44l0.04,1.56l-0.44,0.04l-0.88,-1.46l0.01,-0.37l-0.3,-0.31l-0.98,0.01l-0.65,-0.69l-0.26,-0.09l-0.38,0.06l-0.97,-0.82l-1.64,-0.65l0.2,-1.2l-0.02,-0.16l-0.28,-0.69Z",name:"Armenia"},IT:{path:"M451.68,158.58l0.2,0.16l3.3,0.75l-0.22,1.26l0.02,0.18l0.35,0.78l-1.4,-0.32l-0.21,0.03l-2.04,1.1l-0.16,0.29l0.13,1.47l-0.29,0.82l0.02,0.24l0.82,1.57l0.1,0.11l2.28,1.5l1.29,2.53l2.79,2.43l0.2,0.07l1.83,-0.02l0.31,0.34l-0.46,0.39l0.06,0.5l4.06,1.97l2.06,1.49l0.17,0.36l-0.24,0.53l-1.08,-1.07l-0.15,-0.08l-2.18,-0.49l-0.33,0.15l-1.05,1.91l0.11,0.4l1.63,0.98l-0.22,1.12l-0.84,0.14l-0.22,0.15l-1.27,2.38l-0.54,0.12l0.01,-0.47l0.48,-1.46l0.5,-0.58l0.03,-0.35l-0.97,-1.69l-0.76,-1.48l-0.17,-0.15l-0.94,-0.33l-0.68,-1.18l-0.16,-0.13l-1.53,-0.52l-1.03,-1.14l-0.19,-0.1l-1.78,-0.19l-1.88,-1.3l-2.27,-1.94l-1.64,-1.68l-0.76,-2.94l-0.21,-0.21l-1.22,-0.35l-2.01,-1.0l-0.24,-0.01l-1.15,0.42l-0.11,0.07l-1.38,1.36l-0.5,0.11l0.19,-0.87l-0.21,-0.35l-1.19,-0.34l-0.56,-2.06l0.76,-0.82l0.03,-0.36l-0.68,-1.08l0.04,-0.31l0.68,0.42l0.19,0.04l1.21,-0.15l0.14,-0.06l1.18,-0.89l0.25,0.29l0.25,0.1l1.19,-0.1l0.25,-0.18l0.45,-1.04l1.61,0.34l0.19,-0.02l1.1,-0.53l0.17,-0.22l0.15,-0.95l1.19,0.35l0.35,-0.16l0.23,-0.47l2.11,-0.47l0.45,0.89ZM459.35,184.63l-0.71,1.81l0.0,0.23l0.33,0.79l-0.37,1.03l-1.6,-0.91l-1.33,-0.34l-3.24,-1.36l0.23,-0.99l2.73,0.24l3.95,-0.5ZM443.95,175.91l1.26,1.77l-0.31,3.47l-0.82,-0.13l-0.26,0.08l-0.83,0.79l-0.64,-0.52l-0.1,-3.42l-0.44,-1.34l0.91,0.1l0.21,-0.06l1.01,-0.74Z",name:"Italy"},VN:{path:"M690.8,230.21l-2.86,1.93l-2.09,2.46l-0.06,0.11l-0.55,1.8l0.04,0.26l4.26,6.1l2.31,1.63l1.46,1.97l1.12,4.62l-0.32,4.3l-1.97,1.57l-2.85,1.62l-2.09,2.14l-2.83,2.13l-0.67,-1.19l0.65,-1.58l-0.09,-0.35l-1.47,-1.14l1.67,-0.79l2.57,-0.18l0.22,-0.47l-0.89,-1.24l3.88,-1.8l0.17,-0.24l0.31,-3.05l-0.01,-0.13l-0.56,-1.63l0.44,-2.48l-0.01,-0.15l-0.63,-1.81l-0.08,-0.12l-1.87,-1.77l-3.64,-5.3l-0.11,-0.1l-2.68,-1.39l0.45,-0.59l1.53,-0.65l0.16,-0.39l-0.97,-2.27l-0.27,-0.18l-2.89,-0.02l-1.04,-2.21l-1.28,-1.83l0.96,-0.46l1.97,0.01l2.43,-0.3l0.13,-0.05l1.95,-1.29l1.04,0.85l0.13,0.06l1.98,0.42l-0.32,1.21l0.09,0.3l1.19,1.07l0.12,0.07l1.88,0.51Z",name:"Vietnam"},AR:{path:"M258.11,341.34l1.4,1.81l0.51,-0.06l0.89,-1.94l2.51,0.1l0.36,0.49l4.6,4.31l0.15,0.08l1.99,0.39l3.01,1.93l2.5,1.01l0.28,0.91l-2.4,3.97l0.17,0.44l2.57,0.74l2.81,0.41l2.09,-0.44l0.14,-0.07l2.27,-2.06l0.09,-0.17l0.38,-2.2l0.88,-0.36l1.05,1.29l-0.04,1.88l-1.98,1.4l-1.72,1.13l-2.84,2.65l-3.34,3.73l-0.07,0.12l-0.63,2.22l-0.67,2.85l0.02,2.73l-0.47,0.54l-0.07,0.17l-0.36,3.28l0.12,0.27l3.03,2.32l-0.31,1.78l0.11,0.29l1.44,1.15l-0.11,1.17l-2.32,3.57l-3.59,1.51l-4.95,0.6l-2.72,-0.29l-0.32,0.38l0.5,1.67l-0.49,2.13l0.01,0.16l0.4,1.29l-1.27,0.88l-2.41,0.39l-2.33,-1.05l-0.31,0.04l-0.97,0.78l-0.11,0.27l0.35,2.98l0.16,0.23l1.69,0.91l0.31,-0.02l1.08,-0.75l0.46,0.96l-2.1,0.88l-2.01,1.89l-0.09,0.18l-0.36,3.05l-0.51,1.42l-2.16,0.01l-0.19,0.07l-1.96,1.59l-0.1,0.15l-0.72,2.34l0.08,0.31l2.46,2.31l0.13,0.07l2.09,0.56l-0.74,2.45l-2.86,1.75l-0.12,0.14l-1.59,3.71l-2.2,1.24l-0.1,0.09l-1.03,1.54l-0.04,0.23l0.81,3.45l0.06,0.13l1.13,1.32l-2.59,-0.57l-5.89,-0.44l-0.92,-1.73l0.05,-2.4l-0.34,-0.3l-1.49,0.19l-0.72,-0.98l-0.2,-3.21l1.79,-1.33l0.1,-0.13l0.79,-2.04l0.02,-0.16l-0.27,-1.52l1.31,-2.69l0.91,-4.15l-0.23,-1.72l0.91,-0.49l0.15,-0.33l-0.27,-1.16l-0.15,-0.2l-0.87,-0.46l0.65,-1.01l-0.04,-0.37l-1.06,-1.09l-0.54,-3.2l0.83,-0.51l0.14,-0.29l-0.42,-3.6l0.58,-2.98l0.64,-2.5l1.41,-1.0l0.12,-0.32l-0.75,-2.8l-0.01,-2.48l1.81,-1.78l0.09,-0.22l-0.06,-2.3l1.39,-2.69l0.03,-0.14l0.01,-2.58l-0.11,-0.24l-0.57,-0.45l-1.1,-4.59l1.49,-2.73l0.04,-0.17l-0.23,-2.59l0.86,-2.38l1.6,-2.48l1.74,-1.65l0.04,-0.39l-0.64,-0.89l0.42,-0.7l0.04,-0.16l-0.08,-4.26l2.55,-1.23l0.16,-0.18l0.86,-2.75l-0.01,-0.22l-0.22,-0.48l1.84,-2.1l3.0,0.59ZM256.77,438.98l-2.1,0.15l-1.18,-1.14l-0.19,-0.08l-1.53,-0.09l-2.38,-0.0l-0.0,-6.28l0.4,0.65l1.25,2.55l0.11,0.12l3.26,2.07l3.19,0.8l-0.82,1.26Z",name:"Argentina"},AU:{path:"M705.55,353.06l0.09,0.09l0.37,0.05l0.13,-0.35l-0.57,-1.69l0.48,0.3l0.71,0.99l0.34,0.11l0.2,-0.29l-0.04,-1.37l-0.04,-0.14l-1.22,-2.07l-0.28,-0.9l-0.51,-0.69l0.24,-1.33l0.52,-0.7l0.34,-1.32l0.01,-0.13l-0.25,-1.44l0.51,-0.94l0.1,1.03l0.23,0.26l0.32,-0.14l1.01,-1.72l1.94,-0.84l1.27,-1.14l1.84,-0.92l1.0,-0.18l0.6,0.28l0.26,-0.0l1.94,-0.96l1.48,-0.28l0.19,-0.13l0.32,-0.49l0.51,-0.18l1.42,0.05l2.63,-0.76l0.11,-0.06l1.36,-1.15l0.08,-0.1l0.61,-1.33l1.42,-1.27l0.1,-0.19l0.11,-1.03l0.06,-1.32l1.39,-1.74l0.85,1.79l0.4,0.14l1.07,-0.51l0.11,-0.45l-0.77,-1.05l0.53,-0.84l0.86,0.43l0.43,-0.22l0.29,-1.85l1.29,-1.19l0.6,-0.98l1.16,-0.4l0.2,-0.27l0.02,-0.34l0.74,0.2l0.38,-0.27l0.03,-0.44l1.98,-0.61l1.7,1.08l1.36,1.48l0.22,0.1l1.55,0.02l1.57,0.24l0.33,-0.4l-0.48,-1.27l1.09,-1.86l1.06,-0.63l0.1,-0.42l-0.28,-0.46l0.93,-1.24l1.36,-0.8l1.16,0.27l0.14,0.0l2.1,-0.48l0.23,-0.3l-0.05,-1.3l-0.18,-0.26l-1.08,-0.49l0.44,-0.12l1.52,0.58l1.39,1.06l2.11,0.65l0.19,-0.0l0.59,-0.21l1.44,0.72l0.27,0.0l1.37,-0.68l0.84,0.2l0.26,-0.06l0.37,-0.3l0.82,0.89l-0.56,1.14l-0.84,0.91l-0.75,0.07l-0.26,0.38l0.26,0.9l-0.67,1.15l-0.88,1.24l-0.05,0.25l0.18,0.72l0.12,0.17l1.99,1.42l1.96,0.84l1.25,0.86l1.8,1.51l0.19,0.07l0.63,-0.0l1.15,0.58l0.34,0.7l0.17,0.15l2.39,0.88l0.24,-0.02l1.65,-0.88l0.14,-0.16l0.49,-1.37l0.52,-1.19l0.31,-1.39l0.75,-2.02l0.01,-0.19l-0.33,-1.16l0.16,-0.67l0.0,-0.13l-0.28,-1.41l0.3,-1.78l0.42,-0.45l0.05,-0.33l-0.33,-0.73l0.56,-1.25l0.48,-1.39l0.07,-0.69l0.58,-0.59l0.48,0.84l0.17,1.53l0.17,0.24l0.47,0.23l0.09,0.9l0.05,0.14l0.87,1.23l0.17,1.33l-0.09,0.89l0.03,0.15l0.9,2.0l0.43,0.13l1.38,-0.83l0.71,0.92l1.06,0.88l-0.22,0.96l0.0,0.14l0.53,2.2l0.38,1.3l0.15,0.18l0.52,0.26l0.62,2.01l-0.23,1.27l0.02,0.18l0.81,1.76l0.14,0.14l2.69,1.35l3.21,2.21l-0.2,0.4l0.04,0.34l1.39,1.6l0.95,2.78l0.43,0.16l0.79,-0.46l0.85,0.96l0.39,0.05l0.22,-0.15l0.36,2.33l0.09,0.18l1.78,1.63l1.16,1.01l1.9,2.1l0.67,2.05l0.06,1.47l-0.17,1.64l0.03,0.17l1.16,2.22l-0.14,2.28l-0.43,1.24l-0.68,2.44l0.04,1.63l-0.48,1.92l-1.06,2.43l-1.79,1.32l-0.1,0.12l-0.91,2.15l-0.82,1.37l-0.76,2.47l-0.98,1.46l-0.63,2.14l-0.33,2.02l0.1,0.82l-1.21,0.85l-2.71,0.1l-0.13,0.03l-2.31,1.19l-1.21,1.17l-1.34,1.11l-1.89,-1.18l-1.33,-0.46l0.32,-1.24l-0.4,-0.35l-1.46,0.61l-2.06,1.98l-1.99,-0.73l-1.43,-0.46l-1.45,-0.22l-2.32,-0.81l-1.51,-1.67l-0.45,-2.11l-0.6,-1.5l-0.07,-0.11l-1.23,-1.16l-0.16,-0.08l-1.96,-0.28l0.59,-0.99l0.03,-0.24l-0.61,-2.1l-0.54,-0.08l-1.16,1.85l-1.23,0.29l0.73,-0.88l0.06,-0.12l0.37,-1.57l0.93,-1.33l0.05,-0.2l-0.2,-2.07l-0.53,-0.17l-2.01,2.35l-1.52,0.94l-0.12,0.14l-0.82,1.93l-1.5,-0.9l0.07,-1.32l-0.06,-0.2l-1.57,-2.04l-1.15,-0.92l0.3,-0.41l-0.1,-0.44l-3.21,-1.69l-0.13,-0.03l-1.69,-0.08l-2.35,-1.31l-0.16,-0.04l-4.55,0.27l-3.24,0.99l-2.8,0.91l-2.33,-0.18l-0.17,0.03l-2.63,1.41l-2.14,0.64l-0.2,0.19l-0.47,1.42l-0.8,0.99l-1.99,0.06l-1.55,0.24l-2.27,-0.5l-1.79,0.3l-1.71,0.13l-0.19,0.09l-1.38,1.39l-0.58,-0.1l-0.21,0.04l-1.26,0.8l-1.13,0.85l-1.72,-0.1l-1.6,-0.0l-2.58,-1.76l-1.21,-0.49l0.04,-1.19l1.04,-0.32l0.16,-0.12l0.42,-0.64l0.05,-0.19l-0.09,-0.97l0.3,-2.0l-0.28,-1.64l-1.34,-2.84l-0.39,-1.49l0.1,-1.51l-0.04,-0.17l-0.96,-1.72l-0.06,-0.73l-0.09,-0.19l-1.04,-1.01l-0.3,-2.02l-0.05,-0.12l-1.23,-1.83ZM784.95,393.35l2.39,1.01l0.2,0.01l3.26,-0.96l1.19,0.16l0.16,3.19l-0.78,0.95l-0.07,0.16l-0.19,1.83l-0.43,-0.41l-0.44,0.03l-1.61,1.96l-0.4,-0.12l-1.38,-0.09l-1.43,-2.42l-0.37,-2.03l-1.4,-2.53l0.04,-0.94l1.27,0.2Z",name:"Australia"},IL:{path:"M509.04,199.22l0.71,0.0l0.27,-0.17l0.15,-0.33l0.19,-0.01l0.02,0.73l-0.27,0.34l0.02,0.08l-0.32,0.62l-0.65,-0.27l-0.41,0.19l-0.52,1.85l0.16,0.35l0.14,0.07l-0.17,0.1l-0.14,0.21l-0.11,0.73l0.39,0.33l0.81,-0.26l0.03,0.64l-0.97,3.43l-1.28,-3.67l0.62,-0.78l-0.03,-0.41l0.58,-1.16l0.5,-2.07l0.27,-0.54Z",name:"Israel"},IN:{path:"M615.84,192.58l2.4,2.97l-0.24,2.17l0.05,0.2l0.94,1.35l-0.06,0.97l-1.46,-0.3l-0.35,0.36l0.7,3.06l0.12,0.18l2.46,1.75l3.11,1.72l-1.23,0.96l-0.1,0.13l-0.97,2.55l0.16,0.38l2.41,1.02l2.37,1.33l3.27,1.52l3.43,0.37l1.37,1.3l0.17,0.08l1.92,0.25l3.0,0.62l2.15,-0.04l0.28,-0.22l0.29,-1.06l0.0,-0.13l-0.32,-1.66l0.16,-0.94l1.0,-0.37l0.23,2.28l0.18,0.24l2.28,1.02l0.2,0.02l1.52,-0.41l2.06,0.18l2.08,-0.08l0.29,-0.27l0.18,-1.66l-0.1,-0.26l-0.53,-0.44l1.38,-0.23l0.15,-0.07l2.26,-2.0l2.75,-1.65l1.97,0.63l0.25,-0.03l1.54,-0.99l0.89,1.28l-0.72,0.97l0.2,0.48l2.49,0.37l0.11,0.61l-0.69,0.39l-0.15,0.3l0.15,1.22l-1.36,-0.37l-0.23,0.03l-3.24,1.86l-0.15,0.28l0.07,1.44l-1.33,2.16l-0.04,0.13l-0.12,1.24l-0.98,1.91l-1.72,-0.53l-0.39,0.28l-0.09,2.66l-0.52,0.83l-0.04,0.23l0.21,0.89l-0.71,0.36l-1.21,-3.85l-0.29,-0.21l-0.69,0.01l-0.29,0.23l-0.28,1.17l-0.84,-0.84l0.6,-1.17l0.97,-0.13l0.23,-0.16l1.15,-2.25l-0.18,-0.42l-1.54,-0.47l-2.3,0.04l-2.13,-0.33l-0.19,-1.63l-0.26,-0.26l-1.13,-0.13l-1.93,-1.13l-0.42,0.13l-0.88,1.82l0.08,0.37l1.47,1.15l-1.21,0.77l-0.1,0.1l-0.56,0.97l0.13,0.42l1.31,0.61l-0.36,1.35l0.01,0.2l0.85,1.95l0.37,2.05l-0.26,0.68l-1.55,-0.02l-3.09,0.54l-0.25,0.32l0.13,1.84l-1.21,1.4l-3.64,1.79l-2.79,3.04l-1.86,1.61l-2.48,1.68l-0.13,0.25l-0.0,1.0l-1.07,0.55l-2.21,0.9l-1.13,0.13l-0.25,0.19l-0.75,1.96l-0.02,0.15l0.52,3.31l0.13,2.03l-1.03,2.35l-0.03,0.12l-0.01,4.03l-1.02,0.1l-0.23,0.15l-1.14,1.93l0.04,0.36l0.44,0.48l-1.83,0.57l-0.18,0.15l-0.81,1.65l-0.74,0.53l-2.14,-2.12l-1.14,-3.47l-0.96,-2.57l-0.9,-1.26l-1.3,-2.38l-0.61,-3.14l-0.44,-1.62l-2.29,-3.56l-1.03,-4.94l-0.74,-3.29l0.01,-3.12l-0.49,-2.51l-0.41,-0.22l-3.56,1.53l-1.59,-0.28l-2.96,-2.87l0.94,-0.74l0.06,-0.41l-0.74,-1.03l-2.73,-2.1l1.35,-1.43l5.38,0.01l0.29,-0.36l-0.5,-2.29l-0.09,-0.15l-1.33,-1.28l-0.27,-1.96l-0.12,-0.2l-1.36,-1.0l2.42,-2.48l2.77,0.2l0.24,-0.1l2.62,-2.85l1.59,-2.8l2.41,-2.74l0.07,-0.2l-0.04,-1.82l2.01,-1.51l-0.01,-0.49l-1.95,-1.33l-0.83,-1.81l-0.82,-2.27l0.98,-0.97l3.64,0.66l2.89,-0.42l0.17,-0.08l2.18,-2.15Z",name:"India"},TZ:{path:"M505.77,287.58l0.36,0.23l8.95,5.03l0.15,1.3l0.13,0.21l3.4,2.37l-1.07,2.88l-0.02,0.14l0.15,1.42l0.15,0.23l1.47,0.84l0.05,0.42l-0.66,1.44l-0.02,0.18l0.13,0.72l-0.16,1.16l0.03,0.19l0.87,1.57l1.03,2.48l0.12,0.14l0.53,0.32l-1.59,1.18l-2.64,0.95l-1.45,-0.04l-0.2,0.07l-0.81,0.69l-1.64,0.06l-0.68,0.3l-2.9,-0.69l-1.71,0.17l-0.65,-3.18l-0.05,-0.12l-1.35,-1.88l-0.19,-0.12l-2.41,-0.46l-1.38,-0.74l-1.63,-0.44l-0.96,-0.41l-0.95,-0.58l-1.31,-3.09l-1.47,-1.46l-0.45,-1.31l0.24,-1.34l-0.39,-1.99l0.71,-0.08l0.18,-0.09l0.91,-0.91l0.98,-1.31l0.59,-0.5l0.11,-0.24l-0.02,-0.81l-0.08,-0.2l-0.47,-0.5l-0.1,-0.67l0.51,-0.23l0.18,-0.25l0.14,-1.47l-0.05,-0.2l-0.76,-1.09l0.45,-0.15l2.71,0.03l5.01,-0.19Z",name:"Tanzania"},AZ:{path:"M539.36,175.66l0.16,0.09l1.11,0.2l0.32,-0.15l0.4,-0.71l1.22,-0.99l1.11,1.33l1.26,2.09l0.22,0.14l1.06,0.13l0.28,0.29l-1.46,0.17l-0.26,0.24l-0.43,2.26l-0.39,0.92l-0.85,0.63l-0.12,0.25l0.06,1.2l-0.22,0.05l-1.28,-1.25l0.74,-1.25l-0.03,-0.35l-0.74,-0.86l-0.3,-0.1l-1.05,0.27l-2.49,1.82l-0.04,-1.46l-0.18,-0.27l-1.09,-0.47l-0.8,-0.6l0.53,-0.7l-0.06,-0.42l-1.11,-0.84l0.34,-0.51l-0.11,-0.43l-0.89,-0.48l-0.33,-0.49l0.25,-0.2l1.78,0.81l1.35,0.18l0.25,-0.09l0.34,-0.35l0.02,-0.39l-1.04,-1.36l0.28,-0.18l0.49,0.07l1.65,1.74ZM533.53,180.16l0.63,0.67l0.22,0.09l0.8,-0.0l0.04,0.31l0.66,1.09l-0.94,-0.21l-1.16,-1.24l-0.25,-0.71Z",name:"Azerbaijan"},IE:{path:"M405.17,135.35l0.36,2.16l-1.78,2.84l-4.28,1.91l-3.02,-0.43l1.81,-3.13l0.02,-0.26l-1.23,-3.26l3.24,-2.56l1.54,-1.32l0.37,1.33l-0.49,1.77l0.3,0.38l1.49,-0.05l1.68,0.63Z",name:"Ireland"},ID:{path:"M756.56,287.86l0.69,4.02l0.15,0.21l2.59,1.5l0.39,-0.07l2.05,-2.61l2.75,-1.45l2.09,-0.0l2.08,0.85l1.85,0.89l2.52,0.46l0.08,15.44l-1.72,-1.6l-0.15,-0.07l-2.54,-0.51l-0.29,0.1l-0.53,0.62l-2.53,0.06l0.78,-1.51l1.48,-0.66l0.17,-0.34l-0.65,-2.74l-1.23,-2.19l-0.14,-0.13l-4.85,-2.13l-2.09,-0.23l-3.7,-2.28l-0.41,0.1l-0.67,1.11l-0.63,0.14l-0.41,-0.67l-0.01,-1.01l-0.14,-0.25l-1.39,-0.89l2.05,-0.69l1.73,0.05l0.29,-0.39l-0.21,-0.66l-0.29,-0.21l-3.5,-0.0l-0.9,-1.36l-0.19,-0.13l-2.14,-0.44l-0.65,-0.76l2.86,-0.51l1.28,-0.79l3.75,0.96l0.32,0.76ZM758.01,300.37l-0.79,1.04l-0.14,-1.07l0.4,-0.81l0.29,-0.47l0.24,0.31l-0.0,1.0ZM747.45,292.9l0.48,1.02l-1.45,-0.69l-2.09,-0.21l-1.45,0.16l-1.28,-0.07l0.35,-0.81l2.86,-0.1l2.58,0.68ZM741.15,285.69l-0.16,-0.25l-0.72,-3.08l0.47,-1.86l0.35,-0.38l0.1,0.73l0.25,0.26l1.28,0.19l0.18,0.78l-0.11,1.8l-0.96,-0.18l-0.35,0.22l-0.38,1.52l0.05,0.24ZM741.19,285.75l0.76,0.97l-0.11,0.05l-0.65,-1.02ZM739.18,293.52l-0.61,0.54l-1.44,-0.38l-0.25,-0.55l1.93,-0.09l0.36,0.48ZM728.4,295.87l-0.27,-0.07l-2.26,0.89l-0.37,-0.41l0.27,-0.8l-0.09,-0.33l-1.68,-1.37l0.17,-2.29l-0.42,-0.3l-1.67,0.76l-0.17,0.29l0.21,2.92l0.09,3.34l-1.22,0.28l-0.78,-0.54l0.65,-2.1l0.01,-0.14l-0.39,-2.42l-0.29,-0.25l-0.86,-0.02l-0.63,-1.4l0.99,-1.61l0.35,-1.97l1.24,-3.73l0.49,-0.96l1.95,-1.7l1.86,0.69l3.16,0.35l2.92,-0.1l0.17,-0.06l2.24,-1.65l0.11,0.14l-1.8,2.22l-1.72,0.44l-2.41,-0.48l-4.21,0.13l-2.19,0.36l-0.25,0.24l-0.36,1.9l0.08,0.27l2.24,2.23l0.4,0.02l1.29,-1.08l3.19,-0.58l-0.19,0.06l-1.04,1.4l-2.13,0.94l-0.12,0.45l2.26,3.06l-0.37,0.69l0.03,0.32l1.51,1.95ZM728.48,295.97l0.59,0.76l-0.02,1.37l-1.0,0.55l-0.64,-0.58l1.09,-1.84l-0.02,-0.26ZM728.64,286.95l0.79,-0.14l-0.07,0.39l-0.72,-0.24ZM732.38,310.1l-1.89,0.49l-0.06,-0.06l0.17,-0.64l1.0,-1.42l2.14,-0.87l0.1,0.2l0.04,0.58l-1.49,1.72ZM728.26,305.71l-0.17,0.63l-3.53,0.67l-3.02,-0.28l-0.0,-0.42l1.66,-0.44l1.47,0.71l0.16,0.03l1.75,-0.21l1.69,-0.69ZM722.98,310.33l-0.74,0.03l-2.52,-1.35l1.42,-0.3l1.19,0.7l0.72,0.63l-0.06,0.28ZM716.24,305.63l0.66,0.49l0.22,0.06l1.35,-0.18l0.31,0.53l-4.18,0.77l-0.8,-0.01l0.51,-0.86l1.2,-0.02l0.24,-0.12l0.49,-0.65ZM715.84,280.21l0.09,0.34l2.25,1.86l-2.25,0.22l-0.24,0.17l-0.84,1.71l-0.03,0.15l0.1,2.11l-2.27,1.62l-0.13,0.24l-0.06,2.46l-0.74,2.92l-0.02,-0.05l-0.39,-0.16l-2.62,1.04l-0.86,-1.33l-0.23,-0.14l-1.71,-0.14l-1.19,-0.76l-0.25,-0.03l-2.78,0.84l-0.79,-1.05l-0.26,-0.12l-1.61,0.13l-1.8,-0.25l-0.36,-3.13l-0.15,-0.23l-1.18,-0.65l-1.13,-2.02l-0.33,-2.1l0.27,-2.19l1.05,-1.17l0.28,1.12l0.1,0.16l1.71,1.41l0.28,0.05l1.55,-0.49l1.54,0.17l0.23,-0.07l1.4,-1.21l1.05,-0.19l2.3,0.68l0.16,0.0l2.04,-0.53l0.21,-0.19l1.26,-3.41l0.91,-0.82l0.09,-0.14l0.8,-2.64l2.63,0.0l1.71,0.33l-1.19,1.89l0.02,0.34l1.74,2.24l-0.37,1.0ZM692.67,302.0l0.26,0.19l4.8,0.25l0.28,-0.16l0.44,-0.83l4.29,1.12l0.85,1.52l0.23,0.15l3.71,0.45l2.37,1.15l-2.06,0.69l-2.77,-1.0l-2.25,0.07l-2.57,-0.18l-2.31,-0.45l-2.94,-0.97l-1.84,-0.25l-0.13,0.01l-0.97,0.29l-4.34,-0.98l-0.38,-0.94l-0.25,-0.19l-1.76,-0.14l1.31,-1.84l2.81,0.14l1.97,0.96l0.95,0.19l0.28,0.74ZM685.63,299.27l-2.36,0.04l-2.07,-2.05l-3.17,-2.02l-1.06,-1.5l-1.88,-2.02l-1.22,-1.85l-1.9,-3.49l-2.2,-2.11l-0.71,-2.08l-0.94,-1.99l-0.1,-0.12l-2.21,-1.54l-1.35,-2.17l-1.86,-1.39l-2.53,-2.68l-0.14,-0.81l1.22,0.08l3.76,0.47l2.16,2.4l1.94,1.7l1.37,1.04l2.35,2.67l0.22,0.1l2.44,0.04l1.99,1.62l1.42,2.06l0.09,0.09l1.67,1.0l-0.88,1.8l0.11,0.39l1.44,0.87l0.13,0.04l0.68,0.05l0.41,1.62l0.87,1.4l0.22,0.14l1.71,0.21l1.06,1.38l-0.61,3.04l-0.09,3.6Z",name:"Indonesia"},UA:{path:"M500.54,141.42l0.9,0.13l0.27,-0.11l0.52,-0.62l0.68,0.13l2.43,-0.3l1.32,1.57l-0.45,0.48l-0.07,0.26l0.21,1.03l0.27,0.24l1.85,0.15l0.76,1.22l-0.05,0.55l0.2,0.31l3.18,1.15l0.18,0.01l1.75,-0.47l1.42,1.41l0.22,0.09l1.42,-0.03l3.44,0.99l0.02,0.65l-0.97,1.62l-0.03,0.24l0.52,1.67l-0.29,0.79l-2.24,0.22l-0.14,0.05l-1.29,0.89l-0.13,0.23l-0.07,1.16l-1.75,0.22l-0.12,0.04l-1.6,0.98l-2.27,0.16l-0.12,0.04l-2.16,1.17l-0.16,0.29l0.15,1.94l0.14,0.23l1.23,0.75l0.18,0.04l2.06,-0.15l-0.22,0.51l-2.67,0.54l-3.27,1.72l-1.0,-0.45l0.45,-1.19l-0.19,-0.39l-2.34,-0.78l0.15,-0.2l2.32,-1.0l0.09,-0.49l-0.73,-0.72l-0.15,-0.08l-3.69,-0.75l-0.14,-0.96l-0.35,-0.25l-2.32,0.39l-0.21,0.15l-0.91,1.7l-1.77,2.1l-0.93,-0.44l-0.24,-0.0l-1.05,0.45l-0.48,-0.25l0.13,-0.07l0.14,-0.15l0.43,-1.04l0.67,-0.97l0.04,-0.26l-0.1,-0.31l0.04,-0.02l0.11,0.19l0.24,0.15l1.48,0.09l0.78,-0.25l0.07,-0.53l-0.27,-0.19l0.09,-0.25l-0.08,-0.33l-0.81,-0.74l-0.34,-1.24l-0.14,-0.18l-0.73,-0.42l0.15,-0.87l-0.11,-0.29l-1.13,-0.86l-0.15,-0.06l-0.97,-0.11l-1.79,-0.97l-0.2,-0.03l-1.66,0.32l-0.13,0.06l-0.52,0.41l-0.95,-0.0l-0.23,0.11l-0.56,0.66l-1.74,0.29l-0.79,0.43l-1.01,-0.68l-0.16,-0.05l-1.57,-0.01l-1.52,-0.35l-0.23,0.04l-0.71,0.45l-0.09,-0.43l-0.13,-0.19l-1.18,-0.74l0.38,-1.02l0.53,-0.64l0.35,0.12l0.37,-0.41l-0.57,-1.29l2.1,-2.5l1.16,-0.36l0.2,-0.2l0.27,-0.92l-0.01,-0.2l-1.1,-2.52l0.79,-0.09l0.13,-0.05l1.3,-0.86l1.83,-0.07l2.48,0.26l2.84,0.8l1.91,0.06l0.88,0.45l0.29,-0.01l0.72,-0.44l0.49,0.58l0.25,0.11l2.2,-0.16l0.94,0.3l0.39,-0.26l0.15,-1.57l0.61,-0.59l2.01,-0.19Z",name:"Ukraine"},QA:{path:"M548.47,221.47l-0.15,-1.72l0.59,-1.23l0.38,-0.16l0.54,0.6l0.04,1.4l-0.47,1.37l-0.41,0.11l-0.53,-0.37Z",name:"Qatar"},MZ:{path:"M507.71,314.14l1.65,-0.18l2.96,0.7l0.2,-0.02l0.6,-0.29l1.68,-0.06l0.18,-0.07l0.8,-0.69l1.5,0.02l2.74,-0.98l1.74,-1.27l0.25,0.7l-0.1,2.47l0.31,2.27l0.1,3.97l0.42,1.24l-0.7,1.71l-0.94,1.73l-1.52,1.52l-5.06,2.21l-2.88,2.8l-1.01,0.51l-1.72,1.81l-0.99,0.58l-0.15,0.23l-0.21,1.86l0.04,0.19l1.17,1.95l0.47,1.47l0.03,0.74l0.39,0.28l0.05,-0.01l-0.06,2.13l-0.39,1.19l0.1,0.33l0.42,0.32l-0.28,0.83l-0.95,0.86l-2.03,0.88l-3.08,1.49l-1.1,0.99l-0.09,0.28l0.21,1.13l0.21,0.23l0.38,0.11l-0.14,0.89l-1.39,-0.02l-0.17,-0.94l-0.38,-1.23l-0.2,-0.89l0.44,-2.91l-0.01,-0.14l-0.65,-1.88l-1.15,-3.55l2.52,-2.85l0.68,-1.89l0.29,-0.18l0.14,-0.2l0.28,-1.53l-0.03,-0.19l-0.36,-0.7l0.1,-1.83l0.49,-1.84l-0.01,-3.26l-0.14,-0.25l-1.3,-0.83l-0.11,-0.04l-1.08,-0.17l-0.47,-0.55l-0.1,-0.08l-1.16,-0.54l-0.13,-0.03l-1.83,0.04l-0.32,-2.25l7.19,-1.99l1.32,1.12l0.29,0.06l0.55,-0.19l0.75,0.49l0.11,0.81l-0.49,1.11l-0.02,0.15l0.19,1.81l0.09,0.18l1.63,1.59l0.48,-0.1l0.72,-1.68l0.99,-0.49l0.17,-0.29l-0.21,-3.29l-0.04,-0.13l-1.11,-1.92l-0.9,-0.82l-0.21,-0.08l-0.62,0.03l-0.63,-2.98l0.61,-1.67Z",name:"Mozambique"}},height:440.7063107441331,projection:{type:"mill",centralMeridian:11.5},width:900});(function(){if(typeof Math.sgn=="undefined"){Math.sgn=function(a){return a==0?0:a>0?1:-1}}var Q={subtract:function(a,b){return{x:a.x-b.x,y:a.y-b.y}},dotProduct:function(a,b){return(a.x*b.x)+(a.y*b.y)},square:function(a){return Math.sqrt((a.x*a.x)+(a.y*a.y))},scale:function(b,a){return{x:b.x*a,y:b.y*a}}},C=64,H=Math.pow(2,-C-1);var L=function(e,a){var h=[],f=U(e,a),n=a.length-1,b=(2*n)-1,l=J(f,b,h,0),d=Q.subtract(e,a[0]),g=Q.square(d),c=0;for(var m=0;m<l;m++){d=Q.subtract(e,D(a,n,h[m],null,null));var o=Q.square(d);if(o<g){g=o;c=h[m]}}d=Q.subtract(e,a[n]);o=Q.square(d);if(o<g){g=o;c=1}return{location:c,distance:g}};var aa=function(c,b){var a=L(c,b);return{point:D(b,b.length-1,a.location,null,null),location:a.location}};var U=function(d,q){var n=q.length-1,a=(2*n)-1,f=[],h=[],t=[],e=[],g=[[1,0.6,0.3,0.1],[0.4,0.6,0.6,0.4],[0.1,0.3,0.6,1]];for(var l=0;l<=n;l++){f[l]=Q.subtract(q[l],d)}for(var l=0;l<=n-1;l++){h[l]=Q.subtract(q[l+1],q[l]);h[l]=Q.scale(h[l],3)}for(var c=0;c<=n-1;c++){for(var o=0;o<=n;o++){if(!t[c]){t[c]=[]}t[c][o]=Q.dotProduct(h[c],f[o])}}for(l=0;l<=a;l++){if(!e[l]){e[l]=[]}e[l].y=0;e[l].x=parseFloat(l)/a}var s=n,p=n-1;for(var m=0;m<=s+p;m++){var u=Math.max(0,m-p),b=Math.min(m,s);for(l=u;l<=b;l++){j=m-l;e[l+j].y+=t[j][l]*g[j][l]}}return e};var J=function(f,n,c,l){var a=[],d=[],h,g,e=[],b=[];switch(Z(f,n)){case 0:return 0;case 1:if(l>=C){c[0]=(f[0].x+f[n].x)/2;return 1}if(W(f,n)){c[0]=S(f,n);return 1}break}D(f,n,0.5,a,d);h=J(a,n,e,l+1);g=J(d,n,b,l+1);for(var m=0;m<h;m++){c[m]=e[m]}for(var m=0;m<g;m++){c[m+h]=b[m]}return(h+g)};var Z=function(a,b){var c=0,e,f;e=f=Math.sgn(a[0].y);for(var d=1;d<=b;d++){e=Math.sgn(a[d].y);if(e!=f){c++}f=e}return c};var W=function(p,w){var g,x,y,n,q,c,d,e,u,v,a,s,m,b,t,o;c=p[0].y-p[w].y;d=p[w].x-p[0].x;e=p[0].x*p[w].y-p[w].x*p[0].y;var h=max_distance_below=0;for(var f=1;f<w;f++){var l=c*p[f].x+d*p[f].y+e;if(l>h){h=l}else{if(l<max_distance_below){max_distance_below=l}}}a=0;s=1;m=0;b=c;t=d;o=e-h;u=a*t-b*s;v=1/u;x=(s*o-t*m)*v;b=c;t=d;o=e-max_distance_below;u=a*t-b*s;v=1/u;y=(s*o-t*m)*v;n=Math.min(x,y);q=Math.max(x,y);g=q-n;return(g<H)?1:0};var S=function(n,m){var g=1,e=0,d=n[m].x-n[0].x,c=n[m].y-n[0].y,b=n[0].x-0,l=n[0].y-0,f=d*e-c*g,a=1/f,h=(d*l-c*b)*a;return 0+g*h};var D=function(a,b,d,c,e){var h=[[]];for(var g=0;g<=b;g++){h[0][g]=a[g]}for(var f=1;f<=b;f++){for(var g=0;g<=b-f;g++){if(!h[f]){h[f]=[]}if(!h[f][g]){h[f][g]={}}h[f][g].x=(1-d)*h[f-1][g].x+d*h[f-1][g+1].x;h[f][g].y=(1-d)*h[f-1][g].y+d*h[f-1][g+1].y}}if(c!=null){for(g=0;g<=b;g++){c[g]=h[g][0]}}if(e!=null){for(g=0;g<=b;g++){e[g]=h[b-g][g]}}return(h[b][0])};var F={};var T=function(m){var c=F[m];if(!c){c=[];var l=function(){return function(o){return Math.pow(o,m)}},n=function(){return function(o){return Math.pow((1-o),m)}},e=function(o){return function(p){return o}},d=function(){return function(o){return o}},b=function(){return function(o){return 1-o}},a=function(o){return function(q){var p=1;for(var s=0;s<o.length;s++){p=p*o[s](q)}return p}};c.push(new l());for(var f=1;f<m;f++){var g=[new e(m)];for(var h=0;h<(m-f);h++){g.push(new d())}for(var h=0;h<f;h++){g.push(new b())}c.push(new a(g))}c.push(new n());F[m]=c}return c};var O=function(b,f){var a=T(b.length-1),d=0,e=0;for(var c=0;c<b.length;c++){d=d+(b[c].x*a[c](f));e=e+(b[c].y*a[c](f))}return{x:d,y:e}};var V=function(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))};var E=function(a){return a[0].x==a[1].x&&a[0].y==a[1].y};var P=function(b,g,a){if(E(b)){return{point:b[0],location:g}}var e=O(b,g),h=0,f=g,d=a>0?1:-1,c=null;while(h<Math.abs(a)){f+=(0.005*d);c=O(b,f);h+=V(c,e);e=c}return{point:c,location:f}};var I=function(a){if(E(a)){return 0}var d=O(a,0),f=0,e=0,c=1,b=null;while(e<1){e+=(0.005*c);b=O(a,e);f+=V(b,d);d=b}return f};var K=function(b,c,a){return P(b,c,a).point};var ab=function(b,c,a){return P(b,c,a).location};var N=function(a,e){var b=O(a,e),c=O(a.slice(0,a.length-1),e),f=c.y-b.y,d=c.x-b.x;return f==0?Infinity:Math.atan(f/d)};var G=function(b,d,a){var c=P(b,d,a);if(c.location>1){c.location=1}if(c.location<0){c.location=0}return N(b,c.location)};var M=function(h,d,l,b){b=b==null?0:b;var a=P(h,d,b),g=N(h,a.location),c=Math.atan(-1/g),f=l/2*Math.sin(c),e=l/2*Math.cos(c);return[{x:a.point.x+e,y:a.point.y+f},{x:a.point.x-e,y:a.point.y-f}]};var R=window.jsBezier={distanceFromCurve:L,gradientAtPoint:N,gradientAtPointAlongCurveFrom:G,nearestPointOnCurve:aa,pointOnCurve:O,pointAlongCurveFrom:K,perpendicularToCurveAt:M,locationAlongCurveFrom:ab,getLength:I}})();(function(){var n=function(a){return Object.prototype.toString.call(a)==="[object Array]"},t=function(a){return Object.prototype.toString.call(a)==="[object Number]"},x=function(a){return typeof a==="string"},o=function(a){return typeof a==="boolean"},v=function(a){return a==null},u=function(a){return a==null?false:Object.prototype.toString.call(a)==="[object Object]"},p=function(a){return Object.prototype.toString.call(a)==="[object Date]"},s=function(a){return Object.prototype.toString.call(a)==="[object Function]"},q=function(a){for(var b in a){if(a.hasOwnProperty(b)){return false}}return true},w=function(a,b,c){a=n(a)?a:[a.x,a.y];b=n(b)?b:[b.x,b.y];return c(a,b)};jsPlumbUtil={isArray:n,isString:x,isBoolean:o,isNull:v,isObject:u,isDate:p,isFunction:s,isEmpty:q,isNumber:t,clone:function(d){if(x(d)){return""+d}else{if(o(d)){return !!d}else{if(p(d)){return new Date(d.getTime())}else{if(s(d)){return d}else{if(n(d)){var e=[];for(var b=0;b<d.length;b++){e.push(this.clone(d[b]))}return e}else{if(u(d)){var a={};for(var c in d){a[c]=this.clone(d[c])}return a}else{return d}}}}}}},merge:function(e,f){var a=this.clone(e);for(var b in f){if(a[b]==null||x(f[b])||o(f[b])){a[b]=f[b]}else{if(n(f[b])){var d=[];if(n(a[b])){d.push.apply(d,a[b])}d.push.apply(d,f[b]);a[b]=d}else{if(u(f[b])){if(!u(a[b])){a[b]={}}for(var c in f[b]){a[b][c]=f[b][c]}}}}}return a},copyValues:function(c,a,b){for(var d=0;d<c.length;d++){b[c[d]]=a[c[d]]}},functionChain:function(c,a,d){for(var e=0;e<d.length;e++){var b=d[e][0][d[e][1]].apply(d[e][0],d[e][2]);if(b===a){return b}}return c},populate:function(b,c){var d=function(e){var g=e.match(/(\$\{.*?\})/g);if(g!=null){for(var h=0;h<g.length;h++){var f=c[g[h].substring(2,g[h].length-1)];if(f!=null){e=e.replace(g[h],f)}}}return e},a=function(e){if(e!=null){if(x(e)){return d(e)}else{if(n(e)){var f=[];for(var h=0;h<e.length;h++){f.push(a(e[h]))}return f}else{if(u(e)){var g={};for(var l in e){g[l]=a(e[l])}return g}else{return e}}}}};return a(b)},convertStyle:function(f,g){if("transparent"===f){return f}var a=f,b=function(h){return h.length==1?"0"+h:h},e=function(h){return b(Number(h).toString(16))},d=/(rgb[a]?\()(.*)(\))/;if(f.match(d)){var c=f.match(d)[2].split(",");a="#"+e(c[0])+e(c[1])+e(c[2]);if(!g&&c.length==4){a=a+e(c[3])}}return a},gradient:function(a,b){return w(a,b,function(c,d){if(d[0]==c[0]){return d[1]>c[1]?Infinity:-Infinity}else{if(d[1]==c[1]){return d[0]>c[0]?0:-0}else{return(d[1]-c[1])/(d[0]-c[0])}}})},normal:function(a,b){return -1/this.gradient(a,b)},lineLength:function(a,b){return w(a,b,function(c,d){return Math.sqrt(Math.pow(d[1]-c[1],2)+Math.pow(d[0]-c[0],2))})},segment:function(a,b){return w(a,b,function(c,d){if(d[0]>c[0]){return(d[1]>c[1])?2:1}else{if(d[0]==c[0]){return d[1]>c[1]?2:1}else{return(d[1]>c[1])?3:4}}})},theta:function(a,b){return w(a,b,function(e,f){var g=jsPlumbUtil.gradient(e,f),d=Math.atan(g),c=jsPlumbUtil.segment(e,f);if((c==4||c==3)){d+=Math.PI}if(d<0){d+=(2*Math.PI)}return d})},intersects:function(l,m){var b=l.x,d=l.x+l.w,e=l.y,g=l.y+l.h,a=m.x,c=m.x+m.w,f=m.y,h=m.y+m.h;return((b<=a&&a<=d)&&(e<=f&&f<=g))||((b<=c&&c<=d)&&(e<=f&&f<=g))||((b<=a&&a<=d)&&(e<=h&&h<=g))||((b<=c&&a<=d)&&(e<=h&&h<=g))||((a<=b&&b<=c)&&(f<=e&&e<=h))||((a<=d&&d<=c)&&(f<=e&&e<=h))||((a<=b&&b<=c)&&(f<=g&&g<=h))||((a<=d&&b<=c)&&(f<=g&&g<=h))},segmentMultipliers:[null,[1,-1],[1,1],[-1,1],[-1,-1]],inverseSegmentMultipliers:[null,[-1,-1],[-1,1],[1,1],[1,-1]],pointOnLine:function(d,l,c){var a=jsPlumbUtil.gradient(d,l),e=jsPlumbUtil.segment(d,l),f=c>0?jsPlumbUtil.segmentMultipliers[e]:jsPlumbUtil.inverseSegmentMultipliers[e],b=Math.atan(a),h=Math.abs(c*Math.sin(b))*f[1],g=Math.abs(c*Math.cos(b))*f[0];return{x:d.x+g,y:d.y+h}},perpendicularLineTo:function(e,d,c){var f=jsPlumbUtil.gradient(e,d),b=Math.atan(-1/f),a=c/2*Math.sin(b),g=c/2*Math.cos(b);return[{x:d.x+g,y:d.y+a},{x:d.x-g,y:d.y-a}]},findWithFunction:function(c,a){if(c){for(var b=0;b<c.length;b++){if(a(c[b])){return b}}}return -1},clampToGrid:function(f,a,d,b,c){var e=function(z,m){var g=z%m,l=Math.floor(z/m),h=g>=(m/2)?1:0;return(l+h)*m};return[b||d==null?f:e(f,d[0]),c||d==null?a:e(a,d[1])]},indexOf:function(b,a){return jsPlumbUtil.findWithFunction(b,function(c){return c==a})},removeWithFunction:function(b,a){var c=jsPlumbUtil.findWithFunction(b,a);if(c>-1){b.splice(c,1)}return c!=-1},remove:function(b,a){var c=jsPlumbUtil.indexOf(b,a);if(c>-1){b.splice(c,1)}return c!=-1},addWithFunction:function(a,b,c){if(jsPlumbUtil.findWithFunction(a,c)==-1){a.push(b)}},addToList:function(a,d,b,c){var e=a[d];if(e==null){e=[];a[d]=e}e[c?"unshift":"push"](b);return e},extend:function(a,c,d,b){d=d||{};b=b||{};c=n(c)?c:[c];for(var e=0;e<c.length;e++){for(var f in c[e].prototype){if(c[e].prototype.hasOwnProperty(f)){a.prototype[f]=c[e].prototype[f]}}}var g=function(l){return function(){for(var m=0;m<c.length;m++){if(c[m].prototype[l]){c[m].prototype[l].apply(this,arguments)}}return d[l].apply(this,arguments)}};for(var h in d){a.prototype[h]=g(h)}return a},uuid:function(){return("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0,c=a=="x"?b:(b&3|8);return c.toString(16)}))},logEnabled:true,log:function(){if(jsPlumbUtil.logEnabled&&typeof console!="undefined"){try{var a=arguments[arguments.length-1];console.log(a)}catch(b){}}},group:function(a){if(jsPlumbUtil.logEnabled&&typeof console!="undefined"){console.group(a)}},groupEnd:function(a){if(jsPlumbUtil.logEnabled&&typeof console!="undefined"){console.groupEnd(a)}},time:function(a){if(jsPlumbUtil.logEnabled&&typeof console!="undefined"){console.time(a)}},timeEnd:function(a){if(jsPlumbUtil.logEnabled&&typeof console!="undefined"){console.timeEnd(a)}},removeElement:function(a){if(a!=null&&a.parentNode!=null){a.parentNode.removeChild(a)}},removeElements:function(a){for(var b=0;b<a.length;b++){jsPlumbUtil.removeElement(a[b])}},sizeElement:function(b,e,a,d,c){if(b){b.style.height=c+"px";b.height=c;b.style.width=d+"px";b.width=d;b.style.left=e+"px";b.style.top=a+"px"}},wrap:function(a,c,b){a=a||function(){};c=c||function(){};return function(){var e=null;try{e=c.apply(this,arguments)}catch(d){jsPlumbUtil.log("jsPlumb function failed : "+d)}if(b==null||(e!==b)){try{e=a.apply(this,arguments)}catch(d){jsPlumbUtil.log("wrapped function failed : "+d)}}return e}}};jsPlumbUtil.EventGenerator=function(){var b={},a=false;var c=["ready"];this.bind=function(e,d,f){jsPlumbUtil.addToList(b,e,d,true);return this};this.fire=function(e,d,m){if(!a&&b[e]){var h=b[e].length,f=0,l=false,g=null;if(!this.shouldFireEvent||this.shouldFireEvent(e,d,m)){while(!l&&f<h&&g!==false){if(jsPlumbUtil.findWithFunction(c,function(y){return y===e})!=-1){b[e][f](d,m)}else{try{g=b[e][f](d,m)}catch(z){jsPlumbUtil.log("jsPlumb: fire failed for event "+e+" : "+z)}}f++;if(b==null||b[e]==null){l=true}}}}return this};this.unbind=function(d){if(d){delete b[d]}else{b={}}return this};this.getListener=function(d){return b[d]};this.setSuspendEvents=function(d){a=d};this.isSuspendEvents=function(){return a};this.cleanupListeners=function(){for(var d in b){b[d].splice(0);delete b[d]}}};jsPlumbUtil.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}};if(!Function.prototype.bind){Function.prototype.bind=function(e){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var a=Array.prototype.slice.call(arguments,1),b=this,d=function(){},c=function(){return b.apply(this instanceof d&&e?this:e,a.concat(Array.prototype.slice.call(arguments)))};d.prototype=this.prototype;c.prototype=new d();return c}}})();(function(){var e=!!document.createElement("canvas").getContext,f=!!window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),g=function(){if(g.vml===undefined){var a=document.body.appendChild(document.createElement("div"));a.innerHTML='<v:shape id="vml_flag1" adj="1" />';var b=a.firstChild;if(b!=null&&b.style!=null){b.style.behavior="url(#default#VML)";g.vml=b?typeof b.adj=="object":true}else{g.vml=false}a.parentNode.removeChild(a)}return g.vml};var h=function(a){var b={},c=[],n={},o={},d={};this.register=function(v){var w=jsPlumb.CurrentLibrary,l=w.getElementObject(v),m=a.getId(v),x=w.getOffset(l);if(!b[m]){b[m]=v;c.push(v);n[m]={}}var u=function(B,t){if(B){for(var s=0;s<B.childNodes.length;s++){if(B.childNodes[s].nodeType!=3&&B.childNodes[s].nodeType!=8){var p=w.getElementObject(B.childNodes[s]),A=a.getId(B.childNodes[s],null,true);if(A&&o[A]&&o[A]>0){var q=w.getOffset(p);n[m][A]={id:A,offset:{left:q.left-x.left,top:q.top-x.top}};d[A]=m}u(B.childNodes[s])}}}};u(v)};this.updateOffsets=function(E){var B=jsPlumb.CurrentLibrary,m=B.getElementObject(E),F=B.getDOMElement(m),y=a.getId(F),l=n[y],z=B.getOffset(m);if(l){for(var C in l){var A=B.getElementObject(C),D=B.getOffset(A);n[y][C]={id:C,offset:{left:D.left-z.left,top:D.top-z.top}};d[C]=y}}};this.endpointAdded=function(l){var G=jsPlumb.CurrentLibrary,D=document.body,B=a.getId(l),E=G.getElementObject(l),C=jsPlumb.CurrentLibrary.getOffset(E),p=l.parentNode,I=p==D;o[B]=o[B]?o[B]+1:1;while(p!=null&&p!=D){var H=a.getId(p,null,true);if(H&&b[H]){var m=-1,F=G.getElementObject(p),J=G.getOffset(F);if(n[H][B]==null){n[H][B]={id:B,offset:{left:C.left-J.left,top:C.top-J.top}};d[B]=H}break}p=p.parentNode}};this.endpointDeleted=function(l){if(o[l.elementId]){o[l.elementId]--;if(o[l.elementId]<=0){for(var m in n){if(n[m]){delete n[m][l.elementId];delete d[l.elementId]}}}}};this.changeId=function(l,m){n[m]=n[l];n[l]={};d[m]=d[l];d[l]=null};this.getElementsForDraggable=function(l){return n[l]};this.elementRemoved=function(m){var l=d[m];if(l){delete n[l][m];delete d[m]}};this.reset=function(){b={};c=[];n={};o={}}};if(!window.console){window.console={time:function(){},timeEnd:function(){},group:function(){},groupEnd:function(){},log:function(){}}}window.jsPlumbAdapter={headless:false,getAttribute:function(b,a){return b.getAttribute(a)},setAttribute:function(a,c,b){a.setAttribute(c,b)},appendToRoot:function(a){document.body.appendChild(a)},getRenderModes:function(){return["canvas","svg","vml"]},isRenderModeAvailable:function(a){return{canvas:e,svg:f,vml:g()}[a]},getDragManager:function(a){return new h(a)},setRenderMode:function(a){var b;if(a){a=a.toLowerCase();var d=this.isRenderModeAvailable("canvas"),m=this.isRenderModeAvailable("svg"),c=this.isRenderModeAvailable("vml");if(a==="svg"){if(m){b="svg"}else{if(d){b="canvas"}else{if(c){b="vml"}}}}else{if(a==="canvas"&&d){b="canvas"}else{if(c){b="vml"}}}}return b}}})();(function(){var aa=jsPlumbUtil,G=function(a,b){T.CurrentLibrary.addClass(W(a),b)},V=function(a,b){return T.CurrentLibrary.hasClass(W(a),b)},U=function(a,b){T.CurrentLibrary.removeClass(W(a),b)},W=function(a){return T.CurrentLibrary.getElementObject(a)},M=function(a){return T.CurrentLibrary.getDOMElement(a)},I=function(c,d){var a=T.CurrentLibrary.getOffset(W(c));if(d!=null&&a!=null){var b=d.getZoom();return{left:a.left/b,top:a.top/b}}else{return a}},af=function(a){return T.CurrentLibrary.getSize(W(a))},R=function(){return""+(new Date()).getTime()},O=function(b){if(b._jsPlumb.paintStyle&&b._jsPlumb.hoverPaintStyle){var a={};T.extend(a,b._jsPlumb.paintStyle);T.extend(a,b._jsPlumb.hoverPaintStyle);delete b._jsPlumb.hoverPaintStyle;if(a.gradient&&b._jsPlumb.paintStyle.fillStyle){delete a.gradient}b._jsPlumb.hoverPaintStyle=a}},ab=["click","dblclick","mouseenter","mouseout","mousemove","mousedown","mouseup","contextmenu"],J={mouseout:"mouseexit"},N=function(e,a,b,f){var c=e.getAttachedElements();if(c){for(var d=0,g=c.length;d<g;d++){if(!f||f!=c[d]){c[d].setHover(a,true,b)}}}},S=function(a){return a==null?null:a.split(" ")},P=function(f,b,d){if(f.getDefaultType){var a=f.getTypeDescriptor();var c=aa.merge({},f.getDefaultType());for(var e=0,g=f._jsPlumb.types.length;e<g;e++){c=aa.merge(c,f._jsPlumb.instance.getType(f._jsPlumb.types[e],a))}if(b){c=aa.populate(c,b)}f.applyType(c,d);if(!d){f.repaint()}}},F=window.jsPlumbUIComponent=function(g){jsPlumbUtil.EventGenerator.apply(this,arguments);var a=this,b=arguments,n=a.idPrefix,h=n+(new Date()).getTime(),d=T.CurrentLibrary;this._jsPlumb={instance:g._jsPlumb,parameters:g.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:false,beforeDetach:g.beforeDetach,beforeDrop:g.beforeDrop,overlayPlacements:[],hoverClass:g.hoverClass||g._jsPlumb.Defaults.HoverClass||T.Defaults.HoverClass,types:[]};this.getId=function(){return h};if(g.events){for(var e in g.events){a.bind(e,g.events[e])}}this.clone=function(){var p={};this.constructor.apply(p,b);return p}.bind(this);this.isDetachAllowed=function(s){var q=true;if(this._jsPlumb.beforeDetach){try{q=this._jsPlumb.beforeDetach(s)}catch(p){aa.log("jsPlumb: beforeDetach callback failed",p)}}return q};this.isDropAllowed=function(q,u,t,w,v){var s=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:q,targetId:u,scope:t,connection:w,dropEndpoint:v});if(this._jsPlumb.beforeDrop){try{s=this._jsPlumb.beforeDrop({sourceId:q,targetId:u,scope:t,connection:w,dropEndpoint:v})}catch(p){aa.log("jsPlumb: beforeDrop callback failed",p)}}return s};var f=[],c=function(p,q,s){f.push([p,q,s]);p.bind(q,s)},m=[],l=function(q,p,t){var u=J[t]||t,s=function(v){p.fire(u,p,v)};m.push([q,t,s]);d.bind(q,t,s)},o=function(p,s,q){var t=J[s]||s;d.unbind(p,s,q)};this.bindListeners=function(p,s,q){c(p,"click",function(u,t){s.fire("click",s,t)});c(p,"dblclick",function(u,t){s.fire("dblclick",s,t)});c(p,"contextmenu",function(u,t){s.fire("contextmenu",s,t)});c(p,"mouseenter",function(u,t){if(!s.isHover()){q(true);s.fire("mouseenter",s,t)}});c(p,"mouseexit",function(u,t){if(s.isHover()){q(false);s.fire("mouseexit",s,t)}});c(p,"mousedown",function(u,t){s.fire("mousedown",s,t)});c(p,"mouseup",function(u,t){s.fire("mouseup",s,t)})};this.unbindListeners=function(){for(var q=0;q<f.length;q++){var p=f[q];p[0].unbind(p[1],p[2])}f=null};this.attachListeners=function(q,p){for(var s=0,t=ab.length;s<t;s++){l(q,p,ab[s])}};this.detachListeners=function(){for(var p=0;p<m.length;p++){o(m[p][0],m[p][1],m[p][2])}m=null};this.reattachListenersForElement=function(p){if(arguments.length>1){for(var q=0,s=ab.length;q<s;q++){o(p,ab[q])}for(q=1,s=arguments.length;q<s;q++){this.attachListeners(p,arguments[q])}}}};jsPlumbUtil.extend(F,jsPlumbUtil.EventGenerator,{getParameter:function(a){return this._jsPlumb.parameters[a]},setParameter:function(b,a){this._jsPlumb.parameters[b]=a},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(a){this._jsPlumb.parameters=a},addClass:function(a){if(this.canvas!=null){G(this.canvas,a)}},removeClass:function(a){if(this.canvas!=null){U(this.canvas,a)}},setType:function(c,a,b){this._jsPlumb.types=S(c)||[];P(this,a,b)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(a,b){P(this,a,b)},hasType:function(a){return jsPlumbUtil.indexOf(this._jsPlumb.types,a)!=-1},addType:function(d,a,c){var e=S(d),b=false;if(e!=null){for(var f=0,g=e.length;f<g;f++){if(!this.hasType(e[f])){this._jsPlumb.types.push(e[f]);b=true}}if(b){P(this,a,c)}}},removeType:function(c,b){var e=S(c),a=false,d=function(l){var h=aa.indexOf(this._jsPlumb.types,l);if(h!=-1){this._jsPlumb.types.splice(h,1);return true}return false}.bind(this);if(e!=null){for(var f=0,g=e.length;f<g;f++){a=d(e[f])||a}if(a){P(this,null,b)}}},toggleType:function(c,a,b){var d=S(c);if(d!=null){for(var e=0,f=d.length;e<f;e++){var g=jsPlumbUtil.indexOf(this._jsPlumb.types,d[e]);if(g!=-1){this._jsPlumb.types.splice(g,1)}else{this._jsPlumb.types.push(d[e])}}P(this,a,b)}},applyType:function(b,a){this.setPaintStyle(b.paintStyle,a);this.setHoverPaintStyle(b.hoverPaintStyle,a);if(b.parameters){for(var c in b.parameters){this.setParameter(c,b.parameters[c])}}},setPaintStyle:function(b,a){this._jsPlumb.paintStyle=b;this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle;O(this);if(!a){this.repaint()}},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(b,a){this._jsPlumb.hoverPaintStyle=b;O(this);if(!a){this.repaint()}},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},cleanup:function(){this.unbindListeners();this.detachListeners()},destroy:function(){this.cleanupListeners();this.clone=null;this._jsPlumb=null},isHover:function(){return this._jsPlumb.hover},setHover:function(c,a,b){var d=T.CurrentLibrary;if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){this._jsPlumb.hover=c;if(this.canvas!=null){if(this._jsPlumb.instance.hoverClass!=null){d[c?"addClass":"removeClass"](this.canvas,this._jsPlumb.instance.hoverClass)}}if(this._jsPlumb.hoverPaintStyle!=null){this._jsPlumb.paintStyleInUse=c?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle;if(!this._jsPlumb.instance.isSuspendDrawing()){b=b||R();this.repaint({timestamp:b,recalc:false})}}if(this.getAttachedElements&&!a){N(this,c,R(),this)}}}});var Q="__label",E=function(c,a){var e=-1;for(var b=0,d=c._jsPlumb.overlays.length;b<d;b++){if(a===c._jsPlumb.overlays[b].id){e=b;break}}return e},K=function(c,a){var d={cssClass:a.cssClass,labelStyle:c.labelStyle,id:Q,component:c,_jsPlumb:c._jsPlumb.instance},b=T.extend(d,a);return new T.Overlays[c._jsPlumb.instance.getRenderMode()].Label(b)},ac=function(e,a){var c=null;if(aa.isArray(a)){var d=a[0],b=T.extend({component:e,_jsPlumb:e._jsPlumb.instance},a[1]);if(a.length==3){T.extend(b,a[2])}c=new T.Overlays[e._jsPlumb.instance.getRenderMode()][d](b)}else{if(a.constructor==String){c=new T.Overlays[e._jsPlumb.instance.getRenderMode()][a]({component:e,_jsPlumb:e._jsPlumb.instance})}else{c=a}}e._jsPlumb.overlays.push(c)},ad=function(d,a){var g=d.defaultOverlayKeys||[],b=a.overlays,f=function(h){return d._jsPlumb.instance.Defaults[h]||T.Defaults[h]||[]};if(!b){b=[]}for(var c=0,e=g.length;c<e;c++){b.unshift.apply(b,f(g[c]))}return b},L=window.OverlayCapableJsPlumbUIComponent=function(a){F.apply(this,arguments);this._jsPlumb.overlays=[];var c=ad(this,a);if(c){for(var d=0,e=c.length;d<e;d++){ac(this,c[d])}}if(a.label){var b=a.labelLocation||this.defaultLabelLocation||0.5,f=a.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle||T.Defaults.LabelStyle;this._jsPlumb.overlays.push(K(this,{label:a.label,location:b,labelStyle:f}))}};jsPlumbUtil.extend(L,F,{applyType:function(b,a){this.removeAllOverlays(a);if(b.overlays){for(var c=0,d=b.overlays.length;c<d;c++){this.addOverlay(b.overlays[c],true)}}},setHover:function(c,a,b){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()){for(var d=0,e=this._jsPlumb.overlays.length;d<e;d++){this._jsPlumb.overlays[d][c?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)}}},addOverlay:function(b,a){ac(this,b);if(!a){this.repaint()}},getOverlay:function(a){var b=E(this,a);return b>=0?this._jsPlumb.overlays[b]:null},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(a){var b=this.getOverlay(a);if(b){b.hide()}},hideOverlays:function(){for(var a=0,b=this._jsPlumb.overlays.length;a<b;a++){this._jsPlumb.overlays[a].hide()}},showOverlay:function(a){var b=this.getOverlay(a);if(b){b.show()}},showOverlays:function(){for(var a=0,b=this._jsPlumb.overlays.length;a<b;a++){this._jsPlumb.overlays[a].show()}},removeAllOverlays:function(a){for(var b=0,c=this._jsPlumb.overlays.length;b<c;b++){if(this._jsPlumb.overlays[b].cleanup){this._jsPlumb.overlays[b].cleanup()}}this._jsPlumb.overlays.splice(0,this._jsPlumb.overlays.length);if(!a){this.repaint()}},removeOverlay:function(b){var c=E(this,b);if(c!=-1){var a=this._jsPlumb.overlays[c];if(a.cleanup){a.cleanup()}this._jsPlumb.overlays.splice(c,1)}},removeOverlays:function(){for(var a=0,b=arguments.length;a<b;a++){this.removeOverlay(arguments[a])}},getLabel:function(){var a=this.getOverlay(Q);return a!=null?a.getLabel():null},getLabelOverlay:function(){return this.getOverlay(Q)},setLabel:function(c){var b=this.getOverlay(Q);if(!b){var a=c.constructor==String||c.constructor==Function?{label:c}:c;b=K(this,a);this._jsPlumb.overlays.push(b)}else{if(c.constructor==String||c.constructor==Function){b.setLabel(c)}else{if(c.label){b.setLabel(c.label)}if(c.location){b.setLocation(c.location)}}}if(!this._jsPlumb.instance.isSuspendDrawing()){this.repaint()}},cleanup:function(){for(var a=0;a<this._jsPlumb.overlays.length;a++){this._jsPlumb.overlays[a].cleanup();this._jsPlumb.overlays[a].destroy()}this._jsPlumb.overlays.splice(0)}});var Z=0,ae=function(){var a=Z+1;Z++;return a};var H=window.jsPlumbInstance=function(A){this.Defaults={Anchor:"BottomCenter",Anchors:[null,null],ConnectionsDetachable:true,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:false,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fillStyle:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:false,Overlays:[],MaxConnections:1,PaintStyle:{lineWidth:8,strokeStyle:"#456"},ReattachConnections:false,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"};if(A){T.extend(this.Defaults,A)}this.logEnabled=this.Defaults.LogEnabled;this._connectionTypes={};this._endpointTypes={};jsPlumbUtil.EventGenerator.apply(this);var bQ=this,z=ae(),bK=bQ.bind,a0={},e=1,bk=function(ah){var ag=M(ah);return{el:ag,id:(jsPlumbUtil.isString(ah)&&ag==null)?ah:C(ag)}};this.getInstanceIndex=function(){return z};this.setZoom=function(ag,ah){e=ag;if(ah){bQ.repaintEverything()}};this.getZoom=function(){return e};for(var a7 in this.Defaults){a0[a7]=this.Defaults[a7]}this.bind=function(ag,ah){if("ready"===ag&&x){ah()}else{bK.apply(bQ,[ag,ah])}};bQ.importDefaults=function(ag){for(var ah in ag){bQ.Defaults[ah]=ag[ah]}return bQ};bQ.restoreDefaults=function(){bQ.Defaults=T.extend({},a0);return bQ};var s=null,bp=null,x=false,n=[],bH={},bF={},bi={},bO={},bo={},a={},be=false,b=[],by=false,bv=null,o=this.Defaults.Scope,g=null,az=1,bg=function(){return""+az++},bE=function(ag,ah){if(bQ.Defaults.Container){T.CurrentLibrary.appendElement(ag,bQ.Defaults.Container)}else{if(!ah){jsPlumbAdapter.appendToRoot(ag)}else{T.CurrentLibrary.appendElement(ag,ah)}}},D=function(ag){return ag._nodes?ag._nodes:ag},bu=function(ak,ah,ai,am){if(!jsPlumbAdapter.headless&&!by){var ao=C(ak),ag=bQ.dragManager.getElementsForDraggable(ao);if(ai==null){ai=R()}var an=h({elId:ao,offset:ah,recalc:false,timestamp:ai});if(ag){for(var aj in ag){h({elId:ag[aj].id,offset:{left:an.o.left+ag[aj].offset.left,top:an.o.top+ag[aj].offset.top},recalc:false,timestamp:ai})}}bQ.anchorManager.redraw(ao,ah,ai,null,am);if(ag){for(var al in ag){bQ.anchorManager.redraw(ag[al].id,ah,ai,ag[al].offset,am,true)}}}},aw=function(ag,al){var ak=null,am,aj;if(aa.isArray(ag)){ak=[];for(var ah=0,ai=ag.length;ah<ai;ah++){am=W(ag[ah]);aj=bQ.getAttribute(am,"id");ak.push(al(am,aj))}}else{am=W(ag);aj=bQ.getAttribute(am,"id");ak=al(am,aj)}return ak},bc=function(ag){return bF[ag]},bs=function(al,aq,ai){if(!jsPlumbAdapter.headless){var ap=aq==null?false:aq,ak=T.CurrentLibrary;if(ap){if(ak.isDragSupported(al)&&!ak.isAlreadyDraggable(al)){var ag=ai||bQ.Defaults.DragOptions||T.Defaults.DragOptions;ag=T.extend({},ag);var aj=ak.dragEvents.drag,ao=ak.dragEvents.stop,am=ak.dragEvents.start;ag[am]=aa.wrap(ag[am],function(){bQ.setHoverSuspended(true);bQ.select({source:al}).addClass(bQ.elementDraggingClass+" "+bQ.sourceElementDraggingClass,true);bQ.select({target:al}).addClass(bQ.elementDraggingClass+" "+bQ.targetElementDraggingClass,true);bQ.setConnectionBeingDragged(true)});ag[aj]=aa.wrap(ag[aj],function(){var ar=ak.getUIPosition(arguments,bQ.getZoom());bu(al,ar,null,true);G(al,"jsPlumb_dragged")});ag[ao]=aa.wrap(ag[ao],function(){var ar=ak.getUIPosition(arguments,bQ.getZoom());bu(al,ar);U(al,"jsPlumb_dragged");bQ.setHoverSuspended(false);bQ.select({source:al}).removeClass(bQ.elementDraggingClass+" "+bQ.sourceElementDraggingClass,true);bQ.select({target:al}).removeClass(bQ.elementDraggingClass+" "+bQ.targetElementDraggingClass,true);bQ.setConnectionBeingDragged(false)});var an=C(al);a[an]=true;var ah=a[an];ag.disabled=ah==null?false:!ah;ak.initDraggable(al,ag,false,bQ);bQ.dragManager.register(al)}}}},a8=function(al,ah){var ao=T.extend({},al);if(ah){T.extend(ao,ah)}if(ao.source){if(ao.source.endpoint){ao.sourceEndpoint=ao.source}else{ao.source=M(ao.source)}}if(ao.target){if(ao.target.endpoint){ao.targetEndpoint=ao.target}else{ao.target=M(ao.target)}}if(al.uuids){ao.sourceEndpoint=bc(al.uuids[0]);ao.targetEndpoint=bc(al.uuids[1])}if(ao.sourceEndpoint&&ao.sourceEndpoint.isFull()){aa.log(bQ,"could not add connection; source endpoint is full");return}if(ao.targetEndpoint&&ao.targetEndpoint.isFull()){aa.log(bQ,"could not add connection; target endpoint is full");return}if(!ao.type&&ao.sourceEndpoint){ao.type=ao.sourceEndpoint.connectionType}if(ao.sourceEndpoint&&ao.sourceEndpoint.connectorOverlays){ao.overlays=ao.overlays||[];for(var ai=0,aj=ao.sourceEndpoint.connectorOverlays.length;ai<aj;ai++){ao.overlays.push(ao.sourceEndpoint.connectorOverlays[ai])}}if(!ao["pointer-events"]&&ao.sourceEndpoint&&ao.sourceEndpoint.connectorPointerEvents){ao["pointer-events"]=ao.sourceEndpoint.connectorPointerEvents}var ak,an,am,ag;if(ao.target&&!ao.target.endpoint&&!ao.targetEndpoint&&!ao.newConnection){ak=C(ao.target);an=bB[ak];am=av[ak];if(an){if(!bh[ak]){return}an.isTarget=true;ag=am!=null?am:bQ.addEndpoint(ao.target,an);if(bn[ak]){av[ak]=ag}ao.targetEndpoint=ag;ag._doNotDeleteOnDetach=false;ag._deleteOnDetach=true}}if(ao.source&&!ao.source.endpoint&&!ao.sourceEndpoint&&!ao.newConnection){ak=C(ao.source);an=a9[ak];am=bz[ak];if(an){if(!d[ak]){return}ag=am!=null?am:bQ.addEndpoint(ao.source,an);if(bw[ak]){bz[ak]=ag}ao.sourceEndpoint=ag;ag._doNotDeleteOnDetach=false;ag._deleteOnDetach=true}}return ao},c=function(aj){var ak=bQ.Defaults.ConnectionType||bQ.getDefaultConnectionType(),ag=bQ.Defaults.EndpointType||T.Endpoint,ah=T.CurrentLibrary.getParent;if(aj.container){aj.parent=aj.container}else{if(aj.sourceEndpoint){aj.parent=aj.sourceEndpoint.parent}else{if(aj.source.constructor==ag){aj.parent=aj.source.parent}else{aj.parent=ah(aj.source)}}}aj._jsPlumb=bQ;aj.newConnection=c;aj.newEndpoint=ay;aj.endpointsByUUID=bF;aj.endpointsByElement=bH;aj.finaliseConnection=bL;var ai=new ak(aj);ai.id="con_"+bg();bM("click","click",ai);bM("dblclick","dblclick",ai);bM("contextmenu","contextmenu",ai);return ai},bL=function(ak,aj,ai,ag){aj=aj||{};if(!ak.suspendedEndpoint){n.push(ak)}if(ak.suspendedEndpoint==null||ag){bQ.anchorManager.newConnection(ak)}bu(ak.source);if(!aj.doNotFireConnectionEvent&&aj.fireEvent!==false){var ah={connection:ak,source:ak.source,target:ak.target,sourceId:ak.sourceId,targetId:ak.targetId,sourceEndpoint:ak.endpoints[0],targetEndpoint:ak.endpoints[1]};bQ.fire("connection",ah,ai)}},bM=function(ai,ah,ag){ag.bind(ai,function(aj,ak){bQ.fire(ah,ag,ak)})},bb=function(ag){if(ag.container){return ag.container}else{var ai=T.CurrentLibrary.getTagName(ag.source),ah=T.CurrentLibrary.getParent(ag.source);if(ai&&ai.toLowerCase()==="td"){return T.CurrentLibrary.getParent(ah)}else{return ah}}},ay=function(aj){var ag=bQ.Defaults.EndpointType||T.Endpoint;var ai=T.extend({},aj);ai.parent=bb(ai);ai._jsPlumb=bQ;ai.newConnection=c;ai.newEndpoint=ay;ai.endpointsByUUID=bF;ai.endpointsByElement=bH;ai.finaliseConnection=bL;ai.fireDetachEvent=bx;ai.floatingConnections=bo;ai.getParentFromParams=bb;ai.elementId=C(ai.source);var ah=new ag(ai);ah.id="ep_"+bg();bM("click","endpointClick",ah);bM("dblclick","endpointDblClick",ah);bM("contextmenu","contextmenu",ah);if(!jsPlumbAdapter.headless){bQ.dragManager.endpointAdded(ai.source)}return ah},l=function(al,am,aj){var an=bH[al];if(an&&an.length){for(var ai=0,ag=an.length;ai<ag;ai++){for(var ak=0,ah=an[ai].connections.length;ak<ah;ak++){var ao=am(an[ai].connections[ak]);if(ao){return}}if(aj){aj(an[ai])}}}},bl=function(ag,ah){return aw(ag,function(ai,aj){a[aj]=ah;if(T.CurrentLibrary.isDragSupported(ai)){T.CurrentLibrary.setDraggable(ai,ah)}})},bA=function(ag,ak,ai){ak=ak==="block";var ah=null;if(ai){if(ak){ah=function(al){al.setVisible(true,true,true)}}else{ah=function(al){al.setVisible(false,true,true)}}}var aj=bk(ag);l(aj.id,function(al){if(ak&&ai){var am=al.sourceId===aj.id?1:0;if(al.endpoints[am].isVisible()){al.setVisible(true)}}else{al.setVisible(ak)}},ah)},bm=function(ag){return aw(ag,function(ah,ai){var aj=a[ai]==null?false:a[ai];aj=!aj;a[ai]=aj;T.CurrentLibrary.setDraggable(ah,aj);return aj})},bJ=function(ai,ag){var ah=null;if(ag){ah=function(ak){var aj=ak.isVisible();ak.setVisible(!aj)}}l(ai,function(aj){var ak=aj.isVisible();aj.setVisible(!ak)},ah)},h=function(aj){var al=aj.timestamp,ai=aj.recalc,ak=aj.offset,ah=aj.elId,ag;if(by&&!al){al=bv}if(!ai){if(al&&al===bO[ah]){return{o:aj.offset||bi[ah],s:b[ah]}}}if(ai||!ak){ag=W(ah);if(ag!=null){b[ah]=af(ag);bi[ah]=I(ag,bQ);bO[ah]=al}}else{bi[ah]=ak;if(b[ah]==null){ag=W(ah);if(ag!=null){b[ah]=af(ag)}}bO[ah]=al}if(bi[ah]&&!bi[ah].right){bi[ah].right=bi[ah].left+b[ah][0];bi[ah].bottom=bi[ah].top+b[ah][1];bi[ah].width=b[ah][0];bi[ah].height=b[ah][1];bi[ah].centerx=bi[ah].left+(bi[ah].width/2);bi[ah].centery=bi[ah].top+(bi[ah].height/2)}return{o:bi[ah],s:b[ah]}},v=function(ah){var ag=bi[ah];if(!ag){return h({elId:ah})}else{return{o:ag,s:b[ah]}}},C=function(ai,ah,ag){if(jsPlumbUtil.isString(ai)){return ai}if(ai==null){return null}var aj=jsPlumbAdapter.getAttribute(ai,"id");if(!aj||aj==="undefined"){if(arguments.length==2&&arguments[1]!==undefined){aj=ah}else{if(arguments.length==1||(arguments.length==3&&!arguments[2])){aj="jsPlumb_"+z+"_"+bg()}}if(!ag){jsPlumbAdapter.setAttribute(ai,"id",aj)}}return aj};this.setConnectionBeingDragged=function(ag){be=ag};this.isConnectionBeingDragged=function(){return be};this.connectorClass="_jsPlumb_connector";this.hoverClass="_jsPlumb_hover";this.endpointClass="_jsPlumb_endpoint";this.endpointConnectedClass="_jsPlumb_endpoint_connected";this.endpointFullClass="_jsPlumb_endpoint_full";this.endpointDropAllowedClass="_jsPlumb_endpoint_drop_allowed";this.endpointDropForbiddenClass="_jsPlumb_endpoint_drop_forbidden";this.overlayClass="_jsPlumb_overlay";this.draggingClass="_jsPlumb_dragging";this.elementDraggingClass="_jsPlumb_element_dragging";this.sourceElementDraggingClass="_jsPlumb_source_element_dragging";this.targetElementDraggingClass="_jsPlumb_target_element_dragging";this.endpointAnchorClassPrefix="_jsPlumb_endpoint_anchor";this.hoverSourceClass="_jsPlumb_source_hover";this.hoverTargetClass="_jsPlumb_target_hover";this.dragSelectClass="_jsPlumb_drag_select";this.Anchors={};this.Connectors={canvas:{},svg:{},vml:{}};this.Endpoints={canvas:{},svg:{},vml:{}};this.Overlays={canvas:{},svg:{},vml:{}};this.ConnectorRenderers={};this.SVG="svg";this.CANVAS="canvas";this.VML="vml";this.addEndpoint=function(ar,aq,ag){ag=ag||{};var at=T.extend({},ag);T.extend(at,aq);at.endpoint=at.endpoint||bQ.Defaults.Endpoint||T.Defaults.Endpoint;at.paintStyle=at.paintStyle||bQ.Defaults.EndpointStyle||T.Defaults.EndpointStyle;ar=D(ar);var ao=[],al=(aa.isArray(ar)||(ar.length!=null&&!aa.isString(ar)))?ar:[ar];for(var an=0,ap=al.length;an<ap;an++){var ai=M(al[an]),au=C(ai);at.source=ai;h({elId:au,timestamp:bv});var aj=ay(at);if(at.parentAnchor){aj.parentAnchor=at.parentAnchor}aa.addToList(bH,au,aj);var ak=bi[au],am=b[au],ah=aj.anchor.compute({xy:[ak.left,ak.top],wh:am,element:aj,timestamp:bv}),aA={anchorLoc:ah,timestamp:bv};if(by){aA.recalc=false}if(!by){aj.paint(aA)}ao.push(aj);aj._doNotDeleteOnDetach=true}return ao.length==1?ao[0]:ao};this.addEndpoints=function(ak,ah,ai){var al=[];for(var am=0,ag=ah.length;am<ag;am++){var aj=bQ.addEndpoint(ak,ah[am],ai);if(aa.isArray(aj)){Array.prototype.push.apply(al,aj)}else{al.push(aj)}}return al};this.animate=function(ag,ah,ai){ai=ai||{};var am=W(ag),aj=C(ag),ak=T.CurrentLibrary.dragEvents.step,al=T.CurrentLibrary.dragEvents.complete;ai[ak]=aa.wrap(ai[ak],function(){bQ.repaint(aj)});ai[al]=aa.wrap(ai[al],function(){bQ.repaint(aj)});T.CurrentLibrary.animate(am,ah,ai)};this.checkCondition=function(am,ak){var ai=bQ.getListener(am),al=true;if(ai&&ai.length>0){try{for(var ag=0,ah=ai.length;ag<ah;ag++){al=al&&ai[ag](ak)}}catch(aj){aa.log(bQ,"cannot check condition ["+am+"]"+aj)}}return al};this.checkASyncCondition=function(ag,ak,al,ah){var ai=bQ.getListener(ag);if(ai&&ai.length>0){try{ai[0](ak,al,ah)}catch(aj){aa.log(bQ,"cannot asynchronously check condition ["+ag+"]"+aj)}}};this.connect=function(aj,ah){var ai=a8(aj,ah),ag;if(ai){ag=c(ai);bL(ag,ai)}return ag};this.deleteEndpoint=function(ag,ah){var ai=bQ.setSuspendDrawing(true);var aj=(typeof ag=="string")?bF[ag]:ag;if(aj){bQ.deleteObject({endpoint:aj})}if(!ai){bQ.setSuspendDrawing(false,ah)}return bQ};this.deleteEveryEndpoint=function(){var ai=bQ.setSuspendDrawing(true);for(var aj in bH){var ah=bH[aj];if(ah&&ah.length){for(var ak=0,ag=ah.length;ak<ag;ak++){bQ.deleteEndpoint(ah[ak],true)}}}bH={};bF={};bQ.anchorManager.reset();bQ.dragManager.reset();if(!ai){bQ.setSuspendDrawing(false)}return bQ};var bx=function(al,aj,ai){var ag=bQ.Defaults.ConnectionType||bQ.getDefaultConnectionType(),ah=al.constructor==ag,ak=ah?{connection:al,source:al.source,target:al.target,sourceId:al.sourceId,targetId:al.targetId,sourceEndpoint:al.endpoints[0],targetEndpoint:al.endpoints[1]}:al;if(aj){bQ.fire("connectionDetached",ak,ai)}bQ.anchorManager.connectionDetached(ak)};this.unregisterEndpoint=function(aj){if(aj._jsPlumb.uuid){bF[aj._jsPlumb.uuid]=null}bQ.anchorManager.deleteEndpoint(aj);for(var ak in bH){var ai=bH[ak];if(ai){var al=[];for(var ag=0,ah=ai.length;ag<ah;ag++){if(ai[ag]!=aj){al.push(ai[ag])}}bH[ak]=al}if(bH[ak].length<1){delete bH[ak]}}};this.detach=function(){if(arguments.length===0){return}var ak=bQ.Defaults.ConnectionType||bQ.getDefaultConnectionType(),aj=arguments[0].constructor==ak,al=arguments.length==2?aj?(arguments[1]||{}):arguments[0]:arguments[0],ag=(al.fireEvent!==false),an=al.forceDetach,am=aj?arguments[0]:al.connection;if(am){if(an||jsPlumbUtil.functionChain(true,false,[[am.endpoints[0],"isDetachAllowed",[am]],[am.endpoints[1],"isDetachAllowed",[am]],[am,"isDetachAllowed",[am]],[bQ,"checkCondition",["beforeDetach",am]]])){am.endpoints[0].detach(am,false,true,ag)}}else{var ao=T.extend({},al);if(ao.uuids){bc(ao.uuids[0]).detachFrom(bc(ao.uuids[1]),ag)}else{if(ao.sourceEndpoint&&ao.targetEndpoint){ao.sourceEndpoint.detachFrom(ao.targetEndpoint)}else{var ah=C(M(ao.source)),ai=C(M(ao.target));l(ah,function(ap){if((ap.sourceId==ah&&ap.targetId==ai)||(ap.targetId==ah&&ap.sourceId==ai)){if(bQ.checkCondition("beforeDetach",ap)){ap.endpoints[0].detach(ap,false,true,ag)}}})}}}};this.detachAllConnections=function(al,ak){ak=ak||{};al=M(al);var aj=C(al),ai=bH[aj];if(ai&&ai.length){for(var ag=0,ah=ai.length;ag<ah;ag++){ai[ag].detachAll(ak.fireEvent!==false)}}return bQ};this.detachEveryConnection=function(ag){ag=ag||{};bQ.doWhileSuspended(function(){for(var aj in bH){var ai=bH[aj];if(ai&&ai.length){for(var ak=0,ah=ai.length;ak<ah;ak++){ai[ak].detachAll(ag.fireEvent!==false)}}}n.splice(0)});return bQ};this.deleteObject=function(ap){var ag={endpoints:{},connections:{},endpointCount:0,connectionCount:0},ah=ap.fireEvent!==false,ai=ap.deleteAttachedObjects!==false;var ak=function(ar){if(ar!=null&&ag.connections[ar.id]==null){ar._jsPlumb&&ar.setHover(false);ag.connections[ar.id]=ar;ag.connectionCount++;if(ai){for(var aq=0;aq<ar.endpoints.length;aq++){if(ar.endpoints[aq]._deleteOnDetach){am(ar.endpoints[aq])}}}}};var am=function(ar){if(ar!=null&&ag.endpoints[ar.id]==null){ar._jsPlumb&&ar.setHover(false);ag.endpoints[ar.id]=ar;ag.endpointCount++;if(ai){for(var at=0;at<ar.connections.length;at++){var aq=ar.connections[at];ak(aq)}}}};if(ap.connection){ak(ap.connection)}else{am(ap.endpoint)}for(var an in ag.connections){var aj=ag.connections[an];aj.endpoints[0].detachFromConnection(aj);aj.endpoints[1].detachFromConnection(aj);jsPlumbUtil.removeWithFunction(n,function(aq){return aj.id==aq.id});bx(aj,ah,ap.originalEvent);aj.cleanup();aj.destroy()}for(var ao in ag.endpoints){var al=ag.endpoints[ao];bQ.unregisterEndpoint(al);al.cleanup();al.destroy()}return ag};this.draggable=function(ak,ah){var ag,ai,aj;if(typeof ak=="object"&&ak.length){for(ag=0,ai=ak.length;ag<ai;ag++){aj=M(ak[ag]);if(aj){bs(aj,true,ah)}}}else{if(ak._nodes){for(ag=0,ai=ak._nodes.length;ag<ai;ag++){aj=M(ak._nodes[ag]);if(aj){bs(aj,true,ah)}}}else{aj=M(ak);if(aj){bs(aj,true,ah)}}}return bQ};this.extend=function(ag,ah){return T.CurrentLibrary.extend(ag,ah)};var bP=function(aj,ak,ag,ai){for(var al=0,ah=aj.length;al<ah;al++){aj[al][ak].apply(aj[al],ag)}return ai(aj)},m=function(aj,ak,ag){var ah=[];for(var al=0,ai=aj.length;al<ai;al++){ah.push([aj[al][ak].apply(aj[al],ag),aj[al]])}return ah},bf=function(ag,ah,ai){return function(){return bP(ag,ah,arguments,ai)}},ba=function(ag,ah){return function(){return m(ag,ah,arguments)}},bN=function(ai,aj){var ak=[];if(ai){if(typeof ai=="string"){if(ai==="*"){return ai}ak.push(ai)}else{ai=W(ai);if(aj){ak=ai}else{for(var ag=0,ah=ai.length;ag<ah;ag++){ak.push(bk(ai[ag]).id)}}}}return ak},ax=function(ag,ah,ai){if(ag==="*"){return true}return ag.length>0?jsPlumbUtil.indexOf(ag,ah)!=-1:!ai};this.getConnections=function(ah,ap){if(!ah){ah={}}else{if(ah.constructor==String){ah={scope:ah}}}var ai=ah.scope||bQ.getDefaultScope(),aj=bN(ai,true),aq=bN(ah.source),al=bN(ah.target),an=(!ap&&aj.length>1)?{}:[],ag=function(at,ar){if(!ap&&aj.length>1){var au=an[at];if(au==null){au=an[at]=[]}au.push(ar)}else{an.push(ar)}};for(var ao=0,am=n.length;ao<am;ao++){var ak=n[ao];if(ax(aj,ak.scope)&&ax(aq,ak.sourceId)&&ax(al,ak.targetId)){ag(ak.scope,ak)}}return an};var u=function(ah,ag){return function(aj){for(var ai=0,ak=ah.length;ai<ak;ai++){aj(ah[ai])}return ag(ah)}},q=function(ag){return function(ah){return ag[ah]}};var p=function(ak,aj){var ai={length:ak.length,each:u(ak,aj),get:q(ak)},al=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],am=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"],ah,ag;for(ah=0,ag=al.length;ah<ag;ah++){ai[al[ah]]=bf(ak,al[ah],aj)}for(ah=0,ag=am.length;ah<ag;ah++){ai[am[ah]]=ba(ak,am[ah])}return ai};var B=function(ag){var ah=p(ag,B);return T.CurrentLibrary.extend(ah,{setDetachable:bf(ag,"setDetachable",B),setReattach:bf(ag,"setReattach",B),setConnector:bf(ag,"setConnector",B),detach:function(){for(var ai=0,aj=ag.length;ai<aj;ai++){bQ.detach(ag[ai])}},isDetachable:ba(ag,"isDetachable"),isReattach:ba(ag,"isReattach")})};var bt=function(ag){var ah=p(ag,bt);return T.CurrentLibrary.extend(ah,{setEnabled:bf(ag,"setEnabled",bt),setAnchor:bf(ag,"setAnchor",bt),isEnabled:ba(ag,"isEnabled"),detachAll:function(){for(var ai=0,aj=ag.length;ai<aj;ai++){ag[ai].detachAll()}},remove:function(){for(var ai=0,aj=ag.length;ai<aj;ai++){bQ.deleteObject({endpoint:ag[ai]})}}})};this.select=function(ag){ag=ag||{};ag.scope=ag.scope||"*";return B(ag.connections||bQ.getConnections(ag,true))};this.selectEndpoints=function(al){al=al||{};al.scope=al.scope||"*";var au=!al.element&&!al.source&&!al.target,aq=au?"*":bN(al.element),aC=au?"*":bN(al.source),ah=au?"*":bN(al.target),ao=bN(al.scope,true);var aD=[];for(var aB in bH){var ak=ax(aq,aB,true),an=ax(aC,aB,true),ai=aC!="*",ag=ax(ah,aB,true),ar=ah!="*";if(ak||an||ag){inner:for(var am=0,at=bH[aB].length;am<at;am++){var ap=bH[aB][am];if(ax(ao,ap.scope,true)){var aj=(ai&&aC.length>0&&!ap.isSource),aA=(ar&&ah.length>0&&!ap.isTarget);if(aj||aA){continue inner}aD.push(ap)}}}}return bt(aD)};this.getAllConnections=function(){return n};this.getDefaultScope=function(){return o};this.getEndpoint=bc;this.getEndpoints=function(ag){return bH[bk(ag).id]};this.getDefaultEndpointType=function(){return T.Endpoint};this.getDefaultConnectionType=function(){return T.Connection};this.getId=C;this.getOffset=function(ag){var ah=bi[ag];return h({elId:ag})};this.getSelector=function(){return T.CurrentLibrary.getSelector.apply(null,arguments)};this.getSize=function(ag){var ah=b[ag];if(!ah){h({elId:ag})}return b[ag]};this.appendElement=bE;var bI=false;this.isHoverSuspended=function(){return bI};this.setHoverSuspended=function(ag){bI=ag};var bD=function(ag){return function(){return jsPlumbAdapter.isRenderModeAvailable(ag)}};this.isCanvasAvailable=bD("canvas");this.isSVGAvailable=bD("svg");this.isVMLAvailable=bD("vml");this.hide=function(ah,ag){bA(ah,"none",ag);return bQ};this.idstamp=bg;this.connectorsInitialized=false;var br=[],bC=["canvas","svg","vml"];this.registerConnectorType=function(ah,ag){br.push([ah,ag])};this.init=function(){var ag=function(aj,al,ak){T.Connectors[aj][al]=function(){ak.apply(this,arguments);T.ConnectorRenderers[aj].apply(this,arguments)};jsPlumbUtil.extend(T.Connectors[aj][al],[ak,T.ConnectorRenderers[aj]])};if(!T.connectorsInitialized){for(var ah=0;ah<br.length;ah++){for(var ai=0;ai<bC.length;ai++){ag(bC[ai],br[ah][1],br[ah][0])}}T.connectorsInitialized=true}if(!x){bQ.anchorManager=new T.AnchorManager({jsPlumbInstance:bQ});bQ.setRenderMode(bQ.Defaults.RenderMode);x=true;bQ.fire("ready",bQ)}}.bind(this);this.log=s;this.jsPlumbUIComponent=F;this.makeAnchor=function(){var al=function(ao,an){if(T.Anchors[ao]){return new T.Anchors[ao](an)}if(!bQ.Defaults.DoNotThrowErrors){throw {msg:"jsPlumb: unknown anchor type '"+ao+"'"}}};if(arguments.length===0){return null}var aj=arguments[0],ag=arguments[1],ah=arguments[2],am=null;if(aj.compute&&aj.getOrientation){return aj}else{if(typeof aj=="string"){am=al(arguments[0],{elementId:ag,jsPlumbInstance:bQ})}else{if(aa.isArray(aj)){if(aa.isArray(aj[0])||aa.isString(aj[0])){if(aj.length==2&&aa.isString(aj[0])&&aa.isObject(aj[1])){var ai=T.extend({elementId:ag,jsPlumbInstance:bQ},aj[1]);am=al(aj[0],ai)}else{am=new T.DynamicAnchor({anchors:aj,selector:null,elementId:ag,jsPlumbInstance:ah})}}else{var ak={x:aj[0],y:aj[1],orientation:(aj.length>=4)?[aj[2],aj[3]]:[0,0],offsets:(aj.length>=6)?[aj[4],aj[5]]:[0,0],elementId:ag,jsPlumbInstance:ah,cssClass:aj.length==7?aj[6]:null};am=new T.Anchor(ak);am.clone=function(){return new T.Anchor(ak)}}}}}if(!am.id){am.id="anchor_"+bg()}return am};this.makeAnchors=function(al,ah,ai){var aj=[];for(var ag=0,ak=al.length;ag<ak;ag++){if(typeof al[ag]=="string"){aj.push(T.Anchors[al[ag]]({elementId:ah,jsPlumbInstance:ai}))}else{if(aa.isArray(al[ag])){aj.push(bQ.makeAnchor(al[ag],ah,ai))}}}return aj};this.makeDynamicAnchor=function(ah,ag){return new T.DynamicAnchor({anchors:ah,selector:ag,elementId:null,jsPlumbInstance:bQ})};var bB={},av={},bn={},bd={},f=function(ah,ag){ah.paintStyle=ah.paintStyle||bQ.Defaults.EndpointStyles[ag]||bQ.Defaults.EndpointStyle||T.Defaults.EndpointStyles[ag]||T.Defaults.EndpointStyle;ah.hoverPaintStyle=ah.hoverPaintStyle||bQ.Defaults.EndpointHoverStyles[ag]||bQ.Defaults.EndpointHoverStyle||T.Defaults.EndpointHoverStyles[ag]||T.Defaults.EndpointHoverStyle;ah.anchor=ah.anchor||bQ.Defaults.Anchors[ag]||bQ.Defaults.Anchor||T.Defaults.Anchors[ag]||T.Defaults.Anchor;ah.endpoint=ah.endpoint||bQ.Defaults.Endpoints[ag]||bQ.Defaults.Endpoint||T.Defaults.Endpoints[ag]||T.Defaults.Endpoint},a9={},bz={},bw={},d={},y={},t={},bh={},bG=function(ah,aj,ai){var al=ah.target||ah.srcElement,am=false,ak=bQ.getSelector(aj,ai);for(var ag=0;ag<ak.length;ag++){if(ak[ag]==al){am=true;break}}return am};this.makeTarget=function(ao,an,ag){var aq=T.extend({_jsPlumb:bQ},ag);T.extend(aq,an);f(aq,1);var aj=T.CurrentLibrary,ai=aq.scope||bQ.Defaults.Scope,am=!(aq.deleteEndpointsOnDetach===false),ap=aq.maxConnections||-1,ar=aq.onMaxConnections;_doOne=function(aA){var aC=bk(aA),aD=aC.id,aE=new F(aq),at=T.extend({},aq.dropOptions||{});bB[aD]=aq;bn[aD]=aq.uniqueEndpoint;bd[aD]=ap;bh[aD]=true;var au=function(){bQ.currentlyDragging=false;var aQ=T.CurrentLibrary.getDropEvent(arguments),aM=bQ.select({target:aD}).length,aN=W(aj.getDragObject(arguments)),aO=bQ.getAttribute(aN,"dragId"),aR=bQ.getAttribute(aN,"originalScope"),aI=bo[aO],aG=aI.endpoints[0].isFloating()?0:1,aS=aI.endpoints[0],aU=aq.endpoint?T.extend({},aq.endpoint):{};if(!bh[aD]||bd[aD]>0&&aM>=bd[aD]){if(ar){ar({element:aC.el,connection:aI},aQ)}return false}aS.anchor.locked=false;if(aR){aj.setDragScope(aN,aR)}var aJ=aE.isDropAllowed(aG===0?aD:aI.sourceId,aG===0?aI.targetId:aD,aI.scope,aI,null);if(aI.suspendedEndpoint){aI[aG?"targetId":"sourceId"]=aI.suspendedEndpoint.elementId;aI[aG?"target":"source"]=aI.suspendedEndpoint.element;aI.endpoints[aG]=aI.suspendedEndpoint}if(aJ){var aH=aj.getElementObject(aC.el),aP=av[aD]||bQ.addEndpoint(aH,aq);if(aq.uniqueEndpoint){av[aD]=aP}aP._doNotDeleteOnDetach=false;aP._deleteOnDetach=true;if(aP.anchor.positionFinder!=null){var aF=aj.getUIPosition(arguments,bQ.getZoom()),aK=I(aH,bQ),aT=af(aH),aL=aP.anchor.positionFinder(aF,aK,aT,aP.anchor.constructorParams);aP.anchor.x=aL[0];aP.anchor.y=aL[1]}aI[aG?"target":"source"]=aP.element;aI[aG?"targetId":"sourceId"]=aP.elementId;aI.endpoints[aG].detachFromConnection(aI);if(aI.endpoints[aG]._deleteOnDetach){aI.endpoints[aG].deleteAfterDragStop=true}aP.addConnection(aI);aI.endpoints[aG]=aP;aI.deleteEndpointsOnDetach=am;if(aG==1){bQ.anchorManager.updateOtherEndpoint(aI.sourceId,aI.suspendedElementId,aI.targetId,aI)}else{bQ.anchorManager.sourceChanged(aI.suspendedEndpoint.elementId,aI.sourceId,aI)}bL(aI,null,aQ)}else{if(aI.suspendedEndpoint){if(aI.isReattach()){aI.setHover(false);aI.floatingAnchorIndex=null;aI.suspendedEndpoint.addConnection(aI);bQ.repaint(aS.elementId)}else{aS.detach(aI,false,true,true,aQ)}}}};var aB=aj.dragEvents.drop;at.scope=at.scope||ai;at[aB]=aa.wrap(at[aB],au);aj.initDroppable(W(aC.el),at,true)};ao=D(ao);var ak=ao.length&&ao.constructor!=String?ao:[ao];for(var al=0,ah=ak.length;al<ah;al++){_doOne(ak[al])}return bQ};this.unmakeTarget=function(ai,ag){var ah=bk(ai);T.CurrentLibrary.destroyDroppable(ah.el);if(!ag){delete bB[ah.id];delete bn[ah.id];delete bd[ah.id];delete bh[ah.id]}return bQ};this.makeSource=function(am,al,ag){var ao=T.extend({},ag);T.extend(ao,al);f(ao,0);var ai=T.CurrentLibrary,an=ao.maxConnections||-1,ap=ao.onMaxConnections,aq=function(aD){var aC=aD.id,aJ=W(aD.el),aH=function(){return ao.parent==null?null:ao.parent==="parent"?aD.el.parentNode:M(ao.parent)},aE=ao.parent!=null?bQ.getId(aH()):aC;a9[aE]=ao;bw[aE]=ao.uniqueEndpoint;d[aE]=true;var aB=ai.dragEvents.stop,ar=ai.dragEvents.drag,aI=T.extend({},ao.dragOptions||{}),au=aI.drag,aG=aI.stop,aF=null,at=false;t[aE]=an;aI.scope=aI.scope||ao.scope;aI[ar]=aa.wrap(aI[ar],function(){if(au){au.apply(this,arguments)}at=false});aI[aB]=aa.wrap(aI[aB],function(){if(aG){aG.apply(this,arguments)}bQ.currentlyDragging=false;if(aF._jsPlumb!=null){ai.unbind(aF.canvas,"mousedown");var aP=ao.anchor||bQ.Defaults.Anchor,aO=aF.anchor,aL=aF.connections[0];aF.setAnchor(bQ.makeAnchor(aP,aC,bQ),true);if(ao.parent){var aM=aH();if(aM){var aK=aF.elementId,aN=ao.container||bQ.Defaults.Container||T.Defaults.Container;aF.setElement(aM,aN);aF.endpointWillMoveAfterConnection=false;aL.previousConnection=null;jsPlumbUtil.removeWithFunction(n,function(aQ){return aQ.id===aL.id});bQ.anchorManager.connectionDetached({sourceId:aL.sourceId,targetId:aL.targetId,connection:aL});bL(aL)}}aF.repaint();bQ.repaint(aF.elementId);bQ.repaint(aL.targetId)}});var aA=function(aM){if(!d[aE]){return}if(ao.filter){var aU=ai.getOriginalEvent(aM),aT=jsPlumbUtil.isString(ao.filter)?bG(aU,aJ,ao.filter):ao.filter(aU,aJ);if(aT===false){return}}var aP=bQ.select({source:aE}).length;if(t[aE]>=0&&aP>=t[aE]){if(ap){ap({element:aJ,maxConnections:an},aM)}return false}var aW=h({elId:aC}).o,aK=bQ.getZoom(),aX=(((aM.pageX||aM.page.x)/aK)-aW.left)/aW.width,aY=(((aM.pageY||aM.page.y)/aK)-aW.top)/aW.height,aO=aX,aR=aY;if(ao.parent){var aL=aH(),aN=C(aL);aW=h({elId:aN}).o;aO=((aM.pageX||aM.page.x)-aW.left)/aW.width;aR=((aM.pageY||aM.page.y)-aW.top)/aW.height}var aS={};T.extend(aS,ao);aS.isSource=true;aS.anchor=[aX,aY,0,0];aS.parentAnchor=[aO,aR,0,0];aS.dragOptions=aI;if(ao.parent){var aQ=aS.container||bQ.Defaults.Container||T.Defaults.Container;if(aQ){aS.container=aQ}else{aS.container=T.CurrentLibrary.getParent(aH())}}aF=bQ.addEndpoint(aC,aS);at=true;aF.endpointWillMoveAfterConnection=ao.parent!=null;aF.endpointWillMoveTo=ao.parent?aH():null;aF._doNotDeleteOnDetach=false;aF._deleteOnDetach=true;var aV=function(){if(at){at=false;bQ.deleteEndpoint(aF)}};bQ.registerListener(aF.canvas,"mouseup",aV);bQ.registerListener(aJ,"mouseup",aV);ai.trigger(aF.canvas,"mousedown",aM)};bQ.registerListener(aJ,"mousedown",aA);y[aC]=aA;if(ao.filter&&jsPlumbUtil.isString(ao.filter)){ai.setDragFilter(aJ,ao.filter)}};am=D(am);var aj=am.length&&am.constructor!=String?am:[am];for(var ak=0,ah=aj.length;ak<ah;ak++){aq(bk(aj[ak]))}return bQ};this.unmakeSource=function(ah,aj){var ag=bk(ah),ai=y[ag.id];if(ai){bQ.unregisterListener(ag.el,"mousedown",ai)}if(!aj){delete a9[ag.id];delete bw[ag.id];delete d[ag.id];delete y[ag.id];delete t[ag.id]}return bQ};this.unmakeEverySource=function(){for(var ag in d){bQ.unmakeSource(ag,true)}a9={};bw={};d={};y={}};this.unmakeEveryTarget=function(){for(var ag in bh){bQ.unmakeTarget(ag,true)}bB={};bn={};bd={};bh={};return bQ};var w=function(al,am,ak,aj){var ah=al=="source"?d:bh;am=D(am);if(aa.isString(am)){ah[am]=aj?!ah[am]:ak}else{if(am.length){for(var ag=0,an=am.length;ag<an;ag++){var ai=bk(am[ag]);ah[ai.id]=aj?!ah[ai.id]:ak}}}return bQ};this.toggleSourceEnabled=function(ag){w("source",ag,null,true);return bQ.isSourceEnabled(ag)};this.setSourceEnabled=function(ah,ag){return w("source",ah,ag)};this.isSource=function(ag){return d[bk(ag).id]!=null};this.isSourceEnabled=function(ag){return d[bk(ag).id]===true};this.toggleTargetEnabled=function(ag){w("target",ag,null,true);return bQ.isTargetEnabled(ag)};this.isTarget=function(ag){return bh[bk(ag).id]!=null};this.isTargetEnabled=function(ag){return bh[bk(ag).id]===true};this.setTargetEnabled=function(ah,ag){return w("target",ah,ag)};this.ready=function(ag){bQ.bind("ready",ag)};this.repaint=function(ag,aj,ak){if(typeof ag=="object"&&ag.length){for(var ai=0,ah=ag.length;ai<ah;ai++){bu(ag[ai],aj,ak)}}else{bu(ag,aj,ak)}return bQ};this.repaintEverything=function(){var ag=R();for(var ah in bH){bu(ah,null,ag)}return bQ};this.removeAllEndpoints=function(ah,ag){var ai=function(aj){var al=bk(aj),ak=bH[al.id],an,am;if(ak){for(an=0,am=ak.length;an<am;an++){bQ.deleteEndpoint(ak[an])}}delete bH[al.id];if(ag){if(al.el&&al.el.nodeType!=3&&al.el.nodeType!=8){for(an=0,am=al.el.childNodes.length;an<am;an++){ai(al.el.childNodes[an])}}}};ai(ah);return bQ};this.remove=function(ai,ag){var ah=bk(ai);bQ.doWhileSuspended(function(){bQ.removeAllEndpoints(ah.id,true);bQ.dragManager.elementRemoved(ah.id);delete bo[ah.id];bQ.anchorManager.clearFor(ah.id);bQ.anchorManager.removeFloatingConnection(ah.id)},ag===false);if(ah.el){T.CurrentLibrary.removeElement(ah.el)}};var bj={},bq=function(){for(var ah in bj){for(var ai=0,ag=bj[ah].length;ai<ag;ai++){var aj=bj[ah][ai];T.CurrentLibrary.unbind(aj.el,aj.event,aj.listener)}}bj={}};this.registerListener=function(ah,ai,ag){T.CurrentLibrary.bind(ah,ai,ag);jsPlumbUtil.addToList(bj,ai,{el:ah,event:ai,listener:ag})};this.unregisterListener=function(ah,ai,ag){T.CurrentLibrary.unbind(ah,ai,ag);jsPlumbUtil.removeWithFunction(bj,function(aj){return aj.type==ai&&aj.listener==ag})};this.reset=function(){bQ.deleteEveryEndpoint();bQ.unbind();bB={};av={};bn={};bd={};a9={};bz={};bw={};t={};n.splice(0);bq();bQ.anchorManager.reset();if(!jsPlumbAdapter.headless){bQ.dragManager.reset()}};this.setDefaultScope=function(ag){o=ag;return bQ};this.setDraggable=bl;this.setId=function(am,al,ah){var ao;if(jsPlumbUtil.isString(am)){ao=am}else{am=M(am);ao=bQ.getId(am)}var an=bQ.getConnections({source:ao,scope:"*"},true),aj=bQ.getConnections({target:ao,scope:"*"},true);al=""+al;if(!ah){am=M(ao);jsPlumbAdapter.setAttribute(am,"id",al)}else{am=M(al)}bH[al]=bH[ao]||[];for(var ai=0,ag=bH[al].length;ai<ag;ai++){bH[al][ai].setElementId(al);bH[al][ai].setReferenceElement(am)}delete bH[ao];bQ.anchorManager.changeId(ao,al);if(!jsPlumbAdapter.headless){bQ.dragManager.changeId(ao,al)}var ak=function(ap,au,aq){for(var at=0,ar=ap.length;at<ar;at++){ap[at].endpoints[au].setElementId(al);ap[at].endpoints[au].setReferenceElement(am);ap[at][aq+"Id"]=al;ap[at][aq]=am}};ak(an,0,"source");ak(aj,1,"target");bQ.repaint(al)};this.setDebugLog=function(ag){s=ag};this.setSuspendDrawing=function(ag,ai){var ah=by;by=ag;if(ag){bv=new Date().getTime()}else{bv=null}if(ai){bQ.repaintEverything()}return ah};this.isSuspendDrawing=function(){return by};this.getSuspendedAt=function(){return bv};this.doWhileSuspended=function(ah,ai){var aj=bQ.isSuspendDrawing();if(!aj){bQ.setSuspendDrawing(true)}try{ah()}catch(ag){aa.log("Function run while suspended failed",ag)}if(!aj){bQ.setSuspendDrawing(false,!ai)}};this.updateOffset=h;this.getOffset=function(ag){return bi[ag]};this.getSize=function(ag){return b[ag]};this.getCachedData=v;this.timestamp=R;this.setRenderMode=function(aj){g=jsPlumbAdapter.setRenderMode(aj);var ai,ag;if(g==T.CANVAS){var ah=function(ak){T.CurrentLibrary.bind(document,ak,function(al){if(!bQ.currentlyDragging&&g==T.CANVAS){for(ai=0,ag=n.length;ai<ag;ai++){var an=n[ai].getConnector()[ak](al);if(an){return}}for(var am in bH){var ao=bH[am];for(ai=0,ag=ao.length;ai<ag;ai++){if(ao[ai].endpoint[ak]&&ao[ai].endpoint[ak](al)){return}}}}})};ah("click");ah("dblclick");ah("mousemove");ah("mousedown");ah("mouseup");ah("contextmenu")}return g};this.getRenderMode=function(){return g};this.show=function(ah,ag){bA(ah,"block",ag);return bQ};this.getTestHarness=function(){return{endpointsByElement:bH,endpointCount:function(ah){var ag=bH[ah];return ag?ag.length:0},connectionCount:function(ah){ah=ah||o;var ag=bQ.getConnections({scope:ah});return ag?ag.length:0},getId:C,makeAnchor:self.makeAnchor,makeDynamicAnchor:self.makeDynamicAnchor}};this.toggleVisible=bJ;this.toggleDraggable=bm;this.addListener=this.bind;this.adjustForParentOffsetAndScroll=function(aj,ag){var al=null,ai=aj;if(ag.tagName.toLowerCase()==="svg"&&ag.parentNode){al=ag.parentNode}else{if(ag.offsetParent){al=ag.offsetParent}}if(al!=null){var ah=al.tagName.toLowerCase()==="body"?{left:0,top:0}:I(al,bQ),ak=al.tagName.toLowerCase()==="body"?{left:0,top:0}:{left:al.scrollLeft,top:al.scrollTop};ai[0]=aj[0]-ah.left+ak.left;ai[1]=aj[1]-ah.top+ak.top}return ai};if(!jsPlumbAdapter.headless){bQ.dragManager=jsPlumbAdapter.getDragManager(bQ);bQ.recalculateOffsets=bQ.dragManager.updateOffsets}};jsPlumbUtil.extend(H,jsPlumbUtil.EventGenerator,{setAttribute:function(a,c,b){jsPlumbAdapter.setAttribute(a,c,b)},getAttribute:function(a,b){return jsPlumbAdapter.getAttribute(T.CurrentLibrary.getDOMElement(a),b)},registerConnectionType:function(a,b){this._connectionTypes[a]=T.extend({},b)},registerConnectionTypes:function(a){for(var b in a){this._connectionTypes[b]=T.extend({},a[b])}},registerEndpointType:function(a,b){this._endpointTypes[a]=T.extend({},b)},registerEndpointTypes:function(a){for(var b in a){this._endpointTypes[b]=T.extend({},a[b])}},getType:function(a,b){return b==="connection"?this._connectionTypes[a]:this._endpointTypes[a]},setIdChanged:function(a,b){this.setId(a,b,true)}});var T=new H();if(typeof window!="undefined"){window.jsPlumb=T}T.getInstance=function(a){var b=new H(a);b.init();return b};if(typeof define==="function"){define("jsplumb",[],function(){return T});define("jsplumbinstance",[],function(){return T.getInstance()})}if(typeof exports!=="undefined"){exports.jsPlumb=T}})();(function(){var m=function(a,c){var b=false;return{drag:function(){if(b){b=false;return true}var d=jsPlumb.CurrentLibrary.getUIPosition(arguments,c.getZoom());if(a.element){jsPlumb.CurrentLibrary.setOffset(a.element,d);c.repaint(a.element,d)}},stopDrag:function(){b=true}}};var g=function(a,c,d){var e=document.createElement("div");e.style.position="absolute";var b=jsPlumb.CurrentLibrary.getElementObject(e);jsPlumb.CurrentLibrary.appendElement(e,c);var f=d.getId(e);d.updateOffset({elId:f});a.id=f;a.element=e};var l=function(f,s,e,t,b,c,d){var a=new jsPlumb.FloatingAnchor({reference:s,referenceCanvas:t,jsPlumbInstance:c});return d({paintStyle:f,endpoint:e,anchor:a,source:b,scope:"__floating"})};var o=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"];var h=function(b,c){var d=0;if(c!=null){for(var a=0;a<b.connections.length;a++){if(b.connections[a].sourceId==c||b.connections[a].targetId==c){d=a;break}}}return b.connections[d]};var n=function(a,b){return jsPlumbUtil.findWithFunction(b.connections,function(c){return c.id==a.id})};jsPlumb.Endpoint=function(f){var c=f._jsPlumb,ah=jsPlumb.CurrentLibrary,N=jsPlumbAdapter.getAttribute,af=ah.getElementObject,b=ah.getDOMElement,ai=jsPlumbUtil,aa=f.newConnection,S=f.newEndpoint,aj=f.finaliseConnection,Q=f.fireDetachEvent,O=f.floatingConnections;this.idPrefix="_jsplumb_e_";this.defaultLabelLocation=[0.5,0.5];this.defaultOverlayKeys=["Overlays","EndpointOverlays"];this.parent=f.parent;OverlayCapableJsPlumbUIComponent.apply(this,arguments);this.getDefaultType=function(){return{parameters:{},scope:null,maxConnections:this._jsPlumb.instance.Defaults.MaxConnections,paintStyle:this._jsPlumb.instance.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle,endpoint:this._jsPlumb.instance.Defaults.Endpoint||jsPlumb.Defaults.Endpoint,hoverPaintStyle:this._jsPlumb.instance.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle,overlays:this._jsPlumb.instance.Defaults.EndpointOverlays||jsPlumb.Defaults.EndpointOverlays,connectorStyle:f.connectorStyle,connectorHoverStyle:f.connectorHoverStyle,connectorClass:f.connectorClass,connectorHoverClass:f.connectorHoverClass,connectorOverlays:f.connectorOverlays,connector:f.connector,connectorTooltip:f.connectorTooltip}};this._jsPlumb.enabled=!(f.enabled===false);this._jsPlumb.visible=true;this.element=b(f.source);this._jsPlumb.uuid=f.uuid;this._jsPlumb.floatingEndpoint=null;var ad=null;if(this._jsPlumb.uuid){f.endpointsByUUID[this._jsPlumb.uuid]=this}this.elementId=f.elementId;this._jsPlumb.connectionCost=f.connectionCost;this._jsPlumb.connectionsDirected=f.connectionsDirected;this._jsPlumb.currentAnchorClass="";this._jsPlumb.events={};var U=function(){ah.removeClass(this.element,c.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);this.removeClass(c.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();this.addClass(c.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);ah.addClass(this.element,c.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass)}.bind(this);this.setAnchor=function(q,p){this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId);this.anchor=this._jsPlumb.instance.makeAnchor(q,this.elementId,c);U();this.anchor.bind("anchorChanged",function(s){this.fire("anchorChanged",{endpoint:this,anchor:s});U()}.bind(this));if(!p){this._jsPlumb.instance.repaint(this.elementId)}return this};var d=f.anchor?f.anchor:f.anchors?f.anchors:(c.Defaults.Anchor||"Top");this.setAnchor(d,true);var a=function(p){if(this.connections.length>0){this.connections[0].setHover(p,false)}else{this.setHover(p)}}.bind(this);if(!f._transient){this._jsPlumb.instance.anchorManager.add(this,this.elementId)}this.setEndpoint=function(s){if(this.endpoint!=null){this.endpoint.cleanup();this.endpoint.destroy()}var t=function(w,u){var v=c.getRenderMode();if(jsPlumb.Endpoints[v][w]){return new jsPlumb.Endpoints[v][w](u)}if(!c.Defaults.DoNotThrowErrors){throw {msg:"jsPlumb: unknown endpoint type '"+w+"'"}}};var q={_jsPlumb:this._jsPlumb.instance,cssClass:f.cssClass,parent:f.parent,container:f.container,tooltip:f.tooltip,connectorTooltip:f.connectorTooltip,endpoint:this};if(ai.isString(s)){this.endpoint=t(s,q)}else{if(ai.isArray(s)){q=ai.merge(s[1],q);this.endpoint=t(s[0],q)}else{this.endpoint=s.clone()}}var p=jsPlumb.extend({},q);this.endpoint.clone=function(){if(ai.isString(s)){return t(s,q)}else{if(ai.isArray(s)){q=ai.merge(s[1],q);return t(s[0],q)}}}.bind(this);this.type=this.endpoint.type;this.bindListeners(this.endpoint,this,a)};this.setEndpoint(f.endpoint||c.Defaults.Endpoint||jsPlumb.Defaults.Endpoint||"Dot");this.setPaintStyle(f.paintStyle||f.style||c.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle,true);this.setHoverPaintStyle(f.hoverPaintStyle||c.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle,true);this._jsPlumb.paintStyleInUse=this.getPaintStyle();ai.copyValues(o,f,this);this.isSource=f.isSource||false;this.isTarget=f.isTarget||false;this._jsPlumb.maxConnections=f.maxConnections||c.Defaults.MaxConnections;this.canvas=this.endpoint.canvas;this.addClass(c.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);ah.addClass(this.element,c.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);this.connections=f.connections||[];this.connectorPointerEvents=f["connector-pointer-events"];this.scope=f.scope||c.getDefaultScope();this.timestamp=null;this.reattachConnections=f.reattach||c.Defaults.ReattachConnections;this.connectionsDetachable=c.Defaults.ConnectionsDetachable;if(f.connectionsDetachable===false||f.detachable===false){this.connectionsDetachable=false}this.dragAllowedWhenFull=f.dragAllowedWhenFull||true;if(f.onMaxConnections){this.bind("maxConnections",f.onMaxConnections)}this.addConnection=function(p){this.connections.push(p);this[(this.connections.length>0?"add":"remove")+"Class"](c.endpointConnectedClass);this[(this.isFull()?"add":"remove")+"Class"](c.endpointFullClass)};this.detachFromConnection=function(p,q){q=q==null?n(p,this):q;if(q>=0){this.connections.splice(q,1);this[(this.connections.length>0?"add":"remove")+"Class"](c.endpointConnectedClass);this[(this.isFull()?"add":"remove")+"Class"](c.endpointFullClass)}};this.detach=function(w,t,v,p,y,x,u){var q=u==null?n(w,this):u,s=false;p=(p!==false);if(q>=0){if(v||w._forceDetach||(w.isDetachable()&&w.isDetachAllowed(w)&&this.isDetachAllowed(w))){c.deleteObject({connection:w,fireEvent:(!t&&p),originalEvent:y});s=true}}return s};this.detachAll=function(p,q){while(this.connections.length>0){this.detach(this.connections[0],false,true,p!==false,q,this,0)}return this};this.detachFrom=function(q,s,v){var p=[];for(var t=0;t<this.connections.length;t++){if(this.connections[t].endpoints[1]==q||this.connections[t].endpoints[0]==q){p.push(this.connections[t])}}for(var u=0;u<p.length;u++){this.detach(p[u],false,true,s,v)}return this};this.getElement=function(){return this.element};this.setElement=function(s){var p=this._jsPlumb.instance.getId(s),q=this.elementId;ai.removeWithFunction(f.endpointsByElement[this.elementId],function(t){return t.id==this.id}.bind(this));this.element=b(s);this.elementId=c.getId(this.element);c.anchorManager.rehomeEndpoint(this,q,this.element);c.dragManager.endpointAdded(this.element);ai.addToList(f.endpointsByElement,p,this);return this};this.makeInPlaceCopy=function(){var p=this.anchor.getCurrentLocation({element:this}),q=this.anchor.getOrientation(this),s=this.anchor.getCssClass(),t={bind:function(){},compute:function(){return[p[0],p[1]]},getCurrentLocation:function(){return[p[0],p[1]]},getOrientation:function(){return q},getCssClass:function(){return s}};return S({anchor:t,source:this.element,paintStyle:this.getPaintStyle(),endpoint:f.hideOnDrag?"Blank":this.endpoint,_transient:true,scope:this.scope})};this.isFloating=function(){return this.anchor!=null&&this.anchor.isFloating};this.connectorSelector=function(){var p=this.connections[0];if(this.isTarget&&p){return p}else{return(this.connections.length<this._jsPlumb.maxConnections)||this._jsPlumb.maxConnections==-1?null:p}};this.setStyle=this.setPaintStyle;this.paint=function(x){x=x||{};var q=x.timestamp,s=!(x.recalc===false);if(!q||this.timestamp!==q){var y=c.updateOffset({elId:this.elementId,timestamp:q});var C=x.offset?x.offset.o:y.o;if(C!=null){var u=x.anchorPoint,w=x.connectorPaintStyle;if(u==null){var B=x.dimensions||y.s,z={xy:[C.left,C.top],wh:B,element:this,timestamp:q};if(s&&this.anchor.isDynamic&&this.connections.length>0){var G=h(this,x.elementWithPrecedence),D=G.endpoints[0]==this?1:0,v=D===0?G.sourceId:G.targetId,E=c.getCachedData(v),p=E.o,F=E.s;z.txy=[p.left,p.top];z.twh=F;z.tElement=G.endpoints[D]}u=this.anchor.compute(z)}this.endpoint.compute(u,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,w||this.paintStyleInUse);this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor);this.timestamp=q;for(var t=0;t<this._jsPlumb.overlays.length;t++){var A=this._jsPlumb.overlays[t];if(A.isVisible()){this._jsPlumb.overlayPlacements[t]=A.draw(this.endpoint,this._jsPlumb.paintStyleInUse);A.paint(this._jsPlumb.overlayPlacements[t])}}}}};this.repaint=this.paint;if(ah.isDragSupported(this.element)&&(this.isSource||this.isTarget)){var ab={id:null,element:null},ac=null,ak=false,ag=null,al=m(ab,c);var Z=function(){ac=this.connectorSelector();var u=true;if(!this.isEnabled()){u=false}if(ac==null&&!this.isSource){u=false}if(this.isSource&&this.isFull()&&!this.dragAllowedWhenFull){u=false}if(ac!=null&&!ac.isDetachable()){u=false}if(u===false){if(ah.stopDrag){ah.stopDrag()}al.stopDrag();return false}for(var v=0;v<this.connections.length;v++){this.connections[v].setHover(false)}this.addClass("endpointDrag");c.setConnectionBeingDragged(true);if(ac&&!this.isFull()&&this.isSource){ac=null}c.updateOffset({elId:this.elementId});ad=this.makeInPlaceCopy();ad.referenceEndpoint=this;ad.paint();g(ab,this.parent,c);var p=af(ad.canvas),s=jsPlumb.CurrentLibrary.getOffset(p,c),w=c.adjustForParentOffsetAndScroll([s.left,s.top],ad.canvas),q=af(this.canvas);ah.setOffset(ab.element,{left:w[0],top:w[1]});if(this.parentAnchor){this.anchor=c.makeAnchor(this.parentAnchor,this.elementId,c)}c.setAttribute(this.canvas,"dragId",ab.id);c.setAttribute(this.canvas,"elId",this.elementId);this._jsPlumb.floatingEndpoint=l(this.getPaintStyle(),this.anchor,this.endpoint,this.canvas,ab.element,c,S);this.canvas.style.visibility="hidden";if(ac==null){this.anchor.locked=true;this.setHover(false,false);ac=aa({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.endpointWillMoveTo||this.element,target:ab.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:f.connectorStyle,hoverPaintStyle:f.connectorHoverStyle,connector:f.connector,overlays:f.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass});ac.addClass(c.draggingClass);this._jsPlumb.floatingEndpoint.addClass(c.draggingClass);c.fire("connectionDrag",ac)}else{ak=true;ac.setHover(false);V(p,false,true);var x=ac.endpoints[0].id==this.id?0:1;ac.floatingAnchorIndex=x;this.detachFromConnection(ac);var t=jsPlumb.CurrentLibrary.getDragScope(q);c.setAttribute(this.canvas,"originalScope",t);var y=ah.getDropScope(q);ah.setDragScope(q,y);c.fire("connectionDrag",ac);if(x===0){ag=[ac.source,ac.sourceId,q,t];ac.source=ab.element;ac.sourceId=ab.id}else{ag=[ac.target,ac.targetId,q,t];ac.target=ab.element;ac.targetId=ab.id}ac.endpoints[x===0?1:0].anchor.locked=true;ac.suspendedEndpoint=ac.endpoints[x];ac.suspendedElement=ac.endpoints[x].getElement();ac.suspendedElementId=ac.endpoints[x].elementId;ac.suspendedElementType=x===0?"source":"target";ac.suspendedEndpoint.setHover(false);this._jsPlumb.floatingEndpoint.referenceEndpoint=ac.suspendedEndpoint;ac.endpoints[x]=this._jsPlumb.floatingEndpoint;ac.addClass(c.draggingClass);this._jsPlumb.floatingEndpoint.addClass(c.draggingClass)}O[ab.id]=ac;c.anchorManager.addFloatingConnection(ab.id,ac);ai.addToList(f.endpointsByElement,ab.id,this._jsPlumb.floatingEndpoint);c.currentlyDragging=true}.bind(this);var W=f.dragOptions||{},e=jsPlumb.extend({},ah.defaultDragOptions),ae=ah.dragEvents.start,P=ah.dragEvents.stop,R=ah.dragEvents.drag;W=jsPlumb.extend(e,W);W.scope=W.scope||this.scope;W[ae]=ai.wrap(W[ae],Z,false);W[R]=ai.wrap(W[R],al.drag);W[P]=ai.wrap(W[P],function(){c.setConnectionBeingDragged(false);var p=ah.getDropEvent(arguments);var q=ac.floatingAnchorIndex==null?1:ac.floatingAnchorIndex;ac.endpoints[q===0?1:0].anchor.locked=false;ac.removeClass(c.draggingClass);if(ac.endpoints[q]==this._jsPlumb.floatingEndpoint){if(ak&&ac.suspendedEndpoint){if(q===0){ac.source=ag[0];ac.sourceId=ag[1]}else{ac.target=ag[0];ac.targetId=ag[1]}ah.setDragScope(ag[2],ag[3]);ac.endpoints[q]=ac.suspendedEndpoint;if(ac.isReattach()||ac._forceReattach||ac._forceDetach||!ac.endpoints[q===0?1:0].detach(ac,false,false,true,p)){ac.setHover(false);ac.floatingAnchorIndex=null;ac._forceDetach=null;ac._forceReattach=null;this._jsPlumb.floatingEndpoint.detachFromConnection(ac);ac.suspendedEndpoint.addConnection(ac);c.repaint(ag[1])}}}c.remove(ab.element,false);c.remove(ad.canvas,false);if(this.deleteAfterDragStop){c.deleteObject({endpoint:this})}else{if(this._jsPlumb){this._jsPlumb.floatingEndpoint=null;this.canvas.style.visibility="visible";this.anchor.locked=false;this.paint({recalc:false})}}c.fire("connectionDragStop",ac);c.currentlyDragging=false;ac=null}.bind(this));var T=af(this.canvas);ah.initDraggable(T,W,true,c)}var V=function(w,q,t,p){if((this.isTarget||q)&&ah.isDropSupported(this.element)){var v=f.dropOptions||c.Defaults.DropOptions||jsPlumb.Defaults.DropOptions;v=jsPlumb.extend({},v);v.scope=v.scope||this.scope;var x=ah.dragEvents.drop,s=ah.dragEvents.over,y=ah.dragEvents.out,u=function(){this.removeClass(c.endpointDropAllowedClass);this.removeClass(c.endpointDropForbiddenClass);var B=ah.getDropEvent(arguments),C=af(ah.getDragObject(arguments)),z=c.getAttribute(C,"dragId"),L=c.getAttribute(C,"elId"),D=c.getAttribute(C,"originalScope"),I=O[z];var K=I.suspendedEndpoint&&(I.suspendedEndpoint.id==this.id||this.referenceEndpoint&&I.suspendedEndpoint.id==this.referenceEndpoint.id);if(K){I._forceReattach=true;return}if(I!=null){var G=I.floatingAnchorIndex==null?1:I.floatingAnchorIndex,F=G===0?1:0;if(D){jsPlumb.CurrentLibrary.setDragScope(C,D)}var E=p!=null?p.isEnabled():true;if(this.isFull()){this.fire("maxConnections",{endpoint:this,connection:I,maxConnections:this._jsPlumb.maxConnections},B)}if(!this.isFull()&&!(G===0&&!this.isSource)&&!(G==1&&!this.isTarget)&&E){var J=true;if(I.suspendedEndpoint&&I.suspendedEndpoint.id!=this.id){if(G===0){I.source=I.suspendedEndpoint.element;I.sourceId=I.suspendedEndpoint.elementId}else{I.target=I.suspendedEndpoint.element;I.targetId=I.suspendedEndpoint.elementId}if(!I.isDetachAllowed(I)||!I.endpoints[G].isDetachAllowed(I)||!I.suspendedEndpoint.isDetachAllowed(I)||!c.checkCondition("beforeDetach",I)){J=false}}if(G===0){I.source=this.element;I.sourceId=this.elementId}else{I.target=this.element;I.targetId=this.elementId}var H=function(){I.floatingAnchorIndex=null};var A=function(){I.endpoints[G].detachFromConnection(I);if(I.suspendedEndpoint){I.suspendedEndpoint.detachFromConnection(I)}I.endpoints[G]=this;this.addConnection(I);var aq=this.getParameters();for(var at in aq){I.setParameter(at,aq[at])}if(!I.suspendedEndpoint){if(aq.draggable){jsPlumb.CurrentLibrary.initDraggable(this.element,W,true,c)}}else{var ar=I.suspendedEndpoint.getElement(),au=I.suspendedEndpoint.elementId;Q({source:G===0?ar:I.source,target:G==1?ar:I.target,sourceId:G===0?au:I.sourceId,targetId:G==1?au:I.targetId,sourceEndpoint:G===0?I.suspendedEndpoint:I.endpoints[0],targetEndpoint:G==1?I.suspendedEndpoint:I.endpoints[1],connection:I},true,B)}if(G==1){c.anchorManager.updateOtherEndpoint(I.sourceId,I.suspendedElementId,I.targetId,I)}else{c.anchorManager.sourceChanged(I.suspendedEndpoint.elementId,I.sourceId,I)}aj(I,null,B,true);H()}.bind(this);var M=function(){if(I.suspendedEndpoint){I.endpoints[G]=I.suspendedEndpoint;I.setHover(false);I._forceDetach=true;if(G===0){I.source=I.suspendedEndpoint.element;I.sourceId=I.suspendedEndpoint.elementId}else{I.target=I.suspendedEndpoint.element;I.targetId=I.suspendedEndpoint.elementId}I.suspendedEndpoint.addConnection(I);I.endpoints[0].repaint();I.repaint();c.repaint(I.sourceId);I._forceDetach=false}H()};J=J&&this.isDropAllowed(I.sourceId,I.targetId,I.scope,I,this);if(J){A()}else{M()}}c.currentlyDragging=false}}.bind(this);v[x]=ai.wrap(v[x],u);v[s]=ai.wrap(v[s],function(){var E=ah.getDragObject(arguments),A=c.getAttribute(E,"dragId"),B=O[A];if(B!=null){var z=B.floatingAnchorIndex==null?1:B.floatingAnchorIndex;var C=(this.isTarget&&B.floatingAnchorIndex!==0)||(B.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==B.suspendedEndpoint.id);if(C){var D=c.checkCondition("checkDropAllowed",{sourceEndpoint:B.endpoints[z],targetEndpoint:this,connection:B});this[(D?"add":"remove")+"Class"](c.endpointDropAllowedClass);this[(D?"remove":"add")+"Class"](c.endpointDropForbiddenClass);B.endpoints[z].anchor.over(this.anchor,this)}}}.bind(this));v[y]=ai.wrap(v[y],function(){var D=ah.getDragObject(arguments),A=c.getAttribute(D,"dragId"),B=O[A];if(B!=null){var z=B.floatingAnchorIndex==null?1:B.floatingAnchorIndex;var C=(this.isTarget&&B.floatingAnchorIndex!==0)||(B.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==B.suspendedEndpoint.id);if(C){this.removeClass(c.endpointDropAllowedClass);this.removeClass(c.endpointDropForbiddenClass);B.endpoints[z].anchor.out()}}}.bind(this));ah.initDroppable(w,v,true,t)}}.bind(this);V(af(this.canvas),true,!(f._transient||this.anchor.isFloating),this);if(f.type){this.addType(f.type,f.data,c.isSuspendDrawing())}return this};jsPlumbUtil.extend(jsPlumb.Endpoint,OverlayCapableJsPlumbUIComponent,{getTypeDescriptor:function(){return"endpoint"},isVisible:function(){return this._jsPlumb.visible},setVisible:function(c,e,d){this._jsPlumb.visible=c;if(this.canvas){this.canvas.style.display=c?"block":"none"}this[c?"showOverlays":"hideOverlays"]();if(!e){for(var a=0;a<this.connections.length;a++){this.connections[a].setVisible(c);if(!d){var b=this===this.connections[a].endpoints[0]?1:0;if(this.connections[a].endpoints[b].connections.length==1){this.connections[a].endpoints[b].setVisible(c,true,true)}}}}},getAttachedElements:function(){return this.connections},applyType:function(b,a){if(b.maxConnections!=null){this._jsPlumb.maxConnections=b.maxConnections}if(b.scope){this.scope=b.scope}jsPlumbUtil.copyValues(o,b,this)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(a){this._jsPlumb.enabled=a},cleanup:function(){jsPlumb.CurrentLibrary.removeClass(this.element,this._jsPlumb.instance.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);this.anchor=null;this.endpoint.cleanup();this.endpoint.destroy();this.endpoint=null;var a=jsPlumb.CurrentLibrary.getElementObject(this.canvas);jsPlumb.CurrentLibrary.destroyDraggable(a);jsPlumb.CurrentLibrary.destroyDroppable(a)},setHover:function(a){if(this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()){this.endpoint.setHover(a)}},isFull:function(){return !(this.isFloating()||this._jsPlumb.maxConnections<1||this.connections.length<this._jsPlumb.maxConnections)},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(a){this._jsPlumb.connectionCost=a},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(a){this._jsPlumb.connectionsDirected=a},setElementId:function(a){this.elementId=a;this.anchor.elementId=a},setReferenceElement:function(a){this.element=jsPlumb.CurrentLibrary.getDOMElement(a)},setDragAllowedWhenFull:function(a){this.dragAllowedWhenFull=a},equals:function(a){return this.anchor.equals(a.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(a){return this.anchor.compute(a)}})})();(function(){var f=function(h,c,a,b){if(!h.Defaults.DoNotThrowErrors&&jsPlumb.Connectors[c][a]==null){throw {msg:"jsPlumb: unknown connector type '"+a+"'"}}return new jsPlumb.Connectors[c][a](b)},e=function(a,b,c){return(a)?c.makeAnchor(a,b,c):null},d=function(H,D,C,E,b,A,z,u,B,c){var a;if(E){C.endpoints[b]=E;E.addConnection(C)}else{if(!A.endpoints){A.endpoints=[null,null]}var F=A.endpoints[b]||A.endpoint||H.Defaults.Endpoints[b]||jsPlumb.Defaults.Endpoints[b]||H.Defaults.Endpoint||jsPlumb.Defaults.Endpoint;if(!A.endpointStyles){A.endpointStyles=[null,null]}if(!A.endpointHoverStyles){A.endpointHoverStyles=[null,null]}var I=A.endpointStyles[b]||A.endpointStyle||H.Defaults.EndpointStyles[b]||jsPlumb.Defaults.EndpointStyles[b]||H.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle;if(I.fillStyle==null&&B!=null){I.fillStyle=B.strokeStyle}if(I.outlineColor==null&&B!=null){I.outlineColor=B.outlineColor}if(I.outlineWidth==null&&B!=null){I.outlineWidth=B.outlineWidth}var J=A.endpointHoverStyles[b]||A.endpointHoverStyle||H.Defaults.EndpointHoverStyles[b]||jsPlumb.Defaults.EndpointHoverStyles[b]||H.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle;if(c!=null){if(J==null){J={}}if(J.fillStyle==null){J.fillStyle=c.strokeStyle}}var K=A.anchors?A.anchors[b]:A.anchor?A.anchor:e(H.Defaults.Anchors[b],u,H)||e(jsPlumb.Defaults.Anchors[b],u,H)||e(H.Defaults.Anchor,u,H)||e(jsPlumb.Defaults.Anchor,u,H),G=A.uuids?A.uuids[b]:null;a=D({paintStyle:I,hoverPaintStyle:J,endpoint:F,connections:[C],uuid:G,anchor:K,source:z,scope:A.scope,container:A.container,reattach:A.reattach||H.Defaults.ReattachConnections,detachable:A.detachable||H.Defaults.ConnectionsDetachable});C.endpoints[b]=a;if(A.drawEndpoints===false){a.setVisible(false,true,true)}}return a};jsPlumb.Connection=function(O){var F=O.newConnection,E=O.newEndpoint,U=jsPlumb.CurrentLibrary,b=U.getAttribute,S=U.getElementObject,K=U.getDOMElement,V=jsPlumbUtil,M=U.getOffset;this.connector=null;this.idPrefix="_jsplumb_c_";this.defaultLabelLocation=0.5;this.defaultOverlayKeys=["Overlays","ConnectionOverlays"];this.parent=O.parent;this.previousConnection=O.previousConnection;this.source=K(O.source);this.target=K(O.target);if(O.sourceEndpoint){this.source=O.sourceEndpoint.endpointWillMoveTo||O.sourceEndpoint.getElement()}if(O.targetEndpoint){this.target=O.targetEndpoint.getElement()}OverlayCapableJsPlumbUIComponent.apply(this,arguments);this.sourceId=this._jsPlumb.instance.getId(this.source);this.targetId=this._jsPlumb.instance.getId(this.target);this.scope=O.scope;this.endpoints=[];this.endpointStyles=[];var L=this._jsPlumb.instance;this._jsPlumb.visible=true;this._jsPlumb.editable=O.editable===true;this._jsPlumb.params={parent:O.parent,cssClass:O.cssClass,container:O.container,"pointer-events":O["pointer-events"],editorParams:O.editorParams};this._jsPlumb.lastPaintedAt=null;this.getDefaultType=function(){return{parameters:{},scope:null,detachable:this._jsPlumb.instance.Defaults.ConnectionsDetachable,rettach:this._jsPlumb.instance.Defaults.ReattachConnections,paintStyle:this._jsPlumb.instance.Defaults.PaintStyle||jsPlumb.Defaults.PaintStyle,connector:this._jsPlumb.instance.Defaults.Connector||jsPlumb.Defaults.Connector,hoverPaintStyle:this._jsPlumb.instance.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle,overlays:this._jsPlumb.instance.Defaults.ConnectorOverlays||jsPlumb.Defaults.ConnectorOverlays}};var H=d(L,E,this,O.sourceEndpoint,0,O,this.source,this.sourceId,O.paintStyle,O.hoverPaintStyle);if(H){V.addToList(O.endpointsByElement,this.sourceId,H)}var J=d(L,E,this,O.targetEndpoint,1,O,this.target,this.targetId,O.paintStyle,O.hoverPaintStyle);if(J){V.addToList(O.endpointsByElement,this.targetId,J)}if(!this.scope){this.scope=this.endpoints[0].scope}if(O.deleteEndpointsOnDetach!=null){this.endpoints[0]._deleteOnDetach=O.deleteEndpointsOnDetach;this.endpoints[1]._deleteOnDetach=O.deleteEndpointsOnDetach}else{if(!this.endpoints[0]._doNotDeleteOnDetach){this.endpoints[0]._deleteOnDetach=true}if(!this.endpoints[1]._doNotDeleteOnDetach){this.endpoints[1]._deleteOnDetach=true}}this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||O.connector||L.Defaults.Connector||jsPlumb.Defaults.Connector,true);if(O.path){this.connector.setPath(O.path)}this.setPaintStyle(this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||O.paintStyle||L.Defaults.PaintStyle||jsPlumb.Defaults.PaintStyle,true);this.setHoverPaintStyle(this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||O.hoverPaintStyle||L.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle,true);this._jsPlumb.paintStyleInUse=this.getPaintStyle();var T=L.getSuspendedAt();L.updateOffset({elId:this.sourceId,timestamp:T});L.updateOffset({elId:this.targetId,timestamp:T});if(!L.isSuspendDrawing()){var W=L.getCachedData(this.sourceId),Q=W.o,R=W.s,a=L.getCachedData(this.targetId),Z=a.o,P=a.s,N=T||L.timestamp(),G=this.endpoints[0].anchor.compute({xy:[Q.left,Q.top],wh:R,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[Z.left,Z.top],twh:P,tElement:this.endpoints[1],timestamp:N});this.endpoints[0].paint({anchorLoc:G,timestamp:N});G=this.endpoints[1].anchor.compute({xy:[Z.left,Z.top],wh:P,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[Q.left,Q.top],twh:R,tElement:this.endpoints[0],timestamp:N});this.endpoints[1].paint({anchorLoc:G,timestamp:N})}this._jsPlumb.detachable=L.Defaults.ConnectionsDetachable;if(O.detachable===false){this._jsPlumb.detachable=false}if(this.endpoints[0].connectionsDetachable===false){this._jsPlumb.detachable=false}if(this.endpoints[1].connectionsDetachable===false){this._jsPlumb.detachable=false}this._jsPlumb.reattach=O.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||L.Defaults.ReattachConnections;this._jsPlumb.cost=O.cost||this.endpoints[0].getConnectionCost();this._jsPlumb.directed=O.directed;if(O.directed==null){this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected()}var I=jsPlumb.extend({},this.endpoints[1].getParameters());jsPlumb.extend(I,this.endpoints[0].getParameters());jsPlumb.extend(I,this.getParameters());this.setParameters(I);var c=O.type||this.endpoints[0].connectionType||this.endpoints[1].connectionType;if(c){this.addType(c,O.data,true)}};jsPlumbUtil.extend(jsPlumb.Connection,OverlayCapableJsPlumbUIComponent,{applyType:function(b,a){if(b.detachable!=null){this.setDetachable(b.detachable)}if(b.reattach!=null){this.setReattach(b.reattach)}if(b.scope){this.scope=b.scope}this.setConnector(b.connector,a)},getTypeDescriptor:function(){return"connection"},getAttachedElements:function(){return this.endpoints},addClass:function(a,b){if(b){this.endpoints[0].addClass(a);this.endpoints[1].addClass(a);if(this.suspendedEndpoint){this.suspendedEndpoint.addClass(a)}}if(this.connector){this.connector.addClass(a)}},removeClass:function(a,b){if(b){this.endpoints[0].removeClass(a);this.endpoints[1].removeClass(a);if(this.suspendedEndpoint){this.suspendedEndpoint.removeClass(a)}}if(this.connector){this.connector.removeClass(a)}},isVisible:function(){return this._jsPlumb.visible},setVisible:function(a){this._jsPlumb.visible=a;this[a?"showOverlays":"hideOverlays"]();if(this.connector&&this.connector.canvas){this.connector.canvas.style.display=a?"block":"none"}this.repaint()},setEditable:function(a){if(this.connector&&this.connector.isEditable()){this._jsPlumb.editable=a}return this._jsPlumb.editable},isEditable:function(){return this._jsPlumb.editable},editStarted:function(){this.setSuspendEvents(true);this.fire("editStarted",{path:this.connector.getPath()});this._jsPlumb.instance.setHoverSuspended(true)},editCompleted:function(){this.fire("editCompleted",{path:this.connector.getPath()});this.setSuspendEvents(false);this.setHover(false);this._jsPlumb.instance.setHoverSuspended(false)},editCanceled:function(){this.fire("editCanceled",{path:this.connector.getPath()});this.setHover(false);this._jsPlumb.instance.setHoverSuspended(false)},cleanup:function(){this.endpoints=null;this.source=null;this.target=null;if(this.connector!=null){this.connector.cleanup();this.connector.destroy()}this.connector=null},isDetachable:function(){return this._jsPlumb.detachable===true},setDetachable:function(a){this._jsPlumb.detachable=a===true},isReattach:function(){return this._jsPlumb.reattach===true},setReattach:function(a){this._jsPlumb.reattach=a===true},setHover:function(a){if(this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()){this.connector.setHover(a);jsPlumb.CurrentLibrary[a?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass);jsPlumb.CurrentLibrary[a?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass)}},getCost:function(){return this._jsPlumb.cost},setCost:function(a){this._jsPlumb.cost=a},isDirected:function(){return this._jsPlumb.directed===true},moveParent:function(a){var b=jsPlumb.CurrentLibrary,c=b.getParent(this.connector.canvas);if(this.connector.bgCanvas){b.removeElement(this.connector.bgCanvas);b.appendElement(this.connector.bgCanvas,a)}b.removeElement(this.connector.canvas);b.appendElement(this.connector.canvas,a);for(var h=0;h<this._jsPlumb.overlays.length;h++){if(this._jsPlumb.overlays[h].isAppendedAtTopLevel){b.removeElement(this._jsPlumb.overlays[h].canvas);b.appendElement(this._jsPlumb.overlays[h].canvas,a);if(this._jsPlumb.overlays[h].reattachListeners){this._jsPlumb.overlays[h].reattachListeners(this.connector)}}}if(this.connector.reattachListeners){this.connector.reattachListeners()}},getConnector:function(){return this.connector},setConnector:function(b,l){var m=jsPlumbUtil;if(this.connector!=null){this.connector.cleanup();this.connector.destroy()}var a={_jsPlumb:this._jsPlumb.instance,parent:this._jsPlumb.params.parent,cssClass:this._jsPlumb.params.cssClass,container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},c=this._jsPlumb.instance.getRenderMode();if(m.isString(b)){this.connector=f(this._jsPlumb.instance,c,b,a)}else{if(m.isArray(b)){if(b.length==1){this.connector=f(this._jsPlumb.instance,c,b[0],a)}else{this.connector=f(this._jsPlumb.instance,c,b[0],m.merge(b[1],a))}}}this.bindListeners(this.connector,this,function(g){this.setHover(g,false)}.bind(this));this.canvas=this.connector.canvas;if(this._jsPlumb.editable&&jsPlumb.ConnectorEditors!=null&&jsPlumb.ConnectorEditors[this.connector.type]&&this.connector.isEditable()){new jsPlumb.ConnectorEditors[this.connector.type]({connector:this.connector,connection:this,params:this._jsPlumb.params.editorParams||{}})}else{editable=false}if(!l){this.repaint()}},paint:function(N){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){N=N||{};var M=N.elId,L=N.ui,T=N.recalc,Z=N.timestamp,J=false,O=J?this.sourceId:this.targetId,U=J?this.targetId:this.sourceId,W=J?0:1,I=J?1:0;if(Z==null||Z!=this._jsPlumb.lastPaintedAt){var H=this._jsPlumb.instance.updateOffset({elId:U,offset:L,recalc:T,timestamp:Z}).o,S=this._jsPlumb.instance.updateOffset({elId:O,timestamp:Z}).o,c=this.endpoints[I],aa=this.endpoints[W];if(N.clearEdits){c.anchor.clearUserDefinedLocation();aa.anchor.clearUserDefinedLocation();this.connector.setEdited(false)}if(!H||!S){return}var V=c.anchor.getCurrentLocation({xy:[H.left,H.top],wh:[H.width,H.height],element:c,timestamp:Z}),P=aa.anchor.getCurrentLocation({xy:[S.left,S.top],wh:[S.width,S.height],element:aa,timestamp:Z});this.connector.resetBounds();this.connector.compute({sourcePos:V,targetPos:P,sourceEndpoint:this.endpoints[I],targetEndpoint:this.endpoints[W],lineWidth:this._jsPlumb.paintStyleInUse.lineWidth,sourceInfo:H,targetInfo:S,clearEdits:N.clearEdits===true});var Q={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity};for(var R=0;R<this._jsPlumb.overlays.length;R++){var o=this._jsPlumb.overlays[R];if(o.isVisible()){this._jsPlumb.overlayPlacements[R]=o.draw(this.connector,this._jsPlumb.paintStyleInUse);Q.minX=Math.min(Q.minX,this._jsPlumb.overlayPlacements[R].minX);Q.maxX=Math.max(Q.maxX,this._jsPlumb.overlayPlacements[R].maxX);Q.minY=Math.min(Q.minY,this._jsPlumb.overlayPlacements[R].minY);Q.maxY=Math.max(Q.maxY,this._jsPlumb.overlayPlacements[R].maxY)}}var ab=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||1)/2,K=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||0),a={xmin:Math.min(this.connector.bounds.minX-(ab+K),Q.minX),ymin:Math.min(this.connector.bounds.minY-(ab+K),Q.minY),xmax:Math.max(this.connector.bounds.maxX+(ab+K),Q.maxX),ymax:Math.max(this.connector.bounds.maxY+(ab+K),Q.maxY)};this.connector.paint(this._jsPlumb.paintStyleInUse,null,a);for(var b=0;b<this._jsPlumb.overlays.length;b++){var p=this._jsPlumb.overlays[b];if(p.isVisible()){p.paint(this._jsPlumb.overlayPlacements[b],a)}}}this._jsPlumb.lastPaintedAt=Z}},repaint:function(a){a=a||{};this.paint({elId:this.sourceId,recalc:!(a.recalc===false),timestamp:a.timestamp,clearEdits:a.clearEdits})}})})();(function(){jsPlumb.AnchorManager=function(N){var V={},F={},b={},O={},K={},a={HORIZONTAL:"horizontal",VERTICAL:"vertical",DIAGONAL:"diagonal",IDENTITY:"identity"},T={},I=this,S={},H=N.jsPlumbInstance,U=jsPlumb.CurrentLibrary,M={},Q=function(h,g,o,t,n,v){if(h===g){return{orientation:a.IDENTITY,a:["top","top"]}}var u=Math.atan2((t.centery-o.centery),(t.centerx-o.centerx)),p=Math.atan2((o.centery-t.centery),(o.centerx-t.centerx)),q=((o.left<=t.left&&o.right>=t.left)||(o.left<=t.right&&o.right>=t.right)||(o.left<=t.left&&o.right>=t.right)||(t.left<=o.left&&t.right>=o.right)),l=((o.top<=t.top&&o.bottom>=t.top)||(o.top<=t.bottom&&o.bottom>=t.bottom)||(o.top<=t.top&&o.bottom>=t.bottom)||(t.top<=o.top&&t.bottom>=o.bottom)),m=function(w){return[n.isContinuous?n.verifyEdge(w[0]):w[0],v.isContinuous?v.verifyEdge(w[1]):w[1]]},s={orientation:a.DIAGONAL,theta:u,theta2:p};if(!(q||l)){if(t.left>o.left&&t.top>o.top){s.a=["right","top"]}else{if(t.left>o.left&&o.top>t.top){s.a=["top","left"]}else{if(t.left<o.left&&t.top<o.top){s.a=["top","right"]}else{if(t.left<o.left&&t.top>o.top){s.a=["left","top"]}}}}}else{if(q){s.orientation=a.HORIZONTAL;s.a=o.top<t.top?["bottom","top"]:["top","bottom"]}else{s.orientation=a.VERTICAL;s.a=o.left<t.left?["right","left"]:["left","right"]}}s.a=m(s.a);return s},J=function(m,q,t,s,l,p,z){var h=[],A=q[l?0:1]/(s.length+1);for(var o=0;o<s.length;o++){var g=(o+1)*A,B=p*q[l?1:0];if(z){g=q[l?0:1]-g}var u=(l?g:B),x=t[0]+u,v=u/q[0],w=(l?B:g),y=t[1]+w,n=w/q[1];h.push([x,y,v,n,s[o][1],s[o][2]])}return h},L=function(g){return function(l,m){var h=true;if(g){h=l[0][0]<m[0][0]}else{h=l[0][0]>m[0][0]}return h===false?-1:1}},Z=function(l,m){var g=l[0][0]<0?-Math.PI-l[0][0]:Math.PI-l[0][0],h=m[0][0]<0?-Math.PI-m[0][0]:Math.PI-m[0][0];if(g>h){return 1}else{return l[0][1]>m[0][1]?1:-1}},E={top:function(g,h){return g[0]>h[0]?1:-1},right:L(true),bottom:L(true),left:Z},G=function(h,g){return h.sort(g)},R=function(n,o){var g=H.getCachedData(n),l=g.s,h=g.o,m=function(y,q,C,z,t,u,D){if(z.length>0){var v=G(z,E[y]),x=y==="right"||y==="top",aa=J(y,q,C,v,t,u,x);var p=function(ae,af){var ag=H.adjustForParentOffsetAndScroll([af[0],af[1]],ae.canvas);b[ae.id]=[ag[0],ag[1],af[2],af[3]];K[ae.id]=D};for(var B=0;B<aa.length;B++){var w=aa[B][4],s=w.endpoints[0].elementId===n,A=w.endpoints[1].elementId===n;if(s){p(w.endpoints[0],aa[B])}else{if(A){p(w.endpoints[1],aa[B])}}}}};m("bottom",l,[h.left,h.top],o.bottom,true,1,[0,1]);m("top",l,[h.left,h.top],o.top,true,0,[0,-1]);m("left",l,[h.left,h.top],o.left,false,0,[-1,0]);m("right",l,[h.left,h.top],o.right,false,1,[1,0])};this.reset=function(){V={};T={};S={}};this.addFloatingConnection=function(h,g){M[h]=g};this.removeFloatingConnection=function(g){delete M[g]};this.newConnection=function(l){var g=l.sourceId,m=l.targetId,o=l.endpoints,h=true,n=function(q,p,t,u,s){if((g==m)&&t.isContinuous){U.removeElement(o[1].canvas);h=false}jsPlumbUtil.addToList(T,u,[s,p,t.constructor==jsPlumb.DynamicAnchor])};n(0,o[0],o[0].anchor,m,l);if(h){n(1,o[1],o[1].anchor,g,l)}};var W=function(g){(function(h,m){if(h){var l=function(n){return n[4]==m};jsPlumbUtil.removeWithFunction(h.top,l);jsPlumbUtil.removeWithFunction(h.left,l);jsPlumbUtil.removeWithFunction(h.bottom,l);jsPlumbUtil.removeWithFunction(h.right,l)}})(S[g.elementId],g.id)};this.connectionDetached=function(g){var n=g.connection||g,h=g.sourceId,m=g.targetId,o=n.endpoints,l=function(q,p,t,u,s){if(t!=null&&t.constructor==jsPlumb.FloatingAnchor){}else{jsPlumbUtil.removeWithFunction(T[u],function(v){return v[0].id==s.id})}};l(1,o[1],o[1].anchor,h,n);l(0,o[0],o[0].anchor,m,n);W(n.endpoints[0]);W(n.endpoints[1]);I.redraw(n.sourceId);I.redraw(n.targetId)};this.add=function(g,h){jsPlumbUtil.addToList(V,h,g)};this.changeId=function(g,h){T[h]=T[g];V[h]=V[g];delete T[g];delete V[g]};this.getConnectionsFor=function(g){return T[g]||[]};this.getEndpointsFor=function(g){return V[g]||[]};this.deleteEndpoint=function(g){jsPlumbUtil.removeWithFunction(V[g.elementId],function(h){return h.id==g.id});W(g)};this.clearFor=function(g){delete V[g];V[g]=[]};var P=function(af,w,n,z,t,s,p,u,ad,q,A,g){var l=-1,B=-1,y=z.endpoints[p],o=y.id,v=[1,0][p],D=[[w,n],z,t,s,o],C=af[ad],ae=y._continuousAnchorEdge?af[y._continuousAnchorEdge]:null;if(ae){var h=jsPlumbUtil.findWithFunction(ae,function(aa){return aa[4]==o});if(h!=-1){ae.splice(h,1);for(var m=0;m<ae.length;m++){jsPlumbUtil.addWithFunction(A,ae[m][1],function(aa){return aa.id==ae[m][1].id});jsPlumbUtil.addWithFunction(g,ae[m][1].endpoints[p],function(aa){return aa.id==ae[m][1].endpoints[p].id});jsPlumbUtil.addWithFunction(g,ae[m][1].endpoints[v],function(aa){return aa.id==ae[m][1].endpoints[v].id})}}}for(m=0;m<C.length;m++){if(N.idx==1&&C[m][3]===s&&B==-1){B=m}jsPlumbUtil.addWithFunction(A,C[m][1],function(aa){return aa.id==C[m][1].id});jsPlumbUtil.addWithFunction(g,C[m][1].endpoints[p],function(aa){return aa.id==C[m][1].endpoints[p].id});jsPlumbUtil.addWithFunction(g,C[m][1].endpoints[v],function(aa){return aa.id==C[m][1].endpoints[v].id})}if(l!=-1){C[l]=D}else{var x=u?B!=-1?B:0:C.length;C.splice(x,0,D)}y._continuousAnchorEdge=ad};this.updateOtherEndpoint=function(n,h,g,o){var l=jsPlumbUtil.findWithFunction(T[n],function(p){return p[0].id===o.id}),m=jsPlumbUtil.findWithFunction(T[h],function(p){return p[0].id===o.id});if(l!=-1){T[n][l][0]=o;T[n][l][1]=o.endpoints[1];T[n][l][2]=o.endpoints[1].anchor.constructor==jsPlumb.DynamicAnchor}if(m>-1){T[h].splice(m,1);jsPlumbUtil.addToList(T,g,[o,o.endpoints[0],o.endpoints[0].anchor.constructor==jsPlumb.DynamicAnchor])}};this.sourceChanged=function(l,g,h){jsPlumbUtil.removeWithFunction(T[l],function(n){return n[0].id===h.id});var m=jsPlumbUtil.findWithFunction(T[h.targetId],function(n){return n[0].id===h.id});if(m>-1){T[h.targetId][m][0]=h;T[h.targetId][m][1]=h.endpoints[0];T[h.targetId][m][2]=h.endpoints[0].anchor.constructor==jsPlumb.DynamicAnchor}jsPlumbUtil.addToList(T,g,[h,h.endpoints[1],h.endpoints[1].anchor.constructor==jsPlumb.DynamicAnchor])};this.rehomeEndpoint=function(n,p,h){var o=V[p]||[],m=H.getId(h);if(m!==p){var q=jsPlumbUtil.indexOf(o,n);if(q>-1){var g=o.splice(q,1)[0];I.add(g,m)}}for(var l=0;l<n.connections.length;l++){if(n.connections[l].sourceId==p){n.connections[l].sourceId=n.elementId;n.connections[l].source=n.element;I.sourceChanged(p,n.elementId,n.connections[l])}else{if(n.connections[l].targetId==p){n.connections[l].targetId=n.elementId;n.connections[l].target=n.element;I.updateOtherEndpoint(n.connections[l].sourceId,p,n.elementId,n.connections[l])}}}};this.redraw=function(o,h,B,y,ao,m){if(!H.isSuspendDrawing()){var aj=V[o]||[],ak=T[o]||[],C=[],al=[],A=[];B=B||H.timestamp();y=y||{left:0,top:0};if(h){h={left:h.left+y.left,top:h.top+y.top}}var u=H.updateOffset({elId:o,offset:h,recalc:false,timestamp:B}),s={};for(var an=0;an<ak.length;an++){var x=ak[an][0],v=x.sourceId,z=x.targetId,w=x.endpoints[0].anchor.isContinuous,p=x.endpoints[1].anchor.isContinuous;if(w||p){var am=v+"_"+z,aq=z+"_"+v,ar=s[am],q=x.sourceId==o?1:0;if(w&&!S[v]){S[v]={top:[],right:[],bottom:[],left:[]}}if(p&&!S[z]){S[z]={top:[],right:[],bottom:[],left:[]}}if(o!=z){H.updateOffset({elId:z,timestamp:B})}if(o!=v){H.updateOffset({elId:v,timestamp:B})}var t=H.getCachedData(z),D=H.getCachedData(v);if(z==v&&(w||p)){P(S[v],-Math.PI/2,0,x,false,z,0,false,"top",v,C,al)}else{if(!ar){ar=Q(v,z,D.o,t.o,x.endpoints[0].anchor,x.endpoints[1].anchor);s[am]=ar}if(w){P(S[v],ar.theta,0,x,false,z,0,false,ar.a[0],v,C,al)}if(p){P(S[z],ar.theta2,-1,x,true,v,1,true,ar.a[1],z,C,al)}}if(w){jsPlumbUtil.addWithFunction(A,v,function(aa){return aa===v})}if(p){jsPlumbUtil.addWithFunction(A,z,function(aa){return aa===z})}jsPlumbUtil.addWithFunction(C,x,function(aa){return aa.id==x.id});if((w&&q===0)||(p&&q===1)){jsPlumbUtil.addWithFunction(al,x.endpoints[q],function(aa){return aa.id==x.endpoints[q].id})}}}for(an=0;an<aj.length;an++){if(aj[an].connections.length===0&&aj[an].anchor.isContinuous){if(!S[o]){S[o]={top:[],right:[],bottom:[],left:[]}}P(S[o],-Math.PI/2,0,{endpoints:[aj[an],aj[an]],paint:function(){}},false,o,0,false,"top",o,C,al);jsPlumbUtil.addWithFunction(A,o,function(aa){return aa===o})}}for(an=0;an<A.length;an++){R(A[an],S[A[an]])}for(an=0;an<aj.length;an++){aj[an].paint({timestamp:B,offset:u,dimensions:u.s,recalc:m!==true})}for(an=0;an<al.length;an++){var l=H.getCachedData(al[an].elementId);al[an].paint({timestamp:B,offset:l,dimensions:l.s})}for(an=0;an<ak.length;an++){var n=ak[an][1];if(n.anchor.constructor==jsPlumb.DynamicAnchor){n.paint({elementWithPrecedence:o,timestamp:B});jsPlumbUtil.addWithFunction(C,ak[an][0],function(aa){return aa.id==ak[an][0].id});for(var ap=0;ap<n.connections.length;ap++){if(n.connections[ap]!==ak[an][0]){jsPlumbUtil.addWithFunction(C,n.connections[ap],function(aa){return aa.id==n.connections[ap].id})}}}else{if(n.anchor.constructor==jsPlumb.Anchor){jsPlumbUtil.addWithFunction(C,ak[an][0],function(aa){return aa.id==ak[an][0].id})}}}var g=M[o];if(g){g.paint({timestamp:B,recalc:false,elId:o})}for(an=0;an<C.length;an++){C[an].paint({elId:o,timestamp:B,recalc:false,clearEdits:ao})}}};var c=function(s){jsPlumbUtil.EventGenerator.apply(this);this.type="Continuous";this.isDynamic=true;this.isContinuous=true;var o=s.faces||["top","right","bottom","left"],t=!(s.clockwise===false),g={},l={top:"bottom",right:"left",left:"right",bottom:"top"},p={top:"right",right:"bottom",left:"top",bottom:"left"},n={top:"left",right:"top",left:"bottom",bottom:"right"},q=t?p:n,u=t?n:p,h=s.cssClass||"";for(var m=0;m<o.length;m++){g[o[m]]=true}this.verifyEdge=function(v){if(g[v]){return v}else{if(g[l[v]]){return l[v]}else{if(g[q[v]]){return q[v]}else{if(g[u[v]]){return u[v]}}}}return v};this.compute=function(v){return O[v.element.id]||b[v.element.id]||[0,0]};this.getCurrentLocation=function(v){return O[v.element.id]||b[v.element.id]||[0,0]};this.getOrientation=function(v){return K[v.id]||[0,0]};this.clearUserDefinedLocation=function(){delete O[s.elementId]};this.setUserDefinedLocation=function(v){O[s.elementId]=v};this.getCssClass=function(){return h};this.setCssClass=function(v){h=v}};H.continuousAnchorFactory={get:function(g){var h=F[g.elementId];if(!h){h=new c(g);F[g.elementId]=h}return h},clear:function(g){delete F[g]}}};jsPlumb.Anchor=function(a){this.x=a.x||0;this.y=a.y||0;this.elementId=a.elementId;this.cssClass=a.cssClass||"";this.userDefinedLocation=null;this.orientation=a.orientation||[0,0];jsPlumbUtil.EventGenerator.apply(this);var b=a.jsPlumbInstance;this.lastReturnValue=null;this.offsets=a.offsets||[0,0];this.timestamp=null;this.compute=function(c){var n=c.xy,q=c.wh,p=c.element,o=c.timestamp;if(c.clearUserDefinedLocation){this.userDefinedLocation=null}if(o&&o===self.timestamp){return this.lastReturnValue}if(this.userDefinedLocation!=null){this.lastReturnValue=this.userDefinedLocation}else{this.lastReturnValue=[n[0]+(this.x*q[0])+this.offsets[0],n[1]+(this.y*q[1])+this.offsets[1]];this.lastReturnValue=b.adjustForParentOffsetAndScroll(this.lastReturnValue,p.canvas)}this.timestamp=o;return this.lastReturnValue};this.getCurrentLocation=function(c){return(this.lastReturnValue==null||(c.timestamp!=null&&this.timestamp!=c.timestamp))?this.compute(c):this.lastReturnValue}};jsPlumbUtil.extend(jsPlumb.Anchor,jsPlumbUtil.EventGenerator,{equals:function(c){if(!c){return false}var b=c.getOrientation(),a=this.getOrientation();return this.x==c.x&&this.y==c.y&&this.offsets[0]==c.offsets[0]&&this.offsets[1]==c.offsets[1]&&a[0]==b[0]&&a[1]==b[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(a){this.userDefinedLocation=a},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(a){return this.orientation},getCssClass:function(){return this.cssClass}});jsPlumb.FloatingAnchor=function(v){jsPlumb.Anchor.apply(this,arguments);var w=v.reference,u=jsPlumb.CurrentLibrary,s=v.jsPlumbInstance,q=v.referenceCanvas,b=u.getSize(u.getElementObject(q)),a=0,t=0,x=null,c=null;this.orientation=null;this.x=0;this.y=0;this.isFloating=true;this.compute=function(g){var h=g.xy,l=g.element,m=[h[0]+(b[0]/2),h[1]+(b[1]/2)];m=s.adjustForParentOffsetAndScroll(m,l.canvas);c=m;return m};this.getOrientation=function(g){if(x){return x}else{var h=w.getOrientation(g);return[Math.abs(h[0])*a*-1,Math.abs(h[1])*t*-1]}};this.over=function(h,g){x=h.getOrientation(g)};this.out=function(){x=null};this.getCurrentLocation=function(g){return c==null?this.compute(g):c}};jsPlumbUtil.extend(jsPlumb.FloatingAnchor,jsPlumb.Anchor);var f=function(a,b,c){return a.constructor==jsPlumb.Anchor?a:b.makeAnchor(a,c,b)};jsPlumb.DynamicAnchor=function(a){jsPlumb.Anchor.apply(this,arguments);this.isSelective=true;this.isDynamic=true;this.anchors=[];this.elementId=a.elementId;this.jsPlumbInstance=a.jsPlumbInstance;for(var o=0;o<a.anchors.length;o++){this.anchors[o]=f(a.anchors[o],this.jsPlumbInstance,this.elementId)}this.addAnchor=function(g){this.anchors.push(f(g,this.jsPlumbInstance,this.elementId))};this.getAnchors=function(){return this.anchors};this.locked=false;var p=this.anchors.length>0?this.anchors[0]:null,c=this.anchors.length>0?0:-1,b=p,q=this,s=function(y,B,g,n,h){var l=n[0]+(y.x*h[0]),m=n[1]+(y.y*h[1]),z=n[0]+(h[0]/2),A=n[1]+(h[1]/2);return(Math.sqrt(Math.pow(B-l,2)+Math.pow(g-m,2))+Math.sqrt(Math.pow(z-l,2)+Math.pow(A-m,2)))},t=a.selector||function(m,h,g,F,l){var D=g[0]+(F[0]/2),E=g[1]+(F[1]/2);var B=-1,n=Infinity;for(var C=0;C<l.length;C++){var A=s(l[C],D,E,m,h);if(A<n){B=C+0;n=A}}return l[B]};this.compute=function(h){var l=h.xy,x=h.wh,n=h.timestamp,w=h.txy,g=h.twh;if(h.clearUserDefinedLocation){userDefinedLocation=null}this.timestamp=n;var m=q.getUserDefinedLocation();if(m!=null){return m}if(this.locked||w==null||g==null){return p.compute(h)}else{h.timestamp=null}p=t(l,x,w,g,this.anchors);this.x=p.x;this.y=p.y;if(p!=b){this.fire("anchorChanged",p)}b=p;return p.compute(h)};this.getCurrentLocation=function(g){return this.getUserDefinedLocation()||(p!=null?p.getCurrentLocation(g):null)};this.getOrientation=function(g){return p!=null?p.getOrientation(g):[0,0]};this.over=function(h,g){if(p!=null){p.over(h,g)}};this.out=function(){if(p!=null){p.out()}};this.getCssClass=function(){return(p&&p.getCssClass())||""}};jsPlumbUtil.extend(jsPlumb.DynamicAnchor,jsPlumb.Anchor);var d=function(o,a,m,n,b,c){jsPlumb.Anchors[b]=function(h){var g=h.jsPlumbInstance.makeAnchor([o,a,m,n,0,0],h.elementId,h.jsPlumbInstance);g.type=b;if(c){c(g,h)}return g}};d(0.5,0,0,-1,"TopCenter");d(0.5,1,0,1,"BottomCenter");d(0,0.5,-1,0,"LeftMiddle");d(1,0.5,1,0,"RightMiddle");d(0.5,0,0,-1,"Top");d(0.5,1,0,1,"Bottom");d(0,0.5,-1,0,"Left");d(1,0.5,1,0,"Right");d(0.5,0.5,0,0,"Center");d(1,0,0,-1,"TopRight");d(1,1,0,1,"BottomRight");d(0,0,0,-1,"TopLeft");d(0,1,0,1,"BottomLeft");jsPlumb.Defaults.DynamicAnchors=function(a){return a.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],a.elementId,a.jsPlumbInstance)};jsPlumb.Anchors.AutoDefault=function(a){var b=a.jsPlumbInstance.makeDynamicAnchor(jsPlumb.Defaults.DynamicAnchors(a));b.type="AutoDefault";return b};var e=function(a,b){jsPlumb.Anchors[a]=function(c){var h=c.jsPlumbInstance.makeAnchor(["Continuous",{faces:b}],c.elementId,c.jsPlumbInstance);h.type=a;return h}};jsPlumb.Anchors.Continuous=function(a){return a.jsPlumbInstance.continuousAnchorFactory.get(a)};e("ContinuousLeft",["left"]);e("ContinuousTop",["top"]);e("ContinuousBottom",["bottom"]);e("ContinuousRight",["right"]);jsPlumb.Anchors.Assign=d(0,0,0,0,"Assign",function(b,a){var c=a.position||"Fixed";b.positionFinder=c.constructor==String?a.jsPlumbInstance.AnchorPositionFinders[c]:c;b.constructorParams=a});jsPlumb.AnchorPositionFinders={Fixed:function(a,h,b,c){return[(a.left-h.left)/b[0],(a.top-h.top)/b[1]]},Grid:function(x,a,t,w){var b=x.left-a.left,c=x.top-a.top,q=t[0]/(w.grid[0]),s=t[1]/(w.grid[1]),u=Math.floor(b/q),v=Math.floor(c/s);return[((u*q)+(q/2))/t[0],((v*s)+(s/2))/t[1]]}};jsPlumb.Anchors.Perimeter=function(z){z=z||{};var y=z.anchorCount||60,v=z.shape;if(!v){throw new Error("no shape supplied to Perimeter Anchor type")}var x=function(){var h=0.5,l=Math.PI*2/y,p=0,n=[];for(var m=0;m<y;m++){var o=h+(h*Math.sin(p)),g=h+(h*Math.cos(p));n.push([o,g,0,0]);p+=l}return n},u=function(l){var g=y/l.length,n=[],m=function(p,F,H,G,q){g=y*q;var J=(H-p)/g,o=(G-F)/g;for(var I=0;I<g;I++){n.push([p+(J*I),F+(o*I),0,0])}};for(var h=0;h<l.length;h++){m.apply(null,l[h])}return n},c=function(l){var g=[];for(var h=0;h<l.length;h++){g.push([l[h][0],l[h][1],l[h][2],l[h][3],1/l.length])}return u(g)},t=function(){return c([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])};var w={Circle:x,Ellipse:x,Diamond:function(){return c([[0.5,0,1,0.5],[1,0.5,0.5,1],[0.5,1,0,0.5],[0,0.5,0.5,0]])},Rectangle:t,Square:t,Triangle:function(){return c([[0.5,0,1,1],[1,1,0,1],[0,1,0.5,0]])},Path:function(p){var h=p.points,g=[],n=0;for(var l=0;l<h.length-1;l++){var o=Math.sqrt(Math.pow(h[l][2]-h[l][0])+Math.pow(h[l][3]-h[l][1]));n+=o;g.push([h[l][0],h[l][1],h[l+1][0],h[l+1][1],o])}for(var m=0;m<g.length;m++){g[m][4]=g[m][4]/n}return u(g)}},b=function(g,h){var p=[],l=h/180*Math.PI;for(var m=0;m<g.length;m++){var n=g[m][0]-0.5,o=g[m][1]-0.5;p.push([0.5+((n*Math.cos(l))-(o*Math.sin(l))),0.5+((n*Math.sin(l))+(o*Math.cos(l))),g[m][2],g[m][3]])}return p};if(!w[v]){throw new Error("Shape ["+v+"] is unknown by Perimeter Anchor type")}var a=w[v](z);if(z.rotation){a=b(a,z.rotation)}var s=z.jsPlumbInstance.makeDynamicAnchor(a);s.type="Perimeter";return s}})();(function(){jsPlumb.DOMElementComponent=jsPlumbUtil.extend(jsPlumb.jsPlumbUIComponent,function(a){this.mousemove=this.dblclick=this.click=this.mousedown=this.mouseup=function(b){}});jsPlumb.Segments={AbstractSegment:function(a){this.params=a;this.findClosestPointOnPath=function(c,b){return{d:Infinity,x:null,y:null,l:null}};this.getBounds=function(){return{minX:Math.min(a.x1,a.x2),minY:Math.min(a.y1,a.y2),maxX:Math.max(a.x1,a.x2),maxY:Math.max(a.y1,a.y2)}}},Straight:function(a){var w=jsPlumb.Segments.AbstractSegment.apply(this,arguments),c,b,g,d,e,x,y,f=function(){c=Math.sqrt(Math.pow(e-d,2)+Math.pow(y-x,2));b=jsPlumbUtil.gradient({x:d,y:x},{x:e,y:y});g=-1/b};this.type="Straight";this.getLength=function(){return c};this.getGradient=function(){return b};this.getCoordinates=function(){return{x1:d,y1:x,x2:e,y2:y}};this.setCoordinates=function(s){d=s.x1;x=s.y1;e=s.x2;y=s.y2;f()};this.setCoordinates({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2});this.getBounds=function(){return{minX:Math.min(d,e),minY:Math.min(x,y),maxX:Math.max(d,e),maxY:Math.max(x,y)}};this.pointOnPath=function(u,t){if(u===0&&!t){return{x:d,y:x}}else{if(u==1&&!t){return{x:e,y:y}}else{var s=t?u>0?u:c+u:u*c;return jsPlumbUtil.pointOnLine({x:d,y:x},{x:e,y:y},s)}}};this.gradientAtPoint=function(s){return b};this.pointAlongPathFrom=function(t,v,A){var s=this.pointOnPath(t,A),u=v<=0?{x:d,y:x}:{x:e,y:y};if(v<=0&&Math.abs(v)>1){v*=-1}return jsPlumbUtil.pointOnLine(s,u,v)};this.findClosestPointOnPath=function(u,v){if(b===0){return{x:u,y:x,d:Math.abs(v-x)}}else{if(b==Infinity||b==-Infinity){return{x:d,y:v,d:Math.abs(u-1)}}else{var t=x-(b*d),H=v-(g*u),s=(H-t)/(b-g),F=(b*s)+t,G=jsPlumbUtil.lineLength([u,v],[s,F]),I=jsPlumbUtil.lineLength([s,F],[d,x]);return{d:G,x:s,y:F,l:I/c}}}}},Arc:function(c){var w=jsPlumb.Segments.AbstractSegment.apply(this,arguments),a=function(s,t){return jsPlumbUtil.theta([c.cx,c.cy],[s,t])},g=function(D,t){if(D.anticlockwise){var u=D.startAngle<D.endAngle?D.startAngle+d:D.startAngle,s=Math.abs(u-D.endAngle);return u-(s*t)}else{var v=D.endAngle<D.startAngle?D.endAngle+d:D.endAngle,C=Math.abs(v-D.startAngle);return D.startAngle+(C*t)}},d=2*Math.PI;this.radius=c.r;this.anticlockwise=c.ac;this.type="Arc";if(c.startAngle&&c.endAngle){this.startAngle=c.startAngle;this.endAngle=c.endAngle;this.x1=c.cx+(this.radius*Math.cos(c.startAngle));this.y1=c.cy+(this.radius*Math.sin(c.startAngle));this.x2=c.cx+(this.radius*Math.cos(c.endAngle));this.y2=c.cy+(this.radius*Math.sin(c.endAngle))}else{this.startAngle=a(c.x1,c.y1);this.endAngle=a(c.x2,c.y2);this.x1=c.x1;this.y1=c.y1;this.x2=c.x2;this.y2=c.y2}if(this.endAngle<0){this.endAngle+=d}if(this.startAngle<0){this.startAngle+=d}this.segment=jsPlumbUtil.segment([this.x1,this.y1],[this.x2,this.y2]);var z=this.endAngle<this.startAngle?this.endAngle+d:this.endAngle;this.sweep=Math.abs(z-this.startAngle);if(this.anticlockwise){this.sweep=d-this.sweep}var x=2*Math.PI*this.radius,f=this.sweep/d,e=x*f;this.getLength=function(){return e};this.getBounds=function(){return{minX:c.cx-c.r,maxX:c.cx+c.r,minY:c.cy-c.r,maxY:c.cy+c.r}};var b=1e-10,y=function(u){var s=Math.floor(u),t=Math.ceil(u);if(u-s<b){return s}else{if(t-u<b){return t}}return u};this.pointOnPath=function(u,t){if(u===0){return{x:this.x1,y:this.y1,theta:this.startAngle}}else{if(u==1){return{x:this.x2,y:this.y2,theta:this.endAngle}}}if(t){u=u/e}var v=g(this,u),B=c.cx+(c.r*Math.cos(v)),s=c.cy+(c.r*Math.sin(v));return{x:y(B),y:y(s),theta:v}};this.gradientAtPoint=function(s,u){var v=this.pointOnPath(s,u);var t=jsPlumbUtil.normal([c.cx,c.cy],[v.x,v.y]);if(!this.anticlockwise&&(t==Infinity||t==-Infinity)){t*=-1}return t};this.pointAlongPathFrom=function(J,I,s){var G=this.pointOnPath(J,s),H=I/x*2*Math.PI,F=this.anticlockwise?-1:1,t=G.theta+(F*H),u=c.cx+(this.radius*Math.cos(t)),v=c.cy+(this.radius*Math.sin(t));return{x:u,y:v}}},Bezier:function(d){var b=jsPlumb.Segments.AbstractSegment.apply(this,arguments),e=[{x:d.x1,y:d.y1},{x:d.cp1x,y:d.cp1y},{x:d.cp2x,y:d.cp2y},{x:d.x2,y:d.y2}],c={minX:Math.min(d.x1,d.x2,d.cp1x,d.cp2x),minY:Math.min(d.y1,d.y2,d.cp1y,d.cp2y),maxX:Math.max(d.x1,d.x2,d.cp1x,d.cp2x),maxY:Math.max(d.y1,d.y2,d.cp1y,d.cp2y)};this.type="Bezier";var a=function(g,t,f){if(f){t=jsBezier.locationAlongCurveFrom(g,t>0?0:1,t)}return t};this.pointOnPath=function(g,f){g=a(e,g,f);return jsBezier.pointOnCurve(e,g)};this.gradientAtPoint=function(g,f){g=a(e,g,f);return jsBezier.gradientAtPoint(e,g)};this.pointAlongPathFrom=function(t,f,g){t=a(e,t,g);return jsBezier.pointAlongCurveFrom(e,t,f)};this.getLength=function(){return jsBezier.getLength(e)};this.getBounds=function(){return c}}};var m=function(){this.resetBounds=function(){this.bounds={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}};this.resetBounds()};jsPlumb.Connectors.AbstractConnector=function(G){m.apply(this,arguments);var K=[],S=false,e=0,R=[],b=[],T=G.stub||0,M=jsPlumbUtil.isArray(T)?T[0]:T,c=jsPlumbUtil.isArray(T)?T[1]:T,N=G.gap||0,I=jsPlumbUtil.isArray(N)?N[0]:N,g=jsPlumbUtil.isArray(N)?N[1]:N,H=null,Q=false,O=null;this.isEditable=function(){return false};this.setEdited=function(s){Q=s};this.getPath=function(){};this.setPath=function(s){};this.findSegmentForPoint=function(w,s){var v={d:Infinity,s:null,x:null,y:null,l:null};for(var u=0;u<K.length;u++){var t=K[u].findClosestPointOnPath(w,s);if(t.d<v.d){v.d=t.d;v.l=t.l;v.x=t.x;v.y=t.y;v.s=K[u]}}return v};var J=function(){var s=0;for(var t=0;t<K.length;t++){var u=K[t].getLength();b[t]=u/e;R[t]=[s,(s+=(u/e))]}},P=function(u,s){if(s){u=u>0?u/e:(e+u)/e}var w=R.length-1,v=1;for(var t=0;t<R.length;t++){if(R[t][1]>=u){w=t;v=u==1?1:u===0?0:(u-R[t][0])/b[t];break}}return{segment:K[w],proportion:v,index:w}},L=function(t,u,s){if(s.x1==s.x2&&s.y1==s.y2){return}var v=new jsPlumb.Segments[u](s);K.push(v);e+=v.getLength();t.updateBounds(v)},f=function(){e=0;K.splice(0,K.length);R.splice(0,R.length);b.splice(0,b.length)};this.setSegments=function(s){H=[];e=0;for(var t=0;t<s.length;t++){H.push(s[t]);e+=s[t].getLength()}};var d=function(t){this.lineWidth=t.lineWidth;var ae=jsPlumbUtil.segment(t.sourcePos,t.targetPos),x=t.targetPos[0]<t.sourcePos[0],z=t.targetPos[1]<t.sourcePos[1],ab=t.lineWidth||1,u=t.sourceEndpoint.anchor.orientation||t.sourceEndpoint.anchor.getOrientation(t.sourceEndpoint),ad=t.targetEndpoint.anchor.orientation||t.targetEndpoint.anchor.getOrientation(t.targetEndpoint),D=x?t.targetPos[0]:t.sourcePos[0],E=z?t.targetPos[1]:t.sourcePos[1],B=Math.abs(t.targetPos[0]-t.sourcePos[0]),v=Math.abs(t.targetPos[1]-t.sourcePos[1]);if(u[0]===0&&u[1]===0||ad[0]===0&&ad[1]===0){var F=B>v?0:1,ac=[1,0][F];u=[];ad=[];u[F]=t.sourcePos[F]>t.targetPos[F]?-1:1;ad[F]=t.sourcePos[F]>t.targetPos[F]?1:-1;u[ac]=0;ad[ac]=0}var y=x?B+(I*u[0]):I*u[0],A=z?v+(I*u[1]):I*u[1],af=x?g*ad[0]:B+(g*ad[0]),s=z?g*ad[1]:v+(g*ad[1]),w=((u[0]*ad[0])+(u[1]*ad[1]));var C={sx:y,sy:A,tx:af,ty:s,lw:ab,xSpan:Math.abs(af-y),ySpan:Math.abs(s-A),mx:(y+af)/2,my:(A+s)/2,so:u,to:ad,x:D,y:E,w:B,h:v,segment:ae,startStubX:y+(u[0]*M),startStubY:A+(u[1]*M),endStubX:af+(ad[0]*c),endStubY:s+(ad[1]*c),isXGreaterThanStubTimes2:Math.abs(y-af)>(M+c),isYGreaterThanStubTimes2:Math.abs(A-s)>(M+c),opposite:w==-1,perpendicular:w===0,orthogonal:w==1,sourceAxis:u[0]===0?"y":"x",points:[D,E,B,v,y,A,af,s]};C.anchorOrientation=C.opposite?"opposite":C.orthogonal?"orthogonal":"perpendicular";return C};this.getSegments=function(){return K};this.updateBounds=function(s){var t=s.getBounds();this.bounds.minX=Math.min(this.bounds.minX,t.minX);this.bounds.maxX=Math.max(this.bounds.maxX,t.maxX);this.bounds.minY=Math.min(this.bounds.minY,t.minY);this.bounds.maxY=Math.max(this.bounds.maxY,t.maxY)};var a=function(){console.log("SEGMENTS:");for(var s=0;s<K.length;s++){console.log(K[s].type,K[s].getLength(),R[s])}};this.pointOnPath=function(t,s){var u=P(t,s);return u.segment&&u.segment.pointOnPath(u.proportion,s)||[0,0]};this.gradientAtPoint=function(s){var t=P(s,absolute);return t.segment&&t.segment.gradientAtPoint(t.proportion,absolute)||0};this.pointAlongPathFrom=function(u,s,t){var v=P(u,t);return v.segment&&v.segment.pointAlongPathFrom(v.proportion,s,false)||[0,0]};this.compute=function(s){if(!Q){O=d(s)}f();this._compute(O,s);this.x=O.points[0];this.y=O.points[1];this.w=O.points[2];this.h=O.points[3];this.segment=O.segment;J()};return{addSegment:L,prepareCompute:d,sourceStub:M,targetStub:c,maxStub:Math.max(M,c),sourceGap:I,targetGap:g,maxGap:Math.max(I,g)}};jsPlumbUtil.extend(jsPlumb.Connectors.AbstractConnector,m);var p=function(){this.type="Straight";var a=jsPlumb.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(b,c){a.addSegment(this,"Straight",{x1:b.sx,y1:b.sy,x2:b.startStubX,y2:b.startStubY});a.addSegment(this,"Straight",{x1:b.startStubX,y1:b.startStubY,x2:b.endStubX,y2:b.endStubY});a.addSegment(this,"Straight",{x1:b.endStubX,y1:b.endStubY,x2:b.tx,y2:b.ty})}};jsPlumbUtil.extend(jsPlumb.Connectors.Straight,jsPlumb.Connectors.AbstractConnector);jsPlumb.registerConnectorType(p,"Straight");var l=function(d){d=d||{};var a=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),e=d.stub||50,c=d.curviness||150,b=10;this.type="Bezier";this.getCurviness=function(){return c};this._findControlPoint=function(g,f,C,G,E){var B=G.anchor.getOrientation(G),A=E.anchor.getOrientation(E),D=B[0]!=A[0]||B[1]==A[1],F=[];if(!D){if(B[0]===0){F.push(f[0]<C[0]?g[0]+b:g[0]-b)}else{F.push(g[0]-(c*B[0]))}if(B[1]===0){F.push(f[1]<C[1]?g[1]+b:g[1]-b)}else{F.push(g[1]+(c*A[1]))}}else{if(A[0]===0){F.push(C[0]<f[0]?g[0]+b:g[0]-b)}else{F.push(g[0]+(c*A[0]))}if(A[1]===0){F.push(C[1]<f[1]?g[1]+b:g[1]-b)}else{F.push(g[1]+(c*B[1]))}}return F};this._compute=function(J,L){var K=L.sourcePos,E=L.targetPos,D=Math.abs(K[0]-E[0]),H=Math.abs(K[1]-E[1]),G=K[0]<E[0]?D:0,I=K[1]<E[1]?H:0,M=K[0]<E[0]?0:D,g=K[1]<E[1]?0:H,f=this._findControlPoint([G,I],K,E,L.sourceEndpoint,L.targetEndpoint),F=this._findControlPoint([M,g],E,K,L.targetEndpoint,L.sourceEndpoint);a.addSegment(this,"Bezier",{x1:G,y1:I,x2:M,y2:g,cp1x:f[0],cp1y:f[1],cp2x:F[0],cp2y:F[1]})}};jsPlumbUtil.extend(l,jsPlumb.Connectors.AbstractConnector);jsPlumb.registerConnectorType(l,"Bezier");jsPlumb.Endpoints.AbstractEndpoint=function(a){m.apply(this,arguments);var b=this.compute=function(e,c,d,f){var g=this._compute.apply(this,arguments);this.x=g[0];this.y=g[1];this.w=g[2];this.h=g[3];this.bounds.minX=this.x;this.bounds.minY=this.y;this.bounds.maxX=this.x+this.w;this.bounds.maxY=this.y+this.h;return g};return{compute:b,cssClass:a.cssClass}};jsPlumbUtil.extend(jsPlumb.Endpoints.AbstractEndpoint,m);jsPlumb.Endpoints.Dot=function(a){this.type="Dot";var b=jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);a=a||{};this.radius=a.radius||10;this.defaultOffset=0.5*this.radius;this.defaultInnerRadius=this.radius/3;this._compute=function(x,g,f,d){this.radius=f.radius||this.radius;var y=x[0]-this.radius,z=x[1]-this.radius,w=this.radius*2,c=this.radius*2;if(f.strokeStyle){var e=f.lineWidth||1;y-=e;z-=e;w+=(e*2);c+=(e*2)}return[y,z,w,c,this.radius]}};jsPlumbUtil.extend(jsPlumb.Endpoints.Dot,jsPlumb.Endpoints.AbstractEndpoint);jsPlumb.Endpoints.Rectangle=function(a){this.type="Rectangle";var b=jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);a=a||{};this.width=a.width||20;this.height=a.height||20;this._compute=function(f,w,d,g){var v=d.width||this.width,x=d.height||this.height,c=f[0]-(v/2),e=f[1]-(x/2);return[c,e,v,x]}};jsPlumbUtil.extend(jsPlumb.Endpoints.Rectangle,jsPlumb.Endpoints.AbstractEndpoint);var q=function(a){jsPlumb.DOMElementComponent.apply(this,arguments);this._jsPlumb.displayElements=[]};jsPlumbUtil.extend(q,jsPlumb.DOMElementComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(a){this._jsPlumb.displayElements.push(a)}});jsPlumb.Endpoints.Image=function(d){this.type="Image";q.apply(this,arguments);jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);var c=d.onload,e=d.src||d.url,a=d.parent,b=d.cssClass?" "+d.cssClass:"";this._jsPlumb.img=new Image();this._jsPlumb.ready=false;this._jsPlumb.initialized=false;this._jsPlumb.deleted=false;this._jsPlumb.widthToUse=d.width;this._jsPlumb.heightToUse=d.height;this._jsPlumb.endpoint=d.endpoint;this._jsPlumb.img.onload=function(){if(this._jsPlumb!=null){this._jsPlumb.ready=true;this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width;this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height;if(c){c(this)}}}.bind(this);this._jsPlumb.endpoint.setImage=function(s,f){var g=s.constructor==String?s:s.src;c=f;this._jsPlumb.img.src=g;if(this.canvas!=null){this.canvas.setAttribute("src",this._jsPlumb.img.src)}}.bind(this);this._jsPlumb.endpoint.setImage(e,c);this._compute=function(g,v,f,u){this.anchorPoint=g;if(this._jsPlumb.ready){return[g[0]-this._jsPlumb.widthToUse/2,g[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]}else{return[0,0,0,0]}};this.canvas=document.createElement("img");this.canvas.style.margin=0;this.canvas.style.padding=0;this.canvas.style.outline=0;this.canvas.style.position="absolute";this.canvas.className=this._jsPlumb.instance.endpointClass+b;if(this._jsPlumb.widthToUse){this.canvas.setAttribute("width",this._jsPlumb.widthToUse)}if(this._jsPlumb.heightToUse){this.canvas.setAttribute("height",this._jsPlumb.heightToUse)}this._jsPlumb.instance.appendElement(this.canvas,a);this.attachListeners(this.canvas,this);this.actuallyPaint=function(g,v,w){if(!this._jsPlumb.deleted){if(!this._jsPlumb.initialized){this.canvas.setAttribute("src",this._jsPlumb.img.src);this.appendDisplayElement(this.canvas);this._jsPlumb.initialized=true}var x=this.anchorPoint[0]-(this._jsPlumb.widthToUse/2),f=this.anchorPoint[1]-(this._jsPlumb.heightToUse/2);jsPlumbUtil.sizeElement(this.canvas,x,f,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}};this.paint=function(f,g){if(this._jsPlumb!=null){if(this._jsPlumb.ready){this.actuallyPaint(f,g)}else{window.setTimeout(function(){this.paint(f,g)}.bind(this),200)}}}};jsPlumbUtil.extend(jsPlumb.Endpoints.Image,[q,jsPlumb.Endpoints.AbstractEndpoint],{cleanup:function(){this._jsPlumb.deleted=true;jsPlumbUtil.removeElement(this.canvas);this.canvas=null}});jsPlumb.Endpoints.Blank=function(a){var b=jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="Blank";q.apply(this,arguments);this._compute=function(e,c,d,f){return[e[0],e[1],10,0]};this.canvas=document.createElement("div");this.canvas.style.display="block";this.canvas.style.width="1px";this.canvas.style.height="1px";this.canvas.style.background="transparent";this.canvas.style.position="absolute";this.canvas.className=this._jsPlumb.endpointClass;jsPlumb.appendElement(this.canvas,a.parent);this.paint=function(d,c){jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}};jsPlumbUtil.extend(jsPlumb.Endpoints.Blank,[jsPlumb.Endpoints.AbstractEndpoint,q],{cleanup:function(){if(this.canvas){this.canvas.parentNode.removeChild(this.canvas)}}});jsPlumb.Endpoints.Triangle=function(a){this.type="Triangle";var b=jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);a=a||{};a.width=a.width||55;a.height=a.height||55;this.width=a.width;this.height=a.height;this._compute=function(f,w,d,g){var v=d.width||self.width,x=d.height||self.height,c=f[0]-(v/2),e=f[1]-(x/2);return[c,e,v,x]}};var n=jsPlumb.Overlays.AbstractOverlay=function(a){this.visible=true;this.isAppendedAtTopLevel=true;this.component=a.component;this.loc=a.location==null?0.5:a.location;this.endpointLoc=a.endpointLocation==null?[0.5,0.5]:a.endpointLocation};n.prototype={cleanup:function(){this.component=null;this.canvas=null;this.endpointLoc=null},setVisible:function(a){this.visible=a;this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(false)},show:function(){this.setVisible(true)},incrementLocation:function(a){this.loc+=a;this.component.repaint()},setLocation:function(a){this.loc=a;this.component.repaint()},getLocation:function(){return this.loc}};jsPlumb.Overlays.Arrow=function(d){this.type="Arrow";n.apply(this,arguments);this.isAppendedAtTopLevel=false;d=d||{};var c=jsPlumbUtil;this.length=d.length||20;this.width=d.width||20;this.id=d.id;var e=(d.direction||1)<0?-1:1,a=d.paintStyle||{lineWidth:1},b=d.foldback||0.623;this.computeMaxSize=function(){return self.width*1.5};this.draw=function(J,Q){var N,H,F,M,O;if(J.pointAlongPathFrom){if(c.isString(this.loc)||this.loc>1||this.loc<0){var R=parseInt(this.loc,10);N=J.pointAlongPathFrom(R,e*this.length/2,true);H=J.pointOnPath(R,true);F=c.pointOnLine(N,H,this.length)}else{if(this.loc==1){N=J.pointOnPath(this.loc);H=J.pointAlongPathFrom(this.loc,-(this.length));F=c.pointOnLine(N,H,this.length);if(e==-1){var f=F;F=N;N=f}}else{if(this.loc===0){F=J.pointOnPath(this.loc);H=J.pointAlongPathFrom(this.loc,this.length);N=c.pointOnLine(F,H,this.length);if(e==-1){var I=F;F=N;N=I}}else{N=J.pointAlongPathFrom(this.loc,e*this.length/2);H=J.pointOnPath(this.loc);F=c.pointOnLine(N,H,this.length)}}}M=c.perpendicularLineTo(N,F,this.width);O=c.pointOnLine(N,F,b*this.length);var L={hxy:N,tail:M,cxy:O},K=a.strokeStyle||Q.strokeStyle,g=a.fillStyle||Q.strokeStyle,P=a.lineWidth||Q.lineWidth,G={component:J,d:L,lineWidth:P,strokeStyle:K,fillStyle:g,minX:Math.min(N.x,M[0].x,M[1].x),maxX:Math.max(N.x,M[0].x,M[1].x),minY:Math.min(N.y,M[0].y,M[1].y),maxY:Math.max(N.y,M[0].y,M[1].y)};return G}else{return{component:J,minX:0,maxX:0,minY:0,maxY:0}}}};jsPlumbUtil.extend(jsPlumb.Overlays.Arrow,n);jsPlumb.Overlays.PlainArrow=function(a){a=a||{};var b=jsPlumb.extend(a,{foldback:1});jsPlumb.Overlays.Arrow.call(this,b);this.type="PlainArrow"};jsPlumbUtil.extend(jsPlumb.Overlays.PlainArrow,jsPlumb.Overlays.Arrow);jsPlumb.Overlays.Diamond=function(c){c=c||{};var b=c.length||40,a=jsPlumb.extend(c,{length:b/2,foldback:2});jsPlumb.Overlays.Arrow.call(this,a);this.type="Diamond"};jsPlumbUtil.extend(jsPlumb.Overlays.Diamond,jsPlumb.Overlays.Arrow);var o=function(a){if(a._jsPlumb.cachedDimensions==null){a._jsPlumb.cachedDimensions=a.getDimensions()}return a._jsPlumb.cachedDimensions};var h=function(a){jsPlumb.DOMElementComponent.apply(this,arguments);n.apply(this,arguments);var b=jsPlumb.CurrentLibrary;this.id=a.id;this._jsPlumb.div=null;this._jsPlumb.initialised=false;this._jsPlumb.component=a.component;this._jsPlumb.cachedDimensions=null;this._jsPlumb.create=a.create;this.getElement=function(){if(this._jsPlumb.div==null){var d=this._jsPlumb.div=b.getDOMElement(this._jsPlumb.create(this._jsPlumb.component));d.style.position="absolute";var c=a._jsPlumb.overlayClass+" "+(this.cssClass?this.cssClass:a.cssClass?a.cssClass:"");d.className=c;this._jsPlumb.instance.appendElement(d,this._jsPlumb.component.parent);this._jsPlumb.instance.getId(d);this.attachListeners(d,this);this.canvas=d}return this._jsPlumb.div};this.draw=function(d,w){var g=o(this);if(g!=null&&g.length==2){var f={x:0,y:0};if(d.pointOnPath){var e=this.loc,c=false;if(jsPlumbUtil.isString(this.loc)||this.loc<0||this.loc>1){e=parseInt(this.loc,10);c=true}f=d.pointOnPath(e,c)}else{var y=this.loc.constructor==Array?this.loc:this.endpointLoc;f={x:y[0]*d.w,y:y[1]*d.h}}var x=f.x-(g[0]/2),z=f.y-(g[1]/2);return{component:d,d:{minx:x,miny:z,td:g,cxy:f},minX:x,maxX:x+g[0],minY:z,maxY:z+g[1]}}else{return{minX:0,maxX:0,minY:0,maxY:0}}}};jsPlumbUtil.extend(h,[jsPlumb.DOMElementComponent,n],{getDimensions:function(){return jsPlumb.CurrentLibrary.getSize(jsPlumb.CurrentLibrary.getElementObject(this.getElement()))},setVisible:function(a){this._jsPlumb.div.style.display=a?"block":"none"},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(){if(this._jsPlumb.div!=null){jsPlumb.CurrentLibrary.removeElement(this._jsPlumb.div)}},computeMaxSize:function(){var a=o(this);return Math.max(a[0],a[1])},reattachListeners:function(a){if(this._jsPlumb.div){this.reattachListenersForElement(this._jsPlumb.div,this,a)}},paint:function(a,b){if(!this._jsPlumb.initialised){this.getElement();a.component.appendDisplayElement(this._jsPlumb.div);this.attachListeners(this._jsPlumb.div,a.component);this._jsPlumb.initialised=true}this._jsPlumb.div.style.left=(a.component.x+a.d.minx)+"px";this._jsPlumb.div.style.top=(a.component.y+a.d.miny)+"px"}});jsPlumb.Overlays.Custom=function(a){this.type="Custom";h.apply(this,arguments)};jsPlumbUtil.extend(jsPlumb.Overlays.Custom,h);jsPlumb.Overlays.GuideLines=function(){var a=this;a.length=50;a.lineWidth=5;this.type="GuideLines";n.apply(this,arguments);jsPlumb.jsPlumbUIComponent.apply(this,arguments);this.draw=function(b,d){var e=b.pointAlongPathFrom(a.loc,a.length/2),f=b.pointOnPath(a.loc),g=jsPlumbUtil.pointOnLine(e,f,a.length),t=jsPlumbUtil.perpendicularLineTo(e,g,40),c=jsPlumbUtil.perpendicularLineTo(g,e,20);return{connector:b,head:e,tail:g,headLine:c,tailLine:t,minX:Math.min(e.x,g.x,c[0].x,c[1].x),minY:Math.min(e.y,g.y,c[0].y,c[1].y),maxX:Math.max(e.x,g.x,c[0].x,c[1].x),maxY:Math.max(e.y,g.y,c[0].y,c[1].y)}}};jsPlumb.Overlays.Label=function(a){this.labelStyle=a.labelStyle||jsPlumb.Defaults.LabelStyle;this.cssClass=this.labelStyle!=null?this.labelStyle.cssClass:null;var b=jsPlumb.extend({create:function(){return document.createElement("div")}},a);jsPlumb.Overlays.Custom.call(this,b);this.type="Label";this.label=a.label||"";this.labelText=null};jsPlumbUtil.extend(jsPlumb.Overlays.Label,jsPlumb.Overlays.Custom,{cleanup:function(){this.div=null;this.label=null;this.labelText=null;this.cssClass=null;this.labelStyle=null},getLabel:function(){return this.label},setLabel:function(a){this.label=a;this.labelText=null;this.clearCachedDimensions();this.update();this.component.repaint()},getDimensions:function(){this.update();return h.prototype.getDimensions.apply(this,arguments)},update:function(){if(typeof this.label=="function"){var a=this.label(this);this.getElement().innerHTML=a.replace(/\r\n/g,"<br/>")}else{if(this.labelText==null){this.labelText=this.label;this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>")}}}})})();(function(){var b=function(a){this.type="Flowchart";a=a||{};a.stub=a.stub==null?30:a.stub;var G=this,y=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),N=a.midpoint==null?0.5:a.midpoint,z=[],B=[],O=a.grid,H=a.alwaysRespectStubs,K=null,C=null,D=null,F,L=a.cornerRadius!=null?a.cornerRadius:0,J=function(c){return c<0?-1:c===0?0:1},I=function(c,m,n,d){if(C==m&&D==n){return}var e=C==null?d.sx:C,f=D==null?d.sy:D,g=e==m?"v":"h",h=J(m-e),l=J(n-f);C=m;D=n;c.push([e,f,m,n,g,h,l])},A=function(c){return Math.sqrt(Math.pow(c[0]-c[2],2)+Math.pow(c[1]-c[3],2))},M=function(d){var c=[];c.push.apply(c,d);return c},P=function(c){G.bounds.minX=Math.min(G.bounds.minX,c[2]);G.bounds.maxX=Math.max(G.bounds.maxX,c[2]);G.bounds.minY=Math.min(G.bounds.minY,c[3]);G.bounds.maxY=Math.max(G.bounds.maxY,c[3])},E=function(h,u,m){var s,c;for(var d=0;d<u.length-1;d++){s=s||M(u[d]);c=M(u[d+1]);if(L>0&&s[4]!=c[4]){var n=Math.min(L,A(s),A(c));s[2]-=s[5]*n;s[3]-=s[6]*n;c[0]+=c[5]*n;c[1]+=c[6]*n;var l=(s[6]==c[5]&&c[5]==1)||((s[6]==c[5]&&c[5]===0)&&s[5]!=c[6])||(s[6]==c[5]&&c[5]==-1),q=c[1]>s[3]?1:-1,p=c[0]>s[2]?1:-1,t=q==p,e=(t&&l||(!t&&!l))?c[0]:s[2],f=(t&&l||(!t&&!l))?s[3]:c[1];y.addSegment(h,"Straight",{x1:s[0],y1:s[1],x2:s[2],y2:s[3]});y.addSegment(h,"Arc",{r:n,x1:s[2],y1:s[3],x2:c[0],y2:c[1],cx:e,cy:f,ac:l})}else{var g=(s[2]==s[0])?0:(s[2]>s[0])?(m.lw/2):-(m.lw/2),o=(s[3]==s[1])?0:(s[3]>s[1])?(m.lw/2):-(m.lw/2);y.addSegment(h,"Straight",{x1:s[0]-g,y1:s[1]-o,x2:s[2]+g,y2:s[3]+o})}s=c}y.addSegment(h,"Straight",{x1:c[0],y1:c[1],x2:c[2],y2:c[3]})};this.setSegments=function(c){K=c};this.isEditable=function(){return true};this.getOriginalSegments=function(){return K||B};this._compute=function(x,d){if(d.clearEdits){K=null}if(K!=null){E(this,K,x);return}B=[];C=null;D=null;F=null;var f=x.startStubX+((x.endStubX-x.startStubX)*N),h=x.startStubY+((x.endStubY-x.startStubY)*N);var o=function(U,V,Z,W){return U+(V*((1-Z)*W)+y.maxStub)},w={x:[0,1],y:[1,0]},t=function(R){return[x.startStubX,x.startStubY,x.endStubX,x.endStubY]},u={perpendicular:t,orthogonal:t,opposite:function(V){var U=x,W=V=="x"?0:1,Z={x:function(){return((U.so[W]==1&&(((U.startStubX>U.endStubX)&&(U.tx>U.startStubX))||((U.sx>U.endStubX)&&(U.tx>U.sx)))))||((U.so[W]==-1&&(((U.startStubX<U.endStubX)&&(U.tx<U.startStubX))||((U.sx<U.endStubX)&&(U.tx<U.sx)))))},y:function(){return((U.so[W]==1&&(((U.startStubY>U.endStubY)&&(U.ty>U.startStubY))||((U.sy>U.endStubY)&&(U.ty>U.sy)))))||((U.so[W]==-1&&(((U.startStubY<U.endStubY)&&(U.ty<U.startStubY))||((U.sy<U.endStubY)&&(U.ty<U.sy)))))}};if(!H&&Z[V]()){return{x:[(x.sx+x.tx)/2,x.startStubY,(x.sx+x.tx)/2,x.endStubY],y:[x.startStubX,(x.sy+x.ty)/2,x.endStubX,(x.sy+x.ty)/2]}[V]}else{return[x.startStubX,x.startStubY,x.endStubX,x.endStubY]}}},g={perpendicular:function(at,aE,au,ax,ao){var az=x,ay={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]},aA={x:[[az.startStubX,az.endStubX],null,[az.endStubX,az.startStubX]],y:[[az.startStubY,az.endStubY],null,[az.endStubY,az.startStubY]]},aG={x:[[f,az.startStubY],[f,az.endStubY]],y:[[az.startStubX,h],[az.endStubX,h]]},av={x:[[az.endStubX,az.startStubY]],y:[[az.startStubX,az.endStubY]]},aH={x:[[az.startStubX,az.endStubY],[az.endStubX,az.endStubY]],y:[[az.endStubX,az.startStubY],[az.endStubX,az.endStubY]]},aB={x:[[az.startStubX,h],[az.endStubX,h],[az.endStubX,az.endStubY]],y:[[f,az.startStubY],[f,az.endStubY],[az.endStubX,az.endStubY]]},aC={x:[az.startStubY,az.endStubY],y:[az.startStubX,az.endStubX]},aI=w[at][0],aw=w[at][1],an=az.so[aI]+1,aF=az.to[aw]+1,ar=(az.to[aw]==-1&&(aC[at][1]<aC[at][0]))||(az.to[aw]==1&&(aC[at][1]>aC[at][0])),ap=aA[at][an][0],aq=aA[at][an][1],aD=ay[at][an][aF];if(az.segment==aD[3]||(az.segment==aD[2]&&ar)){return aG[at]}else{if(az.segment==aD[2]&&aq<ap){return av[at]}else{if((az.segment==aD[2]&&aq>=ap)||(az.segment==aD[1]&&!ar)){return aB[at]}else{if(az.segment==aD[0]||(az.segment==aD[1]&&ar)){return aH[at]}}}}},orthogonal:function(ab,ac,aa,ae,af){var Z=x,ad={x:Z.so[0]==-1?Math.min(ac,ae):Math.max(ac,ae),y:Z.so[1]==-1?Math.min(ac,ae):Math.max(ac,ae)}[ab];return{x:[[ad,aa],[ad,af],[ae,af]],y:[[aa,ad],[af,ad],[af,ae]]}[ab]},opposite:function(ai,al,aj,ad,ac){var af=x,ah={x:"y",y:"x"}[ai],ae={x:"height",y:"width"}[ai],ak=af["is"+ai.toUpperCase()+"GreaterThanStubTimes2"];if(d.sourceEndpoint.elementId==d.targetEndpoint.elementId){var ag=aj+((1-d.sourceEndpoint.anchor[ah])*d.sourceInfo[ae])+y.maxStub;return{x:[[al,ag],[ad,ag]],y:[[ag,al],[ag,ad]]}[ai]}else{if(!ak||(af.so[s]==1&&al>ad)||(af.so[s]==-1&&al<ad)){return{x:[[al,h],[ad,h]],y:[[f,al],[f,ad]]}[ai]}else{if((af.so[s]==1&&al<ad)||(af.so[s]==-1&&al>ad)){return{x:[[f,af.sy],[f,af.ty]],y:[[af.sx,h],[af.tx,h]]}[ai]}}}}};var e=u[x.anchorOrientation](x.sourceAxis),s=x.sourceAxis=="x"?0:1,n=x.sourceAxis=="x"?1:0,p=e[s],l=e[n],c=e[s+2],v=e[n+2];I(B,e[0],e[1],x);var q=g[x.anchorOrientation](x.sourceAxis,p,l,c,v);if(q){for(var m=0;m<q.length;m++){I(B,q[m][0],q[m][1],x)}}I(B,e[2],e[3],x);I(B,x.tx,x.ty,x);E(this,B,x)};this.getPath=function(){var h=null,d=null,e=[],g=K||B;for(var m=0;m<g.length;m++){var l=g[m],f=l[4],c=(f=="v"?3:2);if(h!=null&&d===f){h[c]=l[c]}else{if(l[0]!=l[2]||l[1]!=l[3]){e.push({start:[l[0],l[1]],end:[l[2],l[3]]});h=l;d=l[4]}}}return e};this.setPath=function(h){K=[];for(var d=0;d<h.length;d++){var e=h[d].start[0],f=h[d].start[1],n=h[d].end[0],c=h[d].end[1],g=e==n?"v":"h",l=J(n-e),m=J(c-f);K.push([e,f,n,c,g,l,m])}}};jsPlumbUtil.extend(b,jsPlumb.Connectors.AbstractConnector);jsPlumb.registerConnectorType(b,"Flowchart")})();(function(){var g=function(c,a,d,b){this.m=(b-a)/(d-c);this.b=-1*((this.m*c)-a);this.rectIntersect=function(G,H,E,w){var x=[],B,D;B=(H-this.b)/this.m;if(B>=G&&B<=(G+E)){x.push([B,(this.m*B)+this.b])}D=(this.m*(G+E))+this.b;if(D>=H&&D<=(H+w)){x.push([(D-this.b)/this.m,D])}B=((H+w)-this.b)/this.m;if(B>=G&&B<=(G+E)){x.push([B,(this.m*B)+this.b])}D=(this.m*G)+this.b;if(D>=H&&D<=(H+w)){x.push([(D-this.b)/this.m,D])}if(x.length==2){var y=(x[0][0]+x[1][0])/2,A=(x[0][1]+x[1][1])/2;x.push([y,A]);var C=y<=G+(E/2)?-1:1,F=A<=H+(w/2)?-1:1;x.push([C,F]);return x}return null}},e=function(c,a,d,b){if(c<=d&&b<=a){return 1}else{if(c<=d&&a<=b){return 2}else{if(d<=c&&b>=a){return 3}}}return 4},h=function(s,t,d,u,q,a,b,v,c){if(v<=c){return[s,t]}if(d===1){if(u[3]<=0&&q[3]>=1){return[s+(u[2]<0.5?-1*a:a),t]}else{if(u[2]>=1&&q[2]<=0){return[s,t+(u[3]<0.5?-1*b:b)]}else{return[s+(-1*a),t+(-1*b)]}}}else{if(d===2){if(u[3]>=1&&q[3]<=0){return[s+(u[2]<0.5?-1*a:a),t]}else{if(u[2]>=1&&q[2]<=0){return[s,t+(u[3]<0.5?-1*b:b)]}else{return[s+(1*a),t+(-1*b)]}}}else{if(d===3){if(u[3]>=1&&q[3]<=0){return[s+(u[2]<0.5?-1*a:a),t]}else{if(u[2]<=0&&q[2]>=1){return[s,t+(u[3]<0.5?-1*b:b)]}else{return[s+(-1*a),t+(-1*b)]}}}else{if(d===4){if(u[3]<=0&&q[3]>=1){return[s+(u[2]<0.5?-1*a:a),t]}else{if(u[2]<=0&&q[2]>=1){return[s,t+(u[3]<0.5?-1*b:b)]}else{return[s+(1*a),t+(-1*b)]}}}}}}};var f=function(s){s=s||{};this.type="StateMachine";var a=this,c=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),v=s.curviness||10,q=s.margin||5,d=s.proximityLimit||80,u=s.orientation&&s.orientation==="clockwise",t=s.loopbackRadius||25,b=s.showLoopback!==false;this._compute=function(ap,l){var ac=Math.abs(l.sourcePos[0]-l.targetPos[0]),o=Math.abs(l.sourcePos[1]-l.targetPos[1]),af=Math.min(l.sourcePos[0],l.targetPos[0]),ah=Math.min(l.sourcePos[1],l.targetPos[1]);if(!b||(l.sourceEndpoint.elementId!==l.targetEndpoint.elementId)){var aq=l.sourcePos[0]<l.targetPos[0]?0:ac,ae=l.sourcePos[1]<l.targetPos[1]?0:o,Z=l.sourcePos[0]<l.targetPos[0]?ac:0,ab=l.sourcePos[1]<l.targetPos[1]?o:0;if(l.sourcePos[2]===0){aq-=q}if(l.sourcePos[2]===1){aq+=q}if(l.sourcePos[3]===0){ae-=q}if(l.sourcePos[3]===1){ae+=q}if(l.targetPos[2]===0){Z-=q}if(l.targetPos[2]===1){Z+=q}if(l.targetPos[3]===0){ab-=q}if(l.targetPos[3]===1){ab+=q}var ag=(aq+Z)/2,al=(ae+ab)/2,at=(-1*ag)/al,y=Math.atan(at),ad=(at==Infinity||at==-Infinity)?0:Math.abs(v/2*Math.sin(y)),aa=(at==Infinity||at==-Infinity)?0:Math.abs(v/2*Math.cos(y)),ao=e(aq,ae,Z,ab),an=Math.sqrt(Math.pow(Z-aq,2)+Math.pow(ab-ae,2)),aj=h(ag,al,ao,l.sourcePos,l.targetPos,v,v,an,d);c.addSegment(this,"Bezier",{x1:Z,y1:ab,x2:aq,y2:ae,cp1x:aj[0],cp1y:aj[1],cp2x:aj[0],cp2y:aj[1]})}else{var m=l.sourcePos[0],p=l.sourcePos[0],ar=l.sourcePos[1]-q,ai=l.sourcePos[1]-q,au=m,ak=ar-t,n=2*t,am=2*t,w=au-t,x=ak-t;ap.points[0]=w;ap.points[1]=x;ap.points[2]=n;ap.points[3]=am;c.addSegment(this,"Arc",{x1:(m-w)+4,y1:ar-x,startAngle:0,endAngle:2*Math.PI,r:t,ac:!u,x2:(m-w)-4,y2:ar-x,cx:au-w,cy:ak-x})}}};jsPlumb.registerConnectorType(f,"StateMachine")})();(function(){var b=function(h){h=h||{};var o=this,m=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),l=h.stub||50,a=h.curviness||150,n=10;this.type="Bezier";this.getCurviness=function(){return a};this._findControlPoint=function(v,p,c,g,e){var x=g.anchor.getOrientation(g),w=e.anchor.getOrientation(e),d=x[0]!=w[0]||x[1]==w[1],f=[];if(!d){if(x[0]===0){f.push(p[0]<c[0]?v[0]+n:v[0]-n)}else{f.push(v[0]-(a*x[0]))}if(x[1]===0){f.push(p[1]<c[1]?v[1]+n:v[1]-n)}else{f.push(v[1]+(a*w[1]))}}else{if(w[0]===0){f.push(c[0]<p[0]?v[0]+n:v[0]-n)}else{f.push(v[0]+(a*w[0]))}if(w[1]===0){f.push(c[1]<p[1]?v[1]+n:v[1]-n)}else{f.push(v[1]+(a*x[1]))}}return f};this._compute=function(d,f){var e=f.sourcePos,A=f.targetPos,z=Math.abs(e[0]-A[0]),D=Math.abs(e[1]-A[1]),C=e[0]<A[0]?z:0,c=e[1]<A[1]?D:0,g=e[0]<A[0]?0:z,p=e[1]<A[1]?0:D,y=o._findControlPoint([C,c],e,A,f.sourceEndpoint,f.targetEndpoint),B=o._findControlPoint([g,p],A,e,f.targetEndpoint,f.sourceEndpoint);m.addSegment(this,"Bezier",{x1:C,y1:c,x2:g,y2:p,cp1x:y[0],cp1y:y[1],cp2x:B[0],cp2y:B[1]})}};jsPlumb.registerConnectorType(b,"Bezier")})();(function(){var C=null,w=function(a,b){return jsPlumb.CurrentLibrary.hasClass(H(a),b)},H=function(a){return jsPlumb.CurrentLibrary.getElementObject(a)},J=function(a){return jsPlumb.CurrentLibrary.getOffset(H(a))},I=function(a){return jsPlumb.CurrentLibrary.getPageXY(a)},A=function(a){return jsPlumb.CurrentLibrary.getClientXY(a)};var v=window.CanvasMouseAdapter=function(){var b=this;b.overlayPlacements=[];jsPlumb.jsPlumbUIComponent.apply(this,arguments);jsPlumbUtil.EventGenerator.apply(this,arguments);this._over=function(o){var m=J(H(b.canvas)),h=I(o),g=h[0]-m.left,l=h[1]-m.top;if(g>0&&l>0&&g<b.canvas.width&&l<b.canvas.height){for(var q=0;q<b.overlayPlacements.length;q++){var p=b.overlayPlacements[q];if(p&&(p[0]<=g&&p[1]>=g&&p[2]<=l&&p[3]>=l)){return true}}var n=b.canvas.getContext("2d").getImageData(parseInt(g,10),parseInt(l,10),1,1);return n.data[0]!==0||n.data[1]!==0||n.data[2]!==0||n.data[3]!==0}return false};var c=false,d=false,e=null,f=false,a=function(h,g){return h!==null&&w(h,g)};this.mousemove=function(m){var h=I(m),n=A(m),o=document.elementFromPoint(n[0],n[1]),l=a(o,"_jsPlumb_overlay");var g=C===null&&(a(o,"_jsPlumb_endpoint")||a(o,"_jsPlumb_connector"));if(!c&&g&&b._over(m)){c=true;b.fire("mouseenter",b,m);return true}else{if(c&&(!b._over(m)||!g)&&!l){c=false;b.fire("mouseexit",b,m)}}b.fire("mousemove",b,m)};this.click=function(g){if(c&&b._over(g)&&!f){b.fire("click",b,g)}f=false};this.dblclick=function(g){if(c&&b._over(g)&&!f){b.fire("dblclick",b,g)}f=false};this.mousedown=function(g){if(b._over(g)&&!d){d=true;e=J(H(b.canvas));b.fire("mousedown",b,g)}};this.mouseup=function(g){d=false;b.fire("mouseup",b,g)};this.contextmenu=function(g){if(c&&b._over(g)&&!f){b.fire("contextmenu",b,g)}f=false}};jsPlumbUtil.extend(v,[jsPlumb.jsPlumbUIComponent,jsPlumbUtil.EventGenerator]);var D=function(a){var b=document.createElement("canvas");a._jsPlumb.instance.appendElement(b,a.parent);b.style.position="absolute";if(a["class"]){b.className=a["class"]}a._jsPlumb.instance.getId(b,a.uuid);if(a.tooltip){b.setAttribute("title",a.tooltip)}return b};var u=window.CanvasComponent=function(a){v.apply(this,arguments);var b=[];this.getDisplayElements=function(){return b};this.appendDisplayElement=function(c){b.push(c)}};jsPlumbUtil.extend(u,v);var G=[null,[1,-1],[1,1],[-1,1],[-1,-1]];var E=function(d,b,e){if(b.gradient){var a=e();for(var c=0;c<b.gradient.stops.length;c++){a.addColorStop(b.gradient.stops[c][0],b.gradient.stops[c][1])}d.strokeStyle=a}};var x=function(e,c,a,b,d){({Straight:function(ad,o,l,V,W){var f=ad.params;o.save();E(o,l,function(){return o.createLinearGradient(f.x1,f.y1,f.x2,f.y2)});o.beginPath();o.translate(V,W);if(l.dashstyle&&l.dashstyle.split(" ").length===2){var q=l.dashstyle.split(" ");if(q.length!==2){q=[2,2]}var s=[q[0]*l.lineWidth,q[1]*l.lineWidth],p=(f.x2-f.x1)/(f.y2-f.y1),T=jsPlumbUtil.segment([f.x1,f.y1],[f.x2,f.y2]),h=G[T],Z=Math.atan(p),n=Math.sqrt(Math.pow(f.x2-f.x1,2)+Math.pow(f.y2-f.y1,2)),aa=Math.floor(n/(s[0]+s[1])),g=[f.x1,f.y1];for(var m=0;m<aa;m++){o.moveTo(g[0],g[1]);var t=g[0]+(Math.abs(Math.sin(Z)*s[0])*h[0]),U=g[1]+(Math.abs(Math.cos(Z)*s[0])*h[1]),ab=g[0]+(Math.abs(Math.sin(Z)*(s[0]+s[1]))*h[0]),ac=g[1]+(Math.abs(Math.cos(Z)*(s[0]+s[1]))*h[1]);o.lineTo(t,U);g=[ab,ac]}o.moveTo(g[0],g[1]);o.lineTo(f.x2,f.y2)}else{o.moveTo(f.x1,f.y1);o.lineTo(f.x2,f.y2)}o.stroke();o.restore()},Bezier:function(h,f,m,n,l){var g=h.params;f.save();E(f,m,function(){return f.createLinearGradient(g.x2+n,g.y2+l,g.x1+n,g.y1+l)});f.beginPath();f.translate(n,l);f.moveTo(g.x1,g.y1);f.bezierCurveTo(g.cp1x,g.cp1y,g.cp2x,g.cp2y,g.x2,g.y2);f.stroke();f.restore()},Arc:function(h,f,m,n,l){var g=h.params;f.save();f.beginPath();f.translate(n,l);f.arc(g.cx,g.cy,g.r,h.startAngle,h.endAngle,g.ac);f.stroke();f.restore()}})[e.type](e,c,a,b,d)};var y=jsPlumb.ConnectorRenderers.canvas=function(a){u.apply(this,arguments);var c=function(h,g,e){this.ctx.save();jsPlumb.extend(this.ctx,h);var f=this.getSegments();for(var d=0;d<f.length;d++){x(f[d],this.ctx,h,g,e)}this.ctx.restore()}.bind(this);var b=this._jsPlumb.instance.connectorClass+" "+(a.cssClass||"");this.canvas=D({"class":b,_jsPlumb:this._jsPlumb,parent:a.parent});this.ctx=this.canvas.getContext("2d");this.appendDisplayElement(this.canvas);this.paint=function(m,g,d){if(m!=null){var o=[this.x,this.y],l=[this.w,this.h],h,n=0,p=0;if(d!=null){if(d.xmin<0){o[0]+=d.xmin;n=-d.xmin}if(d.ymin<0){o[1]+=d.ymin;p=-d.ymin}l[0]=d.xmax+((d.xmin<0)?-d.xmin:0);l[1]=d.ymax+((d.ymin<0)?-d.ymin:0)}this.translateX=n;this.translateY=p;jsPlumbUtil.sizeElement(this.canvas,o[0],o[1],l[0],l[1]);if(m.outlineColor!=null){var e=m.outlineWidth||1,q=m.lineWidth+(2*e),f={strokeStyle:m.outlineColor,lineWidth:q};c(f,n,p)}c(m,n,p)}}};jsPlumbUtil.extend(y,u);var F=function(a){u.apply(this,arguments);var b=this._jsPlumb.instance.endpointClass+" "+(a.cssClass||""),c={"class":b,_jsPlumb:this._jsPlumb,parent:a.parent,tooltip:self.tooltip};this.canvas=D(c);this.ctx=this.canvas.getContext("2d");this.appendDisplayElement(this.canvas);this.paint=function(g,e,f){jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h);if(g.outlineColor!=null){var l=g.outlineWidth||1,h=g.lineWidth+(2*l);var d={strokeStyle:g.outlineColor,lineWidth:h}}this._paint.apply(this,arguments)}};jsPlumbUtil.extend(F,u);jsPlumb.Endpoints.canvas.Dot=function(a){jsPlumb.Endpoints.Dot.apply(this,arguments);F.apply(this,arguments);var b=this,c=function(f){try{return parseInt(f,10)}catch(e){if(f.substring(f.length-1)=="%"){return parseInt(f.substring(0,f-1),10)}}},d=function(e){var g=b.defaultOffset,f=b.defaultInnerRadius;if(e.offset){g=c(e.offset)}if(e.innerRadius){f=c(e.innerRadius)}return[g,f]};this._paint=function(m){if(m!=null){var o=b.canvas.getContext("2d"),l=a.endpoint.anchor.getOrientation(a.endpoint);jsPlumb.extend(o,m);if(m.gradient){var f=d(m.gradient),g=l[1]==1?f[0]*-1:f[0],n=l[0]==1?f[0]*-1:f[0],h=o.createRadialGradient(b.radius,b.radius,b.radius,b.radius+n,b.radius+g,f[1]);for(var e=0;e<m.gradient.stops.length;e++){h.addColorStop(m.gradient.stops[e][0],m.gradient.stops[e][1])}o.fillStyle=h}o.beginPath();o.arc(b.radius,b.radius,b.radius,0,Math.PI*2,true);o.closePath();if(m.fillStyle||m.gradient){o.fill()}if(m.strokeStyle){o.stroke()}}}};jsPlumbUtil.extend(jsPlumb.Endpoints.canvas.Dot,[jsPlumb.Endpoints.Dot,F]);jsPlumb.Endpoints.canvas.Rectangle=function(a){var b=this;jsPlumb.Endpoints.Rectangle.apply(this,arguments);F.apply(this,arguments);this._paint=function(m){var n=b.canvas.getContext("2d"),g=a.endpoint.anchor.getOrientation(a.endpoint);jsPlumb.extend(n,m);if(m.gradient){var c=g[1]==1?b.h:g[1]===0?b.h/2:0;var d=g[1]==-1?b.h:g[1]===0?b.h/2:0;var h=g[0]==1?b.w:g[0]===0?b.w/2:0;var l=g[0]==-1?b.w:g[0]===0?b.w/2:0;var e=n.createLinearGradient(h,c,l,d);for(var f=0;f<m.gradient.stops.length;f++){e.addColorStop(m.gradient.stops[f][0],m.gradient.stops[f][1])}n.fillStyle=e}n.beginPath();n.rect(0,0,b.w,b.h);n.closePath();if(m.fillStyle||m.gradient){n.fill()}if(m.strokeStyle){n.stroke()}}};jsPlumbUtil.extend(jsPlumb.Endpoints.canvas.Rectangle,[jsPlumb.Endpoints.Rectangle,F]);jsPlumb.Endpoints.canvas.Triangle=function(a){var b=this;jsPlumb.Endpoints.Triangle.apply(this,arguments);F.apply(this,arguments);this._paint=function(f){var d=b.canvas.getContext("2d"),e=0,h=0,c=0,g=a.endpoint.anchor.getOrientation(a.endpoint);if(g[0]==1){e=b.width;h=b.height;c=180}if(g[1]==-1){e=b.width;c=90}if(g[1]==1){h=b.height;c=-90}d.fillStyle=f.fillStyle;d.translate(e,h);d.rotate(c*Math.PI/180);d.beginPath();d.moveTo(0,0);d.lineTo(b.width/2,b.height/2);d.lineTo(0,b.height);d.closePath();if(f.fillStyle||f.gradient){d.fill()}if(f.strokeStyle){d.stroke()}}};jsPlumbUtil.extend(jsPlumb.Endpoints.canvas.Triangle,[jsPlumb.Endpoints.Triangle,F]);jsPlumb.Endpoints.canvas.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.canvas.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Overlays.canvas.Label=jsPlumb.Overlays.Label;jsPlumb.Overlays.canvas.Custom=jsPlumb.Overlays.Custom;var z=function(){jsPlumb.jsPlumbUIComponent.apply(this,arguments)};jsPlumbUtil.extend(z,jsPlumb.jsPlumbUIComponent);var B=function(a,b){a.apply(this,b);z.apply(this,b);this.paint=function(e,c){var d=e.component.ctx,f=e.d;if(f){d.save();d.lineWidth=e.lineWidth;d.beginPath();d.translate(e.component.translateX,e.component.translateY);d.moveTo(f.hxy.x,f.hxy.y);d.lineTo(f.tail[0].x,f.tail[0].y);d.lineTo(f.cxy.x,f.cxy.y);d.lineTo(f.tail[1].x,f.tail[1].y);d.lineTo(f.hxy.x,f.hxy.y);d.closePath();if(e.strokeStyle){d.strokeStyle=e.strokeStyle;d.stroke()}if(e.fillStyle){d.fillStyle=e.fillStyle;d.fill()}d.restore()}}};jsPlumb.Overlays.canvas.Arrow=function(){B.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.canvas.Arrow,[jsPlumb.Overlays.Arrow,z]);jsPlumb.Overlays.canvas.PlainArrow=function(){B.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.canvas.PlainArrow,[jsPlumb.Overlays.PlainArrow,z]);jsPlumb.Overlays.canvas.Diamond=function(){B.apply(this,[jsPlumb.Overlays.Diamond,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.canvas.Diamond,[jsPlumb.Overlays.Diamond,z])})();(function(){var ab={joinstyle:"stroke-linejoin","stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},H="stroke-dasharray",P="dashstyle",ah="linearGradient",ak="radialGradient",aj="fill",al="stop",S="stroke",Q="stroke-width",ae="style",aa="none",K="jsplumb_gradient_",V="lineWidth",M={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml"},af=function(a,c){for(var b in c){a.setAttribute(b,""+c[b])}},ag=function(b,c){var a=document.createElementNS(M.svg,b);c=c||{};c.version="1.1";c.xmlns=M.xhtml;af(a,c);return a},Z=function(a){return"position:absolute;left:"+a[0]+"px;top:"+a[1]+"px"},ad=function(a){for(var b=0;b<a.childNodes.length;b++){if(a.childNodes[b].tagName==ah||a.childNodes[b].tagName==ak){a.removeChild(a.childNodes[b])}}},I=function(b,g,m,o,f){var l=K+f._jsPlumb.instance.idstamp();ad(b);var d;if(!m.gradient.offset){d=ag(ah,{id:l,gradientUnits:"userSpaceOnUse"})}else{d=ag(ak,{id:l})}b.appendChild(d);for(var e=0;e<m.gradient.stops.length;e++){var h=f.segment==1||f.segment==2?e:m.gradient.stops.length-1-e,c=jsPlumbUtil.convertStyle(m.gradient.stops[h][1],true),a=ag(al,{offset:Math.floor(m.gradient.stops[e][0]*100)+"%","stop-color":c});d.appendChild(a)}var n=m.strokeStyle?S:aj;g.setAttribute(ae,n+":url(#"+l+")")},W=function(b,f,h,l,e){if(h.gradient){I(b,f,h,l,e)}else{ad(b);f.setAttribute(ae,"")}f.setAttribute(aj,h.fillStyle?jsPlumbUtil.convertStyle(h.fillStyle,true):aa);f.setAttribute(S,h.strokeStyle?jsPlumbUtil.convertStyle(h.strokeStyle,true):aa);if(h.lineWidth){f.setAttribute(Q,h.lineWidth)}if(h[P]&&h[V]&&!h[H]){var a=h[P].indexOf(",")==-1?" ":",",d=h[P].split(a),g="";d.forEach(function(m){g+=(Math.floor(m*h.lineWidth)+a)});f.setAttribute(H,g)}else{if(h[H]){f.setAttribute(H,h[H])}}for(var c in ab){if(h[c]){f.setAttribute(ab[c],h[c])}}},O=function(a){var c=/([0-9].)(p[xt])\s(.*)/,b=a.match(c);return{size:b[1]+b[2],font:b[3]}},N=function(h,g,d){var f=d.split(" "),a=h.className,b=a.baseVal.split(" ");for(var c=0;c<f.length;c++){if(g){if(b.indexOf(f[c])==-1){b.push(f[c])}}else{var e=b.indexOf(f[c]);if(e!=-1){b.splice(e,1)}}}h.className.baseVal=b.join(" ")},J=function(a,b){N(a,true,b)},ac=function(a,b){N(a,false,b)},T=function(b,a,c){if(b.childNodes.length>c){b.insertBefore(a,b.childNodes[c])}else{b.appendChild(a)}};jsPlumbUtil.svg={addClass:J,removeClass:ac,node:ag,attr:af,pos:Z};var L=function(a){var c=a.pointerEventsSpec||"all",b={};jsPlumb.jsPlumbUIComponent.apply(this,a.originalArgs);this.canvas=null;this.path=null;this.svg=null;var d=a.cssClass+" "+(a.originalArgs[0].cssClass||""),f={style:"",width:0,height:0,"pointer-events":c,position:"absolute"};this.svg=ag("svg",f);if(a.useDivWrapper){this.canvas=document.createElement("div");this.canvas.style.position="absolute";jsPlumbUtil.sizeElement(this.canvas,0,0,1,1);this.canvas.className=d}else{af(this.svg,{"class":d});this.canvas=this.svg}a._jsPlumb.appendElement(this.canvas,a.originalArgs[0].parent);if(a.useDivWrapper){this.canvas.appendChild(this.svg)}var e=[this.canvas];this.getDisplayElements=function(){return e};this.appendDisplayElement=function(g){e.push(g)};this.paint=function(m,n,l){if(m!=null){var g=[this.x,this.y],o=[this.w,this.h],h;if(l!=null){if(l.xmin<0){g[0]+=l.xmin}if(l.ymin<0){g[1]+=l.ymin}o[0]=l.xmax+((l.xmin<0)?-l.xmin:0);o[1]=l.ymax+((l.ymin<0)?-l.ymin:0)}if(a.useDivWrapper){jsPlumbUtil.sizeElement(this.canvas,g[0],g[1],o[0],o[1]);g[0]=0;g[1]=0;h=Z([0,0])}else{h=Z([g[0],g[1]])}b.paint.apply(this,arguments);af(this.svg,{style:h,width:o[0],height:o[1]})}};return{renderer:b}};jsPlumbUtil.extend(L,jsPlumb.jsPlumbUIComponent,{cleanup:function(){jsPlumbUtil.removeElement(this.canvas);this.svg=null;this.canvas=null;this.path=null}});var ai=jsPlumb.ConnectorRenderers.svg=function(a){var c=this,b=L.apply(this,[{cssClass:a._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:a._jsPlumb}]);b.renderer.paint=function(s,n,f){var m=c.getSegments(),q="",p=[0,0];if(f.xmin<0){p[0]=-f.xmin}if(f.ymin<0){p[1]=-f.ymin}for(var o=0;o<m.length;o++){q+=jsPlumb.Segments.svg.SegmentRenderer.getPath(m[o]);q+=" "}var e={d:q,transform:"translate("+p[0]+","+p[1]+")","pointer-events":a["pointer-events"]||"visibleStroke"},h=null,l=[c.x,c.y,c.w,c.h];if(s.outlineColor){var g=s.outlineWidth||1,d=s.lineWidth+(2*g);h=jsPlumb.CurrentLibrary.extend({},s);h.strokeStyle=jsPlumbUtil.convertStyle(s.outlineColor);h.lineWidth=d;if(c.bgPath==null){c.bgPath=ag("path",e);T(c.svg,c.bgPath,0);c.attachListeners(c.bgPath,c)}else{af(c.bgPath,e)}W(c.svg,c.bgPath,h,l,c)}if(c.path==null){c.path=ag("path",e);T(c.svg,c.path,s.outlineColor?1:0);c.attachListeners(c.path,c)}else{af(c.path,e)}W(c.svg,c.path,s,l,c)};this.reattachListeners=function(){if(this.bgPath){this.reattachListenersForElement(this.bgPath,this)}if(this.path){this.reattachListenersForElement(this.path,this)}}};jsPlumbUtil.extend(jsPlumb.ConnectorRenderers.svg,L);jsPlumb.Segments.svg={SegmentRenderer:{getPath:function(a){return({Straight:function(){var b=a.getCoordinates();return"M "+b.x1+" "+b.y1+" L "+b.x2+" "+b.y2},Bezier:function(){var b=a.params;return"M "+b.x1+" "+b.y1+" C "+b.cp1x+" "+b.cp1y+" "+b.cp2x+" "+b.cp2y+" "+b.x2+" "+b.y2},Arc:function(){var b=a.params,d=a.sweep>Math.PI?1:0,c=a.anticlockwise?0:1;return"M"+a.x1+" "+a.y1+" A "+a.radius+" "+b.r+" 0 "+d+","+c+" "+a.x2+" "+a.y2}})[a.type]()}}};var U=window.SvgEndpoint=function(a){var b=L.apply(this,[{cssClass:a._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:true,_jsPlumb:a._jsPlumb}]);b.renderer.paint=function(c){var d=jsPlumb.extend({},c);if(d.outlineColor){d.strokeWidth=d.outlineWidth;d.strokeStyle=jsPlumbUtil.convertStyle(d.outlineColor,true)}if(this.node==null){this.node=this.makeNode(d);this.svg.appendChild(this.node);this.attachListeners(this.node,this)}else{if(this.updateNode!=null){this.updateNode(this.node)}}W(this.svg,this.node,d,[this.x,this.y,this.w,this.h],this);Z(this.node,[this.x,this.y])}.bind(this)};jsPlumbUtil.extend(U,L,{reattachListeners:function(){if(this.node){this.reattachListenersForElement(this.node,this)}}});jsPlumb.Endpoints.svg.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments);U.apply(this,arguments);this.makeNode=function(a){return ag("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})};this.updateNode=function(a){af(a,{cx:this.w/2,cy:this.h/2,r:this.radius})}};jsPlumbUtil.extend(jsPlumb.Endpoints.svg.Dot,[jsPlumb.Endpoints.Dot,U]);jsPlumb.Endpoints.svg.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments);U.apply(this,arguments);this.makeNode=function(a){return ag("rect",{width:this.w,height:this.h})};this.updateNode=function(a){af(a,{width:this.w,height:this.h})}};jsPlumbUtil.extend(jsPlumb.Endpoints.svg.Rectangle,[jsPlumb.Endpoints.Rectangle,U]);jsPlumb.Endpoints.svg.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.svg.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Overlays.svg.Label=jsPlumb.Overlays.Label;jsPlumb.Overlays.svg.Custom=jsPlumb.Overlays.Custom;var R=function(a,b){a.apply(this,b);jsPlumb.jsPlumbUIComponent.apply(this,b);this.isAppendedAtTopLevel=false;var d=this;this.path=null;this.paint=function(f,e){if(f.component.svg&&e){if(this.path==null){this.path=ag("path",{"pointer-events":"all"});f.component.svg.appendChild(this.path);this.attachListeners(this.path,f.component);this.attachListeners(this.path,this)}var h=b&&(b.length==1)?(b[0].cssClass||""):"",g=[0,0];if(e.xmin<0){g[0]=-e.xmin}if(e.ymin<0){g[1]=-e.ymin}af(this.path,{d:c(f.d),"class":h,stroke:f.strokeStyle?f.strokeStyle:null,fill:f.fillStyle?f.fillStyle:null,transform:"translate("+g[0]+","+g[1]+")"})}};var c=function(e){return"M"+e.hxy.x+","+e.hxy.y+" L"+e.tail[0].x+","+e.tail[0].y+" L"+e.cxy.x+","+e.cxy.y+" L"+e.tail[1].x+","+e.tail[1].y+" L"+e.hxy.x+","+e.hxy.y};this.reattachListeners=function(){if(this.path){this.reattachListenersForElement(this.path,this)}}};jsPlumbUtil.extend(R,jsPlumb.jsPlumbUIComponent,{cleanup:function(){if(this.path!=null){jsPlumb.CurrentLibrary.removeElement(this.path)}}});jsPlumb.Overlays.svg.Arrow=function(){R.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.svg.Arrow,[jsPlumb.Overlays.Arrow,R]);jsPlumb.Overlays.svg.PlainArrow=function(){R.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.svg.PlainArrow,[jsPlumb.Overlays.PlainArrow,R]);jsPlumb.Overlays.svg.Diamond=function(){R.apply(this,[jsPlumb.Overlays.Diamond,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.svg.Diamond,[jsPlumb.Overlays.Diamond,R]);jsPlumb.Overlays.svg.GuideLines=function(){var a=null,e=this,b,c;jsPlumb.Overlays.GuideLines.apply(this,arguments);this.paint=function(f,h){if(a==null){a=ag("path");f.connector.svg.appendChild(a);e.attachListeners(a,f.connector);e.attachListeners(a,e);b=ag("path");f.connector.svg.appendChild(b);e.attachListeners(b,f.connector);e.attachListeners(b,e);c=ag("path");f.connector.svg.appendChild(c);e.attachListeners(c,f.connector);e.attachListeners(c,e)}var g=[0,0];if(h.xmin<0){g[0]=-h.xmin}if(h.ymin<0){g[1]=-h.ymin}af(a,{d:d(f.head,f.tail),stroke:"red",fill:null,transform:"translate("+g[0]+","+g[1]+")"});af(b,{d:d(f.tailLine[0],f.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+g[0]+","+g[1]+")"});af(c,{d:d(f.headLine[0],f.headLine[1]),stroke:"green",fill:null,transform:"translate("+g[0]+","+g[1]+")"})};var d=function(f,g){return"M "+f.x+","+f.y+" L"+g.x+","+g.y}};jsPlumbUtil.extend(jsPlumb.Overlays.svg.GuideLines,jsPlumb.Overlays.GuideLines)})();(function(){var G={"stroke-linejoin":"joinstyle",joinstyle:"joinstyle",endcap:"endcap",miterlimit:"miterlimit"},L=null;if(document.createStyleSheet&&document.namespaces){var D=[".jsplumb_vml","jsplumb\\:textbox","jsplumb\\:oval","jsplumb\\:rect","jsplumb\\:stroke","jsplumb\\:shape","jsplumb\\:group"],H="behavior:url(#default#VML);position:absolute;";L=document.createStyleSheet();for(var y=0;y<D.length;y++){L.addRule(D[y],H)}document.namespaces.add("jsplumb","urn:schemas-microsoft-com:vml")}jsPlumb.vml={};var w=1000,x={},N=function(a,b){var c=jsPlumb.getId(a),d=x[c];if(!d){d=I("group",[0,0,w,w],{"class":b});d.style.backgroundColor="red";x[c]=d}return d},J=function(a,c){for(var b in c){a[b]=c[b]}},I=function(b,g,e,d,c,f){e=e||{};var a=document.createElement("jsplumb:"+b);if(f){c.appendElement(a,d)}else{jsPlumb.CurrentLibrary.appendElement(a,d)}a.className=(e["class"]?e["class"]+" ":"")+"jsplumb_vml";F(a,g);J(a,e);return a},F=function(a,b,c){a.style.left=b[0]+"px";a.style.top=b[1]+"px";a.style.width=b[2]+"px";a.style.height=b[3]+"px";a.style.position="absolute";if(c){a.style.zIndex=c}},A=jsPlumb.vml.convertValue=function(a){return Math.floor(a*w)},M=function(c,a,d,b){if("transparent"===a){b.setOpacity(d,"0.0")}else{b.setOpacity(d,"1.0")}},z=function(d,h,a,n){var e={};if(h.strokeStyle){e.stroked="true";var m=jsPlumbUtil.convertStyle(h.strokeStyle,true);e.strokecolor=m;M(e,m,"stroke",a);e.strokeweight=h.lineWidth+"px"}else{e.stroked="false"}if(h.fillStyle){e.filled="true";var g=jsPlumbUtil.convertStyle(h.fillStyle,true);e.fillcolor=g;M(e,g,"fill",a)}else{e.filled="false"}if(h.dashstyle){if(a.strokeNode==null){a.strokeNode=I("stroke",[0,0,0,0],{dashstyle:h.dashstyle},d,n)}else{a.strokeNode.dashstyle=h.dashstyle}}else{if(h["stroke-dasharray"]&&h.lineWidth){var l=h["stroke-dasharray"].indexOf(",")==-1?" ":",",c=h["stroke-dasharray"].split(l),f="";for(var b=0;b<c.length;b++){f+=(Math.floor(c[b]/h.lineWidth)+l)}if(a.strokeNode==null){a.strokeNode=I("stroke",[0,0,0,0],{dashstyle:f},d,n)}else{a.strokeNode.dashstyle=f}}}J(d,e)},C=function(){var b=this,c={};jsPlumb.jsPlumbUIComponent.apply(this,arguments);this.opacityNodes={stroke:null,fill:null};this.initOpacityNodes=function(d){b.opacityNodes.stroke=I("stroke",[0,0,1,1],{opacity:"0.0"},d,b._jsPlumb.instance);b.opacityNodes.fill=I("fill",[0,0,1,1],{opacity:"0.0"},d,b._jsPlumb.instance)};this.setOpacity=function(e,f){var d=b.opacityNodes[e];if(d){d.opacity=""+f}};var a=[];this.getDisplayElements=function(){return a};this.appendDisplayElement=function(d,e){if(!e){b.canvas.parentNode.appendChild(d)}a.push(d)}};jsPlumbUtil.extend(C,jsPlumb.jsPlumbUIComponent,{cleanup:function(){if(this.bgCanvas){jsPlumbUtil.removeElement(this.bgCanvas)}jsPlumbUtil.removeElement(this.canvas)}});var K=jsPlumb.ConnectorRenderers.vml=function(a){this.strokeNode=null;this.canvas=null;C.apply(this,arguments);var b=this._jsPlumb.instance.connectorClass+(a.cssClass?(" "+a.cssClass):"");this.paint=function(g){if(g!==null){this.w=Math.max(this.w,1);this.h=Math.max(this.h,1);var d=this.getSegments(),f={path:""},c=[this.x,this.y,this.w,this.h];for(var e=0;e<d.length;e++){f.path+=jsPlumb.Segments.vml.SegmentRenderer.getPath(d[e]);f.path+=" "}if(g.outlineColor){var m=g.outlineWidth||1,l=g.lineWidth+(2*m),n={strokeStyle:jsPlumbUtil.convertStyle(g.outlineColor),lineWidth:l};for(var h in G){n[h]=g[h]}if(this.bgCanvas==null){f["class"]=b;f.coordsize=(c[2]*w)+","+(c[3]*w);this.bgCanvas=I("shape",c,f,a.parent,this._jsPlumb.instance,true);F(this.bgCanvas,c);this.appendDisplayElement(this.bgCanvas,true);this.attachListeners(this.bgCanvas,this);this.initOpacityNodes(this.bgCanvas,["stroke"])}else{f.coordsize=(c[2]*w)+","+(c[3]*w);F(this.bgCanvas,c);J(this.bgCanvas,f)}z(this.bgCanvas,n,this)}if(this.canvas==null){f["class"]=b;f.coordsize=(c[2]*w)+","+(c[3]*w);this.canvas=I("shape",c,f,a.parent,this._jsPlumb.instance,true);this.appendDisplayElement(this.canvas,true);this.attachListeners(this.canvas,this);this.initOpacityNodes(this.canvas,["stroke"])}else{f.coordsize=(c[2]*w)+","+(c[3]*w);F(this.canvas,c);J(this.canvas,f)}z(this.canvas,g,this,this._jsPlumb.instance)}}};jsPlumbUtil.extend(K,C,{reattachListeners:function(){if(this.canvas){this.reattachListenersForElement(this.canvas,this)}}});var E=window.VmlEndpoint=function(a){C.apply(this,arguments);this._jsPlumb.vml=null;this.canvas=document.createElement("div");this.canvas.style.position="absolute";this._jsPlumb.clazz=this._jsPlumb.instance.endpointClass+(a.cssClass?(" "+a.cssClass):"");a._jsPlumb.appendElement(this.canvas,a.parent);this.paint=function(d,e){var c={},b=this._jsPlumb.vml;jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h);if(this._jsPlumb.vml==null){c["class"]=this._jsPlumb.clazz;b=this._jsPlumb.vml=this.getVml([0,0,this.w,this.h],c,e,this.canvas,this._jsPlumb.instance);this.attachListeners(b,this);this.appendDisplayElement(b,true);this.appendDisplayElement(this.canvas,true);this.initOpacityNodes(b,["fill"])}else{F(b,[0,0,this.w,this.h]);J(b,c)}z(b,d,this)}};jsPlumbUtil.extend(E,C,{reattachListeners:function(){if(this._jsPlumb.vml){this.reattachListenersForElement(this._jsPlumb.vml,this)}}});jsPlumb.Segments.vml={SegmentRenderer:{getPath:function(a){return({Straight:function(b){var c=b.params;return"m"+A(c.x1)+","+A(c.y1)+" l"+A(c.x2)+","+A(c.y2)+" e"},Bezier:function(b){var c=b.params;return"m"+A(c.x1)+","+A(c.y1)+" c"+A(c.cp1x)+","+A(c.cp1y)+","+A(c.cp2x)+","+A(c.cp2y)+","+A(c.x2)+","+A(c.y2)+" e"},Arc:function(c){var m=c.params,h=Math.min(m.x1,m.x2),d=Math.max(m.x1,m.x2),l=Math.min(m.y1,m.y2),f=Math.max(m.y1,m.y2),b=c.anticlockwise?1:0,g=(c.anticlockwise?"at ":"wa "),e=function(){var n=[null,[function(){return[h,l]},function(){return[h-m.r,l-m.r]}],[function(){return[h-m.r,l]},function(){return[h,l-m.r]}],[function(){return[h-m.r,l-m.r]},function(){return[h,l]}],[function(){return[h,l-m.r]},function(){return[h-m.r,l]}]][c.segment][b]();return A(n[0])+","+A(n[1])+","+A(n[0]+(2*m.r))+","+A(n[1]+(2*m.r))};return g+e()+","+A(m.x1)+","+A(m.y1)+","+A(m.x2)+","+A(m.y2)+" e"}})[a.type](a)}}};jsPlumb.Endpoints.vml.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments);E.apply(this,arguments);this.getVml=function(d,b,a,e,c){return I("oval",d,b,e,c)}};jsPlumbUtil.extend(jsPlumb.Endpoints.vml.Dot,E);jsPlumb.Endpoints.vml.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments);E.apply(this,arguments);this.getVml=function(d,b,a,e,c){return I("rect",d,b,e,c)}};jsPlumbUtil.extend(jsPlumb.Endpoints.vml.Rectangle,E);jsPlumb.Endpoints.vml.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.vml.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Overlays.vml.Label=jsPlumb.Overlays.Label;jsPlumb.Overlays.vml.Custom=jsPlumb.Overlays.Custom;var B=function(b,e){b.apply(this,e);C.apply(this,e);var a=this,d=null;a.canvas=null;a.isAppendedAtTopLevel=true;var c=function(f){return"m "+A(f.hxy.x)+","+A(f.hxy.y)+" l "+A(f.tail[0].x)+","+A(f.tail[0].y)+" "+A(f.cxy.x)+","+A(f.cxy.y)+" "+A(f.tail[1].x)+","+A(f.tail[1].y)+" x e"};this.paint=function(v,u){var g={},o=v.d,P=v.component;if(v.strokeStyle){g.stroked="true";g.strokecolor=jsPlumbUtil.convertStyle(v.strokeStyle,true)}if(v.lineWidth){g.strokeweight=v.lineWidth+"px"}if(v.fillStyle){g.filled="true";g.fillcolor=v.fillStyle}var h=Math.min(o.hxy.x,o.tail[0].x,o.tail[1].x,o.cxy.x),l=Math.min(o.hxy.y,o.tail[0].y,o.tail[1].y,o.cxy.y),t=Math.max(o.hxy.x,o.tail[0].x,o.tail[1].x,o.cxy.x),f=Math.max(o.hxy.y,o.tail[0].y,o.tail[1].y,o.cxy.y),m=Math.abs(t-h),q=Math.abs(f-l),s=[h,l,m,q];g.path=c(o);g.coordsize=(P.w*w)+","+(P.h*w);s[0]=P.x;s[1]=P.y;s[2]=P.w;s[3]=P.h;if(a.canvas==null){var n=P._jsPlumb.overlayClass||"";var p=e&&(e.length==1)?(e[0].cssClass||""):"";g["class"]=p+" "+n;a.canvas=I("shape",s,g,P.canvas.parentNode,P._jsPlumb.instance,true);P.appendDisplayElement(a.canvas,true);a.attachListeners(a.canvas,P);a.attachListeners(a.canvas,a)}else{F(a.canvas,s);J(a.canvas,g)}};this.reattachListeners=function(){if(a.canvas){a.reattachListenersForElement(a.canvas,a)}};this.cleanup=function(){if(a.canvas!=null){jsPlumb.CurrentLibrary.removeElement(a.canvas)}}};jsPlumbUtil.extend(B,C);jsPlumb.Overlays.vml.Arrow=function(){B.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.vml.Arrow,[jsPlumb.Overlays.Arrow,B]);jsPlumb.Overlays.vml.PlainArrow=function(){B.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.vml.PlainArrow,[jsPlumb.Overlays.PlainArrow,B]);jsPlumb.Overlays.vml.Diamond=function(){B.apply(this,[jsPlumb.Overlays.Diamond,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.vml.Diamond,[jsPlumb.Overlays.Diamond,B])})();(function(c){var d=function(a){return typeof(a)=="string"?c("#"+a):c(a)};jsPlumb.CurrentLibrary={addClass:function(b,e){b=d(b);try{if(b[0].className.constructor==SVGAnimatedString){jsPlumbUtil.svg.addClass(b[0],e)}}catch(a){}try{b.addClass(e)}catch(a){}},animate:function(a,b,f){a.animate(b,f)},appendElement:function(a,b){d(b).append(a)},ajax:function(a){a=a||{};a.type=a.type||"get";c.ajax(a)},bind:function(f,b,a){f=d(f);f.bind(b,a)},destroyDraggable:function(a){if(c(a).data("draggable")){c(a).draggable("destroy")}},destroyDroppable:function(a){if(c(a).data("droppable")){c(a).droppable("destroy")}},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete"},extend:function(a,b){return c.extend(a,b)},getClientXY:function(a){return[a.clientX,a.clientY]},getDragObject:function(a){return a[1].draggable||a[1].helper},getDragScope:function(a){return c(a).draggable("option","scope")},getDropEvent:function(a){return a[0]},getDropScope:function(a){return c(a).droppable("option","scope")},getDOMElement:function(a){if(a==null){return null}if(typeof(a)=="string"){return document.getElementById(a)}else{if(a.context||a.length!=null){return a[0]}else{return a}}},getElementObject:d,getOffset:function(a){return a.offset()},getOriginalEvent:function(a){return a.originalEvent},getPageXY:function(a){return[a.pageX,a.pageY]},getParent:function(a){return d(a).parent()},getScrollLeft:function(a){return a.scrollLeft()},getScrollTop:function(a){return a.scrollTop()},getSelector:function(a,b){if(arguments.length==2){return d(a).find(b)}else{return c(a)}},getSize:function(a){a=c(a);return[a.outerWidth(),a.outerHeight()]},getTagName:function(b){var a=d(b);return a.length>0?a[0].tagName:null},getUIPosition:function(g,b){b=b||1;if(g.length==1){ret={left:g[0].pageX,top:g[0].pageY}}else{var a=g[1],h=a.offset;ret=h||a.absolutePosition;a.position.left/=b;a.position.top/=b}return{left:ret.left/b,top:ret.top/b}},hasClass:function(a,b){return a.hasClass(b)},initDraggable:function(b,g,a,h){g=g||{};b=c(b);g.start=jsPlumbUtil.wrap(g.start,function(){c("body").addClass(h.dragSelectClass)},false);g.stop=jsPlumbUtil.wrap(g.stop,function(){c("body").removeClass(h.dragSelectClass)});if(!g.doNotRemoveHelper){g.helper=null}if(a){g.scope=g.scope||jsPlumb.Defaults.Scope}b.draggable(g)},initDroppable:function(a,b){b.scope=b.scope||jsPlumb.Defaults.Scope;c(a).droppable(b)},isAlreadyDraggable:function(a){return c(a).hasClass("ui-draggable")},isDragSupported:function(a,b){return c(a).draggable},isDropSupported:function(a,b){return c(a).droppable},removeClass:function(b,e){b=d(b);try{if(b[0].className.constructor==SVGAnimatedString){jsPlumbUtil.svg.removeClass(b[0],e);return}}catch(a){}b.removeClass(e)},removeElement:function(a){d(a).remove()},setDragFilter:function(a,b){if(jsPlumb.CurrentLibrary.isAlreadyDraggable(a)){a.draggable("option","cancel",b)}},setDraggable:function(a,b){a.draggable("option","disabled",!b)},setDragScope:function(a,b){a.draggable("option","scope",b)},setOffset:function(b,a){d(b).offset(a)},trigger:function(b,a,h){var g=jQuery._data(d(b)[0],"handle");g(h)},unbind:function(f,b,a){f=d(f);f.unbind(b,a)}};c(document).ready(jsPlumb.init)})(jQuery);(function(b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{if(typeof exports=="object"&&typeof module=="object"){module.exports=b}else{b(jQuery)}}})(function(N,L){var F={beforeShow:Q,move:Q,change:Q,show:Q,hide:Q,color:false,flat:false,showInput:false,allowEmpty:false,showButtons:true,clickoutFiresChange:true,showInitial:false,showPalette:false,showPaletteOnly:false,hideAfterPaletteSelect:false,togglePaletteOnly:false,showSelectionPalette:true,localStorageKey:false,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:false,className:"",containerClassName:"",replacerClassName:"",showAlpha:false,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:false,offset:null},O=[],K=!!/msie/i.exec(window.navigator.userAgent),G=(function(){function c(d,e){return !!~(""+d).indexOf(e)}var a=document.createElement("div");var b=a.style;b.cssText="background-color:rgba(0,0,0,.5)";return c(b.backgroundColor,"rgba")||c(b.backgroundColor,"hsla")})(),B=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),C=(function(){var b="";if(K){for(var a=1;a<=6;a++){b+="<div class='sp-"+a+"'></div>"}}return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",b,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")})();function z(d,b,m,f){var o=[];for(var a=0;a<d.length;a++){var n=d[a];if(n){var e=tinycolor(n);var h=e.toHsl().l<0.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";h+=(tinycolor.equals(b,n))?" sp-thumb-active":"";var l=e.toString(f.preferredFormat||"rgb");var c=G?("background-color:"+e.toRgbString()):"filter:"+e.toFilter();o.push('<span title="'+l+'" data-color="'+e.toRgbString()+'" class="'+h+'"><span class="sp-thumb-inner" style="'+c+';" /></span>')}else{var g="sp-clear-display";o.push(N("<div />").append(N('<span data-color="" style="background-color:transparent;" class="'+g+'"></span>').attr("title",f.noColorSelectedText)).html())}}return"<div class='sp-cf "+m+"'>"+o.join("")+"</div>"}function D(){for(var a=0;a<O.length;a++){if(O[a]){O[a].hide()}}}function E(a,c){var b=N.extend({},F,a);b.callbacks={move:y(b.move,c),change:y(b.change,c),show:y(b.show,c),hide:y(b.hide,c),beforeShow:y(b.beforeShow,c)};return b}function A(m,bx){var o=E(bx,m),cb=o.flat,bI=o.showSelectionPalette,bs=o.localStorageKey,bu=o.theme,f=o.callbacks,bd=M(bB,10),n=false,bk=false,bS=0,bz=0,bR=0,b5=0,u=0,b6=0,cg=0,bg=0,bG=0,l=0,b2=0,cf=1,bw=[],bt=[],t={},bW=o.selectionPalette.slice(0),bX=o.maxSelectionSize,br="sp-dragging",bb=null;var bH=m.ownerDocument,p=bH.body,bf=N(m),ci=false,bQ=N(C,bH).addClass(bu),c=bQ.find(".sp-picker-container"),a0=bQ.find(".sp-color"),bT=bQ.find(".sp-dragger"),s=bQ.find(".sp-hue"),cc=bQ.find(".sp-slider"),b0=bQ.find(".sp-alpha-inner"),bF=bQ.find(".sp-alpha"),bZ=bQ.find(".sp-alpha-handle"),w=bQ.find(".sp-input"),g=bQ.find(".sp-palette"),q=bQ.find(".sp-initial"),bi=bQ.find(".sp-cancel"),bo=bQ.find(".sp-clear"),ba=bQ.find(".sp-choose"),bO=bQ.find(".sp-palette-toggle"),e=bf.is("input"),bj=e&&bf.attr("type")==="color"&&H(),b3=e&&!cb,a=(b3)?N(B).addClass(bu).addClass(o.className).addClass(o.replacerClassName):N([]),b8=(b3)?a:bf,x=a.find(".sp-preview-inner"),d=o.color||(e&&bf.val()),bP=false,bJ=o.preferredFormat,ca=bJ,bc=!o.showButtons||o.clickoutFiresChange,bh=!d,v=o.allowEmpty&&!bj;function b(){if(o.showPaletteOnly){o.showPalette=true}bO.text(o.showPaletteOnly?o.togglePaletteMoreText:o.togglePaletteLessText);if(o.palette){bw=o.palette.slice(0);bt=N.isArray(bw[0])?bw:[bw];t={};for(var S=0;S<bt.length;S++){for(var T=0;T<bt[S].length;T++){var U=tinycolor(bt[S][T]).toRgbString();t[U]=true}}}bQ.toggleClass("sp-flat",cb);bQ.toggleClass("sp-input-disabled",!o.showInput);bQ.toggleClass("sp-alpha-enabled",o.showAlpha);bQ.toggleClass("sp-clear-enabled",v);bQ.toggleClass("sp-buttons-disabled",!o.showButtons);bQ.toggleClass("sp-palette-buttons-disabled",!o.togglePaletteOnly);bQ.toggleClass("sp-palette-disabled",!o.showPalette);bQ.toggleClass("sp-palette-only",o.showPaletteOnly);bQ.toggleClass("sp-initial-disabled",!o.showInitial);bQ.addClass(o.className).addClass(o.containerClassName);bB()}function bV(){if(K){bQ.find("*:not(input)").attr("unselectable","on")}b();if(b3){bf.after(a).hide()}if(!v){bo.hide()}if(cb){bf.after(bQ).hide()}else{var T=o.appendTo==="parent"?bf.parent():N(o.appendTo);if(T.length!==1){T=N("body")}T.append(bQ)}bN();b8.bind("click.spectrum touchstart.spectrum",function(V){if(!ci){b7()}V.stopPropagation();if(!N(V.target).is("input")){V.preventDefault()}});if(bf.is(":disabled")||(o.disabled===true)){bK()}bQ.click(I);w.change(bM);w.bind("paste",function(){setTimeout(bM,1)});w.keydown(function(V){if(V.keyCode==13){bM()}});bi.text(o.cancelText);bi.bind("click.spectrum",function(V){V.stopPropagation();V.preventDefault();b9();bY()});bo.attr("title",o.clearText);bo.bind("click.spectrum",function(V){V.stopPropagation();V.preventDefault();bh=true;bU();if(cb){bl(true)}});ba.text(o.chooseText);ba.bind("click.spectrum",function(V){V.stopPropagation();V.preventDefault();if(K&&w.is(":focus")){w.trigger("change")}if(b4()){bl(true);bY()}});bO.text(o.showPaletteOnly?o.togglePaletteMoreText:o.togglePaletteLessText);bO.bind("click.spectrum",function(V){V.stopPropagation();V.preventDefault();o.showPaletteOnly=!o.showPaletteOnly;if(!o.showPaletteOnly&&!cb){bQ.css("left","-="+(c.outerWidth(true)+5))}b()});P(bF,function(Z,V,W){cf=(Z/b6);bh=false;if(W.shiftKey){cf=Math.round(cf*10)/10}bU()},bm,h);P(s,function(V,W){bG=parseFloat(W/b5);bh=false;if(!o.showAlpha){cf=1}bU()},bm,h);P(a0,function(Z,ab,ac){if(!ac.shiftKey){bb=null}else{if(!bb){var ae=l*bS;var W=bz-(b2*bz);var V=Math.abs(Z-ae)>Math.abs(ab-W);bb=V?"x":"y"}}var ad=!bb||bb==="x";var aa=!bb||bb==="y";if(ad){l=parseFloat(Z/bS)}if(aa){b2=parseFloat((bz-ab)/bz)}bh=false;if(!o.showAlpha){cf=1}bU()},bm,h);if(!!d){bC(d);b1();ca=bJ||tinycolor(d).format;cj(d)}else{b1()}if(cb){bn()}function S(V){if(V.data&&V.data.ignore){bC(N(V.target).closest(".sp-thumb-el").data("color"));bU()}else{bC(N(V.target).closest(".sp-thumb-el").data("color"));bU();bl(true);if(o.hideAfterPaletteSelect){bY()}}return false}var U=K?"mousedown.spectrum":"click.spectrum touchstart.spectrum";g.delegate(".sp-thumb-el",U,S);q.delegate(".sp-thumb-el:nth-child(1)",U,{ignore:true},S)}function bN(){if(bs&&window.localStorage){try{var T=window.localStorage[bs].split(",#");if(T.length>1){delete window.localStorage[bs];N.each(T,function(V,U){cj(U)})}}catch(S){}try{bW=window.localStorage[bs].split(";")}catch(S){}}}function cj(U){if(bI){var T=tinycolor(U).toRgbString();if(!t[T]&&N.inArray(T,bW)===-1){bW.push(T);while(bW.length>bX){bW.shift()}}if(bs&&window.localStorage){try{window.localStorage[bs]=bW.join(";")}catch(S){}}}}function ch(){var S=[];if(o.showPalette){for(var T=0;T<bW.length;T++){var U=tinycolor(bW[T]).toRgbString();if(!t[U]){S.push(bW[T])}}}return S.reverse().slice(0,o.maxSelectionSize)}function ce(){var T=bL();var S=N.map(bt,function(V,U){return z(V,T,"sp-palette-row sp-palette-row-"+U,o)});bN();if(bW){S.push(z(ch(),T,"sp-palette-row sp-palette-row-selection",o))}g.html(S.join(""))}function be(){if(o.showInitial){var T=bP;var S=bL();q.html(z([T,S],S,"sp-palette-row-initial",o))}}function bm(){if(bz<=0||bS<=0||b5<=0){bB()}bk=true;bQ.addClass(br);bb=null;bf.trigger("dragstart.spectrum",[bL()])}function h(){bk=false;bQ.removeClass(br);bf.trigger("dragstop.spectrum",[bL()])}function bM(){var S=w.val();if((S===null||S==="")&&v){bC(null);bl(true)}else{var T=tinycolor(S);if(T.isValid()){bC(T);bl(true)}else{w.addClass("sp-validation-error")}}}function b7(){if(n){bY()}else{bn()}}function bn(){var S=N.Event("beforeShow.spectrum");if(n){bB();return}bf.trigger(S,[bL()]);if(f.beforeShow(bL())===false||S.isDefaultPrevented()){return}D();n=true;N(bH).bind("keydown.spectrum",bv);N(bH).bind("click.spectrum",bD);N(window).bind("resize.spectrum",bd);a.addClass("sp-active");bQ.removeClass("sp-hidden");bB();b1();bP=bL();be();f.show(bP);bf.trigger("show.spectrum",[bP])}function bv(S){if(S.keyCode===27){bY()}}function bD(S){if(S.button==2){return}if(bk){return}if(bc){bl(true)}else{b9()}bY()}function bY(){if(!n||cb){return}n=false;N(bH).unbind("keydown.spectrum",bv);N(bH).unbind("click.spectrum",bD);N(window).unbind("resize.spectrum",bd);a.removeClass("sp-active");bQ.addClass("sp-hidden");f.hide(bL());bf.trigger("hide.spectrum",[bL()])}function b9(){bC(bP,true)}function bC(V,T){if(tinycolor.equals(V,bL())){b1();return}var U,S;if(!V&&v){bh=true}else{bh=false;U=tinycolor(V);S=U.toHsv();bG=(S.h%360)/360;l=S.s;b2=S.v;cf=S.a}b1();if(U&&U.isValid()&&!T){ca=bJ||U.getFormat()}}function bL(S){S=S||{};if(v&&bh){return null}return tinycolor.fromRatio({h:bG,s:l,v:b2,a:Math.round(cf*100)/100},{format:S.format||ca})}function b4(){return !w.hasClass("sp-validation-error")}function bU(){b1();f.move(bL());bf.trigger("move.spectrum",[bL()])}function b1(){w.removeClass("sp-validation-error");cd();var aa=tinycolor.fromRatio({h:bG,s:1,v:1});a0.css("background-color",aa.toHexString());var T=ca;if(cf<1&&!(cf===0&&T==="name")){if(T==="hex"||T==="hex3"||T==="hex6"||T==="name"){T="rgb"}}var ac=bL({format:T}),Z="";x.removeClass("sp-clear-display");x.css("background-color","transparent");if(!ac&&v){x.addClass("sp-clear-display")}else{var W=ac.toHexString(),S=ac.toRgbString();if(G||ac.alpha===1){x.css("background-color",S)}else{x.css("background-color","transparent");x.css("filter",ac.toFilter())}if(o.showAlpha){var V=ac.toRgb();V.a=0;var ab=tinycolor(V).toRgbString();var U="linear-gradient(left, "+ab+", "+W+")";if(K){b0.css("filter",tinycolor(ab).toFilter({gradientType:1},W))}else{b0.css("background","-webkit-"+U);b0.css("background","-moz-"+U);b0.css("background","-ms-"+U);b0.css("background","linear-gradient(to right, "+ab+", "+W+")")}}Z=ac.toString(T)}if(o.showInput){w.val(Z)}if(o.showPalette){ce()}be()}function cd(){var U=l;var W=b2;if(v&&bh){bZ.hide();cc.hide();bT.hide()}else{bZ.show();cc.show();bT.show();var Z=U*bS;var T=bz-(W*bz);Z=Math.max(-bR,Math.min(bS-bR,Z-bR));T=Math.max(-bR,Math.min(bz-bR,T-bR));bT.css({top:T+"px",left:Z+"px"});var V=cf*b6;bZ.css({left:(V-(cg/2))+"px"});var S=(bG)*b5;cc.css({top:(S-bg)+"px"})}}function bl(U){var V=bL(),S="",T=!tinycolor.equals(V,bP);if(V){S=V.toString(ca);cj(V)}if(e){bf.val(S)}if(U&&T){f.change(V);bf.trigger("change",[V])}}function bB(){bS=a0.width();bz=a0.height();bR=bT.height();u=s.width();b5=s.height();bg=cc.height();b6=bF.width();cg=bZ.width();if(!cb){bQ.css("position","absolute");if(o.offset){bQ.offset(o.offset)}else{bQ.offset(R(bQ,b8))}}cd();if(o.showPalette){ce()}bf.trigger("reflow.spectrum")}function bq(){bf.show();b8.unbind("click.spectrum touchstart.spectrum");bQ.remove();a.remove();O[bA.id]=null}function bE(T,S){if(T===L){return N.extend({},o)}if(S===L){return o[T]}o[T]=S;b()}function by(){ci=false;bf.attr("disabled",false);b8.removeClass("sp-disabled")}function bK(){bY();ci=true;bf.attr("disabled",true);b8.addClass("sp-disabled")}function bp(S){o.offset=S;bB()}bV();var bA={show:bn,hide:bY,toggle:b7,reflow:bB,option:bE,enable:by,disable:bK,offset:bp,set:function(S){bC(S);bl()},get:bL,destroy:bq,container:bQ};bA.id=O.push(bA)-1;return bA}function R(m,l){var n=0;var b=m.outerWidth();var g=m.outerHeight();var f=l.outerHeight();var h=m[0].ownerDocument;var e=h.documentElement;var a=e.clientWidth+N(h).scrollLeft();var d=e.clientHeight+N(h).scrollTop();var c=l.offset();c.top+=f;c.left-=Math.min(c.left,(c.left+b>a&&a>b)?Math.abs(c.left+b-a):0);c.top-=Math.min(c.top,((c.top+g>d&&d>g)?Math.abs(g+f-n):n));return c}function Q(){}function I(a){a.stopPropagation()}function y(b,a){var d=Array.prototype.slice;var c=d.call(arguments,2);return function(){return b.apply(a,c.concat(d.call(arguments)))}}function P(a,n,f,d){n=n||function(){};f=f||function(){};d=d||function(){};var m=document;var g=false;var b={};var e=0;var l=0;var q=("ontouchstart" in window);var s={};s.selectstart=o;s.dragstart=o;s["touchmove mousemove"]=c;s["touchend mouseup"]=p;function o(t){if(t.stopPropagation){t.stopPropagation()}if(t.preventDefault){t.preventDefault()}t.returnValue=false}function c(u){if(g){if(K&&m.documentMode<9&&!u.button){return p()}var w=u.originalEvent&&u.originalEvent.touches&&u.originalEvent.touches[0];var x=w&&w.pageX||u.pageX;var T=w&&w.pageY||u.pageY;var t=Math.max(0,Math.min(x-b.left,l));var v=Math.max(0,Math.min(T-b.top,e));if(q){o(u)}n.apply(a,[t,v,u])}}function h(t){var u=(t.which)?(t.which==3):(t.button==2);if(!u&&!g){if(f.apply(a,arguments)!==false){g=true;e=N(a).height();l=N(a).width();b=N(a).offset();N(m).bind(s);N(m.body).addClass("sp-dragging");c(t);o(t)}}}function p(){if(g){N(m).unbind(s);N(m.body).removeClass("sp-dragging");setTimeout(function(){d.apply(a,arguments)},0)}g=false}N(a).bind("touchstart mousedown",h)}function M(b,d,c){var a;return function(){var f=this,g=arguments;var e=function(){a=null;b.apply(f,g)};if(c){clearTimeout(a)}if(c||!a){a=setTimeout(e,d)}}}function H(){return N.fn.spectrum.inputTypeColorSupport()}var J="spectrum.id";N.fn.spectrum=function(d,c){if(typeof d=="string"){var a=this;var b=Array.prototype.slice.call(arguments,1);this.each(function(){var f=O[N(this).data(J)];if(f){var e=f[d];if(!e){throw new Error("Spectrum: no such method: '"+d+"'")}if(d=="get"){a=f.get()}else{if(d=="container"){a=f.container}else{if(d=="option"){a=f.option.apply(f,b)}else{if(d=="destroy"){f.destroy();N(this).removeData(J)}else{e.apply(f,b)}}}}}});return a}return this.spectrum("destroy").each(function(){var f=N.extend({},d,N(this).data());var e=A(this,f);N(this).data(J,e.id)})};N.fn.spectrum.load=true;N.fn.spectrum.loadOpts={};N.fn.spectrum.draggable=P;N.fn.spectrum.defaults=F;N.fn.spectrum.inputTypeColorSupport=function H(){if(typeof H._cachedResult==="undefined"){var a=N("<input type='color' value='!' />")[0];H._cachedResult=a.type==="color"&&a.value!=="!"}return H._cachedResult};N.spectrum={};N.spectrum.localization={};N.spectrum.palettes={};N.fn.spectrum.processNativeColorInputs=function(){var a=N("input[type=color]");if(a.length&&!H()){a.spectrum({preferredFormat:"hex6"})}};(function(){var aB=/^[\s,#]+/,q=/\s+$/,aq=0,e=Math,a=e.round,n=e.min,m=e.max,au=e.random;var am=function(U,S){U=(U)?U:"";S=S||{};if(U instanceof am){return U}if(!(this instanceof am)){return new am(U,S)}var T=at(U);this._originalInput=U,this._r=T.r,this._g=T.g,this._b=T.b,this._a=T.a,this._roundA=a(100*this._a)/100,this._format=S.format||T.format;this._gradientType=S.gradientType;if(this._r<1){this._r=a(this._r)}if(this._g<1){this._g=a(this._g)}if(this._b<1){this._b=a(this._b)}this._ok=T.ok;this._tc_id=aq++};am.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return !this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var S=this.toRgb();return(S.r*299+S.g*587+S.b*114)/1000},setAlpha:function(S){this._a=ar(S);this._roundA=a(100*this._a)/100;return this},toHsv:function(){var S=ay(this._r,this._g,this._b);return{h:S.h*360,s:S.s,v:S.v,a:this._a}},toHsvString:function(){var U=ay(this._r,this._g,this._b);var S=a(U.h*360),T=a(U.s*100),V=a(U.v*100);return(this._a==1)?"hsv("+S+", "+T+"%, "+V+"%)":"hsva("+S+", "+T+"%, "+V+"%, "+this._roundA+")"},toHsl:function(){var S=an(this._r,this._g,this._b);return{h:S.h*360,s:S.s,l:S.l,a:this._a}},toHslString:function(){var U=an(this._r,this._g,this._b);var S=a(U.h*360),T=a(U.s*100),V=a(U.l*100);return(this._a==1)?"hsl("+S+", "+T+"%, "+V+"%)":"hsla("+S+", "+T+"%, "+V+"%, "+this._roundA+")"},toHex:function(S){return aw(this._r,this._g,this._b,S)},toHexString:function(S){return"#"+this.toHex(S)},toHex8:function(){return l(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return(this._a==1)?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(x(this._r,255)*100)+"%",g:a(x(this._g,255)*100)+"%",b:a(x(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return(this._a==1)?"rgb("+a(x(this._r,255)*100)+"%, "+a(x(this._g,255)*100)+"%, "+a(x(this._b,255)*100)+"%)":"rgba("+a(x(this._r,255)*100)+"%, "+a(x(this._g,255)*100)+"%, "+a(x(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){if(this._a===0){return"transparent"}if(this._a<1){return false}return f[aw(this._r,this._g,this._b,true)]||false},toFilter:function(T){var S="#"+l(this._r,this._g,this._b,this._a);var V=S;var W=this._gradientType?"GradientType = 1, ":"";if(T){var U=am(T);V=U.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+W+"startColorstr="+S+",endColorstr="+V+")"},toString:function(T){var W=!!T;T=T||this._format;var U=false;var V=this._a<1&&this._a>=0;var S=!W&&V&&(T==="hex"||T==="hex6"||T==="hex3"||T==="name");if(S){if(T==="name"&&this._a===0){return this.toName()}return this.toRgbString()}if(T==="rgb"){U=this.toRgbString()}if(T==="prgb"){U=this.toPercentageRgbString()}if(T==="hex"||T==="hex6"){U=this.toHexString()}if(T==="hex3"){U=this.toHexString(true)}if(T==="hex8"){U=this.toHex8String()}if(T==="name"){U=this.toName()}if(T==="hsl"){U=this.toHslString()}if(T==="hsv"){U=this.toHsvString()}return U||this.toHexString()},_applyModification:function(S,T){var U=S.apply(null,[this].concat([].slice.call(T)));this._r=U._r;this._g=U._g;this._b=U._b;this.setAlpha(U._a);return this},lighten:function(){return this._applyModification(t,arguments)},brighten:function(){return this._applyModification(aK,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(az,arguments)},greyscale:function(){return this._applyModification(aE,arguments)},spin:function(){return this._applyModification(ap,arguments)},_applyCombination:function(S,T){return S.apply(null,[this].concat([].slice.call(T)))},analogous:function(){return this._applyCombination(c,arguments)},complement:function(){return this._applyCombination(aG,arguments)},monochromatic:function(){return this._applyCombination(o,arguments)},splitcomplement:function(){return this._applyCombination(aJ,arguments)},triad:function(){return this._applyCombination(aC,arguments)},tetrad:function(){return this._applyCombination(p,arguments)}};am.fromRatio=function(V,S){if(typeof V=="object"){var U={};for(var T in V){if(V.hasOwnProperty(T)){if(T==="a"){U[T]=V[T]}else{U[T]=w(V[T])}}}V=U}return am(V,S)};function at(V){var U={r:0,g:0,b:0};var W=1;var T=false;var S=false;if(typeof V=="string"){V=h(V)}if(typeof V=="object"){if(V.hasOwnProperty("r")&&V.hasOwnProperty("g")&&V.hasOwnProperty("b")){U=aA(V.r,V.g,V.b);T=true;S=String(V.r).substr(-1)==="%"?"prgb":"rgb"}else{if(V.hasOwnProperty("h")&&V.hasOwnProperty("s")&&V.hasOwnProperty("v")){V.s=w(V.s);V.v=w(V.v);U=ax(V.h,V.s,V.v);T=true;S="hsv"}else{if(V.hasOwnProperty("h")&&V.hasOwnProperty("s")&&V.hasOwnProperty("l")){V.s=w(V.s);V.l=w(V.l);U=b(V.h,V.s,V.l);T=true;S="hsl"}}}if(V.hasOwnProperty("a")){W=V.a}}W=ar(W);return{ok:T,format:V.format||S,r:n(255,m(U.r,0)),g:n(255,m(U.g,0)),b:n(255,m(U.b,0)),a:W}}function aA(S,T,U){return{r:x(S,255)*255,g:x(T,255)*255,b:x(U,255)*255}}function an(V,ac,aa){V=x(V,255);ac=x(ac,255);aa=x(aa,255);var Z=m(V,ac,aa),T=n(V,ac,aa);var S,W,U=(Z+T)/2;if(Z==T){S=W=0}else{var ab=Z-T;W=U>0.5?ab/(2-Z-T):ab/(Z+T);switch(Z){case V:S=(ac-aa)/ab+(ac<aa?6:0);break;case ac:S=(aa-V)/ab+2;break;case aa:S=(V-ac)/ab+4;break}S/=6}return{h:S,s:W,l:U}}function b(ab,W,ac){var V,aa,Z;ab=x(ab,360);W=x(W,100);ac=x(ac,100);function S(ad,ae,af){if(af<0){af+=1}if(af>1){af-=1}if(af<1/6){return ad+(ae-ad)*6*af}if(af<1/2){return ae}if(af<2/3){return ad+(ae-ad)*(2/3-af)*6}return ad}if(W===0){V=aa=Z=ac}else{var U=ac<0.5?ac*(1+W):ac+W-ac*W;var T=2*ac-U;V=S(T,U,ab+1/3);aa=S(T,U,ab);Z=S(T,U,ab-1/3)}return{r:V*255,g:aa*255,b:Z*255}}function ay(V,S,ab){V=x(V,255);S=x(S,255);ab=x(ab,255);var aa=m(V,S,ab),U=n(V,S,ab);var T,W,Z=aa;var ac=aa-U;W=aa===0?0:ac/aa;if(aa==U){T=0}else{switch(aa){case V:T=(S-ab)/ac+(S<ab?6:0);break;case S:T=(ab-V)/ac+2;break;case ab:T=(V-S)/ac+4;break}T/=6}return{h:T,s:W,v:Z}}function ax(af,W,aa){af=x(af,360)*6;W=x(W,100);aa=x(aa,100);var S=e.floor(af),ad=af-S,T=aa*(1-W),U=aa*(1-ad*W),Z=aa*(1-(1-ad)*W),ab=S%6,V=[aa,U,T,T,Z,aa][ab],ae=[Z,aa,aa,U,T,T][ab],ac=[T,T,Z,aa,aa,U][ab];return{r:V*255,g:ae*255,b:ac*255}}function aw(T,U,W,S){var V=[d(a(T).toString(16)),d(a(U).toString(16)),d(a(W).toString(16))];if(S&&V[0].charAt(0)==V[0].charAt(1)&&V[1].charAt(0)==V[1].charAt(1)&&V[2].charAt(0)==V[2].charAt(1)){return V[0].charAt(0)+V[1].charAt(0)+V[2].charAt(0)}return V.join("")}function l(S,T,W,V){var U=[d(aH(V)),d(a(S).toString(16)),d(a(T).toString(16)),d(a(W).toString(16))];return U.join("")}am.equals=function(S,T){if(!S||!T){return false}return am(S).toRgbString()==am(T).toRgbString()};am.random=function(){return am.fromRatio({r:au(),g:au(),b:au()})};function g(T,S){S=(S===0)?0:(S||10);var U=am(T).toHsl();U.s-=S/100;U.s=aL(U.s);return am(U)}function az(T,S){S=(S===0)?0:(S||10);var U=am(T).toHsl();U.s+=S/100;U.s=aL(U.s);return am(U)}function aE(S){return am(S).desaturate(100)}function t(T,S){S=(S===0)?0:(S||10);var U=am(T).toHsl();U.l+=S/100;U.l=aL(U.l);return am(U)}function aK(U,S){S=(S===0)?0:(S||10);var T=am(U).toRgb();T.r=m(0,n(255,T.r-a(255*-(S/100))));T.g=m(0,n(255,T.g-a(255*-(S/100))));T.b=m(0,n(255,T.b-a(255*-(S/100))));return am(T)}function v(T,S){S=(S===0)?0:(S||10);var U=am(T).toHsl();U.l-=S/100;U.l=aL(U.l);return am(U)}function ap(T,S){var U=am(T).toHsl();var V=(a(U.h)+S)%360;U.h=V<0?360+V:V;return am(U)}function aG(S){var T=am(S).toHsl();T.h=(T.h+180)%360;return am(T)}function aC(T){var U=am(T).toHsl();var S=U.h;return[am(T),am({h:(S+120)%360,s:U.s,l:U.l}),am({h:(S+240)%360,s:U.s,l:U.l})]}function p(T){var U=am(T).toHsl();var S=U.h;return[am(T),am({h:(S+90)%360,s:U.s,l:U.l}),am({h:(S+180)%360,s:U.s,l:U.l}),am({h:(S+270)%360,s:U.s,l:U.l})]}function aJ(T){var U=am(T).toHsl();var S=U.h;return[am(T),am({h:(S+72)%360,s:U.s,l:U.l}),am({h:(S+216)%360,s:U.s,l:U.l})]}function c(W,T,S){T=T||6;S=S||30;var Z=am(W).toHsl();var U=360/S;var V=[am(W)];for(Z.h=((Z.h-(U*T>>1))+720)%360;--T;){Z.h=(Z.h+U)%360;V.push(am(Z))}return V}function o(Z,S){S=S||6;var U=am(Z).toHsv();var T=U.h,W=U.s,aa=U.v;var V=[];var ab=1/S;while(S--){V.push(am({h:T,s:W,v:aa}));aa=(aa+ab)%1}return V}am.mix=function(W,Z,ac){ac=(ac===0)?0:(ac||50);var ae=am(W).toRgb();var T=am(Z).toRgb();var V=ac/100;var aa=V*2-1;var ab=T.a-ae.a;var ad;if(aa*ab==-1){ad=aa}else{ad=(aa+ab)/(1+aa*ab)}ad=(ad+1)/2;var S=1-ad;var U={r:T.r*ad+ae.r*S,g:T.g*ad+ae.g*S,b:T.b*ad+ae.b*S,a:T.a*V+ae.a*(1-V)};return am(U)};am.readability=function(W,Z){var ac=am(W);var T=am(Z);var S=ac.toRgb();var U=T.toRgb();var ab=ac.getBrightness();var V=T.getBrightness();var aa=(Math.max(S.r,U.r)-Math.min(S.r,U.r)+Math.max(S.g,U.g)-Math.min(S.g,U.g)+Math.max(S.b,U.b)-Math.min(S.b,U.b));return{brightness:Math.abs(ab-V),color:aa}};am.isReadable=function(T,U){var S=am.readability(T,U);return S.brightness>125&&S.color>500};am.mostReadable=function(Z,aa){var S=null;var U=0;var W=false;for(var ab=0;ab<aa.length;ab++){var T=am.readability(Z,aa[ab]);var ac=T.brightness>125&&T.color>500;var V=3*(T.brightness/125)+(T.color/500);if((ac&&!W)||(ac&&W&&V>U)||((!ac)&&(!W)&&V>U)){W=ac;U=V;S=am(aa[ab])}}return S};var u=am.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var f=am.hexNames=s(u);function s(S){var T={};for(var U in S){if(S.hasOwnProperty(U)){T[S[U]]=U}}return T}function ar(S){S=parseFloat(S);if(isNaN(S)||S<0||S>1){S=1}return S}function x(S,U){if(aD(S)){S="100%"}var T=ao(S);S=n(U,m(0,parseFloat(S)));if(T){S=parseInt(S*U,10)/100}if((e.abs(S-U)<0.000001)){return 1}return(S%U)/parseFloat(U)}function aL(S){return n(1,m(0,S))}function aI(S){return parseInt(S,16)}function aD(S){return typeof S=="string"&&S.indexOf(".")!=-1&&parseFloat(S)===1}function ao(S){return typeof S==="string"&&S.indexOf("%")!=-1}function d(S){return S.length==1?"0"+S:""+S}function w(S){if(S<=1){S=(S*100)+"%"}return S}function aH(S){return Math.round(parseFloat(S)*255).toString(16)}function av(S){return(aI(S)/255)}var aF=(function(){var S="[-\\+]?\\d+%?";var T="[-\\+]?\\d*\\.\\d+%?";var W="(?:"+T+")|(?:"+S+")";var U="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?";var V="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?";return{rgb:new RegExp("rgb"+U),rgba:new RegExp("rgba"+V),hsl:new RegExp("hsl"+U),hsla:new RegExp("hsla"+V),hsv:new RegExp("hsv"+U),hsva:new RegExp("hsva"+V),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function h(T){T=T.replace(aB,"").replace(q,"").toLowerCase();var U=false;if(u[T]){T=u[T];U=true}else{if(T=="transparent"){return{r:0,g:0,b:0,a:0,format:"name"}}}var S;if((S=aF.rgb.exec(T))){return{r:S[1],g:S[2],b:S[3]}}if((S=aF.rgba.exec(T))){return{r:S[1],g:S[2],b:S[3],a:S[4]}}if((S=aF.hsl.exec(T))){return{h:S[1],s:S[2],l:S[3]}}if((S=aF.hsla.exec(T))){return{h:S[1],s:S[2],l:S[3],a:S[4]}}if((S=aF.hsv.exec(T))){return{h:S[1],s:S[2],v:S[3]}}if((S=aF.hsva.exec(T))){return{h:S[1],s:S[2],v:S[3],a:S[4]}}if((S=aF.hex8.exec(T))){return{a:av(S[1]),r:aI(S[2]),g:aI(S[3]),b:aI(S[4]),format:U?"name":"hex8"}}if((S=aF.hex6.exec(T))){return{r:aI(S[1]),g:aI(S[2]),b:aI(S[3]),format:U?"name":"hex"}}if((S=aF.hex3.exec(T))){return{r:aI(S[1]+""+S[1]),g:aI(S[2]+""+S[2]),b:aI(S[3]+""+S[3]),format:U?"name":"hex"}}return false}window.tinycolor=am})();N(function(){if(N.fn.spectrum.load){N.fn.spectrum.processNativeColorInputs()}})});!function(a){a.widget("ui.rangeSliderMouseTouch",a.ui.mouse,{enabled:!0,_mouseInit:function(){var b=this;a.ui.mouse.prototype._mouseInit.apply(this),this._mouseDownEvent=!1,this.element.bind("touchstart."+this.widgetName,function(d){return b._touchStart(d)})},_mouseDestroy:function(){a(document).unbind("touchmove."+this.widgetName,this._touchMoveDelegate).unbind("touchend."+this.widgetName,this._touchEndDelegate),a.ui.mouse.prototype._mouseDestroy.apply(this)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},destroy:function(){this._mouseDestroy(),a.ui.mouse.prototype.destroy.apply(this),this._mouseInit=null},_touchStart:function(b){if(!this.enabled){return !1}b.which=1,b.preventDefault(),this._fillTouchEvent(b);var c=this,d=this._mouseDownEvent;this._mouseDown(b),d!==this._mouseDownEvent&&(this._touchEndDelegate=function(e){c._touchEnd(e)},this._touchMoveDelegate=function(e){c._touchMove(e)},a(document).bind("touchmove."+this.widgetName,this._touchMoveDelegate).bind("touchend."+this.widgetName,this._touchEndDelegate))},_mouseDown:function(b){return this.enabled?a.ui.mouse.prototype._mouseDown.apply(this,[b]):!1},_touchEnd:function(b){this._fillTouchEvent(b),this._mouseUp(b),a(document).unbind("touchmove."+this.widgetName,this._touchMoveDelegate).unbind("touchend."+this.widgetName,this._touchEndDelegate),this._mouseDownEvent=!1,a(document).trigger("mouseup")},_touchMove:function(b){return b.preventDefault(),this._fillTouchEvent(b),this._mouseMove(b)},_fillTouchEvent:function(b){var e;e="undefined"==typeof b.targetTouches&&"undefined"==typeof b.changedTouches?b.originalEvent.targetTouches[0]||b.originalEvent.changedTouches[0]:b.targetTouches[0]||b.changedTouches[0],b.pageX=e.pageX,b.pageY=e.pageY,b.which=1}})}(jQuery),function(a){a.widget("ui.rangeSliderDraggable",a.ui.rangeSliderMouseTouch,{cache:null,options:{containment:null},_create:function(){a.ui.rangeSliderMouseTouch.prototype._create.apply(this),setTimeout(a.proxy(this._initElementIfNotDestroyed,this),10)},destroy:function(){this.cache=null,a.ui.rangeSliderMouseTouch.prototype.destroy.apply(this)},_initElementIfNotDestroyed:function(){this._mouseInit&&this._initElement()},_initElement:function(){this._mouseInit(),this._cache()},_setOption:function(b,c){"containment"===b&&(this.options.containment=null===c||0===a(c).length?null:a(c))},_mouseStart:function(b){return this._cache(),this.cache.click={left:b.pageX,top:b.pageY},this.cache.initialOffset=this.element.offset(),this._triggerMouseEvent("mousestart"),!0},_mouseDrag:function(b){var e=b.pageX-this.cache.click.left;return e=this._constraintPosition(e+this.cache.initialOffset.left),this._applyPosition(e),this._triggerMouseEvent("sliderDrag"),!1},_mouseStop:function(){this._triggerMouseEvent("stop")},_constraintPosition:function(b){return 0!==this.element.parent().length&&null!==this.cache.parent.offset&&(b=Math.min(b,this.cache.parent.offset.left+this.cache.parent.width-this.cache.width.outer),b=Math.max(b,this.cache.parent.offset.left)),b},_applyPosition:function(b){var e={top:this.cache.offset.top,left:b};this.element.offset({left:b}),this.cache.offset=e},_cacheIfNecessary:function(){null===this.cache&&this._cache()},_cache:function(){this.cache={},this._cacheMargins(),this._cacheParent(),this._cacheDimensions(),this.cache.offset=this.element.offset()},_cacheMargins:function(){this.cache.margin={left:this._parsePixels(this.element,"marginLeft"),right:this._parsePixels(this.element,"marginRight"),top:this._parsePixels(this.element,"marginTop"),bottom:this._parsePixels(this.element,"marginBottom")}},_cacheParent:function(){if(null!==this.options.parent){var b=this.element.parent();this.cache.parent={offset:b.offset(),width:b.width()}}else{this.cache.parent=null}},_cacheDimensions:function(){this.cache.width={outer:this.element.outerWidth(),inner:this.element.width()}},_parsePixels:function(b,e){return parseInt(b.css(e),10)||0},_triggerMouseEvent:function(b){var e=this._prepareEventData();this.element.trigger(b,e)},_prepareEventData:function(){return{element:this.element,offset:this.cache.offset||null}}})}(jQuery),function(a,b){a.widget("ui.rangeSlider",{options:{bounds:{min:0,max:100},defaultValues:{min:20,max:50},wheelMode:null,wheelSpeed:4,arrows:!0,valueLabels:"show",formatter:null,durationIn:0,durationOut:400,delayOut:200,range:{min:!1,max:!1},step:!1,scales:!1,enabled:!0,symmetricPositionning:!1},_values:null,_valuesChanged:!1,_initialized:!1,bar:null,leftHandle:null,rightHandle:null,innerBar:null,container:null,arrows:null,labels:null,changing:{min:!1,max:!1},changed:{min:!1,max:!1},ruler:null,_create:function(){this._setDefaultValues(),this.labels={left:null,right:null,leftDisplayed:!0,rightDisplayed:!0},this.arrows={left:null,right:null},this.changing={min:!1,max:!1},this.changed={min:!1,max:!1},this._createElements(),this._bindResize(),setTimeout(a.proxy(this.resize,this),1),setTimeout(a.proxy(this._initValues,this),1)},_setDefaultValues:function(){this._values={min:this.options.defaultValues.min,max:this.options.defaultValues.max}},_bindResize:function(){var c=this;this._resizeProxy=function(d){c.resize(d)},a(window).resize(this._resizeProxy)},_initWidth:function(){if(!this.container){return}this.container.css("width",this.element.width()-this.container.outerWidth(!0)+this.container.width()),this.innerBar.css("width",this.container.width()-this.innerBar.outerWidth(!0)+this.innerBar.width())},_initValues:function(){this._initialized=!0,this.values(this._values.min,this._values.max)},_setOption:function(c,d){this._setWheelOption(c,d),this._setArrowsOption(c,d),this._setLabelsOption(c,d),this._setLabelsDurations(c,d),this._setFormatterOption(c,d),this._setBoundsOption(c,d),this._setRangeOption(c,d),this._setStepOption(c,d),this._setScalesOption(c,d),this._setEnabledOption(c,d),this._setPositionningOption(c,d)},_validProperty:function(d,h,c){return null===d||"undefined"==typeof d[h]?c:d[h]},_setStepOption:function(c,d){"step"===c&&(this.options.step=d,this._leftHandle("option","step",d),this._rightHandle("option","step",d),this._changed(!0))},_setScalesOption:function(c,d){"scales"===c&&(d===!1||null===d?(this.options.scales=!1,this._destroyRuler()):d instanceof Array&&(this.options.scales=d,this._updateRuler()))},_setRangeOption:function(c,d){"range"===c&&(this._bar("option","range",d),this.options.range=this._bar("option","range"),this._changed(!0))},_setBoundsOption:function(c,d){"bounds"===c&&"undefined"!=typeof d.min&&"undefined"!=typeof d.max&&this.bounds(d.min,d.max)},_setWheelOption:function(c,d){("wheelMode"===c||"wheelSpeed"===c)&&(this._bar("option",c,d),this.options[c]=this._bar("option",c))},_setLabelsOption:function(c,d){if("valueLabels"===c){if("hide"!==d&&"show"!==d&&"change"!==d){return}this.options.valueLabels=d,"hide"!==d?(this._createLabels(),this._leftLabel("update"),this._rightLabel("update")):this._destroyLabels()}},_setFormatterOption:function(c,d){"formatter"===c&&null!==d&&"function"==typeof d&&"hide"!==this.options.valueLabels&&(this._leftLabel("option","formatter",d),this.options.formatter=this._rightLabel("option","formatter",d))},_setArrowsOption:function(c,d){"arrows"!==c||d!==!0&&d!==!1||d===this.options.arrows||(d===!0?(this.element.removeClass("ui-rangeSlider-noArrow").addClass("ui-rangeSlider-withArrows"),this.arrows.left.css("display","block"),this.arrows.right.css("display","block"),this.options.arrows=!0):d===!1&&(this.element.addClass("ui-rangeSlider-noArrow").removeClass("ui-rangeSlider-withArrows"),this.arrows.left.css("display","none"),this.arrows.right.css("display","none"),this.options.arrows=!1),this._initWidth())},_setLabelsDurations:function(c,d){if("durationIn"===c||"durationOut"===c||"delayOut"===c){if(parseInt(d,10)!==d){return}null!==this.labels.left&&this._leftLabel("option",c,d),null!==this.labels.right&&this._rightLabel("option",c,d),this.options[c]=d}},_setEnabledOption:function(c,d){"enabled"===c&&this.toggle(d)},_setPositionningOption:function(c,d){"symmetricPositionning"===c&&(this._rightHandle("option",c,d),this.options[c]=this._leftHandle("option",c,d))},_createElements:function(){"absolute"!==this.element.css("position")&&this.element.css("position","relative"),this.element.addClass("ui-rangeSlider"),this.container=a("<div class='ui-rangeSlider-container' />").css("position","absolute").appendTo(this.element),this.innerBar=a("<div class='ui-rangeSlider-innerBar' />").css("position","absolute").css("top",0).css("left",0),this._createHandles(),this._createBar(),this.container.prepend(this.innerBar),this._createArrows(),"hide"!==this.options.valueLabels?this._createLabels():this._destroyLabels(),this._updateRuler(),this.options.enabled||this._toggle(this.options.enabled)},_createHandle:function(c){return a("<div />")[this._handleType()](c).bind("sliderDrag",a.proxy(this._changing,this)).bind("stop",a.proxy(this._changed,this))},_createHandles:function(){this.leftHandle=this._createHandle({isLeft:!0,bounds:this.options.bounds,value:this._values.min,step:this.options.step,symmetricPositionning:this.options.symmetricPositionning}).appendTo(this.container),this.rightHandle=this._createHandle({isLeft:!1,bounds:this.options.bounds,value:this._values.max,step:this.options.step,symmetricPositionning:this.options.symmetricPositionning}).appendTo(this.container)},_createBar:function(){this.bar=a("<div />").prependTo(this.container).bind("sliderDrag scroll zoom",a.proxy(this._changing,this)).bind("stop",a.proxy(this._changed,this)),this._bar({leftHandle:this.leftHandle,rightHandle:this.rightHandle,values:{min:this._values.min,max:this._values.max},type:this._handleType(),range:this.options.range,wheelMode:this.options.wheelMode,wheelSpeed:this.options.wheelSpeed}),this.options.range=this._bar("option","range"),this.options.wheelMode=this._bar("option","wheelMode"),this.options.wheelSpeed=this._bar("option","wheelSpeed")},_createArrows:function(){this.arrows.left=this._createArrow("left"),this.arrows.right=this._createArrow("right"),this.options.arrows?this.element.addClass("ui-rangeSlider-withArrows"):(this.arrows.left.css("display","none"),this.arrows.right.css("display","none"),this.element.addClass("ui-rangeSlider-noArrow"))},_createArrow:function(c){var d,g=a("<div class='ui-rangeSlider-arrow' />").append("<div class='ui-rangeSlider-arrow-inner' />").addClass("ui-rangeSlider-"+c+"Arrow").css("position","absolute").css(c,0).appendTo(this.element);return d="right"===c?a.proxy(this._scrollRightClick,this):a.proxy(this._scrollLeftClick,this),g.bind("mousedown touchstart",d),g},_proxy:function(l,m,c){var d=Array.prototype.slice.call(c);return l&&l[m]?l[m].apply(l,d):null},_handleType:function(){return"rangeSliderHandle"},_barType:function(){return"rangeSliderBar"},_bar:function(){return this._proxy(this.bar,this._barType(),arguments)},_labelType:function(){return"rangeSliderLabel"},_leftLabel:function(){return this._proxy(this.labels.left,this._labelType(),arguments)},_rightLabel:function(){return this._proxy(this.labels.right,this._labelType(),arguments)},_leftHandle:function(){return this._proxy(this.leftHandle,this._handleType(),arguments)},_rightHandle:function(){return this._proxy(this.rightHandle,this._handleType(),arguments)},_getValue:function(c,d){return d===this.rightHandle&&(c-=d.outerWidth()),c*(this.options.bounds.max-this.options.bounds.min)/(this.container.innerWidth()-d.outerWidth(!0))+this.options.bounds.min},_trigger:function(c){var d=this;setTimeout(function(){d.element.trigger(c,{label:d.element,values:d.values()})},1)},_changing:function(){this._updateValues()&&(this._trigger("valuesChanging"),this._valuesChanged=!0)},_deactivateLabels:function(){if(!this.options){return}"change"===this.options.valueLabels&&(this._leftLabel("option","show","hide"),this._rightLabel("option","show","hide"))},_reactivateLabels:function(){if(!this.options){return}"change"===this.options.valueLabels&&(this._leftLabel("option","show","change"),this._rightLabel("option","show","change"))},_changed:function(c){c===!0&&this._deactivateLabels(),(this._updateValues()||this._valuesChanged)&&(this._trigger("valuesChanged"),c!==!0&&this._trigger("userValuesChanged"),this._valuesChanged=!1),c===!0&&this._reactivateLabels()},_updateValues:function(){var n=this._leftHandle("value"),o=this._rightHandle("value"),c=this._min(n,o),d=this._max(n,o),e=c!==this._values.min||d!==this._values.max;return this._values.min=this._min(n,o),this._values.max=this._max(n,o),e},_min:function(c,d){return Math.min(c,d)},_max:function(c,d){return Math.max(c,d)},_createLabel:function(c,d){var g;return null===c?(g=this._getLabelConstructorParameters(c,d),c=a("<div />").appendTo(this.element)[this._labelType()](g)):(g=this._getLabelRefreshParameters(c,d),c[this._labelType()](g)),c},_getLabelConstructorParameters:function(c,d){return{handle:d,handleType:this._handleType(),formatter:this._getFormatter(),show:this.options.valueLabels,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}},_getLabelRefreshParameters:function(){return{formatter:this._getFormatter(),show:this.options.valueLabels,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}},_getFormatter:function(){return this.options.formatter===!1||null===this.options.formatter?this._defaultFormatter:this.options.formatter},_defaultFormatter:function(c){return Math.round(c)},_destroyLabel:function(c){return null!==c&&(c[this._labelType()]("destroy"),c.remove(),c=null),c},_createLabels:function(){this.labels.left=this._createLabel(this.labels.left,this.leftHandle),this.labels.right=this._createLabel(this.labels.right,this.rightHandle),this._leftLabel("pair",this.labels.right)},_destroyLabels:function(){this.labels.left=this._destroyLabel(this.labels.left),this.labels.right=this._destroyLabel(this.labels.right)},_stepRatio:function(){return this._leftHandle("stepRatio")},_scrollRightClick:function(c){return this.options.enabled?(c.preventDefault(),this._bar("startScroll"),this._bindStopScroll(),void this._continueScrolling("scrollRight",4*this._stepRatio(),1)):!1},_continueScrolling:function(d,e,f,g){if(!this.options.enabled){return !1}this._bar(d,f),g=g||5,g--;var s=this,t=16,c=Math.max(1,4/this._stepRatio());this._scrollTimeout=setTimeout(function(){0===g&&(e>t?e=Math.max(t,e/1.5):f=Math.min(c,2*f),g=5),s._continueScrolling(d,e,f,g)},e)},_scrollLeftClick:function(c){return this.options.enabled?(c.preventDefault(),this._bar("startScroll"),this._bindStopScroll(),void this._continueScrolling("scrollLeft",4*this._stepRatio(),1)):!1},_bindStopScroll:function(){var c=this;this._stopScrollHandle=function(d){d.preventDefault(),c._stopScroll()},a(document).bind("mouseup touchend",this._stopScrollHandle)},_stopScroll:function(){a(document).unbind("mouseup touchend",this._stopScrollHandle),this._stopScrollHandle=null,this._bar("stopScroll"),clearTimeout(this._scrollTimeout)},_createRuler:function(){this.ruler=a("<div class='ui-rangeSlider-ruler' />").appendTo(this.innerBar)},_setRulerParameters:function(){this.ruler.ruler({min:this.options.bounds.min,max:this.options.bounds.max,scales:this.options.scales})},_destroyRuler:function(){null!==this.ruler&&a.fn.ruler&&(this.ruler.ruler("destroy"),this.ruler.remove(),this.ruler=null)},_updateRuler:function(){this._destroyRuler(),this.options.scales!==!1&&a.fn.ruler&&(this._createRuler(),this._setRulerParameters())},values:function(d,h){var c;if("undefined"!=typeof d&&"undefined"!=typeof h){if(!this._initialized){return this._values.min=d,this._values.max=h,this._values}this._deactivateLabels(),c=this._bar("values",d,h),this._changed(!0),this._reactivateLabels()}else{c=this._bar("values",d,h)}return c},min:function(c){return this._values.min=this.values(c,this._values.max).min,this._values.min},max:function(c){return this._values.max=this.values(this._values.min,c).max,this._values.max},bounds:function(c,d){return this._isValidValue(c)&&this._isValidValue(d)&&d>c&&(this._setBounds(c,d),this._updateRuler(),this._changed(!0)),this.options.bounds},_isValidValue:function(c){return"undefined"!=typeof c&&parseFloat(c)===c},_setBounds:function(c,d){this.options.bounds={min:c,max:d},this._leftHandle("option","bounds",this.options.bounds),this._rightHandle("option","bounds",this.options.bounds),this._bar("option","bounds",this.options.bounds)},zoomIn:function(c){this._bar("zoomIn",c)},zoomOut:function(c){this._bar("zoomOut",c)},scrollLeft:function(c){this._bar("startScroll"),this._bar("scrollLeft",c),this._bar("stopScroll")},scrollRight:function(c){this._bar("startScroll"),this._bar("scrollRight",c),this._bar("stopScroll")},resize:function(){this._initWidth(),this._leftHandle("update"),this._rightHandle("update"),this._bar("update")},enable:function(){this.toggle(!0)},disable:function(){this.toggle(!1)},toggle:function(c){c===b&&(c=!this.options.enabled),this.options.enabled!==c&&this._toggle(c)},_toggle:function(c){this.options.enabled=c,this.element.toggleClass("ui-rangeSlider-disabled",!c);var d=c?"enable":"disable";this._bar(d),this._leftHandle(d),this._rightHandle(d),this._leftLabel(d),this._rightLabel(d)},destroy:function(){this.element.removeClass("ui-rangeSlider-withArrows ui-rangeSlider-noArrow ui-rangeSlider-disabled"),this._destroyWidgets(),this._destroyElements(),this.element.removeClass("ui-rangeSlider"),this.options=null,a(window).unbind("resize",this._resizeProxy),this._resizeProxy=null,this._bindResize=null,a.Widget.prototype.destroy.apply(this,arguments)},_destroyWidget:function(c){this["_"+c]("destroy"),this[c].remove(),this[c]=null},_destroyWidgets:function(){this._destroyWidget("bar"),this._destroyWidget("leftHandle"),this._destroyWidget("rightHandle"),this._destroyRuler(),this._destroyLabels()},_destroyElements:function(){this.container.remove(),this.container=null,this.innerBar.remove(),this.innerBar=null,this.arrows.left.remove(),this.arrows.right.remove(),this.arrows=null}})}(jQuery),function(a){a.widget("ui.rangeSliderHandle",a.ui.rangeSliderDraggable,{currentMove:null,margin:0,parentElement:null,options:{isLeft:!0,bounds:{min:0,max:100},range:!1,value:0,step:!1},_value:0,_left:0,_create:function(){a.ui.rangeSliderDraggable.prototype._create.apply(this),this.element.css("position","absolute").css("top",0).addClass("ui-rangeSlider-handle").toggleClass("ui-rangeSlider-leftHandle",this.options.isLeft).toggleClass("ui-rangeSlider-rightHandle",!this.options.isLeft),this.element.append("<div class='ui-rangeSlider-handle-inner' />"),this._value=this._constraintValue(this.options.value)},destroy:function(){this.element.empty(),a.ui.rangeSliderDraggable.prototype.destroy.apply(this)},_setOption:function(b,c){"isLeft"!==b||c!==!0&&c!==!1||c===this.options.isLeft?"step"===b&&this._checkStep(c)?(this.options.step=c,this.update()):"bounds"===b?(this.options.bounds=c,this.update()):"range"===b&&this._checkRange(c)?(this.options.range=c,this.update()):"symmetricPositionning"===b&&(this.options.symmetricPositionning=c===!0,this.update()):(this.options.isLeft=c,this.element.toggleClass("ui-rangeSlider-leftHandle",this.options.isLeft).toggleClass("ui-rangeSlider-rightHandle",!this.options.isLeft),this._position(this._value),this.element.trigger("switch",this.options.isLeft)),a.ui.rangeSliderDraggable.prototype._setOption.apply(this,[b,c])},_checkRange:function(b){return b===!1||!this._isValidValue(b.min)&&!this._isValidValue(b.max)},_isValidValue:function(b){return"undefined"!=typeof b&&b!==!1&&parseFloat(b)!==b},_checkStep:function(b){return b===!1||parseFloat(b)===b},_initElement:function(){a.ui.rangeSliderDraggable.prototype._initElement.apply(this),0===this.cache.parent.width||null===this.cache.parent.width?setTimeout(a.proxy(this._initElementIfNotDestroyed,this),500):(this._position(this._value),this._triggerMouseEvent("initialize"))},_bounds:function(){return this.options.bounds},_cache:function(){a.ui.rangeSliderDraggable.prototype._cache.apply(this),this._cacheParent()},_cacheParent:function(){var b=this.element.parent();this.cache.parent={element:b,offset:b.offset(),padding:{left:this._parsePixels(b,"paddingLeft")},width:b.width()}},_position:function(b){var e=this._getPositionForValue(b);this._applyPosition(e)},_constraintPosition:function(b){var e=this._getValueForPosition(b);return this._getPositionForValue(e)},_applyPosition:function(b){a.ui.rangeSliderDraggable.prototype._applyPosition.apply(this,[b]),this._left=b,this._setValue(this._getValueForPosition(b)),this._triggerMouseEvent("moving")},_prepareEventData:function(){var b=a.ui.rangeSliderDraggable.prototype._prepareEventData.apply(this);return b.value=this._value,b},_setValue:function(b){b!==this._value&&(this._value=b)},_constraintValue:function(c){if(c=Math.min(c,this._bounds().max),c=Math.max(c,this._bounds().min),c=this._round(c),this.options.range!==!1){var g=this.options.range.min||!1,b=this.options.range.max||!1;g!==!1&&(c=Math.max(c,this._round(g))),b!==!1&&(c=Math.min(c,this._round(b))),c=Math.min(c,this._bounds().max),c=Math.max(c,this._bounds().min)}return c},_round:function(b){return this.options.step!==!1&&this.options.step>0?Math.round(b/this.options.step)*this.options.step:b},_getPositionForValue:function(e){if(!this.cache||!this.cache.parent||null===this.cache.parent.offset){return 0}e=this._constraintValue(e);var n=(e-this.options.bounds.min)/(this.options.bounds.max-this.options.bounds.min),b=this.cache.parent.width,c=this.cache.parent.offset.left,d=this.options.isLeft?0:this.cache.width.outer;return this.options.symmetricPositionning?n*(b-2*this.cache.width.outer)+c+d:n*b+c-d},_getValueForPosition:function(b){var e=this._getRawValueForPositionAndBounds(b,this.options.bounds.min,this.options.bounds.max);return this._constraintValue(e)},_getRawValueForPositionAndBounds:function(d,e,f){var p,b,c=null===this.cache.parent.offset?0:this.cache.parent.offset.left;return this.options.symmetricPositionning?(d-=this.options.isLeft?0:this.cache.width.outer,p=this.cache.parent.width-2*this.cache.width.outer):(d+=this.options.isLeft?0:this.cache.width.outer,p=this.cache.parent.width),0===p?this._value:(b=(d-c)/p,b*(f-e)+e)},value:function(b){return"undefined"!=typeof b&&(this._cache(),b=this._constraintValue(b),this._position(b)),this._value},update:function(){this._cache();var b=this._constraintValue(this._value),e=this._getPositionForValue(b);b!==this._value?(this._triggerMouseEvent("updating"),this._position(b),this._triggerMouseEvent("update")):e!==this.cache.offset.left&&(this._triggerMouseEvent("updating"),this._position(b),this._triggerMouseEvent("update"))},position:function(b){return"undefined"!=typeof b&&(this._cache(),b=this._constraintPosition(b),this._applyPosition(b)),this._left},add:function(b,e){return b+e},substract:function(b,e){return b-e},stepsBetween:function(b,e){return this.options.step===!1?e-b:(e-b)/this.options.step},multiplyStep:function(b,e){return b*e},moveRight:function(b){var e;return this.options.step===!1?(e=this._left,this.position(this._left+b),this._left-e):(e=this._value,this.value(this.add(e,this.multiplyStep(this.options.step,b))),this.stepsBetween(e,this._value))},moveLeft:function(b){return -this.moveRight(-b)},stepRatio:function(){if(this.options.step===!1){return 1}var b=(this.options.bounds.max-this.options.bounds.min)/this.options.step;return this.cache.parent.width/b}})}(jQuery),function(a){function b(c,d){return"undefined"==typeof c?d||!1:c}a.widget("ui.rangeSliderBar",a.ui.rangeSliderDraggable,{options:{leftHandle:null,rightHandle:null,bounds:{min:0,max:100},type:"rangeSliderHandle",range:!1,drag:function(){},stop:function(){},values:{min:0,max:20},wheelSpeed:4,wheelMode:null},_values:{min:0,max:20},_waitingToInit:2,_wheelTimeout:!1,_create:function(){a.ui.rangeSliderDraggable.prototype._create.apply(this),this.element.css("position","absolute").css("top",0).addClass("ui-rangeSlider-bar"),this.options.leftHandle.bind("initialize",a.proxy(this._onInitialized,this)).bind("mousestart",a.proxy(this._cache,this)).bind("stop",a.proxy(this._onHandleStop,this)),this.options.rightHandle.bind("initialize",a.proxy(this._onInitialized,this)).bind("mousestart",a.proxy(this._cache,this)).bind("stop",a.proxy(this._onHandleStop,this)),this._bindHandles(),this._values=this.options.values,this._setWheelModeOption(this.options.wheelMode)},destroy:function(){this.options.leftHandle.unbind(".bar"),this.options.rightHandle.unbind(".bar"),this.options=null,a.ui.rangeSliderDraggable.prototype.destroy.apply(this)},_setOption:function(c,d){"range"===c?this._setRangeOption(d):"wheelSpeed"===c?this._setWheelSpeedOption(d):"wheelMode"===c&&this._setWheelModeOption(d)},_setRangeOption:function(c){if(("object"!=typeof c||null===c)&&(c=!1),c!==!1||this.options.range!==!1){if(c!==!1){var d=b(c.min,this.options.range.min),g=b(c.max,this.options.range.max);this.options.range={min:d,max:g}}else{this.options.range=!1}this._setLeftRange(),this._setRightRange()}},_setWheelSpeedOption:function(c){"number"==typeof c&&c>0&&(this.options.wheelSpeed=c)},_setWheelModeOption:function(c){(null===c||c===!1||"zoom"===c||"scroll"===c)&&(this.options.wheelMode!==c&&this.element.parent().unbind("mousewheel.bar"),this._bindMouseWheel(c),this.options.wheelMode=c)},_bindMouseWheel:function(c){"zoom"===c?this.element.parent().bind("mousewheel.bar",a.proxy(this._mouseWheelZoom,this)):"scroll"===c&&this.element.parent().bind("mousewheel.bar",a.proxy(this._mouseWheelScroll,this))},_setLeftRange:function(){if(this.options.range===!1){return !1}var c=this._values.max,d={min:!1,max:!1};d.max="undefined"!=typeof this.options.range.min&&this.options.range.min!==!1?this._leftHandle("substract",c,this.options.range.min):!1,d.min="undefined"!=typeof this.options.range.max&&this.options.range.max!==!1?this._leftHandle("substract",c,this.options.range.max):!1,this._leftHandle("option","range",d)},_setRightRange:function(){var c=this._values.min,d={min:!1,max:!1};d.min="undefined"!=typeof this.options.range.min&&this.options.range.min!==!1?this._rightHandle("add",c,this.options.range.min):!1,d.max="undefined"!=typeof this.options.range.max&&this.options.range.max!==!1?this._rightHandle("add",c,this.options.range.max):!1,this._rightHandle("option","range",d)},_deactivateRange:function(){this._leftHandle("option","range",!1),this._rightHandle("option","range",!1)},_reactivateRange:function(){this._setRangeOption(this.options.range)},_onInitialized:function(){this._waitingToInit--,0===this._waitingToInit&&this._initMe()},_initMe:function(){this._cache(),this.min(this._values.min),this.max(this._values.max);var c=this._leftHandle("position"),d=this._rightHandle("position")+this.options.rightHandle.width();this.element.offset({left:c}),this.element.css("width",d-c)},_leftHandle:function(){return this._handleProxy(this.options.leftHandle,arguments)},_rightHandle:function(){return this._handleProxy(this.options.rightHandle,arguments)},_handleProxy:function(d,h){var c=Array.prototype.slice.call(h);return d[this.options.type].apply(d,c)},_cache:function(){a.ui.rangeSliderDraggable.prototype._cache.apply(this),this._cacheHandles()},_cacheHandles:function(){this.cache.rightHandle={},this.cache.rightHandle.width=this.options.rightHandle.width(),this.cache.rightHandle.offset=this.options.rightHandle.offset(),this.cache.leftHandle={},this.cache.leftHandle.offset=this.options.leftHandle.offset()},_mouseStart:function(c){a.ui.rangeSliderDraggable.prototype._mouseStart.apply(this,[c]),this._deactivateRange()},_mouseStop:function(c){a.ui.rangeSliderDraggable.prototype._mouseStop.apply(this,[c]),this._cacheHandles(),this._values.min=this._leftHandle("value"),this._values.max=this._rightHandle("value"),this._reactivateRange(),this._leftHandle().trigger("stop"),this._rightHandle().trigger("stop")},_onDragLeftHandle:function(c,d){if(this._cacheIfNecessary(),d.element[0]===this.options.leftHandle[0]){if(this._switchedValues()){return this._switchHandles(),void this._onDragRightHandle(c,d)}this._values.min=d.value,this.cache.offset.left=d.offset.left,this.cache.leftHandle.offset=d.offset,this._positionBar()}},_onDragRightHandle:function(c,d){if(this._cacheIfNecessary(),d.element[0]===this.options.rightHandle[0]){if(this._switchedValues()){return this._switchHandles(),void this._onDragLeftHandle(c,d)}this._values.max=d.value,this.cache.rightHandle.offset=d.offset,this._positionBar()}},_positionBar:function(){var c=this.cache.rightHandle.offset.left+this.cache.rightHandle.width-this.cache.leftHandle.offset.left;this.cache.width.inner=c,this.element.css("width",c).offset({left:this.cache.leftHandle.offset.left})},_onHandleStop:function(){this._setLeftRange(),this._setRightRange()},_switchedValues:function(){if(this.min()>this.max()){var c=this._values.min;return this._values.min=this._values.max,this._values.max=c,!0}return !1},_switchHandles:function(){var c=this.options.leftHandle;this.options.leftHandle=this.options.rightHandle,this.options.rightHandle=c,this._leftHandle("option","isLeft",!0),this._rightHandle("option","isLeft",!1),this._bindHandles(),this._cacheHandles()},_bindHandles:function(){this.options.leftHandle.unbind(".bar").bind("sliderDrag.bar update.bar moving.bar",a.proxy(this._onDragLeftHandle,this)),this.options.rightHandle.unbind(".bar").bind("sliderDrag.bar update.bar moving.bar",a.proxy(this._onDragRightHandle,this))},_constraintPosition:function(c){var d,g={};return g.left=a.ui.rangeSliderDraggable.prototype._constraintPosition.apply(this,[c]),g.left=this._leftHandle("position",g.left),d=this._rightHandle("position",g.left+this.cache.width.outer-this.cache.rightHandle.width),g.width=d-g.left+this.cache.rightHandle.width,g},_applyPosition:function(c){a.ui.rangeSliderDraggable.prototype._applyPosition.apply(this,[c.left]),this.element.width(c.width)},_mouseWheelZoom:function(e,f,g,h){if(!this.enabled){return !1}var s=this._values.min+(this._values.max-this._values.min)/2,c={},d={};return this.options.range===!1||this.options.range.min===!1?(c.max=s,d.min=s):(c.max=s-this.options.range.min/2,d.min=s+this.options.range.min/2),this.options.range!==!1&&this.options.range.max!==!1&&(c.min=s-this.options.range.max/2,d.max=s+this.options.range.max/2),this._leftHandle("option","range",c),this._rightHandle("option","range",d),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(a.proxy(this._wheelStop,this),200),this.zoomIn(h*this.options.wheelSpeed),!1},_mouseWheelScroll:function(c,d,e,l){return this.enabled?(this._wheelTimeout===!1?this.startScroll():clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(a.proxy(this._wheelStop,this),200),this.scrollLeft(l*this.options.wheelSpeed),!1):!1},_wheelStop:function(){this.stopScroll(),this._wheelTimeout=!1},min:function(c){return this._leftHandle("value",c)},max:function(c){return this._rightHandle("value",c)},startScroll:function(){this._deactivateRange()},stopScroll:function(){this._reactivateRange(),this._triggerMouseEvent("stop"),this._leftHandle().trigger("stop"),this._rightHandle().trigger("stop")},scrollLeft:function(c){return c=c||1,0>c?this.scrollRight(-c):(c=this._leftHandle("moveLeft",c),this._rightHandle("moveLeft",c),this.update(),void this._triggerMouseEvent("scroll"))},scrollRight:function(c){return c=c||1,0>c?this.scrollLeft(-c):(c=this._rightHandle("moveRight",c),this._leftHandle("moveRight",c),this.update(),void this._triggerMouseEvent("scroll"))},zoomIn:function(c){if(c=c||1,0>c){return this.zoomOut(-c)}var d=this._rightHandle("moveLeft",c);c>d&&(d/=2,this._rightHandle("moveRight",d)),this._leftHandle("moveRight",d),this.update(),this._triggerMouseEvent("zoom")},zoomOut:function(c){if(c=c||1,0>c){return this.zoomIn(-c)}var d=this._rightHandle("moveRight",c);c>d&&(d/=2,this._rightHandle("moveLeft",d)),this._leftHandle("moveLeft",d),this.update(),this._triggerMouseEvent("zoom")},values:function(l,m){if("undefined"!=typeof l&&"undefined"!=typeof m){var c=Math.min(l,m),d=Math.max(l,m);this._deactivateRange(),this.options.leftHandle.unbind(".bar"),this.options.rightHandle.unbind(".bar"),this._values.min=this._leftHandle("value",c),this._values.max=this._rightHandle("value",d),this._bindHandles(),this._reactivateRange(),this.update()}return{min:this._values.min,max:this._values.max}},update:function(){this._values.min=this.min(),this._values.max=this.max(),this._cache(),this._positionBar()}})}(jQuery),function(a){function b(c,d,e,l){this.label1=c,this.label2=d,this.type=e,this.options=l,this.handle1=this.label1[this.type]("option","handle"),this.handle2=this.label2[this.type]("option","handle"),this.cache=null,this.left=c,this.right=d,this.moving=!1,this.initialized=!1,this.updating=!1,this.Init=function(){this.BindHandle(this.handle1),this.BindHandle(this.handle2),"show"===this.options.show?(setTimeout(a.proxy(this.PositionLabels,this),1),this.initialized=!0):setTimeout(a.proxy(this.AfterInit,this),1000),this._resizeProxy=a.proxy(this.onWindowResize,this),a(window).resize(this._resizeProxy)},this.Destroy=function(){this._resizeProxy&&(a(window).unbind("resize",this._resizeProxy),this._resizeProxy=null,this.handle1.unbind(".positionner"),this.handle1=null,this.handle2.unbind(".positionner"),this.handle2=null,this.label1=null,this.label2=null,this.left=null,this.right=null),this.cache=null},this.AfterInit=function(){this.initialized=!0},this.Cache=function(){"none"!==this.label1.css("display")&&(this.cache={},this.cache.label1={},this.cache.label2={},this.cache.handle1={},this.cache.handle2={},this.cache.offsetParent={},this.CacheElement(this.label1,this.cache.label1),this.CacheElement(this.label2,this.cache.label2),this.CacheElement(this.handle1,this.cache.handle1),this.CacheElement(this.handle2,this.cache.handle2),this.CacheElement(this.label1.offsetParent(),this.cache.offsetParent))},this.CacheIfNecessary=function(){null===this.cache?this.Cache():(this.CacheWidth(this.label1,this.cache.label1),this.CacheWidth(this.label2,this.cache.label2),this.CacheHeight(this.label1,this.cache.label1),this.CacheHeight(this.label2,this.cache.label2),this.CacheWidth(this.label1.offsetParent(),this.cache.offsetParent))},this.CacheElement=function(f,g){this.CacheWidth(f,g),this.CacheHeight(f,g),g.offset=f.offset(),g.margin={left:this.ParsePixels("marginLeft",f),right:this.ParsePixels("marginRight",f)},g.border={left:this.ParsePixels("borderLeftWidth",f),right:this.ParsePixels("borderRightWidth",f)}},this.CacheWidth=function(f,g){g.width=f.width(),g.outerWidth=f.outerWidth()},this.CacheHeight=function(f,g){g.outerHeightMargin=f.outerHeight(!0)},this.ParsePixels=function(f,g){return parseInt(g.css(f),10)||0},this.BindHandle=function(f){f.bind("updating.positionner",a.proxy(this.onHandleUpdating,this)),f.bind("update.positionner",a.proxy(this.onHandleUpdated,this)),f.bind("moving.positionner",a.proxy(this.onHandleMoving,this)),f.bind("stop.positionner",a.proxy(this.onHandleStop,this))},this.PositionLabels=function(){if(this.CacheIfNecessary(),null!==this.cache){var f=this.GetRawPosition(this.cache.label1,this.cache.handle1),g=this.GetRawPosition(this.cache.label2,this.cache.handle2);this.label1[e]("option","isLeft")?this.ConstraintPositions(f,g):this.ConstraintPositions(g,f),this.PositionLabel(this.label1,f.left,this.cache.label1),this.PositionLabel(this.label2,g.left,this.cache.label2)}},this.PositionLabel=function(f,g,h){var t,u,v,w=this.cache.offsetParent.offset.left+this.cache.offsetParent.border.left;w-g>=0?(f.css("right",""),f.offset({left:g})):(t=w+this.cache.offsetParent.width,u=g+h.margin.left+h.outerWidth+h.margin.right,v=t-u,f.css("left",""),f.css("right",v))},this.ConstraintPositions=function(f,g){(f.center<g.center&&f.outerRight>g.outerLeft||f.center>g.center&&g.outerRight>f.outerLeft)&&(f=this.getLeftPosition(f,g),g=this.getRightPosition(f,g))},this.getLeftPosition=function(g,h){var o=(h.center+g.center)/2,f=o-g.cache.outerWidth-g.cache.margin.right+g.cache.border.left;return g.left=f,g},this.getRightPosition=function(g,h){var f=(h.center+g.center)/2;return h.left=f+h.cache.margin.left+h.cache.border.left,h},this.ShowIfNecessary=function(){"show"===this.options.show||this.moving||!this.initialized||this.updating||(this.label1.stop(!0,!0).fadeIn(this.options.durationIn||0),this.label2.stop(!0,!0).fadeIn(this.options.durationIn||0),this.moving=!0)},this.HideIfNeeded=function(){this.moving===!0&&(this.label1.stop(!0,!0).delay(this.options.delayOut||0).fadeOut(this.options.durationOut||0),this.label2.stop(!0,!0).delay(this.options.delayOut||0).fadeOut(this.options.durationOut||0),this.moving=!1)},this.onHandleMoving=function(f,g){this.ShowIfNecessary(),this.CacheIfNecessary(),this.UpdateHandlePosition(g),this.PositionLabels()},this.onHandleUpdating=function(){this.updating=!0},this.onHandleUpdated=function(){this.updating=!1,this.cache=null},this.onHandleStop=function(){this.HideIfNeeded()},this.onWindowResize=function(){this.cache=null},this.UpdateHandlePosition=function(f){null!==this.cache&&(f.element[0]===this.handle1[0]?this.UpdatePosition(f,this.cache.handle1):this.UpdatePosition(f,this.cache.handle2))},this.UpdatePosition=function(f,g){g.offset=f.offset,g.value=f.value},this.GetRawPosition=function(f,g){var h=g.offset.left+g.outerWidth/2,t=h-f.outerWidth/2,u=t+f.outerWidth-f.border.left-f.border.right,v=t-f.margin.left-f.border.left,w=g.offset.top-f.outerHeightMargin;return{left:t,outerLeft:v,top:w,right:u,outerRight:v+f.outerWidth+f.margin.left+f.margin.right,cache:f,center:h}},this.Init()}a.widget("ui.rangeSliderLabel",a.ui.rangeSliderMouseTouch,{options:{handle:null,formatter:!1,handleType:"rangeSliderHandle",show:"show",durationIn:0,durationOut:500,delayOut:500,isLeft:!1},cache:null,_positionner:null,_valueContainer:null,_innerElement:null,_value:null,_create:function(){this.options.isLeft=this._handle("option","isLeft"),this.element.addClass("ui-rangeSlider-label").css("position","absolute").css("display","block"),this._createElements(),this._toggleClass(),this.options.handle.bind("moving.label",a.proxy(this._onMoving,this)).bind("update.label",a.proxy(this._onUpdate,this)).bind("switch.label",a.proxy(this._onSwitch,this)),"show"!==this.options.show&&this.element.hide(),this._mouseInit()},destroy:function(){this.options.handle.unbind(".label"),this.options.handle=null,this._valueContainer=null,this._innerElement=null,this.element.empty(),this._positionner&&(this._positionner.Destroy(),this._positionner=null),a.ui.rangeSliderMouseTouch.prototype.destroy.apply(this)},_createElements:function(){this._valueContainer=a("<div class='ui-rangeSlider-label-value' />").appendTo(this.element),this._innerElement=a("<div class='ui-rangeSlider-label-inner' />").appendTo(this.element)},_handle:function(){var c=Array.prototype.slice.apply(arguments);return this.options.handle[this.options.handleType].apply(this.options.handle,c)},_setOption:function(c,d){"show"===c?this._updateShowOption(d):("durationIn"===c||"durationOut"===c||"delayOut"===c)&&this._updateDurations(c,d),this._setFormatterOption(c,d)},_setFormatterOption:function(c,d){"formatter"===c&&("function"==typeof d||d===!1)&&(this.options.formatter=d,this._display(this._value))},_updateShowOption:function(c){this.options.show=c,"show"!==this.options.show?(this.element.hide(),this._positionner.moving=!1):(this.element.show(),this._display(this.options.handle[this.options.handleType]("value")),this._positionner.PositionLabels()),this._positionner.options.show=this.options.show},_updateDurations:function(c,d){parseInt(d,10)===d&&(this._positionner.options[c]=d,this.options[c]=d)},_display:function(c){this._displayText(this.options.formatter===!1?Math.round(c):this.options.formatter(c)),this._value=c},_displayText:function(c){this._valueContainer.text(c)},_toggleClass:function(){this.element.toggleClass("ui-rangeSlider-leftLabel",this.options.isLeft).toggleClass("ui-rangeSlider-rightLabel",!this.options.isLeft)},_positionLabels:function(){this._positionner.PositionLabels()},_mouseDown:function(c){this.options.handle.trigger(c)},_mouseUp:function(c){this.options.handle.trigger(c)},_mouseMove:function(c){this.options.handle.trigger(c)},_onMoving:function(c,d){this._display(d.value)},_onUpdate:function(){"show"===this.options.show&&this.update()},_onSwitch:function(c,d){this.options.isLeft=d,this._toggleClass(),this._positionLabels()},pair:function(c){null===this._positionner&&(this._positionner=new b(this.element,c,this.widgetName,{show:this.options.show,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}),c[this.widgetName]("positionner",this._positionner))},positionner:function(c){return"undefined"!=typeof c&&(this._positionner=c),this._positionner},update:function(){this._positionner.cache=null,this._display(this._handle("value")),"show"===this.options.show&&this._positionLabels()}})}(jQuery),function(a){a.widget("ui.dateRangeSlider",a.ui.rangeSlider,{options:{bounds:{min:new Date(2010,0,1).valueOf(),max:new Date(2012,0,1).valueOf()},defaultValues:{min:new Date(2010,1,11).valueOf(),max:new Date(2011,1,11).valueOf()}},_create:function(){a.ui.rangeSlider.prototype._create.apply(this),this.element.addClass("ui-dateRangeSlider")},destroy:function(){this.element.removeClass("ui-dateRangeSlider"),a.ui.rangeSlider.prototype.destroy.apply(this)},_setDefaultValues:function(){this._values={min:this.options.defaultValues.min.valueOf(),max:this.options.defaultValues.max.valueOf()}},_setRulerParameters:function(){this.ruler.ruler({min:new Date(this.options.bounds.min.valueOf()),max:new Date(this.options.bounds.max.valueOf()),scales:this.options.scales})},_setOption:function(b,c){("defaultValues"===b||"bounds"===b)&&"undefined"!=typeof c&&null!==c&&this._isValidDate(c.min)&&this._isValidDate(c.max)?a.ui.rangeSlider.prototype._setOption.apply(this,[b,{min:c.min.valueOf(),max:c.max.valueOf()}]):a.ui.rangeSlider.prototype._setOption.apply(this,this._toArray(arguments))},_handleType:function(){return"dateRangeSliderHandle"},option:function(b){if("bounds"===b||"defaultValues"===b){var c=a.ui.rangeSlider.prototype.option.apply(this,arguments);return{min:new Date(c.min),max:new Date(c.max)}}return a.ui.rangeSlider.prototype.option.apply(this,this._toArray(arguments))},_defaultFormatter:function(c){var g=c.getMonth()+1,b=c.getDate();return""+c.getFullYear()+"-"+(10>g?"0"+g:g)+"-"+(10>b?"0"+b:b)},_getFormatter:function(){var b=this.options.formatter;return(this.options.formatter===!1||null===this.options.formatter)&&(b=this._defaultFormatter),function(c){return function(d){return c(new Date(d))}}(b)},values:function(b,c){var d=null;return d=this._isValidDate(b)&&this._isValidDate(c)?a.ui.rangeSlider.prototype.values.apply(this,[b.valueOf(),c.valueOf()]):a.ui.rangeSlider.prototype.values.apply(this,this._toArray(arguments)),{min:new Date(d?d.min:null),max:new Date(d?d.max:null)}},min:function(b){return new Date(this._isValidDate(b)?a.ui.rangeSlider.prototype.min.apply(this,[b.valueOf()]):a.ui.rangeSlider.prototype.min.apply(this))},max:function(b){return new Date(this._isValidDate(b)?a.ui.rangeSlider.prototype.max.apply(this,[b.valueOf()]):a.ui.rangeSlider.prototype.max.apply(this))},bounds:function(b,c){var d;return d=this._isValidDate(b)&&this._isValidDate(c)?a.ui.rangeSlider.prototype.bounds.apply(this,[b.valueOf(),c.valueOf()]):a.ui.rangeSlider.prototype.bounds.apply(this,this._toArray(arguments)),{min:new Date(d.min),max:new Date(d.max)}},_isValidDate:function(b){return"undefined"!=typeof b&&b instanceof Date},_toArray:function(b){return Array.prototype.slice.call(b)}})}(jQuery),function(a){a.widget("ui.dateRangeSliderHandle",a.ui.rangeSliderHandle,{_steps:!1,_boundsValues:{},_create:function(){this._createBoundsValues(),a.ui.rangeSliderHandle.prototype._create.apply(this)},_getValueForPosition:function(b){var e=this._getRawValueForPositionAndBounds(b,this.options.bounds.min.valueOf(),this.options.bounds.max.valueOf());return this._constraintValue(new Date(e))},_setOption:function(b,c){return"step"===b?(this.options.step=c,this._createSteps(),void this.update()):(a.ui.rangeSliderHandle.prototype._setOption.apply(this,[b,c]),void ("bounds"===b&&this._createBoundsValues()))},_createBoundsValues:function(){this._boundsValues={min:this.options.bounds.min.valueOf(),max:this.options.bounds.max.valueOf()}},_bounds:function(){return this._boundsValues},_createSteps:function(){if(this.options.step===!1||!this._isValidStep()){return void (this._steps=!1)}var e=new Date(this.options.bounds.min.valueOf()),n=new Date(this.options.bounds.max.valueOf()),b=e,c=0,d=new Date;for(this._steps=[];n>=b&&(1===c||d.valueOf()!==b.valueOf());){d=b,this._steps.push(b.valueOf()),b=this._addStep(e,c,this.options.step),c++}d.valueOf()===b.valueOf()&&(this._steps=!1)},_isValidStep:function(){return"object"==typeof this.options.step},_addStep:function(d,l,b){var c=new Date(d.valueOf());return c=this._addThing(c,"FullYear",l,b.years),c=this._addThing(c,"Month",l,b.months),c=this._addThing(c,"Date",l,7*b.weeks),c=this._addThing(c,"Date",l,b.days),c=this._addThing(c,"Hours",l,b.hours),c=this._addThing(c,"Minutes",l,b.minutes),c=this._addThing(c,"Seconds",l,b.seconds)},_addThing:function(d,l,b,c){return 0===b||0===(c||0)?d:(d["set"+l](d["get"+l]()+b*(c||0)),d)},_round:function(c){if(this._steps===!1){return c}for(var d,e,f=this.options.bounds.max.valueOf(),g=this.options.bounds.min.valueOf(),s=Math.max(0,(c-g)/(f-g)),b=Math.floor(this._steps.length*s);this._steps[b]>c;){b--}for(;b+1<this._steps.length&&this._steps[b+1]<=c;){b++}return b>=this._steps.length-1?this._steps[this._steps.length-1]:0===b?this._steps[0]:(d=this._steps[b],e=this._steps[b+1],e-c>c-d?d:e)},update:function(){this._createBoundsValues(),this._createSteps(),a.ui.rangeSliderHandle.prototype.update.apply(this)},add:function(b,e){return this._addStep(new Date(b),1,e).valueOf()},substract:function(b,e){return this._addStep(new Date(b),-1,e).valueOf()},stepsBetween:function(c,d){if(this.options.step===!1){return d-c}var e=Math.min(c,d),f=Math.max(c,d),g=0,s=!1,b=c>d;for(this.add(e,this.options.step)-e<0&&(s=!0);f>e;){s?f=this.add(f,this.options.step):e=this.add(e,this.options.step),g++}return b?-g:g},multiplyStep:function(d,l){var b={};for(var c in d){d.hasOwnProperty(c)&&(b[c]=d[c]*l)}return b},stepRatio:function(){if(this.options.step===!1){return 1}var b=this._steps.length;return this.cache.parent.width/b}})}(jQuery),function(a){a.widget("ui.editRangeSlider",a.ui.rangeSlider,{options:{type:"text",round:1},_create:function(){a.ui.rangeSlider.prototype._create.apply(this),this.element.addClass("ui-editRangeSlider")},destroy:function(){this.element.removeClass("ui-editRangeSlider"),a.ui.rangeSlider.prototype.destroy.apply(this)},_setOption:function(b,c){("type"===b||"step"===b)&&this._setLabelOption(b,c),"type"===b&&(this.options[b]=null===this.labels.left?c:this._leftLabel("option",b)),a.ui.rangeSlider.prototype._setOption.apply(this,[b,c])},_setLabelOption:function(b,e){null!==this.labels.left&&(this._leftLabel("option",b,e),this._rightLabel("option",b,e))},_labelType:function(){return"editRangeSliderLabel"},_createLabel:function(b,c){var d=a.ui.rangeSlider.prototype._createLabel.apply(this,[b,c]);return null===b&&d.bind("valueChange",a.proxy(this._onValueChange,this)),d},_addPropertiesToParameter:function(b){return b.type=this.options.type,b.step=this.options.step,b.id=this.element.attr("id"),b},_getLabelConstructorParameters:function(b,c){var d=a.ui.rangeSlider.prototype._getLabelConstructorParameters.apply(this,[b,c]);return this._addPropertiesToParameter(d)},_getLabelRefreshParameters:function(b,c){var d=a.ui.rangeSlider.prototype._getLabelRefreshParameters.apply(this,[b,c]);return this._addPropertiesToParameter(d)},_onValueChange:function(c,g){var b=!1;b=g.isLeft?this._values.min!==this.min(g.value):this._values.max!==this.max(g.value),b&&this._trigger("userValuesChanged")}})}(jQuery),function(a){a.widget("ui.editRangeSliderLabel",a.ui.rangeSliderLabel,{options:{type:"text",step:!1,id:""},_input:null,_text:"",_create:function(){a.ui.rangeSliderLabel.prototype._create.apply(this),this._createInput()},_setOption:function(b,c){"type"===b?this._setTypeOption(c):"step"===b&&this._setStepOption(c),a.ui.rangeSliderLabel.prototype._setOption.apply(this,[b,c])},_createInput:function(){this._input=a("<input type='"+this.options.type+"' />").addClass("ui-editRangeSlider-inputValue").appendTo(this._valueContainer),this._setInputName(),this._input.bind("keyup",a.proxy(this._onKeyUp,this)),this._input.blur(a.proxy(this._onChange,this)),"number"===this.options.type&&(this.options.step!==!1&&this._input.attr("step",this.options.step),this._input.click(a.proxy(this._onChange,this))),this._input.val(this._text)},_setInputName:function(){var b=this.options.isLeft?"left":"right";this._input.attr("name",this.options.id+b)},_onSwitch:function(b,c){a.ui.rangeSliderLabel.prototype._onSwitch.apply(this,[b,c]),this._setInputName()},_destroyInput:function(){this._input.remove(),this._input=null},_onKeyUp:function(b){return 13===b.which?(this._onChange(b),!1):void 0},_onChange:function(){var b=this._returnCheckedValue(this._input.val());b!==!1&&this._triggerValue(b)},_triggerValue:function(b){var e=this.options.handle[this.options.handleType]("option","isLeft");this.element.trigger("valueChange",[{isLeft:e,value:b}])},_returnCheckedValue:function(b){var e=parseFloat(b);return isNaN(e)||isNaN(Number(b))?!1:e},_setTypeOption:function(b){"text"!==b&&"number"!==b||this.options.type===b||(this._destroyInput(),this.options.type=b,this._createInput())},_setStepOption:function(b){this.options.step=b,"number"===this.options.type&&this._input.attr("step",b!==!1?b:"any")},_displayText:function(b){this._input.val(b),this._text=b},enable:function(){a.ui.rangeSliderLabel.prototype.enable.apply(this),this._input.attr("disabled",null)},disable:function(){a.ui.rangeSliderLabel.prototype.disable.apply(this),this._input.attr("disabled","disabled")}})}(jQuery),function(a){var b={first:function(c){return c},next:function(c){return c+1},format:function(){},label:function(c){return Math.round(c)},stop:function(){return !1}};a.widget("ui.ruler",{options:{min:0,max:100,scales:[]},_create:function(){this.element.addClass("ui-ruler"),this._createScales()},destroy:function(){this.element.removeClass("ui-ruler"),this.element.empty()},_regenerate:function(){this.element.empty(),this._createScales()},_setOption:function(c,d){return"min"===c||"max"===c&&d!==this.options[c]?(this.options[c]=d,void this._regenerate()):"scales"===c&&d instanceof Array?(this.options.scales=d,void this._regenerate()):void 0},_createScales:function(){if(this.options.max!==this.options.min){for(var c=0;c<this.options.scales.length;c++){this._createScale(this.options.scales[c],c)}}},_createScale:function(e,f){var c=a.extend({},b,e),d=a("<div class='ui-ruler-scale' />").appendTo(this.element);d.addClass("ui-ruler-scale"+f),this._createTicks(d,c)},_createTicks:function(c,d){var e,f,g,h=d.first(this.options.min,this.options.max),u=this.options.max-this.options.min,v=!0;do{e=h,h=d.next(e),f=(Math.min(h,this.options.max)-Math.max(e,this.options.min))/u,g=this._createTick(e,h,d),c.append(g),g.css("width",100*f+"%"),v&&e>this.options.min&&g.css("margin-left",100*(e-this.options.min)/u+"%"),v=!1}while(!this._stop(d,h))},_stop:function(c,d){return c.stop(d)||d>=this.options.max},_createTick:function(e,g,p){var c=a("<div class='ui-ruler-tick' style='display:inline-block' />"),d=a("<div class='ui-ruler-tick-inner' />").appendTo(c),f=a("<span class='ui-ruler-tick-label' />").appendTo(d);return f.text(p.label(e,g)),p.format(c,e,g),c}})}(jQuery);(function(b){b.fn.ellipsis=function(d){if(typeof(this.text)!="function"){return}var a=this.text();if(typeof(d)!="undefined"&&a.length>d){this.text(a.substr(0,d)+"...")}return this}})(jQuery);var rdx=new function(){this.ext=new Object();this.EXTENSIONS=[];this.INFO="INFO";this.ERROR="ERROR";this.ERROR_RETRY="ERROR_RETRY";this.CONFIRMATION="confirmation";this.WARNING="warning";this.MAX_TOOLTIP_CONSTANT_LENGTH=150;this.SORT_ASCENDING="ascending";this.SORT_DESCENDING="descending";this.SERVER_SORTING=false;this.NON_REGEX_SEARCH=false;this.FRAMEWORK_BASE="/admin_ui";this.APP_IMAGE_BASE="/";this.STATUS_BAR_ENTITY_NAME_IDENTIFIER="";this.APP_I18N_BASE="/";this.APP_I18N_FILE_NAME="";this.APP_HELP_BASE="/";this.APP_HELP_OBJECT_NAME="";this.APP_TOOL_BAR_ACTIONS=[];this.APP_ERR_CODES=[];this.STAND_ALONE=false;this.CONTEXT_MENU=true;this.PAGINATION_DEFAULT_PAGE_SIZE=25;this.PAGINATION_PAGE_NUMBER_OPTION=[25,50,100,250];this.JOBS=false;this.LICENSE_KEY="license";this.FEATURE_KEY="feature";this._REGISTRY=new Object();this._registry_tree_key="tree";this.custom_status_activity_message={};this.BRAND_LOGO_CSS="citrix_logo";this.BRAND_LOGO_LINK="http://www.citrix.com/netscaler";this.BRAND_LOGO_NAME="CITRIX";this.COMPANY_LOGO_LINK="http://www.citrix.com";this.COPYRIGHT_LINK="http://www.citrix.com/netscaler";this.COPYRIGHT_BRAND_NAME="Citrix Systems, Inc.";this.HELP_SUPPORTED=true;this.RDX_TOOLTIPS=false;this.SHOW_VIEW_SETTINGS=true;this.SETTINGS_RESOURCE_NAME="uiinternal";this.SETTINGS_RESOURCE_VALUE_PROPERTY_NAME="property_value";this.SETTINGS_RESOURCE_KEY_PROPERTY_NAME="property_name";this.CUXIP_LEARN_MORE_LINK="http://www.citrix.com/community/ux-improvement-program.html";this.BROWSER=null;this.BROWSER_VERSION=null;this.SAFARI="safari";this.IE="ie";this.FIREFOX="firefox";this.CHROME="chrome";this.OS=null;this.MAC="mac";this.WINDOWS="windows";this.UNIX="x11";this.LINUX="linux";this.DEVICE=null;this.ANDROID="android";this.IOS="ios";this.BLACKBERRY="blackberry";this.WINDOWS_MOBILE="windows_mobile";this.SUCCESS="success";this.FAILED="failed";this.IN_PROGRESS="inprogress";this.COMPLETED="completed";this.DONE="Done";this.LINEAR="linear";this.PROGRESSIVE="progressive";this.PROGRESS_INFO="progressive_info";this.PROGRESS_BAR="progress_bar";this.STOP_AFTER_FIRST_FAILURE="stop_after_first_failure";this.TABLE_HAS_SCROLLABLE_HEADER=true;this.ACTION="generic_action";this.EXTRA_ACTION="extra_action";this.position={LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom"};this.TAB_BUTTON="tab_button";this.DEFAULT_BUTTON="default_button";this.BLUE_BUTTON="blue_button";this.LINK="link";this.SUMMARY="summary";this.HEADING="heading";this.TITLE="title";this.THIN_SEPARATOR="thin_separator";this.OPEN="OPEN";this.CLOSE="CLOSE";this.SEPARATOR="separator";this.SEPARATOR_LABEL="";this.ELEMENTS_READONLY=false;this.INLINE="inline";this.SLIDER="slider";this.DIALOG="dialog";this.SECTION="section";this.APP_EXPRESSION_EDITOR_METHOD_FILE_PATH=null;this.API_TYPE={NITRO:"NITRO",REST:"REST"};this.APP_NITRO_TO_CLI_PARSER=null;this.API=this.API_TYPE.NITRO;this.ALL="ALL";this.REMOVE="REMOVE";this.NONE="NONE";this.USE_DOUBLE_ENCODING=this.NONE;this.register_tree=function(b){this._REGISTRY[this._registry_tree_key]=b};this.get_tree=function(){return this._REGISTRY[this._registry_tree_key]};this.unregister_tree=function(){if(this._REGISTRY[this._registry_tree_key]){delete this._REGISTRY[this._registry_tree_key]}};this.HELP_SLIDER="help_slider";this.EXTENSION_SUPPORT_IN_EXPRESSION_EDITOR=true};rdx.tree_component=function(c,d){this._parent=typeof(c)=="string"?$("#"+c):c;this._DEFAULT_PROPERTIES={is_serachbox_needed:true};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d);this._clear=true;this._parent_data=[];this._child_parent_mapping=null;this._input_search=null;this._clear_span=null};rdx.tree_component.prototype.render=function(){if(this._properties.is_serachbox_needed){var b=$("<div>").addClass("search_div");this._input_search=$("<input type = 'text' placeholder = 'Search Ciphers'>").addClass("search_text_box");this._clear_span=$("<span>").addClass("clear hidden");b.append(this._input_search);b.append(this._clear_span);this._parent.before(b);this._clear_span.bind("mouseover",function(){$(this).addClass("hover")});this._clear_span.bind("mouseout",function(){$(this).removeClass("hover").removeClass("active")});this._clear_span.bind("mousedown",function(){$(this).addClass("active")});this._clear_span.bind("click",{tree:this,search_box:this._input_search},function(d){var a=d.data.tree;a.search("");d.data.search_box.val("");$(this).addClass("hidden")});b.bind("keyup",{tree:this},function(n){var o=n.data.tree;var l=o._input_search;var h=o._clear_span;var m=l.val();var a=o.search(m);if(m==""){h.addClass("hidden")}else{if(a){h.removeClass("hidden")}}o.set_all_rows_selected();o.set_all_rows_unselected()})}this._parent.dynatree(this._properties);this._parent.addClass("tree_list");this._tree=this._get_tree();this._tree_root=this.get_root()};rdx.tree_component.prototype._get_tree=function(){return this._parent.dynatree("getTree")};rdx.tree_component.prototype.get_root=function(){return this._parent.dynatree("getRoot")};rdx.tree_component.prototype.get_node_by_key=function(b){return this._tree.getNodeByKey(b)};rdx.tree_component.prototype.get_node_title=function(b){return rdx.utils.is_defined(b.data.title)?b.data.title:data};rdx.tree_component.prototype.get_node_parent=function(b){return b.parent};rdx.tree_component.prototype.add_child=function(d,c){d.addChild({title:c,key:c})};rdx.tree_component.prototype.has_children=function(b){return(b.childList==null)?false:true};rdx.tree_component.prototype.get_child_list=function(b){return b.childList};rdx.tree_component.prototype.get_selected_items_data=function(){var h=[];var f=this._tree.getSelectedNodes();for(var e=0;e<f.length;e++){var g=f[e];if(rdx.utils.is_defined(g.li)&&(rdx.utils.is_not_defined(g.li.hidden)||g.li.hidden==false)){h.push(g)}else{if(!rdx.utils.is_defined(g.li)){h.push(g)}}}return h};rdx.tree_component.prototype.remove_node=function(l){var h=l;var m=l.parent;var n=m.childList;if(rdx.utils.is_defined(n)&&n.length==1){if(h!==n[0]){return}return m.removeChildren()}if(h===m.tree.activeNode){h.deactivate()}if(m.tree.options.persist){if(h.bSelected){m.tree.persistence.clearSelect(h.data.key)}if(h.bExpanded){m.tree.persistence.clearExpand(h.data.key)}}h.removeChildren(true);if(m.ul){if(h.li&&m.ul.childNodes.length>0){m.ul.removeChild(h.li)}}if(rdx.utils.is_defined(n)){for(var o=0,g=n.length;o<g;o++){if(n[o]===h){m.childList.splice(o,1);break}}}};rdx.tree_component.prototype.toggle_collapse=function(){this._tree_root.visit(function(b){b.toggleExpand()})};rdx.tree_component.prototype.set_all_rows_selected=function(){this._tree_root.visit(function(b){b.select(true)})};rdx.tree_component.prototype.set_all_rows_unselected=function(){this._tree_root.visit(function(b){b.select(false)})};rdx.tree_component.prototype.get_count_of_child_nodes=function(){var f=this.get_child_list(this._tree_root);var g=0;if(rdx.utils.is_defined(f)){for(var e=0;e<f.length;e++){var h=f[e];if((rdx.utils.is_not_defined(h.li.hidden)||h.li.hidden==false)){g++}}}return g};rdx.tree_component.prototype.get_rows_data=function(){var g=[];var h=this._tree_root.getChildren();if(h!=null){for(var f=0;f<h.length;f++){var e=h[f];if(rdx.utils.is_defined(e.li)&&(rdx.utils.is_not_defined(e.li.hidden)||e.li.hidden==false)){g.push(e)}else{if(!rdx.utils.is_defined(e.li)){g.push(e)}}}}return g};rdx.tree_component.prototype.search=function(g){this.show_all_nodes();if(g.length<1&&!this._clear){this._clear=true;this._tree_root.visit(function(a){$(a.li).show()});this.toggle_collapse();this.refresh_tree()}else{if(g.length>=1){this._clear=false;var h=this.get_child_list(this._tree_root);if(rdx.utils.is_defined(h)){for(var e=0;e<h.length;e++){var f={hide:false};this._search_node(h[e],g,f)}}}}this._parent.trigger(rdx.events.UPDATE_COUNT);return true};rdx.tree_component.prototype._search_node=function(n,m,h){var o=this.get_child_list(n);if(rdx.utils.is_defined(o)){var l=true;for(var p=0;p<o.length;p++){var q={hide:false};this._search_node(o[p],m,q);l=l&&q.hide}if(l&&!this._is_pattern_present(n,m)){this._hide_node(n);h.hide=true}else{if(this._is_pattern_present(n,m)){h.hide=false;n.visit(function(a){a.expand(true);$(a.li).show();a.li.hidden=false})}else{h.hide=false}}}else{if(!this._is_pattern_present(n,m)){this._hide_node(n);h.hide=true}else{h.hide=false}}};rdx.tree_component.prototype._is_pattern_present=function(d,c){if((d.data.title.toLowerCase()).indexOf(c.toLowerCase())>=0){return true}return false};rdx.tree_component.prototype._hide_node=function(b){if(rdx.utils.is_defined(b.li)){$(b.li).hide();b.li.hidden=true}};rdx.tree_component.prototype.show_all_nodes=function(){this._tree_root.visit(function(b){b.expand(true);$(b.li).show();b.li.hidden=false})};rdx.tree_component.prototype.delete_selected_item=function(z){var w;if(rdx.utils.is_defined(z)){w=z}else{w=this.get_selected_items_data()}var v={};var y=[];var t=[];for(var u=0;u<w.length;u++){var p=w[u];if($.type(p)==="string"){p=this.get_node_by_key(p)}if(rdx.utils.is_not_defined(p)){return t}var s=this.get_node_title(p);if(rdx.utils.is_not_defined(v[s])){v[s]=1;if($.inArray(s,this._parent_data)==-1){var q=this.get_node_parent(p);this.remove_node(p);var x=false;for(var B=0;B<t.length;B++){if($.inArray(t[B]["value"],this._child_parent_mapping[s])!=-1){x=true;break}}if($.inArray(p.data.title,y)==-1&&!x){y.push(p.data.title);t.push({value:p.data.title})}if(!this.has_children(q)&&rdx.utils.is_defined(this.get_node_by_key(q.data.key))){this.remove_node(q)}}else{if(!this.has_children(p)){this.remove_node(p)}else{var A=this.get_child_list(p);for(var B=0;B<A.length;B++){this.remove_node(A[B])}this.remove_node(p)}if($.inArray(p.data.title,y)==-1){y.push(p.data.title);t.push({value:p.data.title})}p=this.get_node_by_key(s)}}}this.set_all_rows_selected();this.set_all_rows_unselected();this._parent.trigger(rdx.events.UPDATE_COUNT);if(!this._clear_span.hasClass("hidden")){this._clear_span.trigger("click")}return t};rdx.tree_component.prototype.add_item=function(h){var f=new Array();if($.inArray(h.value,this._parent_data)==-1){this._add_child_nodes_to_all_parents(h.value,true)}else{f=this._parent_child_mapping[h.value];var g=this.get_root();var l=this.get_node_by_key(h.value);if(rdx.utils.is_not_defined(l)){this.add_child(g,h.value,h.value)}for(var m=0;m<f.length;m++){this._add_child_nodes_to_all_parents(f[m],false)}}};rdx.tree_component.prototype._add_child_nodes_to_all_parents=function(n,t){var l=this._child_parent_mapping[n];for(var s=0;s<l.length;s++){var p=this.get_node_by_key(l[s]);if(p!=null){if(rdx.utils.is_empty(p.data.children)){this.add_child(p,n,n)}else{var q=false;for(var o=0;o<p.data.children.length;o++){if(n==p.data.children[o]["key"]){q=true;break}}if(q==false){this.add_child(p,n,n)}}}else{if(t==true){var m=this.get_root();this.add_child(m,l[s],l[s]);p=this.get_node_by_key(l[s]);this.add_child(p,n,n)}}}};rdx.tree_component.prototype.add_items=function(h){this._tree_root.removeChildren();this._tree_root.addChild(h);this._parent_data=[];this._child_parent_mapping={};this._parent_child_mapping={};for(var f=0;f<h.length;f++){var l=h[f];this._parent_data.push(l.key);if(rdx.utils.is_defined(l.children)){this._parent_child_mapping[l.key]=[];for(var g=0;g<l.children.length;g++){var m=l.children[g]["key"];this._parent_child_mapping[l.key].push(m);if(rdx.utils.is_defined(this._child_parent_mapping[m])){this._child_parent_mapping[m].push(l.key)}else{this._child_parent_mapping[m]=[];this._child_parent_mapping[m].push(l.key)}}}}};rdx.tree_component.prototype.delete_all_items=function(){this._tree_root.removeChildren()};rdx.tree_component.prototype.set_sort_info=function(){};rdx.tree_component.prototype.get_component_type=function(){return rdx.form_constants.TREE};rdx.tree_component.prototype.get_component=function(){return this._tree};rdx.tree_component.prototype.refresh_tree=function(){var s=this._tree_root.getChildren();data=[];if(rdx.utils.is_defined(s)){for(var t=0;t<s.length;t++){var o=s[t].childList;var n=s[t].data.key;if(rdx.utils.is_defined(o)){var l=[];for(var m=0;m<o.length;m++){var p=o[m];l.push({title:p.data.key,key:p.data.key})}var q={title:n,key:n,children:l}}data.push(q)}this._tree_root.removeChildren();this._tree_root.addChild(data)}};rdx.utils=new function(){this.predefined_nitro_params=["count","filter","action","args","attrs","entityname","pageno","pagesize","format","httpheaders","warning","view","sessionid","rawdata"];this.is_ie=function(){var ua=navigator.userAgent.toLowerCase();return(ua.indexOf("trident")!=-1)};this.is_instrumentation_enabled=function(){var instrumentation_enabled=false;if(rdx.utils.is_defined(rdx.dopper_enable_setting)&&rdx.dopper_enable_setting.enabled=="true"){var instrumentation_enabled=(rdx.utils.is_defined(rdx.dopper_enable_setting.doppler_instrumentation_enabled)&&rdx.dopper_enable_setting.doppler_instrumentation_enabled=="true");return instrumentation_enabled}return instrumentation_enabled};this.get_view_title=function(){var view_title=$(".dynatree-active a").text();return view_title.replace(/\ /g,"_")};this.is_chrome_safari=function(){return(this.is_chrome()||this.is_safari())};this.is_chrome=function(){var n_vendor=null;if(rdx.utils.is_defined(navigator.vendor)){n_vendor=navigator.vendor.toLowerCase()}else{n_vendor=""}var n_agent=navigator.userAgent.toLowerCase();return(n_agent.indexOf("chrome")!=-1)&&(n_vendor.indexOf("google")!=-1)};this.is_safari=function(){var n_vendor=null;if(rdx.utils.is_defined(navigator.vendor)){n_vendor=navigator.vendor.toLowerCase()}else{n_vendor=""}var n_agent=navigator.userAgent.toLowerCase();return(n_agent.indexOf("safari")!=-1)&&(n_vendor.indexOf("apple")!=-1)};this.is_firefox=function(){var ua=navigator.userAgent.toLowerCase();return(ua.indexOf("firefox")!=-1)};this.get_browser_version=function(){var nAgt=navigator.userAgent;var fullVersion=""+parseFloat(navigator.appVersion);var verOffset,ix,version;if((nAgt.indexOf("Trident"))!=-1){if((nAgt.indexOf("rv:")!=-1)){version=nAgt.match(/Trident\/\d{1,2}.\d{1,2}.*rv:([0-9]*)/i);if(version){fullVersion=version[1]}}else{if((verOffset=nAgt.indexOf("MSIE"))!=-1){fullVersion=nAgt.substring(verOffset+5)}}}else{if((verOffset=nAgt.indexOf("Chrome"))!=-1){fullVersion=nAgt.substring(verOffset+7)}else{if((verOffset=nAgt.indexOf("Safari"))!=-1){fullVersion=nAgt.substring(verOffset+7);if((verOffset=nAgt.indexOf("Version"))!=-1){fullVersion=nAgt.substring(verOffset+8)}}else{if((verOffset=nAgt.indexOf("Firefox"))!=-1){fullVersion=nAgt.substring(verOffset+8)}}}}if((ix=fullVersion.indexOf(";"))!=-1){fullVersion=fullVersion.substring(0,ix)}if((ix=fullVersion.indexOf(" "))!=-1){fullVersion=fullVersion.substring(0,ix)}return fullVersion};this.is_mac=function(){var os="";if(rdx.utils.is_defined(navigator.appVersion)){os=navigator.appVersion.toLowerCase()}return(os.indexOf("mac")!=-1)};this.is_windows=function(){var os="";if(rdx.utils.is_defined(navigator.appVersion)){os=navigator.appVersion.toLowerCase()}return(os.indexOf("win")!=-1)};this.is_linux=function(){var os="";if(rdx.utils.is_defined(navigator.appVersion)){os=navigator.appVersion.toLowerCase()}return(os.indexOf("linux")!=-1)};this.is_unix=function(){var os="";if(rdx.utils.is_defined(navigator.appVersion)){os=navigator.appVersion.toLowerCase()}return(os.indexOf("x11")!=-1)};this.is_android=function(){var ua=navigator.userAgent.toLowerCase();return(ua.indexOf("android")!=-1)};this.is_blackberry=function(){var ua=navigator.userAgent.toLowerCase();return(ua.indexOf("blackberry")!=-1)};this.is_iOS=function(){var ua=navigator.userAgent.toLowerCase();return((ua.indexOf("iphone")!=-1)||(ua.indexOf("ipad")!=-1)||(ua.indexOf("ipod")!=-1))};this.is_windows_mobile=function(){var ua=navigator.userAgent.toLowerCase();return(ua.indexOf("emobile")!=-1)};this.is_mobile=function(){return(this.is_android()||this.is_blackberry()||this.is_iOS()||this.is_windows_mobile())};this.do_logout=function(has_session_timed_out){$(window).trigger($.Event("beforeunload"));window.onunload();var login=new Object();login.sessionid=this.get_cookie("SESSID");if(has_session_timed_out){this._reset_cookie_and_redirect_root("Deleted")}else{var utils=this;rdx.model.remove(this.get_resource("login"),new rdx.callback(null,function(response){var value="";if(rdx.utils.is_defined(response.login)&&rdx.utils.is_defined(response.login[0])&&rdx.utils.is_defined(response.login[0]["sessionid"])){value=response.login[0]["sessionid"]}utils._reset_cookie_and_redirect_root(value)}),login)}};this._reset_cookie_and_redirect_root=function(value){this.set_cookie("SESSID",value,1);window.onbeforeunload=function(){};window.onunload=function(){};var header_view=this.get_view("header_view");if(this.is_defined(header_view,header_view.view_properties.logout_url)){window.location.href=header_view.view_properties.logout_url}else{window.location.href="/"}};this.get_url_query_param=function(param_key){var url=rdx.utils.is_not_empty(window.location.search)?window.location.search:window.location.href;return this.split_url_on_param_key(url,param_key)};this.split_url_on_param_key=function(url,param_key){var regexS="[\\?&]"+param_key+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(url);if(results!=null){return results[1]}return null};this.get_detailed_error_message=function(err){var error_message="";if(typeof(err)=="string"){return err}if(this.is_defined(err.name)){error_message+=err.name+": "}error_message+=err.message;if(this.is_defined(err.lineNumber)){error_message+=" at line "+err.lineNumber}if(this.is_defined(err.fileName)){error_message+=" in file "+err.fileName}return error_message};this.merge=function(object1,object2){return $.extend(true,{},object1,object2)};this.is_array=function(object){return this.is_defined(object)&&!(object.propertyIsEnumerable("length"))&&typeof(object)=="object"&&typeof(object.length)=="number"};this.clone_array=function(array){return array.slice()};this.unshift_clone_array=function(array,elements){var clone=this.clone_array(array);elements.splice(0,0,0,0);clone.splice.apply(clone,elements);return clone};this.create_2D_array=function(m,n){n=n||m;var array=new Array(m);for(var i=0;i<m;i++){array[i]=new Array(n)}return array};this.random=function(){return(Math.random()+"").replace(/\./,"")};this.get_view=function(view_str){if(rdx.utils.is_defined(view_str)&&rdx.utils.is_object(view_str)){return view_str}else{if(rdx.views&&rdx.views[view_str]){return rdx.views[view_str]}}throw"View definition is not found: "+view_str};this.get_resource=function(resource_str){if(rdx.resources&&rdx.resources[resource_str]){return rdx.resources[resource_str]}throw"Resource definition is not found: "+resource_str};this.get_resource_key_label=function(resource_str,key){if(rdx.utils.is_defined(rdx.resources[resource_str])){var rsrc_properties=rdx.resources[resource_str].properties;if(rdx.utils.is_defined(rsrc_properties[key])&&rdx.utils.is_defined(rsrc_properties[key].label)){return rdx.i18n.get_string(rsrc_properties[key].label)}throw"Resource key label is not found"+rsrc_properties[key].key}throw"Resource definition is not found: "+resource_str};this.get_enum=function(enum_str){if(rdx.enums&&rdx.enums[enum_str]){return rdx.enums[enum_str]}throw"Enum definition is not found: "+enum_str};this.create_right_aligned_table=function(content){var right_aligned_table=$(document.createElement("table")).addClass("full_width_table").attr("cellPadding",0).attr("cellSpacing",0);if(!right_aligned_table.html().match(/<tbody>/i)){right_aligned_table.append(document.createElement("tbody"))}var row=$(right_aligned_table[0].tBodies[0].insertRow(-1));$(row[0].insertCell(-1)).attr("align","right").append(content);return right_aligned_table};this.set_focus_on_first_editable_component=function(parent){if(!parent||!parent.childNodes){return false}for(var i=0,end_index=parent.childNodes.length;i<end_index;i++){var child_node=parent.childNodes[i];var node_name=child_node.nodeName.toLowerCase();if(child_node.className=="hidden"){continue}if((node_name=="input"||node_name=="textarea")&&child_node.type!="hidden"&&child_node.disabled!=true&&child_node.readOnly!=true){try{child_node.focus()}catch(err){}return true}if(this.set_focus_on_first_editable_component(child_node)){return true}}return false};this.set_focus_on_first_clickable_component=function(parent){if(!parent||!parent.childNodes){return false}for(var i=0,end_index=parent.childNodes.length;i<end_index;i++){var child_node=parent.childNodes[i];var node_name=child_node.nodeName.toLowerCase();if(node_name=="button"&&child_node.type!="hidden"&&child_node.disabled!=true&&child_node.readOnly!=true){try{child_node.focus()}catch(err){}return true}if(this.set_focus_on_first_clickable_component(child_node)){return true}}return false};this.add_image_error_handler=function(img,path){if(!path){path=rdx.images.SPACER_IMG}img.bind(rdx.events.ERROR,{ns_img:img,ns_path:path},function(event){event.data.ns_img.attr("src",event.data.ns_path)})};this.set_width=function(element,width){var non_content_width=element.outerWidth(true)-element.width();element.width(width-non_content_width)};this.set_height=function(element,height){var non_content_height=element.outerHeight(true)-element.height();element.height(height-non_content_height)};this.set_cookie=function(name,value,seconds,end_of_session){var expires="";var path="; path=/";var secure=(location.protocol=="https:")?"; secure":"";if(!end_of_session){if(!seconds){seconds=60*60*24*30*12}var date=new Date();date.setTime(date.getTime()+(seconds*1000));expires="; expires="+date.toGMTString()}document.cookie=name+"="+escape(value)+expires+path+secure};this.get_cookie=function(name){name=name+"=";var cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){var cookie=cookies[i];while(cookie.charAt(0)==" "){cookie=cookie.substring(1,cookie.length)}if(cookie.indexOf(name)==0){return unescape(cookie.substring(name.length,cookie.length))}}return null};this.starts_with=function(value,key){if(rdx.utils.is_not_defined(value)||rdx.utils.is_not_defined(key)){return false}if(key.length>value.length){return false}if(!rdx.utils.is_function(value.slice)){return false}return(value.slice(0,key.length)==key)};this.replace_in_rule=function(rule,sub_rule_to_match,operator){operator=operator||" || ";var match_index=rule.indexOf(sub_rule_to_match);var rule_string="";if(match_index!=-1){var mod_rule=rule.replace(sub_rule_to_match,"");var split_rules=mod_rule.split("||");var rule_string="";var or_op_prefix=" || ";for(var ind=0;ind<split_rules.length;ind++){var str=split_rules[ind];if(rdx.utils.is_not_empty(rdx.utils.trim(str))){rule_string+=str+or_op_prefix}}}if(rdx.utils.is_empty(rule_string)){return rule}rule_string=rule_string.substring(0,(rule_string.length-or_op_prefix.length));return rule_string};this.ends_with=function(value,key){if(rdx.utils.is_not_defined(value)||rdx.utils.is_not_defined(key)){return false}if(key.length>value.length){return false}if(!rdx.utils.is_function(value.slice)){return false}return(value.slice(-key.length)==key)};this.sort_string=function(a,b){return(a==b)?0:((a<b)?-1:1)};this.sort_string_case_insensitive=function(a,b){return(a.toLowerCase()==b.toLowerCase())?0:((a.toLowerCase()<b.toLowerCase())?-1:1)};this.sort_date=function(a,b){var a=parseInt(a)?parseInt(a):a;var b=parseInt(b)?parseInt(b):b;var a_time=(new Date(a)).getTime();var b_time=(new Date(b)).getTime();return a_time-b_time};this.sort_number=function(a,b){try{a=parseFloat(a.replace(eval("/["+rdx.i18n.get_grouping_separator()+"]/g"),""));b=parseFloat(b.replace(eval("/["+rdx.i18n.get_grouping_separator()+"]/g"),""));return a-b}catch(err){return rdx.utils.sort_string(a,b)}};this.sort_ip_port_protocol=function(a,b){a=a.replace(/[:.]\d* - [\w-_]+$/,"");b=b.replace(/[:.]\d* - [\w-_]+$/,"");return this.sort_ip(a,b)};this.sort_ip=function(a,b){var a_is_ipv6=rdx.utils.is_ipv6(a);var b_is_ipv6=rdx.utils.is_ipv6(b);if(a_is_ipv6!=b_is_ipv6){if(!a_is_ipv6&&b_is_ipv6){return -1}return 1}if(a_is_ipv6){return this.sort_ipv6(a,b)}return this.sort_ipv4(a,b)};this.sort_ipv6=function(a,b){var arr=a.split("/");a=arr[0];arr=b.split("/");b=arr[0];try{var a_addr=this.get_ipv6_address_bytes(a);var b_addr=this.get_ipv6_address_bytes(b);for(var i=0;i<16;i++){if(a_addr[i]!=b_addr[i]){return(a_addr[i]&255)-(b_addr[i]&255)}}}catch(err){}return 1};this.sort_ipv4=function(a,b){var a_tokens=a.split(".");var b_tokens=b.split(".");if(a_tokens.length==4&&b_tokens.length==4){try{var d1=parseInt(a_tokens[0]);var d2=parseInt(a_tokens[1]);var d3=parseInt(a_tokens[2]);var d4=parseInt(a_tokens[3]);var d11=parseInt(b_tokens[0]);var d22=parseInt(b_tokens[1]);var d33=parseInt(b_tokens[2]);var d44=parseInt(b_tokens[3])}catch(err){return 1}if(d1>d11){return 1}if(d1<d11){return -1}if(d2>d22){return 1}if(d2<d22){return -1}if(d3>d33){return 1}if(d3<d33){return -1}if(d4>d44){return 1}if(d4<d44){return -1}return 0}return this.sort_string(a,b)};this.sort_default=function(a,b){return this.sort_number(a,b)};this.get_ipv6_address_bytes=function(ipv6_str){var ipv6_arr=ipv6_str.split(":");var no_of_octets_missing=8-ipv6_arr.length+1;var new_ipv6_arr=new Array();for(var i=0,end_index=ipv6_arr.length;i<end_index;i++){if(ipv6_arr[i]==""){for(var j=0;j<no_of_octets_missing;j++){new_ipv6_arr.push("0000")}}else{new_ipv6_arr.push(this.ensure_four_digits_in_octet(ipv6_arr[i]))}}var byte_arr=new Array(16);var j=0;for(var i=0,end_index=new_ipv6_arr.length;i<end_index;i++){byte_arr[j++]=parseInt(new_ipv6_arr[i].substr(0,2),16);byte_arr[j++]=parseInt(new_ipv6_arr[i].substr(2,2),16)}return byte_arr};this.ensure_four_digits_in_octet=function(str){switch(str.length){case 4:return str;case 3:return"0"+str;case 2:return"00"+str;case 1:return"000"+str}return str};this.is_ipv4=function(ip_address){if(rdx.utils.is_defined(ip_address)){return(ip_address.match(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/)||ip_address.match(/^\*$/))}return false};this.is_netmask=function(netmask){var correct_range={128:1,192:1,224:1,240:1,248:1,252:1,254:1,255:1,0:1};var each_octet=netmask.split(".");for(var i=0;i<=3;i++){if(!(each_octet[i] in correct_range)){return false}}if((each_octet[0]==0)||(each_octet[0]!=255&&each_octet[1]!=0)||(each_octet[1]!=255&&each_octet[2]!=0)||(each_octet[2]!=255&&each_octet[3]!=0)){return false}return true};this.is_ipv6=function(ip_address){if(rdx.utils.is_defined(ip_address)){return(ip_address.match(/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?(\/(1[0-2][0-8]|[1-9][0-9]|[0-9]))?\s*$/)||ip_address.match(/^\*$/))}return false};this.expand_ipv6=function(ip_address){ip_address=this.trim(ip_address);if(this.is_ipv6(ip_address)){var fullAddress="";var expandedAddress="";var prefixlen="";var sides=[];var validGroupCount=8;var validGroupSize=4;sides=this.get_prefix_stripped_ipv6(ip_address,true);var address=sides.stripped_ip;if(this.is_not_empty(sides.prefix)){prefixlen="/"+sides.prefix}if(new RegExp("::","g").test(address)==false){fullAddress=address}else{sides=address.split("::");var groupsPresent=0;for(var i=0;i<sides.length;i++){groupsPresent+=sides[i].split(":").length}fullAddress+=sides[0]+":";for(var i=0;i<validGroupCount-groupsPresent;i++){fullAddress+="0000:"}fullAddress+=sides[1]}var groups=fullAddress.split(":");for(var i=0;i<validGroupCount;i++){while(groups[i].length<validGroupSize){groups[i]="0"+groups[i]}expandedAddress+=(i!=validGroupCount-1)?groups[i]+":":groups[i]}return expandedAddress+prefixlen}else{return null}};this.is_valid_mac=function(mac_address){if(rdx.utils.is_defined(mac_address)){return(mac_address.match(/^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$/))}return false};this.is_function=function(object){return(object!=null&&typeof(object)=="function")};this.is_callback=function(object){return(typeof object=="object"&&rdx.utils.is_defined(object.call_back)&&typeof object.call_back=="function")};this.is_defined=function(){var is_defined=true;for(var index=0;index<arguments.length;index++){if((typeof(arguments[index])=="undefined"||arguments[index]==null)){is_defined=false;break}}return is_defined};this.is_not_defined=function(){var is_not_defined=false;for(var index=0;index<arguments.length;index++){if((typeof(arguments[index])=="undefined"||arguments[index]==null)){is_not_defined=true;break}}return is_not_defined};this.is_string=function(data){if(rdx.utils.is_defined(data)&&typeof(data)=="string"){return true}return false};this.is_boolean=function(data){if(rdx.utils.is_defined(data)&&typeof(data)=="boolean"){return true}return false};this.is_empty=function(){var is_empty=true;for(var index=0;index<arguments.length;index++){if(this.is_defined(arguments[index])&&arguments[index]!=""){is_empty=false;break}}return is_empty};this.is_not_empty=function(){var is_not_empty=false;for(var index=0;index<arguments.length;index++){if(this.is_defined(arguments[index])&&arguments[index].toString()!=""){is_not_empty=true;break}}return is_not_empty};this.load_script=function(file_name){var load_status=false;$.ajax({async:false,type:"GET",url:file_name,cache:true,dataType:"script",success:function(){load_status=true}});return load_status};this.count_property=function(obj){var count=0;for(var prop in obj){if(obj.hasOwnProperty(prop)){count++}}return count};this.clone_resrc_with_keys=function(resrc_defn,orig_resrc,keys1){if(rdx.utils.is_not_defined(orig_resrc)){return null}var new_resrc=new Object();var keys;if(this.is_defined(keys1)&&this.is_array(keys1)){keys=keys1}else{keys=resrc_defn.primary_keys}last=keys.length;for(var i=0;i<last;i++){if(rdx.utils.is_defined(orig_resrc[keys[i]])){new_resrc[keys[i]]=orig_resrc[keys[i]]}}return new_resrc};this.clone_resrc_on_resrc_props=function(resrc_defn,orig_resrc){var resource_properties=resrc_defn.properties;var resrc_keys=new Array();for(var key in resource_properties){var resrc_key;if(this.is_defined(resource_properties[key])){resrc_key=resource_properties[key].key;if(this.is_defined(resrc_key)){resrc_keys.push(resrc_key)}}}return this.clone_resrc_with_keys(resrc_defn,orig_resrc,resrc_keys)};this.is_same_array=function(first_arry,sec_arry,check_valid_range){var index=0;if(rdx.utils.is_not_defined(first_arry)||rdx.utils.is_not_defined(sec_arry)){return false}if((first_arry.length!=sec_arry.length)&&(rdx.utils.is_not_defined(check_valid_range))){return false}if(rdx.utils.is_defined(check_valid_range)){if(check_valid_range<=Math.min(first_arry.length,sec_arry.length)){index=check_valid_range}else{return false}}else{index=first_arry.length}for(len=0;len<index;len++){if(first_arry[len]!=sec_arry[len]){return false}}return true};this.remove_duplicates_in_array=function(origArr){if(this.is_not_defined(origArr)||!this.is_array(origArr)){return origArr}var newArr=[],origLen=origArr.length,found,x,y;for(x=0;x<origLen;x++){found=undefined;for(y=0;y<newArr.length;y++){if(origArr[x]===newArr[y]){found=true;break}}if(!found){newArr.push(origArr[x])}}return newArr};this.remove_duplicates_in_json_array=function(json_data_arr,prop_name){if(this.is_not_defined(json_data_arr)||!this.is_array(json_data_arr)){return json_data_arr}var new_arr=[];var lookup={};for(var i in json_data_arr){lookup[json_data_arr[i][prop_name]]=json_data_arr[i]}for(i in lookup){new_arr.push(lookup[i])}return new_arr};this.is_value_in_json_array=function(json_data_arr,prop_name,prop_value){var found=false;if(this.is_not_defined(json_data_arr)||!this.is_array(json_data_arr)||this.is_not_defined(prop_name)||this.is_not_defined(prop_value)){return false}for(var i in json_data_arr){var pval=json_data_arr[i][prop_name];if(this.is_not_defined(pval)){continue}if(pval===prop_value){found=true;break}}return found};this.is_object=function(obj){if(((Object(obj)===obj)&&Object.prototype.toString.call(obj))=="[object Object]"){return true}return false};this.is_same_object=function(resrc1,resrc2,keys_to_compare,do_strict){var strict_check=rdx.utils.is_not_defined(do_strict)?true:do_strict;if(this.is_not_defined(resrc1)||this.is_not_defined(resrc2)){return false}for(var i=0;i<keys_to_compare.length;i++){if(do_strict==false&&rdx.utils.is_empty(resrc1[keys_to_compare[i]])){continue}if(resrc1[keys_to_compare[i]]!=resrc2[keys_to_compare[i]]){if(rdx.utils.is_array(resrc1[keys_to_compare[i]])&&rdx.utils.is_array(resrc2[keys_to_compare[i]])){if(rdx.utils.is_same_array(resrc1[keys_to_compare[i]],resrc2[keys_to_compare[i]])){continue}else{return false}}else{if(rdx.utils.is_object(resrc1[keys_to_compare[i]])&&rdx.utils.is_object(resrc2[keys_to_compare[i]])){if(rdx.utils.is_same_object(resrc1[keys_to_compare[i]],resrc2[keys_to_compare[i]])){continue}}else{return false}}}}return true};this.is_num=function(val_str){return this.is_defined(val_str)&&val_str.replace(/\d/g,"").length>0};this.is_number=function(val_str){if(rdx.utils.is_not_defined(val_str)){return false}var match_str=val_str.match(/^([0-9]+\.[0-9]+)$|^([0-9]*\.[0-9]+)$|^([0-9]*)$/);return rdx.utils.is_defined(match_str)};this.prevent_default=function(event){if(rdx.utils.is_not_defined(event)){return}if(!rdx.utils.is_ie()){event.preventDefault()}else{event.returnValue=false}};this.get_collated_key=function(response_data,keys){var collated_key="";for(var j=0;j<keys.length;j++){collated_key+=((j!=0)?"^":"")+response_data[keys[j]]}return collated_key};this.get_key_based_structure_for_response=function(response,primary_keys){var return_map=new Array();for(var i=0,end_index=response.length;i<end_index;i++){return_map[this.get_collated_key(response[i],primary_keys)]=response[i]}return return_map};this.get_formatted_string=function(string,key,value){if(this.is_not_defined(string)||string==""){return""}var key_reg_exp=new RegExp("\\{"+key+"\\}","g");string=string.replace(key_reg_exp,value);return string};this.escape_regex_value=function(regex_value){if(rdx.utils.is_not_empty(regex_value)){regex_value=regex_value.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}return regex_value};this.openwindow=function(str_URL,target_window,width,height){target_window=target_window.replace(/\./g,"");var wndw=window.open(str_URL,target_window,"toolbar=no,status=no,width="+width+",height="+height+",scrollbars=yes,resizable=yes");if(!wndw){alert(rdx.i18n.get_string("rdx.link_popup_blocker_msg"))}else{try{var centerx=(screen.width-width)/2;var centery=(screen.height-height)/2;wndw.moveTo(centerx,centery);wndw.focus()}catch(err){}}return wndw};this.convert_seconds_to_minutes=function(seconds,flag_for_hours){if(rdx.utils.is_not_defined(seconds)){return}flag_for_hours=(rdx.utils.is_not_defined(flag_for_hours))?false:flag_for_hours;if(flag_for_hours==true){var hours=Math.floor(seconds/3600);seconds%=3600}var minutes=Math.floor(seconds/60);seconds=Math.floor(seconds%60);if(minutes<10&&flag_for_hours==false){minutes="0"+minutes}if(seconds<10&&flag_for_hours==false){seconds="0"+seconds}if(flag_for_hours==false){var result=minutes+" : "+seconds}else{if(hours>0){if(hours==1){result=hours+" hour "+minutes+" minutes"}else{result=hours+" hours "+minutes+" minutes"}}else{if(minutes>0){if(minutes==1){result=minutes+" minute "+seconds+" seconds"}else{result=minutes+" minutes "+seconds+" seconds"}}else{if(seconds>0){if(seconds==1){result=" "+seconds+" second"}else{result=" "+seconds+" seconds"}}else{if(seconds==0){result=seconds+" second"}}}}}return result};this.ajax=function(method,url,params,sucess_callback,isAsync,error_callback,timeout,type){isAsync=this.is_not_defined(isAsync)?true:false;var req=window.XMLHttpRequest?new window.XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP");try{req.onreadystatechange=function(){if(req.readyState!=rdx.ajax_handler_constants.HTTP_RESPONSE_READY_STATE){return}var return_params=null;if(method==rdx.ajax_handler_constants.GET&&type=="XML"){return_params=req.responseXML}if(rdx.utils.is_defined(sucess_callback)&&req.status==rdx.ajax_handler_constants.HTTP_RESPONSE_SUCCESS_STATUS){sucess_callback.call_back([return_params,req.responseText])}else{if(rdx.utils.is_defined(error_callback)){error_callback.call_back()}}};req.open(method,url,isAsync);if(this.is_defined(timeout)){req.timeout=timeout}if(method==rdx.ajax_handler_constants.POST){req.setRequestHeader(rdx.ajax_handler_constants.HTTP_HEADER_CONTENT_TYPE,"application/x-www-form-urlencoded")}req.setRequestHeader(rdx.ajax_handler_constants.HTTP_HEADER_IF_MODIFIED_SINCE,new Date(0));if(rdx.utils.is_defined(rdx.ajax_handler_constants.CUSTOM_HEADERS)){for(var key in rdx.ajax_handler_constants.CUSTOM_HEADERS){req.setRequestHeader(key,rdx.ajax_handler_constants.CUSTOM_HEADERS[key])}}if(method==rdx.ajax_handler_constants.POST||method==rdx.ajax_handler_constants.PUT){req.send(params)}else{req.send()}}catch(err){var error_message=rdx.i18n.get_string("rdx.ajax_request_error",{url:this._url,error:this.get_detailed_error_message(err)});if(this.is_defined(error_callback)){error_callback.call_back([error_message])}else{rdx.message_box.error(error_message);rdx.status_bar.update_status(error_message,rdx.ERROR)}}};this.convert_array_to_map=function(arrayObj){if(this.is_not_defined(arrayObj)||!this.is_array(arrayObj)){return arrayObj}var mapObj={};for(var i=0,end_index=arrayObj.length;i<end_index;i++){mapObj[arrayObj[i]]=arrayObj[i]}return mapObj};this.is_object_not_empty=function(object){return !this.is_object_empty(object)};this.is_object_empty=function(object){if(this.is_not_defined(object)){return true}var is_empty=true;for(var key in object){if(object.hasOwnProperty(key)){is_empty=false;break}}return is_empty};this.get_elements_not_in_second_array=function(first_arr,second_arr){if(this.is_defined(first_arr)&&this.is_array(first_arr)){if(this.is_defined(second_arr)&&this.is_array(second_arr)){var result=new Array();map_second=this.convert_array_to_map(second_arr);for(var i=0;i<first_arr.length;i++){var key=first_arr[i];if(this.is_not_defined(map_second[key])){result.push(first_arr[i])}}return result}else{return first_arr}}return null};this.get_resource_objects_not_in_second_array=function(first_array_of_objects,second_array_of_objects,resource){if(rdx.utils.is_not_defined(resource)||rdx.utils.is_not_defined(resource.primary_keys)){return null}var first_str_arr=new Array();var second_str_arr=new Array();var first_map={};if(this.is_defined(first_array_of_objects)&&this.is_array(first_array_of_objects)){var first_arr_of_objects=new Array();first_arr_of_objects=first_arr_of_objects.concat(first_array_of_objects);var first_arr_of_arr_pkey_values=new Array(resource.primary_keys.length);for(var index=0;index<resource.primary_keys.length;index++){var key=resource.primary_keys[index];first_arr_of_arr_pkey_values[index]=this.to_string_array(first_arr_of_objects,key)}first_str_arr=this.merge_2D_array_to_1D_array(first_arr_of_arr_pkey_values,"_");for(var index=0;index<first_str_arr.length;index++){first_map[first_str_arr[index]]=first_arr_of_objects[index]}}if(this.is_defined(second_array_of_objects)&&this.is_array(second_array_of_objects)){var second_arr_of_objects=new Array();second_arr_of_objects=second_arr_of_objects.concat(second_array_of_objects);var second_arr_of_arr_pkey_values=new Array(resource.primary_keys.length);for(var index=0;index<resource.primary_keys.length;index++){var key=resource.primary_keys[index];second_arr_of_arr_pkey_values[index]=this.to_string_array(second_arr_of_objects,key)}second_str_arr=this.merge_2D_array_to_1D_array(second_arr_of_arr_pkey_values,"_")}var result_str_arr=this.get_elements_not_in_second_array(first_str_arr,second_str_arr);var result_array_of_objects=new Array();for(var index=0;index<result_str_arr.length;index++){result_array_of_objects.push(first_map[result_str_arr[index]])}return result_array_of_objects};this.merge_2D_array_to_1D_array=function(array_2D,delimiter){if(rdx.utils.is_not_defined(array_2D)||!(rdx.utils.is_array(array_2D))){return null}delimiter=rdx.utils.is_defined(delimiter)?delimiter:"";var merged_1D_array=new Array();for(var index=0;index<array_2D.length;index++){if(!(rdx.utils.is_array(array_2D[index]))){return null}}for(var index=0;index<array_2D.length;index++){for(var index_j=0;index_j<array_2D[index].length;index_j++){var first_str=rdx.utils.is_defined(merged_1D_array[index_j])?merged_1D_array[index_j]:"";var second_str=array_2D[index][index_j];merged_1D_array[index_j]=this.trim(first_str)+delimiter+this.trim(second_str)}}return merged_1D_array};this.merge_array_at_index=function(arr1,arr2,index){if(rdx.utils.is_not_defined(arr1,arr2,index)){return null}var first_arr=arr1.splice(0,index);arr1=first_arr.concat(arr2.concat(arr1));return arr1};this.html_decode=function(str){if(this.is_not_defined(str)){return null}str=str.replace(/&amp;/g,"&");str=str.replace(/&quot;/g,'"');str=str.replace(/&lt;/g,"<");str=str.replace(/&gt;/g,">");str=str.replace(/&apos;/g,"'");str=str.replace(/&nbsp;/g," ");return str};this.html_encode=function(str,enc_quote_flg,enc_space_flg){if(rdx.utils.is_not_defined(str)){return null}if(rdx.utils.is_not_defined(enc_space_flg)){enc_space_flg=true}if(typeof(str)=="string"){str=str.replace(/&/g,"&amp;");str=str.replace(/\"/g,"&quot;");str=str.replace(/</g,"&lt;");str=str.replace(/>/g,"&gt;");str=str.replace(/'char/g,"&apos;");if(enc_space_flg){str=str.replace(/ /g,"&nbsp;")}if(enc_quote_flg){str=str.replace(/'/g,"&#39;")}}return str};this.get_formatted_response=function(response){var formatted_response=response;if(this.is_array(response)){if(response.length>0){formatted_response=response[0]}else{formatted_response=null}}return formatted_response};this.to_string_array=function(array_of_objects,key){if(this.is_not_defined(array_of_objects,key)||!this.is_array(array_of_objects)){return array_of_objects}var string_array=new Array(array_of_objects.length);for(var i=0,end_index=string_array.length;i<end_index;i++){string_array[i]=array_of_objects[i][key]}return string_array};this.update_key_based_map=function(map,key,array_of_objects){if(this.is_not_defined(map,key,array_of_objects)||!this.is_array(array_of_objects)){return}for(var i=0,end_index=array_of_objects.length;i<end_index;i++){var value=array_of_objects[i][key];if(this.is_defined(map[value])){continue}map[value]=array_of_objects[i]}};this.object_keys=function(object){if(this.is_not_defined(object)){return object}var keys=new Array();for(var key in object){keys.push(key)}return keys};this.object_values=function(object){if(this.is_not_defined(object)){return object}var values=new Array();for(var key in object){values.push(object[key])}return values};this.sort_array=function(array,key){if(this.is_not_defined(array,key)||!this.is_array(array)){return}array.sort(function(a,b){a=a[key];b=b[key];if(a<b){return -1}if(a>b){return 1}return 0})};this.log=function(){if(this.is_not_defined(console,console.log)){return}for(var i=0,end_index=arguments.length;i<end_index;i++){console.log(arguments[i])}};this.trim=function(val){if(rdx.utils.is_defined(val)){return $.trim(val)}return val};this.trim_left=function(val){if(rdx.utils.is_defined(val)&&(typeof(val)=="string")){return val.replace(/^\s+/,"")}return val};this.slide_up_down=function(element,close,callback,time_duration){var time=time_duration;if(rdx.utils.is_not_defined(time)){time="100"}var slide_complete=function(){if(rdx.utils.is_defined(callback)){callback.call_back()}};if(close){if(rdx.utils.is_safari()){element.hide();slide_complete.apply()}else{element.slideUp(time,slide_complete)}}else{if(rdx.utils.is_safari()){element.show();slide_complete.apply()}else{element.slideDown(time,slide_complete)}}};this.get_last_octet_ipv6=function(ipAddress){var index=ipAddress.lastIndexOf(":");if(index!=-1&&ipAddress.length>index){ipAddress=ipAddress.substring(index+1)}index=ipAddress.lastIndexOf(".");if(index!=-1&&ipAddress.length>index){ipAddress=ipAddress.substring(index+1)}index=ipAddress.indexOf("/");if(index==0){return 0}else{if(index!=-1){return(ipAddress.substring(0,index))}else{if(ipAddress==""){return 0}else{return(ipAddress)}}}};this.get_last_octet_ipv4=function(ipAddress){return(ipAddress.split(".")[3])};this.get_last_octet_ip=function(ipAddress){if(ipAddress.indexOf(":")!=-1){return this.get_last_octet_ipv6(ipAddress)}else{return this.get_last_octet_ipv4(ipAddress)}};this.get_prefix_stripped_ipv6=function(ipAddress,send_object){var index=ipAddress.indexOf("/");var object={};if(index!=-1&&ipAddress.length>index){object.stripped_ip=ipAddress.substring(0,index);object.prefix=ipAddress.substring(index+1,ipAddress.length)}else{object.stripped_ip=ipAddress;object.prefix=""}if(rdx.utils.is_defined(send_object)&&send_object==true){return object}else{return object.stripped_ip}};this.decimal_to_hex=function(decimal){return decimal.toString(16)};this.hex_to_decimal=function(hex){return parseInt(hex,16)};this.increment_ipv6_address_by_one=function(ipAddress){var stripped_ip=this.get_prefix_stripped_ipv6(ipAddress,true);var range_start=this.get_last_octet_ipv6(ipAddress);var index=stripped_ip.stripped_ip.lastIndexOf(range_start);var ip_start_string="";if(index!=-1&&stripped_ip.stripped_ip.length>index){ip_start_string=stripped_ip.stripped_ip.substring(0,index)}else{if(index==-1&&range_start==0){ip_start_string=stripped_ip.stripped_ip}}var i=this.hex_to_decimal(range_start);i++;var constructed_ip=ip_start_string+this.decimal_to_hex(i);if(stripped_ip.prefix!=""){constructed_ip+=("/"+stripped_ip.prefix)}return constructed_ip};this.charater_range_increment=function(charaters_array,index){if(charaters_array[index]=="z"){charaters_array[index]="a";this.charater_range_increment(charaters_array,index-1)}else{if(charaters_array[index]=="Z"){charaters_array[index]="A";this.charater_range_increment(charaters_array,index-1)}else{charaters_array[index]=String.fromCharCode(charaters_array[index].charCodeAt()+1)}}return(charaters_array.join(""))};this.is_character_uppercase=function(character){if(character.charCodeAt()>=65&&character.charCodeAt()<=90){return true}return false};this.is_character_lowercase=function(character){if(character.charCodeAt()>=97&&character.charCodeAt()<=122){return true}return false};this.check_valid_range=function(start,end,carry){if((this.is_character_uppercase(start)&&!this.is_character_uppercase(end))||(this.is_character_lowercase(start)&&!this.is_character_lowercase(end))){return 0}if((carry&&start>=end)||start>end){return 2}else{return 1}};this.generate_unique_id=function(prefix){var id=null;var date=new Date();var components=[date.getYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds()];id=components.join("");if(rdx.utils.is_defined(prefix)){id=prefix+id}return id};this.get_html=function(object){if(rdx.utils.is_not_defined(object)){return""}return($("<div>").append((object).clone()).html())};this.get_data_value=function(data,key){if(rdx.utils.is_not_defined(data)){return null}var data_obj=rdx.utils.get_formatted_response(data);if(rdx.utils.is_not_defined(data_obj)){return null}return data_obj[key]};this.set_data_value=function(data,key,value){var key_index=key.indexOf(".");if(key_index!=-1){var str_array=key.split(".");var parsed_key_token=str_array[0];var sub_data=data[parsed_key_token];var sub_key=key.substring((key_index+1));if(rdx.utils.is_not_defined(sub_data)||rdx.utils.is_not_defined(sub_key)){return}if(rdx.utils.is_array(sub_data)&&rdx.utils.is_array(value)&&(value.length==sub_data.length)){for(var index=0;index<sub_data.length;index++){this.set_data_value(sub_data[index],sub_key,value[index])}}else{if(rdx.utils.is_array(sub_data)){for(var index=0;index<sub_data.length;index++){this.set_data_value(sub_data[index],sub_key,value)}}else{this.set_data_value(sub_data,sub_key,value)}}}else{if(rdx.utils.is_array(data)&&rdx.utils.is_array(value)&&(value.length==data.length)){for(var index=0;index<data.length;index++){data[index][key]=value[index]}}else{if(rdx.utils.is_array(data)){for(var index=0;index<data.length;index++){data[index][key]=value}}else{data[key]=value}}}return};this.get_elapsed_time=function(start_date){var seconds=(new Date()-start_date)/1000;var days=Math.floor(seconds/86400);seconds=(min>0)?(seconds%86400):seconds;var min=Math.floor(seconds/60);var sec=Math.floor(seconds%60);return(((days<=9)?"0"+days:days)+":"+((min<=9)?"0"+min:min)+":"+((sec<=9)?"0"+sec:sec))};this.get_activity=function(resource_context,resource,operation,resource_for_operation){var default_value="";if(operation==rdx.model_constants.REMOVE){default_value="rdx.ajax_status_removing"}else{if(operation==rdx.model_constants.SET){default_value="rdx.ajax_status_configuring"}else{if(operation==rdx.model_constants.ADD){default_value="rdx.ajax_status_creating"}else{if(operation==rdx.model_constants.POST){default_value="rdx.ajax_status_creating"}}}}var resource_url_activity=resource[operation+"_url_activity"];var activity=default_value||"";if(resource_url_activity){activity=resource_url_activity}else{if(resource_context&&resource_context.activity){activity=resource_context.activity}else{if(rdx.utils.is_empty(activity)&&rdx.utils.is_defined(rdx.custom_status_activity_message)&&rdx.utils.is_defined(rdx.custom_status_activity_message[operation])&&rdx.utils.is_defined(rdx.custom_status_activity_message[operation]["activity"])){activity=rdx.custom_status_activity_message[operation]["activity"]}}}var obj_type=rdx.i18n.get_string(resource.obj_type);var substitutes={obj_type:obj_type};if(rdx.utils.is_defined(resource_for_operation)&&rdx.utils.is_defined(resource.primary_keys)&&resource.primary_keys.length>0){for(var i=0;i<resource.primary_keys.length;i++){if(rdx.utils.is_defined(resource_for_operation[resource.primary_keys[i]])){substitutes[resource.primary_keys[i]]=resource_for_operation[resource.primary_keys[i]]}}}return rdx.i18n.get_string(activity,substitutes)};this.get_status=function(resource_context,resource,operation,resource_for_operation){var default_value="";if(operation==rdx.model_constants.REMOVE){if(resource.binding_resource){default_value="rdx.ajax_status_removing_binding_completed"}else{if(rdx.utils.is_defined(resource[operation+"_url_activity"])){var substitutes={obj_type:resource[operation+"_url_activity"]};return rdx.i18n.get_string("rdx.ajax_activity_completed",substitutes)}else{default_value="rdx.ajax_status_removing_completed"}}}else{if(operation==rdx.model_constants.SET){default_value="rdx.ajax_status_configuring_completed"}else{if(operation==rdx.model_constants.ADD){if(resource.binding_resource){default_value="rdx.ajax_status_adding_binding_completed"}else{default_value="rdx.ajax_status_creating_completed"}}}}var resource_url_status=resource[operation+"_url_status"];var activity=default_value||"";if(resource_url_status){activity=resource_url_status}else{if(resource_context&&resource_context.activity){activity=resource_context.activity}else{if(rdx.utils.is_empty(activity)&&rdx.utils.is_defined(rdx.custom_status_activity_message)&&rdx.utils.is_defined(rdx.custom_status_activity_message[operation])&&rdx.utils.is_defined(rdx.custom_status_activity_message[operation]["status"])){activity=rdx.custom_status_activity_message[operation]["status"]}}}var obj_type=rdx.i18n.get_string(resource.obj_type);var substitutes={obj_type:obj_type};if(rdx.utils.is_defined(resource_for_operation)&&rdx.utils.is_defined(resource.primary_keys)&&resource.primary_keys.length>0){for(var i=0;i<resource.primary_keys.length;i++){if(rdx.utils.is_defined(resource_for_operation[resource.primary_keys[i]])){substitutes[resource.primary_keys[i]]=resource_for_operation[resource.primary_keys[i]]}}}if(resource.binding_resource){if(operation==rdx.model_constants.REMOVE){substitutes.obj_type=substitutes.obj_type.replace(" to "," from ")}substitutes.obj_type=substitutes.obj_type.replace(" Binding","")}return rdx.i18n.get_string(activity,substitutes)};this.find_location_to_insert_in_array=function(element,array,field_name,first_iteration,start,end){if(rdx.utils.is_not_defined(first_iteration)){var array_to_sort=[];for(var i=0;i<=array.length-1;i++){array_to_sort.push(Number(array[i][field_name]))}array_to_sort.sort(function sortmyway(data_A,data_B){return(data_A-data_B)});array=array_to_sort}if(rdx.utils.is_not_defined(start)){start=0}if(rdx.utils.is_not_defined(end)){end=array.length-1}var pivot=parseInt(start+(end-start)/2);if(array[pivot]==Number(element)){return pivot}if(array[pivot]<Number(element)){return rdx.utils.find_location_to_insert_in_array(element,array,field_name,false,pivot+1,end)}else{return rdx.utils.find_location_to_insert_in_array(element,array,field_name,false,start,pivot-1)}};this._initialize_expression_editor=function(){if(typeof neo_pi_syntax==="undefined"&&rdx.utils.is_defined(rdx.APP_EXPRESSION_EDITOR_METHOD_FILE_PATH)){rdx.utils.load_script(rdx.APP_EXPRESSION_EDITOR_METHOD_FILE_PATH)}if(typeof neo_epaExpressionData==="undefined"&&rdx.utils.is_defined(rdx.EPA_EXPRESSION_EDITOR_FILE_PATH)){rdx.utils.load_script(rdx.EPA_EXPRESSION_EDITOR_FILE_PATH)}};this._initialize_command_spec_editor=function(){if((typeof neo_rba_entitygroup_mapping==="undefined"||typeof neo_rba_commandset==="undefined")&&rdx.utils.is_defined(rdx.CMD_SPEC_EDITOR_FILE_PATH)){rdx.utils.load_script(rdx.CMD_SPEC_EDITOR_FILE_PATH)}};this.parse_url=function(url,predefined_rdx_params,custom_param){var parsed_url={};for(i=0;i<this.predefined_nitro_params.length;i++){var param_name=this.predefined_nitro_params[i];var param_data=this.split_url_on_param_key(url,param_name);if(param_data!=null){var payload=param_data.split(",");var query_params=[];for(var j=0;j<payload.length;j++){var single_param=payload[j];if(single_param.indexOf(":")!=-1){var name_value_pair=single_param.split(":");query_params.push({name:decodeURIComponent(name_value_pair[0]),value:decodeURIComponent(name_value_pair[1])})}}if($.inArray(param_name,predefined_rdx_params)>-1){if(query_params.length==0){parsed_url[param_name]=param_data}else{if(rdx.utils.is_defined(parsed_url[param_name])){parsed_url[param_name]=parsed_url[param_name].concat(query_params)}else{parsed_url[param_name]=query_params}}}else{if(rdx.utils.is_defined(parsed_url[custom_param])){parsed_url[custom_param]=parsed_url[custom_param].concat(query_params)}else{parsed_url[custom_param]=query_params}}}}return parsed_url};this.is_settings_implemented=function(view){var is_implemented=false;if(rdx.utils.is_defined(rdx.view_constants.VIEWS_WITH_SETTINGS)&&this.is_array(rdx.view_constants.VIEWS_WITH_SETTINGS)&&rdx.view_constants.VIEWS_WITH_SETTINGS.length){for(var i=0,end_index=rdx.view_constants.VIEWS_WITH_SETTINGS.length;i<end_index;i++){var current_view=rdx.view_constants.VIEWS_WITH_SETTINGS[i];if(current_view==view){is_implemented=true;break}}}return is_implemented};this.create_settings_key=function(user_name,view_name){return user_name+"_"+view_name};this.is_hover=function(element,event){var element_x_position=element.offset().left;var element_y_position=element.offset().top;var mouse_x=null;var mouse_y=null;if(event.pageX){mouse_x=event.pageX}else{if(event.clientX){mouse_x=event.clientX+$(window).scrollLeft()}}if(event.pageY){mouse_y=event.pageY}else{if(event.clientY){mouse_y=event.clientY+$(window).scrollTop()}}if(rdx.utils.is_defined(mouse_x)&&rdx.utils.is_defined(mouse_y)){if(mouse_x>element_x_position&&mouse_x<element_x_position+element.outerWidth()){if(mouse_y>element_y_position&&mouse_y<element_y_position+element.outerHeight()){return true}}}return false};this.trigger_select_element=function(element){if(document.createEvent){var event=document.createEvent("MouseEvents");event.initMouseEvent("mousedown",true,true,window,0,0,0,0,0,false,false,false,false,0,null);element[0].dispatchEvent(event)}else{if(element.fireEvent){element[0].fireEvent("onmousedown")}}};this.get_file_name=function(element){var file_name=element;if(rdx.utils.is_not_empty(element)){if(element.indexOf("/")!=-1){var dummy=element.split("/");file_name=dummy[dummy.length-1]}}return file_name};this.get_page_name=function(){var path=window.location.pathname;if(rdx.utils.is_defined(path)){return path.substr(path.lastIndexOf("/")+1)}};this.convert_epoch_to_readable_time=function(object,property){if(rdx.utils.is_not_defined(object)||rdx.utils.is_not_defined(property)){return 0}var start_time_epoc;var converted_format;var epoc_seconds=object[property];if(rdx.utils.is_not_defined(epoc_seconds)){return 0}start_time_epoc=Number(epoc_seconds);var date=new Date(start_time_epoc*1000);var hours=date.getHours();var minutes=date.getMinutes();var am_pm;if(hours>12){hours=hours-12;am_pm="PM";if(hours==12){am_pm="AM"}else{if(hours<10){hours="0"+hours}}}else{am_pm="AM";if(hours==12){am_pm="PM"}else{if(hours<10){hours="0"+hours}}}if(minutes<10){minutes="0"+minutes}var month_hash={"1":"Jan","2":"Feb","3":"March","4":"Apr","5":"May","6":"Jun","7":"July","8":"Aug","9":"Sep","10":"Oct","11":"Nov","12":"Dec"};var month=(date.getMonth()+1).toString();var date_numeric=date.getDate();if(date_numeric<10){date_numeric="0"+date_numeric}$.each(month_hash,function(key,value){if(key==month){month=value}});converted_format=month+" "+date_numeric+" "+hours+":"+minutes+" "+am_pm;return converted_format};this.get_epoch_milli_seconds=function(date_str){var r=/^\s*(\d{4})-(\d\d)-(\d\d)\s+(\d\d):(\d\d):(\d\d)\s+UTC\s*$/;var m=(""+date_str).match(r);return(m)?Date.UTC(m[1],m[2]-1,m[3],m[4],m[5],m[6]):undefined};this.get_object_length=function(obj){var length=0;if(rdx.utils.is_not_defined(obj)){return}for(var key in obj){if(obj.hasOwnProperty(key)){length++}}return length};this.merge_and_set_url_params=function(view,action_view_context){if(view.get_view_context()&&rdx.utils.is_function(view.get_view_context().get_properties)){var view_context_properties=view.get_view_context().get_properties();view_context_properties=$.extend({},view_context_properties,action_view_context);if(view._view_definition.view_context){view_context_properties=$.extend({},view_context_properties,view._view_definition.view_context)}view.get_view_context().set_url_params(view_context_properties)}};this.get_rest_handler=function(success_callback,error_callback,req,method,url){var handler=null;if(rdx.ajax_handler_constants.API==rdx.API_TYPE.NITRO){handler=new rdx.nitro_handler(success_callback,error_callback,req,method,url)}else{if(rdx.ajax_handler_constants.API==rdx.API_TYPE.REST){handler=new rdx.pure_rest_api_handler(success_callback,error_callback,req,method,url)}}return handler};this.basename=function(path){return path.replace(/\\/g,"/").replace(/.*\//,"")};this.dirname=function(path){return path.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")};this.has_class_svg=function(elem,name){return new RegExp("(\\s|^)"+name+"(\\s|$)").test(elem.getAttribute("class"))};this.remove_class_svg=function(elem,name){var remove=elem.getAttribute("class").replace(new RegExp("(\\s|^)"+name+"(\\s|$)","g"),"$2");rdx.utils.has_class_svg(elem,name)&&elem.setAttribute("class",remove)};this.add_class_svg=function(elem,name){!rdx.utils.has_class_svg(elem,name)&&elem.setAttribute("class",(!!elem.getAttribute("class")?elem.getAttribute("class")+" ":"")+name)};this.replace_class_svg=function(node,new_class,old_class){if(rdx.utils.has_class_svg(node,old_class)){rdx.utils.remove_class_svg(node,old_class)}rdx.utils.add_class_svg(node,new_class)};this.get_month_name=function(month_index){if(month_index>=0&&month_index<=11){var month=new Array();month[0]="January";month[1]="February";month[2]="March";month[3]="April";month[4]="May";month[5]="June";month[6]="July";month[7]="August";month[8]="September";month[9]="October";month[10]="November";month[11]="December";return month[month_index]}};this.get_month_index=function(month_name){var month=new Array();month.January=1;month.February=2;month.March=3;month.April=4;month.May=5;month.June=6;month.July=7;month.August=8;month.September=9;month.October=10;month.November=11;month.December=12;var month_short=[];month.Jan=1;month.Feb=2;month.Mar=3;month.Apr=4;month.May=5;month.Jun=6;month.Jul=7;month.Aug=8;month.Sep=9;month.Oct=10;month.Nov=11;month.Dec=12;return month[month_name]?month[month_name]:month_short[month_name]};this.format_data_dd_m_yyyy_hh_mm_ss=function(date){var date_string="";if(rdx.utils.is_defined(date)){date_string=date_string+date.getDate();date_string=date_string+" ";date_string=date_string+this.get_month_name(date.getMonth());date_string=date_string+" ";date_string=date_string+date.getFullYear();date_string=date_string+" ";date_string=date_string+" "+rdx.utils.get_value_in_two_digits(date.getHours());date_string=date_string+":";date_string=date_string+rdx.utils.get_value_in_two_digits(date.getMinutes());date_string=date_string+":";date_string=date_string+rdx.utils.get_value_in_two_digits(date.getSeconds())}return date_string};this.get_value_in_two_digits=function(value){var final_value=value;if(value<10){return("0"+value.toString())}return final_value};this.get_am_pm=function(hours){return hours>=12?rdx.i18n.get_string("rdx.time_pm_text"):rdx.i18n.get_string("rdx.time_am_text")};this.insert_at_caret=function(textarea,text){var txtarea=textarea.get_component()[0];var scrollPos=txtarea.scrollTop;var strPos=0;var br=((txtarea.selectionStart||txtarea.selectionStart=="0")?"ff":(document.selection?"ie":false));if(br=="ie"){txtarea.focus();var range=document.selection.createRange();range.moveStart("character",-txtarea.value.length);strPos=range.text.length}else{if(br=="ff"){strPos=txtarea.selectionStart}}var front=(txtarea.value).substring(0,strPos);var back=(txtarea.value).substring(strPos,txtarea.value.length);if(strPos==0&&txtarea.value.length>0){front="";back=txtarea.value}txtarea.value=front+text+back;strPos=strPos+text.length;if(br=="ie"){txtarea.focus();var range=document.selection.createRange();range.moveStart("character",-txtarea.value.length);range.moveStart("character",strPos);range.moveEnd("character",0);range.select()}else{if(br=="ff"){txtarea.selectionStart=strPos;txtarea.selectionEnd=strPos;txtarea.focus()}}txtarea.scrollTop=scrollPos};this._get_button=function(label,tooltip,classname){var button=$(document.createElement("input"));button.attr("type","button");button.attr("value",rdx.i18n.get_string(label));button.attr("title",rdx.i18n.get_string(tooltip));button.addClass(classname);return button};this._get_cuxip_learn_more_link=function(){return rdx.CUXIP_LEARN_MORE_LINK};this.is_pure_rest_api=function(resource){return(rdx.utils.is_defined(resource)&&rdx.utils.is_defined(resource.is_nitro_resource)&&resource.is_nitro_resource===false)};this.is_nitro_api=function(url){return(rdx.utils.starts_with(url,"/nitro")||rdx.utils.starts_with(url,"/rapi"))};this.copy_text_to_clipboard=function(dom_element){$(dom_element).css("background","#f2f2f2");var dom_text=$(dom_element).text();$(dom_element).select();var successful=document.execCommand("copy")};this.getCaretPosition=function(editableDiv){var caretPos=0,sel,range;if(window.getSelection){sel=window.getSelection();if(sel.rangeCount){range=sel.getRangeAt(0);if(range.commonAncestorContainer.parentNode==editableDiv){caretPos=range.endOffset}}}else{if(document.selection&&document.selection.createRange){range=document.selection.createRange();if(range.parentElement()==editableDiv){var tempEl=document.createElement("span");editableDiv.insertBefore(tempEl,editableDiv.firstChild);var tempRange=range.duplicate();tempRange.moveToElementText(tempEl);tempRange.setEndPoint("EndToEnd",range);caretPos=tempRange.text.length}}}return caretPos};this._get_cuxip_learn_more_link=function(){return rdx.CUXIP_LEARN_MORE_LINK};this.remove_file_extension=function(filename){var lastDotPosition=filename.lastIndexOf(".");if(lastDotPosition===-1){return filename}else{return filename.substr(0,lastDotPosition)}};this.launchIntoFullscreen=function(element){$(document.body).addClass("fullscreen");if(element.requestFullscreen){element.requestFullscreen()}else{if(element.mozRequestFullScreen){element.mozRequestFullScreen()}else{if(element.webkitRequestFullscreen){element.webkitRequestFullscreen()}else{if(element.msRequestFullscreen){element.msRequestFullscreen()}}}}};this.exitFullscreen=function(){$(document.body).removeClass("fullscreen");if(document.exitFullscreen){document.exitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}}};this.interchange_key_value_in_object=function(object){if(rdx.utils.is_object_empty(object)){return object}var new_obj={};for(var key in object){new_obj[object[key]]=key}return new_obj};this.position_element_absolute_to_dom=function(element,parent_dom){var viewport_width=$(window).width();var viewport_height=$(window).height();var documentscroll_top=$(window).scrollTop();var documentscroll_left=$(window).scrollLeft();var mintop=documentscroll_top;var maxtop=documentscroll_top+viewport_height;var minleft=documentscroll_left;var maxleft=documentscroll_left+viewport_width;var parent_offset=parent_dom.offset();var parent_height=parent_dom.outerHeight();var parent_width=parent_dom.outerWidth();var elem_height=element.height();var elem_width=element.width();var elem_top=(parent_offset.top-(elem_height/2)+(parent_height/2));var elem_left=parent_offset.left+parent_width;if((elem_top>mintop&&(elem_top+elem_height)<maxtop)&&(elem_left+elem_width<maxleft)){element.css({top:parent_offset.top-(element.height()/2)+(parent_height/2),left:parent_dom.offset().left+parent_width-0.1});return}elem_top=parent_offset.top-(elem_height/2)+(parent_height/2);elem_left=parent_offset.left-elem_width;if(elem_top>mintop&&(elem_top+elem_height)<maxtop&&elem_left>minleft){element.css({top:parent_offset.top-(element.height()/2)+(parent_height/2),left:parent_offset.left-element.width()+0.1});return}elem_top=parent_offset.top+parent_height;elem_left=parent_offset.left-(elem_width/2)+(parent_width/2);if((elem_top+elem_height<maxtop)&&elem_left>minleft&&(elem_left+elem_width)<maxleft){element.css({top:parent_offset.top+parent_height-0.1,left:parent_offset.left-(element.width()/2)+(parent_width/2)});return}elem_top=parent_offset.top-elem_height;elem_left=parent_offset.left-(elem_width/2)+(parent_width/2);if(elem_top>mintop&&elem_left>minleft&&(elem_left+elem_width<maxleft)){element.css({top:parent_offset.top-(element.height())+0.1,left:parent_offset.left-(element.width()/2)+(parent_width/2)});return}var elem_top=(parent_offset.top-(elem_height/2)+(parent_height/2));var elem_left=parent_offset.left+parent_width;if((elem_top>mintop&&(elem_top+elem_height)<maxtop)&&(elem_left+elem_width<maxleft)){element.css({top:parent_offset.top-(element.height()/2)+(parent_height/2),left:parent_dom.offset().left+parent_width-0.1});return}};this.is_back_button_needed=function(base_view){return(rdx.utils.is_not_defined(base_view._view_definition.view_properties.add_back_button)||base_view._view_definition.view_properties.add_back_button==true)&&rdx.utils.is_function(base_view._view.get_is_back_button_required)&&(base_view._view.get_is_back_button_required()==true)&&(base_view._view._base_view.is_show_in_slider()==false)&&rdx.utils.is_not_defined(base_view._view._base_view.get_crumb_handler())};this.download_file=function(user_defined_properties){var DEFAULT_PROPERTIES={file_url:null,error_message:null,failure_callback:null,success_callback:null};var properties=$.extend({},DEFAULT_PROPERTIES,user_defined_properties);if(rdx.utils.is_not_defined(properties.file_url)){return}if(rdx.utils.is_defined(this._download_iframe_holder)){this._download_iframe_holder.remove()}var iframe=$("<iframe>").attr("frameborder",0).attr("width","0px").attr("height","0px");iframe.attr("src",properties.file_url);$(document.body).append(iframe);this._download_iframe_holder=iframe;iframe.bind(rdx.events.LOAD,{iframe:iframe,properties:properties},function(event){var data=null;try{data=event.data.iframe.contents().text()}catch(err){rdx.message_box.error("File not found");return}if(rdx.utils.is_not_defined(data)){return}var ifame=event.data.iframe;try{var result=JSON.parse(data);var failure_callback=event.data.properties.failure_callback;if(result[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD]!=0){var callback=new rdx.callback();if($.inArray(result[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD],rdx.ajax_handler_constants.RESPONSE_SESSION_EXPIRY_ERROR_CODES)!=-1){callback=new rdx.callback(rdx.utils,rdx.utils.do_logout,[true])}if(rdx.utils.is_defined(failure_callback)){failure_callback.call_back();callback.call_back()}else{rdx.message_box.error(result.message,callback)}return}var success_callback=event.data.properties.success_callback;if(rdx.utils.is_defined(success_callback)){success_callback.call_back()}}catch(err){}})}};if(rdx&&(!rdx.utils.is_ie()||(rdx.utils.is_ie()&&rdx.utils.get_browser_version()>=9))){!function(){var iC={version:"3.5.12"};var pN=[].slice,nc=function(a){return pN.call(a)};var pQ=this.document;function lH(a){return a&&(a.ownerDocument||a.document||a).documentElement}function lG(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}if(pQ){try{nc(pQ.documentElement.childNodes)[0].nodeType}catch(iN){nc=function(c){var b=c.length,a=new Array(b);while(b--){a[b]=c[b]}return a}}}if(!Date.getEpochTime){Date.getEpochTime=function(){return +new Date()}}if(pQ){try{pQ.createElement("DIV").style.setProperty("opacity",0,"")}catch(jJ){var nm=this.Element.prototype,qB=nm.setAttribute,kT=nm.setAttributeNS,nS=this.CSSStyleDeclaration.prototype,kb=nS.setProperty;nm.setAttribute=function(a,b){qB.call(this,a,b+"")};nm.setAttributeNS=function(a,b,c){kT.call(this,a,b,c+"")};nS.setProperty=function(b,a,c){kb.call(this,b,a+"",c)}}}iC.ascending=kl;function kl(b,a){return b<a?-1:b>a?1:b>=a?0:NaN}iC.descending=function(b,a){return a<b?-1:a>b?1:a>=b?0:NaN};iC.min=function(a,c){var d=-1,b=a.length,g,f;if(arguments.length===1){while(++d<b){if((f=a[d])!=null&&f>=f){g=f;break}}while(++d<b){if((f=a[d])!=null&&g>f){g=f}}}else{while(++d<b){if((f=c.call(a,a[d],d))!=null&&f>=f){g=f;break}}while(++d<b){if((f=c.call(a,a[d],d))!=null&&g>f){g=f}}}return g};iC.max=function(a,c){var d=-1,b=a.length,g,f;if(arguments.length===1){while(++d<b){if((f=a[d])!=null&&f>=f){g=f;break}}while(++d<b){if((f=a[d])!=null&&f>g){g=f}}}else{while(++d<b){if((f=c.call(a,a[d],d))!=null&&f>=f){g=f;break}}while(++d<b){if((f=c.call(a,a[d],d))!=null&&f>g){g=f}}}return g};iC.extent=function(a,d){var f=-1,b=a.length,h,g,c;if(arguments.length===1){while(++f<b){if((g=a[f])!=null&&g>=g){h=c=g;break}}while(++f<b){if((g=a[f])!=null){if(h>g){h=g}if(c<g){c=g}}}}else{while(++f<b){if((g=d.call(a,a[f],f))!=null&&g>=g){h=c=g;break}}while(++f<b){if((g=d.call(a,a[f],f))!=null){if(h>g){h=g}if(c<g){c=g}}}}return[h,c]};function ix(a){return a===null?NaN:+a}function o9(a){return !isNaN(a)}iC.sum=function(a,c){var d=0,b=a.length,f,g=-1;if(arguments.length===1){while(++g<b){if(o9(f=+a[g])){d+=f}}}else{while(++g<b){if(o9(f=+c.call(a,a[g],g))){d+=f}}}return d};iC.mean=function(a,c){var d=0,b=a.length,g,f=-1,h=b;if(arguments.length===1){while(++f<b){if(o9(g=ix(a[f]))){d+=g}else{--h}}}else{while(++f<b){if(o9(g=ix(c.call(a,a[f],f)))){d+=g}else{--h}}}if(h){return d/h}};iC.quantile=function(f,a){var d=(f.length-1)*a+1,c=Math.floor(d),g=+f[c-1],b=d-c;return b?g+b*(f[c]-g):g};iC.median=function(a,c){var g=[],b=a.length,f,d=-1;if(arguments.length===1){while(++d<b){if(o9(f=ix(a[d]))){g.push(f)}}}else{while(++d<b){if(o9(f=ix(c.call(a,a[d],d)))){g.push(f)}}}if(g.length){return iC.quantile(g.sort(kl),0.5)}};iC.variance=function(g,h){var b=g.length,a=0,d,f,c=0,l=-1,m=0;if(arguments.length===1){while(++l<b){if(o9(d=ix(g[l]))){f=d-a;a+=f/++m;c+=f*(d-a)}}}else{while(++l<b){if(o9(d=ix(h.call(g,g[l],l)))){f=d-a;a+=f/++m;c+=f*(d-a)}}}if(m>1){return c/(m-1)}};iC.deviation=function(){var a=iC.variance.apply(this,arguments);return a?Math.sqrt(a):a};function ja(a){return{left:function(f,g,b,c){if(arguments.length<3){b=0}if(arguments.length<4){c=f.length}while(b<c){var d=b+c>>>1;if(a(f[d],g)<0){b=d+1}else{c=d}}return b},right:function(f,g,b,c){if(arguments.length<3){b=0}if(arguments.length<4){c=f.length}while(b<c){var d=b+c>>>1;if(a(f[d],g)>0){c=d}else{b=d+1}}return b}}}var pU=ja(kl);iC.bisectLeft=pU.left;iC.bisect=iC.bisectRight=pU.right;iC.bisector=function(a){return ja(a.length===1?function(b,c){return kl(a(b),c)}:a)};iC.shuffle=function(a,b,c){if((f=arguments.length)<3){c=a.length;if(f<2){b=0}}var f=c-b,d,g;while(f){g=Math.random()*f--|0;d=a[f+b],a[f+b]=a[g+b],a[g+b]=d}return a};iC.permute=function(a,d){var b=d.length,c=new Array(b);while(b--){c[b]=a[d[b]]}return c};iC.pairs=function(a){var f=0,b=a.length-1,c,d=a[0],g=new Array(b<0?0:b);while(f<b){g[f]=[c=d,d=a[++f]]}return g};iC.zip=function(){if(!(a=arguments.length)){return[]}for(var c=-1,f=iC.min(arguments,kw),d=new Array(f);++c<f;){for(var g=-1,a,b=d[c]=new Array(a);++g<a;){b[g]=arguments[g][c]}}return d};function kw(a){return a.length}iC.transpose=function(a){return iC.zip.apply(iC,a)};iC.keys=function(a){var c=[];for(var b in a){c.push(b)}return c};iC.values=function(a){var b=[];for(var c in a){b.push(a[c])}return b};iC.entries=function(a){var b=[];for(var c in a){b.push({key:c,value:a[c]})}return b};iC.merge=function(c){var a=c.length,h,d=-1,f=0,g,b;while(++d<a){f+=c[d].length}g=new Array(f);while(--a>=0){b=c[a];h=b.length;while(--h>=0){g[--f]=b[h]}}return g};var o0=Math.abs;iC.range=function(a,c,b){if(arguments.length<3){b=1;if(arguments.length<2){c=a;a=0}}if((c-a)/b===Infinity){throw new Error("infinite range")}var h=[],g=jj(o0(b)),d=-1,f;a*=g,c*=g,b*=g;if(b<0){while((f=a+b*++d)>c){h.push(f/g)}}else{while((f=a+b*++d)<c){h.push(f/g)}}return h};function jj(a){var b=1;while(a*b%1){b*=10}return b}function jZ(a,c){for(var b in c){Object.defineProperty(a.prototype,b,{value:c[b],enumerable:false})}}iC.map=function(g,d){var c=new qO();if(g instanceof qO){g.forEach(function(m,l){c.set(m,l)})}else{if(Array.isArray(g)){var f=-1,a=g.length,b;if(arguments.length===1){while(++f<a){c.set(f,g[f])}}else{while(++f<a){c.set(d.call(g,b=g[f],f),b)}}}else{for(var h in g){c.set(h,g[h])}}}return c};function qO(){this._=Object.create(null)}var mz="__proto__",o3="\x00";jZ(qO,{has:ko,get:function(a){return this._[ij(a)]},set:function(a,b){return this._[ij(a)]=b},remove:n6,keys:jK,values:function(){var a=[];for(var b in this._){a.push(this._[b])}return a},entries:function(){var a=[];for(var b in this._){a.push({key:ii(b),value:this._[b]})}return a},size:js,empty:qW,forEach:function(b){for(var a in this._){b.call(this,ii(a),this._[a])}}});function ij(a){return(a+="")===mz||a[0]===o3?o3+a:a}function ii(a){return(a+="")[0]===o3?a.slice(1):a}function ko(a){return ij(a) in this._}function n6(a){return(a=ij(a)) in this._&&delete this._[a]}function jK(){var b=[];for(var a in this._){b.push(ii(a))}return b}function js(){var b=0;for(var a in this._){++b}return b}function qW(){for(var a in this._){return false}return true}iC.nest=function(){var d={},f=[],a=[],h,c;function b(v,n,p){if(p>=f.length){return c?c.call(d,n):h?n.sort(h):n}var o=-1,w=n.length,l=f[p++],q,s,t,u=new qO(),m;while(++o<w){if(m=u.get(q=l(s=n[o]))){m.push(s)}else{u.set(q,[s])}}if(v){s=v();t=function(y,x){s.set(y,b(v,x,p))}}else{s={};t=function(y,x){s[y]=b(v,x,p)}}u.forEach(t);return s}function g(l,o){if(o>=f.length){return l}var n=[],m=a[o++];l.forEach(function(q,p){n.push({key:q,values:g(p,o)})});return m?n.sort(function(p,q){return m(p.key,q.key)}):n}d.map=function(l,m){return b(m,l,0)};d.entries=function(l){return g(b(iC.map,l,0),0)};d.key=function(l){f.push(l);return d};d.sortKeys=function(l){a[f.length-1]=l;return d};d.sortValues=function(l){h=l;return d};d.rollup=function(l){c=l;return d};return d};iC.set=function(a){var b=new lX();if(a){for(var c=0,d=a.length;c<d;++c){b.add(a[c])}}return b};function lX(){this._=Object.create(null)}jZ(lX,{has:ko,add:function(a){this._[ij(a+="")]=true;return a},remove:n6,values:jK,size:js,empty:qW,forEach:function(b){for(var a in this._){b.call(this,ii(a))}}});iC.behavior={};function jg(a){return a}iC.rebind=function(c,f){var d=1,a=arguments.length,b;while(++d<a){c[b=arguments[d]]=mD(c,f,f[b])}return c};function mD(c,b,a){return function(){var d=a.apply(b,arguments);return d===b?c:d}}function mo(c,f){if(f in c){return f}f=f.charAt(0).toUpperCase()+f.slice(1);for(var b=0,a=oV.length;b<a;++b){var d=oV[b]+f;if(d in c){return d}}}var oV=["webkit","ms","moz","Moz","o","O"];function qP(){}iC.dispatch=function(){var b=new lO(),c=-1,a=arguments.length;while(++c<a){b[arguments[c]]=kp(b)}return b};function lO(){}lO.prototype.on=function(b,a){var d=b.indexOf("."),c="";if(d>=0){c=b.slice(d+1);b=b.slice(0,d)}if(b){return arguments.length<2?this[b].on(c):this[b].on(c,a)}if(arguments.length===2){if(a==null){for(b in this){if(this.hasOwnProperty(b)){this[b].on(c,null)}}}return this}};function kp(c){var b=[],d=new qO();function a(){var g=b,h=-1,f=g.length,l;while(++h<f){if(l=g[h].on){l.apply(this,arguments)}}return c}a.on=function(h,f){var l=d.get(h),g;if(arguments.length<2){return l&&l.on}if(l){l.on=null;b=b.slice(0,g=b.indexOf(l)).concat(b.slice(g+1));d.remove(h)}if(f){b.push(d.set(h,{on:f}))}return c};return a}iC.event=null;function mT(){iC.event.preventDefault()}function qb(){var a=iC.event,b;while(b=a.sourceEvent){a=b}return a}function iI(b){var c=new lO(),d=0,a=arguments.length;while(++d<a){c[arguments[d]]=kp(c)}c.of=function(f,g){return function(l){try{var h=l.sourceEvent=iC.event;l.target=b;iC.event=l;c[l.type].apply(f,g)}finally{iC.event=h}}};return c}iC.requote=function(a){return a.replace(mE,"\\$&")};var mE=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var jS={}.__proto__?function(b,a){b.__proto__=a}:function(c,b){for(var a in b){c[a]=b[a]}};function oz(a){jS(a,oE);return a}var l1=function(a,b){return b.querySelector(a)},lP=function(a,b){return b.querySelectorAll(a)},n1=function(a,b){var c=a.matches||a[mo(a,"matchesSelector")];n1=function(d,f){return c.call(d,f)};return n1(a,b)};if(typeof Sizzle==="function"){l1=function(a,b){return Sizzle(a,b)[0]||null};lP=Sizzle;n1=Sizzle.matchesSelector}iC.selection=function(){return iC.select(pQ.documentElement)};var oE=iC.selection.prototype=[];oE.select=function(h){var n=[],c,b,d,m;h=mJ(h);for(var g=-1,l=this.length;++g<l;){n.push(c=[]);c.parentNode=(d=this[g]).parentNode;for(var f=-1,a=d.length;++f<a;){if(m=d[f]){c.push(b=h.call(m,m.__data__,f,g));if(b&&"__data__" in m){b.__data__=m.__data__}}else{c.push(null)}}}return oz(n)};function mJ(a){return typeof a==="function"?a:function(){return l1(a,this)}}oE.selectAll=function(h){var a=[],c,m;h=pO(h);for(var g=-1,l=this.length;++g<l;){for(var d=this[g],f=-1,b=d.length;++f<b;){if(m=d[f]){a.push(c=nc(h.call(m,m.__data__,f,g)));c.parentNode=m}}}return oz(a)};function pO(a){return typeof a==="function"?a:function(){return lP(a,this)}}var lv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};iC.ns={prefix:lv,qualify:function(b){var c=b.indexOf(":"),a=b;if(c>=0&&(a=b.slice(0,c))!=="xmlns"){b=b.slice(c+1)}return lv.hasOwnProperty(a)?{space:lv[a],local:b}:b}};oE.attr=function(b,a){if(arguments.length<2){if(typeof b==="string"){var c=this.node();b=iC.ns.qualify(b);return b.local?c.getAttributeNS(b.space,b.local):c.getAttribute(b)}for(a in b){this.each(n7(a,b[a]))}return this}return this.each(n7(b,a))};function n7(g,b){g=iC.ns.qualify(g);function l(){this.removeAttribute(g)}function a(){this.removeAttributeNS(g.space,g.local)}function c(){this.setAttribute(g,b)}function d(){this.setAttributeNS(g.space,g.local,b)}function h(){var m=b.apply(this,arguments);if(m==null){this.removeAttribute(g)}else{this.setAttribute(g,m)}}function f(){var m=b.apply(this,arguments);if(m==null){this.removeAttributeNS(g.space,g.local)}else{this.setAttributeNS(g.space,g.local,m)}}return b==null?g.local?a:l:typeof b==="function"?g.local?f:h:g.local?d:c}function oX(a){return a.trim().replace(/\s+/g," ")}oE.classed=function(d,b){if(arguments.length<2){if(typeof d==="string"){var c=this.node(),a=(d=iX(d)).length,f=-1;if(b=c.classList){while(++f<a){if(!b.contains(d[f])){return false}}}else{b=c.getAttribute("class");while(++f<a){if(!j4(d[f]).test(b)){return false}}}return true}for(b in d){this.each(kx(b,d[b]))}return this}return this.each(kx(d,b))};function j4(a){return new RegExp("(?:^|\\s+)"+iC.requote(a)+"(?:\\s+|$)","g")}function iX(a){return(a+"").trim().split(/^|\s+/)}function kx(f,b){f=iX(f).map(j5);var a=f.length;function d(){var g=-1;while(++g<a){f[g](this,b)}}function c(){var g=-1,h=b.apply(this,arguments);while(++g<a){f[g](this,h)}}return typeof b==="function"?c:d}function j5(a){var b=j4(a);return function(f,d){if(c=f.classList){return d?c.add(a):c.remove(a)}var c=f.getAttribute("class")||"";if(d){b.lastIndex=0;if(!b.test(c)){f.setAttribute("class",oX(c+" "+a))}}else{f.setAttribute("class",oX(c.replace(b," ")))}}}oE.style=function(d,b,f){var a=arguments.length;if(a<3){if(typeof d!=="string"){if(a<2){b=""}for(f in d){this.each(lh(f,d[f],b))}return this}if(a<2){var c=this.node();return lG(c).getComputedStyle(c,null).getPropertyValue(d)}f=""}return this.each(lh(d,b,f))};function lh(d,a,c){function g(){this.style.removeProperty(d)}function b(){this.style.setProperty(d,a,c)}function f(){var h=a.apply(this,arguments);if(h==null){this.style.removeProperty(d)}else{this.style.setProperty(d,h,c)}}return a==null?g:typeof a==="function"?f:b}oE.property=function(a,b){if(arguments.length<2){if(typeof a==="string"){return this.node()[a]}for(b in a){this.each(jo(b,a[b]))}return this}return this.each(jo(a,b))};function jo(f,b){function d(){delete this[f]}function c(){this[f]=b}function a(){var g=b.apply(this,arguments);if(g==null){delete this[f]}else{this[f]=g}}return b==null?d:typeof b==="function"?a:c}oE.text=function(a){return arguments.length?this.each(typeof a==="function"?function(){var b=a.apply(this,arguments);this.textContent=b==null?"":b}:a==null?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};oE.html=function(a){return arguments.length?this.each(typeof a==="function"?function(){var b=a.apply(this,arguments);this.innerHTML=b==null?"":b}:a==null?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};oE.append=function(a){a=qT(a);return this.select(function(){return this.appendChild(a.apply(this,arguments))})};function qT(b){function c(){var f=this.ownerDocument,d=this.namespaceURI;return d?f.createElementNS(d,b):f.createElement(b)}function a(){return this.ownerDocument.createElementNS(b.space,b.local)}return typeof b==="function"?b:(b=iC.ns.qualify(b)).local?a:c}oE.insert=function(a,b){a=qT(a);b=mJ(b);return this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})};oE.remove=function(){return this.each(lj)};function lj(){var a=this.parentNode;if(a){a.removeChild(this)}}oE.data=function(f,c){var l=-1,a=this.length,d,n;if(!arguments.length){f=new Array(a=(d=this[0]).length);while(++l<a){if(n=d[l]){f[l]=n.__data__}}return f}function h(o,u){var s,z=o.length,v=u.length,p=Math.min(z,v),y=new Array(v),C=new Array(v),q=new Array(z),x,B;if(c){var w=new qO(),A=new Array(z),t;for(s=-1;++s<z;){if(x=o[s]){if(w.has(t=c.call(x,x.__data__,s))){q[s]=x}else{w.set(t,x)}A[s]=t}}for(s=-1;++s<v;){if(!(x=w.get(t=c.call(u,B=u[s],s)))){C[s]=oS(B)}else{if(x!==true){y[s]=x;x.__data__=B}}w.set(t,true)}for(s=-1;++s<z;){if(s in A&&w.get(A[s])!==true){q[s]=o[s]}}}else{for(s=-1;++s<p;){x=o[s];B=u[s];if(x){x.__data__=B;y[s]=x}else{C[s]=oS(B)}}for(;s<v;++s){C[s]=oS(u[s])}for(;s<z;++s){q[s]=o[s]}}C.update=y;C.parentNode=y.parentNode=q.parentNode=o.parentNode;g.push(C);m.push(y);b.push(q)}var g=pw([]),m=oz([]),b=oz([]);if(typeof f==="function"){while(++l<a){h(d=this[l],f.call(d,d.parentNode.__data__,l))}}else{while(++l<a){h(d=this[l],f)}}m.enter=function(){return g};m.exit=function(){return b};return m};function oS(a){return{__data__:a}}oE.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};oE.filter=function(b){var m=[],c,d,l;if(typeof b!=="function"){b=pi(b)}for(var g=0,h=this.length;g<h;g++){m.push(c=[]);c.parentNode=(d=this[g]).parentNode;for(var f=0,a=d.length;f<a;f++){if((l=d[f])&&b.call(l,l.__data__,f,g)){c.push(l)}}}return oz(m)};function pi(a){return function(){return n1(this,a)}}oE.order=function(){for(var g=-1,f=this.length;++g<f;){for(var a=this[g],d=a.length-1,c=a[d],b;--d>=0;){if(b=a[d]){if(c&&c!==b.nextSibling){c.parentNode.insertBefore(b,c)}c=b}}}return this};oE.sort=function(c){c=ke.apply(this,arguments);for(var a=-1,b=this.length;++a<b;){this[a].sort(c)}return this.order()};function ke(a){if(!arguments.length){a=kl}return function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}oE.each=function(a){return oU(this,function(b,c,d){a.call(b,b.__data__,c,d)})};function oU(l,a){for(var g=0,h=l.length;g<h;g++){for(var c=l[g],f=0,b=c.length,d;f<b;f++){if(d=c[f]){a(d,f,g)}}}return l}oE.call=function(b){var a=nc(arguments);b.apply(a[0]=this,a);return this};oE.empty=function(){return !this.node()};oE.node=function(){for(var g=0,f=this.length;g<f;g++){for(var b=this[g],d=0,a=b.length;d<a;d++){var c=b[d];if(c){return c}}}return null};oE.size=function(){var a=0;oU(this,function(){++a});return a};function pw(a){jS(a,m2);return a}var m2=[];iC.selection.enter=pw;iC.selection.enter.prototype=m2;m2.append=oE.append;m2.empty=oE.empty;m2.node=oE.node;m2.call=oE.call;m2.size=oE.size;m2.select=function(l){var o=[],b,c,f,d,m;for(var h=-1,n=this.length;++h<n;){f=(d=this[h]).update;o.push(b=[]);b.parentNode=d.parentNode;for(var g=-1,a=d.length;++g<a;){if(m=d[g]){b.push(f[g]=c=l.call(d.parentNode,m.__data__,g,h));c.__data__=m.__data__}else{b.push(null)}}}return oz(o)};m2.insert=function(a,b){if(arguments.length<2){b=iZ(this)}return oE.insert.call(this,a,b)};function iZ(a){var b,c;return function(f,l,m){var g=a[m].update,d=g.length,h;if(m!=c){c=m,b=0}if(l>=b){b=l+1}while(!(h=g[b])&&++b<d){}return h}}iC.select=function(a){var b;if(typeof a==="string"){b=[l1(a,pQ)];b.parentNode=pQ.documentElement}else{b=[a];b.parentNode=lH(a)}return oz([b])};iC.selectAll=function(a){var b;if(typeof a==="string"){b=nc(lP(a,pQ));b.parentNode=pQ.documentElement}else{b=nc(a);b.parentNode=null}return oz([b])};oE.on=function(d,b,c){var a=arguments.length;if(a<3){if(typeof d!=="string"){if(a<2){b=false}for(c in d){this.each(ny(c,d[c],b))}return this}if(a<2){return(a=this.node()["__on"+d])&&a._}c=false}return this.each(ny(d,b,c))};function ny(d,m,c){var b="__on"+d,h=d.indexOf("."),a=jY;if(h>0){d=d.slice(0,h)}var n=p1.get(d);if(n){d=n,a=pK}function l(){var o=this[b];if(o){this.removeEventListener(d,o,o.$);delete this[b]}}function f(){var o=a(m,nc(arguments));l.call(this);this.addEventListener(d,this[b]=o,o.$=c);o._=m}function g(){var o=new RegExp("^__on([^.]+)"+iC.requote(d)+"$"),p;for(var q in this){if(p=q.match(o)){var s=this[q];this.removeEventListener(p[1],s,s.$);delete this[q]}}}return h?m?f:l:m?qP:g}var p1=iC.map({mouseenter:"mouseover",mouseleave:"mouseout"});if(pQ){p1.forEach(function(a){if("on"+a in pQ){p1.remove(a)}})}function jY(b,a){return function(d){var c=iC.event;iC.event=d;a[0]=this.__data__;try{b.apply(this,a)}finally{iC.event=c}}}function pK(a,b){var c=jY(a,b);return function(d){var f=this,g=d.relatedTarget;if(!g||g!==f&&!(g.compareDocumentPosition(f)&8)){c.call(f,d)}}}var nO,kk=0;function pY(a){var d=".dragsuppress-"+ ++kk,b="click"+d,g=iC.select(lG(a)).on("touchmove"+d,mT).on("dragstart"+d,mT).on("selectstart"+d,mT);if(nO==null){nO="onselectstart" in a?false:mo(a.style,"userSelect")}if(nO){var c=lH(a).style,f=c[nO];c[nO]="none"}return function(l){g.on(d,null);if(nO){c[nO]=f}if(l){var h=function(){g.on(b,null)};g.on(b,function(){mT();h()},true);setTimeout(h,0)}}}iC.mouse=function(a){return im(a,qb())};var o8=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function im(f,a){if(a.changedTouches){a=a.changedTouches[0]}var d=f.ownerSVGElement||f;if(d.createSVGPoint){var h=d.createSVGPoint();if(o8<0){var b=lG(f);if(b.scrollX||b.scrollY){d=iC.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var g=d[0][0].getScreenCTM();o8=!(g.f||g.e);d.remove()}}if(o8){h.x=a.pageX,h.y=a.pageY}else{h.x=a.clientX,h.y=a.clientY}h=h.matrixTransform(f.getScreenCTM().inverse());return[h.x,h.y]}var c=f.getBoundingClientRect();return[a.clientX-c.left-f.clientLeft,a.clientY-c.top-f.clientTop]}iC.touch=function(f,c,g){if(arguments.length<3){g=c,c=qb().changedTouches}if(c){for(var d=0,a=c.length,b;d<a;++d){if((b=c[d]).identifier===g){return im(f,b)}}}};iC.behavior.drag=function(){var b=iI(c,"drag","dragstart","dragend"),f=null,g=d(qP,iC.mouse,lG,"mousemove","mouseup"),a=d(iE,iC.touch,jg,"touchmove","touchend");function c(){this.on("mousedown.drag",g).on("touchstart.drag",a)}function d(n,m,o,h,l){return function(){var s=this,q=iC.event.target,x=s.parentNode,p=b.of(s,arguments),B=0,y=n(),A=".drag"+(y==null?"":"-"+y),u,w=iC.select(o(q)).on(h+A,C).on(l+A,z),t=pY(q),v=m(x,y);if(f){u=f.apply(s,arguments);u=[u.x-v[0],u.y-v[1]]}else{u=[0,0]}p({type:"dragstart"});function C(){var E=m(x,y),D,F;if(!E){return}D=E[0]-v[0];F=E[1]-v[1];B|=D|F;v=E;p({type:"drag",x:E[0]+u[0],y:E[1]+u[1],dx:D,dy:F})}function z(){if(!m(x,y)){return}w.on(h+A,null).on(l+A,null);t(B);p({type:"dragend"})}}}c.origin=function(h){if(!arguments.length){return f}f=h;return c};return iC.rebind(c,b,"on")};function iE(){return iC.event.changedTouches[0].identifier}iC.touches=function(a,b){if(arguments.length<2){b=qb().touches}return b?nc(b).map(function(c){var d=im(a,c);d.identifier=c.identifier;return d}):[]};var jd=0.000001,mv=jd*jd,jv=Math.PI,jH=2*jv,kv=jH-jd,k2=jv/2,oZ=jv/180,ju=180/jv;function nW(a){return a>0?1:a<0?-1:0}function nh(c,b,a){return(b[0]-c[0])*(a[1]-c[1])-(b[1]-c[1])*(a[0]-c[0])}function qd(a){return a>1?0:a<-1?jv:Math.acos(a)}function nF(a){return a>1?k2:a<-1?-k2:Math.asin(a)}function mK(a){return((a=Math.exp(a))-1/a)/2}function qa(a){return((a=Math.exp(a))+1/a)/2}function jR(a){return((a=Math.exp(2*a))-1)/(a+1)}function qS(a){return(a=Math.sin(a/2))*a}var jB=Math.SQRT2,qi=2,qn=4;iC.interpolateZoom=function(v,w){var l=v[0],c=v[1],n=v[2],m=w[0],d=w[1],p=w[2],o=m-l,q=d-c,b=o*o+q*q,g,u;if(b<mv){u=Math.log(p/n)/jB;g=function(x){return[l+x*o,c+x*q,n*Math.exp(jB*x*u)]}}else{var a=Math.sqrt(b),s=(p*p-n*n+qn*b)/(2*n*qi*a),t=(p*p-n*n-qn*b)/(2*p*qi*a),f=Math.log(Math.sqrt(s*s+1)-s),h=Math.log(Math.sqrt(t*t+1)-t);u=(h-f)/jB;g=function(A){var z=A*u,y=qa(f),x=n/(qi*a)*(y*jR(jB*z+f)-mK(f));return[l+x*o,c+x*q,n*y/qa(jB*z+f)]}}g.duration=u*1000;return g};iC.behavior.zoom=function(){var u={x:0,y:0,k:1},f,B,b,g=[960,500],I=kP,L=250,l=0,x="mousedown.zoom",c="mousemove.zoom",v="mouseup.zoom",d,p="touchstart.zoom",C,t=iI(J,"zoomstart","zoom","zoomend"),n,s,E,G;if(!kW){kW="onwheel" in pQ?(mH=function(){return -iC.event.deltaY*(iC.event.deltaMode?120:1)},"wheel"):"onmousewheel" in pQ?(mH=function(){return iC.event.wheelDelta},"mousewheel"):(mH=function(){return -iC.event.detail},"MozMousePixelScroll")}function J(M){M.on(x,H).on(kW+".zoom",q).on("dblclick.zoom",y).on(p,F)}J.event=function(M){M.each(function(){var N=t.of(this,arguments),O=u;if(pB){iC.select(this).transition().each("start.zoom",function(){u=this.__chart__||{x:0,y:0,k:1};A(N)}).tween("zoom:zoom",function(){var R=g[0],S=g[1],T=B?B[0]:R/2,P=B?B[1]:S/2,Q=iC.interpolateZoom([(T-u.x)/u.k,(P-u.y)/u.k,R/u.k],[(T-O.x)/O.k,(P-O.y)/O.k,R/O.k]);return function(U){var W=Q(U),V=R/W[2];this.__chart__=u={x:T-W[0]*V,y:P-W[1]*V,k:V};h(N)}}).each("interrupt.zoom",function(){m(N)}).each("end.zoom",function(){m(N)})}else{this.__chart__=u;A(N);h(N);m(N)}})};J.translate=function(M){if(!arguments.length){return[u.x,u.y]}u={x:+M[0],y:+M[1],k:u.k};w();return J};J.scale=function(M){if(!arguments.length){return u.k}u={x:u.x,y:u.y,k:null};D(+M);w();return J};J.scaleExtent=function(M){if(!arguments.length){return I}I=M==null?kP:[+M[0],+M[1]];return J};J.center=function(M){if(!arguments.length){return b}b=M&&[+M[0],+M[1]];return J};J.size=function(M){if(!arguments.length){return g}g=M&&[+M[0],+M[1]];return J};J.duration=function(M){if(!arguments.length){return L}L=+M;return J};J.x=function(M){if(!arguments.length){return s}s=M;n=M.copy();u={x:0,y:0,k:1};return J};J.y=function(M){if(!arguments.length){return G}G=M;E=M.copy();u={x:0,y:0,k:1};return J};function K(M){return[(M[0]-u.x)/u.k,(M[1]-u.y)/u.k]}function z(M){return[M[0]*u.k+u.x,M[1]*u.k+u.y]}function D(M){u.k=Math.max(I[0],Math.min(I[1],M))}function a(M,N){N=z(N);u.x+=M[0]-N[0];u.y+=M[1]-N[1]}function o(N,M,P,O){N.__chart__={x:u.x,y:u.y,k:u.k};D(Math.pow(2,O));a(B=M,P);N=iC.select(N);if(L>0){N=N.transition().duration(L)}N.call(J.event)}function w(){if(s){s.domain(n.range().map(function(M){return(M-u.x)/u.k}).map(n.invert))}if(G){G.domain(E.range().map(function(M){return(M-u.y)/u.k}).map(E.invert))}}function A(M){if(!l++){M({type:"zoomstart"})}}function h(M){w();M({type:"zoom",scale:u.k,translate:[u.x,u.y]})}function m(M){if(!--l){M({type:"zoomend"}),B=null}}function H(){var N=this,R=t.of(N,arguments),T=0,Q=iC.select(lG(N)).on(c,P).on(v,M),S=K(iC.mouse(N)),O=pY(N);ob.call(N);A(R);function P(){T=1;a(iC.mouse(N),S);h(R)}function M(){Q.on(c,null).on(v,null);O(T);m(R)}}function F(){var W=this,U=t.of(W,arguments),aa={},S=0,V,M=".zoom-"+iC.event.changedTouches[0].identifier,ac="touchmove"+M,O="touchend"+M,Z=[],R=iC.select(W),ab=pY(W);T();A(U);R.on(x,null).on(p,T);function N(){var ad=iC.touches(W);V=u.k;ad.forEach(function(ae){if(ae.identifier in aa){aa[ae.identifier]=K(ae)}});return ad}function T(){var am=iC.event.target;iC.select(am).on(ac,Q).on(O,P);Z.push(am);var af=iC.event.changedTouches;for(var ae=0,ag=af.length;ae<ag;++ae){aa[af[ae].identifier]=null}var ad=N(),ah=Date.getEpochTime();if(ad.length===1){if(ah-C<500){var ai=ad[0];o(W,ai,aa[ai.identifier],Math.floor(Math.log(u.k)/Math.LN2)+1);mT()}C=ah}else{if(ad.length>1){var ai=ad[0],aj=ad[1],ak=ai[0]-aj[0],al=ai[1]-aj[1];S=ak*ak+al*al}}}function Q(){var af=iC.touches(W),ak,ah,al,ai;ob.call(W);for(var ag=0,aj=af.length;ag<aj;++ag,ai=null){al=af[ag];if(ai=aa[al.identifier]){if(ah){break}ak=al,ah=ai}}if(ai){var ad=(ad=al[0]-ak[0])*ad+(ad=al[1]-ak[1])*ad,ae=S&&Math.sqrt(ad/S);ak=[(ak[0]+al[0])/2,(ak[1]+al[1])/2];ah=[(ah[0]+ai[0])/2,(ah[1]+ai[1])/2];D(ae*V)}C=null;a(ak,ah);h(U)}function P(){if(iC.event.touches.length){var ae=iC.event.changedTouches;for(var af=0,ad=ae.length;af<ad;++af){delete aa[ae[af].identifier]}for(var ag in aa){return void N()}}iC.selectAll(Z).on(M,null);R.on(x,H).on(p,F);ab();m(U)}}function q(){var M=t.of(this,arguments);if(d){clearTimeout(d)}else{ob.call(this),f=K(B=b||iC.mouse(this)),A(M)}d=setTimeout(function(){d=null;m(M)},50);mT();D(Math.pow(2,mH()*0.002)*u.k);a(B,f);h(M)}function y(){var M=iC.mouse(this),N=Math.log(u.k)/Math.LN2;o(this,M,K(M),iC.event.shiftKey?Math.ceil(N)-1:Math.floor(N)+1)}return iC.rebind(J,t,"on")};var kP=[0,Infinity],mH,kW;iC.color=jP;function jP(){}jP.prototype.toString=function(){return this.rgb()+""};iC.hsl=mm;function mm(a,c,b){return this instanceof mm?void (this.h=+a,this.s=+c,this.l=+b):arguments.length<2?a instanceof mm?new mm(a.h,a.s,a.l):qp(""+a,iT,mm):new mm(a,c,b)}var mG=mm.prototype=new jP();mG.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);return new mm(this.h,this.s,this.l/a)};mG.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return new mm(this.h,this.s,a*this.l)};mG.rgb=function(){return oT(this.h,this.s,this.l)};function oT(b,c,g){var d,f;b=isNaN(b)?0:(b%=360)<0?b+360:b;c=isNaN(c)?0:c<0?0:c>1?1:c;g=g<0?0:g>1?1:g;f=g<=0.5?g*(1+c):g+c-g*c;d=2*g-f;function h(l){if(l>360){l-=360}else{if(l<0){l+=360}}if(l<60){return d+(f-d)*l/60}if(l<180){return f}if(l<240){return d+(f-d)*(240-l)/60}return d}function a(l){return Math.round(h(l)*255)}return new kV(a(b+120),a(b),a(b-120))}iC.hcl=qe;function qe(c,a,b){return this instanceof qe?void (this.h=+c,this.c=+a,this.l=+b):arguments.length<2?c instanceof qe?new qe(c.h,c.c,c.l):c instanceof ng?kr(c.l,c.a,c.b):kr((c=os((c=iC.rgb(c)).r,c.g,c.b)).l,c.a,c.b):new qe(c,a,b)}var iK=qe.prototype=new jP();iK.brighter=function(a){return new qe(this.h,this.c,Math.min(100,this.l+od*(arguments.length?a:1)))};iK.darker=function(a){return new qe(this.h,this.c,Math.max(0,this.l-od*(arguments.length?a:1)))};iK.rgb=function(){return qc(this.h,this.c,this.l).rgb()};function qc(c,a,b){if(isNaN(c)){c=0}if(isNaN(a)){a=0}return new ng(b,Math.cos(c*=oZ)*a,Math.sin(c)*a)}iC.lab=ng;function ng(a,c,b){return this instanceof ng?void (this.l=+a,this.a=+c,this.b=+b):arguments.length<2?a instanceof ng?new ng(a.l,a.a,a.b):a instanceof qe?qc(a.h,a.c,a.l):os((a=kV(a)).r,a.g,a.b):new ng(a,c,b)}var od=18;var oQ=0.95047,oW=1,o5=1.08883;var kI=ng.prototype=new jP();kI.brighter=function(a){return new ng(Math.min(100,this.l+od*(arguments.length?a:1)),this.a,this.b)};kI.darker=function(a){return new ng(Math.max(0,this.l-od*(arguments.length?a:1)),this.a,this.b)};kI.rgb=function(){return qU(this.l,this.a,this.b)};function qU(c,d,g){var a=(c+16)/116,f=a+d/500,b=a-g/200;f=k6(f)*oQ;a=k6(a)*oW;b=k6(b)*o5;return new kV(nV(3.2404542*f-1.5371385*a-0.4985314*b),nV(-0.969266*f+1.8760108*a+0.041556*b),nV(0.0556434*f-0.2040259*a+1.0572252*b))}function kr(a,c,b){return a>0?new qe(Math.atan2(b,c)*ju,Math.sqrt(c*c+b*b),a):new qe(NaN,NaN,a)}function k6(a){return a>0.206893034?a*a*a:(a-4/29)/7.787037}function i7(a){return a>0.008856?Math.pow(a,1/3):7.787037*a+4/29}function nV(a){return Math.round(255*(a<=0.00304?12.92*a:1.055*Math.pow(a,1/2.4)-0.055))}iC.rgb=kV;function kV(a,c,b){return this instanceof kV?void (this.r=~~a,this.g=~~c,this.b=~~b):arguments.length<2?a instanceof kV?new kV(a.r,a.g,a.b):qp(""+a,kV,oT):new kV(a,c,b)}function ms(a){return new kV(a>>16,a>>8&255,a&255)}function lJ(a){return ms(a)+""}var ml=kV.prototype=new jP();ml.brighter=function(f){f=Math.pow(0.7,arguments.length?f:1);var a=this.r,b=this.g,d=this.b,c=30;if(!a&&!b&&!d){return new kV(c,c,c)}if(a&&a<c){a=c}if(b&&b<c){b=c}if(d&&d<c){d=c}return new kV(Math.min(255,a/f),Math.min(255,b/f),Math.min(255,d/f))};ml.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return new kV(a*this.r,a*this.g,a*this.b)};ml.hsl=function(){return iT(this.r,this.g,this.b)};ml.toString=function(){return"#"+mM(this.r)+mM(this.g)+mM(this.b)};function mM(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function qp(g,l,f){var b=0,m=0,h=0,c,d,a;c=/([a-z]+)\((.*)\)/.exec(g=g.toLowerCase());if(c){d=c[2].split(",");switch(c[1]){case"hsl":return f(parseFloat(d[0]),parseFloat(d[1])/100,parseFloat(d[2])/100);case"rgb":return l(lL(d[0]),lL(d[1]),lL(d[2]))}}if(a=pT.get(g)){return l(a.r,a.g,a.b)}if(g!=null&&g.charAt(0)==="#"&&!isNaN(a=parseInt(g.slice(1),16))){if(g.length===4){b=(a&3840)>>4;b=b>>4|b;m=a&240;m=m>>4|m;h=a&15;h=h<<4|h}else{if(g.length===7){b=(a&16711680)>>16;m=(a&65280)>>8;h=a&255}}}return l(b,m,h)}function iT(b,h,f){var m=Math.min(b/=255,h/=255,f/=255),d=Math.max(b,h,f),g=d-m,l,c,a=(d+m)/2;if(g){c=a<0.5?g/(d+m):g/(2-d-m);if(b==d){l=(h-f)/g+(h<f?6:0)}else{if(h==d){l=(f-b)/g+2}else{l=(b-h)/g+4}}l*=60}else{l=NaN;c=a>0&&a<1?0:l}return new mm(l,c,a)}function os(c,d,g){c=nL(c);d=nL(d);g=nL(g);var f=i7((0.4124564*c+0.3575761*d+0.1804375*g)/oQ),a=i7((0.2126729*c+0.7151522*d+0.072175*g)/oW),b=i7((0.0193339*c+0.119192*d+0.9503041*g)/o5);return ng(116*a-16,500*(f-a),200*(a-b))}function nL(a){return(a/=255)<=0.04045?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function lL(b){var a=parseFloat(b);return b.charAt(b.length-1)==="%"?Math.round(a*2.55):a}var pT=iC.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});pT.forEach(function(a,b){pT.set(a,ms(b))});function oy(a){return typeof a==="function"?a:function(){return a}}iC.functor=oy;iC.xhr=n5(jg);function n5(a){return function(d,c,b){if(arguments.length===2&&typeof c==="function"){b=c,c=null}return kd(d,c,a,b)}}function kd(b,n,l,d){var c={},f=iC.dispatch("beforesend","progress","load","error"),m={},h=new XMLHttpRequest(),g=null;if(this.XDomainRequest&&!("withCredentials" in h)&&/^(http(s)?:)?\/\//.test(b)){h=new XDomainRequest()}"onload" in h?h.onload=h.onerror=a:h.onreadystatechange=function(){h.readyState>3&&a()};function a(){var p=h.status,q;if(!p&&lm(h)||p>=200&&p<300||p===304){try{q=l.call(c,h)}catch(o){f.error.call(c,o);return}f.load.call(c,q)}else{f.error.call(c,h)}}h.onprogress=function(p){var o=iC.event;iC.event=p;try{f.progress.call(c,h)}finally{iC.event=o}};c.header=function(p,o){p=(p+"").toLowerCase();if(arguments.length<2){return m[p]}if(o==null){delete m[p]}else{m[p]=o+""}return c};c.mimeType=function(o){if(!arguments.length){return n}n=o==null?null:o+"";return c};c.responseType=function(o){if(!arguments.length){return g}g=o;return c};c.response=function(o){l=o;return c};["get","post"].forEach(function(o){c[o]=function(){return c.send.apply(c,[o].concat(nc(arguments)))}});c.send=function(o,q,p){if(arguments.length===2&&typeof q==="function"){p=q,q=null}h.open(o,b,true);if(n!=null&&!("accept" in m)){m.accept=n+",*/*"}if(h.setRequestHeader){for(var s in m){h.setRequestHeader(s,m[s])}}if(n!=null&&h.overrideMimeType){h.overrideMimeType(n)}if(g!=null){h.responseType=g}if(p!=null){c.on("error",p).on("load",function(t){p(null,t)})}f.beforesend.call(c,h);h.send(q==null?null:q);return c};c.abort=function(){h.abort();return c};iC.rebind(c,f,"on");return d==null?c:c.get(n8(d))}function n8(a){return a.length===1?function(c,b){a(c==null?b:null)}:a}function lm(b){var a=b.responseType;return a&&a!=="text"?b.response:b.responseText}iC.dsv=function(b,a){var l=new RegExp('["'+b+"\n]"),g=b.charCodeAt(0);function d(q,o,n){if(arguments.length<3){n=o,o=null}var p=kd(q,a,o==null?h:m(o),n);p.row=function(s){return arguments.length?p.response((o=s)==null?h:m(s)):o};return p}function h(n){return d.parse(n.responseText)}function m(n){return function(o){return d.parse(o.responseText,n)}}d.parse=function(n,p){var o;return d.parseRows(n,function(q,s){if(o){return o(q,s-1)}var t=new Function("d","return {"+q.map(function(v,u){return JSON.stringify(v)+": d["+u+"]"}).join(",")+"}");o=p?function(u,v){return p(t(u),v)}:t})};d.parseRows=function(o,u){var x={},v={},z=[],t=o.length,p=0,y=0,n,s;function w(){if(p>=t){return v}if(s){return s=false,x}var D=p;if(o.charCodeAt(D)===34){var C=D;while(C++<t){if(o.charCodeAt(C)===34){if(o.charCodeAt(C+1)!==34){break}++C}}p=C+2;var B=o.charCodeAt(C+1);if(B===13){s=true;if(o.charCodeAt(C+2)===10){++p}}else{if(B===10){s=true}}return o.slice(D+1,C).replace(/""/g,'"')}while(p<t){var B=o.charCodeAt(p++),A=1;if(B===10){s=true}else{if(B===13){s=true;if(o.charCodeAt(p)===10){++p,++A}}else{if(B!==g){continue}}}return o.slice(D,p-A)}return o.slice(D)}while((n=w())!==v){var q=[];while(n!==x&&n!==v){q.push(n);n=w()}if(u&&(q=u(q,y++))==null){continue}z.push(q)}return z};d.format=function(n){if(Array.isArray(n[0])){return d.formatRows(n)}var o=new lX(),p=[];n.forEach(function(q){for(var s in q){if(!o.has(s)){p.push(o.add(s))}}});return[p.map(f).join(b)].concat(n.map(function(q){return p.map(function(s){return f(q[s])}).join(b)})).join("\n")};d.formatRows=function(n){return n.map(c).join("\n")};function c(n){return n.map(f).join(b)}function f(n){return l.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}return d};iC.csv=iC.dsv(",","text/csv");iC.tsv=iC.dsv("	","text/tab-separated-values");var op,p8,m7,kq,iw=this[mo(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};iC.timer=function(){k1.apply(this,arguments)};function k1(a,f,d){var b=arguments.length;if(b<2){f=0}if(b<3){d=Date.getEpochTime()}var g=d+f,c={c:a,t:g,n:null};if(p8){p8.n=c}else{op=c}p8=c;if(!m7){kq=clearTimeout(kq);m7=1;iw(iv)}return c}function iv(){var b=p9(),a=qf()-b;if(a>24){if(isFinite(a)){clearTimeout(kq);kq=setTimeout(iv,a)}m7=0}else{m7=1;iw(iv)}}iC.timer.flush=function(){p9();qf()};function p9(){var a=Date.getEpochTime(),b=op;while(b){if(a>=b.t&&b.c(a-b.t)){b.c=null}b=b.n}return a}function qf(){var c,b=op,a=Infinity;while(b){if(b.c){if(b.t<a){a=b.t}b=(c=b).n}else{b=c?c.n=b.n:op=b.n}}p8=c;return a}function lq(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}iC.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var mQ=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(ni);iC.formatPrefix=function(a,b){var c=0;if(a=+a){if(a<0){a*=-1}if(b){a=iC.round(a,lq(a,b))}c=1+Math.floor(1e-12+Math.log(a)/Math.LN10);c=Math.max(-24,Math.min(24,Math.floor((c-1)/3)*3))}return mQ[8+c/3]};function ni(a,c){var b=Math.pow(10,o0(8-c)*3);return{scale:c>8?function(d){return d/b}:function(d){return d*b},symbol:a}}function ot(f){var c=f.decimal,a=f.thousands,b=f.grouping,d=f.currency,g=b&&a?function(n,q){var h=n.length,l=[],m=0,o=b[0],p=0;while(h>0&&o>0){if(p+o+1>q){o=Math.max(1,q-p)}l.push(n.substring(h-=o,h+o));if((p+=o+1)>q){break}o=b[m=(m+1)%b.length]}return l.reverse().join(a)}:jg;return function(h){var p=pl.exec(h),w=p[1]||" ",n=p[2]||">",A=p[3]||"-",y=p[4]||"",v=p[5],B=+p[6],u=p[7],q=p[8],m=p[9],z=1,o="",x="",s=false,l=true;if(q){q=+q.substring(1)}if(v||w==="0"&&n==="="){v=w="0";n="="}switch(m){case"n":u=true;m="g";break;case"%":z=100;x="%";m="f";break;case"p":z=100;x="%";m="r";break;case"b":case"o":case"x":case"X":if(y==="#"){o="0"+m.toLowerCase()}case"c":l=false;case"d":s=true;q=0;break;case"s":z=-1;m="r";break}if(y==="$"){o=d[0],x=d[1]}if(m=="r"&&!q){m="g"}if(q!=null){if(m=="g"){q=Math.max(1,Math.min(21,q))}else{if(m=="e"||m=="f"){q=Math.max(0,Math.min(20,q))}}}m=mP.get(m)||ov;var t=v&&u;return function(D){var F=x;if(s&&D%1){return""}var J=D<0||D===0&&1/D<0?(D=-D,"-"):A==="-"?"":A;if(z<0){var C=iC.formatPrefix(D,q);D=C.scale(D);F=C.symbol+x}else{D*=z}D=m(D,q);var H=D.lastIndexOf("."),E,L;if(H<0){var I=l?D.lastIndexOf("e"):-1;if(I<0){E=D,L=""}else{E=D.substring(0,I),L=D.substring(I)}}else{E=D.substring(0,H);L=c+D.substring(H+1)}if(!v&&u){E=g(E,Infinity)}var K=o.length+E.length+L.length+(t?0:J.length),G=K<B?new Array(K=B-K+1).join(w):"";if(t){E=g(G+E,G.length?B-L.length:Infinity)}J+=o;D=E+L;return(n==="<"?J+D+G:n===">"?G+J+D:n==="^"?G.substring(0,K>>=1)+J+D+G.substring(K):J+(t?D:G+D))+F}}}var pl=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var mP=iC.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=iC.round(a,lq(a,b))).toFixed(Math.max(0,Math.min(20,lq(a*(1+1e-15),b))))}});function ov(a){return a+""}var lr=iC.time={},iy=Date;function nq(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}nq.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){l7.setUTCDate.apply(this._,arguments)},setDay:function(){l7.setUTCDay.apply(this._,arguments)},setFullYear:function(){l7.setUTCFullYear.apply(this._,arguments)},setHours:function(){l7.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){l7.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){l7.setUTCMinutes.apply(this._,arguments)},setMonth:function(){l7.setUTCMonth.apply(this._,arguments)},setSeconds:function(){l7.setUTCSeconds.apply(this._,arguments)},setTime:function(){l7.setTime.apply(this._,arguments)}};var l7=Date.prototype;function pR(g,b,a){function c(p){var n=g(p),o=l(n,1);return p-n<o-p?n:o}function d(n){b(n=g(new iy(n-1)),1);return n}function l(n,o){b(n=new iy(+n),o);return n}function h(p,q,s){var o=d(p),n=[];if(s>1){while(o<q){if(!(a(o)%s)){n.push(new Date(+o))}b(o,1)}}else{while(o<q){n.push(new Date(+o)),b(o,1)}}return n}function m(n,o,p){try{iy=nq;var q=new nq();q._=n;return h(q,o,p)}finally{iy=Date}}g.floor=g;g.round=c;g.ceil=d;g.offset=l;g.range=h;var f=g.utc=mZ(g);f.floor=f;f.round=mZ(c);f.ceil=mZ(d);f.offset=mZ(l);f.range=m;return g}function mZ(a){return function(c,d){try{iy=nq;var b=new nq();b._=c;return a(b,d)._}finally{iy=Date}}}lr.year=pR(function(a){a=lr.day(a);a.setMonth(0,1);return a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()});lr.years=lr.year.range;lr.years.utc=lr.year.utc.range;lr.day=pR(function(b){var a=new iy(2000,0);a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate());return a},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});lr.days=lr.day.range;lr.days.utc=lr.day.utc.range;lr.dayOfYear=function(a){var b=lr.year(a);return Math.floor((a-b-(a.getTimezoneOffset()-b.getTimezoneOffset())*60000)/86400000)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(c,a){a=7-a;var b=lr[c]=pR(function(d){(d=lr.day(d)).setDate(d.getDate()-(d.getDay()+a)%7);return d},function(f,d){f.setDate(f.getDate()+Math.floor(d)*7)},function(d){var f=lr.year(d).getDay();return Math.floor((lr.dayOfYear(d)+(f+a)%7)/7)-(f!==a)});lr[c+"s"]=b.range;lr[c+"s"].utc=b.utc.range;lr[c+"OfYear"]=function(d){var f=lr.year(d).getDay();return Math.floor((lr.dayOfYear(d)+(f+a)%7)/7)}});lr.week=lr.sunday;lr.weeks=lr.sunday.range;lr.weeks.utc=lr.sunday.utc.range;lr.weekOfYear=lr.sundayOfYear;function pF(c){var s=c.dateTime,q=c.date,H=c.time,A=c.periods,I=c.days,z=c.shortDays,u=c.months,E=c.shortMonths;function t(L){var J=L.length;function K(Q){var R=[],P=-1,S=0,M,N,O;while(++P<J){if(L.charCodeAt(P)===37){R.push(L.slice(S,P));if((N=qF[M=L.charAt(++P)])!=null){M=L.charAt(++P)}if(O=x[M]){M=O(Q,N==null?M==="e"?" ":"0":N)}R.push(M);S=P+1}}R.push(L.slice(S,P));return R.join("")}K.parse=function(O){var M={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},N=h(M,L,O,0);if(N!=O.length){return null}if("p" in M){M.H=M.H%12+M.p*12}var Q=M.Z!=null&&iy!==nq,P=new (Q?nq:iy)();if("j" in M){P.setFullYear(M.y,0,M.j)}else{if("W" in M||"U" in M){if(!("w" in M)){M.w="W" in M?1:0}P.setFullYear(M.y,0,1);P.setFullYear(M.y,0,"W" in M?(M.w+6)%7+M.W*7-(P.getDay()+5)%7:M.w+M.U*7-(P.getDay()+6)%7)}else{P.setFullYear(M.y,M.m,M.d)}}P.setHours(M.H+(M.Z/100|0),M.M+M.Z%100,M.S,M.L);return Q?P._:P};K.toString=function(){return L};return K}function h(K,P,R,J){var Q,N,O,S=0,M=P.length,L=R.length;while(S<M){if(J>=L){return -1}Q=P.charCodeAt(S++);if(Q===37){O=P.charAt(S++);N=a[O in qF?P.charAt(S++):O];if(!N||(J=N(K,R,J))<0){return -1}}else{if(Q!=R.charCodeAt(J++)){return -1}}}return J}t.utc=function(K){var L=t(K);function J(N){try{iy=nq;var M=new iy();M._=N;return L(M)}finally{iy=Date}}J.parse=function(M){try{iy=nq;var N=L.parse(M);return N&&N._}finally{iy=Date}};J.toString=L.toString;return J};t.multi=t.utc.multi=i8;var o=iC.map(),m=oO(I),g=jT(I),n=oO(z),D=jT(z),f=oO(u),b=jT(u),y=oO(E),F=jT(E);A.forEach(function(J,K){o.set(J.toLowerCase(),K)});var x={a:function(J){return z[J.getDay()]},A:function(J){return I[J.getDay()]},b:function(J){return E[J.getMonth()]},B:function(J){return u[J.getMonth()]},c:t(s),d:function(J,K){return nZ(J.getDate(),K,2)},e:function(J,K){return nZ(J.getDate(),K,2)},H:function(J,K){return nZ(J.getHours(),K,2)},I:function(J,K){return nZ(J.getHours()%12||12,K,2)},j:function(J,K){return nZ(1+lr.dayOfYear(J),K,3)},L:function(J,K){return nZ(J.getMilliseconds(),K,3)},m:function(J,K){return nZ(J.getMonth()+1,K,2)},M:function(J,K){return nZ(J.getMinutes(),K,2)},p:function(J){return A[+(J.getHours()>=12)]},S:function(J,K){return nZ(J.getSeconds(),K,2)},U:function(J,K){return nZ(lr.sundayOfYear(J),K,2)},w:function(J){return J.getDay()},W:function(J,K){return nZ(lr.mondayOfYear(J),K,2)},x:t(q),X:t(H),y:function(J,K){return nZ(J.getFullYear()%100,K,2)},Y:function(J,K){return nZ(J.getFullYear()%10000,K,4)},Z:kN,"%":function(){return"%"}};var a={a:w,A:G,b:p,B:d,c:B,d:qA,e:qA,H:qC,I:qC,j:pc,L:jL,m:km,M:oa,p:l,S:oI,U:n9,w:mR,W:nA,x:v,X:C,y:oK,Y:qj,Z:ie,"%":jQ};function w(K,L,J){n.lastIndex=0;var M=n.exec(L.slice(J));return M?(K.w=D.get(M[0].toLowerCase()),J+M[0].length):-1}function G(K,L,J){m.lastIndex=0;var M=m.exec(L.slice(J));return M?(K.w=g.get(M[0].toLowerCase()),J+M[0].length):-1}function p(K,L,J){y.lastIndex=0;var M=y.exec(L.slice(J));return M?(K.m=F.get(M[0].toLowerCase()),J+M[0].length):-1}function d(K,L,J){f.lastIndex=0;var M=f.exec(L.slice(J));return M?(K.m=b.get(M[0].toLowerCase()),J+M[0].length):-1}function B(K,L,J){return h(K,x.c.toString(),L,J)}function v(K,L,J){return h(K,x.x.toString(),L,J)}function C(K,L,J){return h(K,x.X.toString(),L,J)}function l(K,L,J){var M=o.get(L.slice(J,J+=2).toLowerCase());return M==null?-1:(K.p=M,J)}return t}var qF={"-":"",_:" ","0":"0"},lS=/^\s*\d+/,kH=/^%/;function nZ(b,a,d){var f=b<0?"-":"",g=(f?-b:b)+"",c=g.length;return f+(c<d?new Array(d-c+1).join(a)+g:g)}function oO(a){return new RegExp("^(?:"+a.map(iC.requote).join("|")+")","i")}function jT(b){var d=new qO(),c=-1,a=b.length;while(++c<a){d.set(b[c].toLowerCase(),c)}return d}function mR(d,c,b){lS.lastIndex=0;var a=lS.exec(c.slice(b,b+1));return a?(d.w=+a[0],b+a[0].length):-1}function n9(d,c,b){lS.lastIndex=0;var a=lS.exec(c.slice(b));return a?(d.U=+a[0],b+a[0].length):-1}function nA(d,c,b){lS.lastIndex=0;var a=lS.exec(c.slice(b));return a?(d.W=+a[0],b+a[0].length):-1}function qj(d,c,b){lS.lastIndex=0;var a=lS.exec(c.slice(b,b+4));return a?(d.y=+a[0],b+a[0].length):-1}function oK(d,c,b){lS.lastIndex=0;var a=lS.exec(c.slice(b,b+2));return a?(d.y=pL(+a[0]),b+a[0].length):-1}function ie(c,b,a){return/^[+-]\d{4}$/.test(b=b.slice(a,a+5))?(c.Z=-b,a+5):-1}function pL(a){return a+(a>68?1900:2000)}function km(d,c,b){lS.lastIndex=0;var a=lS.exec(c.slice(b,b+2));return a?(d.m=a[0]-1,b+a[0].length):-1}function qA(d,c,b){lS.lastIndex=0;var a=lS.exec(c.slice(b,b+2));return a?(d.d=+a[0],b+a[0].length):-1}function pc(d,c,b){lS.lastIndex=0;var a=lS.exec(c.slice(b,b+3));return a?(d.j=+a[0],b+a[0].length):-1}function qC(d,c,b){lS.lastIndex=0;var a=lS.exec(c.slice(b,b+2));return a?(d.H=+a[0],b+a[0].length):-1}function oa(d,c,b){lS.lastIndex=0;var a=lS.exec(c.slice(b,b+2));return a?(d.M=+a[0],b+a[0].length):-1}function oI(d,c,b){lS.lastIndex=0;var a=lS.exec(c.slice(b,b+2));return a?(d.S=+a[0],b+a[0].length):-1}function jL(d,c,b){lS.lastIndex=0;var a=lS.exec(c.slice(b,b+3));return a?(d.L=+a[0],b+a[0].length):-1}function kN(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",f=o0(b)/60|0,d=o0(b)%60;return c+nZ(f,"0",2)+nZ(d,"0",2)}function jQ(d,c,b){kH.lastIndex=0;var a=kH.exec(c.slice(b,b+1));return a?b+a[0].length:-1}function i8(b){var a=b.length,c=-1;while(++c<a){b[c][0]=this(b[c][0])}return function(g){var f=0,d=b[f];while(!d[1](g)){d=b[++f]}return d[0](g)}}iC.locale=function(a){return{numberFormat:ot(a),timeFormat:pF(a)}};var mn=iC.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});iC.format=mn.numberFormat;iC.geo={};function kz(){}kz.prototype={s:0,t:0,add:function(a){l4(a,this.t,jb);l4(jb.s,this.s,this);if(this.s){this.t+=jb.t}else{this.s=jb.t}},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var jb=new kz();function l4(c,d,a){var g=a.s=c+d,f=g-c,b=g-f;a.t=c-b+(d-f)}iC.geo.stream=function(a,b){if(a&&po.hasOwnProperty(a.type)){po[a.type](a,b)}else{qE(a,b)}};function qE(b,a){if(b&&lY.hasOwnProperty(b.type)){lY[b.type](b,a)}}var po={Feature:function(a,b){qE(a.geometry,b)},FeatureCollection:function(d,b){var c=d.features,f=-1,a=c.length;while(++f<a){qE(c[f].geometry,b)}}};var lY={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(d,c){var b=d.coordinates,f=-1,a=b.length;while(++f<a){d=b[f],c.point(d[0],d[1],d[2])}},LineString:function(a,b){nd(a.coordinates,b,0)},MultiLineString:function(d,c){var b=d.coordinates,f=-1,a=b.length;while(++f<a){nd(b[f],c,0)}},Polygon:function(a,b){iL(a.coordinates,b)},MultiPolygon:function(d,c){var b=d.coordinates,f=-1,a=b.length;while(++f<a){iL(b[f],c)}},GeometryCollection:function(d,b){var c=d.geometries,f=-1,a=c.length;while(++f<a){qE(c[f],b)}}};function nd(c,d,f){var g=-1,a=c.length-f,b;d.lineStart();while(++g<a){b=c[g],d.point(b[0],b[1],b[2])}d.lineEnd()}function iL(b,d){var c=-1,a=b.length;d.polygonStart();while(++c<a){nd(b[c],d,1)}d.polygonEnd()}iC.geo.area=function(a){pe=0;iC.geo.stream(a,iF);return pe};var pe,k4=new kz();var iF={sphere:function(){pe+=4*jv},point:qP,lineStart:qP,lineEnd:qP,polygonStart:function(){k4.reset();iF.lineStart=qu},polygonEnd:function(){var a=2*k4;pe+=a<0?4*jv+a:a;iF.lineStart=iF.lineEnd=iF.point=qP}};function qu(){var g,f,c,d,b;iF.point=function(h,l){iF.point=a;c=(g=h)*oZ,d=Math.cos(l=(f=l)*oZ/2+jv/4),b=Math.sin(l)};function a(s,h){s*=oZ;h=h*oZ/2+jv/4;var o=s-c,p=o>=0?1:-1,n=p*o,u=Math.cos(h),q=Math.sin(h),t=b*q,l=d*u+t*Math.cos(n),m=t*p*Math.sin(n);k4.add(Math.atan2(m,l));c=s,d=u,b=q}iF.lineEnd=function(){a(g,f)}}function pt(c){var b=c[0],d=c[1],a=Math.cos(d);return[a*Math.cos(b),a*Math.sin(b),Math.sin(d)]}function qY(b,a){return b[0]*a[0]+b[1]*a[1]+b[2]*a[2]}function pX(b,a){return[b[1]*a[2]-b[2]*a[1],b[2]*a[0]-b[0]*a[2],b[0]*a[1]-b[1]*a[0]]}function pf(b,a){b[0]+=a[0];b[1]+=a[1];b[2]+=a[2]}function jt(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function kh(b){var a=Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2]);b[0]/=a;b[1]/=a;b[2]/=a}function ir(a){return[Math.atan2(a[1],a[0]),nF(a[2])]}function lV(b,a){return o0(b[0]-a[0])<jd&&o0(b[1]-a[1])<jd}iC.geo.bounds=function(){var x,a,z,c,w,n,h,v,s,u,q;var A={point:g,lineStart:p,lineEnd:d,polygonStart:function(){A.point=f;A.lineStart=t;A.lineEnd=l;s=0;iF.polygonStart()},polygonEnd:function(){iF.polygonEnd();A.point=g;A.lineStart=p;A.lineEnd=d;if(k4<0){x=-(z=180),a=-(c=90)}else{if(s>jd){c=90}else{if(s<-jd){a=-90}}}q[0]=x,q[1]=z}};function g(B,C){u.push(q=[x=B,z=B]);if(C<a){a=C}if(C>c){c=C}}function y(H,B){var L=pt([H*oZ,B*oZ]);if(v){var F=pX(v,L),E=[F[1],-F[0],0],G=pX(E,F);kh(G);G=ir(G);var D=H-w,C=D>0?1:-1,K=G[0]*ju*C,I=o0(D)>180;if(I^(C*w<K&&K<C*H)){var J=G[1]*ju;if(J>c){c=J}}else{if(K=(K+360)%360-180,I^(C*w<K&&K<C*H)){var J=-G[1]*ju;if(J<a){a=J}}else{if(B<a){a=B}if(B>c){c=B}}}if(I){if(H<w){if(b(x,H)>b(x,z)){z=H}}else{if(b(H,z)>b(x,z)){x=H}}}else{if(z>=x){if(H<x){x=H}if(H>z){z=H}}else{if(H>w){if(b(x,H)>b(x,z)){z=H}}else{if(b(H,z)>b(x,z)){x=H}}}}}else{g(H,B)}v=L,w=H}function p(){A.point=y}function d(){q[0]=x,q[1]=z;A.point=g;v=null}function f(C,D){if(v){var B=C-w;s+=o0(B)>180?B+(B>0?360:-360):B}else{n=C,h=D}iF.point(C,D);y(C,D)}function t(){iF.lineStart()}function l(){f(n,h);iF.lineEnd();if(o0(s)>jd){x=-(z=180)}q[0]=x,q[1]=z;v=null}function b(B,C){return(C-=B)<0?C+360:C}function m(B,C){return B[0]-C[0]}function o(C,B){return B[0]<=B[1]?B[0]<=C&&C<=B[1]:C<B[0]||B[1]<C}return function(D){c=z=-(x=a=Infinity);u=[];iC.geo.stream(D,A);var B=u.length;if(B){u.sort(m);for(var E=1,G=u[0],H,I=[G];E<B;++E){H=u[E];if(o(H[0],G)||o(H[1],G)){if(b(G[0],H[1])>b(G[0],G[1])){G[1]=H[1]}if(b(H[0],G[1])>b(G[0],G[1])){G[0]=H[0]}}else{I.push(G=H)}}var C=-Infinity,F;for(var B=I.length-1,E=0,G=I[B],H;E<=B;G=H,++E){H=I[E];if((F=b(G[1],H[0]))>C){C=F,x=H[0],z=G[1]}}}u=q=null;return x===Infinity||a===Infinity?[[NaN,NaN],[NaN,NaN]]:[[x,a],[z,c]]}}();iC.geo.centroid=function(c){lz=lC=nt=me=pz=nv=mh=pG=nz=mi=pI=0;iC.geo.stream(c,jp);var f=nz,a=mi,b=pI,d=f*f+a*a+b*b;if(d<mv){f=nv,a=mh,b=pG;if(lC<jd){f=nt,a=me,b=pz}d=f*f+a*a+b*b;if(d<mv){return[NaN,NaN]}}return[Math.atan2(a,f)*ju,nF(b/Math.sqrt(d))*ju]};var lz,lC,nt,me,pz,nv,mh,pG,nz,mi,pI;var jp={sphere:qP,point:nT,lineStart:kj,lineEnd:qR,polygonStart:function(){jp.lineStart=og},polygonEnd:function(){jp.lineStart=kj}};function nT(c,b){c*=oZ;var a=Math.cos(b*=oZ);i1(a*Math.cos(c),a*Math.sin(c),Math.sin(b))}function i1(b,a,c){++lz;nt+=(b-nt)/lz;me+=(a-me)/lz;pz+=(c-pz)/lz}function kj(){var c,d,a;jp.point=function(g,h){g*=oZ;var f=Math.cos(h*=oZ);c=f*Math.cos(g);d=f*Math.sin(g);a=Math.sin(h);jp.point=b;i1(c,d,a)};function b(g,h){g*=oZ;var f=Math.cos(h*=oZ),m=f*Math.cos(g),n=f*Math.sin(g),o=Math.sin(h),l=Math.atan2(Math.sqrt((l=d*o-a*n)*l+(l=a*m-c*o)*l+(l=c*n-d*m)*l),c*m+d*n+a*o);lC+=l;nv+=l*(c+(c=m));mh+=l*(d+(d=n));pG+=l*(a+(a=o));i1(c,d,a)}}function qR(){jp.point=nT}function og(){var g,f,d,c,a;jp.point=function(l,m){g=l,f=m;jp.point=b;l*=oZ;var h=Math.cos(m*=oZ);d=h*Math.cos(l);c=h*Math.sin(l);a=Math.sin(m);i1(d,c,a)};jp.lineEnd=function(){b(g,f);jp.lineEnd=qR;jp.point=nT};function b(s,h){s*=oZ;var u=Math.cos(h*=oZ),o=u*Math.cos(s),p=u*Math.sin(s),q=Math.sin(h),t=c*q-a*p,v=a*o-d*q,w=d*p-c*o,x=Math.sqrt(t*t+v*v+w*w),l=d*o+c*p+a*q,m=x&&-qd(l)/x,n=Math.atan2(x,l);nz+=m*t;mi+=m*v;pI+=m*w;lC+=n;nv+=n*(d+(d=o));mh+=n*(c+(c=p));pG+=n*(a+(a=q));i1(d,c,a)}}function mU(c,b){function a(f,d){return f=c(f,d),b(f[0],f[1])}if(c.invert&&b.invert){a.invert=function(f,d){return f=b.invert(f,d),f&&c.invert(f[0],f[1])}}return a}function p4(){return true}function m3(o,a,h,m,s){var l=[],q=[];o.forEach(function(v){if((u=v.length-1)<=0){return}var u,x=v[0],A=v[u];if(lV(x,A)){s.lineStart();for(var w=0;w<u;++w){s.point((x=v[w])[0],x[1])}s.lineEnd();return}var y=new nY(x,v,null,true),z=new nY(x,null,y,false);y.o=z;l.push(y);q.push(z);y=new nY(A,v,null,false);z=new nY(A,null,y,true);y.o=z;l.push(y);q.push(z)});q.sort(a);jl(l);jl(q);if(!l.length){return}for(var p=0,d=h,t=q.length;p<t;++p){q[p].e=d=!d}var g=l[0],c,f;while(1){var n=g,b=true;while(n.v){if((n=n.n)===g){return}}c=n.z;s.lineStart();do{n.v=n.o.v=true;if(n.e){if(b){for(var p=0,t=c.length;p<t;++p){s.point((f=c[p])[0],f[1])}}else{m(n.x,n.n.x,1,s)}n=n.n}else{if(b){c=n.p.z;for(var p=c.length-1;p>=0;--p){s.point((f=c[p])[0],f[1])}}else{m(n.x,n.p.x,-1,s)}n=n.p}n=n.o;c=n.z;b=!b}while(!n.v);s.lineEnd()}}function jl(a){if(!(b=a.length)){return}var b,c=0,f=a[0],d;while(++c<b){f.n=d=a[c];d.p=f;f=d}f.n=d=a[0];d.p=f}function nY(d,b,c,a){this.x=d;this.z=b;this.o=c;this.e=a;this.v=false;this.n=this.p=null}function ln(c,a,d,b){return function(f,w){var p=a(w),x=f.invert(b[0],b[1]);var q={point:l,lineStart:n,lineEnd:t,polygonStart:function(){q.point=z;q.lineStart=v;q.lineEnd=m;h=[];o=[]},polygonEnd:function(){q.point=l;q.lineStart=n;q.lineEnd=t;h=iC.merge(h);var B=ld(x,o);if(h.length){if(!y){w.polygonStart(),y=true}m3(h,mN,B,d,w)}else{if(B){if(!y){w.polygonStart(),y=true}w.lineStart();d(null,null,1,w);w.lineEnd()}}if(y){w.polygonEnd(),y=false}h=o=null},sphere:function(){w.polygonStart();w.lineStart();d(null,null,1,w);w.lineEnd();w.polygonEnd()}};function l(B,C){var D=f(B,C);if(c(B=D[0],C=D[1])){w.point(B,C)}}function u(B,C){var D=f(B,C);p.point(D[0],D[1])}function n(){q.point=u;p.lineStart()}function t(){q.point=l;p.lineEnd()}var h;var g=oD(),A=a(g),y=false,o,s;function z(B,C){s.push([B,C]);var D=f(B,C);A.point(D[0],D[1])}function v(){A.lineStart();s=[]}function m(){z(s[0][0],s[0][1]);A.lineEnd();var E=A.clean(),C=g.buffer(),D,B=C.length;s.pop();o.push(s);s=null;if(!B){return}if(E&1){D=C[0];var B=D.length-1,F=-1,G;if(B>0){if(!y){w.polygonStart(),y=true}w.lineStart();while(++F<B){w.point((G=D[F])[0],G[1])}w.lineEnd()}return}if(B>1&&E&2){C.push(C.pop().concat(C.shift()))}h.push(C.filter(ma))}return q}}function ma(a){return a.length>1}function oD(){var b=[],a;return{lineStart:function(){b.push(a=[])},point:function(c,d){a.push([c,d])},lineEnd:qP,buffer:function(){var c=b;b=[];a=null;return c},rejoin:function(){if(b.length>1){b.push(b.pop().concat(b.shift()))}}}}function mN(b,a){return((b=b.x)[0]<0?b[1]-k2-jd:k2-b[1])-((a=a.x)[0]<0?a[1]-k2-jd:k2-a[1])}var nI=ln(p4,mt,mx,[-jv,-jv/2]);function mt(a){var f=NaN,d=NaN,b=NaN,c;return{lineStart:function(){a.lineStart();c=1},point:function(l,m){var g=l>0?jv:-jv,h=o0(l-f);if(o0(h-jv)<jd){a.point(f,d=(d+m)/2>0?k2:-k2);a.point(b,d);a.lineEnd();a.lineStart();a.point(g,d);a.point(l,d);c=0}else{if(b!==g&&h>=jv){if(o0(f-b)<jd){f-=b*jd}if(o0(l-g)<jd){l-=g*jd}d=mY(f,d,l,m);a.point(b,d);a.lineEnd();a.lineStart();a.point(g,d);c=0}}a.point(f=l,d=m);b=g},lineEnd:function(){a.lineEnd();f=d=NaN},clean:function(){return 2-c}}}function mY(b,c,d,f){var h,g,a=Math.sin(b-d);return o0(a)>jd?Math.atan((Math.sin(c)*(g=Math.cos(f))*Math.sin(d)-Math.sin(f)*(h=Math.cos(c))*Math.sin(b))/(h*g*a)):(c+f)/2}function mx(a,b,c,d){var f;if(a==null){f=c*k2;d.point(-jv,f);d.point(0,f);d.point(jv,f);d.point(jv,0);d.point(jv,-f);d.point(0,-f);d.point(-jv,-f);d.point(-jv,0);d.point(-jv,f)}else{if(o0(a[0]-b[0])>jd){var g=a[0]<b[0]?jv:-jv;f=c*g/2;d.point(-g,f);d.point(0,f);d.point(g,f)}else{d.point(b[0],b[1])}}}function ld(a,l){var f=a[0],d=a[1],H=[Math.sin(f),-Math.cos(f),0],n=0,m=0;k4.reset();for(var p=0,g=l.length;p<g;++p){var z=l[p],b=z.length;if(!b){continue}var C=z[0],F=C[0],h=C[1]/2+jv/4,A=Math.sin(h),G=Math.cos(h),q=1;while(true){if(q===b){q=0}a=z[q];var c=a[0],o=a[1]/2+jv/4,E=Math.sin(o),t=Math.cos(o),v=c-F,y=v>=0?1:-1,u=y*v,D=u>jv,x=A*E;k4.add(Math.atan2(x*y*Math.sin(u),G*t+x*Math.cos(u)));n+=D?v+y*jH:v;if(D^F>=f^c>=f){var w=pX(pt(C),pt(a));kh(w);var s=pX(H,w);kh(s);var B=(D^v>=0?-1:1)*nF(s[2]);if(d>B||d===B&&(w[0]||w[1])){m+=D^v>=0?1:-1}}if(!q++){break}F=c,A=E,G=t,C=a}}return(n<-jd||n<jd&&k4<0)^m&1}function qL(h){var g=Math.cos(h),l=g>0,f=o0(g)>jd,d=qw(h,6*oZ);return ln(m,c,d,l?[0,-h]:[-jv,h-jv]);function m(n,o){return Math.cos(n)*Math.cos(o)>g}function c(n){var o,p,t,q,s;return{lineStart:function(){q=t=false;s=1},point:function(y,z){var x=[y,z],A,w=m(y,z),v=l?w?0:b(y,z):w?b(y+(y<0?jv:-jv),z):0;if(!o&&(q=t=w)){n.lineStart()}if(w!==t){A=a(o,x);if(lV(o,A)||lV(x,A)){x[0]+=jd;x[1]+=jd;w=m(x[0],x[1])}}if(w!==t){s=0;if(w){n.lineStart();A=a(x,o);n.point(A[0],A[1])}else{A=a(o,x);n.point(A[0],A[1]);n.lineEnd()}o=A}else{if(f&&o&&l^w){var u;if(!(v&p)&&(u=a(x,o,true))){s=0;if(l){n.lineStart();n.point(u[0][0],u[0][1]);n.point(u[1][0],u[1][1]);n.lineEnd()}else{n.point(u[1][0],u[1][1]);n.lineEnd();n.lineStart();n.point(u[0][0],u[0][1])}}}}if(w&&(!o||!lV(o,x))){n.point(x[0],x[1])}o=x,t=w,p=v},lineEnd:function(){if(t){n.lineEnd()}o=null},clean:function(){return s|(q&&t)<<1}}}function a(n,o,H){var M=pt(n),P=pt(o);var x=[1,0,0],D=pX(M,P),L=qY(D,D),p=D[0],B=L-p*p;if(!B){return !H&&n}var v=g*L/B,w=-g*p/B,R=pX(x,D),z=jt(x,v),C=jt(D,w);pf(z,C);var I=R,K=qY(z,I),F=qY(I,I),O=K*K-F*(qY(z,z)-1);if(O<0){return}var G=Math.sqrt(O),E=jt(I,(-K-G)/F);pf(E,z);E=ir(E);if(!H){return E}var J=n[0],N=o[0],s=n[1],t=o[1],y;if(N<J){y=J,J=N,N=y}var A=N-J,Q=o0(A-jv)<jd,q=Q||A<jd;if(!Q&&t<s){y=s,s=t,t=y}if(q?Q?s+t>0^E[1]<(o0(E[0]-J)<jd?s:t):s<=E[1]&&E[1]<=t:A>jv^(J<=E[0]&&E[0]<=N)){var u=jt(I,(-K+G)/F);pf(u,z);return[E,ir(u)]}}function b(p,q){var n=l?h:jv-h,o=0;if(p<-n){o|=1}else{if(p>n){o|=2}}if(q<-n){o|=4}else{if(q>n){o|=8}}return o}}function pZ(d,a,c,b){return function(f){var m=f.a,n=f.b,t=m.x,g=m.y,o=n.x,p=n.y,q=0,s=1,h=o-t,l=p-g,u;u=d-t;if(!h&&u>0){return}u/=h;if(h<0){if(u<q){return}if(u<s){s=u}}else{if(h>0){if(u>s){return}if(u>q){q=u}}}u=c-t;if(!h&&u<0){return}u/=h;if(h<0){if(u>s){return}if(u>q){q=u}}else{if(h>0){if(u<q){return}if(u<s){s=u}}}u=a-g;if(!l&&u>0){return}u/=l;if(l<0){if(u<q){return}if(u<s){s=u}}else{if(l>0){if(u>s){return}if(u>q){q=u}}}u=b-g;if(!l&&u<0){return}u/=l;if(l<0){if(u>s){return}if(u>q){q=u}}else{if(l>0){if(u<q){return}if(u<s){s=u}}}if(q>0){f.a={x:t+q*h,y:g+q*l}}if(s<1){f.b={x:t+s*h,y:g+s*l}}return f}}var oR=1000000000;iC.geo.clipExtent=function(){var f,b,h,d,a,c,g={stream:function(l){if(a){a.valid=false}a=c(l);a.valid=true;return a},extent:function(l){if(!arguments.length){return[[f,b],[h,d]]}c=lt(f=+l[0][0],b=+l[0][1],h=+l[1][0],d=+l[1][1]);if(a){a.valid=false,a=null}return g}};return g.extent([[0,0],[960,500]])};function lt(h,c,g,f){return function(B){var H=B,p=oD(),G=pZ(h,c,g,f),w,n,u;var m={point:x,lineStart:C,lineEnd:q,polygonStart:function(){B=p;w=[];n=[];t=true},polygonEnd:function(){B=H;w=iC.merge(w);var K=F([h,f]),L=t&&K,J=w.length;if(L||J){B.polygonStart();if(L){B.lineStart();s(null,null,1,B);B.lineEnd()}if(J){m3(w,b,K,s,B)}B.polygonEnd()}w=n=u=null}};function F(N){var P=0,M=n.length,R=N[1];for(var J=0;J<M;++J){for(var K=1,O=n[J],L=O.length,Q=O[0],S;K<L;++K){S=O[K];if(Q[1]<=R){if(S[1]>R&&nh(Q,S,N)>0){++P}}else{if(S[1]<=R&&nh(Q,S,N)<0){--P}}Q=S}}return P!==0}function s(M,N,O,J){var K=0,L=0;if(M==null||(K=d(M,O))!==(L=d(N,O))||a(M,N)<0^O>0){do{J.point(K===0||K===3?h:g,K>1?f:c)}while((K=(K+O+4)%4)!==L)}else{J.point(N[0],N[1])}}function l(K,J){return h<=K&&K<=g&&c<=J&&J<=f}function x(K,J){if(l(K,J)){B.point(K,J)}}var z,y,A,o,D,E,v,t;function C(){m.point=I;if(n){n.push(u=[])}v=true;E=false;o=D=NaN}function q(){if(w){I(z,y);if(A&&E){p.rejoin()}w.push(p.buffer())}m.point=x;if(E){B.lineEnd()}}function I(L,M){L=Math.max(-oR,Math.min(oR,L));M=Math.max(-oR,Math.min(oR,M));var J=l(L,M);if(n){u.push([L,M])}if(v){z=L,y=M,A=J;v=false;if(J){B.lineStart();B.point(L,M)}}else{if(J&&E){B.point(L,M)}else{var K={a:{x:o,y:D},b:{x:L,y:M}};if(G(K)){if(!E){B.lineStart();B.point(K.a.x,K.a.y)}B.point(K.b.x,K.b.y);if(!J){B.lineEnd()}t=false}else{if(J){B.lineStart();B.point(L,M);t=false}}}}o=L,D=M,E=J}return m};function d(l,m){return o0(l[0]-h)<jd?m>0?0:3:o0(l[0]-g)<jd?m>0?2:1:o0(l[1]-c)<jd?m>0?1:0:m>0?3:2}function b(l,m){return a(l.x,m.x)}function a(n,l){var o=d(n,1),m=d(l,1);return o!==m?o-m:o===0?l[1]-n[1]:o===1?n[0]-l[0]:o===2?n[1]-l[1]:l[0]-n[0]}}function qs(b){var c=0,f=jv/3,d=kn(b),a=d(c,f);a.parallels=function(g){if(!arguments.length){return[c/jv*180,f/jv*180]}return d(c=g[0]*jv/180,f=g[1]*jv/180)};return a}function oN(h,g){var c=Math.sin(h),a=(c+Math.sin(g))/2,b=1+c*(2*a-c),d=Math.sqrt(b)/a;function f(l,m){var n=Math.sqrt(b-2*a*Math.sin(m))/a;return[n*Math.sin(l*=a),d-n*Math.cos(l)]}f.invert=function(m,n){var l=d-n;return[Math.atan2(m,l)/a,nF((b-(m*m+l*l)*a*a)/(2*a))]};return f}(iC.geo.conicEqualArea=function(){return qs(oN)}).raw=oN;iC.geo.albers=function(){return iC.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};iC.geo.albersUsa=function(){var a=iC.geo.albers();var g=iC.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var m=iC.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var d,b={point:function(o,n){d=[o,n]}},h,f,l;function c(o){var p=o[0],n=o[1];d=null;(h(p,n),d)||(f(p,n),d)||l(p,n);return d}c.invert=function(o){var q=a.scale(),p=a.translate(),s=(o[0]-p[0])/q,n=(o[1]-p[1])/q;return(n>=0.12&&n<0.234&&s>=-0.425&&s<-0.214?g:n>=0.166&&n<0.234&&s>=-0.214&&s<-0.115?m:a).invert(o)};c.stream=function(o){var p=a.stream(o),n=g.stream(o),q=m.stream(o);return{point:function(t,s){p.point(t,s);n.point(t,s);q.point(t,s)},sphere:function(){p.sphere();n.sphere();q.sphere()},lineStart:function(){p.lineStart();n.lineStart();q.lineStart()},lineEnd:function(){p.lineEnd();n.lineEnd();q.lineEnd()},polygonStart:function(){p.polygonStart();n.polygonStart();q.polygonStart()},polygonEnd:function(){p.polygonEnd();n.polygonEnd();q.polygonEnd()}}};c.precision=function(n){if(!arguments.length){return a.precision()}a.precision(n);g.precision(n);m.precision(n);return c};c.scale=function(n){if(!arguments.length){return a.scale()}a.scale(n);g.scale(n*0.35);m.scale(n);return c.translate(a.translate())};c.translate=function(o){if(!arguments.length){return a.translate()}var p=a.scale(),q=+o[0],n=+o[1];h=a.translate(o).clipExtent([[q-0.455*p,n-0.238*p],[q+0.455*p,n+0.238*p]]).stream(b).point;f=g.translate([q-0.307*p,n+0.201*p]).clipExtent([[q-0.425*p+jd,n+0.12*p+jd],[q-0.214*p-jd,n+0.234*p-jd]]).stream(b).point;l=m.translate([q-0.205*p,n+0.212*p]).clipExtent([[q-0.214*p+jd,n+0.166*p+jd],[q-0.115*p-jd,n+0.234*p-jd]]).stream(b).point;return c};return c.scale(1070)};var lb,pn,nQ={point:qP,lineStart:qP,lineEnd:qP,polygonStart:function(){pn=0;nQ.lineStart=oL},polygonEnd:function(){nQ.lineStart=nQ.lineEnd=nQ.point=qP;lb+=o0(pn/2)}};function oL(){var b,d,f,c;nQ.point=function(h,g){nQ.point=a;b=f=h,d=c=g};function a(h,g){pn+=c*h-f*g;f=h,c=g}nQ.lineEnd=function(){a(b,d)}}var mf,k5,mj,k7;var pp={point:oh,lineStart:qP,lineEnd:qP,polygonStart:qP,polygonEnd:qP};function oh(a,b){if(a<mf){mf=a}if(a>mj){mj=a}if(b<k5){k5=b}if(b>k7){k7=b}}function nw(){var g=iS(4.5),l=[];var a={point:h,lineStart:function(){a.point=b},lineEnd:c,polygonStart:function(){a.lineEnd=f},polygonEnd:function(){a.lineEnd=c;a.point=h},pointRadius:function(m){g=iS(m);return a},result:function(){if(l.length){var m=l.join("");l=[];return m}}};function h(m,n){l.push("M",m,",",n,g)}function b(m,n){l.push("M",m,",",n);a.point=d}function d(m,n){l.push("L",m,",",n)}function c(){a.point=h}function f(){l.push("Z")}return a}function iS(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}var kQ={point:ow,lineStart:kZ,lineEnd:oA,polygonStart:function(){kQ.lineStart=qG},polygonEnd:function(){kQ.point=ow;kQ.lineStart=kZ;kQ.lineEnd=oA}};function ow(a,b){nt+=a;me+=b;++pz}function kZ(){var b,c;kQ.point=function(f,d){kQ.point=a;ow(b=f,c=d)};function a(l,d){var g=l-b,h=d-c,f=Math.sqrt(g*g+h*h);nv+=f*(b+l)/2;mh+=f*(c+d)/2;pG+=f;ow(b=l,c=d)}}function oA(){kQ.point=ow}function qG(){var b,d,f,c;kQ.point=function(h,g){kQ.point=a;ow(b=f=h,d=c=g)};function a(m,n){var h=m-f,l=n-c,g=Math.sqrt(h*h+l*l);nv+=g*(f+m)/2;mh+=g*(c+n)/2;pG+=g;g=c*m-f*n;nz+=g*(f+m);mi+=g*(c+n);pI+=g*3;ow(f=m,c=n)}kQ.lineEnd=function(){a(b,d)}}function o6(l){var d=4.5;var a={point:h,lineStart:function(){a.point=b},lineEnd:c,polygonStart:function(){a.lineEnd=g},polygonEnd:function(){a.lineEnd=c;a.point=h},pointRadius:function(m){d=m;return a},result:qP};function h(m,n){l.moveTo(m+d,n);l.arc(m,n,d,0,jH)}function b(m,n){l.moveTo(m,n);a.point=f}function f(m,n){l.lineTo(m,n)}function c(){a.point=h}function g(){l.closePath()}return a}function k8(b){var d=0.5,c=Math.cos(30*oZ),a=16;function g(m){return(a?f:h)(m)}function h(m){return mp(m,function(o,n){o=b(o,n);m.point(o[0],o[1])})}function f(x){var m,w,z,v,p,q,H,G,s,E,n,t,F;var C={point:A,lineStart:o,lineEnd:u,polygonStart:function(){x.polygonStart();C.lineStart=y},polygonEnd:function(){x.polygonEnd();C.lineStart=o}};function A(K,J){K=b(K,J);x.point(K[0],K[1])}function o(){s=NaN;C.point=I;x.lineStart()}function I(K,L){var M=pt([K,L]),J=b(K,L);l(s,E,G,n,t,F,s=J[0],E=J[1],G=K,n=M[0],t=M[1],F=M[2],a,x);x.point(s,E)}function u(){C.point=A;x.lineEnd()}function y(){o();C.point=B;C.lineEnd=D}function B(J,K){I(m=J,w=K),z=s,v=E,p=n,q=t,H=F;C.point=I}function D(){l(s,E,G,n,t,F,z,v,m,p,q,H,a,x);C.lineEnd=u;u()}return C}function l(w,E,N,m,y,D,x,G,O,o,A,H,p,C){var L=x-w,M=G-E,n=L*L+M*M;if(n>4*d&&p--){var q=m+o,s=y+A,u=D+H,F=Math.sqrt(q*q+s*s+u*u),z=Math.asin(u/=F),P=o0(o0(u)-1)<jd||o0(N-O)<jd?(N+O)/2:Math.atan2(s,q),J=b(P,z),B=J[0],I=J[1],K=B-w,t=I-E,v=M*K-L*t;if(v*v/n>d||o0((L*K+M*t)/n-0.5)>0.3||m*o+y*A+D*H<c){l(w,E,N,m,y,D,B,I,P,q/=F,s/=F,u,p,C);C.point(B,I);l(B,I,P,q,s,u,x,G,O,o,A,H,p,C)}}}g.precision=function(m){if(!arguments.length){return Math.sqrt(d)}a=(d=m*m)>0&&16;return g};return g}iC.geo.path=function(){var b=4.5,l,f,d,h,g;function a(m){if(m){if(typeof b==="function"){h.pointRadius(+b.apply(this,arguments))}if(!g||!g.valid){g=d(h)}iC.geo.stream(m,g)}return h.result()}a.area=function(m){lb=0;iC.geo.stream(m,d(nQ));return lb};a.centroid=function(m){nt=me=pz=nv=mh=pG=nz=mi=pI=0;iC.geo.stream(m,d(kQ));return pI?[nz/pI,mi/pI]:pG?[nv/pG,mh/pG]:pz?[nt/pz,me/pz]:[NaN,NaN]};a.bounds=function(m){mj=k7=-(mf=k5=Infinity);iC.geo.stream(m,d(pp));return[[mf,k5],[mj,k7]]};a.projection=function(m){if(!arguments.length){return l}d=(l=m)?m.stream||iJ(m):jg;return c()};a.context=function(m){if(!arguments.length){return f}h=(f=m)==null?new nw():new o6(m);if(typeof b!=="function"){h.pointRadius(b)}return c()};a.pointRadius=function(m){if(!arguments.length){return b}b=typeof m==="function"?m:(h.pointRadius(+m),+m);return a};function c(){g=null;return a}return a.projection(iC.geo.albersUsa()).context(null)};function iJ(b){var a=k8(function(d,c){return b([d*ju,c*ju])});return function(c){return nB(a(c))}}iC.geo.transform=function(a){return{stream:function(b){var c=new lB(b);for(var d in a){c[d]=a[d]}return c}}};function lB(a){this.stream=a}lB.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function mp(b,a){return{point:a,sphere:function(){b.sphere()},lineStart:function(){b.lineStart()},lineEnd:function(){b.lineEnd()},polygonStart:function(){b.polygonStart()},polygonEnd:function(){b.polygonEnd()}}}iC.geo.projection=lD;iC.geo.projectionMutator=kn;function lD(a){return kn(function(){return a})()}function kn(g){var z,a,v,d=k8(function(E,D){E=z(E,D);return[E[0]*b+x,A-E[1]*b]}),b=150,n=480,s=250,c=0,p=0,u=0,y=0,f=0,x,A,l=nI,q=jg,C=null,B=null,w;function m(D){D=v(D[0]*oZ,D[1]*oZ);return[D[0]*b+x,A-D[1]*b]}function h(D){D=v.invert((D[0]-x)/b,(A-D[1])/b);return D&&[D[0]*ju,D[1]*ju]}m.stream=function(D){if(w){w.valid=false}w=nB(l(a,d(q(D))));w.valid=true;return w};m.clipAngle=function(D){if(!arguments.length){return C}l=D==null?(C=D,nI):qL((C=+D)*oZ);return t()};m.clipExtent=function(D){if(!arguments.length){return B}B=D;q=D?lt(D[0][0],D[0][1],D[1][0],D[1][1]):jg;return t()};m.scale=function(D){if(!arguments.length){return b}b=+D;return o()};m.translate=function(D){if(!arguments.length){return[n,s]}n=+D[0];s=+D[1];return o()};m.center=function(D){if(!arguments.length){return[c*ju,p*ju]}c=D[0]%360*oZ;p=D[1]%360*oZ;return o()};m.rotate=function(D){if(!arguments.length){return[u*ju,y*ju,f*ju]}u=D[0]%360*oZ;y=D[1]%360*oZ;f=D.length>2?D[2]%360*oZ:0;return o()};iC.rebind(m,d,"precision");function o(){v=mU(a=nD(u,y,f),z);var D=z(c,p);x=n-D[0]*b;A=s+D[1]*b;return t()}function t(){if(w){w.valid=false,w=null}return m}return function(){z=g.apply(this,arguments);m.invert=z.invert&&h;return o()}}function nB(a){return mp(a,function(c,b){a.point(c*oZ,b*oZ)})}function ql(b,a){return[b,a]}(iC.geo.equirectangular=function(){return lD(ql)}).raw=ql.invert=ql;iC.geo.rotation=function(b){b=nD(b[0]%360*oZ,b[1]*oZ,b.length>2?b[2]*oZ:0);function a(c){c=b(c[0]*oZ,c[1]*oZ);return c[0]*=ju,c[1]*=ju,c}a.invert=function(c){c=b.invert(c[0]*oZ,c[1]*oZ);return c[0]*=ju,c[1]*=ju,c};return a};function p3(b,a){return[b>jv?b-jH:b<-jv?b+jH:b,a]}p3.invert=ql;function nD(a,c,b){return a?c||b?mU(ne(a),pA(c,b)):ne(a):c||b?pA(c,b):p3}function le(a){return function(b,c){return b+=a,[b>jv?b-jH:b<-jv?b+jH:b,c]}}function ne(b){var a=le(b);a.invert=le(-b);return a}function pA(b,h){var c=Math.cos(b),a=Math.sin(b),g=Math.cos(h),f=Math.sin(h);function d(s,l){var p=Math.cos(l),m=Math.cos(s)*p,n=Math.sin(s)*p,o=Math.sin(l),q=o*c+m*a;return[Math.atan2(n*g-q*f,m*c-o*a),nF(q*g+n*f)]}d.invert=function(s,l){var p=Math.cos(l),m=Math.cos(s)*p,n=Math.sin(s)*p,o=Math.sin(l),q=o*g-n*f;return[Math.atan2(n*g+o*f,m*c+q*a),nF(q*c-m*a)]};return d}iC.geo.circle=function(){var f=[0,0],a,d=6,c;function b(){var l=typeof f==="function"?f.apply(this,arguments):f,g=nD(-l[0]*oZ,-l[1]*oZ,0).invert,h=[];c(null,null,1,{point:function(m,n){h.push(m=g(m,n));m[0]*=ju,m[1]*=ju}});return{type:"Polygon",coordinates:[h]}}b.origin=function(g){if(!arguments.length){return f}f=g;return b};b.angle=function(g){if(!arguments.length){return a}c=qw((a=+g)*oZ,d*oZ);return b};b.precision=function(g){if(!arguments.length){return d}c=qw(a*oZ,(d=+g)*oZ);return b};return b.angle(90)};function qw(c,d){var a=Math.cos(c),b=Math.sin(c);return function(n,o,f,g){var h=f*d;if(n!=null){n=i5(a,n);o=i5(a,o);if(f>0?n<o:n>o){n+=f*jH}}else{n=c+f*jH;o=c-0.5*h}for(var m,l=n;f>0?l>o:l<o;l-=h){g.point((m=ir([a,-b*Math.cos(l),-b*Math.sin(l)]))[0],m[1])}}}function i5(b,c){var d=pt(c);d[0]-=b;kh(d);var a=qd(-d[1]);return((-d[2]<0?-a:a)+2*Math.PI-jd)%(2*Math.PI)}iC.geo.distance=function(h,l){var g=(l[0]-h[0])*oZ,d=h[1]*oZ,f=l[1]*oZ,n=Math.sin(g),a=Math.cos(g),m=Math.sin(d),p=Math.cos(d),o=Math.sin(f),c=Math.cos(f),b;return Math.atan2(Math.sqrt((b=c*n)*b+(b=p*o-m*c*a)*b),m*o+p*c*a)};iC.geo.graticule=function(){var f,c,b,a,u,t,s,p,h=10,l=h,o=90,q=360,m,n,v,w,g=2.5;function d(){return{type:"MultiLineString",coordinates:x()}}function x(){return iC.range(Math.ceil(a/o)*o,b,o).map(v).concat(iC.range(Math.ceil(p/q)*q,s,q).map(w)).concat(iC.range(Math.ceil(c/h)*h,f,h).filter(function(y){return o0(y%o)>jd}).map(m)).concat(iC.range(Math.ceil(t/l)*l,u,l).filter(function(y){return o0(y%q)>jd}).map(n))}d.lines=function(){return x().map(function(y){return{type:"LineString",coordinates:y}})};d.outline=function(){return{type:"Polygon",coordinates:[v(a).concat(w(s).slice(1),v(b).reverse().slice(1),w(p).reverse().slice(1))]}};d.extent=function(y){if(!arguments.length){return d.minorExtent()}return d.majorExtent(y).minorExtent(y)};d.majorExtent=function(y){if(!arguments.length){return[[a,p],[b,s]]}a=+y[0][0],b=+y[1][0];p=+y[0][1],s=+y[1][1];if(a>b){y=a,a=b,b=y}if(p>s){y=p,p=s,s=y}return d.precision(g)};d.minorExtent=function(y){if(!arguments.length){return[[c,t],[f,u]]}c=+y[0][0],f=+y[1][0];t=+y[0][1],u=+y[1][1];if(c>f){y=c,c=f,f=y}if(t>u){y=t,t=u,u=y}return d.precision(g)};d.step=function(y){if(!arguments.length){return d.minorStep()}return d.majorStep(y).minorStep(y)};d.majorStep=function(y){if(!arguments.length){return[o,q]}o=+y[0],q=+y[1];return d};d.minorStep=function(y){if(!arguments.length){return[h,l]}h=+y[0],l=+y[1];return d};d.precision=function(y){if(!arguments.length){return g}g=+y;m=qM(t,u,90);n=qN(c,f,g);v=qM(p,s,90);w=qN(a,b,g);return d};return d.majorExtent([[-180,-90+jd],[180,90-jd]]).minorExtent([[-180,-80-jd],[180,80+jd]])};function qM(b,d,c){var a=iC.range(b,d-jd,c).concat(d);return function(f){return a.map(function(g){return[f,g]})}}function qN(a,b,d){var c=iC.range(a,b-jd,d).concat(b);return function(f){return c.map(function(g){return[g,f]})}}function jn(a){return a.source}function i9(a){return a.target}iC.geo.greatArc=function(){var c=jn,f,b=i9,a;function d(){return{type:"LineString",coordinates:[f||c.apply(this,arguments),a||b.apply(this,arguments)]}}d.distance=function(){return iC.geo.distance(f||c.apply(this,arguments),a||b.apply(this,arguments))};d.source=function(g){if(!arguments.length){return c}c=g,f=typeof g==="function"?null:g;return d};d.target=function(g){if(!arguments.length){return b}b=g,a=typeof g==="function"?null:g;return d};d.precision=function(){return arguments.length?d:0};return d};iC.geo.interpolate=function(a,b){return nR(a[0]*oZ,a[1]*oZ,b[0]*oZ,b[1]*oZ)};function nR(s,b,t,d){var o=Math.cos(b),c=Math.sin(b),q=Math.cos(d),f=Math.sin(d),m=o*Math.cos(s),a=o*Math.sin(s),n=q*Math.cos(t),h=q*Math.sin(t),g=2*Math.asin(Math.sqrt(qS(d-b)+o*q*qS(t-s))),p=1/Math.sin(g);var l=g?function(w){var v=Math.sin(w*=g)*p,x=Math.sin(g-w)*p,y=x*m+v*n,z=x*a+v*h,u=x*c+v*f;return[Math.atan2(z,y)*ju,Math.atan2(u,Math.sqrt(y*y+z*z))*ju]}:function(){return[s*ju,b*ju]};l.distance=g;return l}iC.geo.length=function(a){mV=0;iC.geo.stream(a,kL);return mV};var mV;var kL={sphere:qP,point:qP,lineStart:jh,lineEnd:qP,polygonStart:qP,polygonEnd:qP};function jh(){var d,b,c;kL.point=function(f,g){d=f*oZ,b=Math.sin(g*=oZ),c=Math.cos(g);kL.point=a};kL.lineEnd=function(){kL.point=kL.lineEnd=qP};function a(l,m){var f=Math.sin(m*=oZ),n=Math.cos(m),h=o0((l*=oZ)-d),g=Math.cos(h);mV+=Math.atan2(Math.sqrt((h=n*Math.sin(h))*h+(h=c*f-b*n*g)*h),b*f+c*n*g);d=l,b=f,c=n}}function mF(a,c){function b(h,l){var d=Math.cos(h),f=Math.cos(l),g=a(d*f);return[g*f*Math.sin(h),g*Math.sin(l)]}b.invert=function(m,d){var g=Math.sqrt(m*m+d*d),f=c(g),l=Math.sin(f),h=Math.cos(f);return[Math.atan2(m*l,g*h),Math.asin(g&&d*l/g)]};return b}var n4=mF(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(iC.geo.azimuthalEqualArea=function(){return lD(n4)}).raw=n4;var p5=mF(function(a){var b=Math.acos(a);return b&&b/Math.sin(b)},jg);(iC.geo.azimuthalEquidistant=function(){return lD(p5)}).raw=p5;function ll(f,h){var g=Math.cos(f),c=function(l){return Math.tan(jv/4+l/2)},a=f===h?Math.sin(f):Math.log(g/Math.cos(h))/Math.log(c(h)/c(f)),b=g*Math.pow(c(f),a)/a;if(!a){return qv}function d(l,m){if(b>0){if(m<-k2+jd){m=-k2+jd}}else{if(m>k2-jd){m=k2-jd}}var n=b/Math.pow(c(m),a);return[n*Math.sin(a*l),b-n*Math.cos(a*l)]}d.invert=function(m,n){var o=b-n,l=nW(a)*Math.sqrt(m*m+o*o);return[Math.atan2(m,o)/a,2*Math.atan(Math.pow(b/l,1/a))-k2]};return d}(iC.geo.conicConformal=function(){return qs(ll)}).raw=ll;function jD(d,g){var f=Math.cos(d),a=d===g?Math.sin(d):(f-Math.cos(g))/(g-d),b=f/a+d;if(o0(a)<jd){return ql}function c(l,m){var h=b-m;return[h*Math.sin(a*l),b-h*Math.cos(a*l)]}c.invert=function(m,h){var l=b-h;return[Math.atan2(m,l)/a,b-nW(a)*Math.sqrt(m*m+l*l)]};return c}(iC.geo.conicEquidistant=function(){return qs(jD)}).raw=jD;var mr=mF(function(a){return 1/a},Math.atan);(iC.geo.gnomonic=function(){return lD(mr)}).raw=mr;function qv(b,a){return[b,Math.log(Math.tan(jv/4+a/2))]}qv.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-k2]};function pD(a){var f=lD(a),b=f.scale,c=f.translate,g=f.clipExtent,d;f.scale=function(){var h=b.apply(f,arguments);return h===f?d?f.clipExtent(null):f:h};f.translate=function(){var h=c.apply(f,arguments);return h===f?d?f.clipExtent(null):f:h};f.clipExtent=function(h){var l=g.apply(f,arguments);if(l===f){if(d=h==null){var m=jv*b(),n=c();g([[n[0]-m,n[1]-m],[n[0]+m,n[1]+m]])}}else{if(d){l=null}}return l};return f.clipExtent(null)}(iC.geo.mercator=function(){return pD(qv)}).raw=qv;var mc=mF(function(){return 1},Math.asin);(iC.geo.orthographic=function(){return lD(mc)}).raw=mc;var nK=mF(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(iC.geo.stereographic=function(){return lD(nK)}).raw=nK;function p0(b,a){return[Math.log(Math.tan(jv/4+a/2)),-b]}p0.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-k2]};(iC.geo.transverseMercator=function(){var c=pD(p0),b=c.center,a=c.rotate;c.center=function(d){return d?b([-d[1],d[0]]):(d=b(),[d[1],-d[0]])};c.rotate=function(d){return d?a([d[0],d[1],d.length>2?d[2]+90:90]):(d=a(),[d[0],d[1],d[2]-90])};return a([0,0,90])}).raw=p0;iC.geom={};function iY(a){return a[0]}function i0(a){return a[1]}iC.geom.hull=function(d){var c=iY,a=i0;if(arguments.length){return b(d)}function b(n){if(n.length<3){return[]}var s=oy(c),t=oy(a),m,u=n.length,h=[],g=[];for(m=0;m<u;m++){h.push([+s.call(this,n[m],m),+t.call(this,n[m],m),m])}h.sort(j2);for(m=0;m<u;m++){g.push([h[m][0],-h[m][1]])}var f=oo(h),o=oo(g);var q=o[0]===f[0],p=o[o.length-1]===f[f.length-1],l=[];for(m=f.length-1;m>=0;--m){l.push(n[h[f[m]][2]])}for(m=+q;m<o.length-p;++m){l.push(n[h[o[m]][2]])}return l}b.x=function(f){return arguments.length?(c=f,b):c};b.y=function(f){return arguments.length?(a=f,b):a};return b};function oo(c){var a=c.length,b=[0,1],f=2;for(var d=2;d<a;d++){while(f>1&&nh(c[b[f-2]],c[b[f-1]],c[d])<=0){--f}b[f++]=d}return b.slice(0,f)}function j2(b,a){return b[0]-a[0]||b[1]-a[1]}iC.geom.polygon=function(a){jS(a,kY);return a};var kY=iC.geom.polygon.prototype=[];kY.area=function(){var c=-1,a=this.length,f,d=this[a-1],b=0;while(++c<a){f=d;d=this[c];b+=f[1]*d[0]-f[0]*d[1]}return b*0.5};kY.centroid=function(f){var d=-1,a=this.length,l=0,b=0,g,h=this[a-1],c;if(!arguments.length){f=-1/(6*this.area())}while(++d<a){g=h;h=this[d];c=g[0]*h[1]-h[0]*g[1];l+=(g[0]+h[0])*c;b+=(g[1]+h[1])*c}return[l*f,b*f]};kY.clip=function(g){var d,m=jW(g),n=-1,c=this.length-jW(this),o,a,b=this[c-1],f,h,l;while(++n<c){d=g.slice();g.length=0;f=this[n];h=d[(a=d.length-m)-1];o=-1;while(++o<a){l=d[o];if(pd(l,b,f)){if(!pd(h,b,f)){g.push(jk(h,l,b,f))}g.push(l)}else{if(pd(h,b,f)){g.push(jk(h,l,b,f))}}h=l}if(m){g.push(g[0])}b=f}return g};function pd(a,c,b){return(b[0]-c[0])*(a[1]-c[1])<(b[1]-c[1])*(a[0]-c[0])}function jk(m,o,d,l){var q=m[0],f=d[0],p=o[0]-q,c=l[0]-f,g=m[1],n=d[1],h=o[1]-g,b=l[1]-n,a=(c*(g-n)-b*(q-f))/(b*p-c*h);return[q+a*p,g+a*h]}function jW(a){var c=a[0],b=a[a.length-1];return !(c[0]-b[0]||c[1]-b[1])}var j8,kJ,on,mu=[],iM,ol,kO=[];function ky(){m6(this);this.edge=this.site=this.circle=null}function np(b){var a=mu.pop()||new ky();a.site=b;return a}function kB(a){mb(a);on.remove(a);mu.push(a);m6(a)}function iA(a){var d=a.circle,f=d.x,l=d.cy,n={x:f,y:l},m=a.P,o=a.N,g=[a];kB(a);var b=m;while(b.circle&&o0(f-b.circle.x)<jd&&o0(l-b.circle.cy)<jd){m=b.P;g.unshift(b);kB(b);b=m}g.unshift(b);mb(b);var p=o;while(p.circle&&o0(f-p.circle.x)<jd&&o0(l-p.circle.cy)<jd){o=p.N;g.push(p);kB(p);p=o}g.push(p);mb(p);var c=g.length,h;for(h=1;h<c;++h){p=g[h];b=g[h-1];nb(p.edge,b.site,p.site,n)}b=g[0];p=g[c-1];p.edge=iG(b.site,p.site,null,n);of(b);of(p)}function lN(o){var q=o.x,l=o.y,g,m,n,f,h=on._;while(h){n=pv(h,l)-q;if(n>jd){h=h.L}else{f=q-jx(h,l);if(f>jd){if(!h.R){g=h;break}h=h.R}else{if(n>-jd){g=h.P;m=h}else{if(f>-jd){g=h;m=h.N}else{g=m=h}}break}}}var w=np(o);on.insert(g,w);if(!g&&!m){return}if(g===m){mb(g);m=np(g.site);on.insert(w,m);w.edge=m.edge=iG(g.site,w.site);of(g);of(m);return}if(!m){w.edge=iG(g.site,w.site);return}mb(g);mb(m);var t=g.site,p=t.x,s=t.y,b=o.x-p,d=o.y-s,z=m.site,x=z.x-p,y=z.y-s,a=2*(b*y-d*x),u=b*b+d*d,v=x*x+y*y,c={x:(y*u-d*v)/a+p,y:(b*v-x*u)/a+s};nb(m.edge,t,z,c);w.edge=iG(t,o,null,c);m.edge=iG(o,z,null,c);of(g);of(m)}function pv(p,o){var f=p.site,c=f.x,d=f.y,g=d-o;if(!g){return c}var b=p.P;if(!b){return -Infinity}f=b.site;var m=f.x,n=f.y,q=n-o;if(!q){return m}var a=m-c,h=1/g-1/q,l=a/q;if(h){return(-l+Math.sqrt(l*l-2*h*(a*a/(-2*q)-n+q/2+d-g/2)))/h+c}return(c+m)/2}function jx(d,b){var a=d.N;if(a){return pv(a,b)}var c=d.site;return c.y===b?c.x:Infinity}function qK(a){this.site=a;this.edges=[]}qK.prototype.prepare=function(){var a=this.edges,b=a.length,c;while(b--){c=a[b].edge;if(!c.b||!c.a){a.splice(b,1)}}a.sort(m1);return a.length};function qm(b){var q=b[0][0],s=b[1][0],g=b[0][1],h=b[1][1],u,l,m,n,c=kJ,v=c.length,d,f,o,a,t,p;while(v--){d=c[v];if(!d||!d.prepare()){continue}o=d.edges;a=o.length;f=0;while(f<a){p=o[f].end(),m=p.x,n=p.y;t=o[++f%a].start(),u=t.x,l=t.y;if(o0(m-u)>jd||o0(n-l)>jd){o.splice(f,0,new j7(iR(d.site,p,o0(m-q)<jd&&h-n>jd?{x:q,y:o0(u-q)<jd?l:h}:o0(n-h)<jd&&s-m>jd?{x:o0(l-h)<jd?u:s,y:h}:o0(m-s)<jd&&n-g>jd?{x:s,y:o0(u-s)<jd?l:g}:o0(n-g)<jd&&m-q>jd?{x:o0(l-g)<jd?u:q,y:g}:null),d.site,null));++a}}}}function m1(b,a){return a.angle-b.angle}function qq(){m6(this);this.x=this.y=this.arc=this.site=this.cy=null}function of(s){var f=s.P,h=s.N;if(!f||!h){return}var p=f.site,b=s.site,y=h.site;if(p===y){return}var c=b.x,d=b.y,m=p.x-c,o=p.y-d,w=y.x-c,x=y.y-d;var a=2*(m*x-o*w);if(a>=-mv){return}var t=m*m+o*o,u=w*w+x*x,n=(x*t-o*u)/a,q=(m*u-w*t)/a,x=q+d;var v=kO.pop()||new qq();v.arc=s;v.site=b;v.x=n+c;v.y=x+Math.sqrt(n*n+q*q);v.cy=x;s.circle=v;var l=null,g=ol._;while(g){if(v.y<g.y||v.y===g.y&&v.x<=g.x){if(g.L){g=g.L}else{l=g.P;break}}else{if(g.R){g=g.R}else{l=g;break}}}ol.insert(l,v);if(!l){iM=v}}function mb(a){var b=a.circle;if(b){if(!b.P){iM=b.N}ol.remove(b);kO.push(b);m6(b);a.circle=null}}function jz(c){var f=j8,b=pZ(c[0][0],c[0][1],c[1][0],c[1][1]),d=f.length,a;while(d--){a=f[d];if(!ox(a,c)||!b(a)||o0(a.a.x-a.b.x)<jd&&o0(a.a.y-a.b.y)<jd){a.a=a.b=null;f.splice(d,1)}}}function ox(h,d){var w=h.b;if(w){return true}var v=h.a,a=d[0][0],b=d[1][0],q=d[0][1],t=d[1][1],f=h.l,u=h.r,n=f.x,o=f.y,l=u.x,m=u.y,p=(n+l)/2,s=(o+m)/2,g,c;if(m===o){if(p<a||p>=b){return}if(n>l){if(!v){v={x:p,y:q}}else{if(v.y>=t){return}}w={x:p,y:t}}else{if(!v){v={x:p,y:t}}else{if(v.y<q){return}}w={x:p,y:q}}}else{g=(n-l)/(m-o);c=s-g*p;if(g<-1||g>1){if(n>l){if(!v){v={x:(q-c)/g,y:q}}else{if(v.y>=t){return}}w={x:(t-c)/g,y:t}}else{if(!v){v={x:(t-c)/g,y:t}}else{if(v.y<q){return}}w={x:(q-c)/g,y:q}}}else{if(o<m){if(!v){v={x:a,y:g*a+c}}else{if(v.x>=b){return}}w={x:b,y:g*b+c}}else{if(!v){v={x:b,y:g*b+c}}else{if(v.x<a){return}}w={x:a,y:g*a+c}}}}h.a=v;h.b=w;return true}function o7(b,a){this.l=b;this.r=a;this.a=this.b=null}function iG(a,d,b,f){var c=new o7(a,d);j8.push(c);if(b){nb(c,a,d,b)}if(f){nb(c,d,a,f)}kJ[a.i].edges.push(new j7(c,a,d));kJ[d.i].edges.push(new j7(c,d,a));return c}function iR(a,b,c){var d=new o7(a,null);d.a=b;d.b=c;j8.push(d);return d}function nb(d,a,c,b){if(!d.a&&!d.b){d.a=b;d.l=a;d.r=c}else{if(d.l===c){d.b=b}else{d.a=b}}}function j7(b,a,d){var c=b.a,f=b.b;this.edge=b;this.site=a;this.angle=d?Math.atan2(d.y-a.y,d.x-a.x):b.l===a?Math.atan2(f.x-c.x,c.y-f.y):Math.atan2(c.x-f.x,f.y-c.y)}j7.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function pb(){this._=null}function m6(a){a.U=a.C=a.L=a.R=a.P=a.N=null}pb.prototype={insert:function(a,b){var c,f,d;if(a){b.P=a;b.N=a.N;if(a.N){a.N.P=b}a.N=b;if(a.R){a=a.R;while(a.L){a=a.L}a.L=b}else{a.R=b}c=a}else{if(this._){a=mB(this._);b.P=null;b.N=a;a.P=a.L=b;c=a}else{b.P=b.N=null;this._=b;c=null}}b.L=b.R=null;b.U=c;b.C=true;a=b;while(c&&c.C){f=c.U;if(c===f.L){d=f.R;if(d&&d.C){c.C=d.C=false;f.C=true;a=f}else{if(a===c.R){p2(this,c);a=c;c=a.U}c.C=false;f.C=true;l0(this,f)}}else{d=f.L;if(d&&d.C){c.C=d.C=false;f.C=true;a=f}else{if(a===c.L){l0(this,c);a=c;c=a.U}c.C=false;f.C=true;p2(this,f)}}c=a.U}this._.C=false},remove:function(c){if(c.N){c.N.P=c.P}if(c.P){c.P.N=c.N}c.N=c.P=null;var d=c.U,f,a=c.L,g=c.R,h,b;if(!a){h=g}else{if(!g){h=a}else{h=mB(g)}}if(d){if(d.L===c){d.L=h}else{d.R=h}}else{this._=h}if(a&&g){b=h.C;h.C=c.C;h.L=a;a.U=h;if(h!==g){d=h.U;h.U=c.U;c=h.R;d.L=c;h.R=g;g.U=h}else{h.U=d;d=h;c=h.R}}else{b=c.C;c=h}if(c){c.U=d}if(b){return}if(c&&c.C){c.C=false;return}do{if(c===this._){break}if(c===d.L){f=d.R;if(f.C){f.C=false;d.C=true;p2(this,d);f=d.R}if(f.L&&f.L.C||f.R&&f.R.C){if(!f.R||!f.R.C){f.L.C=false;f.C=true;l0(this,f);f=d.R}f.C=d.C;d.C=f.R.C=false;p2(this,d);c=this._;break}}else{f=d.L;if(f.C){f.C=false;d.C=true;l0(this,d);f=d.L}if(f.L&&f.L.C||f.R&&f.R.C){if(!f.L||!f.L.C){f.R.C=false;f.C=true;p2(this,f);f=d.L}f.C=d.C;d.C=f.L.C=false;l0(this,d);c=this._;break}}f.C=true;c=d;d=d.U}while(!c.C);if(c){c.C=false}}};function p2(d,c){var a=c,b=c.R,f=a.U;if(f){if(f.L===a){f.L=b}else{f.R=b}}else{d._=b}b.U=f;a.U=b;a.R=b.L;if(a.R){a.R.U=a}b.L=a}function l0(d,c){var a=c,b=c.L,f=a.U;if(f){if(f.L===a){f.L=b}else{f.R=b}}else{d._=b}b.U=f;a.U=b;a.L=b.R;if(a.L){a.L.U=a}b.R=a}function mB(a){while(a.L){a=a.L}return a}function k3(b,a){var h=b.sort(oH).pop(),f,d,c;j8=[];kJ=new Array(b.length);on=new pb();ol=new pb();while(true){c=iM;if(h&&(!c||h.y<c.y||h.y===c.y&&h.x<c.x)){if(h.x!==f||h.y!==d){kJ[h.i]=new qK(h);lN(h);f=h.x,d=h.y}h=b.pop()}else{if(c){iA(c.arc)}else{break}}}if(a){jz(a),qm(a)}var g={cells:kJ,edges:j8};on=ol=j8=kJ=null;return g}function oH(b,a){return a.y-b.y||a.x-b.x}iC.geom.voronoi=function(f){var h=iY,a=i0,d=h,g=a,l=jr;if(f){return b(f)}function b(n){var m=new Array(n.length),q=l[0][0],o=l[0][1],s=l[1][0],p=l[1][1];k3(c(n),l).cells.forEach(function(x,t){var w=x.edges,v=x.site,u=m[t]=w.length?w.map(function(y){var z=y.start();return[z.x,z.y]}):v.x>=q&&v.x<=s&&v.y>=o&&v.y<=p?[[q,p],[s,p],[s,o],[q,o]]:[];u.point=n[t]});return m}function c(m){return m.map(function(n,o){return{x:Math.round(d(n,o)/jd)*jd,y:Math.round(g(n,o)/jd)*jd,i:o}})}b.links=function(m){return k3(c(m)).edges.filter(function(n){return n.l&&n.r}).map(function(n){return{source:m[n.l.i],target:m[n.r.i]}})};b.triangles=function(n){var m=[];k3(c(n)).cells.forEach(function(p,u){var y=p.site,v=p.edges.sort(m1),w=-1,x=v.length,s,o,t=v[x-1].edge,q=t.l===y?t.r:t.l;while(++w<x){s=t;o=q;t=v[w].edge;q=t.l===y?t.r:t.l;if(u<o.i&&u<q.i&&kD(y,o,q)<0){m.push([n[u],n[o.i],n[q.i]])}}});return m};b.x=function(m){return arguments.length?(d=oy(h=m),b):h};b.y=function(m){return arguments.length?(g=oy(a=m),b):a};b.clipExtent=function(m){if(!arguments.length){return l===jr?null:l}l=m==null?jr:m;return b};b.size=function(m){if(!arguments.length){return l===jr?null:l&&l[1]}return b.clipExtent(m&&[[0,0],m])};return b};var jr=[[-1000000,-1000000],[1000000,1000000]];function kD(c,b,a){return(c.x-a.x)*(b.y-c.y)-(c.x-b.x)*(a.y-c.y)}iC.geom.delaunay=function(a){return iC.geom.voronoi().triangles(a)};iC.geom.quadtree=function(d,a,g,b,h){var f=iY,l=i0,c;if(c=arguments.length){f=lW;l=l3;if(c===3){h=g;b=a;g=a=0}return m(d)}function m(q){var x,y=oy(f),D=oy(l),u,C,A,n,G,o,w,t;if(a!=null){G=a,o=g,w=b,t=h}else{w=t=-(G=o=Infinity);u=[],C=[];n=q.length;if(c){for(A=0;A<n;++A){x=q[A];if(x.x<G){G=x.x}if(x.y<o){o=x.y}if(x.x>w){w=x.x}if(x.y>t){t=x.y}u.push(x.x);C.push(x.y)}}else{for(A=0;A<n;++A){var z=+y(x=q[A],A),B=+D(x,A);if(z<G){G=z}if(B<o){o=B}if(z>w){w=z}if(B>t){t=B}u.push(z);C.push(B)}}}var p=w-G,s=t-o;if(p>s){t=o+p}else{w=G+s}function F(L,H,O,R,M,P,N,Q){if(isNaN(O)||isNaN(R)){return}if(L.leaf){var I=L.x,J=L.y;if(I!=null){if(o0(I-O)+o0(J-R)<0.01){v(L,H,O,R,M,P,N,Q)}else{var K=L.point;L.x=L.y=L.point=null;v(L,K,I,J,M,P,N,Q);v(L,H,O,R,M,P,N,Q)}}else{L.x=O,L.y=R,L.point=H}}else{v(L,H,O,R,M,P,N,Q)}}function v(K,H,Q,T,M,R,N,S){var I=(M+N)*0.5,L=(R+S)*0.5,O=Q>=I,P=T>=L,J=P<<1|O;K.leaf=false;K=K.nodes[J]||(K.nodes[J]=lp());if(O){M=I}else{N=I}if(P){R=L}else{S=L}F(K,H,Q,T,M,R,N,S)}var E=lp();E.add=function(H){F(E,H,+y(H,++A),+D(H,A),G,o,w,t)};E.visit=function(H){oG(H,E,G,o,w,t)};E.find=function(H){return lg(E,H[0],H[1],G,o,w,t)};A=-1;if(a==null){while(++A<n){F(E,q[A],u[A],C[A],G,o,w,t)}--A}else{q.forEach(E.add)}u=C=q=x=null;return E}m.x=function(n){return arguments.length?(f=n,m):f};m.y=function(n){return arguments.length?(l=n,m):l};m.extent=function(n){if(!arguments.length){return a==null?null:[[a,g],[b,h]]}if(n==null){a=g=b=h=null}else{a=+n[0][0],g=+n[0][1],b=+n[1][0],h=+n[1][1]}return m};m.size=function(n){if(!arguments.length){return a==null?null:[b-a,h-g]}if(n==null){a=g=b=h=null}else{a=g=0,b=+n[0],h=+n[1]}return m};return m};function lW(a){return a.x}function l3(a){return a.y}function lp(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function oG(h,l,a,c,b,f){if(!h(l,a,c,b,f)){var d=(a+b)*0.5,g=(c+f)*0.5,m=l.nodes;if(m[0]){oG(h,m[0],a,c,d,g)}if(m[1]){oG(h,m[1],d,c,b,g)}if(m[2]){oG(h,m[2],a,g,d,f)}if(m[3]){oG(h,m[3],d,g,b,f)}}}function lg(g,d,h,n,c,b,l){var f=Infinity,a;(function m(t,A,E,C,F){if(A>b||E>l||C<n||F<c){return}if(z=t.point){var z,v=d-t.x,x=h-t.y,o=v*v+x*x;if(o<f){var D=Math.sqrt(f=o);n=d-D,c=h-D;b=d+D,l=h+D;a=z}}var u=t.nodes,p=(A+C)*0.5,w=(E+F)*0.5,y=d>=p,B=h>=w;for(var q=B<<1|y,s=q+4;q<s;++q){if(t=u[q&3]){switch(q&3){case 0:m(t,A,E,p,w);break;case 1:m(t,p,E,C,w);break;case 2:m(t,A,w,p,F);break;case 3:m(t,p,w,C,F);break}}}})(g,n,c,b,l);return a}iC.interpolateRgb=qI;function qI(l,h){l=iC.rgb(l);h=iC.rgb(h);var f=l.r,g=l.g,b=l.b,c=h.r-f,d=h.g-g,a=h.b-b;return function(m){return"#"+mM(Math.round(f+c*m))+mM(Math.round(g+d*m))+mM(Math.round(b+a*m))}}iC.interpolateObject=pS;function pS(f,d){var b={},a={},c;for(c in f){if(c in d){b[c]=ly(f[c],d[c])}else{a[c]=f[c]}}for(c in d){if(!(c in f)){a[c]=d[c]}}return function(g){for(c in b){a[c]=b[c](g)}return a}}iC.interpolateNumber=p7;function p7(b,a){b=+b,a=+a;return function(c){return b*(1-c)+a*c}}iC.interpolateString=qD;function qD(f,g){var m=jA.lastIndex=jF.lastIndex=0,h,a,d,l=-1,c=[],b=[];f=f+"",g=g+"";while((h=jA.exec(f))&&(a=jF.exec(g))){if((d=a.index)>m){d=g.slice(m,d);if(c[l]){c[l]+=d}else{c[++l]=d}}if((h=h[0])===(a=a[0])){if(c[l]){c[l]+=a}else{c[++l]=a}}else{c[++l]=null;b.push({i:l,x:p7(h,a)})}m=jF.lastIndex}if(m<g.length){d=g.slice(m);if(c[l]){c[l]+=d}else{c[++l]=d}}return c.length<2?b[0]?(g=b[0].x,function(n){return g(n)+""}):function(){return g}:(g=b.length,function(o){for(var p=0,n;p<g;++p){c[(n=b[p]).i]=n.x(o)}return c.join("")})}var jA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jF=new RegExp(jA.source,"g");iC.interpolate=ly;function ly(d,c){var b=iC.interpolators.length,a;while(--b>=0&&!(a=iC.interpolators[b](d,c))){}return a}iC.interpolators=[function(c,b){var a=typeof b;return(a==="string"?pT.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?qI:qD:b instanceof jP?qI:Array.isArray(b)?l6:a==="object"&&isNaN(b)?pS:p7)(c,b)}];iC.interpolateArray=l6;function l6(d,g){var l=[],a=[],f=d.length,h=g.length,b=Math.min(d.length,g.length),c;for(c=0;c<b;++c){l.push(ly(d[c],g[c]))}for(;c<f;++c){a[c]=d[c]}for(;c<h;++c){a[c]=g[c]}return function(m){for(c=0;c<b;++c){a[c]=l[c](m)}return a}}var iH=function(){return jg};var qh=iC.map({linear:iH,poly:qy,quad:function(){return qH},cubic:function(){return o2},sin:function(){return jy},exp:function(){return jN},circle:function(){return oc},elastic:ok,back:la,bounce:function(){return ns}});var nJ=iC.map({"in":jg,out:ph,"in-out":ih,"out-in":function(a){return ih(ph(a))}});iC.ease=function(d){var a=d.indexOf("-"),b=a>=0?d.slice(0,a):d,c=a>=0?d.slice(a+1):"in";b=qh.get(b)||iH;c=nJ.get(c)||jg;return lF(c(b.apply(null,pN.call(arguments,1))))};function lF(a){return function(b){return b<=0?0:b>=1?1:a(b)}}function ph(a){return function(b){return 1-a(1-b)}}function ih(a){return function(b){return 0.5*(b<0.5?a(2*b):2-a(2-2*b))}}function qH(a){return a*a}function o2(a){return a*a*a}function pr(c){if(c<=0){return 0}if(c>=1){return 1}var a=c*c,b=a*c;return 4*(c<0.5?b:3*(c-a)+b-0.75)}function qy(a){return function(b){return Math.pow(b,a)}}function jy(a){return 1-Math.cos(a*k2)}function jN(a){return Math.pow(2,10*(a-1))}function oc(a){return 1-Math.sqrt(1-a*a)}function ok(b,a){var c;if(arguments.length<2){a=0.45}if(arguments.length){c=a/jH*Math.asin(1/b)}else{b=1,c=a/4}return function(d){return 1+b*Math.pow(2,-10*d)*Math.sin((d-c)*jH/a)}}function la(a){if(!a){a=1.70158}return function(b){return b*b*((a+1)*b-a)}}function ns(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}iC.interpolateHcl=jX;function jX(g,h){g=iC.hcl(g);h=iC.hcl(h);var l=g.h,d=g.c,b=g.l,f=h.h-l,c=h.c-d,a=h.l-b;if(isNaN(c)){c=0,d=isNaN(d)?h.c:d}if(isNaN(f)){f=0,l=isNaN(l)?h.h:l}else{if(f>180){f-=360}else{if(f<-180){f+=360}}}return function(m){return qc(l+f*m,d+c*m,b+a*m)+""}}iC.interpolateHsl=ig;function ig(f,h){f=iC.hsl(f);h=iC.hsl(h);var g=f.h,l=f.s,b=f.l,c=h.h-g,d=h.s-l,a=h.l-b;if(isNaN(d)){d=0,l=isNaN(l)?h.s:l}if(isNaN(c)){c=0,g=isNaN(g)?h.h:g}else{if(c>180){c-=360}else{if(c<-180){c+=360}}}return function(m){return oT(g+c*m,l+d*m,b+a*m)+""}}iC.interpolateLab=jG;function jG(l,h){l=iC.lab(l);h=iC.lab(h);var d=l.l,f=l.a,g=l.b,a=h.l-d,b=h.a-f,c=h.b-g;return function(m){return qU(d+a*m,f+b*m,g+c*m)+""}}iC.interpolateRound=lI;function lI(b,a){a-=b;return function(c){return Math.round(b+a*c)}}iC.transform=function(a){var b=pQ.createElementNS(iC.ns.prefix.svg,"g");return(iC.transform=function(d){if(d!=null){b.setAttribute("transform",d);var c=b.transform.baseVal.consolidate()}return new no(c?c.matrix:jE)})(a)};function no(f){var c=[f.a,f.b],g=[f.c,f.d],a=j1(c),d=nl(c,g),b=j1(pC(g,c,-d))||0;if(c[0]*g[1]<g[0]*c[1]){c[0]*=-1;c[1]*=-1;a*=-1;d*=-1}this.rotate=(a?Math.atan2(c[1],c[0]):Math.atan2(-g[0],g[1]))*ju;this.translate=[f.e,f.f];this.scale=[a,b];this.skew=b?Math.atan2(d,b)*ju:0}no.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function nl(b,a){return b[0]*a[0]+b[1]*a[1]}function j1(a){var b=Math.sqrt(nl(a,a));if(b){a[0]/=b;a[1]/=b}return b}function pC(c,b,a){c[0]+=a*b[0];c[1]+=a*b[1];return c}var jE={a:1,b:0,c:0,d:1,e:0,f:0};iC.interpolateTransform=lo;function qt(a){return a.length?a.pop()+",":""}function i3(f,d,b,a){if(f[0]!==d[0]||f[1]!==d[1]){var c=b.push("translate(",null,",",null,")");a.push({i:c-4,x:p7(f[0],d[0])},{i:c-2,x:p7(f[1],d[1])})}else{if(d[0]||d[1]){b.push("translate("+d+")")}}}function kX(a,b,c,d){if(a!==b){if(a-b>180){b+=360}else{if(b-a>180){a+=360}}d.push({i:c.push(qt(c)+"rotate(",null,")")-2,x:p7(a,b)})}else{if(b){c.push(qt(c)+"rotate("+b+")")}}}function l9(a,b,c,d){if(a!==b){d.push({i:c.push(qt(c)+"skewX(",null,")")-2,x:p7(a,b)})}else{if(b){c.push(qt(c)+"skewX("+b+")")}}}function lf(b,c,f,a){if(b[0]!==c[0]||b[1]!==c[1]){var d=f.push(qt(f)+"scale(",null,",",null,")");a.push({i:d-4,x:p7(b[0],c[0])},{i:d-2,x:p7(b[1],c[1])})}else{if(c[0]!==1||c[1]!==1){f.push(qt(f)+"scale("+c+")")}}}function lo(d,c){var b=[],a=[];d=iC.transform(d),c=iC.transform(c);i3(d.translate,c.translate,b,a);kX(d.rotate,c.rotate,b,a);l9(d.skew,c.skew,b,a);lf(d.scale,c.scale,b,a);d=c=null;return function(h){var l=-1,f=a.length,g;while(++l<f){b[(g=a[l]).i]=g.x(h)}return b.join("")}}function iu(b,a){a=(a-=b=+b)||1/a;return function(c){return(c-b)/a}}function qX(b,a){a=(a-=b=+b)||1/a;return function(c){return Math.max(0,Math.min(1,(c-b)/a))}}iC.layout={};iC.layout.bundle=function(){return function(c){var b=[],d=-1,a=c.length;while(++d<a){b.push(mg(c[d]))}return b}};function mg(c){var a=c.source,f=c.target,b=li(a,f),d=[a];while(a!==b){a=a.parent;d.push(a)}var g=d.length;while(f!==b){d.splice(g,0,f);f=f.parent}return d}function j3(a){var c=[],b=a.parent;while(b!=null){c.push(a);a=b;b=b.parent}c.push(a);return c}function li(d,h){if(d===h){return d}var f=j3(d),g=j3(h),c=f.pop(),b=g.pop(),a=null;while(c===b){a=c;c=f.pop();b=g.pop()}return a}iC.layout.chord=function(){var l={},h,n,b,o,d=0,c,a,m;function f(){var u={},q=[],v=iC.range(o),D=[],t,z,w,p,s;h=[];n=[];t=0,p=-1;while(++p<o){z=0,s=-1;while(++s<o){z+=b[p][s]}q.push(z);D.push(iC.range(o));t+=z}if(c){v.sort(function(G,H){return c(q[G],q[H])})}if(a){D.forEach(function(G,H){G.sort(function(I,J){return a(b[H][I],b[H][J])})})}t=(jH-d*o)/t;z=0,p=-1;while(++p<o){w=z,s=-1;while(++s<o){var B=v[p],E=D[B][s],y=b[B][E],x=z,A=z+=y*t;u[B+"-"+E]={index:B,subindex:E,startAngle:x,endAngle:A,value:y}}n[B]={index:B,startAngle:w,endAngle:z,value:q[B]};z+=d}p=-1;while(++p<o){s=p-1;while(++s<o){var C=u[p+"-"+s],F=u[s+"-"+p];if(C.value||F.value){h.push(C.value<F.value?{source:F,target:C}:{source:C,target:F})}}}if(m){g()}}function g(){h.sort(function(p,q){return m((p.source.value+p.target.value)/2,(q.source.value+q.target.value)/2)})}l.matrix=function(p){if(!arguments.length){return b}o=(b=p)&&b.length;h=n=null;return l};l.padding=function(p){if(!arguments.length){return d}d=p;h=n=null;return l};l.sortGroups=function(p){if(!arguments.length){return c}c=p;h=n=null;return l};l.sortSubgroups=function(p){if(!arguments.length){return a}a=p;h=null;return l};l.sortChords=function(p){if(!arguments.length){return m}m=p;if(h){g()}return l};l.chords=function(){if(!h){f()}return h};l.groups=function(){if(!n){f()}return n};return l};iC.layout.force=function(){var x={},d=iC.dispatch("start","tick","end"),p,n=[1,1],b,u,q=0.9,a=k0,v=mS,f=-30,h=nP,t=0.1,m=0.64,g=[],w=[],s,y,o;function c(z){return function(C,G,D,H){if(C.point!==z){var A=C.cx-z.x,B=C.cy-z.y,I=H-G,E=A*A+B*B;if(I*I/m<E){if(E<h){var F=C.charge/E;z.px-=A*F;z.py-=B*F}return true}if(C.point&&E&&E<h){var F=C.pointCharge/E;z.px-=A*F;z.py-=B*F}}return !C.charge}}x.tick=function(){if((u*=0.99)<0.005){p=null;d.end({type:"end",alpha:u=0});return true}var H=g.length,G=w.length,J,D,I,z,A,F,E,B,C;for(D=0;D<G;++D){I=w[D];z=I.source;A=I.target;B=A.x-z.x;C=A.y-z.y;if(F=B*B+C*C){F=u*y[D]*((F=Math.sqrt(F))-s[D])/F;B*=F;C*=F;A.x-=B*(E=z.weight+A.weight?z.weight/(z.weight+A.weight):0.5);A.y-=C*E;z.x+=B*(E=1-E);z.y+=C*E}}if(E=u*t){B=n[0]/2;C=n[1]/2;D=-1;if(E){while(++D<H){I=g[D];I.x+=(B-I.x)*E;I.y+=(C-I.y)*E}}}if(f){kF(J=iC.geom.quadtree(g),u,o);D=-1;while(++D<H){if(!(I=g[D]).fixed){J.visit(c(I))}}}D=-1;while(++D<H){I=g[D];if(I.fixed){I.x=I.px;I.y=I.py}else{I.x-=(I.px-(I.px=I.x))*q;I.y-=(I.py-(I.py=I.y))*q}}d.tick({type:"tick",alpha:u})};x.nodes=function(z){if(!arguments.length){return g}g=z;return x};x.links=function(z){if(!arguments.length){return w}w=z;return x};x.size=function(z){if(!arguments.length){return n}n=z;return x};x.linkDistance=function(z){if(!arguments.length){return a}a=typeof z==="function"?z:+z;return x};x.distance=x.linkDistance;x.linkStrength=function(z){if(!arguments.length){return v}v=typeof z==="function"?z:+z;return x};x.friction=function(z){if(!arguments.length){return q}q=+z;return x};x.charge=function(z){if(!arguments.length){return f}f=typeof z==="function"?z:+z;return x};x.chargeDistance=function(z){if(!arguments.length){return Math.sqrt(h)}h=z*z;return x};x.gravity=function(z){if(!arguments.length){return t}t=+z;return x};x.theta=function(z){if(!arguments.length){return Math.sqrt(m)}m=z*z;return x};x.alpha=function(z){if(!arguments.length){return u}z=+z;if(u){if(z>0){u=z}else{p.c=null,p.t=NaN,p=null;d.end({type:"end",alpha:u=0})}}else{if(z>0){d.start({type:"start",alpha:u=z});p=k1(x.tick)}}return x};x.start=function(){var E,B=g.length,z=w.length,G=n[0],D=n[1],F,C;for(E=0;E<B;++E){(C=g[E]).index=E;C.weight=0}for(E=0;E<z;++E){C=w[E];if(typeof C.source=="number"){C.source=g[C.source]}if(typeof C.target=="number"){C.target=g[C.target]}++C.source.weight;++C.target.weight}for(E=0;E<B;++E){C=g[E];if(isNaN(C.x)){C.x=A("x",G)}if(isNaN(C.y)){C.y=A("y",D)}if(isNaN(C.px)){C.px=C.x}if(isNaN(C.py)){C.py=C.y}}s=[];if(typeof a==="function"){for(E=0;E<z;++E){s[E]=+a.call(this,w[E],E)}}else{for(E=0;E<z;++E){s[E]=a}}y=[];if(typeof v==="function"){for(E=0;E<z;++E){y[E]=+v.call(this,w[E],E)}}else{for(E=0;E<z;++E){y[E]=v}}o=[];if(typeof f==="function"){for(E=0;E<B;++E){o[E]=+f.call(this,g[E],E)}}else{for(E=0;E<B;++E){o[E]=f}}function A(N,I){if(!F){F=new Array(B);for(J=0;J<B;++J){F[J]=[]}for(J=0;J<z;++J){var M=w[J];F[M.source.index].push(M.target);F[M.target.index].push(M.source)}}var H=F[E],J=-1,K=H.length,L;while(++J<K){if(!isNaN(L=H[J][N])){return L}}return Math.random()*I}return x.resume()};x.resume=function(){return x.alpha(0.1)};x.stop=function(){return x.alpha(0)};x.drag=function(){if(!b){b=iC.behavior.drag().origin(jg).on("dragstart.force",nf).on("drag.force",l).on("dragend.force",lx)}if(!arguments.length){return b}this.on("mouseover.force",mI).on("mouseout.force",lc).call(b)};function l(z){z.px=iC.event.x,z.py=iC.event.y;x.resume()}return iC.rebind(x,d,"on")};function nf(a){a.fixed|=2}function lx(a){a.fixed&=~6}function mI(a){a.fixed|=4;a.px=a.x,a.py=a.y}function lc(a){a.fixed&=~4}function kF(c,l,d){var h=0,n=0;c.charge=0;if(!c.leaf){var b=c.nodes,a=b.length,g=-1,f;while(++g<a){f=b[g];if(f==null){continue}kF(f,l,d);c.charge+=f.charge;h+=f.charge*f.cx;n+=f.charge*f.cy}}if(c.point){if(!c.leaf){c.point.x+=Math.random()-0.5;c.point.y+=Math.random()-0.5}var m=l*d[c.point.index];c.charge+=c.pointCharge=m;h+=m*c.point.x;n+=m*c.point.y}c.cx=h/c.charge;c.cy=n/c.charge}var k0=20,mS=1,nP=Infinity;iC.layout.hierarchy=function(){var b=m5,d=pk,a=ji;function c(l){var m=[l],h=[],g;l.depth=0;while((g=m.pop())!=null){h.push(g);if((f=d.call(c,g,g.depth))&&(n=f.length)){var n,f,o;while(--n>=0){m.push(o=f[n]);o.parent=g;o.depth=g.depth+1}if(a){g.value=0}g.children=f}else{if(a){g.value=+a.call(c,g,g.depth)||0}delete g.children}}kg(l,function(q){var p,s;if(b&&(p=q.children)){p.sort(b)}if(a&&(s=q.parent)){s.value+=q.value}});return h}c.sort=function(f){if(!arguments.length){return b}b=f;return c};c.children=function(f){if(!arguments.length){return d}d=f;return c};c.value=function(f){if(!arguments.length){return a}a=f;return c};c.revalue=function(f){if(a){kM(f,function(g){if(g.children){g.value=0}});kg(f,function(g){var h;if(!g.children){g.value=+a.call(c,g,g.depth)||0}if(h=g.parent){h.value+=g.value}})}return f};return c};function i2(b,a){iC.rebind(b,a,"sort","children","value");b.nodes=b;b.links=iV;return b}function kM(c,a){var d=[c];while((c=d.pop())!=null){a(c);if((f=c.children)&&(b=f.length)){var b,f;while(--b>=0){d.push(f[b])}}}}function kg(c,a){var h=[c],g=[];while((c=h.pop())!=null){g.push(c);if((f=c.children)&&(b=f.length)){var d=-1,b,f;while(++d<b){h.push(f[d])}}}while((c=g.pop())!=null){a(c)}}function pk(a){return a.children}function ji(a){return a.value}function m5(b,a){return a.value-b.value}function iV(a){return iC.merge(a.map(function(b){return(b.children||[]).map(function(c){return{source:b,target:c}})}))}iC.layout.partition=function(){var c=iC.layout.hierarchy(),b=[1,1];function d(p,l,g,h){var s=p.children;p.x=l;p.y=p.depth*h;p.dx=g;p.dy=h;if(s&&(q=s.length)){var o=-1,q,m,n;g=p.value?g/p.value:0;while(++o<q){d(m=s[o],l,n=m.value*g,h);l+=n}}}function a(h){var l=h.children,g=0;if(l&&(n=l.length)){var m=-1,n;while(++m<n){g=Math.max(g,a(l[m]))}}return 1+g}function f(g,h){var l=c.call(this,g,h);d(l[0],0,b[0],b[1]/a(l[0]));return l}f.size=function(g){if(!arguments.length){return b}b=g;return f};return i2(f,c)};iC.layout.pie=function(){var a=Number,c=om,d=0,g=jH,b=0;function f(s){var u=s.length,l=s.map(function(y,x){return +a.call(f,y,x)}),o=+(typeof d==="function"?d.apply(this,arguments):d),h=(typeof g==="function"?g.apply(this,arguments):g)-o,v=Math.min(Math.abs(h)/u,+(typeof b==="function"?b.apply(this,arguments):b)),n=v*(h<0?-1:1),p=iC.sum(l),t=p?(h-u*n)/p:0,q=iC.range(u),w=[],m;if(c!=null){q.sort(c===om?function(y,x){return l[x]-l[y]}:function(y,x){return c(s[y],s[x])})}q.forEach(function(x){w[x]={data:s[x],value:m=l[x],startAngle:o,endAngle:o+=m*t+n,padAngle:v}});return w}f.value=function(h){if(!arguments.length){return a}a=h;return f};f.sort=function(h){if(!arguments.length){return c}c=h;return f};f.startAngle=function(h){if(!arguments.length){return d}d=h;return f};f.endAngle=function(h){if(!arguments.length){return g}g=h;return f};f.padAngle=function(h){if(!arguments.length){return b}b=h;return f};return f};var om={};iC.layout.stack=function(){var d=jg,f=pE,b=lu,c=ls,h=pP,a=pW;function g(o,m){if(!(v=o.length)){return o}var n=o.map(function(y,x){return d.call(g,y,x)});var l=n.map(function(x){return x.map(function(z,y){return[h.call(g,z,y),a.call(g,z,y)]})});var s=f.call(g,l,m);n=iC.permute(n,s);l=iC.permute(l,s);var t=b.call(g,l,m);var u=n[0].length,v,p,q,w;for(q=0;q<u;++q){c.call(g,n[0][q],w=t[q],l[0][q][1]);for(p=1;p<v;++p){c.call(g,n[p][q],w+=l[p-1][q][1],l[p][q][1])}}return o}g.values=function(l){if(!arguments.length){return d}d=l;return g};g.order=function(l){if(!arguments.length){return f}f=typeof l==="function"?l:a9.get(l)||pE;return g};g.offset=function(l){if(!arguments.length){return b}b=typeof l==="function"?l:p6.get(l)||lu;return g};g.x=function(l){if(!arguments.length){return h}h=l;return g};g.y=function(l){if(!arguments.length){return a}a=l;return g};g.out=function(l){if(!arguments.length){return c}c=l;return g};return g};function pP(a){return a.x}function pW(a){return a.y}function ls(c,b,a){c.y0=b;c.y=a}var a9=iC.map({"inside-out":function(m){var o=m.length,l,n,d=m.map(pq),h=m.map(lR),g=iC.range(o).sort(function(p,q){return d[p]-d[q]}),f=0,c=0,b=[],a=[];for(l=0;l<o;++l){n=g[l];if(f<c){f+=h[n];b.push(n)}else{c+=h[n];a.push(n)}}return a.reverse().concat(b)},reverse:function(a){return iC.range(a.length).reverse()},"default":pE});var p6=iC.map({silhouette:function(h){var a=h.length,m=h[0].length,f=[],d=0,g,l,b,c=[];for(l=0;l<m;++l){for(g=0,b=0;g<a;g++){b+=h[g][l][1]}if(b>d){d=b}f.push(b)}for(l=0;l<m;++l){c[l]=(d-f[l])/2}return c},wiggle:function(n){var a=n.length,h=n[0],s=h.length,m,o,p,c,d,l,b,g,q,f=[];f[0]=g=q=0;for(o=1;o<s;++o){for(m=0,c=0;m<a;++m){c+=n[m][o][1]}for(m=0,d=0,b=h[o][0]-h[o-1][0];m<a;++m){for(p=0,l=(n[m][o][1]-n[m][o-1][1])/(2*b);p<m;++p){l+=(n[p][o][1]-n[p][o-1][1])/b}d+=l*n[m][o][1]}f[o]=g-=c?d/c*b:0;if(g<q){q=g}}for(o=0;o<s;++o){f[o]-=q}return f},expand:function(c){var a=c.length,h=c[0].length,l=1/a,f,g,b,d=[];for(g=0;g<h;++g){for(f=0,b=0;f<a;f++){b+=c[f][g][1]}if(b){for(f=0;f<a;f++){c[f][g][1]/=b}}else{for(f=0;f<a;f++){c[f][g][1]=l}}}for(g=0;g<h;++g){d[g]=0}return d},zero:lu});function pE(a){return iC.range(a.length)}function lu(a){var d=-1,c=a[0].length,b=[];while(++d<c){b[d]=0}return b}function pq(a){var c=1,d=0,g=a[0][1],f,b=a.length;for(;c<b;++c){if((f=a[c][1])>g){d=c;g=f}}return d}function lR(a){return a.reduce(lw,0)}function lw(a,b){return a+b[1]}iC.layout.histogram=function(){var a=true,f=Number,d=oJ,c=it;function b(q,p){var h=[],m=q.map(f,this),o=d.call(this,m,p),l=c.call(this,o,m,p),g,p=-1,u=m.length,t=l.length-1,s=a?1:1/u,n;while(++p<t){g=h[p]=[];g.dx=l[p+1]-(g.x=l[p]);g.y=0}if(t>0){p=-1;while(++p<u){n=m[p];if(n>=o[0]&&n<=o[1]){g=h[iC.bisect(l,n,1,t)-1];g.y+=s;g.push(q[p])}}}return h}b.value=function(g){if(!arguments.length){return f}f=g;return b};b.range=function(g){if(!arguments.length){return d}d=oy(g);return b};b.bins=function(g){if(!arguments.length){return c}c=typeof g==="number"?function(h){return nN(h,g)}:oy(g);return b};b.frequency=function(g){if(!arguments.length){return a}a=!!g;return b};return b};function it(b,a){return nN(b,Math.ceil(Math.log(a.length)/Math.LN2+1))}function nN(c,a){var d=-1,g=+c[0],f=(c[1]-g)/a,b=[];while(++d<=a){b[d]=f*d+g}return b}function oJ(a){return[iC.min(a),iC.max(a)]}iC.layout.pack=function(){var f=iC.layout.hierarchy().sort(mA),a=0,b=[1,1],d;function c(n,g){var h=f.call(this,n,g),l=h[0],m=b[0],q=b[1],p=d==null?Math.sqrt:typeof d==="function"?d:function(){return d};l.x=l.y=0;kg(l,function(s){s.r=+p(s.value)});kg(l,or);if(a){var o=a*(d?1:Math.max(2*l.r/m,2*l.r/q))/2;kg(l,function(s){s.r+=o});kg(l,or);kg(l,function(s){s.r-=o})}j6(l,m/2,q/2,d?1:1/Math.max(2*l.r/m,2*l.r/q));return h}c.size=function(g){if(!arguments.length){return b}b=g;return c};c.radius=function(g){if(!arguments.length){return d}d=g==null||typeof g==="function"?g:+g;return c};c.padding=function(g){if(!arguments.length){return a}a=+g;return c};return i2(c,f)};function mA(b,a){return b.value-a.value}function pH(c,b){var a=c._pack_next;c._pack_next=b;b._pack_prev=c;b._pack_next=a;a._pack_prev=b}function oY(b,a){b._pack_next=a;a._pack_prev=b}function k9(c,d){var b=d.x-c.x,f=d.y-c.y,a=c.r+d.r;return 0.999*a*a>b*b+f*f}function or(m){if(!(n=m.children)||!(o=n.length)){return}var n,f=Infinity,a=-Infinity,y=Infinity,u=-Infinity,b,c,d,g,h,l,o;function w(z){f=Math.min(z.x-z.r,f);a=Math.max(z.x+z.r,a);y=Math.min(z.y-z.r,y);u=Math.max(z.y+z.r,u)}n.forEach(qz);b=n[0];b.x=-b.r;b.y=0;w(b);if(o>1){c=n[1];c.x=c.r;c.y=0;w(c);if(o>2){d=n[2];o1(b,c,d);w(d);pH(b,d);b._pack_prev=d;pH(d,c);c=b._pack_next;for(g=3;g<o;g++){o1(b,c,d=n[g]);var x=0,t=1,v=1;for(h=c._pack_next;h!==c;h=h._pack_next,t++){if(k9(h,d)){x=1;break}}if(x==1){for(l=b._pack_prev;l!==h._pack_prev;l=l._pack_prev,v++){if(k9(l,d)){break}}}if(x){if(t<v||t==v&&c.r<b.r){oY(b,c=h)}else{oY(b=l,c)}g--}else{pH(b,d);c=d;w(d)}}}}var q=(f+a)/2,s=(y+u)/2,p=0;for(g=0;g<o;g++){d=n[g];d.x-=q;d.y-=s;p=Math.max(p,d.r+Math.sqrt(d.x*d.x+d.y*d.y))}m.r=p;n.forEach(l2)}function qz(a){a._pack_next=a._pack_prev=a}function l2(a){delete a._pack_next;delete a._pack_prev}function j6(c,g,a,h){var d=c.children;c.x=g+=h*c.x;c.y=a+=h*c.y;c.r*=h;if(d){var f=-1,b=d.length;while(++f<b){j6(d[f],g,a,h)}}}function o1(l,n,b){var g=l.r+b.r,c=n.x-l.x,f=n.y-l.y;if(g&&(c||f)){var d=n.r+b.r,h=c*c+f*f;d*=d;g*=g;var m=0.5+(g-d)/(2*h),a=Math.sqrt(Math.max(0,2*d*(g+h)-(g-=h)*g-d*d))/(2*h);b.x=l.x+m*c+a*f;b.y=l.y+m*f-a*c}else{b.x=l.x+g;b.y=l.y}}iC.layout.tree=function(){var l=iC.layout.hierarchy().sort(null).value(null),a=nU,d=[1,1],h=null;function c(q,u){var x=l.call(this,q,u),o=x[0],p=f(o);kg(p,m),p.parent.m=-p.z;kM(p,g);if(h){kM(o,n)}else{var w=o,z=o,y=o;kM(o,function(A){if(A.x<w.x){w=A}if(A.x>z.x){z=A}if(A.depth>y.depth){y=A}});var v=a(w,z)/2-w.x,s=d[0]/(z.x+a(z,w)/2+v),t=d[1]/(y.depth||1);kM(o,function(A){A.x=(A.x+v)*s;A.y=A.depth*t})}return x}function f(t){var v={A:null,children:[t]},w=[v],u;while((u=w.pop())!=null){for(var q=u.children,o,s=0,p=q.length;s<p;++s){w.push((q[s]=o={_:q[s],parent:u,children:(o=q[s].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=o)}}return v.children[0]}function m(s){var p=s.children,o=s.parent.children,t=s.i?o[s.i-1]:null;if(p.length){nM(s);var q=(p[0].z+p[p.length-1].z)/2;if(t){s.z=t.z+a(s._,t._);s.m=s.z-q}else{s.z=q}}else{if(t){s.z=t.z+a(s._,t._)}}s.parent.A=b(s,t,s.parent.A||o[0])}function g(o){o._.x=o.z+o.parent.m;o.m+=o.parent.m}function b(z,A,t){if(A){var w=z,x=z,u=A,v=w.parent.children[0],q=w.m,s=x.m,o=u.m,p=v.m,y;while(u=qV(u),w=kf(w),u&&w){v=kf(v);x=qV(x);x.a=z;y=u.z+o-w.z-q+a(u._,w._);if(y>0){ka(md(u,z,t),z,y);q+=y;s+=y}o+=u.m;q+=w.m;p+=v.m;s+=x.m}if(u&&!qV(x)){x.t=u;x.m+=o-s}if(w&&!kf(v)){v.t=w;v.m+=q-p;t=z}}return t}function n(o){o.x*=d[0];o.y=o.depth*d[1]}c.separation=function(o){if(!arguments.length){return a}a=o;return c};c.size=function(o){if(!arguments.length){return h?null:d}h=(d=o)==null?n:null;return c};c.nodeSize=function(o){if(!arguments.length){return h?d:null}h=(d=o)==null?null:n;return c};return i2(c,l)};function nU(b,a){return b.parent==a.parent?1:2}function kf(a){var b=a.children;return b.length?b[0]:a.t}function qV(b){var c=b.children,a;return(a=c.length)?c[a-1]:b.t}function ka(b,d,c){var a=c/(d.i-b.i);d.c-=a;d.s+=c;b.c+=a;d.z+=c;d.m+=c}function nM(d){var g=0,a=0,b=d.children,c=b.length,f;while(--c>=0){f=b[c];f.z+=g;f.m+=g;g+=f.s+(a+=f.c)}}function md(c,b,a){return c.a.parent===b.parent?c.a:a}iC.layout.cluster=function(){var c=iC.layout.hierarchy().sort(null).value(null),a=nU,b=[1,1],f=false;function d(n,o){var t=c.call(this,n,o),m=t[0],l,h=0;kg(m,function(u){var v=u.children;if(v&&v.length){u.x=qo(v);u.y=n2(v)}else{u.x=l?h+=a(u,l):0;u.y=0;l=u}});var p=mw(m),g=nE(m),q=p.x-a(p,g)/2,s=g.x+a(g,p)/2;kg(m,f?function(u){u.x=(u.x-m.x)*b[0];u.y=(m.y-u.y)*b[1]}:function(u){u.x=(u.x-q)/(s-q)*b[0];u.y=(1-(m.y?u.y/m.y:1))*b[1]});return t}d.separation=function(g){if(!arguments.length){return a}a=g;return d};d.size=function(g){if(!arguments.length){return f?null:b}f=(b=g)==null;return d};d.nodeSize=function(g){if(!arguments.length){return f?b:null}f=(b=g)!=null;return d};return i2(d,c)};function n2(a){return 1+iC.max(a,function(b){return b.y})}function qo(a){return a.reduce(function(c,b){return c+b.x},0)/a.length}function mw(b){var a=b.children;return a&&a.length?mw(a[0]):b}function nE(c){var b=c.children,a;return b&&(a=b.length)?nE(b[a-1]):c}iC.layout.treemap=function(){var m=iC.layout.hierarchy(),d=Math.round,b=[1,1],l=null,h=mO,g=false,o,p="squarify",n=0.5*(1+Math.sqrt(5));function a(w,y){var x=-1,v=w.length,z,u;while(++x<v){u=(z=w[x]).value*(y<0?0:y);z.area=isNaN(u)||u<=0?0:u}}function s(u){var x=u.children;if(x&&x.length){var B=h(u),z=[],C=x.slice(),y,D=Infinity,v,A=p==="slice"?B.dx:p==="dice"?B.dy:p==="slice-dice"?u.depth&1?B.dy:B.dx:Math.min(B.dx,B.dy),w;a(C,B.dx*B.dy/u.value);z.area=0;while((w=C.length)>0){z.push(y=C[w-1]);z.area+=y.area;if(p!=="squarify"||(v=t(z,A))<=D){C.pop();D=v}else{z.area-=z.pop().area;q(z,A,B,false);A=Math.min(B.dx,B.dy);z.length=z.area=0;D=Infinity}}if(z.length){q(z,A,B,true);z.length=z.area=0}x.forEach(s)}}function c(u){var y=u.children;if(y&&y.length){var w=h(u),x=y.slice(),v,z=[];a(x,w.dx*w.dy/u.value);z.area=0;while(v=x.pop()){z.push(v);z.area+=v.area;if(v.z!=null){q(z,v.z?w.dx:w.dy,w,!x.length);z.length=z.area=0}}y.forEach(c)}}function t(x,y){var v=x.area,B,A=0,z=Infinity,w=-1,u=x.length;while(++w<u){if(!(B=x[w].area)){continue}if(B<z){z=B}if(B>A){A=B}}v*=v;y*=y;return v?Math.max(y*A*n/v,v/(y*z*n)):Infinity}function q(z,A,u,B){var w=-1,x=z.length,D=u.x,v=u.y,C=A?d(z.area/A):0,y;if(A==u.dx){if(B||C>u.dy){C=u.dy}while(++w<x){y=z[w];y.x=D;y.y=v;y.dy=C;D+=y.dx=Math.min(u.x+u.dx-D,C?d(y.area/C):0)}y.z=true;y.dx+=u.x+u.dx-D;u.y+=C;u.dy-=C}else{if(B||C>u.dx){C=u.dx}while(++w<x){y=z[w];y.x=D;y.y=v;y.dx=C;v+=y.dy=Math.min(u.y+u.dy-v,C?d(y.area/C):0)}y.z=false;y.dy+=u.y+u.dy-v;u.x+=C;u.dx-=C}}function f(u){var v=o||m(u),w=v[0];w.x=w.y=0;if(w.value){w.dx=b[0],w.dy=b[1]}else{w.dx=w.dy=0}if(o){m.revalue(w)}a([w],w.dx*w.dy/w.value);(o?c:s)(w);if(g){o=v}return v}f.size=function(u){if(!arguments.length){return b}b=u;return f};f.padding=function(x){if(!arguments.length){return l}function u(z){var y=x.call(f,z,z.depth);return y==null?mO(z):ik(z,typeof y==="number"?[y,y,y,y]:y)}function v(y){return ik(y,x)}var w;h=(l=x)==null?mO:(w=typeof x)==="function"?u:w==="number"?(x=[x,x,x,x],v):v;return f};f.round=function(u){if(!arguments.length){return d!=Number}d=u?Math.round:Number;return f};f.sticky=function(u){if(!arguments.length){return g}g=u;o=null;return f};f.ratio=function(u){if(!arguments.length){return n}n=u;return f};f.mode=function(u){if(!arguments.length){return p}p=u+"";return f};return i2(f,m)};function mO(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function ik(c,b){var f=c.x+b[3],a=c.y+b[0],d=c.dx-b[1]-b[3],g=c.dy-b[0]-b[2];if(d<0){f+=d/2;d=0}if(g<0){a+=g/2;g=0}return{x:f,y:a,dx:d,dy:g}}iC.random={normal:function(c,b){var a=arguments.length;if(a<2){b=1}if(a<1){c=0}return function(){var g,d,f;do{g=Math.random()*2-1;d=Math.random()*2-1;f=g*g+d*d}while(!f||f>1);return c+b*g*Math.sqrt(-2*Math.log(f)/f)}},logNormal:function(){var a=iC.random.normal.apply(iC,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=iC.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++){b+=Math.random()}return b}}};iC.scale={};function kS(c){var a=c[0],b=c[c.length-1];return a<b?[a,b]:[b,a]}function il(a){return a.rangeExtent?a.rangeExtent():kS(a.range())}function qQ(b,f,a,d){var g=a(b[0],b[1]),c=d(f[0],f[1]);return function(h){return c(g(h))}}function jm(a,c){var b=0,d=a.length-1,f=a[b],h=a[d],g;if(h<f){g=b,b=d,d=g;g=f,f=h,h=g}a[b]=c.floor(f);a[d]=c.ceil(h);return a}function e(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:my}var my={floor:jg,ceil:jg};function oP(b,l,a,d){var f=[],c=[],g=0,h=Math.min(b.length,l.length)-1;if(b[h]<b[0]){b=b.slice().reverse();l=l.slice().reverse()}while(++g<=h){f.push(a(b[g-1],b[g]));c.push(d(l[g-1],l[g]))}return function(m){var n=iC.bisect(b,m,1,h)-1;return c[n](f[n](m))}}iC.scale.linear=function(){return lk([0,1],[0,1],ly,false)};function lk(c,f,d,a){var g,l;function h(){var m=Math.min(c.length,f.length)>2?oP:qQ,n=a?qX:iu;g=m(c,f,n,d);l=m(f,c,n,ly);return b}function b(m){return g(m)}b.invert=function(m){return l(m)};b.domain=function(m){if(!arguments.length){return c}c=m.map(Number);return h()};b.range=function(m){if(!arguments.length){return f}f=m;return h()};b.rangeRound=function(m){return b.range(m).interpolate(lI)};b.clamp=function(m){if(!arguments.length){return a}a=m;return h()};b.interpolate=function(m){if(!arguments.length){return d}d=m;return h()};b.ticks=function(m){return na(c,m)};b.tickFormat=function(m,n){return kC(c,m,n)};b.nice=function(m){qJ(c,m);return h()};b.copy=function(){return lk(c,f,d,a)};return h()}function jC(b,a){return iC.rebind(b,a,"range","rangeRound","interpolate","clamp")}function qJ(b,a){jm(b,e(nk(b,a)[2]));jm(b,e(nk(b,a)[2]));return b}function nk(a,f){if(f==null){f=10}var d=kS(a),g=d[1]-d[0],b=Math.pow(10,Math.floor(Math.log(g/f)/Math.LN10)),c=f/g*b;if(c<=0.15){b*=10}else{if(c<=0.35){b*=5}else{if(c<=0.75){b*=2}}}d[0]=Math.ceil(d[0]/b)*b;d[1]=Math.floor(d[1]/b)*b+b*0.5;d[2]=b;return d}function na(b,a){return iC.range.apply(iC,nk(b,a))}function kC(b,f,a){var g=nk(b,f);if(a){var d=pl.exec(a);d.shift();if(d[8]==="s"){var c=iC.formatPrefix(Math.max(o0(g[0]),o0(g[1])));if(!d[7]){d[7]="."+jM(c.scale(g[2]))}d[8]="f";a=iC.format(d.join(""));return function(h){return a(c.scale(h))+c.symbol}}if(!d[7]){d[7]="."+mL(d[8],g)}a=d.join("")}else{a=",."+jM(g[2])+"f"}return iC.format(a)}var iU={s:1,g:1,p:1,r:1,e:1};function jM(a){return -Math.floor(Math.log(a)/Math.LN10+0.01)}function mL(c,b){var a=jM(b[2]);return c in iU?Math.abs(a-jM(Math.max(o0(b[0]),o0(b[1]))))+ +(c!=="e"):a-(c==="%")*2}iC.scale.log=function(){return kt(iC.scale.linear().domain([0,1]),10,true,[1,10])};function kt(h,b,g,c){function f(l){return(g?Math.log(l<0?0:l):-Math.log(l>0?0:-l))/Math.log(b)}function d(l){return g?Math.pow(b,l):-Math.pow(b,-l)}function a(l){return h(f(l))}a.invert=function(l){return d(h.invert(l))};a.domain=function(l){if(!arguments.length){return c}g=l[0]>=0;h.domain((c=l.map(Number)).map(f));return a};a.base=function(l){if(!arguments.length){return b}b=+l;h.domain(c.map(f));return a};a.nice=function(){var l=jm(c.map(f),g?Math:ki);h.domain(l);c=l.map(d);return a};a.ticks=function(){var p=kS(c),o=[],s=p[0],l=p[1],q=Math.floor(f(s)),t=Math.ceil(f(l)),n=b%1?2:b;if(isFinite(t-q)){if(g){for(;q<t;q++){for(var m=1;m<n;m++){o.push(d(q)*m)}}o.push(d(q))}else{o.push(d(q));for(;q++<t;){for(var m=n-1;m>0;m--){o.push(d(q)*m)}}}for(q=0;o[q]<s;q++){}for(t=o.length;o[t-1]>l;t--){}o=o.slice(q,t)}return o};a.tickFormat=function(n,l){if(!arguments.length){return lU}if(arguments.length<2){l=lU}else{if(typeof l!=="function"){l=iC.format(l)}}var m=Math.max(1,b*n/a.ticks().length);return function(o){var p=o/d(Math.round(f(o)));if(p*b<b-0.5){p*=b}return p<=m?l(o):""}};a.copy=function(){return kt(h.copy(),b,g,c)};return jC(a,h)}var lU=iC.format(".0e"),ki={floor:function(a){return -Math.ceil(-a)},ceil:function(a){return -Math.floor(-a)}};iC.scale.pow=function(){return i4(iC.scale.linear(),1,[0,1])};function i4(f,c,d){var g=kU(c),b=kU(1/c);function a(h){return f(g(h))}a.invert=function(h){return b(f.invert(h))};a.domain=function(h){if(!arguments.length){return d}f.domain((d=h.map(Number)).map(g));return a};a.ticks=function(h){return na(d,h)};a.tickFormat=function(l,h){return kC(d,l,h)};a.nice=function(h){return a.domain(qJ(d,h))};a.exponent=function(h){if(!arguments.length){return c}g=kU(c=h);b=kU(1/c);f.domain(d.map(g));return a};a.copy=function(){return i4(f.copy(),c,d)};return jC(a,f)}function kU(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}iC.scale.sqrt=function(){return iC.scale.pow().exponent(0.5)};iC.scale.ordinal=function(){return mX([],{t:"range",a:[[]]})};function mX(b,f){var c,h,d;function a(l){return h[((c.get(l)||(f.t==="range"?c.set(l,b.push(l)):NaN))-1)%h.length]}function g(l,m){return iC.range(b.length).map(function(n){return l+m*n})}a.domain=function(m){if(!arguments.length){return b}b=[];c=new qO();var o=-1,n=m.length,l;while(++o<n){if(!c.has(l=m[o])){c.set(l,b.push(l))}}return a[f.t].apply(a,f.a)};a.range=function(l){if(!arguments.length){return h}h=l;d=0;f={t:"range",a:arguments};return a};a.rangePoints=function(m,o){if(arguments.length<2){o=0}var n=m[0],l=m[1],p=b.length<2?(n=(n+l)/2,0):(l-n)/(b.length-1+o);h=g(n+p*o/2,p);d=0;f={t:"rangePoints",a:arguments};return a};a.rangeRoundPoints=function(m,o){if(arguments.length<2){o=0}var n=m[0],l=m[1],p=b.length<2?(n=l=Math.round((n+l)/2),0):(l-n)/(b.length-1+o)|0;h=g(n+Math.round(p*o/2+(l-n-(b.length-1+o)*p)/2),p);d=0;f={t:"rangeRoundPoints",a:arguments};return a};a.rangeBands=function(l,o,m){if(arguments.length<2){o=0}if(arguments.length<3){m=o}var s=l[1]<l[0],n=l[s-0],q=l[1-s],p=(q-n)/(b.length-o+2*m);h=g(n+p*m,p);if(s){h.reverse()}d=p*(1-o);f={t:"rangeBands",a:arguments};return a};a.rangeRoundBands=function(l,o,m){if(arguments.length<2){o=0}if(arguments.length<3){m=o}var s=l[1]<l[0],n=l[s-0],q=l[1-s],p=Math.floor((q-n)/(b.length-o+2*m));h=g(n+Math.round((q-n-(b.length-o)*p)/2),p);if(s){h.reverse()}d=Math.round(p*(1-o));f={t:"rangeRoundBands",a:arguments};return a};a.rangeBand=function(){return d};a.rangeExtent=function(){return kS(f.a[0])};a.copy=function(){return mX(b,f)};return a.domain(b)}iC.scale.category10=function(){return iC.scale.ordinal().range(pg)};iC.scale.category20=function(){return iC.scale.ordinal().range(nx)};iC.scale.category20b=function(){return iC.scale.ordinal().range(iO)};iC.scale.category20c=function(){return iC.scale.ordinal().range(iQ)};var pg=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(lJ);var nx=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(lJ);var iO=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(lJ);var iQ=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(lJ);iC.scale.quantile=function(){return pj([],[])};function pj(c,f){var b;function d(){var h=0,g=f.length;b=[];while(++h<g){b[h-1]=iC.quantile(c,h/g)}return a}function a(g){if(!isNaN(g=+g)){return f[iC.bisect(b,g)]}}a.domain=function(g){if(!arguments.length){return c}c=g.map(ix).filter(o9).sort(kl);return d()};a.range=function(g){if(!arguments.length){return f}f=g;return d()};a.quantiles=function(){return b};a.invertExtent=function(g){g=f.indexOf(g);return g<0?[NaN,NaN]:[g>0?b[g-1]:c[0],g<b.length?b[g]:c[c.length-1]]};a.copy=function(){return pj(c,f)};return d()}iC.scale.quantize=function(){return nH(0,1,[0,1])};function nH(c,f,h){var b,d;function a(l){return h[Math.max(0,Math.min(d,Math.floor(b*(l-c))))]}function g(){b=h.length/(f-c);d=h.length-1;return a}a.domain=function(l){if(!arguments.length){return[c,f]}c=+l[0];f=+l[l.length-1];return g()};a.range=function(l){if(!arguments.length){return h}h=l;return g()};a.invertExtent=function(l){l=h.indexOf(l);l=l<0?NaN:l/b+c;return[l,l+1/b]};a.copy=function(){return nH(c,f,h)};return g()}iC.scale.threshold=function(){return lT([0.5],[0,1])};function lT(c,b){function a(d){if(d<=d){return b[iC.bisect(c,d)]}}a.domain=function(d){if(!arguments.length){return c}c=d;return a};a.range=function(d){if(!arguments.length){return b}b=d;return a};a.invertExtent=function(d){d=b.indexOf(d);return[c[d-1],c[d]]};a.copy=function(){return lT(c,b)};return a}iC.scale.identity=function(){return lQ([0,1])};function lQ(b){function a(c){return +c}a.invert=a;a.domain=a.range=function(c){if(!arguments.length){return b}b=c.map(a);return a};a.ticks=function(c){return na(b,c)};a.tickFormat=function(d,c){return kC(b,d,c)};a.copy=function(){return lQ(b)};return a}iC.svg={};function l5(){return 0}iC.svg.arc=function(){var d=qg,l=oj,h=l5,c=kR,f=jq,a=pM,m=pV;function b(){var v=Math.max(0,+d.apply(this,arguments)),w=Math.max(0,+l.apply(this,arguments)),L=f.apply(this,arguments)-k2,M=a.apply(this,arguments)-k2,o=Math.abs(M-L),aa=L>M?0:1;if(w<v){O=w,w=v,v=O}if(o>=kv){return g(w,aa)+(v?g(v,1-aa):"")+"Z"}var O,Z,U,z,J=0,K=0,p,E,q,t,s,F,u,H,N=[];if(z=(+m.apply(this,arguments)||0)/2){U=c===kR?Math.sqrt(v*v+w*w):+c.apply(this,arguments);if(!aa){K*=-1}if(w){K=nF(U/w*Math.sin(z))}if(v){J=nF(U/v*Math.sin(z))}}if(w){p=w*Math.cos(L+K);E=w*Math.sin(L+K);q=w*Math.cos(M-K);t=w*Math.sin(M-K);var y=Math.abs(M-L-2*K)<=jv?0:1;if(K&&jw(p,E,q,t)===aa^y){var W=(L+M)/2;p=w*Math.cos(W);E=w*Math.sin(W);q=t=null}}else{p=E=0}if(v){s=v*Math.cos(M-J);F=v*Math.sin(M-J);u=v*Math.cos(L+J);H=v*Math.sin(L+J);var x=Math.abs(L-M+2*J)<=jv?0:1;if(J&&jw(s,F,u,H)===1-aa^x){var V=(L+M)/2;s=v*Math.cos(V);F=v*Math.sin(V);u=H=null}}else{s=F=0}if(o>jd&&(O=Math.min(Math.abs(w-v)/2,+h.apply(this,arguments)))>0.001){Z=v<w^aa?0:1;var I=O,G=O;if(o<jv){var R=u==null?[s,F]:q==null?[p,E]:jk([p,E],[u,H],[q,t],[s,F]),A=p-R[0],B=E-R[1],P=q-R[0],Q=t-R[1],D=1/Math.sin(Math.acos((A*P+B*Q)/(Math.sqrt(A*A+B*B)*Math.sqrt(P*P+Q*Q)))/2),T=Math.sqrt(R[0]*R[0]+R[1]*R[1]);G=Math.min(O,(v-T)/(D-1));I=Math.min(O,(w-T)/(D+1))}if(q!=null){var ab=ks(u==null?[s,F]:[u,H],[p,E],w,I,aa),C=ks([q,t],[s,F],w,I,aa);if(O===I){N.push("M",ab[0],"A",I,",",I," 0 0,",Z," ",ab[1],"A",w,",",w," 0 ",1-aa^jw(ab[1][0],ab[1][1],C[1][0],C[1][1]),",",aa," ",C[1],"A",I,",",I," 0 0,",Z," ",C[0])}else{N.push("M",ab[0],"A",I,",",I," 0 1,",Z," ",C[0])}}else{N.push("M",p,",",E)}if(u!=null){var n=ks([p,E],[u,H],v,-G,aa),S=ks([s,F],q==null?[p,E]:[q,t],v,-G,aa);if(O===G){N.push("L",S[0],"A",G,",",G," 0 0,",Z," ",S[1],"A",v,",",v," 0 ",aa^jw(S[1][0],S[1][1],n[1][0],n[1][1]),",",1-aa," ",n[1],"A",G,",",G," 0 0,",Z," ",n[0])}else{N.push("L",S[0],"A",G,",",G," 0 0,",Z," ",n[0])}}else{N.push("L",s,",",F)}}else{N.push("M",p,",",E);if(q!=null){N.push("A",w,",",w," 0 ",y,",",aa," ",q,",",t)}N.push("L",s,",",F);if(u!=null){N.push("A",v,",",v," 0 ",x,",",1-aa," ",u,",",H)}}N.push("Z");return N.join("")}function g(n,o){return"M0,"+n+"A"+n+","+n+" 0 1,"+o+" 0,"+-n+"A"+n+","+n+" 0 1,"+o+" 0,"+n}b.innerRadius=function(n){if(!arguments.length){return d}d=oy(n);return b};b.outerRadius=function(n){if(!arguments.length){return l}l=oy(n);return b};b.cornerRadius=function(n){if(!arguments.length){return h}h=oy(n);return b};b.padRadius=function(n){if(!arguments.length){return c}c=n==kR?kR:oy(n);return b};b.startAngle=function(n){if(!arguments.length){return f}f=oy(n);return b};b.endAngle=function(n){if(!arguments.length){return a}a=oy(n);return b};b.padAngle=function(n){if(!arguments.length){return m}m=oy(n);return b};b.centroid=function(){var n=(+d.apply(this,arguments)+ +l.apply(this,arguments))/2,o=(+f.apply(this,arguments)+ +a.apply(this,arguments))/2-k2;return[Math.cos(o)*n,Math.sin(o)*n]};return b};var kR="auto";function qg(a){return a.innerRadius}function oj(a){return a.outerRadius}function jq(a){return a.startAngle}function pM(a){return a.endAngle}function pV(a){return a&&a.padAngle}function jw(d,a,c,b){return(d-c)*a-(a-b)*d>0?0:1}function ks(H,I,u,v,B){var x=H[0]-I[0],z=H[1]-I[1],w=(B?v:-v)/Math.sqrt(x*x+z*z),y=w*z,A=-w*x,o=H[0]+y,C=H[1]+A,q=I[0]+y,E=I[1]+A,s=(o+q)/2,G=(C+E)/2,m=q-o,p=E-C,c=m*m+p*p,b=u-v,h=o*E-q*C,l=(p<0?-1:1)*Math.sqrt(Math.max(0,b*b*c-h*h)),a=(h*p-m*l)/c,f=(-h*m-p*l)/c,d=(h*p+m*l)/c,g=(-h*m+p*l)/c,D=a-s,n=f-G,F=d-s,t=g-G;if(D*D+n*n>F*F+t*t){a=d,f=g}return[[a-y,f-A],[a*u/b,f*u/b]]}function kE(l){var h=iY,a=i0,b=p4,f=i6,c=f.key,d=0.7;function g(s){var p=[],m=[],q=-1,v=s.length,n,t=oy(h),u=oy(a);function o(){p.push("M",f(l(m),d))}while(++q<v){if(b.call(this,n=s[q],q)){m.push([+t.call(this,n,q),+u.call(this,n,q)])}else{if(m.length){o();m=[]}}}if(m.length){o()}return p.length?p.join(""):null}g.x=function(m){if(!arguments.length){return h}h=m;return g};g.y=function(m){if(!arguments.length){return a}a=m;return g};g.defined=function(m){if(!arguments.length){return b}b=m;return g};g.interpolate=function(m){if(!arguments.length){return c}if(typeof m==="function"){c=f=m}else{c=(f=nG.get(m)||i6).key}return g};g.tension=function(m){if(!arguments.length){return d}d=m;return g};return g}iC.svg.line=function(){return kE(jg)};var nG=iC.map({linear:i6,"linear-closed":qk,step:mC,"step-before":oC,"step-after":jI,basis:ku,"basis-open":oM,"basis-closed":oB,bundle:oq,cardinal:m0,"cardinal-open":qx,"cardinal-closed":m9,monotone:mk});nG.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});function i6(a){return a.length>1?a.join("L"):a+"Z"}function qk(a){return a.join("L")+"Z"}function mC(f){var d=0,a=f.length,b=f[0],c=[b[0],",",b[1]];while(++d<a){c.push("H",(b[0]+(b=f[d])[0])/2,"V",b[1])}if(a>1){c.push("H",b[0])}return c.join("")}function oC(f){var d=0,a=f.length,b=f[0],c=[b[0],",",b[1]];while(++d<a){c.push("V",(b=f[d])[1],"H",b[0])}return c.join("")}function jI(f){var d=0,a=f.length,b=f[0],c=[b[0],",",b[1]];while(++d<a){c.push("H",(b=f[d])[0],"V",b[1])}return c.join("")}function qx(b,a){return b.length<4?i6(b):b[1]+n3(b.slice(1,-1),ps(b,a))}function m9(b,a){return b.length<3?qk(b):b[0]+n3((b.push(b[0]),b),ps([b[b.length-2]].concat(b,[b[1]]),a))}function m0(b,a){return b.length<3?i6(b):b[0]+n3(b,ps(b,a))}function n3(h,l){if(l.length<1||h.length!=l.length&&h.length!=l.length+2){return i6(h)}var g=h.length!=l.length,b="",f=h[0],c=h[1],m=l[0],d=m,o=1;if(g){b+="Q"+(c[0]-m[0]*2/3)+","+(c[1]-m[1]*2/3)+","+c[0]+","+c[1];f=h[1];o=2}if(l.length>1){d=l[1];c=h[o];o++;b+="C"+(f[0]+m[0])+","+(f[1]+m[1])+","+(c[0]-d[0])+","+(c[1]-d[1])+","+c[0]+","+c[1];for(var a=2;a<l.length;a++,o++){c=h[o];d=l[a];b+="S"+(c[0]-d[0])+","+(c[1]-d[1])+","+c[0]+","+c[1]}}if(g){var n=h[o];b+="Q"+(c[0]+d[0]*2/3)+","+(c[1]+d[1]*2/3)+","+n[0]+","+n[1]}return b}function ps(f,h){var m=[],l=(1-h)/2,c,d=f[0],g=f[1],a=1,b=f.length;while(++a<b){c=d;d=g;g=f[a];m.push([l*(g[0]-c[0]),l*(g[1]-c[1])])}return m}function ku(d){if(d.length<3){return i6(d)}var m=1,a=d.length,l=d[0],b=l[0],g=l[1],f=[b,b,b,(l=d[1])[0]],h=[g,g,g,l[1]],c=[b,",",g,"L",jf(iD,f),",",jf(iD,h)];d.push(d[a-1]);while(++m<=a){l=d[m];f.shift();f.push(l[0]);h.shift();h.push(l[1]);pJ(c,f,h)}d.pop();c.push("L",l);return c.join("")}function oM(d){if(d.length<4){return i6(d)}var b=[],f=-1,a=d.length,c,h=[0],g=[0];while(++f<3){c=d[f];h.push(c[0]);g.push(c[1])}b.push(jf(iD,h)+","+jf(iD,g));--f;while(++f<a){c=d[f];h.shift();h.push(c[0]);g.shift();g.push(c[1]);pJ(b,h,g)}return b.join("")}function oB(d){var b,f=-1,a=d.length,h=a+4,c,g=[],l=[];while(++f<4){c=d[f%a];g.push(c[0]);l.push(c[1])}b=[jf(iD,g),",",jf(iD,l)];--f;while(++f<h){c=d[f%a];g.shift();g.push(c[0]);l.shift();l.push(c[1]);pJ(b,g,l)}return b.join("")}function oq(g,h){var n=g.length-1;if(n){var a=g[0][0],l=g[0][1],c=g[n][0]-a,d=g[n][1]-l,m=-1,b,f;while(++m<=n){b=g[m];f=m/n;b[0]=h*b[0]+(1-h)*(a+f*c);b[1]=h*b[1]+(1-h)*(l+f*d)}}return ku(g)}function jf(b,a){return b[0]*a[0]+b[1]*a[1]+b[2]*a[2]+b[3]*a[3]}var iz=[0,2/3,1/3,0],iB=[0,1/3,2/3,0],iD=[0,1/6,2/3,1/6];function pJ(c,b,a){c.push("C",jf(iz,b),",",jf(iz,a),",",jf(iB,b),",",jf(iB,a),",",jf(iD,b),",",jf(iD,a))}function jV(b,a){return(a[1]-b[1])/(a[0]-b[0])}function lE(d){var f=0,h=d.length-1,g=[],a=d[0],b=d[1],c=g[0]=jV(a,b);while(++f<h){g[f]=(c+(c=jV(a=b,b=d[f+1])))/2}g[f]=c;return g}function pu(d){var h=[],l,f,g,c,b=lE(d),m=-1,a=d.length-1;while(++m<a){l=jV(d[m],d[m+1]);if(o0(l)<jd){b[m]=b[m+1]=0}else{f=b[m]/l;g=b[m+1]/l;c=f*f+g*g;if(c>9){c=l*3/Math.sqrt(c);b[m]=c*f;b[m+1]=c*g}}}m=-1;while(++m<=a){c=(d[Math.min(a,m+1)][0]-d[Math.max(0,m-1)][0])/(6*(1+b[m]*b[m]));h.push([c||0,b[m]*c||0])}return h}function mk(a){return a.length<3?i6(a):a[0]+n3(a,pu(a))}iC.svg.line.radial=function(){var a=kE(oF);a.radius=a.x,delete a.x;a.angle=a.y,delete a.y;return a};function oF(c){var f,d=-1,a=c.length,b,g;while(++d<a){f=c[d];b=f[0];g=f[1]-k2;f[0]=b*Math.cos(g);f[1]=b*Math.sin(g)}return c}function jO(n){var p=iY,a=iY,d=0,g=i0,o=p4,m=i6,b=m.key,h=m,l="L",f=0.7;function c(u){var s=[],B=[],x=[],t=-1,y=u.length,E,v=oy(p),z=oy(d),w=p===a?function(){return C}:oy(a),A=d===g?function(){return D}:oy(g),C,D;function q(){s.push("M",m(n(x),f),l,h(n(B.reverse()),f),"Z")}while(++t<y){if(o.call(this,E=u[t],t)){B.push([C=+v.call(this,E,t),D=+z.call(this,E,t)]);x.push([+w.call(this,E,t),+A.call(this,E,t)])}else{if(B.length){q();B=[];x=[]}}}if(B.length){q()}return s.length?s.join(""):null}c.x=function(q){if(!arguments.length){return a}p=a=q;return c};c.x0=function(q){if(!arguments.length){return p}p=q;return c};c.x1=function(q){if(!arguments.length){return a}a=q;return c};c.y=function(q){if(!arguments.length){return g}d=g=q;return c};c.y0=function(q){if(!arguments.length){return d}d=q;return c};c.y1=function(q){if(!arguments.length){return g}g=q;return c};c.defined=function(q){if(!arguments.length){return o}o=q;return c};c.interpolate=function(q){if(!arguments.length){return b}if(typeof q==="function"){b=m=q}else{b=(m=nG.get(q)||i6).key}h=m.reverse||m;l=m.closed?"M":"L";return c};c.tension=function(q){if(!arguments.length){return f}f=q;return c};return c}oC.reverse=jI;jI.reverse=oC;iC.svg.area=function(){return jO(jg)};iC.svg.area.radial=function(){var a=jO(oF);a.radius=a.x,delete a.x;a.innerRadius=a.x0,delete a.x0;a.outerRadius=a.x1,delete a.x1;a.angle=a.y,delete a.y;a.startAngle=a.y0,delete a.y0;a.endAngle=a.y1,delete a.y1;return a};iC.svg.chord=function(){var b=jn,f=i9,g=o4,d=jq,l=pM;function h(o,q){var p=c(this,b,o,q),s=c(this,f,o,q);return"M"+p.p0+a(p.r,p.p1,p.a1-p.a0)+(n(p,s)?m(p.r,p.p1,p.r,p.p0):m(p.r,p.p1,s.r,s.p0)+a(s.r,s.p1,s.a1-s.a0)+m(s.r,s.p1,p.r,p.p0))+"Z"}function c(t,p,o,s){var u=p.call(t,o,s),q=g.call(t,u,s),v=d.call(t,u,s)-k2,w=l.call(t,u,s)-k2;return{r:q,a0:v,a1:w,p0:[q*Math.cos(v),q*Math.sin(v)],p1:[q*Math.cos(w),q*Math.sin(w)]}}function n(o,p){return o.a0==p.a0&&o.a1==p.a1}function a(p,o,q){return"A"+p+","+p+" 0 "+ +(q>jv)+",1 "+o}function m(q,o,s,p){return"Q 0,0 "+p}h.radius=function(o){if(!arguments.length){return g}g=oy(o);return h};h.source=function(o){if(!arguments.length){return b}b=oy(o);return h};h.target=function(o){if(!arguments.length){return f}f=oy(o);return h};h.startAngle=function(o){if(!arguments.length){return d}d=oy(o);return h};h.endAngle=function(o){if(!arguments.length){return l}l=oy(o);return h};return h};function o4(a){return a.radius}iC.svg.diagonal=function(){var b=jn,a=i9,c=nu;function d(f,l){var n=b.call(this,f,l),h=a.call(this,f,l),m=(n.y+h.y)/2,g=[n,{x:n.x,y:m},{x:h.x,y:m},h];g=g.map(c);return"M"+g[0]+"C"+g[1]+" "+g[2]+" "+g[3]}d.source=function(f){if(!arguments.length){return b}b=oy(f);return d};d.target=function(f){if(!arguments.length){return a}a=oy(f);return d};d.projection=function(f){if(!arguments.length){return c}c=f;return d};return d};function nu(a){return[a.x,a.y]}iC.svg.diagonal.radial=function(){var a=iC.svg.diagonal(),b=nu,c=a.projection;a.projection=function(d){return arguments.length?c(nr(b=d)):b};return a};function nr(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]-k2;return[c*Math.cos(d),c*Math.sin(d)]}}iC.svg.symbol=function(){var c=qr,b=mW;function a(d,f){return(jc.get(c.call(this,d,f))||nC)(b.call(this,d,f))}a.type=function(d){if(!arguments.length){return c}c=oy(d);return a};a.size=function(d){if(!arguments.length){return b}b=oy(d);return a};return a};function mW(){return 64}function qr(){return"circle"}function nC(a){var b=Math.sqrt(a/jv);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}var jc=iC.map({circle:nC,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(b){var c=Math.sqrt(b/(2*nj)),a=c*nj;return"M0,"+-c+"L"+a+",0 0,"+c+" "+-a+",0Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(b){var a=Math.sqrt(b/nX),c=a*nX/2;return"M0,"+c+"L"+a+","+-c+" "+-a+","+-c+"Z"},"triangle-up":function(b){var a=Math.sqrt(b/nX),c=a*nX/2;return"M0,"+-c+"L"+a+","+c+" "+-a+","+c+"Z"}});iC.svg.symbolTypes=jc.keys();var nX=Math.sqrt(3),nj=Math.tan(30*oZ);oE.transition=function(d){var a=pB||++iP,f=kG(d),o=[],b,m,g=oe||{time:Date.getEpochTime(),ease:pr,delay:0,duration:250};for(var l=-1,n=this.length;++l<n;){o.push(b=[]);for(var c=this[l],h=-1,p=c.length;++h<p;){if(m=c[h]){lA(m,h,f,a,g)}b.push(m)}}return j0(o,f,a)};oE.interrupt=function(a){return this.each(a==null?ob:lK(kG(a)))};var ob=lK(kG());function lK(a){return function(){var c,d,b;if((c=this[a])&&(b=c[d=c.active])){b.timer.c=null;b.timer.t=NaN;if(--c.count){delete c[d]}else{delete this[a]}c.active+=0.5;b.event&&b.event.interrupt.call(this,this.__data__,b.index)}}}function j0(b,c,a){jS(b,kK);b.namespace=c;b.id=a;return b}var kK=[],iP=0,pB,oe;kK.call=oE.call;kK.empty=oE.empty;kK.node=oE.node;kK.size=oE.size;iC.transition=function(b,a){return b&&b.transition?pB?b.transition(a):b:iC.selection().transition(b)};iC.transition.prototype=kK;kK.select=function(l){var d=this.id,f=this.namespace,o=[],b,a,m;l=mJ(l);for(var h=-1,n=this.length;++h<n;){o.push(b=[]);for(var c=this[h],g=-1,p=c.length;++g<p;){if((m=c[g])&&(a=l.call(m,m.__data__,g,h))){if("__data__" in m){a.__data__=m.__data__}lA(a,g,f,d,m[f][d]);b.push(a)}else{b.push(null)}}}return j0(o,f,d)};kK.selectAll=function(n){var a=this.id,d=this.namespace,q=[],b,l,o,u,f;n=pO(n);for(var h=-1,p=this.length;++h<p;){for(var c=this[h],g=-1,s=c.length;++g<s;){if(o=c[g]){f=o[d][a];l=n.call(o,o.__data__,g,h);q.push(b=[]);for(var m=-1,t=l.length;++m<t;){if(u=l[m]){lA(u,m,d,a,f)}b.push(u)}}}}return j0(q,d,a)};kK.filter=function(b){var m=[],c,d,l;if(typeof b!=="function"){b=pi(b)}for(var g=0,h=this.length;g<h;g++){m.push(c=[]);for(var d=this[g],f=0,a=d.length;f<a;f++){if((l=d[f])&&b.call(l,l.__data__,f,g)){c.push(l)}}}return j0(m,this.namespace,this.id)};kK.tween=function(c,d){var a=this.id,b=this.namespace;if(arguments.length<2){return this.node()[b][a].tween.get(c)}return oU(this,d==null?function(f){f[b][a].tween.remove(c)}:function(f){f[b][a].tween.set(c,d)})};function je(f,g,b,d){var a=f.id,c=f.namespace;return oU(f,typeof b==="function"?function(h,l,m){h[c][a].tween.set(g,d(b.call(h,h.__data__,l,m)))}:(b=d(b),function(h){h[c][a].tween.set(g,b)}))}kK.attr=function(h,c){if(arguments.length<2){for(c in h){this.attr(c,h[c])}return this}var f=h=="transform"?lo:ly,g=iC.ns.qualify(h);function l(){this.removeAttribute(g)}function a(){this.removeAttributeNS(g.space,g.local)}function d(m){return m==null?l:(m+="",function(){var o=this.getAttribute(g),n;return o!==m&&(n=f(o,m),function(p){this.setAttribute(g,n(p))})})}function b(m){return m==null?a:(m+="",function(){var o=this.getAttributeNS(g.space,g.local),n;return o!==m&&(n=f(o,m),function(p){this.setAttributeNS(g.space,g.local,n(p))})})}return je(this,"attr."+h,c,g.local?b:d)};kK.attrTween=function(d,c){var f=iC.ns.qualify(d);function b(g,l){var h=c.call(this,g,l,this.getAttribute(f));return h&&function(m){this.setAttribute(f,h(m))}}function a(g,l){var h=c.call(this,g,l,this.getAttributeNS(f.space,f.local));return h&&function(m){this.setAttributeNS(f.space,f.local,h(m))}}return this.tween("attr."+d,f.local?a:b)};kK.style=function(d,b,c){var a=arguments.length;if(a<3){if(typeof d!=="string"){if(a<2){b=""}for(c in d){this.style(c,d[c],b)}return this}c=""}function g(){this.style.removeProperty(d)}function f(h){return h==null?g:(h+="",function(){var m=lG(this).getComputedStyle(this,null).getPropertyValue(d),l;return m!==h&&(l=ly(m,h),function(n){this.style.setProperty(d,l(n),c)})})}return je(this,"style."+d,b,f)};kK.styleTween=function(c,b,d){if(arguments.length<3){d=""}function a(f,h){var g=b.call(this,f,h,lG(this).getComputedStyle(this,null).getPropertyValue(c));return g&&function(l){this.style.setProperty(c,g(l),d)}}return this.tween("style."+c,a)};kK.text=function(a){return je(this,"text",a,io)};function io(a){if(a==null){a=""}return function(){this.textContent=a}}kK.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;if(this[a].count<2&&(b=this.parentNode)){b.removeChild(this)}})};kK.ease=function(c){var a=this.id,b=this.namespace;if(arguments.length<1){return this.node()[b][a].ease}if(typeof c!=="function"){c=iC.ease.apply(iC,arguments)}return oU(this,function(d){d[b][a].ease=c})};kK.delay=function(c){var a=this.id,b=this.namespace;if(arguments.length<1){return this.node()[b][a].delay}return oU(this,typeof c==="function"?function(d,f,g){d[b][a].delay=+c.call(d,d.__data__,f,g)}:(c=+c,function(d){d[b][a].delay=c}))};kK.duration=function(c){var a=this.id,b=this.namespace;if(arguments.length<1){return this.node()[b][a].duration}return oU(this,typeof c==="function"?function(d,f,g){d[b][a].duration=Math.max(1,c.call(d,d.__data__,f,g))}:(c=Math.max(1,c),function(d){d[b][a].duration=c}))};kK.each=function(d,c){var a=this.id,g=this.namespace;if(arguments.length<2){var f=oe,b=pB;try{pB=a;oU(this,function(h,l,m){oe=h[g][a];d.call(h,h.__data__,l,m)})}finally{oe=f;pB=b}}else{oU(this,function(l){var h=l[g][a];(h.event||(h.event=iC.dispatch("start","end","interrupt"))).on(d,c)})}return this};kK.transition=function(){var b=this.id,d=++iP,h=this.namespace,a=[],f,g,o,l;for(var n=0,p=this.length;n<p;n++){a.push(f=[]);for(var g=this[n],m=0,c=g.length;m<c;m++){if(o=g[m]){l=o[h][b];lA(o,m,h,d,{time:l.time,ease:l.ease,delay:l.delay+l.duration,duration:l.duration})}f.push(o)}}return j0(a,h,d)};function kG(a){return a==null?"__transition__":"__transition_"+a+"__"}function lA(q,n,c,t,m){var b=q[c]||(q[c]={active:0,count:0}),d=b[t],s,a,o,p,f;function h(v){var u=d.delay;a.t=u+s;if(u<=v){return g(v-u)}a.c=g}function g(x){var w=b.active,u=b[w];if(u){u.timer.c=null;u.timer.t=NaN;--b.count;delete b[w];u.event&&u.event.interrupt.call(q,q.__data__,u.index)}for(var y in b){if(+y<t){var v=b[y];v.timer.c=null;v.timer.t=NaN;--b.count;delete b[y]}}a.c=l;k1(function(){if(a.c&&l(x||1)){a.c=null;a.t=NaN}return 1},0,s);b.active=t;d.event&&d.event.start.call(q,q.__data__,n);f=[];d.tween.forEach(function(A,z){if(z=z.call(q,q.__data__,n)){f.push(z)}});p=d.ease;o=d.duration}function l(x){var w=x/o,v=p(w),u=f.length;while(u>0){f[--u].call(q,v)}if(w>=1){d.event&&d.event.end.call(q,q.__data__,n);if(--b.count){delete b[t]}else{delete q[c]}return 1}}if(!d){s=m.time;a=k1(h,0,s);d=b[t]={tween:new qO(),time:s,timer:a,delay:m.delay,duration:m.duration,ease:m.ease,index:n};m=null;++b.count}}iC.svg.axis=function(){var m=iC.scale.linear(),h=iW,b=6,g=6,c=3,d=[10],l=null,f;function a(n){n.each(function(){var t=iC.select(this);var D=this.__chart__||m,E=this.__chart__=m.copy();var p=l==null?E.ticks?E.ticks.apply(E,d):E.domain():l,H=f==null?E.tickFormat?E.tickFormat.apply(E,d):jg:f,z=t.selectAll(".tick").data(p,E),L=z.enter().insert("g",".domain").attr("class","tick").style("opacity",jd),I=iC.transition(z.exit()).style("opacity",jd).remove(),B=iC.transition(z.order()).style("opacity",1),O=Math.max(b,0)+c,M;var N=il(E),K=t.selectAll(".domain").data([0]),o=(K.enter().append("path").attr("class","domain"),iC.transition(K));L.append("line");L.append("text");var F=L.select("line"),q=B.select("line"),v=z.select("text").text(H),C=L.select("text"),u=B.select("text"),s=h==="top"||h==="left"?-1:1,x,A,G,J;if(h==="bottom"||h==="top"){M=j9,x="x",G="y",A="x2",J="y2";v.attr("dy",s<0?"0em":".71em").style("text-anchor","middle");o.attr("d","M"+N[0]+","+s*g+"V0H"+N[1]+"V"+s*g)}else{M=kc,x="y",G="x",A="y2",J="x2";v.attr("dy",".32em").style("text-anchor",s<0?"end":"start");o.attr("d","M"+s*g+","+N[0]+"H0V"+N[1]+"H"+s*g)}F.attr(J,s*b);C.attr(G,s*O);q.attr(A,0).attr(J,s*b);u.attr(x,0).attr(G,s*O);if(E.rangeBand){var y=E,w=y.rangeBand()/2;D=E=function(P){return y(P)+w}}else{if(D.rangeBand){D=E}else{I.call(M,E,D)}}L.call(M,D,E);B.call(M,E,E)})}a.scale=function(n){if(!arguments.length){return m}m=n;return a};a.orient=function(n){if(!arguments.length){return h}h=n in m4?n+"":iW;return a};a.ticks=function(){if(!arguments.length){return d}d=nc(arguments);return a};a.tickValues=function(n){if(!arguments.length){return l}l=n;return a};a.tickFormat=function(n){if(!arguments.length){return f}f=n;return a};a.tickSize=function(o){var n=arguments.length;if(!n){return b}b=+o;g=+arguments[n-1];return a};a.innerTickSize=function(n){if(!arguments.length){return b}b=+n;return a};a.outerTickSize=function(n){if(!arguments.length){return g}g=+n;return a};a.tickPadding=function(n){if(!arguments.length){return c}c=+n;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};var iW="bottom",m4={top:1,right:1,bottom:1,left:1};function j9(a,c,b){a.attr("transform",function(d){var f=c(d);return"translate("+(isFinite(f)?f:b(d))+",0)"})}function kc(c,a,b){c.attr("transform",function(d){var f=a(d);return"translate(0,"+(isFinite(f)?f:b(d))+")"})}iC.svg.brush=function(){var a=iI(m,"brushstart","brush","brushend"),f=null,l=null,t=[0,0],n=[0,0],g,q,h=true,o=true,d=py[0];function m(u){u.each(function(){var w=iC.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",c).on("touchstart.brush",c);var y=w.selectAll(".background").data([0]);y.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");w.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var A=w.selectAll(".resize").data(d,jg);A.exit().remove();A.enter().append("g").attr("class",function(B){return"resize "+B}).style("cursor",function(B){return lM[B]}).append("rect").attr("x",function(B){return/[ew]$/.test(B)?-3:null}).attr("y",function(B){return/^[ns]/.test(B)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");A.style("display",m.empty()?"none":null);var v=iC.transition(w),z=iC.transition(y),x;if(f){x=il(f);z.attr("x",x[0]).attr("width",x[1]-x[0]);p(v)}if(l){x=il(l);z.attr("y",x[0]).attr("height",x[1]-x[0]);s(v)}b(v)})}m.event=function(u){u.each(function(){var x=a.of(this,arguments),w={x:t,y:n,i:g,j:q},v=this.__chart__||w;this.__chart__=w;if(pB){iC.select(this).transition().each("start.brush",function(){g=v.i;q=v.j;t=v.x;n=v.y;x({type:"brushstart"})}).tween("brush:brush",function(){var z=l6(t,w.x),y=l6(n,w.y);g=q=null;return function(A){t=w.x=z(A);n=w.y=y(A);x({type:"brush",mode:"resize"})}}).each("end.brush",function(){g=w.i;q=w.j;x({type:"brush",mode:"resize"});x({type:"brushend"})})}else{x({type:"brushstart"});x({type:"brush",mode:"resize"});x({type:"brushend"})}})};function b(u){u.selectAll(".resize").attr("transform",function(v){return"translate("+t[+/e$/.test(v)]+","+n[+/^s/.test(v)]+")"})}function p(u){u.select(".extent").attr("x",t[0]);u.selectAll(".extent,.n>rect,.s>rect").attr("width",t[1]-t[0])}function s(u){u.select(".extent").attr("y",n[0]);u.selectAll(".extent,.e>rect,.w>rect").attr("height",n[1]-n[0])}function c(){var u=this,F=iC.select(iC.event.target),K=a.of(u,arguments),A=iC.select(u),x=F.datum(),E=!/^(n|s)$/.test(x)&&f,I=!/^(e|w)$/.test(x)&&l,H=F.classed("extent"),B=pY(u),w,v=iC.mouse(u),D;var M=iC.select(lG(u)).on("keydown.brush",J).on("keyup.brush",N);if(iC.event.changedTouches){M.on("touchmove.brush",L).on("touchend.brush",G)}else{M.on("mousemove.brush",L).on("mouseup.brush",G)}A.interrupt().selectAll("*").interrupt();if(H){v[0]=t[0]-v[0];v[1]=n[0]-v[1]}else{if(x){var z=+/w$/.test(x),C=+/^n/.test(x);D=[t[1-z]-v[0],n[1-C]-v[1]];v[0]=t[z];v[1]=n[C]}else{if(iC.event.altKey){w=v.slice()}}}A.style("pointer-events","none").selectAll(".resize").style("display",null);iC.select("body").style("cursor",F.style("cursor"));K({type:"brushstart"});L();function J(){if(iC.event.keyCode==32){if(!H){w=null;v[0]-=t[1];v[1]-=n[1];H=2}mT()}}function N(){if(iC.event.keyCode==32&&H==2){v[0]+=t[1];v[1]+=n[1];H=0;mT()}}function L(){var P=iC.mouse(u),O=false;if(D){P[0]+=D[0];P[1]+=D[1]}if(!H){if(iC.event.altKey){if(!w){w=[(t[0]+t[1])/2,(n[0]+n[1])/2]}v[0]=t[+(P[0]<w[0])];v[1]=n[+(P[1]<w[1])]}else{w=null}}if(E&&y(P,f,0)){p(A);O=true}if(I&&y(P,l,1)){s(A);O=true}if(O){b(A);K({type:"brush",mode:H?"move":"resize"})}}function y(Q,W,U){var T=il(W),Z=T[0],aa=T[1],S=v[U],P=U?n:t,O=P[1]-P[0],V,R;if(H){Z-=S;aa-=O+S}V=(U?o:h)?Math.max(Z,Math.min(aa,Q[U])):Q[U];if(H){R=(V+=S)+O}else{if(w){S=Math.max(Z,Math.min(aa,2*w[U]-V))}if(S<V){R=V;V=S}else{R=S}}if(P[0]!=V||P[1]!=R){if(U){q=null}else{g=null}P[0]=V;P[1]=R;return true}}function G(){L();A.style("pointer-events","all").selectAll(".resize").style("display",m.empty()?"none":null);iC.select("body").style("cursor",null);M.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);B();K({type:"brushend"})}}m.x=function(u){if(!arguments.length){return f}f=u;d=py[!f<<1|!l];return m};m.y=function(u){if(!arguments.length){return l}l=u;d=py[!f<<1|!l];return m};m.clamp=function(u){if(!arguments.length){return f&&l?[h,o]:f?h:l?o:null}if(f&&l){h=!!u[0],o=!!u[1]}else{if(f){h=!!u}else{if(l){o=!!u}}}return m};m.extent=function(w){var v,y,z,u,x;if(!arguments.length){if(f){if(g){v=g[0],y=g[1]}else{v=t[0],y=t[1];if(f.invert){v=f.invert(v),y=f.invert(y)}if(y<v){x=v,v=y,y=x}}}if(l){if(q){z=q[0],u=q[1]}else{z=n[0],u=n[1];if(l.invert){z=l.invert(z),u=l.invert(u)}if(u<z){x=z,z=u,u=x}}}return f&&l?[[v,z],[y,u]]:f?[v,y]:l&&[z,u]}if(f){v=w[0],y=w[1];if(l){v=v[0],y=y[0]}g=[v,y];if(f.invert){v=f(v),y=f(y)}if(y<v){x=v,v=y,y=x}if(v!=t[0]||y!=t[1]){t=[v,y]}}if(l){z=w[0],u=w[1];if(f){z=z[1],u=u[1]}q=[z,u];if(l.invert){z=l(z),u=l(u)}if(u<z){x=z,z=u,u=x}if(z!=n[0]||u!=n[1]){n=[z,u]}}return m};m.clear=function(){if(!m.empty()){t=[0,0],n=[0,0];g=q=null}return m};m.empty=function(){return !!f&&t[0]==t[1]||!!l&&n[0]==n[1]};return iC.rebind(m,a,"on")};var lM={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var py=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var ip=lr.format=mn.timeFormat;var mq=ip.utc;var m8=mq("%Y-%m-%dT%H:%M:%S.%LZ");ip.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?n0:m8;function n0(a){return a.toISOString()}n0.parse=function(b){var a=new Date(b);return isNaN(a)?null:a};n0.toString=m8.toString;lr.second=pR(function(a){return new iy(Math.floor(a/1000)*1000)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*1000)},function(a){return a.getSeconds()});lr.seconds=lr.second.range;lr.seconds.utc=lr.second.utc.range;lr.minute=pR(function(a){return new iy(Math.floor(a/60000)*60000)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*60000)},function(a){return a.getMinutes()});lr.minutes=lr.minute.range;lr.minutes.utc=lr.minute.utc.range;lr.hour=pR(function(a){var b=a.getTimezoneOffset()/60;return new iy((Math.floor(a/3600000-b)+b)*3600000)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*3600000)},function(a){return a.getHours()});lr.hours=lr.hour.range;lr.hours.utc=lr.hour.utc.range;lr.month=pR(function(a){a=lr.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});lr.months=lr.month.range;lr.months.utc=lr.month.utc.range;function oi(d,f,c){function b(g){return d(g)}b.invert=function(g){return l8(d.invert(g))};b.domain=function(g){if(!arguments.length){return d.domain().map(l8)}d.domain(g);return b};function a(h,g){var l=h[1]-h[0],n=l/g,m=iC.bisect(kA,n);return m==kA.length?[f.year,nk(h.map(function(o){return o/31536000000}),g)[2]]:!m?[pm,nk(h,g)[2]]:f[n/kA[m-1]<kA[m]/n?m-1:m]}b.nice=function(l,g){var o=b.domain(),h=kS(o),n=l==null?a(h,10):typeof l==="number"&&a(h,l);if(n){l=n[0],g=n[1]}function m(p){return !isNaN(p)&&!l.range(p,l8(+p+1),g).length}return b.domain(jm(o,g>1?{floor:function(p){while(m(p=l.floor(p))){p=l8(p-1)}return p},ceil:function(p){while(m(p=l.ceil(p))){p=l8(+p+1)}return p}}:l))};b.ticks=function(m,h){var l=kS(b.domain()),g=m==null?a(l,10):typeof m==="number"?a(l,m):!m.range&&[{range:m},h];if(g){m=g[0],h=g[1]}return m.range(l[0],l8(+l[1]+1),h<1?1:h)};b.tickFormat=function(){return c};b.copy=function(){return oi(d.copy(),f,c)};return jC(b,d)}function l8(a){return new Date(a)}var kA=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000];var pa=[[lr.second,1],[lr.second,5],[lr.second,15],[lr.second,30],[lr.minute,1],[lr.minute,5],[lr.minute,15],[lr.minute,30],[lr.hour,1],[lr.hour,3],[lr.hour,6],[lr.hour,12],[lr.day,1],[lr.day,2],[lr.week,1],[lr.month,1],[lr.month,3],[lr.year,1]];var ou=ip.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&a.getDate()!=1}],["%b %d",function(a){return a.getDate()!=1}],["%B",function(a){return a.getMonth()}],["%Y",p4]]);var pm={range:function(a,b,c){return iC.range(Math.ceil(a/c)*c,+b,c).map(l8)},floor:jg,ceil:jg};pa.year=lr.year;lr.scale=function(){return oi(iC.scale.linear(),pa,ou)};var lZ=pa.map(function(a){return[a[0].utc,a[1]]});var jU=mq.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&a.getUTCDate()!=1}],["%b %d",function(a){return a.getUTCDate()!=1}],["%B",function(a){return a.getUTCMonth()}],["%Y",p4]]);lZ.year=lr.year.utc;lr.scale.utc=function(){return oi(iC.scale.linear(),lZ,jU)};iC.text=n5(function(a){return a.responseText});iC.json=function(a,b){return kd(a,"application/json",nn,b)};function nn(a){return JSON.parse(a.responseText)}iC.html=function(a,b){return kd(a,"text/html",iq,b)};function iq(b){var a=pQ.createRange();a.selectNode(pQ.body);return a.createContextualFragment(b.responseText)}iC.xml=n5(function(a){return a.responseXML});if(typeof define==="function"&&define.amd){this.d3=iC,define(iC)}else{if(typeof module==="object"&&module.exports){module.exports=iC}else{this.d3=iC}}}()}if((typeof(HTMLCanvasElement)!="undefined")&&(HTMLCanvasElement!=null)&&(!HTMLCanvasElement.prototype.toBlob)){Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(m,o,n){var q=atob(this.toDataURL(o,n).split(",")[1]),h=q.length,l=new Uint8Array(h);for(var p=0;p<h;p++){l[p]=q.charCodeAt(p)}m(new Blob([l],{type:o||"image/png"}))}})}var saveAs=saveAs||(navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator))||(function(G){if(rdx.utils.is_ie()&&parseInt(rdx.utils.get_browser_version())<11){return}var w=G.document,C=function(){return G.URL||G.webkitURL||G},J=G.URL||G.webkitURL||G,A=w.createElementNS("http://www.w3.org/1999/xhtml","a"),H="download" in A,E=function(a){var b=w.createEvent("MouseEvents");b.initMouseEvent("click",true,false,G,0,0,0,0,0,false,false,false,false,0,null);a.dispatchEvent(b)},z=G.webkitRequestFileSystem,y=G.requestFileSystem||z||G.mozRequestFileSystem,B=function(a){(G.setImmediate||G.setTimeout)(function(){throw a},0)},L="application/octet-stream",D=0,M=[],F=function(){var a=M.length;while(a--){var b=M[a];if(typeof b==="string"){J.revokeObjectURL(b)}else{b.remove()}}M.length=0},x=function(b,c,a){c=[].concat(c);var d=c.length;while(d--){var f=b["on"+c[d]];if(typeof f==="function"){try{f.call(b,a||b)}catch(e){B(e)}}}},I=function(g,f){var e=this,o=g.type,h=false,c,d,l=function(){var q=C().createObjectURL(g);M.push(q);return q},p=function(){x(e,"writestart progress write writeend".split(" "))},m=function(){if(h||!c){c=l(g)}if(d){d.location.href=c}e.readyState=e.DONE;p()},a=function(q){return function(){if(e.readyState!==e.DONE){return q.apply(this,arguments)}}},b={create:true,exclusive:false},n;e.readyState=e.INIT;if(!f){f="download"}if(H){c=l(g);A.href=c;A.download=f;E(A);e.readyState=e.DONE;p();return}if(G.chrome&&o&&o!==L){n=g.slice||g.webkitSlice;g=n.call(g,0,g.size,L);h=true}if(z&&f!=="download"){f+=".download"}if(o===L||z){d=G}else{d=G.open()}if(!y){m();return}D+=g.size;y(G.TEMPORARY,D,a(function(q){q.root.getDirectory("saved",b,a(function(t){var s=function(){t.getFile(f,b,a(function(u){u.createWriter(a(function(v){v.onwriteend=function(P){d.location.href=u.toURL();M.push(u);e.readyState=e.DONE;x(e,"writeend",P)};v.onerror=function(){var P=v.error;if(P.code!==P.ABORT_ERR){m()}};"writestart progress write abort".split(" ").forEach(function(P){v["on"+P]=e["on"+P]});v.write(g);e.abort=function(){v.abort();e.readyState=e.DONE};e.readyState=e.WRITING}),m)}),m)};t.getFile(f,{create:false},a(function(u){u.remove();s()}),a(function(u){if(u.code===u.NOT_FOUND_ERR){s()}else{m()}}))}),m)}),m)},K=I.prototype,N=function(b,a){return new I(b,a)};K.abort=function(){var a=this;a.readyState=a.DONE;x(a,"abort")};K.readyState=K.INIT=0;K.WRITING=1;K.DONE=2;K.error=K.onwritestart=K.onprogress=K.onwrite=K.onabort=K.onerror=K.onwriteend=null;G.addEventListener("unload",F,false);return N}(self));rdx.events=new function(){this.CLICK="click";this.CONTEXT_MENU="contextmenu";this.DOUBLE_CLICK="dblclick";this.SUBMIT="submit";this.CHANGE="change";this.SORT_STOP="sortstop";this.RESIZE="resize";this.LOAD="load";this.ERROR="error";this.BLUR="blur";this.KEYUP="keyup";this.KEYDOWN="keydown";this.MOUSE_OVER="mouseover";this.MOUSE_OUT="mouseout";this.MOUSE_ENTER="mouseenter";this.MOUSE_LEAVE="mouseleave";this.PASTE="paste";this.MOUSE_MOVE="mousemove";this.MOUSE_DOWN="mousedown";this.MOUSE_UP="mouseup";this.SCROLL="scroll";this.FOCUS_IN="focusin";this.FOCUS_OUT="focusout";this.FOCUS="focus";this.REMOVE="remove";this.KEY_PRESS="keypress";this.PROGRESS="progress";this.LOAD_START="loadstart";this.LOAD_END="loadend";this.WINDOW_LOADED="rdx_window_loaded";this.APP_LOADED="rdx_app_loaded";this.PAGE_LOADED="rdx_page_loaded";this.PAGE_RESIZED="rdx_page_resized";this.PAGE_BLURRED="rdx_page_blurred";this.PAGE_FOCUSSED="rdx_page_focussed";this.PAGE_BEFORE_UNLOAD="rdx_page_before_unload";this.PAGE_UNLOAD="rdx_page_unload";this.GADGET_COLLAPSED="rdx_gadget_collapsed";this.GADGET_EXPANDED="rdx_gadget_expanded";this.GADGET_RESTORED="rdx_gadget_restored";this.GADGET_MAXIMIZED="rdx_gadget_maximized";this.GADGET_CLOSED="rdx_gadget_closed";this.CACHE_OBJECT_AVAILABLE="rdx_cache_object_available";this.MODEL_CHANGED="rdx_model_changed";this.BROWSER_EVENT="rdx_browser_event";this.WIZARD_PAGE_CHANGED="rdx_wizard_changed";this.OP_WIZARD_PAGE_CHANGED="rdx_op_wizard_changed";this.OP_WIZARD_PAGE_CANCELLED="rdx_op_wizard_cancelled";this.OP_WIZARD_MESSAGE_CONTAINER="rdx_op_wizard_message_container";this.PAGE_COLLAPSE="rdx_collapse_optional_op_wizard_page";this.OP_WIZARD_PAGE_COLLAPSE="rdx_all_page_collapse";this.PAGE_EXPAND="rdx_op_wizard_page_expand";this.ROW_SELECTION_CHANGED="rdx_row_selection_changed";this.SORT_TABLE_VIEW="rdx_sort_table_view";this.ROW_MOVED="rdx_row_moved";this.DO_REORGANISE_ROWS="rdx_do_reorganise_rows";this.COLUMN_CONTEXT_CHANGED="rdx_column_context_changed";this.SLIDER_CLOSE="rdx_slider_close";this.VIEW_COUNT_CHANGED="rdx_view_count_changed";this.MODEL_COUNT_CHANGED="rdx_model_count_changed";this.BREAD_CRUMB_EVENT="rdx_bread_crumb_event";this.PAGINATION_CHANGED="rdx_pagination_changed";this.BEFORE_VIEW_DESTROYED="rdx_before_view_destroyed";this.VIEW_DESTROYED="rdx_view_destroyed";this.UPDATE_COUNT="rdx_search_done_on_tree";this.GRAPHICAL_SUMMARY_EVENT="rdx_graphical_search_event";this.GRAPHICAL_SUMMARY_REFRESH="rdx_graphical_search_refresh";this.VIEW_PREPARATION_COMPLETED="rdx_view_prepared"};rdx.keycodes=new function(){this.TAB=9;this.DELETE=46;this.BACKSPACE=8;this.NUMPAD_ZERO=96;this.ZERO=48;this.FIVE=53;this.SEVEN=55;this.EIGHT=56;this.NINE=57;this.NUMPAD_NINE=105;this.NUMPAD_FIVE=101;this.SHIFT=16;this.COLON=59;this.SHIFTCOLON=186;this.LEFTARROW=37;this.DOT=190;this.NUMPAD_PERIOD=110;this.A=65;this.B=66;this.C=67;this.D=68;this.E=69;this.F=70;this.X=88;this.V=86;this.FWDSLASH=191;this.ENTER=13;this.PERIOD=190;this.DECIMAL_POINT=110;this.NUMPAD_EIGHT=104;this.NUMPAD_SEVEN=103;this.SHIFT=16;this.SPACE=32;this.PAGEUP=33;this.RIGHT_ARROW=39;this.LEFT_ARROW=37;this.DOWN_ARROW=40;this.UP_ARROW=38;this.ESCAPE=27};rdx.notification_bar=function(){this._parent=null;this._main_div=null;this._set_timeout=7000;this._notification_bar_rendered=false};rdx.notification_bar.prototype.show=function(l,n,o,g,h){if(this._notification_bar_rendered==false){this._parent=$(document.body);this._notifications=$("<div>").addClass("notifications");this._parent.prepend(this._notifications)}if(this._notification_bar_rendered==true&&(h!=true)){this.hide()}this._main_div=$("<div>").addClass("notification_bar");this._notifications.append(this._main_div);this._main_div.addClass("message_fixed_positioning");this._notification_bar_rendered=true;if(rdx.utils.is_defined(n)&&n===rdx.ERROR){try{rdx.mask.unmask_all_components()}catch(m){}rdx.message_container.error(this._main_div,l);if(rdx.utils.is_defined(o)&&o===true){this._fadeOutNotification()}if(rdx.utils.is_defined(rdx.get_test_framework)&&rdx.get_test_framework().is_test_mode){rdx_ut_executor_deferred.error_is_seen(rdx_ut_executor_deferred,l,null,true)}}else{if(rdx.utils.is_defined(n)&&(n===rdx.WARNING)){rdx.message_container.warning(this._main_div,null,l)}else{if(rdx.utils.is_defined(n)&&(n===rdx.INFO)){rdx.message_container.info(this._main_div,null,l)}else{if(rdx.utils.is_not_defined(n)){return}else{rdx.message_container.success(this._main_div,l);this._bind_events();this._main_div.fadeOut(this._set_timeout)}}}}};rdx.notification_bar.prototype.hide=function(){if(this._notification_bar_rendered==true&&rdx.utils.is_defined(this._main_div)){this._main_div.remove();this._notification_bar_rendered=false}};rdx.notification_bar.prototype._fadeOutNotification=function(){var b=this;b._parent.mouseup(function(a){a.stopPropagation();if(!($.contains(b._main_div[0],a.target))){b._main_div.fadeOut(3000);b._parent.unbind(a)}})};rdx.notification_bar.prototype._bind_events=function(){this._main_div.bind(rdx.events.MOUSE_OVER,{timeout:this._set_timeout,notification_bar:this},function(b){b.data.notification_bar._main_div.stop();b.data.notification_bar._main_div.addClass("full_opacity");b.data.timeout=12000});this._main_div.bind(rdx.events.MOUSE_OUT,{timeout:this._set_timeout,notification_bar:this},function(b){b.data.notification_bar._main_div.removeClass("full_opacity");b.data.notification_bar._main_div.css("opacity","1");b.data.notification_bar._main_div.fadeOut(b.data.timeout)})};rdx.notification_bar.prototype._bind_custom_event=function(c,d){if(rdx.utils.is_defined(c)){this._main_div.bind(c,function(a){if(rdx.utils.is_defined(d)&&rdx.utils.is_defined(d.call_back)){d.call_back([a])}})}};rdx.page=new function(){this._status_bar=null;this._header=null;this._header_view=null;this._loading_content=null;this._message_div=null;this._content=null;this._footer=null;this._auto_refresh_info=null;this._active_element_for_blur=null;this._slider=null;this._min_window_size=1024;this._max_window_size=1366;this._notification_bar=new rdx.notification_bar();this._default_container_class="ns_content";this._sticky_header=false;this._doppler_feature_container=null;this._doppler_page_mask=null;this.global_elements=[];this._init=function(){this._status_bar=rdx.status_bar.render();this._slider=new rdx.slider();this._help_slider=new rdx.slider({help_slider:true})};this._load=function(){this._header_view=new rdx.base_view($(document.body),rdx.utils.get_view("header_view"));this._header_view.prepare_view();this._header=$(".ns_header");var c=$(document.createElement("table")).attr("align","center").addClass("loading_panel");if(!c.html().match(/<tbody>/i)){c.append(document.createElement("tbody"))}var d=$(c[0].tBodies[0].insertRow(-1));$(d[0].insertCell(-1)).addClass("loading_panel_img").append($(document.createElement("img")).attr("src",rdx.images.IN_PROGRESS_IMG));$(d[0].insertCell(-1)).addClass("loading_panel_txt").append(rdx.i18n.get_string("rdx.page_loading"));this._loading_content=$(document.createElement("div")).addClass("center_panel").append(c);$(document.body).append(this._loading_content);this._message_div=$("<div>").addClass("rdx_message_container");this._content=$(document.createElement("div")).addClass(this._default_container_class);$(document.body).append(this._message_div).append(this._content);this._auto_refresh_info=$(document.createElement("div")).addClass("popup popup_info").append(rdx.i18n.get_string("rdx.page_auto_refresh_off"));$(document.body).append(this._auto_refresh_info);this._toggle_content_and_loading_content();this._trigger_event(rdx.events.PAGE_LOADED);if(rdx.JOBS){this._register_blur_focus_handlers()}this._resize();rdx.view_utils.get_parameters_open_view_from_query_string()};this.empty_body_content=function(){$("body").empty()};this.show_info_links=function(){this._header_view._view.header_view_show_info_links()};this.hide_info_links=function(){this._header_view._view.header_view_hide_info_links()};this.add_footer=function(){var g=$(document.createElement("a")).attr("href",rdx.COPYRIGHT_LINK).attr("target","PRODUCT_LINK").append(rdx.COPYRIGHT_BRAND_NAME);var h=$(document.createElement("div")).addClass("ns_footer_left");var e=$(document.createElement("div")).addClass("ns_footer_right");var f=$(document.createElement("div")).addClass("ns_footer_center").append(rdx.i18n.get_string("rdx.page_footer_copyright")).append(" ").append(g).append(" ").append(rdx.i18n.get_string("rdx.page_footer_rights"));this._footer=$(document.createElement("div")).addClass("ns_footer");this._footer.append(h).append(f).append(e);return this._footer};this._register_blur_focus_handlers=function(){if(rdx.utils.is_ie()){this._active_element_for_blur=document.activeElement;document.onfocusout=function(){rdx.page._blur()};document.onfocusin=function(){rdx.page._focus()}}else{if(rdx.utils.is_chrome_safari()){this._active_element_for_blur=document.activeElement}window.onblur=function(){rdx.page._blur()};window.onfocus=function(){rdx.page._focus()}}};this.hide_notification_bar=function(){this._notification_bar.hide()};this.show_notification=function(g,h,e,f){if(rdx.utils.is_not_empty(g)){this._notification_bar.show(g,h,e,f)}};this._is_on_blur=function(){if(this._active_element_for_blur!=null&&this._active_element_for_blur!=document.activeElement){this._active_element_for_blur=document.activeElement;return false}return true};this._blur=function(){if(!this._is_on_blur()){return}rdx.scheduler.pause_all_jobs();this._auto_refresh_info.css("left",($(window).width()-this._auto_refresh_info.width())/2+"px").get(0).style.visibility="visible";this._trigger_event(rdx.events.PAGE_BLURRED)};this._focus=function(){this._auto_refresh_info.get(0).style.visibility="hidden";rdx.scheduler.resume_all_jobs();this._trigger_event(rdx.events.PAGE_FOCUSSED)};this._resize=function(){if(!this._header){return}var g=$(window).width();var f=$(window).height();var l=this._header.height();var m=0;if(rdx.utils.is_defined(this._footer)){m=this._footer.height()}this._content.addClass("rdx_page_center_align");this._message_div.addClass("rdx_page_center_align");if(g<=this._max_window_size){var h=50;this._content.width((g-h)>=this._min_window_size?g-h:this._min_window_size);this._message_div.width((g-h)>=this._min_window_size?g-h:this._min_window_size)}else{this._content.width(this._max_window_size-20);this._message_div.width(this._max_window_size-20)}this._content.css("min-height",($(window).height()-rdx.page.get_header_height()-20));this._trigger_event(rdx.events.PAGE_RESIZED)};this._unload=function(){this._trigger_event(rdx.events.PAGE_UNLOAD);this._toggle_content_and_loading_content()};this._before_unload=function(){this._trigger_event(rdx.events.PAGE_BEFORE_UNLOAD)};this._toggle_content_and_loading_content=function(){this._loading_content.toggle();this._content.toggle()};this.show_page_message=function(d,c){(this._message_div).empty();rdx.message_container.show(this._message_div,d,c)};this.get_content=function(){return this._content};this.get_header_height=function(){if(!this._header){return}var b=this._header.height();return b};this.get_header_position=function(){return this._header_view.get_view_container().position()};this.get_minimum_page_width=function(){return this._min_window_size};this.get_sticky_header=function(){return this._sticky_header};this.set_sticky_header=function(b){this._sticky_header=b};this.get_maximum_page_width=function(){return this._max_window_size};this.toggle_view=function(f){var g=rdx.page.get_content().children();if(f==true&&g.length==1){return}if(rdx.utils.is_defined(f)&&f==true){for(var h=0;h<g.length-1;h++){var e=g[h];$(e).hide()}}else{if(rdx.utils.is_defined(g)&&g.length>0){$(g[g.length-1]).show()}}};this.show_slider=function(d,f,e){if(f==rdx.HELP_SLIDER){this._help_slider.show(d);return this._help_slider.get_slider_container()}else{this._slider.show(d,e);return this._slider.get_slider_container()}};this.show_help_slider=function(h){var n={message:"",title:"rdx.help",renderer_callback:null,class_names:null};var o=$.extend(true,{},n,h);var l=rdx.i18n.get_string(o.message);if(rdx.utils.is_empty(l)&&rdx.utils.is_not_defined(o.renderer_callback)){return}var p={show_bread_crumb:false,title:rdx.i18n.get_string(o.title),slider_width:"400px"};var q=rdx.page.show_slider(p,rdx.HELP_SLIDER);var m=$("<div>").addClass("help_slider_content rdx_form_style rdx_help_mul_desc_container");if(rdx.utils.is_defined(o.class_names)){m.addClass(o.class_names)}q.append(m);if(rdx.utils.is_defined(o.renderer_callback)){m.append(o.renderer_callback.call_back([h]))}else{m.append(l)}};this.refresh_header_view=function(){if(this._header_view!=null){this._header_view.refresh_view()}};this.get_slider_crumb=function(b){if(b==rdx.HELP_SLIDER){return this._help_slider.get_title_bar()}else{return this._slider.get_title_bar()}};this.update_slider_bread_crumb=function(b){this._slider.update_bread_crumb(b)};this.update_slider_title=function(c,d){if(d==rdx.HELP_SLIDER){this._help_slider.update_title(c)}else{this._slider.update_title(c)}};this.update_slider_help=function(b){this._slider.update_help(b)};this.get_slider_height=function(b){if(b==rdx.HELP_SLIDER){return this._help_slider.get_height()}else{return this._slider.get_height()}};this.add_slider_close_event_handler=function(c,d){if(d==rdx.HELP_SLIDER){this._help_slider.add_close_event_handler(c)}else{this._slider.add_close_event_handler(c)}};this.hide_slider=function(b){if(b==rdx.HELP_SLIDER){this._help_slider.hide()}else{this._slider.hide()}};this.is_slider_visible=function(b){if(b==rdx.HELP_SLIDER){return this._help_slider.is_slider_shown()}else{return this._slider.is_slider_shown()}};this.load_doppler_file=function(f,e){if(rdx&&rdx.utils&&rdx.utils.is_instrumentation_enabled()){var d="/admin_ui/rdx/core/js/doppler.js";$.ajax({url:d,success:function(){if(_caq_fn){_caq=_caq_fn(f,e,"https://cis.citrix.com/doppler",1000,true,false)}},dataType:"script",cache:true})}};this.add_event_handler=function(d,c){$(this).bind(d,{ns_callback:c},function(a){a.data.ns_callback.call_back()})};this._trigger_event=function(b){$(this).trigger(b)};this.trigger_events_on_load=function(){this._trigger_event(rdx.events.WINDOW_LOADED);this._trigger_event(rdx.events.APP_LOADED);this._init();var d=this;if(!rdx.STAND_ALONE){if(rdx.utils.is_defined(rdx.ON_LOAD_CALLBACK)){var c=new rdx.callback_params({return_callback:new rdx.callback(d,d._load)});rdx.ON_LOAD_CALLBACK.call_back([c])}else{this._load()}}};this.get_tree_content_pane=function(){return $(".rdx_second_pane_container > div:nth-child(2)",rdx.page.get_content())};this.render_doppler_dom=function(A,z){this._doppler_page_mask=$("<div>").addClass("doppler_mask_body");var w=$("<div>").addClass("doppler_enable").attr("id","enable_doppler_feature");this._doppler_feature_container=w;var v=$("<div>").addClass("doppler_title_container");var D=$("<div>").addClass("doppler_title_div").append(rdx.i18n.get_string("rdx.doppler_enable_title"));var u=$("<div>").addClass("doppler_close_dialog");v.append(D);v.append(u);var q=$("<div>").addClass("doppler_enable_icon");var B=$("<div>").addClass("doppler_content_div");var C=$("<div>").addClass("doppler_text");C.append($("<p>").text(rdx.i18n.get_string("rdx.doppler_content")));var t=$("<div>").addClass("doppler_action_container");var s=$("<button>").addClass("doppler_enable_button").text(rdx.i18n.get_string("rdx.button_enable"));var y=$(document.createElement("a")).addClass("doppler_skip_link").append(rdx.i18n.get_string("rdx.skip_label"));t.append(s);t.append(y);var x=$(document.createElement("a")).attr("href",rdx.utils._get_cuxip_learn_more_link()).attr("target","_blank").attr("class","doppler_learn_more").append(" Learn More...");s.bind(rdx.events.CLICK,{doppler_button_callback:A,doppler_settings:z},function(b){var a=b.data.doppler_button_callback;var c=b.data.doppler_settings;a.call_back([c,$(this),false])});y.bind(rdx.events.CLICK,{doppler_button_callback:A,doppler_settings:z},function(b){var a=b.data.doppler_button_callback;var c=b.data.doppler_settings;a.call_back([c,$(this),true])});u.bind(rdx.events.CLICK,{doppler_button_callback:A,doppler_settings:z},function(b){var a=b.data.doppler_button_callback;var c=b.data.doppler_settings;a.call_back([c,$(this),true])});B.append(C);B.append(x);B.append(t);w.append(v);w.append(q);w.append(B);$("body").append(this._doppler_page_mask);$("body").append(w)};this._get_doppler_feature_container=function(){return this._doppler_feature_container};this._get_doppler_page_mask_element=function(){return this._doppler_page_mask};this.hide_header_navigation=function(){this._header_view.get_view().hide_navigation()};this.show_header_navigation=function(){this._header_view.get_view().show_navigation()}};$(function(){if(rdx&&rdx.page){rdx.page.trigger_events_on_load()}});$(window).bind(rdx.events.RESIZE,function(b){if(!rdx.STAND_ALONE){if(rdx.utils.is_ie()||rdx.utils.is_chrome_safari()){setTimeout(function(){rdx.page._resize()},50)}else{rdx.page._resize()}}});$(window).bind("beforeunload",function(b){if(!rdx.STAND_ALONE){rdx.page._before_unload()}});window.onunload=function(){if(!rdx.STAND_ALONE){rdx.page._unload()}};rdx.search_bar=function(d,e){this._parent=d;var f={placeholder_text:"rdx.enter_text_to_search",search_submit_handler_callback:null,cancel_search_handler_callback:null,search_suggest_handler_callback:null,search_suggestion:false,resource_name:null,search_key:null,search_value:null};this._properties=$.extend({},f,e);this._search_map=[];this._search_box=null;this._cancel_search_button=null};rdx.search_bar.prototype.render=function(){this._render_search_text_box()};rdx.search_bar.prototype._render_search_text_box=function(){this._search_box=$("<input type = 'text'>").addClass("search_bar_text_box");this._cancel_search_button=$("<span>").addClass("search_bar_cancel_button");this._bind_cancel_button_handler();this._parent.append(this._search_box).append(this._cancel_search_button);this._search_box.attr("placeholder",this.get_placeholder_text());if(this._properties.search_suggestion){this._bind_search_suggestion()}this._bind_submit_event()};rdx.search_bar.prototype._bind_search_suggestion=function(){var c=this._properties.resource_name;var d=this;rdx.model.get(rdx.utils.get_resource(c),null,new rdx.callback(null,function(q){var a=q[c];if(a.length>0){var m=[];var b=d._properties.search_key;var o=d._properties.search_value;for(var n=0;n<a.length;n++){if(rdx.utils.is_not_empty(a[n][b])&&rdx.utils.is_not_empty(a[n][o])){var p=a[n][b];m.push(p);d._search_map[p]=a[n][o]}}d._search_box.autocomplete({source:function(h,e){var g=new RegExp($.ui.autocomplete.escapeRegex(h.term),"i");var f=$.grep(m,function(l){return g.test(l)});e(f.splice(0,10))},delay:0,autoFocus:true,select:function(e,f){$(".search_bar_text_box").val(f.item.id)},focus:function(e,f){e.preventDefault()}})}}))};rdx.search_bar.prototype._bind_submit_event=function(){this._search_box.bind(rdx.events.KEYUP,{submit_handler_callback:this.get_search_submit_handler_callback(),search_text_box:this.get_search_box(),cancel_search_button:this.get_cancel_button(),that:this},function(o){var g=(o.keyCode?o.keyCode:o.which);var m=o.data.cancel_search_button;var l=o.data.search_text_box.val();if(g===rdx.keycodes.ENTER){var n=o.data.submit_handler_callback;if(l.length>0){if(rdx.utils.is_defined(n)){if(rdx.utils.is_object_not_empty(o.data.that._search_map)){if(rdx.utils.is_defined(o.data.that._search_map[l])){l=o.data.that._search_map[l];n.call_back([l])}else{var h=rdx.i18n.get_string("appflow.search_suggestion_failed");rdx.page.show_notification(h,rdx.ERROR)}}else{n.call_back([l])}}}}else{if(l.length>0&&!m.is("visible")){m.show()}else{m.hide()}}return true})};rdx.search_bar.prototype._bind_cancel_button_handler=function(){this.get_cancel_button().bind(rdx.events.CLICK,{_this:this},function(d){var c=d.data._this;c.get_search_box().val("");c.get_cancel_button().hide();if(rdx.utils.is_defined(c.get_cancel_search_handler_callback())){c.get_cancel_search_handler_callback().call_back([])}})};rdx.search_bar.prototype.get_search_box=function(){return this._search_box};rdx.search_bar.prototype.get_cancel_button=function(){return this._cancel_search_button};rdx.search_bar.prototype.get_search_box_value=function(){return this.get_search_box().val()};rdx.search_bar.prototype.get_placeholder_text=function(){return rdx.i18n.get_string(this._properties.placeholder_text)};rdx.search_bar.prototype.get_search_submit_handler_callback=function(){return this._properties.search_submit_handler_callback};rdx.search_bar.prototype.get_search_suggestion_handler_callback=function(){return this._properties.search_suggest_handler_callback};rdx.search_bar.prototype.get_cancel_search_handler_callback=function(){return this._properties.cancel_search_handler_callback};rdx.websocket=new function(){this._socket=null;this._caller_data=null;this._reconnect=false;this._rapi_token=null;this._rapi_connection_state="CLOSED";this.is_supported=function(){return false};this.enable_reconnect=function(){this._reconnect=true};this.connect=function(b){if(this.is_connected()||this.is_connecting()){return}if(this.is_supported()){this._socket=new WebSocket(b);this.add_event_listener("open",this.open_ssh_connection)}else{this.open_ssh_connection()}this.add_event_listener("close",this.unset_websocket_data_onclose);this.add_event_listener("error",this.unset_websocket_data_onerror)};this.unset_websocket_data_onerror=function(){rdx.websocket.disconnect(false)};this.unset_websocket_data_onclose=function(){rdx.websocket.disconnect(true)};this.disconnect=function(d,f,e){if(this._socket==null&&this._rapi_token==null){if(rdx.utils.is_function(e)){e()}return}if(!this._reconnect){this._caller_data=null}if(d){this._socket=null;this._disconnect_for_rapi(f,e);if(this._reconnect){this.reconnect()}}else{if(this.is_supported()&&this.is_connected()){this._socket.close()}else{this._socket=null}this._disconnect_for_rapi(f,e)}};this.reconnect=function(){this._reconnect=false;this.get_caller_data().websocket_connect()};this.is_connected=function(){return((this._socket!=null)&&(this._socket.readyState==this._socket.OPEN))||this._rapi_token!=null};this.is_connecting=function(){if(this.is_supported()){return((this._socket!=null)&&(this._socket.readyState==this._socket.CONNECTING))}else{return(this._rapi_connection_state=="CONNECTING")}};this.is_closed=function(){return(this._socket!=null)&&(this._socket.readyState==this._socket.CLOSED)};this.open_ssh_connection=function(){var b="";if(rdx.websocket.is_supported()){rdx.websocket._socket.send(JSON.stringify({type:"openssh",data:b}))}else{rdx.websocket._open_ssh_connection_for_rapi(b);this._rapi_connection_state="CONNECTING"}};this.send_cmd=function(d,c){this._socket.send(JSON.stringify({type:"cmd",data:d,check_status:(c)?"true":"false"}))};this.kill_process=function(){if(this.is_supported()){this._socket.send(JSON.stringify({type:"ctrl",data:"\x03",check_status:"false"}))}else{this._websocket_send_for_rapi({type:"ctrl",data:"\x03",check_status:"false"})}};this.send_cmd_from_obj=function(c){var d={type:"cmd",data:c.command};if(rdx.utils.is_defined(c.check_status)){d.check_status=c.check_status}if(rdx.utils.is_defined(c.pscomm)){d.pscomm=c.pscomm}if(this.is_supported()){this._socket.send(JSON.stringify(d))}else{this._websocket_send_for_rapi(d)}};this.send_relay=function(){if(this.is_supported()){this._socket.send(JSON.stringify({type:"relay",data:""}))}else{this._websocket_send_for_rapi({type:"relay",data:""})}};this.add_event_listener=function(c,d){if(this.is_supported()){this._socket.addEventListener(c,d)}else{$(this).bind(c,d)}};this.set_caller_data=function(b){this._caller_data=b};this.get_caller_data=function(){return this._caller_data};this._open_ssh_connection_for_rapi=function(b){rdx.model.post(rdx.utils.get_resource("open_websocket"),new rdx.callback(this,this._handle_open_websocket_for_rapi),{data:b},new rdx.callback(this,this._handle_open_websocket_for_rapi))};this._handle_open_websocket_for_rapi=function(b){if(rdx.utils.is_not_empty(b.output)){this._rapi_token=b.output.token;$(this).trigger("message",b.output);this._rapi_connection_state="OPEN"}else{$(this).trigger("message",{status:"error",data:b,type:"ctrl"});$(this).unbind();this._rapi_connection_state="CLOSED"}};this._disconnect_for_rapi=function(g,e){var f=new rdx.callback();var h=new rdx.callback();if(this._rapi_token!=null){if(rdx.utils.is_function(g)){f=new rdx.callback(function(){g()})}if(rdx.utils.is_function(e)){h=new rdx.callback(function(){e()})}rdx.model.post(rdx.utils.get_resource("close_websocket"),f,{data:this._rapi_token},h);this._rapi_token=null;$(this).unbind();this._rapi_connection_state="CLOSED"}};this._websocket_send_for_rapi=function(b){if(this._rapi_token!=null){b.token=this._rapi_token;rdx.model.post(rdx.utils.get_resource("websocket_send"),new rdx.callback(this,this._handle_websocket_data_from_rapi),b,new rdx.callback())}};this._handle_websocket_data_from_rapi=function(b){if(rdx.utils.is_not_empty(b.output)){if(b.output.type==="ctrl"&&(b.output.status==="closed"||b.output.status==="error")){$(this).trigger("close",b.output)}else{$(this).trigger("message",b.output)}}}};rdx.progress_bar=function(c,d){this._parent=c;this._DEFAULT_PROPERTIES={progress_cell_count:7,class_names:["progress_cell"],timeout:100,height:15,width:5,mode:rdx.PROGRESSIVE,get_progress_info_callback:null,title:null,info_message:null,failure_callback:null,close_callback:null,display_rows:5,single_progress:false,expand_error_by_default:false,show_error_info_in_callback:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d);this._progress_items=new Array();this._progress_infp=new Object();this._current_index=this._properties.mode=="progressive"?-1:0;this._progress_timeout=null;this._progress_info_details_collapsed=false;this._start_date=null;this._progress_update_timer=-1;this._progress_info_summary_div=null;this._time_remaining_is_shown=false;this._time_elapsed_is_shown=true;this._is_cancel_button_required=false;this._is_close_button_required=true;this._progress_items_added=false};rdx.progress_bar.prototype.render=function(){switch(this._properties.mode){case rdx.PROGRESS_INFO:this._render_progressive_info();this._start_single_progress_bar();break;case rdx.PROGRESS_BAR:this._render_progress_bar();this._start_interval_progress_bar();break;default:this._render_others();this._start_interval_progress_bar();break}};rdx.progress_bar.prototype._render_progress_bar=function(){this._elasped_time="00:00:00";this._progress_bar=$("<div>").addClass("smooth_all_corner progress_bar_div");this._parent.append(this._progress_bar)};rdx.progress_bar.prototype._render_progressive_info=function(){this._progress_info_summary_div=$("<div>").addClass("progress_bar_info").css("height",this._properties.height);this._container=$("<div>").addClass("progress_info_content");this._progress_info_summary_div.append(this._container);this._parent.append(this._progress_info_summary_div)};rdx.progress_bar.prototype._render_others=function(){var e=$("<div>");e.height(this._properties.height);var d=$("<div>");var f=$("<img>").attr("src",rdx.images.IN_PROGRESS_IMG);e.append(f);this._parent.append(e)};rdx.progress_bar.prototype._start_interval_progress_bar=function(){var b=this;if(rdx.utils.is_not_defined(this._properties.timeout)){return}this._progress_timeout=setInterval(function(){b._change_progress()},this._properties.timeout)};rdx.progress_bar.prototype._start_single_progress_bar=function(){var b=this;this._progress_timeout=setTimeout(function(){b._change_progress()},this._properties.timeout)};rdx.progress_bar.prototype.stop_progress_bar=function(){if(rdx.utils.is_defined(this._progress_timeout)){clearInterval(this._progress_timeout)}};rdx.progress_bar.prototype._change_progress=function(){switch(this._properties.mode){case rdx.LINEAR:this._handle_linear_progress();break;case rdx.PROGRESSIVE:this._handle_progressive_progress();break;case rdx.PROGRESS_INFO:if(this._properties.single_progress==true){this._display_single_progress(this._properties.title)}if(rdx.utils.is_defined(this._properties.get_progress_info_callback)){this._properties.get_progress_info_callback.call_back([new rdx.callback(this,this.handle_progressive_info_progress)])}break;case rdx.PROGRESS_BAR:break}};rdx.progress_bar.prototype._display_single_progress=function(l){var m=rdx.images.LOADER_GIF;var o=$("<table>").attr("cellPadding",0).attr("cellSpacing",0).css("width","100%");var n=$("<tr>").addClass("progress_title");var h=$("<td>");var g=$("<img>").attr("src",m);this._progress_info_summary_div.removeAttr("style");h.append(g).append(l);n.append(h);o.append(n);this._container.empty();this._container.append(o)};rdx.progress_bar.prototype.handle_progress_bar=function(s){var n=rdx.i18n.get_string("rdx.progress_bar.elapsed_time");var u="00:00:00";if(rdx.utils.is_not_defined(this._progress_bar_hr)){var m=$("<table>").attr("cellPadding",0).attr("cellSpacing",0).css("width","100%");this._progress_bar_row=$("<tr>");var p=$("<tr>");this._progress_bar_hr=$("<hr>").addClass("progress_bar_hr");var v=$("<td>").attr("colspan","2").addClass("progressbar_cell");this._progress_bar_text=$("<div>").addClass("progress_bar_internal_text");v.append(this._progress_bar_text);v.append(this._progress_bar_hr);this._progress_bar_row.append(v);this._progress_bar_message_cell=$("<span>").addClass("progress_bar_message_cell").text("");var q=$("<td>").attr("style","word-wrap: break-work;").append(this._progress_bar_message_cell);this._time_elapsed_cell=$("<span>").addClass("progress_bar_elapsed_time_cell");var o=$("<td>").append(this._time_elapsed_cell);p.append(q);p.append(o);m.append(this._progress_bar_row);m.append(p);this._progress_bar.append(m);this._start_date=new Date()}u=rdx.utils.get_elapsed_time(this._start_date);this._time_elapsed_cell.text(n+" : "+u);if(this._progress_update_timer==-1){var t=this;this._progress_update_timer=setInterval(function(){u=rdx.utils.get_elapsed_time(t._start_date);t._time_elapsed_cell.text(n+" : "+u);if(t._time_elapsed_cell.closest("html").length==0){clearInterval(t._progress_update_timer);t._progress_update_timer=-1}},3000)}this._progress_bar_message_cell.text(s.message);this._progress_bar_text.text(s.progress);this._progress_bar_hr.attr("width",s.progress);if(s.message==rdx.DONE){clearInterval(this._progress_update_timer);this._progress_update_timer=-1}};rdx.progress_bar.prototype.handle_percent_progress_bar=function(){this._progress_percent_dialog=$("<div>").addClass("progress_percent_dialog");var l=$("<div>");this._progress_bar_steps=$("<div>").addClass("progress_bar_steps");this._hr_percent_progress=$("<hr>").addClass("progress_status_bar");this._percent_of_upload=$("<span>").addClass("percent_of_upload");this._cross_button_div=$("<div>").addClass("cross_button_div");var p=$("<div>").addClass("progress_bar_time");p.append(this._percent_of_upload).append(this._hr_percent_progress);this._cross_button_div.append(p);this._upload_speed_container=$("<div>").addClass("upload_speed");var m=$("<div>").addClass("progress_bar_message");this._cell_time=$("<p>").addClass("cell_time_elapsed");this._uploaded_data=$("<p>").addClass("uploaded_data");m.append(this._cell_time).append(this._uploaded_data);l.append(this._progress_bar_steps).append(this._cross_button_div).append(m).append(this._upload_speed_container);this._progress_percent_dialog.append(l);var h=this;if(this._is_cancel_button_required==true){this._cancel_img_for_upload=$("<button>").addClass("cancel_file_upload");this._cross_button_div.append(this._cancel_img_for_upload);this._cancel_img_for_upload.bind(rdx.events.CLICK,function(b){h._confirm_box_for_cancel=$("<div>").addClass("confirm_box_for_cancel");var a=$("<div>").addClass("confirm_message_for_upload").text(rdx.i18n.get_string("rdx.confirm_message_for_cancel")).css("align","center");h._confirm_button_for_cancel=$("<button>").addClass("confirm_button_for_cancel").text(rdx.i18n.get_string("rdx.ok_label"));h._deny_button_for_upload=$("<button>").addClass("deny_button_for_upload").text(rdx.i18n.get_string("rdx.cancel"));h._confirm_box_for_cancel.append(a).append(h._confirm_button_for_cancel).append(h._deny_button_for_upload);h._progress_percent_dialog.append(h._confirm_box_for_cancel);h._deny_button_for_upload.bind(rdx.events.CLICK,function(c){h._confirm_box_for_cancel.remove()});h._confirm_button_for_cancel.bind(rdx.events.CLICK,function(c){h.cancel_upload_callback.call_back()})})}if(this._is_close_button_required==true){this._image_for_hide=$("<img>").attr("src",rdx.images.WHITE_CROSS_IMG).addClass("close_progress_bar");this._progress_percent_dialog.append(this._image_for_hide);this._image_for_hide.bind(rdx.events.CLICK,function(a){rdx.mask.unmask_all_components();h.remove_progress_percent_dialog()})}this._mask_for_progress_window=$("<div>").addClass("mask_for_progress_window");this._parent.append(this._mask_for_progress_window).append(this._progress_percent_dialog);if(this._time_elapsed_is_shown==true&&this._time_remaining_is_shown==false){var n=rdx.i18n.get_string("rdx.progress_bar.elapsed_time");var q=0;var o="00:00:00";h._cell_time.text(n+" : "+o);if(this._progress_update_timer==-1){this._progress_update_timer=setInterval(function(){q++;var a=rdx.utils.convert_seconds_to_minutes(q,true);h._cell_time.text(n+" : "+a)},1000)}}};rdx.progress_bar.prototype.handle_percent_progress_bar_data=function(h){if(h.message.length<60){h.message=h.message}else{this._progress_bar_steps[0].title=h.message.replace("Uploading","");h.message=h.message.substring(0,60);h.message=h.message.concat("...")}this._progress_bar_steps.text(h.message);this._hr_percent_progress.attr("width",h.progress);this._percent_of_upload.text(h.progress);if(this._time_elapsed_is_shown==true&&this._time_remaining_is_shown==false){if(h.message==rdx.DONE){clearInterval(this._progress_update_timer);this._progress_update_timer=-1}}else{if(this._time_remaining_is_shown==true){timeSpent=(h.current_time-h.start_time)/1000;uploadSpeed=h.uploaded_so_far/(timeSpent);uploadSpeed_in_units=rdx.view_formatters.size_in_bytes_formatter(null,null,uploadSpeed);this._upload_speed_container.text(rdx.i18n.get_string("rdx.upload_speed",{UploadSpeed:uploadSpeed_in_units})+"/sec");var e=rdx.utils.convert_seconds_to_minutes((h.total_size-h.uploaded_so_far)/uploadSpeed,true);if(rdx.utils.is_empty(e)){this._cell_time.text(e)}else{this._cell_time.text(rdx.i18n.get_string("rdx.time_remaining_for_upload",{time_to_spare:e}))}var g=rdx.view_formatters.size_in_bytes_formatter(null,null,h.uploaded_so_far);var f=rdx.view_formatters.size_in_bytes_formatter(null,null,h.total_size);this._uploaded_data.text(rdx.i18n.get_string("rdx.status_of_file_upload",{size_uploaded_so_far:g,total_size_for_upload:f}))}else{this._cell_time.remove()}}};rdx.progress_bar.prototype._handle_linear_progress=function(){var h=this._current_index;var g=this._current_index+1>(this._progress_items.length-1)?0:(this._current_index+1);if(rdx.utils.is_chrome_safari()){$(this._progress_items[h]).css("backgroundColor","white")}else{this._progress_items[h].removeClass(this._properties.class_names[0])}this._current_index=g;for(var f=0;f<this._properties.class_names.length;f++){var e=f+1>this._properties.class_names.length-1?this._properties.class_names[0]:this._properties.class_names[f+1];if(rdx.utils.is_chrome_safari()){$(this._progress_items[g]).css("backgroundColor","blue");$(this._progress_items[g]).css("height","10px")}else{this._progress_items[g].removeClass(e);this._progress_items[g].addClass(this._properties.class_names[f])}g=g+1>(this._progress_items.length-1)?0:(g+1)}};rdx.progress_bar.prototype._handle_progressive_progress=function(){var b=this._current_index+1>(this._progress_items.length-1)?0:(this._current_index+1);this._current_index=b;if(b==-1){b=b+1;this._current_index=b}};rdx.progress_bar.prototype.set_progressive_close_callback=function(b){this._properties.close_callback=b};rdx.progress_bar.prototype.handle_progressive_info_progress=function(V){if(rdx.utils.is_not_defined(V)&&this._progress_items_added==false){return}this._container.empty();var P=null;var E=$("<ul>");var B=false;var U=[];var C="";var L=false;var Q=false;var J=$("<div>");for(var M=0;M<V.length;M++){var D=V[M];var N=$("<li>");var Z=rdx.images.LOADER_TICK;if(D.status==rdx.FAILED){B=true;if(rdx.utils.is_defined(D.reason)){U.push(D.reason)}Z=rdx.images.LOADER_ERROR}else{if(D.status==rdx.IN_PROGRESS){Z=rdx.images.LOADER_GIF}else{if(D.status==rdx.COMPLETED){L=true;continue}else{if(D.status=="pause"){Q=true;continue}}}}var T=$("<img>").attr("src",Z);if(rdx.utils.is_defined(this._properties.info_message)){N.append(T).append(rdx.i18n.get_string(this._properties.info_message))}else{N.append(T).append(D.message)}E.append(N)}if(rdx.utils.is_defined(this._properties.title)){var R=$("<h4>").addClass("progress_title");this._container.append(R);if(!L){R.append($("<img>").attr("src",rdx.images.LOADER_GIF))}else{if(L&&U.length==0){R.append($("<img>").attr("src",rdx.images.LOADER_TICK))}else{if(L&&U.length>0){R.append($("<img>").attr("src",rdx.images.LOADER_ERROR))}}}var I=$("<span>").text(rdx.i18n.get_string(this._properties.title));R.append(I)}if(B==true){if(U.length>0){J.addClass("progress_error_notification");var O=$("<div>").addClass("progress_err_details");var F=$("<div>").addClass(this._progress_info_details_collapsed?"progress_err_header progress_err_header_close":"progress_err_header progress_err_header_open");var S=U.length+" "+rdx.i18n.get_string("rdx.progress_bar.error_report");if(U.length>1){S=S+"s"}F.append($("<span>").addClass("progress_err_count").append(S));O.append(F);var P=$("<div>").addClass("progress_err_description");for(var H=0,G=U.length;H<G;H++){P.append($("<p>").append(U[H]))}if(this._properties.expand_error_by_default==true){this._progress_info_details_collapsed=true;F.addClass("progress_err_header_open")}F.bind(rdx.events.CLICK,{progress_bar:this,error_details:P},function(a){if($(this).hasClass("progress_err_header_close")){$(this).removeClass("progress_err_header_close");$(this).addClass("progress_err_header_open");rdx.utils.slide_up_down(a.data.error_details,true);a.data.progress_bar_progress_info_details_collapsed=true}else{$(this).removeClass("progress_err_header_open");$(this).addClass("progress_err_header_close");rdx.utils.slide_up_down(a.data.error_details,false);a.data.progress_bar_progress_info_details_collapsed=false}});O.append(P);J.append(O)}if(L){J.addClass("progress_error_notification");var K=$("<button>").addClass("search_grey_button search_help_button progress_close_button").text("Close");J.append(K);K.bind(rdx.events.CLICK,{progress_bar:this,parent:this._parent},function(a){var b=a.data.progress_bar;if(rdx.utils.is_not_defined(b._properties.close_callback)){return}if(b._properties.show_error_info_in_callback==true){b._properties.close_callback.call_back([{success:(B==false)}])}else{b._properties.close_callback.call_back()}})}}else{if(L){if(rdx.utils.is_defined(this._properties.close_callback)){if(this._properties.show_error_info_in_callback==true){this._properties.close_callback.call_back([{success:(B==false)}])}else{this._properties.close_callback.call_back()}}}}this._progress_info_summary_div.empty();this._progress_info_summary_div.append(this._container);this._container.append(E);var W=E.height();E.scrollTop(W);if(B==true){this._progress_info_summary_div.append(J);if(U.length>0){if(!this._progress_info_details_collapsed){P.hide()}else{P.show()}}}this._progress_items_added=true;if(L==false||Q==true){this._start_single_progress_bar()}};rdx.progress_bar.prototype.remove_progress_percent_dialog=function(){this._mask_for_progress_window.remove();this._progress_percent_dialog.remove()};rdx.progress_bar.prototype.show_time_remaining=function(b){this._time_remaining_is_shown=b};rdx.progress_bar.prototype.show_time_elapsed=function(b){this._time_elapsed_is_shown=b};rdx.progress_bar.prototype.show_cancel_button=function(b){this._is_cancel_button_required=b};rdx.progress_bar.prototype.show_close_button=function(b){this._is_close_button_required=b};rdx.mask=new function(){this.MASK_ID=1;this.MASK_KEY="__mask_key";this._mask_element=null;this._is_key_pressed=false;this._control_key=17;this._q_key=81;this._mask_elements=new Object();this.SLIDER_MASK="_slider_mask";this.SLIDER_HELP_MASK="_help_slider_mask";this._key_up_function=function(b){if(b.which==rdx.mask._control_key){rdx.mask._is_key_pressed=false}};this._key_down_function=function(d){if(d.which==rdx.mask._control_key){rdx.mask._is_key_pressed=true}if(rdx.mask._is_key_pressed==true){if(rdx.mask._q_key==d.which){if(rdx.utils.is_not_defined(d.data)){for(var c in rdx.mask._mask_elements){rdx.mask.unmask_component(rdx.mask._mask_elements[c]["element"],c)}}else{rdx.mask.unmask(d.data.id)}return}}};this.mask_with_progress=function(p,m,l){if(rdx.utils.is_not_defined(p)||rdx.utils.is_not_defined(m)){return null}if(rdx.utils.is_defined(this._mask_elements[m])){return null}var q=$("<div>");var h=$("<div>");h.addClass("mask");q.append(h);var n=$("<div>");n.addClass("mask_progress_panel");n.addClass("smooth_all_corner");if(rdx.utils.is_defined(l.single_progress)&&l.single_progress==true){n.addClass("single_progress")}var o=new rdx.progress_bar(n,l);o.render();this._mask_elements[m]={element:q,component:o};q.append(n);p.append(q);$(document).bind(rdx.events.KEYUP,this._key_up_function).bind(rdx.events.KEYDOWN,{id:m},this._key_down_function);return o};this.mask=function(p,m,l){if(rdx.utils.is_not_defined(p)||rdx.utils.is_not_defined(m)){return}if(rdx.utils.is_defined(this._mask_elements[m])){return}var q=$("<div>");var h=$("<div>");h.addClass("mask");q.append(h);var n=$("<div>");n.addClass("mask_panel");n.addClass("smooth_all_corner");var o=new rdx.progress_bar(n);o.render();this._mask_elements[m]={element:q,component:o};q.append(n);p.append(q);$(document).bind(rdx.events.KEYUP,this._key_up_function).bind(rdx.events.KEYDOWN,{id:m},this._key_down_function)};this.mask_dom_element=function(l,h,g){if(rdx.utils.is_not_defined(l)){return null}if(rdx.utils.is_defined(this._mask_elements[h])){return null}var m=$("<div>");var f=$("<div>");f.addClass("mask");if(rdx.utils.is_defined(g)){f.addClass(g)}m.append(f);this._mask_elements[h]={element:m};l.append(m);$(document).bind(rdx.events.KEYUP,this._key_up_function).bind(rdx.events.KEYDOWN,{id:h},this._key_down_function);return m};this.mask_component=function(q,v,u,s){if(rdx.utils.is_defined(v,this._mask_elements[v])){return}var p=$("<div>");p.addClass("mask_panel").addClass("mask_component");this._mask_elements[v]={element:p,mask_element:q};q.addClass("mask_position");var n=q.outerWidth(true)-q.width();var o=$("<div>");o.addClass("mask_panel");var t=$("<img>").attr("src",rdx.images.IN_PROGRESS_IMG);if(rdx.utils.is_defined(u)){for(var m in u){t.css(m,u[m])}}if(rdx.utils.is_defined(s)){for(var m in s){p.css(m,s[m])}}$(document).bind(rdx.events.KEYUP,this._key_up_function).bind(rdx.events.KEYDOWN,this._key_down_function);p.append(t);q.append(p)};this.unmask=function(c){if(rdx.utils.is_not_defined(c,this._mask_elements[c])){return}var d=this._mask_elements[c]["element"];$(d).remove();if(rdx.utils.is_defined(this._mask_elements[c]["component"])){this._mask_elements[c]["component"].stop_progress_bar()}delete this._mask_elements[c];$(document).unbind(rdx.events.KEYUP,this._key_up_function).unbind(rdx.events.KEYDOWN,this._key_down_function)};this.unmask_dom_element=function(d,f){if(rdx.utils.is_not_defined(f,this._mask_elements[f])){return}var e=this._mask_elements[f]["element"];$(e).remove();delete this._mask_elements[f];$(document).unbind(rdx.events.KEYUP,this._key_up_function).unbind(rdx.events.KEYDOWN,this._key_down_function)};this.unmask_component=function(d,f){if(rdx.utils.is_not_defined(this._mask_elements[f])){return}var e=this._mask_elements[f]["element"];if(rdx.utils.is_defined(e)){$(e).remove()}if(rdx.utils.is_defined(d)){d.removeClass("mask_position")}else{if(rdx.utils.is_defined(this._mask_element[f]["mask_element"])){$(this._mask_element[f]["mask_element"]).removeClass("mask_position")}}$(document).unbind(rdx.events.KEYUP,this._key_up_function).unbind(rdx.events.KEYDOWN,this._key_down_function);delete this._mask_elements[f]};this.get_id=function(){if(this.MASK_ID==999999){this.MASK_ID=0}this.MASK_ID=this.MASK_ID+1;return this.MASK_ID};this.unmask_all_components=function(){if(rdx.utils.is_object_empty(this._mask_elements)){return}var d={};for(var c in this._mask_elements){if(c==rdx.mask.SLIDER_MASK){d[c]=this._mask_elements[c];continue}rdx.mask.unmask_component(this._mask_elements[c]["element"],c)}this._mask_elements=d}};rdx.context=function(b){this.OBJECT_NAME="rdx.context";this._data=null;this._url_params=new Object();this._DEFAULT_PROPERTIES={is_data_set:false,is_query_param:null,count:false,get_by_name:null,force_get_by_name:null,filter:null,url_name_param:null,custom:null,static_filter:null,static_get_by_name:null,exclude_filter:null,use_args:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b);this._url_params.use_args=this._properties.use_args};rdx.context.prototype.set_use_args=function(b){this._properties.use_args=b;this._url_params.use_args=b};rdx.context.prototype.set_context_data=function(m,g){if(rdx.utils.is_defined(g)){this._properties=$.extend({},this._properties,g)}this.set_use_args(this._properties.use_args);m=(this._properties.is_data_set&&rdx.utils.is_not_defined(m))?{}:m;if(rdx.utils.is_defined(m)){this._data=(this._properties.is_data_set===true)?m:null;if(rdx.utils.is_defined(this._properties.force_get_by_name)){rdx.url_utils.add_to_url_object(this._url_params,this._properties.force_get_by_name,rdx.url_utils.FORCE_GET_BY_NAME_TYPE,m)}else{rdx.url_utils.remove_type_from_url_object(this._url_params,rdx.url_utils.FORCE_GET_BY_NAME_TYPE)}if(rdx.utils.is_defined(this._properties.get_by_name)){rdx.url_utils.add_to_url_object(this._url_params,this._properties.get_by_name,rdx.url_utils.GET_BY_NAME_TYPE,m)}else{rdx.url_utils.remove_type_from_url_object(this._url_params,rdx.url_utils.GET_BY_NAME_TYPE)}if(rdx.utils.is_defined(this._properties.filter)){rdx.url_utils.add_to_url_object(this._url_params,this._properties.filter,rdx.url_utils.GET_FILTER_TYPE,m)}else{rdx.url_utils.remove_type_from_url_object(this._url_params,rdx.url_utils.GET_FILTER_TYPE)}if(this._properties.count===true){rdx.url_utils.add_to_url_object(this._url_params,["count"],rdx.url_utils.GET_COUNT_TYPE,{count:"yes"})}else{rdx.url_utils.remove_type_from_url_object(this._url_params,rdx.url_utils.GET_COUNT_TYPE)}if(rdx.utils.is_defined(this._properties.url_name_param)){rdx.url_utils.add_to_url_object(this._url_params,this._properties.url_name_param,rdx.url_utils.NAME_IN_URL_PARAM,m)}else{rdx.url_utils.remove_type_from_url_object(this._url_params,rdx.url_utils.NAME_IN_URL_PARAM)}}if(rdx.utils.is_defined(this._properties.custom)){var h=this._properties.custom;var f=rdx.utils.object_keys(h);rdx.url_utils.add_to_url_object(this._url_params,f,rdx.url_utils.GET_CUSTOM_TYPE,h)}else{rdx.url_utils.remove_type_from_url_object(this._url_params,rdx.url_utils.GET_CUSTOM_TYPE)}if(rdx.utils.is_defined(this._properties.is_query_param)){this._url_params[rdx.url_utils.IS_QUERY_PARAM]=this._properties.is_query_param}if(rdx.utils.is_defined(this._properties.static_filter)){var h=this._properties.static_filter;var l=rdx.url_utils.GET_FILTER_TYPE;if(rdx.utils.is_defined(this._properties.use_args)&&this._properties.use_args==true){l=rdx.url_utils.GET_ARGS_TYPE}var f=rdx.utils.object_keys(h);rdx.url_utils.add_to_url_object(this._url_params,f,l,h);this._url_params[rdx.url_utils.IS_QUERY_PARAM]=true}if(rdx.utils.is_defined(this._properties.static_get_by_name)){var h=this._properties.static_get_by_name;var f=rdx.utils.object_keys(h);rdx.url_utils.add_to_url_object(this._url_params,f,rdx.url_utils.GET_BY_NAME_TYPE,h)}};rdx.context.prototype.remove_url_type=function(b){if(rdx.utils.is_not_defined(this._url_params[b])){return}rdx.url_utils.remove_type_from_url_object(this._url_params,b);this._properties[b]=null};rdx.context.prototype.set_data=function(b){if(rdx.utils.is_not_defined(b)){return}this._properties.is_data_set=true;this._data=b};rdx.context.prototype.remove_param_from_url_type=function(d,c){if(rdx.utils.is_not_defined(this._url_params[d])||rdx.utils.is_not_defined(c)){return}rdx.url_utils.remove_from_url_object(this._url_params,c,d)};rdx.context.prototype.get_url_params=function(){return this._url_params};rdx.context.prototype.get_data=function(){return this._data};rdx.context.prototype.set_is_query_param=function(b){this._url_params[rdx.url_utils.IS_QUERY_PARAM]=b};rdx.context.prototype.is_data_set=function(){return rdx.utils.is_defined(this._data)?true:false};rdx.context.prototype.is_url_params_set=function(){return rdx.url_utils.is_url_object_not_empty(this._url_params)};rdx.context.prototype.invalidate_data=function(){this._data=null};rdx.context.prototype.get_object_name=function(){return"rdx.context"};rdx.context.prototype.get_properties=function(){return this._properties};rdx.context.prototype._add_to_data_object=function(p,q,h,m){if(!p[h]){p[h]=new Array()}if(rdx.utils.is_array(q)){q=rdx.utils.convert_array_to_map(q)}for(var n in q){var l=q[n];var o=rdx.utils.get_data_value(m,n);if(rdx.utils.is_defined(o)){rdx.url_utils._add_to_url_object(p,l,o,h)}}};rdx.url_utils=new function(){this.GET_TYPE="get";this.GET_COUNT_TYPE="count";this.GET_FILTER_TYPE="filter";this.EXCLUDE_FILTER_TYPE="exclude_filter";this.GET_BY_NAME_TYPE="get_by_name";this.FORCE_GET_BY_NAME_TYPE="force_get_by_name";this.GET_CUSTOM_TYPE="query_params";this.NAME_IN_URL_PARAM="url_by_name";this.IS_QUERY_PARAM="is_query_param";this.GET_ARGS_TYPE="args";this.FILTER_FOR_GET=this.GET_ARGS_TYPE;this.predefined_rdx_params=[this.GET_COUNT_TYPE,this.GET_FILTER_TYPE,this.GET_ARGS_TYPE];this.get_url=function(m,n){var u=m;if(!rdx.utils.is_defined(n)){return m}if(typeof(n)=="string"){return this.get_simple_url(m,n)}var q=this.FILTER_FOR_GET;if(rdx.utils.is_defined(n.use_args)&&n.use_args===true){q=this.GET_ARGS_TYPE}var t=rdx.utils.is_not_defined(n[this.IS_QUERY_PARAM])?false:n[this.IS_QUERY_PARAM];var v=null;if(u.indexOf("?")!=-1){var s=rdx.utils.parse_url(u,this.predefined_rdx_params,this.GET_CUSTOM_TYPE);v=(rdx.utils.is_defined(s.args))?true:false;n=rdx.url_utils.merge_query_params(n,s);n[this.IS_QUERY_PARAM]=(rdx.utils.is_defined(s[this.GET_FILTER_TYPE]))?true:t;u=u.substring(0,u.indexOf("?"));t=n[this.IS_QUERY_PARAM]}var p;var o;p=this.GET_ARGS_TYPE;if(rdx.utils.is_defined(n[p])&&rdx.utils.is_object_not_empty(n[p])&&((rdx.utils.is_defined(v)&&v==true)||(rdx.utils.is_defined(n.use_args)&&n.use_args==true))){o=n[p];u=this.get_type_url(u,o,rdx.url_utils.GET_ARGS_TYPE,true)}p=this.FORCE_GET_BY_NAME_TYPE;if(rdx.utils.is_defined(n[p])&&rdx.utils.is_object_not_empty(n[p])){o=n[p];u=this.get_type_url(u,o,q,false)}p=this.GET_BY_NAME_TYPE;if(rdx.utils.is_defined(n[p])&&rdx.utils.is_object_not_empty(n[p])){o=n[p];u=this.get_type_url(u,o,q,t)}p=this.GET_COUNT_TYPE;if(rdx.utils.is_defined(n[p])&&rdx.utils.is_object_not_empty(n[p])){u=this.get_count_url(u)}p=this.GET_FILTER_TYPE;if(rdx.utils.is_defined(n[p])&&rdx.utils.is_object_not_empty(n[p])){o=n[p];u=this.get_type_url(u,o,"filter",t)}p=this.GET_CUSTOM_TYPE;if(rdx.utils.is_defined(n[p])&&rdx.utils.is_object_not_empty(n[p])){o=n[p];u=this.get_custom_url(u,o)}p=this.NAME_IN_URL_PARAM;if(rdx.utils.is_defined(n[p])&&rdx.utils.is_object_not_empty(n[p])){o=n[p];u=this.get_custom_url(u,o)}return u};this.get_type_url=function(f,g,h,l){var m=rdx.utils.is_array(g);if(m){if(g.length==1&&!l){return this.get_simple_url(f,g,true)}else{return this.get_params_url(f,g,h)}}else{if(rdx.utils.is_not_defined(g)){return f}return this.get_simple_url(f,g)}return base_url};this.get_count_url=function(b){return this.add_query_param(b,"count","yes")};this.add_query_param=function(d,e,f){return d+this.get_url_separtor(d)+e+"="+rdx.url_utils.encode_uri_component(f)};this.get_url_separtor=function(d){var c="?";if(this.contains_question_mark(d)){c="&"}return c};this.get_params_url=function(f,l,m){var h=m+"=";for(var g=0;g<l.length;g++){h+=rdx.url_utils.encode_uri_component(l[g]["name"])+":"+rdx.url_utils.encode_uri_component(l[g]["value"]);h+=","}h=h.substring(0,h.lastIndexOf(","));return this.get_simple_url(f,h,false,this.get_url_separtor(f))};this.get_custom_url=function(f,l,m){var h="";for(var g=0;g<l.length;g++){if(rdx.utils.is_defined(l[g]["name"])&&rdx.utils.is_defined(l[g]["value"])){h+=rdx.url_utils.encode_uri_component(l[g]["name"])+"="+rdx.url_utils.encode_uri_component(l[g]["value"]);h+="&"}}h=h.substring(0,h.lastIndexOf("&"));return f+this.get_url_separtor(f)+h};this.contains_question_mark=function(b){if(rdx.utils.is_defined(b)){return b.indexOf("?")!=-1}};this.get_simple_url=function(q,n,o,p){var m="/";if(rdx.utils.is_defined(p)){m=p}if(o){for(var h=0;h<n.length;h++){var l=rdx.url_utils.encode_uri_component(n[h]["value"].toString().replace(/\//g,"%2F"));return q+m+l}}return q+m+n};this.remove_from_url_object=function(g,e,h){if(rdx.utils.is_not_defined(g,g[h])||(!rdx.utils.is_array(g[h]))){return}for(var f=(g[h].length-1);f>=0;f--){if(g[h][f]["name"]==e){g[h].splice(f,1);break}}if(g[h].length==0){delete g[h]}};this.remove_type_from_url_object=function(c,d){if(rdx.utils.is_not_defined(c,c[d])){return}delete c[d]};this.add_to_url_object=function(n,m,q,t){if(!n[q]){n[q]=new Array()}if(rdx.utils.is_array(m)){m=rdx.utils.convert_array_to_map(m)}for(var p in m){var v=m[p];var s=rdx.url_utils._get_key(p);var o=rdx.utils.get_data_value(t,s);if(rdx.utils.is_array(o)){o=o[0]}if(rdx.utils.is_defined(o)){var u=rdx.url_utils._get_key(v);this._add_to_url_object(n,u,o,q)}}};this._add_to_url_object=function(l,f,h,m){for(var g=0;g<l[m].length;g++){if(l[m][g]["name"]==f){l[m][g]["value"]=h;return}}l[m].push({name:f,value:h})};this._get_key=function(d){if(rdx.utils.is_defined(d)&&d.indexOf(".")!=-1){var c=d.split(".");return c[c.length-1]}return d};this.construct_url_params=function(h,f,e,g){if(rdx.utils.is_not_defined(h)){h=new Object()}this.add_to_url_object(h,e,f,g);return h};this.is_url_object_not_empty=function(f){if(rdx.utils.is_object_empty(f)){return false}var e=false;for(var d in f){if(rdx.utils.is_array(f[d])){if(f[d].length>0){e=true}}}return e};this.merge_query_params=function(g,l){if(rdx.utils.is_not_defined(g)){return l}for(var h in l){if(rdx.utils.is_defined(g[h])&&g[h].length>0){for(var m=0;m<(l[h]).length;m++){for(var f=0;f<(g[h]).length;f++){add_to_url_object=true;if(String(g[h][f]["name"])==String(l[h][m]["name"])){add_to_url_object=false;break}}if(add_to_url_object==true){(g[h]).push(l[h][m])}}}else{g[h]=l[h]}}return g};this.encode_uri_component=function(c,d){if(rdx.utils.is_empty(c)){return c}c=encodeURIComponent(c);if(rdx.USE_DOUBLE_ENCODING==rdx.ALL||(rdx.utils.is_defined(d)&&d==true)){c=encodeURIComponent(c)}return c};this.replace_placeholder_in_url=function(f){var h=f.split("/");for(var m=0;m<h.length;m++){if(h[m][0]=="{"){var g=h[m].substring(1,h[m].length-1);var l=h[m];if(rdx.utils.is_defined(helios[g])){l=helios[g]}f=f.replace(h[m],l)}}return f};this.convert_filter_object_to_regex_form=function(t){for(var q in t){if(t.hasOwnProperty(q)){var n=t[q];if(n instanceof Array&&n.length>1){var m="/";var l="|";var o="";for(var s=0;s<n.length;s++){var p=n[s];if(s>0){o+=l}o+=p}t[q]=m+o+m}}}return t}};rdx.message_box=new function(){this._MESSAGE_BOX_RENDERED=false;this._INFO_TITLE_KEY="rdx.message_box_information";this._WARNING_TITLE_KEY="rdx.message_box_warning";this._ERROR_TITLE_KEY="rdx.message_box_error";this._CONFIRMATION_TITLE_KEY="rdx.message_box_confirmation";this._OK_BUTTON_KEY="rdx.message_box_ok_button";this._YES_BUTTON_KEY="rdx.message_box_yes_button";this._NO_BUTTON_KEY="rdx.message_box_no_button";this._RETRY_BUTTON_KEY="rdx.message_retry_button";this._button=null;this.show=function(x,H,v,F,G,u){if(this._MESSAGE_BOX_RENDERED||rdx.utils.is_not_defined(H)||rdx.utils.is_empty(H)){return}v=rdx.i18n.get_string(v);H=rdx.i18n.get_string(H);this._MESSAGE_BOX_RENDERED=true;var E=$("<div>");var y=this._get_message_box(x,H);var A=this._get_detailed_message(u);var z=this._get_message_box_buttons(x,E,F,G);E.append(y);if(rdx.utils.is_defined(A)){E.append(A)}E.append("<br/>");E.append(z);var C=this;var D={minHeight:10,minWidth:350,maxWidth:385,modal:true,resizable:false,title:v,dialogClass:"rdx_message_box",close:function(){C._MESSAGE_BOX_RENDERED=false;switch(x){case rdx.CONFIRMATION:if(rdx.utils.is_defined(G)){G.call_back()}break;default:if(rdx.utils.is_defined(F)){F.call_back()}break}}};E.dialog(D);var w=$(".ui-widget-overlay");var t=w.length;if(t>0){var B=$(w[t-1]);if(B.css("z-index")>9999998){B.css("z-index",9999998)}}if(rdx.utils.is_defined(this._button)){this._button.focus()}if(rdx.utils.is_defined(rdx.get_test_framework)&&rdx.get_test_framework().is_test_mode){rdx_ut_executor_deferred.error_is_seen(rdx_ut_executor_deferred,H,z)}};this.info=function(e,g,h,f){this.show(rdx.INFO,e,this._get_title(h,rdx.INFO),g,null,f)};this.error=function(m,h,l,g){try{rdx.mask.unmask_all_components()}catch(f){}this.show(rdx.ERROR,m,this._get_title(l,rdx.ERROR),h,null,g)};this.error_retry=function(f,h,l,m,g){this.show(rdx.ERROR_RETRY,f,this._get_title(m,rdx.ERROR),h,l,g)};this.warning=function(m,h,l,g){try{rdx.mask.unmask_all_components()}catch(f){}this.show(rdx.WARNING,m,this._get_title(l,rdx.WARNING),h,null,g)};this.confirm=function(f,e,g,h){this.show(rdx.CONFIRMATION,f,this._get_title(h,rdx.CONFIRMATION),e,g)};this._get_title=function(c,d){if(c){return rdx.i18n.get_string(c)}switch(d){case rdx.INFO:return rdx.i18n.get_string(this._INFO_TITLE_KEY);case rdx.ERROR:case rdx.ERROR_RETRY:return rdx.i18n.get_string(this._ERROR_TITLE_KEY);case rdx.WARNING:return rdx.i18n.get_string(this._WARNING_TITLE_KEY);case rdx.CONFIRMATION:return rdx.i18n.get_string(this._CONFIRMATION_TITLE_KEY)}return rdx.i18n.get_string(this._INFO_TITLE_KEY)};this._get_message_box=function(q,s){var n=$(document.createElement("table")).addClass("message_box_content_container").attr("cellPadding",0).attr("cellSpacing",0);if(!n.html().match(/<tbody>/i)){n.append(document.createElement("tbody"))}s=s.replace(/&nbsp;/g," ");var o=$(n[0].tBodies[0].insertRow(-1));var m=$(o[0].insertCell(-1)).addClass("table_cell_top_align");var p=$(o[0].insertCell(-1));if(rdx.utils.is_not_defined(q)){q=rdx.INFO}var t=$(document.createElement("div"));t.addClass("message_box");switch(q){case rdx.INFO:var l=$(document.createElement("img")).attr("src",rdx.images.MESSAGE_INFO);m.append(l);t.html(s.replace(/\n/g,"<br />"));p.append(t);break;case rdx.ERROR:case rdx.ERROR_RETRY:var l=$(document.createElement("img")).attr("src",rdx.images.MESSAGE_ERROR);m.append(l);t.html(s.replace(/\n/g,"<br />"));p.append(t);break;case rdx.WARNING:var l=$(document.createElement("img")).attr("src",rdx.images.MESSAGE_WARNING);m.append(l);t.html(s.replace(/\n/g,"<br />"));p.append(t);break;case rdx.CONFIRMATION:var l=$(document.createElement("img")).attr("src",rdx.images.MESSAGE_CONFIRM);m.append(l);t.html(s.replace(/\n/g,"<br />"));p.append(t);break}return n};this._get_detailed_message=function(m){if(rdx.utils.is_not_defined(m)){return null}var l=$("<table>").addClass("message_box_content_container");var h=$("<tr>");var f=$("<img>").attr("src",rdx.images.NAVIGATE_OPEN_IMG);h.append($("<td>").append(f).append($("<a>").append(rdx.i18n.get_string("rdx.message_box_details"))));var g=$("<tr>");g.hide();g.append($("<td>").append(m));h.bind(rdx.events.CLICK,{message_row:g,icon:f},function(a){var c=a.data.message_row;var b=a.data.icon;if(c.css("display")=="none"){b.attr("src",rdx.images.NAVIGATE_CLOSE_IMG)}else{b.attr("src",rdx.images.NAVIGATE_OPEN_IMG)}c.toggle()});l.append(h);l.append(g);return l};this._get_message_box_buttons=function(n,q,s,o){var m=true;var t=false;if(rdx.utils.is_defined(s)){t=true}var l=$(document.createElement("div"));l.attr("align","center");var p={};switch(n){case rdx.CONFIRMATION:if(rdx.utils.is_defined(s)){this._add_blue_button_properties(p,this._YES_BUTTON_KEY,new rdx.callback(this,this._handle_action_button_click,[s,q]))}this._add_grey_button_properties(p,this._NO_BUTTON_KEY,new rdx.callback(this,this._handle_action_button_click,[o,q]));break;case rdx.ERROR_RETRY:if(rdx.utils.is_defined(s)){this._add_blue_button_properties(p,this._RETRY_BUTTON_KEY,new rdx.callback(this,this._handle_action_button_click,[s,q]))}this._add_grey_button_properties(p,this._NO_BUTTON_KEY,new rdx.callback(this,this._handle_action_button_click,[o,q]));break;default:this._add_blue_button_properties(p,this._OK_BUTTON_KEY,new rdx.callback(this,this._handle_action_button_click,[s,q]));break}if(rdx.utils.is_object_not_empty(p)){new rdx.button_bar(l,new rdx.form_field({properties:p})).render()}return l};this._add_grey_button_properties=function(d,e,f){d.add_grey_button=true;d.grey_button_label=e;d.grey_button_click_handler_callback=f};this._add_blue_button_properties=function(d,e,f){d.add_blue_button=true;d.blue_button_label=e;d.blue_button_click_handler_callback=f};this._handle_action_button_click=function(d,f,e){this._MESSAGE_BOX_RENDERED=false;e.remove();if(rdx.utils.is_defined(f)){f.call_back()}}};rdx.message_container=new function(){this.POSITION_TOP="TOP";this.POSITION_BOTTOM="BOTTOM";this._get_properties=function(d){var c={img_url:rdx.images.MESSAGE_WARNING,position:rdx.message_container.POSITION_TOP,add_custom_button:false,custom_button_text:"",button_bar_properties:null,custom_button_callback:null,parent:null,close_callback:null,message:null,title_message:null,add_close_button:true};return $.extend({},c,d)};this.show=function(h,g,f){var e=this._get_properties(f);if(g==rdx.SUCCESS){this.success(h,e.message,f,e.message_title)}else{this.warning(h,e.message_title,e.message,f)}};this.info=function(s,p,q,m){var t=this._get_properties(m);var l=$("<div>").addClass("message_container_info").addClass("message_container_common");l.append($("<strong>").append(rdx.i18n.get_string(p)));if(t.add_close_button){var n=($("<a>").attr("href","#")).append($("<img>").attr("src",rdx.images.MESSAGE_CLOSE).addClass("message_container_close_image")).bind(rdx.events.CLICK,{info_div:l},function(a){l.remove();if(rdx.utils.is_defined(t.close_callback)){(t.close_callback).call_back()}return});l.append(n)}if(rdx.utils.is_defined(q)){if(rdx.utils.is_string(q)){l.append($("<p>").append(rdx.i18n.get_string(q)))}else{l.append($("<p>").append(q))}}var o=this._get_buttons(t);if(rdx.utils.is_defined(o)){l.append(o)}if(rdx.utils.is_defined(s)){l.hide();if(rdx.utils.is_defined(t.id)){l.attr("id",t.id);s.find("#"+t.id).remove()}if(t.position==rdx.message_container.POSITION_TOP){s.prepend(l)}else{s.append(l)}rdx.utils.slide_up_down(l,false)}return l};this.error=function(s,p,q,m){var l=this._get_properties(m);var t=$("<div>").addClass("message_container_error");if(rdx.utils.is_string(q)){t.append(rdx.utils.html_decode(rdx.i18n.get_string(q)))}else{t.append(rdx.utils.html_decode(q))}if(l.add_close_button){var n=($("<a>").addClass("message_container_close").attr("href","#")).append($("<img>").attr("src",rdx.images.MESSAGE_CLOSE).addClass("message_container_close_image")).bind(rdx.events.CLICK,{error_div:t},function(a){a.preventDefault();t.remove();if(rdx.utils.is_defined(l.close_callback)){(l.close_callback).call_back()}return});t.append(n)}if(rdx.utils.is_defined(p)){t.append($("<p>").append(rdx.utils.html_decode(rdx.i18n.get_string(p))))}if(l.add_custom_button==true){var o=this._get_buttons(l);if(rdx.utils.is_defined(o)){t.append(o)}}if(rdx.utils.is_defined(s)){t.addClass("hide");if(rdx.utils.is_defined(l.id)){t.attr("id",l.id);s.find("#"+l.id).remove()}if(l.position==rdx.message_container.POSITION_TOP){s.prepend(t)}else{s.append(t)}rdx.utils.slide_up_down(t,false)}return};this.warning=function(t,q,s,m){var l=this._get_properties(m);var o=$("<div>").addClass("message_container_warning").addClass("message_container_common");o.append($("<strong>").append(rdx.i18n.get_string(q)));if(l.add_close_button){var n=($("<a>").attr("href","#")).append($("<img>").attr("src",rdx.images.MESSAGE_CLOSE).addClass("message_container_close_image")).bind(rdx.events.CLICK,{warning_div:o},function(a){o.remove();if(rdx.utils.is_defined(l.close_callback)){(l.close_callback).call_back()}return});o.append(n)}if(rdx.utils.is_defined(s)){if(rdx.utils.is_string(s)){o.append($("<p>").append(rdx.i18n.get_string(s)))}else{o.append(s)}}var p=this._get_buttons(l);if(rdx.utils.is_defined(p)){o.append(p)}if(rdx.utils.is_defined(t)){o.hide();if(rdx.utils.is_defined(l.id)){o.attr("id",l.id);t.find("#"+l.id).remove()}if(l.position==rdx.message_container.POSITION_TOP){t.prepend(o)}else{t.append(o)}rdx.utils.slide_up_down(o,false)}return o};this.success=function(s,p,m,q){var t=this._get_properties(m);var l=$("<div>").addClass("message_container_success");if(rdx.utils.is_string(p)){l.append(rdx.i18n.get_string(p))}else{l.append(p)}if(t.add_close_button){var n=($("<a>").addClass("message_container_close").attr("href","#")).append($("<img>").attr("src",rdx.images.MESSAGE_CLOSE).addClass("message_container_close_image")).bind(rdx.events.CLICK,{success_div:l},function(a){l.remove();if(rdx.utils.is_defined(t.close_callback)){(t.close_callback).call_back()}return});l.append(n)}if(rdx.utils.is_defined(q)){l.append($("<p>").append(rdx.i18n.get_string(q)))}if(t.add_custom_button==true){var o=this._get_buttons(t);if(rdx.utils.is_defined(o)){l.append(o)}}if(rdx.utils.is_defined(s)){l.hide();if(rdx.utils.is_defined(t.id)){l.attr("id",t.id);s.find("#"+t.id).remove()}if(t.position==rdx.message_container.POSITION_TOP){s.prepend(l)}else{s.append(l)}rdx.utils.slide_up_down(l,false)}return};this._get_buttons=function(g){if(rdx.ELEMENTS_READONLY==true){return}var f=$("<table>");var l=$("<tr>");if(rdx.utils.is_defined(g.button_bar_properties)){var m=new rdx.button_bar(l,g.button_bar_properties).render()}if(g.add_custom_button){var h=$("<button>").addClass("search_button search_grey_button").text(g.custom_button_text);l.append($("<td>").append(h));if(rdx.utils.is_defined(g.custom_button_callback)){h.bind(rdx.events.CLICK,{callback:g.custom_button_callback},function(a){a.data.callback.call_back([function(){return{hide:function(){$(".message_container_warning").hide()}}}])})}}f.append(l);return f}};rdx.callback=function(e,f,d){if(rdx.utils.is_function(e)){d=f;f=e;e=null}this.object=e?e:null;this.method=f?f:function(){};this.params=d?d:[]};rdx.callback.prototype.call_back=function(b){return this.method.apply(this.object,b?rdx.utils.unshift_clone_array(this.params,b):this.params)};rdx.callback.prototype.set_params=function(b){this.params=b};rdx.callback.prototype.get_params=function(b){return this.params};rdx.expression=function(e,d,f){this._lhs_operand=e;this._operator=d;this._rhs_operand=f;this._is_single_expression=true;if(rdx.utils.is_defined(this._operator)&&rdx.utils.is_defined(this._rhs_operand)){this._is_single_expression=false}};rdx.expression.prototype.get_expression=function(d){var c=" ( ";c+=this.get_part_expression(this._lhs_operand,d,true);if(rdx.utils.is_defined(this._operator)&&rdx.utils.is_defined(this._rhs_operand)){c+=this._operator;c+=this.get_part_expression(this._rhs_operand,d,false)}c+=" ) ";return c};rdx.expression.prototype.get_part_expression=function(g,m,f){var l="";if(typeof(g)=="string"){var h=g.match(/\{.*?\}/g);if(rdx.utils.is_defined(h)){for(i=0;i<h.length;i++){variable=h[i].replace(/[{}]/g,"");g=g.replace(h[i],"'"+m[variable]+"'")}l=g}else{if(!this._is_single_expression){f?l+="'"+m[g]+"'":l+="'"+g+"'"}else{l+=g}}}else{l+=g.get_expression(m)}return l};rdx.expression.prototype.evaluate=function(data){if(rdx.utils.is_defined(data)){for(var index=0;index<data.length;index++){if(eval(this.get_expression(data[index]))){return true}}}else{if(eval(this.get_expression())){return true}}return false};rdx.expression.prototype.evaluate_all=function(data){for(var index=0;index<data.length;index++){if(!eval(this.get_expression(data[index]))){return false}}return true};rdx.expression_constant=new function(){this.AND="&&";this.OR="||";this.EQ="==";this.NEQ="!=";this.GT=">";this.GTE=">=";this.LT="<";this.LTE="<="};rdx.action=function(c){var d={label:"",tooltip:"",image_url:null,view:null,class_names:"smooth_all_corner",initial_class_names:"",no_selection:false,single_selection:false,multiple_selection:false,independent_of_selection:false,confirm_message:null,min_row_count:null,max_row_count:null,action_type:rdx.ACTION,expression:null,disabled:false,is_app_context_data_set:false,click_handler_callback:null,prompt_data_callback:null,prompt:null,fetch_resrc_name_from_view:false,expression_mode:"ANY",table_row_click:false,align:rdx.position.LEFT,button_type:rdx.DEFAULT_BUTTON,reset_action_callback:null,state:"",separator:false};this._properties=$.extend({},d,c);this._is_valid=true};rdx.action.prototype.set_click_handler_callback=function(b){this._properties.click_handler_callback=b};rdx.action.prototype.set_reset_action_callback=function(b){this._properties.reset_action_callback=b};rdx.action.prototype.get_click_handler_callback=function(){return this._properties.click_handler_callback};rdx.action.prototype.perform_action=function(e,d){if(this.is_disabled()){return}if(!this._is_valid){return}if(rdx.utils.is_defined(this.get_prompt())){if(rdx.utils.is_defined(d)&&rdx.utils.is_defined(d.curr_data)){var f={action:rdx.i18n.get_string(this._properties.label.toLowerCase()).toLowerCase(),obj_type:d.title,number_of_selected:1};this._properties.selected_rows_for_action=[];this._properties.selected_rows_for_action.push(d.curr_data);rdx.message_box.confirm(rdx.i18n.get_string(this.get_prompt(),this.get_prompt_data()),new rdx.callback(this,this._invoke_callback,[e,true]))}else{rdx.message_box.confirm(rdx.i18n.get_string(this.get_prompt(),this.get_prompt_data()),new rdx.callback(this,this._invoke_callback))}}else{this._invoke_callback(e)}};rdx.action.prototype._invoke_callback=function(d,c){this._properties.dom_element=d;this.get_click_handler_callback().call_back([this._properties]);if(c){this._properties.selected_rows_for_action=null}};rdx.action.prototype.is_enabled=function(h){this._is_valid=true;var e=h.action_item_data;var g=h.total_item_count;if(this.is_disabled()){return false}if(rdx.utils.is_defined(g)){if(rdx.utils.is_defined(this.get_min_row_count())){if(g<this.get_min_row_count()){this._is_valid=false;return this._is_valid}}}if(rdx.utils.is_defined(this.get_max_row_count())){if(g>=this.get_max_row_count()){this._is_valid=false;return this._is_valid}}if(this.is_independent_of_selection()){this._is_valid=true;return this._is_valid}var f=e.length;if(f<=0){return this.is_no_selection()}else{if((f==1&&this.is_single_selection())||(f>1&&this.is_multiple_selection())){if(this.is_expression_set()){if(this._properties.expression_mode=="ALL"){this._is_valid=this.get_expression().evaluate_all(e);return this._is_valid}else{this._is_valid=this.get_expression().evaluate(e);return this._is_valid}}this._is_valid=true;return this._is_valid}this._is_valid=false;return this._is_valid}};rdx.action.prototype.get_label=function(){return rdx.i18n.get_string(this._properties.label)};rdx.action.prototype.get_tooltip=function(){if(!this._properties.tooltip){this._properties.tooltip=this.get_label()}return rdx.i18n.get_string(this._properties.tooltip)};rdx.action.prototype.get_image_url=function(){if(rdx.ADD_ACTION_IMAGES==false){return rdx.images.SPACER_IMG}return this._properties.image_url};rdx.action.prototype.get_class_names=function(){return this._properties.class_names};rdx.action.prototype.is_disabled=function(){return this._properties.disabled};rdx.action.prototype.set_disabled=function(b){this._properties.disabled=b};rdx.action.prototype.is_no_selection=function(){return this._properties.no_selection};rdx.action.prototype.get_action_type=function(){return this._properties.action_type};rdx.action.prototype.is_single_selection=function(){return this._properties.single_selection};rdx.action.prototype.is_multiple_selection=function(){return this._properties.multiple_selection};rdx.action.prototype.is_independent_of_selection=function(){return this._properties.independent_of_selection};rdx.action.prototype.get_min_row_count=function(){return this._properties.min_row_count};rdx.action.prototype.get_max_row_count=function(){return this._properties.max_row_count};rdx.action.prototype.is_expression_set=function(){return this._properties.expression!=null};rdx.action.prototype.get_expression=function(){return this._properties.expression};rdx.action.prototype.get_prompt=function(){return this._properties.prompt};rdx.action.prototype.get_prompt_data=function(){if(rdx.utils.is_not_defined(this._properties.prompt_data_callback)){return null}return this._properties.prompt_data_callback.call_back([this._properties])};rdx.action.prototype.get_properties=function(){return this._properties};rdx.action.prototype.get_align=function(){return this._properties.align};rdx.action.prototype.get_button_type=function(){return this._properties.button_type};rdx.action.prototype.set_action_state=function(b){this._properties.state=b};rdx.action.prototype.get_action_state=function(){return this._properties.state};rdx.action.prototype.get_initial_class_names=function(){return this._properties.initial_class_names};rdx.constants=new function(){this.DEFAULT_VERTICAL_OFFSET=50;this.DEFAULT_HORIZONTAL_OFFSET=120;this.DEFAULT_ROOT_POSITION="top";this.CIRCLE="circle";this.RECTANGLE="rect";this.TRIANGLE="triangle";this.SQUARE="square";this.DIAMOND="diamond";this.CROSS="cross";this.CUSTOM="custom";this.TOP="top";this.RIGHT="right";this.BOTTOM="bottom";this.LEFT="left";this.CENTER="center";this.IMAGE="image";this.FIRST="first";this.MIDDLE="middle";this.ADJACENT="adjacent";this.CUSTOM_SHAPE="custom_shape";this.PATH="path";this.UP="up";this.DOWN="down";this.DEFAULT_STROKE_COLOR="#bfbfbf";this.DEFAULT_STROKE_WIDTH="1px";this.DEFAULT_CIRCLE_RADIUS=15;this.DEFAULT_RECT_WIDTH="100";this.DEFAULT_RECT_HEIGHT="40";this.DEFAULT_SQUARE_HEIGHT="60";this.DEFAULT_TRIANGLE_SIZE="600";this.DEFAULT_ROTATION="45";this.DEFAULT_DIAMOND_HEIGHT="22";this.DEFAULT_IMAGE_HEIGHT=45;this.DEFAULT_IMAGE_WIDTH=45;this.FILL_COLOR="#fff";this.DEFAULT_CONNECTOR_STROKE_COLOR="#b7b7b7";this.DEFAULT_CONNECTOR_STROKE_WIDTH="1px";this.STEP="step";this.DIAGONAL="diagonal";this.LINE="line";this.U_TYPE_CONNECTOR="u_connector";this.STEP_CONNECTOR="step";this.LINE_CONNECTOR="line";this.DIAGONAL_CONNECTOR="diagonal";this.INDIVIDUAL_CONNECTION="individual";this.ONE_ONE_CONNECTION="one_one";this.CASCADE_CONNECTION="cascade";this.GROUP_CONNECTION="group";this.CUSTOM_SHAPE_MIN_WIDTH=338;this.CUSTOM_SHAPE_MIN_HEIGHT=400;this.POPUP_MIN_HEIGHT=600;this.POPUP_MIN_WIDTH=338;this.LABEL_OFFSET=15;this.LABEL_MIN_WIDTH=40;this.LABEL_MIN_HEIGHT=20;this.LABEL_FONT_FAMILY="citrixsans-semibold";this.LABEL_FONT_SIZE="12px";this.LABEL_FONT_WEIGHT=500;this.LABEL_COLOR="#666";this.TEXT_WIDTH=100};rdx.link=function(b){this._DEFAULT_PROPERTIES={url:null,width:screen.width,height:screen.height,target_window:"_blank",type:"window"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b)};rdx.link.prototype.fire=function(){if(this._properties.type=="window"){return rdx.utils.openwindow(this._properties.url,this._properties.target_window,this._properties.width,this._properties.height)}};rdx.hyper_link=function(d,f,e){this._parent=d;this._field=f;this._form=e.get_form();this._form_holder=e;this._DEFAULT_PROPERTIES={click_handler_callback:null,custom_class:null,mask_element:false,set_focus_on_field:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,f.get_properties());this._element=rdx.dom_utils.get_element(rdx.form_constants.HYPER_LINK);this.inner_div=$("<div>");this._mask_id=rdx.mask.get_id()};rdx.hyper_link.prototype.render=function(){this._element.bind(rdx.events.CLICK,{element:this._element,inner_div:this.inner_div,form_holder:this._form_holder,form:this._form,click_handler_callback:this._properties.click_handler_callback,properties:this._properties},function(w){if(w.data.properties.mask_element){rdx.mask.mask_component(w.data.element,"__button_elem")}else{w.data.form.mask("__hyper_link"+this._mask_id)}var s=w.data.form.get_form_data();var x=w.data.form.get_app_context_data();var u=null;if(rdx.utils.is_defined(w.data.click_handler_callback)){var v=new rdx.callback_params({return_callback:new rdx.callback(function(b,a){w.data.form.initialize(b);if(rdx.utils.is_defined(w.data.properties.set_focus_on_field)){w.data.form._set_focus(w.data.properties.set_focus_on_field,u)}if(w.data.properties.mask_element){rdx.mask.unmask_component(w.data.element,"__button_elem")}else{w.data.form.unmask("__hyper_link"+this._mask_id)}}),response:s,unformatted_response:s,app_context_data:x});w.data.inner_div.empty();w.data.element.after(w.data.inner_div);var p=w.data.form_holder.get_form_fields();for(var t=0,o=p.length;t<o;t++){var q=p[t];if(q.get_force_validate()){var n=w.data.form._validate_form_field(q,t);if(!n){w.data.form._error_found=true;return false}if(rdx.utils.is_defined(w.data.properties.set_focus_on_field)&&q.get_key()==w.data.properties.set_focus_on_field){u=q}}}w.data.click_handler_callback.call_back([v,w.data.inner_div])}});this._element.append(this._field.get_label());if(rdx.utils.is_defined(this._properties.custom_class)){this._element.addClass(this._properties.custom_class)}this._parent.append(this._element);return this};rdx.hyper_link.prototype.set_data=function(){};rdx.hyper_link.prototype.get_data=function(){};rdx.hyper_link.prototype.get_component=function(){return this._element};rdx.i18n=new function(){this._grouping_separator=",";this._decimal_separator=".";this._locale="en";this._rdx_lang=null;this._ext_lang=new Object();this._app_lang=null;this._initialize=function(){var locale_array_space=["be","bg","cs","et","fi","fr","hu","lv","no","pl","ru","sk","sr","sv"];var locale_array_dot=["ca","da","de","el","es","hr","is","it","lt","mk","nl","pt","ro","sh","sl","sq","tr","uk"];if($.inArray(this._locale,locale_array_space)>=0){this._grouping_separator=" ";this._decimal_separator=","}else{if($.inArray(this._locale,locale_array_dot)>=0){this._grouping_separator=".";this._decimal_separator=","}}this._init_rdx_lang();this._init_ext_lang();this._init_app_lang()};this._init_rdx_lang=function(){var rdx_lang_folder=rdx.FRAMEWORK_BASE+"/rdx/core/lang/";var locale_available=this._load_lang_file("rdx",this._locale,rdx_lang_folder);try{this._rdx_lang=eval("rdx_lang_"+locale_available)}catch(err){}};this._init_ext_lang=function(){var ext_base=rdx.FRAMEWORK_BASE+"/rdx/extensions/";for(var i=0,end_index=rdx.EXTENSIONS.length;i<end_index;i++){var ext_name=rdx.EXTENSIONS[i];var ext_lang_folder=ext_base+ext_name+"/lang/";var locale_available=this._load_lang_file(ext_name,this._locale,ext_lang_folder);try{this._ext_lang[ext_name]=eval(ext_name+"_lang_"+locale_available)}catch(err){}}};this._init_app_lang=function(){if(rdx.APP_I18N_FILE_NAME==""){return}if(rdx.utils.is_array(rdx.APP_I18N_FILE_NAME)){this._app_lang={};try{for(var i=0;i<rdx.APP_I18N_FILE_NAME.length;i++){var locale_available=this._load_lang_file(rdx.APP_I18N_FILE_NAME[i],this._locale,rdx.APP_I18N_BASE);$.extend(this._app_lang,eval(rdx.APP_I18N_FILE_NAME[i]+"_lang_"+locale_available))}}catch(err){}}else{var locale_available=this._load_lang_file(rdx.APP_I18N_FILE_NAME,this._locale,rdx.APP_I18N_BASE);try{this._app_lang=eval(rdx.APP_I18N_FILE_NAME+"_lang_"+locale_available)}catch(err){}}};this._load_lang_file=function(app_name,locale_name,lang_folder){try{eval(app_name+"_lang_"+locale_name)}catch(err){var lang_file=rdx.model.add_base_url_to_url(lang_folder+app_name+"_"+locale_name+".json");var status=rdx.utils.load_script(lang_file);if(locale_name!="en"&&!status){this._load_lang_file(app_name,"en",lang_folder);return"en"}}return locale_name};this._lookup=function(format_string){if(rdx.utils.is_defined(format_string)){if(format_string.indexOf("rdx.")==0){if(format_string.indexOf("rdx.ext.")==0){var matches=format_string.match(/^rdx\.ext\.(.*)\..*/);if(matches.length>=2){var ext_name=matches[1];if(rdx.utils.is_defined(this._ext_lang[ext_name])){return this._ext_lang[ext_name][format_string]}}}else{if(rdx.utils.is_defined(this._rdx_lang)){return this._rdx_lang[format_string]}}}else{if(rdx.utils.is_defined(this._app_lang)){return this._app_lang[format_string]}}}return null};this.get_string=function(format_string,substitutes){if(!format_string){return format_string}if(rdx.utils.is_defined(format_string)){format_string=format_string+""}var lang_string=this._lookup(format_string);if(rdx.utils.is_defined(lang_string)){if(lang_string.indexOf("{rdx.product_title}")>-1){lang_string=lang_string.replace(/{rdx.product_title}/g,rdx.product_title)}if(lang_string.indexOf("{rdx.product_sub_title}")>-1){lang_string=lang_string.replace(/{rdx.product_sub_title}/g,rdx.product_sub_title)}if(rdx.utils.is_defined(substitutes)){$.each(substitutes,function(key,value){lang_string=rdx.utils.get_formatted_string(lang_string,key,value)})}return lang_string}return format_string};this.get_decimal_separator=function(){return this._decimal_separator};this.get_grouping_separator=function(){return this._grouping_separator}};rdx.page.add_event_handler(rdx.events.APP_LOADED,new rdx.callback(rdx.i18n,rdx.i18n._initialize));rdx.help=new function(){this.HELP_TXT="rdx.help";this.HELP_TOOLTIP="rdx.help_tooltip";this.HELP_URL_START_PARAM="#";this._help_url_map=new Object();this._initialize=function(){try{this._help_url_map=eval(rdx.APP_HELP_OBJECT_NAME)}catch(err){}};this.add_help=function(parent,id){if(!this.show_help()){return}var container=$("<div>");var help_div=$("<div>");parent.width("10px");container.addClass("help");container.attr("title",rdx.i18n.get_string(this.HELP_TOOLTIP));help_div.addClass("smooth_all_corner");var help_img=$("<img>");help_img.attr("src",rdx.images.HELP_IMG).attr("alt",rdx.images.HELP_IMG);help_div.append(help_img).attr("title",rdx.i18n.get_string(this.HELP_TXT));this._add_click_handler(help_div,id);container.append(help_div);parent.append(container)};this.show_help=function(){if(rdx.utils.is_not_defined(rdx.HELP_SUPPORTED)){return true}return rdx.HELP_SUPPORTED};this._add_click_handler=function(help_div,id){help_div.bind(rdx.events.CLICK,{help_id:id,help:this},function(event){event.data.help.handle_help_click_event(event.data.help_id)})};this.handle_help_click_event=function(id){var link=new rdx.link({url:this._get_help_url(id),target_window:"RDXHELP",width:800,height:500});link.fire()};this.get_help_url=function(id){return rdx.help._get_help_url(id)};this._get_help_url=function(id){var help_url_param=this._help_url_map[id];var help_base_url=rdx.model.add_base_url_to_url(rdx.APP_HELP_BASE);if(rdx.utils.is_not_defined(help_url_param)){return help_base_url}return help_base_url+this.HELP_URL_START_PARAM+help_url_param}};rdx.page.add_event_handler(rdx.events.APP_LOADED,new rdx.callback(rdx.help,rdx.help._initialize));rdx.client_information=new function(){this._initialise_client_info=function(){if(rdx.utils.is_ie()){rdx.BROWSER=rdx.IE}else{if(rdx.utils.is_safari()){rdx.BROWSER=rdx.SAFARI}else{if(rdx.utils.is_chrome()){rdx.BROWSER=rdx.CHROME}else{if(rdx.utils.is_firefox()){rdx.BROWSER=rdx.FIREFOX}}}}rdx.BROWSER_VERSION=rdx.utils.get_browser_version();if(rdx.utils.is_mac()){rdx.OS=rdx.MAC}else{if(rdx.utils.is_unix()){rdx.OS=rdx.UNIX}else{if(rdx.utils.is_linux()){rdx.OS=rdx.LINUX}else{if(rdx.utils.is_windows()){rdx.OS=rdx.WINDOWS}}}}if(rdx.utils.is_android()){rdx.DEVICE=rdx.ANDROID}else{if(rdx.utils.is_iOS()){rdx.DEVICE=rdx.IOS}else{if(rdx.utils.is_blackberry()){rdx.DEVICE=rdx.BLACKBERRY}else{if(rdx.utils.is_windows_mobile()){rdx.DEVICE=rdx.WINDOWS_MOBILE}else{rdx.DEVICE="Not a handheld"}}}}}};rdx.page.add_event_handler(rdx.events.APP_LOADED,new rdx.callback(rdx.client_information,rdx.client_information._initialise_client_info));rdx.tooltip=function(c,d){this._parent=c;this._tooltip=null;this._is_tooltip_active=false;this._help_dialog_cell_content=null;this._tooltip_dialog_cell=null;this._DEFAULT_PROPERTIES={message:"",append_element:null,remove_handler_callback:null,remove_tooltip_mouse_leave:true,tooltip_more_img_url:null,hide_more:false,class_names:null};this._properties=$.extend(true,{},this._DEFAULT_PROPERTIES,d)};rdx.tooltip.prototype.render=function(z){if(this._is_tooltip_active){return this._tooltip}var p=null;var y=null;var w=null;var A=null;var B=null;var v=null;var s=null;var t=null;var x=$.extend(true,this._properties,z);this._properties=x;this._help_dialog_cell_content=this._properties.message;this._element=this._properties.append_element;this._is_tooltip_active=true;y=$("<div>").addClass("rdx_tooltip_dialog_cell");this._tooltip_dialog_cell=y;this._tooltip=p;w=$("<div>").addClass("tooltip_dialog_content").addClass("rdx_form_style");if(rdx.utils.is_defined(this._properties.class_names)){w.addClass(this._properties.class_names)}A=$("<p>").addClass("tooltip_dialog_learn_more_cell");var u=$("<span>").addClass("dialog_learn_more_content").append(rdx.i18n.get_string("rdx.more"));A.append(u);B=null;if(rdx.utils.is_defined(this._help_dialog_cell_content)&&this._help_dialog_cell_content.length>0){if((this._help_dialog_cell_content.length>rdx.MAX_TOOLTIP_CONSTANT_LENGTH||rdx.utils.is_defined(this._properties.tooltip_more_img_url))&&(this._properties.hide_more==false)){if(this._help_dialog_cell_content[rdx.MAX_TOOLTIP_CONSTANT_LENGTH]!=" "){s=this._help_dialog_cell_content.substring(rdx.MAX_TOOLTIP_CONSTANT_LENGTH,this._help_dialog_cell_content.length);v=s.indexOf(" ");w.append(this._help_dialog_cell_content.substring(0,(v+rdx.MAX_TOOLTIP_CONSTANT_LENGTH)))}else{w.append(this._help_dialog_cell_content.substring(0,rdx.MAX_TOOLTIP_CONSTANT_LENGTH))}w.append("...");y.append(w,A);this._register_events_for_slider(A)}else{w.append(this._help_dialog_cell_content);y.append(w)}}else{if(rdx.utils.is_defined(this._element)){y.append(this._element)}}var q=new rdx.bubble_component(this._parent,{content_dom:y,custom_class:"rdx_tooltip_z_index"});this._tooltip=q.render();this._parent.addClass("rdx_tooltip_active");this._register_parent_events();if(this._properties.remove_tooltip_mouse_leave){this._register_events()}return this._tooltip};rdx.tooltip.prototype.remove_tooltip=function(c){if(!this._is_tooltip_active){return}this._tooltip.remove();this._parent.removeClass("rdx_tooltip_active");this._is_tooltip_active=false;if(rdx.utils.is_defined(this._properties.remove_handler_callback)){var d=this._properties.remove_handler_callback;d(this._parent)}};rdx.tooltip.prototype._register_events=function(){this._tooltip.bind(rdx.events.MOUSE_LEAVE,{that:this},function(b){if(!(rdx.utils.is_hover(b.data.that._parent,b))){b.data.that.remove_tooltip(b);b.stopPropagation()}})};rdx.tooltip.prototype._register_parent_events=function(){this._parent.bind(rdx.events.REMOVE,{that:this},function(b){b.data.that.remove_tooltip(b);b.stopPropagation()})};rdx.tooltip.prototype._show_slider=function(f){var d={show_bread_crumb:false,title:"Help"};if(rdx.utils.is_defined(this._properties.tooltip_more_img_url)){d.slider_width="780px"}else{d.slider_width="400px"}var e=rdx.page.show_slider(d,rdx.HELP_SLIDER);f.data.that._add_slider_content(e)};rdx.tooltip.prototype._add_slider_content=function(e){var f=$("<div>").addClass("help_slider_content").addClass("rdx_form_style");e.append(f);f.append(this._help_dialog_cell_content);if(rdx.utils.is_defined(this._properties.tooltip_more_img_url)){var d=$("<div>").addClass("rdx_tooltip_more_img_container").append($("<img>").attr("src",this._properties.tooltip_more_img_url).attr("alt","Help image"));f.append(d)}};rdx.tooltip.prototype._register_events_for_slider=function(e){var f=this;var d=null;e.bind(rdx.events.CLICK,{that:f},function(a){f.remove_tooltip();f._show_slider(a);a.stopPropagation()})};rdx.dependency_object=function(b){this._DEFAULT_PROPERTIES={property:null,event:null,field:null,view:null,trigger_values:null,trigger_expression:null,action:null,component:null,action_fn:null,resource_context:null,dependency_determinant:null,value:null,reverse_action:false,data_context:null,default_data_context:null,field_array:new Array(),component_array:new Array(),single_call_data_refresh:false,view_context:null,row:null,cell:null,separator_row:null,extra_form_field:null,is_parent_dependent:null,pass_context:null,view_to_open:null,event_param:null,go_to:new Array()};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b)};rdx.dependency_object.prototype.get_property=function(){return this._properties.property};rdx.dependency_object.prototype.set_property=function(b){this._properties.property=b};rdx.dependency_object.prototype.get_field=function(){return this._properties.field};rdx.dependency_object.prototype.set_field=function(b){this._properties.field=b};rdx.dependency_object.prototype.get_event_param=function(){return this._properties.event_param};rdx.dependency_object.prototype.set_event_param=function(b){this._properties.event_param=b};rdx.dependency_object.prototype.get_extra_form_field=function(){return this._properties.extra_form_field};rdx.dependency_object.prototype.set_extra_form_field=function(b){this._properties.extra_form_field=b};rdx.dependency_object.prototype.get_view=function(){return this._properties.view};rdx.dependency_object.prototype.set_view=function(b){this._properties.view=b};rdx.dependency_object.prototype.get_trigger_values=function(){return this._properties.trigger_values};rdx.dependency_object.prototype.set_trigger_values=function(b){this._properties.trigger_values=b};rdx.dependency_object.prototype.get_trigger_expression=function(){return this._properties.trigger_expression};rdx.dependency_object.prototype.set_trigger_expression=function(b){this._properties.trigger_expression=b};rdx.dependency_object.prototype.get_action=function(){return this._properties.action};rdx.dependency_object.prototype.set_action=function(b){this._properties.action=b};rdx.dependency_object.prototype.get_component=function(){return this._properties.component};rdx.dependency_object.prototype.set_component=function(b){this._properties.component=b};rdx.dependency_object.prototype.get_action_fn=function(){return this._properties.action_fn};rdx.dependency_object.prototype.set_action_fn=function(b){this._properties.action_fn=b};rdx.dependency_object.prototype.get_resource=function(){return this._properties.resource};rdx.dependency_object.prototype.set_resource=function(b){this._properties.resource=b};rdx.dependency_object.prototype.get_dependency_determinant=function(){return this._properties.dependency_determinant};rdx.dependency_object.prototype.set_dependency_determinant=function(b){this._properties.dependency_determinant=b};rdx.dependency_object.prototype.get_value=function(){return this._properties.value};rdx.dependency_object.prototype.set_value=function(b){this._properties.value=b};rdx.dependency_object.prototype.get_reverse_action=function(){return this._properties.reverse_action};rdx.dependency_object.prototype.set_reverse_action=function(b){this._properties.reverse_action=b};rdx.dependency_object.prototype.get_data_context=function(){return this._properties.data_context};rdx.dependency_object.prototype.set_data_context=function(b){this._properties.data_context=b};rdx.dependency_object.prototype.get_default_data_context=function(){return this._properties.default_data_context};rdx.dependency_object.prototype.set_default_data_context=function(b){this._properties.default_data_context=b};rdx.dependency_object.prototype.get_resource_context=function(){return this._properties.resource_context};rdx.dependency_object.prototype.set_resource_context=function(b){this._properties.resource_context=b};rdx.dependency_object.prototype.get_view_context=function(){return this._properties.view_context};rdx.dependency_object.prototype.set_view_context=function(b){this._properties.view_context=b};rdx.dependency_object.prototype.is_parent_dependent=function(){return this._properties.is_parent_dependent};rdx.dependency_object.prototype.set_is_parent_dependent=function(b){this._properties.is_parent_dependent=b};rdx.dependency_object.prototype.get_pass_context=function(){return this._properties.pass_context};rdx.dependency_object.prototype.set_pass_context=function(b){this._properties.pass_context=b};rdx.dependency_object.prototype.get_view_to_open=function(){return this._properties.view_to_open};rdx.dependency_object.prototype.set_view_to_open=function(b){this._properties.view_to_open=b};rdx.dependency_object.prototype.get_row=function(){return this._properties.row};rdx.dependency_object.prototype.set_row=function(b){this._properties.row=b};rdx.dependency_object.prototype.get_separator_row=function(){return this._properties.separator_row};rdx.dependency_object.prototype.set_separator_row=function(b){this._properties.separator_row=b};rdx.dependency_object.prototype.get_cell=function(){return this._properties.cell};rdx.dependency_object.prototype.set_cell=function(b){this._properties.cell=b};rdx.dependency_object.prototype.get_event=function(){return this._properties.event};rdx.dependency_object.prototype.set_event=function(b){this._properties.event=b};rdx.dependency_object.prototype.get_go_to=function(){return this._properties.go_to};rdx.dependency_object.prototype.set_go_to=function(b){this._properties.go_to=b};rdx.dependency_object.prototype.get_single_call_data_refresh=function(){return this._properties.single_call_data_refresh};rdx.dependency_object.prototype.get_field_array=function(){return this._properties.field_array};rdx.dependency_object.prototype.set_field_array=function(c,d){this._properties.field_array[d]=c};rdx.dependency_object.prototype.get_component_array=function(){return this._properties.component_array};rdx.dependency_object.prototype.set_component_array=function(b){return this._properties.component_array=b};rdx.callback_params=function(b){this._DEFAULT_PROPERTIES={return_callback:null,response:null,resource_name:null,app_context_data:null,resource_data:null,data:null,configured_data:null};this._properties=$.extend(true,this._DEFAULT_PROPERTIES,b)};rdx.callback_params.prototype.get_response=function(){return this._properties.response};rdx.callback_params.prototype.set_response=function(b){this._properties.response=b};rdx.callback_params.prototype.get_resource_name=function(){return this._properties.resource_name};rdx.callback_params.prototype.set_resource_name=function(b){this._properties.resource_name=b};rdx.callback_params.prototype.get_app_context_data=function(){return this._properties.app_context_data};rdx.callback_params.prototype.set_app_context_data=function(b){this._properties.app_context_data=b};rdx.callback_params.prototype.get_return_callback=function(){this._properties.return_callback};rdx.callback_params.prototype.set_return_callback=function(b){this._properties.return_callback=b};rdx.callback_params.prototype.get_resource_data=function(){return this._properties.resource_data};rdx.callback_params.prototype.set_resource_data=function(b){this._properties.resource_data=b};rdx.callback_params.prototype.get_data=function(){return this._properties.data};rdx.callback_params.prototype.get_configured_data=function(){return this._properties.configured_data};rdx.callback_params.prototype.resume=function(e,h){var g=(rdx.utils.is_defined(e))?e:this.get_response();var f=g;if(rdx.utils.is_defined(this._properties.resource_name)&&rdx.utils.is_not_defined(e[this._properties.resource_name])){f[this._properties.resource_name]=g;if(rdx.utils.is_defined(h)){f.value=h}}this._properties.return_callback.call_back([f])};rdx.status_bar=new function(){this._activity=null;this._status=null;this._activity_bar_div;this._timer=null;this.STATUS_TIMER=6000;this.render=function(){if(this._status!=null&&this._activity!=null){return null}var b=$("<div>").addClass("activity_status_bar");b.append(this);this._activity_bar_div=$("<div>").addClass("activity_bar").addClass("activity_status_bar_position");this._activity=$("<span>");this._activity_bar_div.append(this._activity);b.append(this._activity_bar_div);this._status_bar_div=$("<div>").addClass("status_bar").addClass("activity_status_bar_position");this._status=$("<span>");this._status_bar_div.append(this._status);b.append(this._status_bar_div);$(document.body).append(b);this._activity_bar_div.css("display","none");this._status_bar_div.css("display","none");return this._activity_bar_div};this.update_status=function(n,t){if(rdx.STAND_ALONE){return}if(rdx.utils.is_defined(this._timer)){clearTimeout(this._timer)}if(rdx.utils.is_not_empty(n)){n=rdx.utils.html_encode(n)}else{return}var s=150;var x=100;t=t||rdx.INFO;if(t==rdx.ERROR){this._status.html('<span class="ns_alert_text">'+rdx.i18n.get_string(n)+"</span>")}else{msg=rdx.i18n.get_string(n);if(msg.length>s){if(rdx.utils.is_not_empty(rdx.STATUS_BAR_ENTITY_NAME_IDENTIFIER)&&rdx.STATUS_BAR_ENTITY_NAME_IDENTIFIER.length==2){var v=rdx.STATUS_BAR_ENTITY_NAME_IDENTIFIER.substr(0,1);var u=rdx.STATUS_BAR_ENTITY_NAME_IDENTIFIER.substr(1,1);if(msg.indexOf(v)!=-1&&msg.indexOf(u)!=-1){var p=msg.substring(0,msg.indexOf(v));var o=msg.substring(msg.lastIndexOf(u)+1);var q=msg.substring(msg.indexOf(v)+1,msg.lastIndexOf(u));if(q.length>x){q=q.substring(0,x)+"..."}msg=p+"["+q+"]"+o}}else{msg=msg.substring(0,s)+"..."}}this._status.html(msg)}this._status_bar_div.css("display","inline-block");var w=this;this._timer=setTimeout(function(){w._status.html("");w._status_bar_div.css("display","none")},this.STATUS_TIMER)};this.clear_status=function(){if(rdx.STAND_ALONE){return}this._status.html("");this._status_bar_div.css("display","none")};this.display_activity=function(b){if(rdx.STAND_ALONE){return}if(rdx.utils.is_not_empty(b)){b=rdx.utils.html_encode(b)}else{return}if(rdx.utils.is_defined(this._activity)){this._activity.html(rdx.i18n.get_string(b))}if(rdx.utils.is_defined(this._activity_bar_div)){this._activity_bar_div.css("display","inline-block")}};this.clear_activity=function(){if(rdx.STAND_ALONE){return}if(rdx.utils.is_defined(this._activity)){this._activity.html("")}if(rdx.utils.is_defined(this._activity_bar_div)){this._activity_bar_div.css("display","none")}}};jquery_currentMenu=new function(){this.cmenu=null};(function($){$.contextMenu={shadow:true,shadowOffset:0,shadowOffsetX:5,shadowOffsetY:5,shadowWidthAdjust:-3,shadowHeightAdjust:-3,shadowOpacity:0.2,shadowClass:"context-menu-shadow",shadowColor:"black",offsetX:0,offsetY:0,appendTo:"body",direction:"down",constrainToScreen:true,isMainNode:false,showTransition:"show",hideTransition:"hide",showSpeed:100,hideSpeed:null,showCallback:null,hideCallback:null,className:"context-menu",itemClassName:"context-menu-item",itemHoverClassName:"context-menu-item-hover",disabledItemClassName:"context-menu-item-disabled",disabledItemHoverClassName:"context-menu-item-disabled-hover",separatorClassName:"context-menu-separator",innerDivClassName:"context-menu-item-inner",menuItemHoverArrowClassName:"context-menu-item-hover-child-menu",themePrefix:"context-menu-theme-",theme:"vista",separator:"context-menu-separator",target:null,menu:null,parentMenu:null,childMenu:null,shadowObj:null,bgiframe:null,shown:false,isExpanded:false,useIframe:
/*@cc_on @*/
/*@if (@_win32) true, @else @*/
false,
/*@end @*/
setEnableDisable:null,activeDiv:null,activeDivImg:null,subMenuImageUrl:"navigate_open.png",create:function(menu,opts){var cmenu=$.extend({},this,opts);if(typeof menu=="string"){cmenu.menu=$(menu)}else{if(typeof menu=="function"){cmenu.menuFunction=menu}else{cmenu.menu=cmenu.createMenu(menu,cmenu)}}if(cmenu.menu){cmenu.menu.css({display:"none"});$(cmenu.appendTo).append(cmenu.menu)}if(cmenu.shadow){cmenu.createShadow(cmenu);if(cmenu.shadowOffset){cmenu.shadowOffsetX=cmenu.shadowOffsetY=cmenu.shadowOffset}}return cmenu},createIframe:function(){return $('<iframe frameborder="0" tabindex="-1" src="javascript:false" style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=0);"/>')},createMenu:function(menu,cmenu,isRootNode){if(typeof(isRootNode)=="undefined"){isRootNode=true}if(!isRootNode&&cmenu.setEnableDisable){cmenu.setEnableDisable.apply(cmenu,[menu])}if(typeof(isRootNode)=="undefined"){isRootNode=true}var className=cmenu.className;cmenu.isMainNode=true;$.each(cmenu.theme.split(","),function(i,n){className+=" "+cmenu.themePrefix+n});var $t=$("<div> </div>").click(function(){cmenu.hideAll(cmenu,true);cmenu.hide();return false});var $div=$('<div class="'+className+'"></div>');for(var i=0;i<menu.length;i++){var m=menu[i];if(m==$.contextMenu.separator){$div.append(cmenu.createSeparator())}else{if((typeof(menu[i].hide)=="undefined"||menu[i].hide==false)&&!(menu[i].action.get_properties().separator==true)){$div.append(cmenu.createMenuItem(m.label,menu[i],isRootNode))}}}$t.bind("contextmenu",function(e){rdx.utils.prevent_default(e)});$t.bind("click",function(e){rdx.utils.prevent_default(e)});$t.append($div);if(!isRootNode){$t.hover(function(e){},function(){cmenu.hoverOutMenu.call(this,$t,cmenu)})}return $t},createMenuItem:function(label,m,isFirstNode){var cmenu=this;var o=$.extend({click_handler_callback:function(){},className:"",hoverClassName:cmenu.itemHoverClassName,image_url:"",hide:false,disabled:false,title:"",hoverItem:cmenu.hoverItem,hoverItemOut:cmenu.hoverItemOut,isFirstNode:false},m);o.isFirstNode=isFirstNode;var $img=$(document.createElement("img"));$img.attr("src",cmenu.subMenuImageUrl);$img.attr("align","right");$img.hide();var iconStyle=(o.image_url)?"background-image:url("+o.image_url+");":"";var $div=$('<div class="'+cmenu.itemClassName+" "+o.className+((o.disabled)?" "+cmenu.disabledItemClassName:"")+'" title="'+o.title+'"></div>').click(function(e){if(cmenu.isItemDisabled(this)||m.menu){return false}else{o.click_handler_callback.call_back([cmenu.target,this,cmenu,e]);cmenu.hide();cmenu.hideAll(cmenu,true)}}).hover(function(e){o.hoverItem.call(this,o,m,e,cmenu,$img,$div)},function(){});var $idiv=$(document.createElement("div"));$idiv.append(label);$img.css("padding-left","15px");$idiv.append($img);$idiv.addClass(cmenu.innerDivClassName);$idiv.attr("style",iconStyle);$div.bind("contextmenu",function(e){rdx.utils.prevent_default(e);e.stopPropagation()});$div.bind("click",function(e){rdx.utils.prevent_default(e);e.stopPropagation()});$div.append($idiv);return $div},createSeparator:function(){return $('<div class="'+this.separatorClassName+'"></div>')},isItemDisabled:function(item){return $(item).is("."+this.disabledItemClassName)},hoverOutMenu:function(table,cmenu){if(cmenu.childMenu){return}else{if(cmenu.parentMenu.childMenu){cmenu.parentMenu.childMenu=null;table.remove();if(cmenu.shadow){cmenu.shadowObj.remove()}}else{table.remove();if(cmenu.shadow){cmenu.shadowObj.remove()}}}},hoverItem:function(o,obj,e,cmenu,img,div){if(cmenu.activeDiv){cmenu.activeDiv.removeClass(o.hoverClassName);cmenu.activeDivImg.hide()}if(cmenu.activeDiv&&cmenu.activeDiv.hasClass(o.hoverClassName)){cmenu.activeDiv.removeClass(o.hoverClassName)}if(cmenu.childMenu){var menus=new Array();var tempCMenu=cmenu;cmenu.hideAll(tempCMenu,false)}if(!cmenu.isItemDisabled(this)){$(this).addClass(o.hoverClassName,obj)}cmenu.activeDiv=$(this);cmenu.activeDivImg=img;if(obj.menu&&!cmenu.isItemDisabled(this)){img.show();var subMenu=$.extend({},cmenu);subMenu.childMenu=null;subMenu.activeDiv=null;cmenu.childMenu=subMenu;subMenu.parentMenu=cmenu;var subMenuTable=subMenu.createMenu(obj.menu,subMenu,false);subMenu.isMainNode=false;subMenu.menu=subMenuTable;if(subMenu){subMenuTable.css({display:"none"});$(subMenu.appendTo).append(subMenuTable)}subMenu.show(this,e,div)}},hideAll:function(cmenu,hideParent){var menus=new Array();if(hideParent){cmenu.getAllParent(cmenu,menus)}cmenu.getAllChildren(cmenu,menus);for(var index=0;index<menus.length;index++){menus[index].menu.remove();if(menus[index].menu.shadow){menus[index].shadowObj.remove()}menus[index].childMenu=null}},getAllParent:function(cmenu,menus){while(true){if(cmenu.parentMenu){if(!cmenu.isMainNode){menus.push(cmenu.parentMenu);cmenu=cmenu.parentMenu}}else{if(!cmenu.isMainNode){menus.push(cmenu)}break}}return menus},getAllChildren:function(cmenu,menus){while(true){if(cmenu.childMenu){menus.push(cmenu.childMenu);cmenu=cmenu.childMenu}else{menus.push(cmenu);break}}return menus},createShadow:function(cmenu){cmenu.shadowObj=$('<div class="'+cmenu.shadowClass+'"></div>').css({display:"none",position:"absolute",zIndex:9998,opacity:cmenu.shadowOpacity,backgroundColor:cmenu.shadowColor});$(cmenu.appendTo).append(cmenu.shadowObj)},showShadow:function(x,y,e){var cmenu=this;if(cmenu.shadow){cmenu.shadowObj.css({width:(cmenu.menu.width()+cmenu.shadowWidthAdjust)+"px",height:(cmenu.menu.height()+cmenu.shadowHeightAdjust)+"px",top:(y+cmenu.shadowOffsetY)+"px",left:(x+cmenu.shadowOffsetX)+"px"}).addClass(cmenu.shadowClass)[cmenu.showTransition](cmenu.showSpeed)}},beforeShow:function(){return true},show:function(t,e,div){var cmenu=this,x=e.pageX,y=e.pageY;cmenu.target=t;if(cmenu.beforeShow()!==false){if(cmenu.menuFunction){if(cmenu.menu){$(cmenu.menu).remove()}cmenu.menu=cmenu.createMenu(cmenu.menuFunction(cmenu,t),cmenu);cmenu.menu.css({display:"none"});$(cmenu.appendTo).append(cmenu.menu)}var $c=cmenu.menu;x+=cmenu.offsetX;y+=cmenu.offsetY;var pos=cmenu.getPosition(x,y,cmenu,e);if(cmenu.parentMenu){pos.y=div.offset().top}cmenu.showShadow(pos.x,pos.y,e);if(cmenu.useIframe){$c.find("iframe").css({width:$c.width()+cmenu.shadowOffsetX+cmenu.shadowWidthAdjust,height:$c.height()+cmenu.shadowOffsetY+cmenu.shadowHeightAdjust})}$c.css({top:pos.y+"px",left:pos.x+"px",position:"absolute",zIndex:9999})[cmenu.showTransition](cmenu.showSpeed,((cmenu.showCallback)?function(){cmenu.showCallback.call(cmenu)}:null));cmenu.shown=true;$(document).one("click",null,function(){cmenu.hide();cmenu.hideAll(cmenu,true)})}},getPosition:function(clickX,clickY,cmenu,e){var x=clickX+cmenu.offsetX;var y=clickY+cmenu.offsetY;e.pageX;cmenu.offsetRight;cmenu.offsetTop;var h=$(cmenu.menu).height();var w=$(cmenu.menu).width();var dir=cmenu.direction;if(cmenu.constrainToScreen){var $w=$(window);var wh=$w.height();var ww=$w.width();if(dir=="down"&&(y+h-$w.scrollTop()>wh)){dir="up"}var maxRight=x+w-$w.scrollLeft();if(maxRight>ww){x-=(maxRight-ww)}}if(dir=="up"&&(y-h)>=0){y-=h}if(cmenu.parentMenu){x=$(cmenu.parentMenu.menu).offset().left+$(cmenu.parentMenu.menu).width()-10;y=$(cmenu.parentMenu.menu).offset().top+$(cmenu.parentMenu.menu).height()}return{x:x,y:y}},hide:function(){var cmenu=this;if(cmenu.shown){if(cmenu.iframe){$(cmenu.iframe).hide()}if(cmenu.menu){cmenu.menu[cmenu.hideTransition](cmenu.hideSpeed,((cmenu.hideCallback)?function(){cmenu.hideCallback.call(cmenu)}:null))}if(cmenu.shadow){cmenu.shadowObj[cmenu.hideTransition](cmenu.hideSpeed)}if(rdx.utils.is_defined(cmenu.show_on_click)&&cmenu.show_on_click==true&&cmenu.inline_actions==true){cmenu.row_clicked.attr("inline_actions_clicked",false);cmenu.table_clicked.attr("inline_actions",false);cmenu.inline_actions=false}}cmenu.shown=false}};$.fn.contextMenu=function(menu,options){options.shadow=false;var show=rdx.utils.is_defined(options.menu_show)?options.menu_show:false;var show_on_click=rdx.utils.is_defined(options.show_on_click)?options.show_on_click:false;if(show_on_click==true){$(this).delegate(".inline_actions","click",function(e){rdx.utils.prevent_default(e);e.stopPropagation();if(jquery_currentMenu.cmenu){jquery_currentMenu.cmenu.hide();jquery_currentMenu.cmenu.hideAll(jquery_currentMenu.cmenu,true)}options.row_clicked=($($(this).parent().parent()));options.row_index=$(this).parent().parent().index();options.table_clicked=$($(this).parent().parent().parent().parent());options.curr_data=options.parent_ref._get_data(options.parent_ref._table.children("tbody").children("tr.table_row"))[options.row_index];if(options.setEnableDisable){options.setEnableDisable.apply(options,[menu])}var cmenu=$.contextMenu.create(menu,options);jquery_currentMenu.cmenu=cmenu;cmenu.show(this,e);cmenu.context_options={curr_data:options.curr_data,title:options.parent_title};cmenu.row_clicked.attr("inline_actions_clicked",true);cmenu.table_clicked.attr("inline_actions",true);cmenu.inline_actions=true;return false})}if(show==false){if(rdx.utils.is_defined(options.parent_ref)){$(this).delegate("tr","contextmenu",function(e){rdx.utils.prevent_default(e);e.stopPropagation();if(jquery_currentMenu.cmenu){jquery_currentMenu.cmenu.hide();jquery_currentMenu.cmenu.hideAll(jquery_currentMenu.cmenu,true)}options.row_clicked=$(this);options.row_index=$(this).index();options.table_clicked=$($(this).parent().parent());options.curr_data=options.parent_ref._get_data(options.parent_ref._table.children("tbody").children("tr.table_row"))[options.row_index];if(options.setEnableDisable){options.setEnableDisable.apply(options,[menu])}var cmenu=$.contextMenu.create(menu,options);jquery_currentMenu.cmenu=cmenu;cmenu.context_options={curr_data:options.curr_data,title:options.parent_title};cmenu.row_clicked.attr("inline_actions_clicked",true);cmenu.table_clicked.attr("inline_actions",true);cmenu.inline_actions=true;cmenu.show(this,e);return false})}else{$(this).bind("contextmenu",function(e){rdx.utils.prevent_default(e);e.stopPropagation();if(jquery_currentMenu.cmenu){jquery_currentMenu.cmenu.hide();jquery_currentMenu.cmenu.hideAll(jquery_currentMenu.cmenu,true)}if(options.setEnableDisable){options.setEnableDisable.apply(options,[menu])}var cmenu=$.contextMenu.create(menu,options);jquery_currentMenu.cmenu=cmenu;cmenu.show(this,e);return false})}}else{if(rdx.utils.is_defined(options.menu_event)){if(jquery_currentMenu.cmenu){jquery_currentMenu.cmenu.hide();jquery_currentMenu.cmenu.hideAll(jquery_currentMenu.cmenu,true)}if(options.setEnableDisable){options.setEnableDisable.apply(options,[menu])}var cmenu=$.contextMenu.create(menu,options);jquery_currentMenu.cmenu=cmenu;cmenu.show(this,options.menu_event)}}};$.fn.clearMenu=function(){if(jquery_currentMenu.cmenu){jquery_currentMenu.cmenu.hide();jquery_currentMenu.cmenu.hideAll(jquery_currentMenu.cmenu,true)}}})(jQuery);rdx.nitro_handler=function(h,f,m,l,g){this._success_callback=h;this._error_callback=f;this._req=m;this._method=l;this._url=g};rdx.nitro_handler.prototype.handle_response=function(l,o){switch(l){case rdx.ajax_handler_constants.HTTP_RESPONSE_SUCCESS_STATUS:case rdx.ajax_handler_constants.HTTP_REQUEST_CREATED_STATUS:try{this._success_callback.call_back([this._parse_response()])}catch(m){if($.inArray(parseInt(m[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD]),rdx.ajax_handler_constants.RESPONSE_SESSION_EXPIRY_ERROR_CODES)!=-1){var n=new rdx.callback(rdx.utils,rdx.utils.do_logout,[true]);var g=m.message;if(rdx.utils.is_not_empty(g)){g=rdx.utils.html_encode(g)}rdx.message_box.error(g,n);rdx.status_bar.update_status(m.message,rdx.ERROR);return}if($.inArray(m[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD],rdx.ajax_handler_constants.IGNORE_ERROR_CODES)!=-1){return}if(this._error_callback){if($.inArray(m[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD],rdx.ajax_handler_constants.SESSION_TIMEOUT_ERROR_CODE)!=-1){this._error_callback.call_back([m])}else{this._error_callback.call_back([m.message])}}else{var g=m.message;if(rdx.utils.is_not_empty(g)){g=rdx.utils.html_encode(g)}rdx.message_box.error(g,null,null,null);rdx.status_bar.update_status(m.message,rdx.ERROR)}}break;case 0:this.handle_zero_req_status();break;case 400:case 401:if(o==true){var g=this._req.statusText;try{var h=this._parse_response();if(rdx.utils.is_defined(h.message)){g=h.message}}catch(m){if(rdx.utils.is_defined(m)&&rdx.utils.is_defined(m.message)){g=m.message}}g=rdx.utils.html_encode(g);if(this._error_callback){this._error_callback.call_back([g])}else{rdx.message_box.error(g)}}else{this._handle_default_response(l)}break;case 12002:case 12007:case 12029:case 12030:case 12031:case 12152:case 12159:var g=rdx.i18n.get_string("rdx.ajax_request_error",{url:this._url,error:rdx.i18n.get_string("rdx.ajax_http_connection_failed")});if(rdx.utils.is_not_empty(g)){g=rdx.utils.html_encode(g)}rdx.message_box.error(g);rdx.status_bar.update_status(g,rdx.ERROR);break;default:this._handle_default_response(l)}};rdx.nitro_handler.prototype._handle_default_response=function(c){var d=rdx.i18n.get_string("rdx.ajax_response_error_status",{url:this._url,status_text:this._req.statusText,status:this._req.status});if(rdx.utils.is_not_empty(d)){d=rdx.utils.html_encode(d)}rdx.message_box.error(d);rdx.status_bar.update_status(d,rdx.ERROR)};rdx.nitro_handler.prototype._parse_response=function(h){var f=this._req.responseText;if(f==null||f.length==0){throw rdx.i18n.get_string("rdx.ajax_invalid_empty_response")}var g={};try{g=JSON.parse(f)}catch(m){if(rdx.utils.is_string(f)&&rdx.utils.is_not_empty(f)){throw {message:rdx.utils.html_encode(f)}}}if(g[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD]==0){return g}if(g[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_SEVERITY_FIELD]==="WARNING"){var l=g.message;if(rdx.utils.is_defined(rdx.ajax_handler_constants.RESPONSE_CUSTOM_WARNING_ERROR_CODES)&&$.inArray(g[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD],rdx.ajax_handler_constants.RESPONSE_CUSTOM_WARNING_ERROR_CODES)!==-1){if(rdx.utils.is_defined(rdx.ajax_handler_constants.RESPONSE_CUSTOM_WARNING_ERROR_CODES_CALLBACK)){rdx.ajax_handler_constants.RESPONSE_CUSTOM_WARNING_ERROR_CODES_CALLBACK.call_back([{result:g}])}return g}if(rdx.utils.is_not_empty(l)){rdx.message_box.warning(rdx.utils.html_encode(l),null,null,null);rdx.status_bar.update_status(l,rdx.WARNING)}return g}throw g};rdx.nitro_handler.prototype.handle_zero_req_status=function(){};rdx.nitro_handler.prototype.is_nitro_response=function(d){var e={};try{if(d!=null&&d.length>0){e=JSON.parse(d)}}catch(f){return false}if(e[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD]!=null){return true}};rdx.nitro_handler.prototype.is_nitro_url=function(b){if(b&&b.indexOf("/nitro/")>-1){return true}return false};rdx.nitro_handler.prototype.setRequestHeader_for_post=function(){if(rdx.utils.is_defined(rdx.CUSTOM_HTTP_HEADER_CONTENT_TYPE_FOR_POST)){this._req.setRequestHeader(rdx.ajax_handler_constants.HTTP_HEADER_CONTENT_TYPE,rdx.CUSTOM_HTTP_HEADER_CONTENT_TYPE_FOR_POST)}else{this._req.setRequestHeader(rdx.ajax_handler_constants.HTTP_HEADER_CONTENT_TYPE,"application/x-www-form-urlencoded")}};rdx.nitro_handler.prototype.to_json=function(e,g,f,h){f=f+JSON.stringify(g);if(rdx.utils.is_defined(rdx.CUSTOM_HTTP_HEADER_CONTENT_TYPE_FOR_POST)){h=false}f=(h?("object="+encodeURIComponent(f)):f);return f};rdx.nitro_handler.prototype.is_nitro_resource=function(b){if(this.is_nitro_url(b.get_url)||this.is_nitro_url(b.add_url)){return true}};rdx.nitro_handler.prototype.get_set_url=function(f,d,e){return d};rdx.pure_rest_api_handler=function(h,f,m,l,g){this._success_callback=h;this._error_callback=f;this._req=m;this._method=l;this._url=g;this.nitro_handler=this._get_nitro_handler()};rdx.pure_rest_api_handler.prototype._get_nitro_handler=function(){var b=new rdx.nitro_handler(this._success_callback,this._error_callback,this._req,this._method,this._url);return b};rdx.pure_rest_api_handler.prototype.handle_response=function(h){if(this.nitro_handler.is_nitro_response(this._req.responseText)){this.nitro_handler.handle_response(h,true);return}try{if(h>=200&&h<400){switch(this._method){case rdx.ajax_handler_constants.DELETE:var g="";if(this._req.responseText!=""){g=this._parse_rest_response()}this._success_callback.call_back([g]);break;default:this._success_callback.call_back([this._parse_rest_response()])}}else{var f=this._parse_rest_error_response();if(h==403){var l=new rdx.callback(rdx.utils,rdx.utils.do_logout,[true]);rdx.message_box.error(f,l);rdx.status_bar.update_status(f,rdx.ERROR);return}else{if(rdx.utils.is_defined(this._error_callback)){this._error_callback.call_back([f])}else{if(rdx.utils.is_not_empty(f)){f=rdx.utils.html_encode(f)}rdx.message_box.error(f);rdx.status_bar.update_status(f,rdx.ERROR)}}}}catch(m){var f=m.message;if(rdx.utils.is_not_empty(f)){f=rdx.utils.html_encode(f)}rdx.message_box.error(f,null,null,null);rdx.status_bar.update_status(m.message,rdx.ERROR)}};rdx.pure_rest_api_handler.prototype._parse_rest_response=function(f){var d=this._req.responseText;if(d==null||d.length==0){throw rdx.i18n.get_string("rdx.ajax_invalid_empty_response")}var e=JSON.parse(d);return e};rdx.pure_rest_api_handler.prototype._parse_rest_error_response=function(){var h=this._req.responseText;if(h==null||h.length==0){throw rdx.i18n.get_string("rdx.ajax_invalid_empty_response")}var m="";try{var l=JSON.parse(h);for(var q in l){var n=l[q];if(rdx.utils.is_defined(n.message)&&n.message.length!=0){m=n.message;break}}if(rdx.utils.is_empty(m)&&rdx.utils.is_defined(l.message)){m=l.message}}catch(o){var p=this._req.responseText.match(/<body[^>]*>((.|[\n\r])*)<\/body>/im);if(p&&p.length>1){m=p[1]}else{m=h}}return m};rdx.pure_rest_api_handler.prototype.setRequestHeader_for_post=function(){if(this.nitro_handler.is_nitro_url(this._url)){this.nitro_handler.setRequestHeader_for_post();return}this._req.setRequestHeader(rdx.ajax_handler_constants.HTTP_HEADER_CONTENT_TYPE,"application/json")};rdx.pure_rest_api_handler.prototype.to_json=function(e,g,f,h){if(this.nitro_handler.is_nitro_resource(e)){return this.nitro_handler.to_json(e,g,f,h)}f=f+JSON.stringify(g[e.name]);f=('{"'+e.name+'":'+(f)+"}");return f};rdx.pure_rest_api_handler.prototype.get_set_url=function(f,d,e){if(this.nitro_handler.is_nitro_resource(f)){return this.nitro_handler.get_set_url(f,d,e)}if(rdx.utils.is_defined(e)&&rdx.utils.is_defined(e[f.primary_keys[0]])){d=d+"/"+e[f.primary_keys[0]]}d=rdx.url_utils.replace_placeholder_in_url(d);return d};rdx.ajax_handler_constants=new function(){this.GET="GET";this.POST="POST";this.PUT="PUT";this.DELETE="DELETE";this.HTTP_HEADER_ACCEPT="Accept";this.HTTP_HEADER_CONTENT_TYPE="Content-Type";this.HTTP_HEADER_IF_MODIFIED_SINCE="If-Modified-Since";this.HTTP_RESPONSE_READY_STATE=4;this.HTTP_RESPONSE_SUCCESS_STATUS=200;this.MAX_NUMBER_OF_ACTIVE_REQUESTS=5;this.DEFAULT_AUTO_REFRESH_DELAY=14000;this.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD="errorcode";this.SESSION_TIMEOUT_ERROR_CODE=[10019];this.RESPONSE_TYPE_JSON_SEVERITY_FIELD="severity";this.RESPONSE_SESSION_EXPIRY_ERROR_CODES=[444];this.RESPONSE_CUSTOM_WARNING_ERROR_CODES=[];this.RESPONSE_CUSTOM_WARNING_ERROR_CODES_CALLBACK=null;this.IGNORE_ERROR_CODES=[];this.MAX_TIME_FOR_SESSION_TIMEOUT=2*60*1000;this.REFRESH_IMAGE="refresh_image";this.CUSTOM_HEADERS=null;this.HTTP_REQUEST_CREATED_STATUS=201;this.NITRO_PARAMS=null;this.API=rdx.API_TYPE.NITRO};rdx.ajax_handler_queue=new function(){this._number_of_active_requests=0;this._queue=new Array();this._can_execute=function(){return this._number_of_active_requests<rdx.ajax_handler_constants.MAX_NUMBER_OF_ACTIVE_REQUESTS};this._execute=function(b){this._number_of_active_requests++;b.call_back()};this._has_more=function(){return this._queue.length>0};this.add=function(b){if(this._can_execute()){this._execute(b)}else{this._queue.push(b)}};this.remove=function(){this._number_of_active_requests--;if(this._has_more()){this._execute(this._queue.shift())}}};rdx.ajax_handler=function(f,g,h,e){this._url=f;this._success_callback=g;this._method=h?h:rdx.ajax_handler_constants.GET;this._params=e;this._mask_id=null;this._timer=null;this._error_callback=null;this._related_dom_object=$(document.body);this._activity=rdx.i18n.get_string("rdx.ajax_status_default");this._status=null;this._req=window.XMLHttpRequest?new window.XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP")};rdx.ajax_handler.prototype.set_content_type_header=function(b){this._add_content_type_header=b};rdx.ajax_handler.prototype.set_error_callback=function(b){this._error_callback=b};rdx.ajax_handler.prototype.set_mask_id=function(b){this._mask_id=b};rdx.ajax_handler.prototype.set_related_dom_object=function(b){if(rdx.utils.is_defined(b)){this._related_dom_object=b}};rdx.ajax_handler.prototype.set_activity=function(b){if(rdx.utils.is_defined(b)){this._activity=b}};rdx.ajax_handler.prototype.set_status=function(b){this._status=b};rdx.ajax_handler.prototype.dispatch=function(c){var d=this;if(rdx.utils.is_defined(c)){this._timer=setTimeout(function(){rdx.ajax_handler_queue.add(new rdx.callback(d,d._send));d.clear_timer()},c)}else{rdx.ajax_handler_queue.add(new rdx.callback(this,this._send))}if(rdx.utils.is_defined(rdx.get_debugger)&&rdx.utils.is_defined(rdx.get_debugger().ajax_handler_dispatch)){rdx.get_debugger().ajax_handler_dispatch({method:this._method,url:this._url})}};rdx.ajax_handler.prototype.clear_timer=function(){if(rdx.utils.is_not_defined(this._timer)){return}clearTimeout(this._timer);this._timer=null};rdx.ajax_handler.prototype._send=function(){this._before_send();try{var e=this;this._req.onreadystatechange=function(){if(e._req.readyState!=rdx.ajax_handler_constants.HTTP_RESPONSE_READY_STATE){return}e._after_send();e._response_arrived()};this._req.open(this._method,this._url,true);if(this._method==rdx.ajax_handler_constants.GET){this._req.setRequestHeader(rdx.ajax_handler_constants.HTTP_HEADER_CONTENT_TYPE,"application/json")}else{if(this._method==rdx.ajax_handler_constants.POST&&rdx.utils.is_not_defined(this._add_content_type_header)){this.get_rest_handler().setRequestHeader_for_post()}else{if(this._method==rdx.ajax_handler_constants.PUT){this._req.setRequestHeader(rdx.ajax_handler_constants.HTTP_HEADER_CONTENT_TYPE,"application/json");this._req.setRequestHeader(rdx.ajax_handler_constants.HTTP_HEADER_ACCEPT,"application/json")}else{if(this._method==rdx.ajax_handler_constants.DELETE){this._req.setRequestHeader(rdx.ajax_handler_constants.HTTP_HEADER_CONTENT_TYPE,"application/json")}}}}this._req.setRequestHeader(rdx.ajax_handler_constants.HTTP_HEADER_IF_MODIFIED_SINCE,"Thu, 01 Jan 1970 05:30:00 GMT");if(rdx.utils.is_defined(rdx.ajax_handler_constants.CUSTOM_HEADERS)){this._add_custom_headers()}if(this._method==rdx.ajax_handler_constants.POST||this._method==rdx.ajax_handler_constants.PUT){this._req.send(this._params)}else{this._req.send()}}catch(f){this._after_send();var d=rdx.i18n.get_string("rdx.ajax_request_error",{url:this._url,error:rdx.utils.get_detailed_error_message(f)});if(rdx.utils.is_not_empty(d)){d=rdx.utils.html_encode(d)}rdx.message_box.error(d);rdx.status_bar.update_status(d,rdx.ERROR)}};rdx.ajax_handler.prototype.get_rest_handler=function(){return rdx.utils.get_rest_handler(this._success_callback,this._error_callback,this._req,this._method,this._url)};rdx.ajax_handler.prototype._response_arrived=function(){try{rdx.mask.unmask_component($(document.body),"__upload_file");this._req.status}catch(h){var e=rdx.i18n.get_string("rdx.ajax_request_error",{url:this._url,error:rdx.utils.get_detailed_error_message(h)});if(rdx.utils.is_not_empty(e)){e=rdx.utils.html_encode(e)}rdx.message_box.error(e);rdx.status_bar.update_status(e,rdx.ERROR);return}var g=this._req.status;if($.inArray(g,rdx.APP_ERR_CODES)>-1){g=rdx.ajax_handler_constants.HTTP_RESPONSE_SUCCESS_STATUS}if(rdx.utils.is_not_empty(this._req.response)){var f=JSON.parse(this._req.response);if($.inArray(parseInt(f[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD]),rdx.ajax_handler_constants.RESPONSE_SESSION_EXPIRY_ERROR_CODES)!=-1){this._redirect_on_session_expire()}}this.get_rest_handler().handle_response(g)};rdx.ajax_handler.prototype._redirect_on_session_expire=function(){setTimeout(function(){rdx.utils.do_logout(true)},rdx.ajax_handler_constants.MAX_TIME_FOR_SESSION_TIMEOUT)};rdx.ajax_handler.prototype.abort=function(){this._req.abort()};rdx.ajax_handler.prototype._before_send=function(){this._set_related_dom_object_state(true);if(rdx.status_bar&&rdx.utils.is_not_empty(this._activity)){rdx.status_bar.display_activity(this._activity+"...")}};rdx.ajax_handler.prototype._after_send=function(){rdx.ajax_handler_queue.remove();this._set_related_dom_object_state(false);if(rdx.status_bar){rdx.status_bar.clear_activity();if(this._status!=null){rdx.status_bar.update_status(this._status)}}};rdx.ajax_handler.prototype._set_related_dom_object_state=function(b){if(this._related_dom_object.get(0)!=document.body){this._related_dom_object.find("img[name='"+rdx.ajax_handler_constants.REFRESH_IMAGE+"']").attr("src",b?rdx.images.IN_PROGRESS_IMG:rdx.images.SPACER_IMG)}if(b){if($(this._related_dom_object).hasClass("rdx_auto_cursor")){$(this._related_dom_object).removeClass("rdx_auto_cursor")}$(this._related_dom_object).addClass("rdx_wait_cursor")}else{if($(this._related_dom_object).hasClass("rdx_wait_cursor")){$(this._related_dom_object).removeClass("rdx_wait_cursor")}$(this._related_dom_object).addClass("rdx_auto_cursor")}};rdx.ajax_handler.prototype._add_custom_headers=function(){for(var b in rdx.ajax_handler_constants.CUSTOM_HEADERS){this._req.setRequestHeader(b,rdx.ajax_handler_constants.CUSTOM_HEADERS[b])}if(rdx.utils.is_defined(this._resource_context)){this.add_resource_context()}};rdx.ajax_handler.prototype.add_resource_context=function(){for(var b in this._resource_context){this._req.setRequestHeader(b,this._resource_context[b])}};rdx.ajax_handler.prototype.set_resource_context=function(b){this._resource_context=b};rdx.ajax_handler.prototype.attach_events_for_upload=function(){var b=this;this._req.upload.addEventListener(rdx.events.LOAD_START,function(a){try{b._file_upload_params.get_component().dialog("close");rdx.mask.unmask_all_components()}catch(d){}});this._req.upload.addEventListener(rdx.events.LOAD_END,function(a){b._progress_bar.remove_progress_percent_dialog();rdx.mask.mask_component($(document.body),"__upload_file");if(b._file_upload_params._properties.dialog_mode==false&&b._file_upload_params._properties.inline_upload==false&&rdx.utils.is_defined(b._parent_component)){rdx.mask.mask_component(b._parent_component,b._parent_mask_id)}});this._req.upload.addEventListener(rdx.events.PROGRESS,function(g){if(g.lengthComputable){var h=g.loaded/g.total;var a=new Date();var f=a.getTime();b._progress_bar.handle_percent_progress_bar_data({progress:(Math.floor(h*100))+"%",message:rdx.i18n.get_string("rdx.uploading_file",{file_name:b._file_upload_params._current_file_name}),uploaded_so_far:g.loaded,total_size:g.total,start_time:b.start_time,current_time:f})}});this._send()};rdx.pagination=function(b){this.DEFAULT_PAGE_NUMBER=1;this._parent=typeof(b)=="string"?$("#"+b):b;this._page_number=this.DEFAULT_PAGE_NUMBER;this._page_size=rdx.PAGINATION_DEFAULT_PAGE_SIZE;this._total_count=0;this._pagination_table=null;this._data_range_span=null;this._prev_img=null;this._next_img=null;this._page_select=null;this._parent.hide();this._start_count=0;this._end_count=0;this._pagination_page_size_from_cookie="rdx_pagination_size"};rdx.pagination.prototype.render=function(){this._total_count_div=$("<div>").addClass("pagination_count_div");this._pagination_table=$("<table>").attr("cellPadding",0).attr("cellSpacing",0).addClass("pagination_tbl");var f=$("<tr>");this._pagination_seperator=$("<td>").addClass("pagination_spacer_width");f.append(this._pagination_seperator);this._page_size_td=$("<td>").attr("align","center").addClass("ribbon");this._render_page_size();f.append(this._page_size_td);this._separator_td=$("<td>");this._separator_td.append($("<span>").addClass("pagination_separator"));f.append(this._separator_td);this._page_number_td=$("<td>").attr("align","center");this._data_range_span=$("<span>").html("&nbsp").addClass("pagination_img_num_border");this._page_number_td.append(this._data_range_span);this._prev_img=$("<img>").attr("src",rdx.images.BACK_ACTIVE_IMAGE).addClass("img_opacity").addClass("pagination_img_spacing");this._page_number_td.append($("<span>").addClass("pagination_img_border").append(this._prev_img));this._next_img=$("<img>").attr("src",rdx.images.NEXT_ACTIVE_IMAGE).addClass("img_opacity").addClass("pagination_img_spacing");this._page_number_td.append($("<span>").addClass("pagination_img_border").append(this._next_img));f.append(this._page_number_td);this.goto_td=$("<td>").attr("align","center").addClass("pagination_separator_goto");var d={mandatory:true,properties:{size:1,class_names:"pagination_goto_list",change_handler_callback:new rdx.callback(this,this._goto_page)}};var e=new rdx.form_field(d);this._page_select=new rdx.list(this.goto_td,e).render();this._pagination_table.append(f);this._parent.append(this._total_count_div);this._parent.append(this._pagination_table);return this};rdx.pagination.prototype._handle_selection=function(d,c){c.empty();c.text(this._per_page.get_data())};rdx.pagination.prototype._render_page_size=function(){this._page_size_td.html("");var m={};m[rdx.i18n.get_string("rdx.pagination.25_per_page")]=25;m[rdx.i18n.get_string("rdx.pagination.50_per_page")]=50;m[rdx.i18n.get_string("rdx.pagination.100_per_page")]=100;m[rdx.i18n.get_string("rdx.pagination.250_per_page")]=250;var o={mandatory:true,formatter:{map:m},properties:{size:1,class_names:"list pagination_list",change_handler_callback:new rdx.callback(this,this._change_page_size)}};this._per_page_td_form_field=new rdx.form_field(o);this._per_page=new rdx.list(this._page_size_td,this._per_page_td_form_field).render();var h=$("<div>").addClass("ribbon_label_div").addClass("ribbon_list_wrapper");var n=$("<span>").addClass("ribbon_dropdown_list");this._per_page.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._handle_selection,[n]));this._page_size_td.append(n);this._page_size_td.wrapInner(h);var l=rdx.utils.get_cookie(this._pagination_page_size_from_cookie);if(rdx.utils.is_not_empty(l)){this._per_page.set_data(l)}else{this._per_page.set_data(rdx.i18n.get_string("rdx.pagination.25_per_page"))}var g=$("<div>").addClass("ribbon_label_div ribbon_list_wrapper")};rdx.pagination.prototype.get_page_number=function(){return this._page_number};rdx.pagination.prototype.reset_page_number=function(){this._page_number=this.DEFAULT_PAGE_NUMBER};rdx.pagination.prototype.get_page_size=function(){return this._per_page_td_form_field.get_formatter().get_storage_value(this._per_page.get_data())};rdx.pagination.prototype._trigger_pagination_change=function(){this._pagination_table.trigger(rdx.events.PAGINATION_CHANGED,[this._page_number,this._page_size])};rdx.pagination.prototype._change_page_size=function(){var d=this._per_page.get_data();this._page_number=1;var c=d.replace(/[^\d.]/g,"");rdx.utils.set_cookie(this._pagination_page_size_from_cookie,d);if(this._page_size!=c){this._page_size=c;this._trigger_pagination_change()}};rdx.pagination.prototype._goto_page=function(){var b=this._page_select.get_selected_index()+1;this._page_number=parseInt(b);this._trigger_pagination_change()};rdx.pagination.prototype._navigate_first=function(){this._page_number=1;this._trigger_pagination_change()};rdx.pagination.prototype._navigate_previous=function(){this._page_number=this._page_number-1;if(this._page_number<=0){this._page_number=1}this._trigger_pagination_change()};rdx.pagination.prototype._navigate_next=function(){this._page_number=this._page_number+1;var b=Math.ceil(this._total_count/this._page_size);if(this._page_number>b){this._page_number=b}this._trigger_pagination_change()};rdx.pagination.prototype._navigate_last=function(){var b=Math.ceil(this._total_count/this._page_size);this._page_number=b;this._trigger_pagination_change()};rdx.pagination.prototype.update_total_count=function(m,h){if(!h){m=0}this._total_count=m;if(this._total_count<=rdx.PAGINATION_DEFAULT_PAGE_SIZE){this._parent.hide()}else{this._parent.show()}this._total_count_div.empty();var l=rdx.i18n.get_string("rdx.total")+" <b>"+this._total_count+"</b>";this._total_count_div.append(l);var g="--";if(this._total_count==0){this._page_number=1;g=rdx.i18n.get_string("rdx.table_pagination_data_range",{start_count:0,total_count:0});this._unbind_img_action(this._prev_img);this._unbind_img_action(this._next_img)}else{g=rdx.i18n.get_string("rdx.table_pagination_data_range",{start_count:this._page_number,total_count:(Math.ceil(this._total_count/this._page_size))});if(this._page_number==1){this._unbind_img_action(this._prev_img)}else{this._bind_img_action(this._prev_img,new rdx.callback(this,this._navigate_previous))}var f=Math.ceil(this._total_count/this._page_size);if(this._page_number==f){this._unbind_img_action(this._next_img)}else{this._bind_img_action(this._next_img,new rdx.callback(this,this._navigate_next))}}this._data_range_span.html("<b>"+g+"</b>");this._update_page_select()};rdx.pagination.prototype._unbind_img_action=function(b){if(b.attr("class").indexOf("img_opacity")==-1){b.removeClass("pointer_cursor");b.addClass("img_opacity");b.unbind(rdx.events.CLICK)}};rdx.pagination.prototype._bind_img_action=function(c,d){if(c.attr("class").indexOf("img_opacity")!=-1){c.removeClass("img_opacity");c.addClass("pointer_cursor");c.bind(rdx.events.CLICK,{ns_cancel_handler_callback:d},function(a){a.data.ns_cancel_handler_callback.call_back()})}};rdx.pagination.prototype._update_page_select=function(){this._page_select.remove_items(false,false);var c=new Array();var d=Math.ceil(this._total_count/this._page_size);for(i=1;i<=d;i++){c[i-1]=i}this._page_select.add_items(c,false);this._page_select.select_item(this._page_number-1,false)};rdx.pagination.prototype.add_event_handler=function(b){this._pagination_table.bind(rdx.events.PAGINATION_CHANGED,{ns_callback:b},function(e,a,f){e.data.ns_callback.call_back([a,f])})};rdx.pagination.prototype.decrease_data_range=function(){this._end_count=this._end_count-1;this._total_count=this._total_count-1;this._total_count_div.empty();var b=rdx.i18n.get_string("rdx.total")+" "+this._total_count;this._total_count_div.append(b);if(this._total_count==0&&this._start_count>0){this._start_count=0}if(this._end_count>=this._start_count){data_range=rdx.i18n.get_string("rdx.table_pagination_data_range",{start_count:this._page_number,total_count:(Math.ceil(this._total_count/this._page_size))});this._data_range_span.html(data_range);this._update_page_select()}else{this._navigate_previous()}};rdx.pagination.prototype.increase_data_range=function(){this._end_count=this._end_count+1;this._total_count=this._total_count+1;if(this._total_count>0&&this._start_count==0){this._start_count=this._start_count+1}var b=rdx.i18n.get_string("rdx.total")+" "+this._total_count;this._total_count_div.text(b);data_range=rdx.i18n.get_string("rdx.table_pagination_data_range",{start_count:this._page_number,total_count:(Math.ceil(this._total_count/this._page_size))});this._data_range_span.html(data_range);this._update_page_select()};rdx.pagination.prototype.get_page_size=function(){return this._page_size};rdx.pagination.prototype.get_total_count=function(){return this._total_count};rdx.table_column=function(b){this._DEFAULT_PROPERTIES={key:"",label:"",tooltip:"",type:"VALSTR",width:"auto",hidden:false,sortable:true,store_data:false,renderer_callback:null,text_align:null,default_sort:null,editor:"",value:null,editor_properties:null,element_properties:null,sync_data_from_table:false,is_draggable:false,min_max:{},resume_renderer_callback:null,filter:null,filter_values:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b)};rdx.table_column.prototype.get_key=function(){return this._properties.key};rdx.table_column.prototype.get_label=function(){return rdx.i18n.get_string(this._properties.label)};rdx.table_column.prototype.get_value=function(){return this._properties.value};rdx.table_column.prototype.get_tooltip=function(){if(!this._properties.tooltip){this._properties.tooltip=this.get_label()}return rdx.i18n.get_string(this._properties.tooltip)};rdx.table_column.prototype.get_type=function(){return this._properties.type};rdx.table_column.prototype.get_width=function(){return this._properties.width};rdx.table_column.prototype.set_width=function(b){this._properties.width=b};rdx.table_column.prototype.is_hidden=function(){return this._properties.hidden};rdx.table_column.prototype.set_sortable=function(b){this._properties.sortable=b};rdx.table_column.prototype.is_sortable=function(){return this._properties.sortable};rdx.table_column.prototype.to_store_data=function(){return this._properties.store_data};rdx.table_column.prototype.set_store_data=function(b){return this._properties.store_data=b};rdx.table_column.prototype.get_renderer_callback=function(){return this._properties.renderer_callback};rdx.table_column.prototype.get_resume_renderer_callback=function(){return this._properties.resume_renderer_callback};rdx.table_column.prototype.get_is_editable=function(){return(this._properties.editor==""||this._properties.editor==rdx.form_constants.CHECK_BOX||this._properties.editor==rdx.form_constants.SPINNER)?false:true};rdx.table_column.prototype.get_editor=function(){return this._properties.editor};rdx.table_column.prototype.set_editor=function(b){return this._properties.editor=b};rdx.table_column.prototype.get_editor_properties=function(){return this._properties.editor_properties};rdx.table_column.prototype.get_element_properties=function(){return this._properties.element_properties};rdx.table_column.prototype.is_sync_data_from_table=function(){return this._properties.sync_data_from_table};rdx.table_column.prototype.get_text_align=function(){if(!this._properties.text_align){this._properties.text_align=(this.get_type()=="VALNUM")?"right":"left"}return this._properties.text_align};rdx.table_column.prototype.get_default_sort_type=function(){return this._properties.default_sort};rdx.table_column.prototype.get_is_draggable=function(){return this._properties.is_draggable};rdx.table_column.prototype.get_min=function(){return this._properties.min_max.min};rdx.table_column.prototype.get_max=function(){return this._properties.min_max.max};rdx.table_column.prototype.get_start_value=function(){return this._properties.min_max.start_value};rdx.table_column.prototype.get_filter=function(){return this._properties.filter};rdx.table_column.prototype.set_filter=function(b){this._properties.filter=b};rdx.table_column.prototype.set_filter_values=function(b){this._properties.filter_values=b};rdx.table_column.prototype.get_filter_values=function(){return this._properties.filter_values};rdx.table=function(m,n,h){this._parent=typeof(m)=="string"?$("#"+m):m;for(var o=0,g=n.length;o<g;o++){if(n[0].is_hidden()){var l=n.shift();n.push(l)}else{break}}this._columns=n;this._DEFAULT_PROPERTIES={class_names:"table",width:"100%",height:"100%",sort_az_img_url:rdx.images.SORT_ASCENDING_IMG,sort_za_img_url:rdx.images.SORT_DESCENDING_IMG,sort_no_img_url:rdx.images.SORT_NO_IMG,show_serial_no:false,details:false,details_renderer_callback:null,header:true,pagination:false,show_select_component:null,add_show_component_column:false,scrollable_header:rdx.TABLE_HAS_SCROLLABLE_HEADER,no_rows_message:"rdx.table_no_records",no_rows_show_table:true,row_editable:true,rows_selection:true,drag_drop_rows:false,spinner_exclusion:null,color_columns:null,add_grid:true,text_wrap:false,show_context_menu_on_click:true};this._SHOW_SELECT_COMPONENT_COLUMN_KEY="__add_show_component_column__";this._properties=$.extend({},this._DEFAULT_PROPERTIES,h);if(this._properties.show_serial_no){this._columns.splice(0,0,new rdx.table_column({type:"VALNUM",width:10}))}if(this._properties.add_show_component_column==true){this._columns.splice(0,0,new rdx.table_column({key:this._SHOW_SELECT_COMPONENT_COLUMN_KEY,width:20}));if(rdx.utils.is_defined(this._properties.details)&&(this._properties.details==true||this._properties.details=="true")){this._columns[0].set_width(65)}else{this._columns[0].set_width(50)}}this._table=null;this._header_table=null;this._table_div=null;this._header_table_div=null;this._div=null;this._table_header_checkbox=null;this._cancel_single_click_operation=false;this._sort_column_info={sort_column_index:-1,sort_order:null};this._menu_properties=null;this.row_count=0;this._column_position_curr=-1;this._current_column_index=-1;this._adjusted_width=0;this._resize_in_progress=false;this._ie_x_position_offset=250;this._select_checkbox_array=new Array();this._row_selected_index_for_multiple_select=-1;this._source_row_index_for_drag=-1;this._col_min_width_info_arr=new Array();this._no_rows_meesage_row=null;this._row_click_handler_callback=null;this._row_remove_click_handler_callback=null;this._anchor_index=-1};rdx.table.prototype.render=function(){this._table=$("<table>").addClass(this._properties.class_names).attr("cellPadding",0).attr("cellSpacing",0).width(this._properties.width);if(this._properties.add_grid==false){this._table.addClass("rdx_no_grid_table")}if(this._properties.text_wrap===true){this._table.addClass("table_text_wrap")}this._div=$("<div>").attr("id","_div").addClass("disallow_selection table_table_div").attr("unselectable","on").css("overflow","auto");this._parent.height(this._properties.height);this._navigation_div=$("<div>").addClass("table_resize_marker");this._navigation_div.css("left","-199999px");if(rdx.utils.is_defined(this._drilldown_renderer_callback)){var A=this;var H=0;var w=false;var z=function(c){var a=[];var b=c.target;if(($(b).has(":checkbox")).length>0){c.stopPropagation();return false}if($(b).attr("type")=="checkbox"){c.stopPropagation();return false}if($(b).attr("tagName")=="TD"){a=$(b).parent();A._drilldown_renderer_callback.call_back([[A._get_row_data_per_index(a)]])}if($(b).attr("tagName")=="TR"){a=$(b);A._drilldown_renderer_callback.call_back([[A._get_row_data_per_index(a)]])}};this._table.bind("click",function(a){w=false;H=setTimeout(function(){if(!w){z(a)}},200)}).bind("dblclick",function(a){clearTimeout(H);w=true})}this._parent.bind("mouseup",{ns_table:this},function(h){var c=h.data.ns_table;c.set_source_row_index_for_drag(-1);c._table.removeClass("drag_row_cursor");if(!c._resize_in_progress){return}c._parent.removeClass("resize_row");c._navigation_div.css("left",-199999);if(c._current_column_index>-1){var f=c._header_table.children("thead").children("tr").children("th:eq("+c._current_column_index+")").first();var d=f.width()+c._adjusted_width;var g=c._col_min_width_info_arr[c._current_column_index].header_width;header_th_width_adjustment=(d>g)?c._adjusted_width:c._adjusted_width+(g-d);d=f.width()+header_th_width_adjustment;f.animate({width:d},300);var e=c._table.children("tbody").children("tr");var l=e.children("td:eq("+c._current_column_index+")").first();var a=l.width()+c._adjusted_width;var b=c._col_min_width_info_arr[c._current_column_index].body_width;body_td_width_adjustment=(a>b)?c._adjusted_width:c._adjusted_width+(b-a);a=l.width()+body_td_width_adjustment;l.animate({width:a},300);e.each(function(m){var n=$(this).children("td:eq("+c._current_column_index+")");n.width(a)});c._thead_row.removeClass("resize_row_cursor");c._thead_row.addClass("pointer_cursor")}c._current_column_index=-1;c._adjusted_width=0;c._resize_in_progress=false;if(rdx.utils.is_defined(c._resize_callback)){c._resize_callback.call_back([])}});if(this._properties.header){this._table_thead_row=$(this._table[0].createTHead().insertRow(-1));this._table_thead_row.addClass("pointer_cursor");for(var B=0,v=this._columns.length;B<v;B++){var C=this._columns[B];var G=$("<th>").width(C.get_width()).css("textAlign",C.get_text_align());var J=$("<div>");G.attr("unselectable","on");J.addClass("head_node");if(this._properties.details==true||this._properties.details=="true"){J.addClass("details_info_icon_padding")}if(rdx.utils.is_instrumentation_enabled()){var D=rdx.utils.get_view_title();if(C&&rdx.utils.is_function(C.get_label)){inner_text=$.trim(C.get_label())||""}if(inner_text){G.attr("id",D+"-col-"+inner_text.replace(/\ /g,"_"))}}var x=$("<div>");if(B==0&&this._properties.show_select_component==rdx.form_constants.CHECK_BOX){this._table_header_checkbox=rdx.component_helper.get_table_column_editor(rdx.form_constants.CHECK_BOX);var u=this;this._table_header_checkbox.bind(rdx.events.CLICK,{column:C,ns_table:this},function(b){for(var e=0;e<u._select_checkbox_array.length;e++){var c=u._select_checkbox_array[e];var a=c.attr("checked");var d=c.closest(".table_row");if(c.attr("disabled")===true){continue}if((b.target.checked&&a)||(!b.target.checked&&!a)){continue}if(b.target.checked){c.attr("checked",true)}else{c.attr("checked",false)}u.update_row_style(d,c)}u.update_list_action_items(d);u.handle_spinner_component()});C.set_editor(rdx.form_constants.CHECK_BOX);C.set_sortable(false);if(this._properties.drag_drop_rows===true){this._table_header_checkbox.css("margin-left",22)}x.append(this._table_header_checkbox);if(rdx.utils.is_defined(this._properties.color_columns)){x.css("border-left","10px solid transparent")}}else{G.addClass("dummy_header")}if(rdx.utils.is_defined(C._properties)&&C._properties.is_movable==false){G.removeClass("dummy_header")}x.append(document.createTextNode(C.get_label())).addClass("table_th_label_div");J.append(x);var y=$("<div>");y.addClass("resize_row");if(C.is_hidden()){G.addClass("hidden")}if(C._properties.show_table_column_on_slider){G.hide()}var I={ns_column_index:B,ns_table:this};this.add_sort_icon(x);if(rdx.utils.is_defined(C.get_filter())){this._add_filter_options(x,C)}if(C.is_sortable()){x.bind(rdx.events.CLICK,I,function(b){var c=b.data.ns_column_index;var a=b.data.ns_table;a.sort_column(c);if(!a._properties.show_serial_no||c!=0){a._revalidate()}})}if(C.get_default_sort_type()!=null&&this._sort_column_info.sort_column_index==-1){this.set_sort_info(B,C.get_default_sort_type())}this.bind_resize_events(G,y,I);G.append(J);G.append(y);if(!this._properties.detailss&&this._properties.is_draggabl){J.hover(function(){$(this).addClass("table_head_node_hover")},function(){$(this).removeClass("table_head_node_hover")})}this._table_thead_row.append(G);if(rdx.utils.is_not_defined(this._headers)){this._headers=new Array()}var F=new Object();F.key=C._properties.key;F.value=G;this._headers.push(F)}if(this._properties.scrollable_header==true){this._header_table=this._table;this._table.css("table-layout","auto");this._header_table_div=null}else{this._header_table=this._table.clone(true,true);this._header_table.css("table-layout","auto");this._header_table.find("tbody").remove();this._header_table_div=$("<div>").addClass("table_body_table_div").attr("id","_header_table_div");this._header_table_div.append(this._header_table);this._div.append(this._header_table_div)}this._thead_row=this._header_table.children("thead").children("tr").first()}if(!this._table.html().match(/<tbody>/i)){this._table.append(document.createElement("tbody"))}if(this._properties.drag_drop_rows===true){var E={items:"tr",handle:".drag-drop-move-icon-show",containment:this._table.children("tbody"),opacity:0.7,placeholder:"ui_sortable_placeholder",forcePlaceholderSize:true};new rdx.sortable_rows(this,E)}this._table_div=$("<div>").append(this._table).addClass("table_body_table_div").attr("id","_table_div");this._table_div.bind("scroll",{ns_table:this},function(a){if(a.data.ns_table._properties.header==false||a.data.ns_table._properties.scrollable_header==true){return}var b=a.data.ns_table;b._header_table_div.scrollLeft(b._table_div.scrollLeft())});this._div.append(this._table_div).append(this._navigation_div);this._parent.append(this._div);this.set_no_data_message();if(rdx.utils.is_defined(rdx.get_test_framework)&&rdx.get_test_framework().is_test_mode){rdx.get_test_framework().table_stack.push(this)}return this};rdx.table.prototype.get_html_table=function(){return this._table[0]};rdx.table.prototype.get_header_checkbox=function(){return this._table_header_checkbox};rdx.table.prototype.bind_resize_events=function(f,d,e){f.bind("mousemove",e,function(a){var b=a.data.ns_table;if(b._current_column_index==-1){return}if(!b._resize_in_progress){return}b._thead_row.removeClass("pointer_cursor");b._thead_row.addClass("resize_row_cursor");b._navigation_div.css("top",b._table.position().top);b._navigation_div.css("height",b._parent.height());var c=rdx.utils.is_not_defined(a.layerX)&&rdx.utils.is_ie()?a.clientX-b._ie_x_position_offset:a.clientX;b._adjusted_width=(c-b._column_position_curr);if(b._adjusted_width>=20||b._adjusted_width<=(-20)){b._navigation_div.css("left",a.clientX)}});d.bind("mousemove",e,function(a){if(a.data.ns_table._current_column_index==-1){return}a.data.ns_table._resize_in_progress=true;a.stopPropagation()});d.bind("mousedown",e,function(a){var b=a.data.ns_table;var c=rdx.utils.is_not_defined(a.layerX)&&rdx.utils.is_ie()?a.clientX-b._ie_x_position_offset:a.clientX;b._column_position_curr=c;b._current_column_index=a.data.ns_column_index;a.stopPropagation()})};rdx.table.prototype.set_no_data_message=function(){if(rdx.utils.is_defined(this._no_rows_meesage_row)){this._no_rows_meesage_row.remove();this._no_rows_meesage_row=null;if(rdx.utils.is_defined(this._table_header_checkbox)){this._table_header_checkbox.hide()}}if(rdx.utils.is_defined(this._properties.no_rows_message)&&this._properties.no_rows_message.length>0){this._no_rows_meesage_row=$("<tr>").append($("<td>").attr("colspan",this._columns.length).addClass("table_no_row_message").append(rdx.i18n.get_string(this._properties.no_rows_message)));this._table.append(this._no_rows_meesage_row)}};rdx.table.prototype.set_no_rows_show_table=function(b){if(this._properties.no_rows_show_table==false){if(b==0){this._parent.hide()}else{this._parent.show()}}};rdx.table.prototype.add_items=function(m,n,l,h){if(l){this.delete_all_items()}for(var p=0,q=m.length;p<q;p++){if(rdx.utils.is_object_empty(m[p])){continue}if(rdx.utils.is_defined(h)&&h){this.add_item(m[p],null,true,null,null,true)}else{this.add_item(m[p],(n&&n[p]?n[p]:null),false,false)}}this._resize_header_div();this._sort_on_refresh();if(this._properties.show_context_menu_on_click===true&&rdx.utils.is_defined(this._menu_properties)&&(this._menu_properties.length>0)&&(this._properties.rows_selection===true)){if(this._header_table!=null){var o=$(this._header_table.children("thead").children("tr")).children()[0];if(rdx.utils.is_defined(this._properties.details)&&(this._properties.details==true||this._properties.details=="true")){this._columns[0].set_width(83);$(o.children[0]).addClass("details_menu_icon_padding")}else{this._columns[0].set_width(68);$(o.children[0]).addClass("menu_icon_padding")}}new rdx.context_menu(this._table.children("tbody"),this._menu_properties,new rdx.callback(this,this.get_item_info,[]),{table_ref:this,show_on_click:this._properties.show_context_menu_on_click,data:m,parent_title:this._properties.title}).build_menu()}};rdx.table.prototype.get_item_info=function(){return{action_item_data:this.get_selected_items_data(),total_item_count:this.get_item_count()}};rdx.table.prototype.add_item=function(au,ai,aF,aO,af,ay,aH){if(rdx.utils.is_object_empty(au)){return}var aI=this.get_item_count()+1;if(rdx.utils.is_defined(this._no_rows_meesage_row)){this._no_rows_meesage_row.remove();this._no_rows_meesage_row=null}var aG=$("<tr>").addClass("table_row");if(this._properties.rows_selection===false){aG.addClass("no_hover_selected")}var ab=true;if(rdx.utils.is_defined(aF)){ab=aF}var aL=true;if(rdx.utils.is_defined(this._table_header_checkbox)){this._table_header_checkbox.show()}if(rdx.utils.is_defined(aO)){aL=aO}if(aI%2==0){aG.addClass("even")}if(rdx.utils.is_defined(this._menu_properties)&&(this._menu_properties.length>0)){aG.bind(rdx.events.MOUSE_OVER,{ns_table:this,row_data:au},function(a){var c=a.data.ns_table._menu_properties.filter(function(d){if(d._properties.label=="rdx.button_modify"||d._properties.table_row_click){return true}else{return false}});if(c.length>0){if(c[0].is_expression_set()){var b;if(c[0]._properties.expression_mode=="ALL"){b=c[0].get_expression().evaluate_all([a.data.row_data])}else{b=c[0].get_expression().evaluate([a.data.row_data])}if(rdx.utils.is_defined(b)&&b){$(aG[0]).addClass("pointer_curosr")}}else{$(aG[0]).addClass("pointer_curosr")}}})}if(this._properties.rows_selection===true){aG.bind(rdx.events.CLICK,{ns_table:this,row_data:au},function(c){var w=c.data.ns_table;var C=this;if(w._properties.show_select_component!=rdx.form_constants.CHECK_BOX&&c.ctrlKey==false&&c.shiftKey==false){$(C).siblings(".selected").removeClass("selected")}var h=$(C).index()+1;if(w._row_selected_index_for_multiple_select==-1&&c.shiftKey==false&&!$(C).hasClass("selected")){w._row_selected_index_for_multiple_select=h}if(c.target.type==rdx.form_constants.CHECK_BOX){if(c.shiftKey===false){w._anchor_index=h-1}else{if(w._anchor_index!==-1){var F=w._anchor_index;var B=w._select_checkbox_array[F];var E=B.attr("checked");var G=h-1;if(F>G){var m=F;F=G;G=m}for(;F<=G;F++){var l=w._select_checkbox_array[F];var q=l.closest(".table_row");if(l.attr("disabled")===true){continue}if(E){l.attr("checked",true)}else{l.attr("checked",false)}w.update_row_style(q,l)}w._anchor_index=h-1}}}if($(c.target).hasClass("rdx_table_select_component")){if(w._table_header_checkbox!=undefined&&w._select_checkbox_array!=undefined&&w._select_checkbox_array.length>0){var t=true;$.each(w._select_checkbox_array,function(K,J){if(J.attr("checked")===false){t=false;return false}});if(!t){w._table_header_checkbox.removeAttr("checked")}else{w._table_header_checkbox.attr("checked",true)}}if($(c.target).attr("checked")==true){$(C).addClass("selected")}else{$(C).removeClass("selected")}if(c.target.type==rdx.form_constants.CHECK_BOX){w.handle_spinner_component()}}else{if(c.shiftKey){if(w._row_selected_index_for_multiple_select!=-1){var A=w._row_selected_index_for_multiple_select>=h?h:w._row_selected_index_for_multiple_select;var g=w._row_selected_index_for_multiple_select>=h?w._row_selected_index_for_multiple_select:h;A=A-1;g=g;var y=0;for(var d=A;d<g;d++){if(c.data.ns_table._properties.details==false){$(c.data.ns_table._table).children("tbody").children("tr:eq("+d+")").addClass("selected")}else{if(c.data.ns_table._properties.details==true&&y%2==0){$(c.data.ns_table._table).children("tbody").children("tr:eq("+d+")").addClass("selected")}}y=y+1}w._row_selected_index_for_multiple_select=-1}}if(w._cancel_single_click_operation){w._cancel_single_click_operation=false;return}if(!c.shiftKey){if(!(w._properties.show_select_component==rdx.form_constants.CHECK_BOX||w._properties.show_select_component==rdx.form_constants.RADIO_BUTTON)){$(C).toggleClass("selected")}var u=w.get_selected_row_index();if(!(c.target==$(".inline_actions:visible")[$(C).index()]||c.target==$(".info_view_icon")[$(C).index()])){if(rdx.utils.is_array(w._menu_properties)){var v=w._menu_properties.filter(function(J){if(J._properties.label=="rdx.button_modify"||J._properties.table_row_click){return true}else{return false}});if(v.length>0){if(v[0].is_expression_set()){var o;if(v[0]._properties.expression_mode=="ALL"){o=v[0].get_expression().evaluate_all([c.data.row_data])}else{o=v[0].get_expression().evaluate([c.data.row_data])}}if(rdx.utils.is_defined(o)&&o==true||rdx.utils.is_not_defined(o)){v[0]._properties.dom_element=C;v[0]._properties.selected_rows_for_action=[c.data.row_data];v[0].get_click_handler_callback().call_back([v[0]._properties]);v[0]._properties.selected_rows_for_action=null}}}}if(w._properties.show_select_component==rdx.form_constants.RADIO_BUTTON){var D=w.get_item_count();w._select_checkbox_array=new Array();for(var b=0;b<D;b++){var n=$("<img>").attr("src",rdx.images.IN_PROGRESS_IMG);n.addClass("row_update_inprogress");n.css("float","right");n.hide();var H=w._columns[0];var e=w._table.children("tbody").children("tr:eq("+b+")");var I=$(e).children("td:eq("+0+")");var x=rdx.component_helper.get_table_column_editor(rdx.form_constants.RADIO_BUTTON);x.addClass("rdx_table_select_component");x.attr("name","grp1");if(b==u){x.attr("checked",true)}else{x.attr("checked",false)}I.append(n);w._select_checkbox_array.push(x)}}if(w._properties.show_select_component==rdx.form_constants.CHECK_BOX){var p=$(C).index();var z=w._table.children("tbody").children("tr:eq("+p+")");var n=$("<img>").attr("src",rdx.images.IN_PROGRESS_IMG);n.addClass("row_update_inprogress");n.css("float","right");n.hide();var I=$(z).children("td:eq("+0+")");var x=rdx.component_helper.get_table_column_editor(rdx.form_constants.CHECK_BOX);x.addClass("rdx_table_select_component");var s=w._select_checkbox_array[p].attr("checked");if(rdx.utils.is_defined(s)&&s===true){x.attr("checked",true)}else{x.attr("checked",false)}I.append(n);w._select_checkbox_array[p]=x}}}var a=c.target.className;var f=a.split(" ");if($.inArray("info_view_icon",f)!=-1&&(w._properties.details==true||w._properties.details=="true")&&rdx.utils.is_defined(w._properties.details_renderer_callback)){w._properties.details_renderer_callback.call_back([c.data.row_data])}if(c.target.className!=="inline_actions"){w._table.trigger(rdx.events.ROW_SELECTION_CHANGED)}if(rdx.utils.is_defined(w._row_click_handler_callback)){w._row_click_handler_callback.call_back([[w._get_row_data_per_index($(C))]])}})}if(this._properties.rows_selection===true){aG.bind(rdx.events.CONTEXT_MENU,{ns_table:this},function(c){var a=c.data.ns_table;var b=this;if(!c.ctrlKey){$(b).siblings(".selected").removeClass("selected")}if(a._cancel_single_click_operation){a._cancel_single_click_operation=false;return}$(b).addClass("selected");a._table.trigger(rdx.events.ROW_SELECTION_CHANGED)})}for(var ad=0,aw=this._columns.length;ad<aw;ad++){var aj=this._columns[ad];var av=$("<td>").css("textAlign",aj.get_text_align());if(aj._properties.show_table_column_on_slider==true){av.css({display:"none"})}if(rdx.utils.is_defined(this._properties.color_columns)&&ad==0){var aC=rdx.utils.object_keys(this._properties.color_columns);var aS=au[aC[0]];if(rdx.utils.is_defined(aS)){var aQ=this._properties.color_columns[aC[0]];for(var Z in aQ){var aE=Z;var ak=Z[0];var aD=Z[Z.length-1];if(ak!="^"){Z="^"+Z}if(aD!="$"){Z=Z+"$"}var aK=new RegExp(Z,"g");var al=aS.toString().match(aK);if(rdx.utils.is_defined(al)){av.css("border-left","10px solid "+aQ[aE])}}}}if(aj.get_is_draggable()){av.data("ns_table_row_data",au);av.bind("mouseup",{ns_table:this},function(b){b.preventDefault();var d=b.data.ns_table;var a=$(this).parent();var c=$(a).index();if(d.get_source_row_index_for_drag()==c||d.get_source_row_index_for_drag()==-1){d.set_source_row_index_for_drag(-1);d._table.removeClass("drag_row_cursor")}else{d._table.removeClass("drag_row_cursor");d._table.trigger(rdx.events.ROW_MOVED,[{from:d.get_source_row_index_for_drag(),to:c}])}});av.bind("mousemove",{ns_table:this},function(b){var a=b.data.ns_table;if(a.get_source_row_index_for_drag()!=-1&&a.get_source_row_index_for_drag()!=$(this).parent().index()){a._table.addClass("drag_row_cursor")}});av.bind("mousedown",{ns_table:this},function(b){var d=b.data.ns_table;var a=$(this).parent();var c=$(a).index();d.set_source_row_index_for_drag(c)})}aG.append(av);if(aj.is_hidden()){av.addClass("hidden")}if(ai&&ai[ad]){av.attr("title",ai[ad])}if(aj.to_store_data()){}av.data("ns_table_row_data",au);if(ad==0){var aN=$("<img>").attr("src",rdx.images.IN_PROGRESS_IMG);aN.addClass("row_update_inprogress");aN.css("float","right");aN.hide();av.append(aN)}if(this._properties.drag_drop_rows===true&&ad==0){this._create_drag_drop_option(av,aG)}if(ad==0&&(this._properties.details==true||this._properties.details=="true")&&rdx.utils.is_defined(this._properties.details_renderer_callback)){var ac=$("<span>").addClass("info_view_icon");av.addClass("info_icon_padding");av.append(ac)}if(ad==0&&this._properties.show_context_menu_on_click===true&&rdx.utils.is_defined(this._menu_properties)&&(this._menu_properties.length>0)&&(this._properties.rows_selection===true)){var aJ=$("<span>").attr("title","click to get actions").addClass("inline_actions");av.append(aJ)}var aP="";av.data("unformatted_data",au[aj.get_key()]);aP=this._get_formatted_cell_data(au,aj,av,ad,ab,ay,aI);var aR=aj.get_key()+"_disabled";if(rdx.utils.is_defined(au[aR])&&au[aR]==true){aP.attr("disabled",true)}var an=aj.get_key()+"_selected";if(rdx.utils.is_defined(au[an])&&au[an]==true){aP.attr("checked",true);aG.addClass("row_disabled")}if(aj.get_is_editable()){aP=$("<a>").addClass("anchor").attr("href","#noAnchor").html(aP)}var at=true;if(rdx.utils.is_defined(this._properties.spinner_exclusion)){if($.inArray(au[this._properties.spinner_exclusion.column],this._properties.spinner_exclusion.values)>=0){at=false}}if(aj.get_editor()=="spinner"&&at){var ag={};ag.min=aj.get_min();ag.max=aj.get_max();ag.start_value=aj.get_start_value();if(isNaN(ag.max)){if(rdx.utils.is_defined(ag.max.match(/^\{.*\}$/))){var az=ag.max;az=az.replace("{","").replace("}","");ag.max=au[az]}}if(isNaN(ag.min)){if(rdx.utils.is_defined(ag.min.match(/^\{.*\}$/))){var aa=ag.min;aa=aa.replace("{","").replace("}","");ag.min=au[aa]}}if(isNaN(ag.start_value)){if(rdx.utils.is_defined(ag.start_value.match(/^\{.*\}$/))){var ar=ag.start_value;ar=ar.replace("{","").replace("}","");ag.start_value=au[ar]}}if(rdx.utils.is_defined(this._properties.spinner_settings)){var aB=$.extend({spinner_settings:this._properties.spinner_settings},au);var aq=$.extend(true,{},ag,aB);var ax=new rdx.spinner_component(av,new rdx.form_field(aq))}else{var ax=new rdx.spinner_component(av,new rdx.form_field(ag))}ax.render();var ao=this;var aM=ax.get_data();av.data("ns_table_row_data")[aj.get_key()]=aM;ax._spinner_input.bind(rdx.events.CHANGE,function(){var a=ax.get_data();av.data("ns_table_row_data")[aj.get_key()]=a});ax._spinner_up_arrow.bind(rdx.events.CLICK,function(){ax._spinner_input.trigger(rdx.events.CHANGE)});ax._spinner_down_arrow.bind(rdx.events.CLICK,function(){ax._spinner_input.trigger(rdx.events.CHANGE)});aP=ax}if(ad==this._columns.length-1&&(rdx.utils.is_defined(this._row_click_handler_callback)||rdx.utils.is_defined(this._row_remove_click_handler_callback))&&this._properties.row_editable==true){var am=$("<table>").addClass("table_view_row_editor");if(rdx.utils.is_not_defined(this._row_click_handler_callback)){am.addClass("table_view_only_remove_row_editor")}var ah=$("<tr>");am.append(ah);var ap=$("<td>").append(aP);ah.append(ap);if(rdx.utils.is_defined(this._row_remove_click_handler_callback)){var ae=$("<td>").addClass("table_row_remove_link");var aA=$("<a>").addClass("anchor").attr("href","#noAnchor").bind(rdx.events.CLICK,{row_index:aI,row:ah,table:this,callback:this._row_remove_click_handler_callback},function(a){var c=a.data.table;rdx.utils.prevent_default(a);a.stopPropagation();var b=c._table.children("tbody").children("tr.table_row")[a.data.row_index-1];if(!$(b).hasClass("selected")){$(b).addClass("selected")}if(rdx.utils.is_defined(b)){a.data.callback.call_back([[c._get_row_data_per_index(b)]])}});ae.append(aA);ah.append(ae)}av.append(am)}else{av.append(aP)}}if(ab){this._table.prepend(aG)}else{if(rdx.utils.is_defined(af)){this._table.children("tbody").children("tr:eq("+(af-1)+")").after(aG[0])}else{this._table.append(aG)}}this.row_count++;if(aL==true){this._resize_header_div()}this.set_no_rows_show_table(this.row_count);if(aH&this._properties.rows_selection==true){this.set_all_rows_unselected();if($($(this._get_checked_rows()[0]).children()[0]).children("input").attr("checked")){$($(this._get_checked_rows()[0]).children()[0]).children("input").click()}this.set_rows_selected(0)}return aG};rdx.table.prototype.update_row_style=function(d,c){if(c.attr("checked")==true){d.addClass("selected")}else{d.removeClass("selected")}};rdx.table.prototype.update_list_action_items=function(b){if(b.className!=="inline_actions"){this._table.trigger(rdx.events.ROW_SELECTION_CHANGED)}};rdx.table.prototype.handle_spinner_component=function(){var m=this._columns.length;if(this._columns[this._columns.length-1]._properties.show_table_column_on_slider==true&&this._columns[this._columns.length-1].get_editor()=="spinner"){this._table.css({width:"100%"});var g=0;for(var n=0;n<this._select_checkbox_array.length;n++){var h=this._select_checkbox_array[n];var o=$(h).closest("tr.table_row")[0];if(h[0].checked){g++;$(".wrapper_for_spinner",o).show()}else{$(".wrapper_for_spinner",o).hide()}}var l=$("tr th:nth-child("+m+")",this._table);if(g>=1){$("tr td:nth-child("+m+")",this._table).show(400);l.show(400)}else{if(g===0){$("tr td:nth-child("+m+")",this._table).hide(400);l.hide(400)}}}};rdx.table.prototype.set_menu_properties=function(b){this._menu_properties=b};rdx.table.prototype._create_drag_drop_option=function(e,f){var d=$("<div/>");d.addClass("drag-drop-move-icon-hide");e.append(d);f.bind("mouseover",{cell_div:e,image:d},function(a){a.data.image.addClass("drag-drop-move-icon-show")});f.bind("mouseout",{cell_div:e,image:d},function(a){a.data.image.removeClass("drag-drop-move-icon-show")})};rdx.table.prototype._get_formatted_cell_data=function(t,w,n,s,o,v,q){var u=null;var p=this;if(s==0&&this._properties.show_serial_no){u=q}else{if((s==0&&this._properties.show_select_component==rdx.form_constants.CHECK_BOX)||w.get_editor()==rdx.form_constants.CHECK_BOX){u=rdx.component_helper.get_table_column_editor(rdx.form_constants.CHECK_BOX);if(s==0&&this._properties.show_select_component==rdx.form_constants.CHECK_BOX){$(u).addClass("rdx_table_select_component")}if(rdx.utils.is_defined(v)){t[w.get_key()]=v;u.attr("checked",v)}u.bind(rdx.events.CLICK,{col_name:w.get_key(),cell_to_store_data:n},function(a,b){if(rdx.utils.is_defined(b)){a.data.cell_to_store_data.data("ns_table_row_data")[a.data.col_name]=b}else{a.data.cell_to_store_data.data("ns_table_row_data")[a.data.col_name]=a.target.checked}});if(s==0&&this._properties.show_select_component==rdx.form_constants.CHECK_BOX){if(rdx.utils.is_defined(q)&&rdx.utils.is_defined(this._select_checkbox_array[q])){this._select_checkbox_array[q]=u}else{if(o==true){this._select_checkbox_array.unshift(u)}else{this._select_checkbox_array.push(u)}}}if(w.get_editor()==rdx.form_constants.CHECK_BOX){u.attr("checked",(t[w.get_key()]=="true"||t[w.get_key()]==true))}}else{if(s==0&&this._properties.show_select_component==rdx.form_constants.RADIO_BUTTON){u=rdx.component_helper.get_table_column_editor(rdx.form_constants.RADIO_BUTTON);if(s==0&&this._properties.show_select_component==rdx.form_constants.RADIO_BUTTON){$(u).addClass("rdx_table_select_component")}u.attr("name","grp1");this._select_checkbox_array.push(u);u.attr("checked",false);if(rdx.utils.is_defined(v)){u.attr("checked",v)}}else{if(rdx.utils.is_defined(w.get_value())&&rdx.utils.is_empty(n.data("ns_table_row_data")[w.get_key()])){u=w.get_value();n.data("ns_table_row_data")[w.get_key()]=u}if(w.get_renderer_callback()){u=w.get_renderer_callback().call_back([t])}else{if(w.get_resume_renderer_callback()){var x=$("<img>").attr("src",rdx.images.IN_PROGRESS_SMALL_IMG);n.html(x);w.get_resume_renderer_callback().call_back([t,{resume:function(a){n.html(a)}}])}else{if(rdx.utils.is_defined(t[w.get_key()])){u=t[w.get_key()];if(rdx.utils.is_not_empty(u)&&typeof(u)=="string"){u=rdx.utils.html_encode(u)}}}}if(rdx.utils.is_not_defined(u)){u="&nbsp;"}}}}if(w.get_is_editable()){if(rdx.utils.is_defined(w.get_editor())){n.unbind(rdx.events.CLICK,this._process_cell_click);n.bind(rdx.events.CLICK,{column:w,cell_to_store_data:n,table:this,row_data:t},this._process_cell_click)}}if(rdx.utils.is_array(u)){u=u.join(", ")}return u};rdx.table.prototype._process_cell_click=function(z){var N=z.data.cell_to_store_data;var L=z.data.column;L.set_store_data(true);if(z.data.column.get_editor()==rdx.form_constants.VIEW){var H=$.extend(true,{},rdx.utils.get_view(z.data.column.get_editor_properties().view));var x=z.data.column.get_editor_properties().resource_name;var I=z.data.column.get_editor_properties().inherit_data;var M=null;if(I==true&&rdx.utils.is_defined(L.get_editor_properties().get_form_data)){M=L.get_editor_properties().get_form_data.call_back()}if(rdx.utils.is_defined(L.get_editor_properties().set_cell_data)){rdx.view_utils.show_view_in_slider(H,new rdx.callback(L.get_editor_properties().set_cell_data,[N,L]),M,null)}else{rdx.view_utils.show_view_in_slider(H,null,M,null)}}else{var E={};if(rdx.utils.is_defined(L.get_element_properties())){E={properties:L.get_element_properties()}}var F=$.extend(E,L.get_editor_properties());var y=$(N).width();F.width=y-2;var G=new rdx.form_field(F);var K=G.get_formatter();var C=$(this).text();$(this).empty();var J=rdx.component_helper.get_component(z.data.column.get_editor(),N,G).render();if(L.is_sync_data_from_table()){var w=z.data.table.get_rows_data();if(rdx.utils.is_defined(K)){K._properties.data_validator_callback.params=[z.data.row_data];G.set_formatter(K);var D=G.get_formatter().map_data_items(w);J.add_data_items.apply(J,[D])}}if(rdx.utils.is_defined(K)&&rdx.utils.is_function(K.get_data_populate_callback)){var A=K.get_data_populate_callback();var B=new rdx.callback_params({return_callback:new rdx.callback(function(a){J.add_data_items.apply(J,[a])})});A.call_back([B])}if(rdx.utils.is_defined(z.data.row_data[L.get_key()+"_data"])){var D=z.data.row_data[L.get_key()+"_data"];J.add_data_items.apply(J,[D])}J.get_component().focus();J.set_data(C);J.add_event_handler(rdx.events.BLUR,new rdx.callback(function(g,l,b,c,f,h,a){var e=b.get_data();l.empty();l.data("ns_table_row_data")[f.get_key()]=e;if(rdx.utils.is_defined(f.get_renderer_callback())){var d=f.get_renderer_callback().call_back([l.data("ns_table_row_data")]);l.append(d)}else{if(rdx.utils.is_defined(e)&&typeof e=="string"){e=rdx.utils.html_encode(e)}l.html(e)}l.width(a);c._table.trigger(rdx.events.DO_REORGANISE_ROWS,[l,f,e,h])},[$(this),J,z.data.table,L,C,y]));J.add_event_handler(rdx.events.CLICK,new rdx.callback(function(a){a.stopPropagation()}))}};rdx.table.prototype._is_valid_row_index=function(b){return(b>=0&&b<this.get_item_count())};rdx.table.prototype._get_col_count=function(){return this._header_table.children("thead").children("tr").children("th").length};rdx.table.prototype.get_selected_row_count=function(){if(rdx.utils.is_not_defined(this._properties.show_select_component)){return this._get_selected_rows().length}else{return this.get_checked_items_data().length}};rdx.table.prototype._get_selected_rows=function(){var c=[];if(this._table.children("tbody").children("tr:.selected").length==0&&this._table.children("tbody").children("tr").length==1){var d=this._table.children("tbody").children("tr");if($(d[0]).hasClass("selected")){c.push($(d[0]))}}else{c=this._table.children("tbody").children("tr:.selected")}return c};rdx.table.prototype.get_selected_row_index=function(){var c=this._table.children("tbody").children("tr:.selected");var d=c.index();return d};rdx.table.prototype.get_selected_items_data=function(){if(rdx.utils.is_not_defined(this._properties.show_select_component)){return this._get_selected_items_data()}else{return this.get_checked_items_data()}};rdx.table.prototype._get_selected_items_data=function(){var b=[];if(this.get_selected_row_count()==0){return b}return this._get_data(this._get_selected_rows())};rdx.table.prototype._get_checked_rows=function(){var p=[];if(rdx.utils.is_defined(this._no_rows_meesage_row)){return p}var t=this._table.children("tbody").children("tr");var o=$(this._table).attr("inline_actions");if(rdx.utils.is_defined(o)&&o=="true"){for(var s=0;s<t.length;s++){var l=$(t[s]);var n=$(l).attr("inline_actions_clicked");if(rdx.utils.is_defined(n)&&n==="true"){p.push(l);break}}}else{for(var s=0;s<t.length;s++){var l=$(t[s]);var q=$("input.rdx_table_select_component",l);if(q.length==1){var m=$(q[0]).attr("checked");if(rdx.utils.is_defined(m)&&m===true){p.push(l)}}}}return p};rdx.table.prototype.get_checked_items_data=function(){return this._get_data(this._get_checked_rows())};rdx.table.prototype.get_rows_data=function(){if(rdx.utils.is_defined(this._no_rows_meesage_row)){return[]}return this._get_data(this._table.children("tbody").children("tr.table_row"))};rdx.table.prototype.get_data=function(){if(this._properties.show_select_component!=null){return this.get_checked_items_data()}else{return this.get_rows_data()}};rdx.table.prototype.get_all_rows_data=function(){var f=[];var e=this._table.children("tbody").children("tr");for(var d=0;d<e.length;d++){if(!($(e[d]).hasClass("hidden"))){f.push($(e[d]))}}if(f.length==0){return[]}return this._get_data(f)};rdx.table.prototype._get_data=function(h){var g=[];var f=this._columns;for(var e=0;e<h.length;e++){g.push(this._get_row_data_per_index(h[e]))}return g};rdx.table.prototype._get_row_data_per_index=function(l){for(var o=0,g=this._columns.length;o<g;o++){var n=this._columns[o];if(!n.to_store_data()){continue}var m=$(l).children("td:eq("+o+")").data("ns_table_row_data");var h=null;if(typeof(m)=="string"){h=m}else{h=$.extend(true,{},$(l).children("td:eq("+o+")").data("ns_table_row_data"))}if(rdx.utils.is_defined(h[this._SHOW_SELECT_COMPONENT_COLUMN_KEY])){delete h[this._SHOW_SELECT_COMPONENT_COLUMN_KEY]}return h}return null};rdx.table.prototype._update_item_data=function(y,A,w,C){var F=this._columns;var H=this._table.children("tbody").children("tr:eq("+y+")");for(var D=0,u=F.length;D<u;D++){var G=F[D];var t=$(H).children("td:eq("+D+")");var E=t.children("img");t.data("ns_table_row_data",A);var v=t.children();if(D==0&&this._properties.show_select_component==rdx.form_constants.CHECK_BOX&&this._properties.add_show_component_column==true&&rdx.utils.is_defined(v)&&rdx.utils.is_defined(v[1])){if(rdx.utils.is_not_defined(A[this._SHOW_SELECT_COMPONENT_COLUMN_KEY],$(v[1]).attr("checked"))){A[this._SHOW_SELECT_COMPONENT_COLUMN_KEY]=$(v[1]).attr("checked")}}var B=this._get_formatted_cell_data(A,G,t,D,null,C,y);if(G.get_is_editable()){B=$("<a>").addClass("anchor").attr("href","#noAnchor").html(B)}t.html("");if(rdx.utils.is_defined(w)&&rdx.utils.is_defined(E)&&E.hasClass("row_update_inprogress")){t.prepend(E);if(w){$(E).show()}else{$(E).hide()}}if(D==0&&this._properties.add_show_component_column==true&&(this._properties.details==true||this._properties.details=="true")){var x=$("<span>").addClass("info_view_icon");t.append(x);t.addClass("info_icon_padding")}if(D==0&&this._properties.show_context_menu_on_click===true&&rdx.utils.is_defined(this._menu_properties)&&(this._menu_properties.length>0)&&(this._properties.rows_selection===true)){var z=$("<span>").attr("title","click to get actions").addClass("inline_actions");t.append(z)}t.append(B)}this._resize_header_div()};rdx.table.prototype.check_if_data_exist=function(l,m,g,o){var h=false;var n=this;this._table.children("tbody").children("tr").each(function(c){var a=$(this).children("td:eq(0)").data("ns_table_row_data");if(rdx.utils.is_same_object(l,a,m,o)){var b=o==true?l:n._get_update_data(l,a);h=true}});return h};rdx.table.prototype.update_item_data=function(l,m,g,o){var h=false;var n=this;this._table.children("tbody").children("tr").each(function(c){var a=$(this).children("td:eq(0)").data("ns_table_row_data");if(rdx.utils.is_same_object(l,a,m,o)){var b=o==true?l:n._get_update_data(l,a);n._update_item_data(c,b,g,true);h=true}});return h};rdx.table.prototype._get_update_data=function(e,h){var g={};for(var f in h){g[f]=rdx.utils.is_not_empty(e[f])?e[f]:""}return g};rdx.table.prototype._delete_row=function(d,e){if(rdx.utils.is_not_defined(e)){if(this.row_count<=0){return}}if(this._properties.show_select_component!=null){this._select_checkbox_array.splice(d,1)}var f=this._table.children("tbody").children("tr:eq("+d+")");f.remove();this.row_count--;if(this.row_count==0){this.set_no_data_message();if(rdx.utils.is_defined(this._table_header_checkbox)){this._table_header_checkbox.hide()}}this.set_no_rows_show_table(this.row_count);this._revalidate();this._table.trigger(rdx.events.ROW_SELECTION_CHANGED)};rdx.table.prototype.delete_item_at_index=function(c,d){this._delete_row(c,d)};rdx.table.prototype.delete_item=function(f,d){var e=this;this._table.children("tbody").children("tr").each(function(b){var a=$(this).children("td:eq(0)").data("ns_table_row_data");if(typeof f=="string"||f instanceof String){if(f==a){e._delete_row(b);return false}}else{if(rdx.utils.is_same_object(f,a,d)){e._delete_row(b);return false}}return true})};rdx.table.prototype.delete_all_items=function(){this._table.children("tbody").children("tr").remove();this._select_checkbox_array=new Array();this.row_count=0;this.set_no_data_message();this.set_no_rows_show_table(this.row_count);this._table.trigger(rdx.events.ROW_SELECTION_CHANGED);this._resize_header_div()};rdx.table.prototype.add_event_handler=function(d,f,e){if(d==rdx.events.ROW_MOVED){this._table.bind(d,{ns_callback:f},function(a,b){a.data.ns_callback.call_back([b])})}else{if(d==rdx.events.DO_REORGANISE_ROWS){this._table.bind(d,{ns_callback:f},function(c,m,l,b,a){c.data.ns_callback.call_back([m,l,b,a])})}else{if(d==rdx.events.COLUMN_CONTEXT_CHANGED){this._table.bind(d,{ns_callback:f},function(b,a,c,h){b.data.ns_callback.call_back([a,c,h])})}else{this._table.bind(d,{ns_callback:f},function(a){a.data.ns_callback.call_back([e])})}}}if(d==rdx.events.DOUBLE_CLICK&&this._properties.header){this._thead_row.bind(rdx.events.DOUBLE_CLICK,{},(function(a){a.stopPropagation()}))}};rdx.table.prototype.table_sort_handler=function(b){this._table.bind(rdx.events.SORT_TABLE_VIEW,{ns_callback:b},function(a,e,f){a.data.ns_callback.call_back([e,f])})};rdx.table.prototype._revalidate=function(){if(this._properties.show_serial_no){var b=this._properties.details?this._table.children("tbody").children("tr:not(.hidden)"):this._table.children("tbody").children("tr");b.children("td:first-child").each(function(a){$(this).html(a+1).wrapInner(document.createElement("div"))})}};rdx.table.prototype._sort_on_refresh=function(){if(!this._is_server_sort()){if(this._sort_column_info.sort_column_index!=-1){this.sort_column(this._sort_column_info.sort_column_index,true);this._revalidate()}}};rdx.table.prototype._is_server_sort=function(){return this._properties.pagination&&(rdx.utils.is_defined(this._properties.server_sorting)?this._properties.server_sorting:rdx.SERVER_SORTING)};rdx.table.prototype._get_sort_img_url=function(b){if(this._sort_column_info.sort_column_index==-1){return this._properties.sort_az_img_url}if(b){return(this._get_sort_order()==rdx.SORT_ASCENDING)?this._properties.sort_za_img_url:this._properties.sort_az_img_url}else{return(this._get_sort_order()==rdx.SORT_ASCENDING)?this._properties.sort_az_img_url:this._properties.sort_za_img_url}};rdx.table.prototype.set_sort_info=function(c,d){this._sort_column_info.sort_column_index=c;this._sort_column_info.sort_order=d};rdx.table.prototype._get_sort_order=function(b){if(rdx.utils.is_not_defined(this._sort_column_info.sort_order)){return rdx.SORT_ASCENDING}if(b){return(this._sort_column_info.sort_order==rdx.SORT_ASCENDING)?rdx.SORT_DESCENDING:rdx.SORT_ASCENDING}else{return this._sort_column_info.sort_order}};rdx.table.prototype.sort_column=function(v,n){if(this._properties.header==false){return}var q=this._columns[v]._properties;var o=this._columns[v].get_key();var p=this._columns[v].get_type();if(q.sortable===false){return}var s=this._header_table.children("thead").children("tr").children("th");var x=s.find("img").hide().eq(v);x.attr("src",this._get_sort_img_url(n));x.show();var w=this._get_sort_order(n);var u=(w==rdx.SORT_ASCENDING);if(this._is_server_sort()){this._server_sort(o,u)}else{this._client_sort(v,o,p,u)}if(this._sort_column_info.sort_column_index!=v){var t=this._table.children("tbody").children("tr");if(this._sort_column_info.sort_column_index!=-1){$(s.get(this._sort_column_info.sort_column_index)).removeClass("selected").removeClass("ascending").removeClass("descending");t.find("td:eq("+this._sort_column_info.sort_column_index+")").removeClass("selected")}$(s.get(v)).addClass(" selected "+w);t.find("td:eq("+v+")").addClass("selected")}this.set_sort_info(v,(w==rdx.SORT_ASCENDING?rdx.SORT_DESCENDING:rdx.SORT_ASCENDING))};rdx.table.prototype._server_sort=function(d,c){this._table.trigger(rdx.events.SORT_TABLE_VIEW,[d,!c])};rdx.table.prototype._client_sort=function(x,o,q,v){var t,u=false;if(q){if(q.match(/VALSTR|ENUM|VALNAME|NO_TEXT/)){t=rdx.utils.sort_string_case_insensitive}if(q.match(/VALPORT|VALNUM|VALREAL/)){t=rdx.utils.sort_number;u=true}else{if(q.match(/VALIP_PORT_PROTOCOL/)){t=rdx.utils.sort_ip_port_protocol}else{if(q.match(/VALIP|VALIPSTR/)){t=rdx.utils.sort_ip}else{if(q.match(/VALDATE/)){t=rdx.utils.sort_date}}}}}else{t=rdx.utils.sort_default;u=true}var n=this._properties.details?this._table.children("tbody").children("tr:not(.hidden)"):this._table.children("tbody").children("tr");var w=n.get();w.sort(function(c,d){var a=$(c).children("td:eq("+x+")");var b=$(d).children("td:eq("+x+")");var f,g;if(u){f=a.data("unformatted_data");g=b.data("unformatted_data")}else{if(q=="NO_TEXT"){f=$.trim(a.html());g=$.trim(b.html())}else{f=$.trim(a.text());g=$.trim(b.text())}}if(q&&q.match(/VALDATE/)){f=a.data("ns_table_row_data")[o];g=b.data("ns_table_row_data")[o]}if(v){var e=f;f=g;g=e}return t.call(rdx.utils,f,g)});var p=this;$.each(w,function(a,b){p._table.children("tbody").append(b)});if(this._properties.show_select_component==rdx.form_constants.CHECK_BOX){p._select_checkbox_array=[];for(i=0;i<w.length;i++){var s=$(w[i]).find("td:eq(0)").find("input:checkbox");p._select_checkbox_array.push(s)}}};rdx.table.prototype.get_item_count=function(){return this.row_count};rdx.table.prototype.add_sort_icon=function(b){$(b).append($("<img>").attr("src",this._properties.sort_no_img_url),b.firstChild)};rdx.table.prototype.resize=function(e){this._synchronize_header_table_column_width();var f=e;if(this._properties.header==true&&this._properties.scrollable_header==false){var d=this._header_table_div.outerHeight(true);f=e-d}if(f>0){this._table_div.height(f)}this._resize_header_div()};rdx.table.prototype._resize_header_div=function(){if(this._properties.header==false||this._properties.scrollable_header==true){return}var b=this._table_div.width();this._header_table_div.width(b);b=this._table_div.width();if(this._table_div.attr("scrollHeight")>this._table_div.attr("clientHeight")){b=(this._table_div.width()-17)}this._header_table_div.width(b)};rdx.table.prototype._synchronize_header_table_column_width=function(){if(this._properties.header==false){return}this._table.css("table-layout","auto");this._table.find("thead").show();this.reset_width_for_columns();this.initialize_min_width_for_columns();if(this._properties.scrollable_header==true){return}for(var q=0,h=this._columns.length;q<h;q++){var n=this._table.children("thead").children("tr").children("th:eq("+q+")");var l=n.width();var p=this._header_table.children("thead").children("tr").children("th:eq("+q+")");p.width(l);n.width(l);var m=this._table.children("tbody").children("tr");var o=m.children("td:eq("+q+")").width();m.each(function(a){$(this).children("td:eq("+q+")").width(o)})}this._table.css("table-layout","fixed");this._table.find("thead").hide()};rdx.table.prototype.initialize_min_width_for_columns=function(){this._col_min_width_info_arr=new Array();this._table_div.css("width","50px");for(var p=0,h=this._columns.length;p<h;p++){var n=this._table.children("thead").children("tr").children("th:eq("+p+")");var l=n.width();var q=new Object();q.header_width=l;var m=this._table.children("tbody").children("tr");var o=m.children("td:eq("+p+")").width();q.body_width=o;this._col_min_width_info_arr.push(q)}this._table_div.css("width","auto")};rdx.table.prototype.reset_width_for_columns=function(){for(var m=0,f=this._columns.length;m<f;m++){var g=this._columns[m].get_width();var l=this._table.children("thead").children("tr").children("th:eq("+m+")");l.css("width",g);var h=this._table.children("tbody").children("tr");h.each(function(b){$(this).children("td:eq("+m+")").css("width",g);var a=$(this).children("td:eq("+m+")").get(0);if(rdx.utils.is_defined(a)&&(a.offsetWidth)<(a.scrollWidth)){a.title=a.textContent}})}};rdx.table.prototype.get_table_parent=function(){return this._parent};rdx.table.prototype.set_rows_selected=function(b){if(rdx.utils.is_defined(b)&&(b>=0)){if(!this._table.children("tbody").children("tr:eq("+b+")").hasClass("selected")){$(this._table.children("tbody").children("tr:eq("+b+")")).addClass("selected")}if(this._properties.show_select_component==rdx.form_constants.CHECK_BOX){$(this._table.children("tbody").children("tr:eq("+b+")").children("td:eq(0)").children("input")).click()}}this._table.trigger(rdx.events.ROW_SELECTION_CHANGED)};rdx.table.prototype.set_all_rows_selected=function(){var c=this.get_item_count();for(var d=0;d<c;d++){$(this._table.children("tbody").children("tr:eq("+d+")")).addClass("selected");if(this._properties.show_select_component==rdx.form_constants.CHECK_BOX){$(this._table.children("tbody").children("tr:eq("+d+")").children("td:eq(0)").children("input")).click()}}this._table.trigger(rdx.events.ROW_SELECTION_CHANGED)};rdx.table.prototype.set_all_rows_unselected=function(){var c=this.get_item_count();for(var d=0;d<c;d++){if(this._table.children("tbody").children("tr:eq("+d+")").hasClass("selected")){$(this._table.children("tbody").children("tr:eq("+d+")")).removeClass("selected");if(this._properties.show_select_component==rdx.form_constants.CHECK_BOX){$(this._table.children("tbody").children("tr:eq("+d+")").children("td:eq(0)").children("input")).click()}}}this._table.trigger(rdx.events.ROW_SELECTION_CHANGED)};rdx.table.prototype.delete_selected_item=function(){var c=this._get_selected_rows();for(var d=0;d<c.length;d++){$(c[d]).remove();if(this.row_count>=0){this.row_count--}}this._revalidate();this._table.trigger(rdx.events.ROW_SELECTION_CHANGED);if(this.row_count==0){this.set_no_data_message()}this.set_no_rows_show_table(this.row_count)};rdx.table.prototype.get_source_row_index_for_drag=function(){return this._source_row_index_for_drag};rdx.table.prototype.set_source_row_index_for_drag=function(b){this._source_row_index_for_drag=b};rdx.table.prototype.is_no_rows_message_displayed=function(){return rdx.utils.is_defined(this._no_rows_meesage_row)};rdx.table.prototype.get_table=function(){return this._table};rdx.table.prototype.sort_column_of_index=function(d){var c=this;c.sort_column(d);if(!c._properties.show_serial_no||d!=0){c._revalidate()}};rdx.table.prototype.set_resize_event_callback=function(b){this._resize_callback=b};rdx.table.prototype.get_columns=function(){return this._columns};rdx.table.prototype.get_headers=function(){return this._headers};rdx.table.prototype.set_row_click_handler_callback=function(b){this._row_click_handler_callback=b};rdx.table.prototype.set_row_remove_click_handler_callback=function(b){this._row_remove_click_handler_callback=b};rdx.table.prototype.set_drilldown_renderer_callback=function(b){this._drilldown_renderer_callback=b};rdx.table.prototype.move_column_from_start_to_end_index=function(f,h){if(rdx.utils.is_defined(this._columns)&&rdx.utils.is_defined(f)&&rdx.utils.is_defined(h)){var m=this._columns[f];if(h<f){for(var l=f-1,g=h;l>=g;l--){this._columns[l+1]=this._columns[l]}this._columns[h]=m}if(h>f){for(var l=f+1,g=h;l<=g;l++){this._columns[l-1]=this._columns[l]}this._columns[h]=m}}};rdx.table.prototype.set_table_height=function(b){this._table_div.css("height",b)};rdx.table.prototype._add_filter_options=function(f,d){var e=$("<span>").addClass("column_filter").attr("title","Filter");f.append(e);$(e).bind(rdx.events.CLICK,{column:d,ns_table:this,parent:e},function(b){var a=new rdx.callback(b.data.ns_table._handle_column_context_change,[b.data.column.get_key(),b.data.ns_table,b.data.column,e]);var c=new rdx.filter_component_view(b.data.parent,b.data.column,a);c.render();if(rdx.utils.is_defined(b.data.column.get_filter_values())){c.set_data(b.data.column.get_filter_values())}b.stopPropagation();b.preventDefault()})};rdx.table.prototype._handle_column_context_change=function(o,q,h,m,p,l){var n={};if(rdx.utils.is_not_empty(o)){n[h]=o;l.addClass("filtered")}else{n[h]=null;l.removeClass("filtered")}m._table.trigger(rdx.events.COLUMN_CONTEXT_CHANGED,[n,q,h])};rdx.map=function(f,d,e){this._parent=typeof(f)=="string"?$("#"+f):f;this._columns=d;this._DEFAULT_PROPERTIES={class_names:"table",width:"100%",height:"100%"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,e);this._map=null;this._cancel_single_click_operation=false;this._menu_properties=null;this._icon_count=0;this._current_icon_row=null};rdx.map.prototype.render=function(){this._parent.height(this._properties.height);this._map=$("<table>").addClass(this._properties.class_names).attr("align","center");this._parent.append(this._map);return this};rdx.map.prototype._get_icon_index=function(){var b=parseInt(this._properties.index);if(isNaN(b)){b=6}return b};rdx.map.prototype.add_items=function(h,l,g){if(g){this.delete_all_items()}for(var m=0,f=h.length;m<f;m++){this.add_item(h[m],l&&l[m]?l[m]:null)}if(rdx.utils.is_defined(this._menu_properties)){new rdx.context_menu(this._map.children("div"),this._menu_properties,new rdx.callback(this,this.get_item_info)).build_menu()}};rdx.map.prototype.add_item=function(g,h){var f=$("<div>").attr("style","float:left; padding:10px");var e=this._get_icon(g);f.append(e);f.data("icon_data",g);f.bind(rdx.events.DOUBLE_CLICK,{icon_table:this},(function(a){var b=a.data.icon_table;if(!a.ctrlKey){b._map.children("div:.selected").each(function(c){$(this).removeClass("selected")})}$(this).addClass("selected");a.data.icon_table._cancel_single_click_operation=true}));f.bind(rdx.events.CLICK,{icon_table:this},function(b){var c=b.data.icon_table;var d=this;var a=false;if($(d).attr("class").indexOf("selected")!=-1){a=true}setTimeout(function(){if(!b.ctrlKey){c._map.children("div:.selected").each(function(m){$(this).removeClass("selected")})}if(c._cancel_single_click_operation){c._cancel_single_click_operation=false;return}if(!a){$(d).toggleClass("selected")}c._map.trigger(rdx.events.ROW_SELECTION_CHANGED)},50)});f.bind(rdx.events.CONTEXT_MENU,{icon_table:this},function(a){var b=a.data.icon_table;var c=this;if(!a.ctrlKey){b._map.children("div:.selected").each(function(d){$(this).removeClass("selected")})}if(b._cancel_single_click_operation){b._cancel_single_click_operation=false;return}$(c).addClass("selected");b._map.trigger(rdx.events.ROW_SELECTION_CHANGED)});this._map.append(f);this._icon_count++};rdx.map.prototype._get_icon=function(o){var p=$("<table>").attr("cellPadding",0).attr("cellSpacing",1);var q=$("<tr>").height("60px").attr("valign","top");var s=$("<td>").attr("align","right").attr("valign","top");var n=this._get_formatted_cell_data(o,this._properties.status);s.append(n);q.append(s);p.append(q);var l=$("<td>");n=this._get_formatted_cell_data(o,this._properties.icon);l.append(n);q.append(l);var t=$("<tr>");t.append($("<td>").html(""));n=this._get_formatted_cell_data(o,this._properties.label);var m=$("<td>").html(n).attr("align","center");t.append(m);p.append(t);return p};rdx.map.prototype._get_formatted_cell_data=function(n,m){var o=null;for(var g=0,h=this._columns.length;g<h;g++){if(this._columns[g].get_key()==m){o=this._columns[g]}}var l=null;if(o.get_renderer_callback()){l=o.get_renderer_callback().call_back([n])}else{if(rdx.utils.is_defined(n[o.get_key()])){l=n[o.get_key()]}}if(rdx.utils.is_not_defined(l)){l="&nbsp;"}return l};rdx.map.prototype._get_selected_icon_count=function(){return this._map.children("div:.selected").length};rdx.map.prototype.get_selected_items_data=function(){var b=[];if(this._get_selected_icon_count()==0){return b}this._map.children("div:.selected").each(function(a){b.push($(this).data("icon_data"))});return b};rdx.map.prototype.get_item_info=function(){return{action_item_data:this.get_selected_items_data(),total_item_count:this.get_item_count()}};rdx.map.prototype.set_menu_properties=function(b){this._menu_properties=b};rdx.map.prototype.delete_all_items=function(){this._map.children("div").remove();this._icon_count=0;this._map.trigger(rdx.events.ROW_SELECTION_CHANGED)};rdx.map.prototype.add_event_handler=function(d,f,e){this._map.bind(d,{ns_callback:f},function(a){a.data.ns_callback.call_back([e])})};rdx.map.prototype.get_item_count=function(){return this._icon_count};rdx.map.prototype.delete_item=function(h,e){var f=this;var g=[];this._map.children("div").each(function(b){var a=$(this).data("icon_data");if(!rdx.utils.is_same_object(h,a,e)){g.push(a)}});this.add_items(g,false,true)};rdx.map.prototype._update_item_data=function(e,h){var f=this._map.children("div:eq("+e+")");var g=this._get_icon(h);f.html("");f.html(g)};rdx.map.prototype.update_item_data=function(h,e){var g=[];var f=this;this._map.children("div").each(function(b){var a=$(this).data("icon_data");if(rdx.utils.is_same_object(h,a,e)){f._update_item_data(b,h);return false}return true});return g};rdx.map.prototype.get_data=function(){var b=[];this._map.children().each(function(a){b.push($(this).data("icon_data"))});return b};rdx.map.prototype.get_rows_data=function(){return this.get_data()};rdx.map.prototype.is_no_rows_message_displayed=function(){return false};rdx.sortable_rows=function(c,d){this._table=c,this._DEFAULT_PROPERTIES={items:"tr",opacity:0,containment:this._table.get_table(),placeholder:"ui_sortable_placeholder",forcePlaceholderSize:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d);this._table.get_table().sortable(this._properties);$(this._table.get_table()).bind("sortstart",{table:this._table,that:this},function(b,a){a.item.addClass("selected");b.data.that._data_before_drag=b.data.table.get_all_rows_data()});$(this._table.get_table()).bind("sortstop",{table:this._table,that:this},function(b,a){a.item.removeClass("selected");if(rdx.utils.is_defined(b.data.table._properties.rearrange_callback)){b.data.table._properties.rearrange_callback.call_back([b.data.that._data_before_drag,b.data.table.get_all_rows_data()])}})};rdx.geo_vector_map_view=function(h,e,g,f){this._parent=h;this._view_definition=e;this._resource=g;this._base_view=f;this._DEFAULT_PROPERTIES={color:"#f7f5ef",background_color:"#cbd8e0",hover_color:false,hover_opacity:"0.7",map:"world_mill_en",fill_color:"#f75872",label_click_handler_callback:null,on_label_show_callback:null,location_balloon_label:"Instances and Agents",location_balloon_and_events_label:"Instances and Agents with Events",location_balloon_with_alarm_and_events_label:"Agent is in Down state",show_region_string_as_marker:false,use_mapael:false,label_renderer_callback:null,label_offset_callback:null};this._container=null;this._entities_resource_properties_object={city_latitude_property:null,city_longitude_property:null,city_name_property:null,total_entities_property:null,total_entities_up_property:null,total_entities_down_property:null,total_secondary_entities_property:null,total_alarms_property:null,total_critical_alarms_property:null,total_major_alarms_property:null,total_minor_alarms_property:null,location_property:null};this._view_properties=$.extend({},this._DEFAULT_PROPERTIES,this._view_definition.view_properties);this._resource_properties=this._view_definition.resource_properties;this._hover_data=null;this._location_balloon="location_balloon";this._location_balloon_and_events="location_balloon";this._location_balloon_with_alarm_and_events="location_balloon_with_alarm_and_events";this._default_location="location_balloon"};rdx.geo_vector_map_view.prototype.make_view=function(){this._set_entities_resource_properties_object()};rdx.geo_vector_map_view.prototype._set_entities_resource_properties_object=function(){for(var d in this._view_definition.resource_properties){var c=this._view_definition.resource_properties[d];if(rdx.utils.is_defined(c,c.is_latitude)&&c.is_latitude){this._entities_resource_properties_object.city_latitude_property=d}else{if(rdx.utils.is_defined(c,c.is_longitude)&&c.is_longitude){this._entities_resource_properties_object.city_longitude_property=d}else{if(rdx.utils.is_defined(c,c.is_city_name)&&c.is_city_name){this._entities_resource_properties_object.city_name_property=d}else{if(rdx.utils.is_defined(c,c.is_total_entities)&&c.is_total_entities){this._entities_resource_properties_object.total_entities_property=d}else{if(rdx.utils.is_defined(c,c.is_entities_up)&&c.is_entities_up){this._entities_resource_properties_object.total_entities_up_property=d}else{if(rdx.utils.is_defined(c,c.is_entities_down)&&c.is_entities_down){this._entities_resource_properties_object.total_entities_down_property=d}else{if(rdx.utils.is_defined(c,c.is_total_secondary_entities)&&c.is_total_secondary_entities){this._entities_resource_properties_object.total_secondary_entities_property=d}else{if(rdx.utils.is_defined(c,c.is_alarm)&&c.is_alarm){this._entities_resource_properties_object.total_alarms_property=d}else{if(rdx.utils.is_defined(c,c.is_location)&&c.is_location){this._entities_resource_properties_object.location_property=d}else{if(rdx.utils.is_defined(c,c.is_critical_alarm)&&c.is_critical_alarm){this._entities_resource_properties_object.total_critical_alarms_property=d}else{if(rdx.utils.is_defined(c,c.is_medium_alarm)&&c.is_medium_alarm){this._entities_resource_properties_object.total_medium_alarms_property=d}else{if(rdx.utils.is_defined(c,c.is_low_alarm)&&c.is_low_alarm){this._entities_resource_properties_object.total_low_alarms_property=d}else{if(rdx.utils.is_defined(c,c.is_major_alarm)&&c.is_major_alarm){this._entities_resource_properties_object.total_major_alarms_property=d}else{if(rdx.utils.is_defined(c,c.is_minor_alarm)&&c.is_minor_alarm){this._entities_resource_properties_object.total_minor_alarms_property=d}else{continue}}}}}}}}}}}}}}}};rdx.geo_vector_map_view.prototype.get_resource_response_arrived=function(f){this._response=f;if(!this._response.length){return}this._container=$("<div>").addClass("geo_vector_map_view");this._parent.empty();this._parent.append(this._container);var h=this._container.offset().top;var g=$(window).height();var l=g-h-150;if(l<300){l=300}this._container.css("height",l);this._hover_data=this._create_data_object_for_hover();$(".jvectormap-tip").remove();$(".geo_map_slider_container_wrapper").remove();this._container.empty();this._container.unbind("markerClick.jvectormap");this._container.unbind("markerTipShow.jvectormap");jvm.$(window).unbind("resize");this._register_events(this._container,this._hover_data);var m=this._get_map_properties();this._render_map(m)};rdx.geo_vector_map_view.prototype._create_data_object_for_hover=function(){var f=new Array();if(rdx.utils.is_defined(this._response)&&this._response.length){for(var e=0;e<this._response.length;e++){var h=new Object();h[this._entities_resource_properties_object.city_name_property]=this._response[e][this._entities_resource_properties_object.city_name_property];h[this._entities_resource_properties_object.city_latitude_property]=this._response[e][this._entities_resource_properties_object.city_latitude_property];h[this._entities_resource_properties_object.city_longitude_property]=this._response[e][this._entities_resource_properties_object.city_longitude_property];h[this._entities_resource_properties_object.total_entities_property]=parseInt(this._response[e][this._entities_resource_properties_object.total_entities_property]);h[this._entities_resource_properties_object.total_entities_up_property]=parseInt(this._response[e][this._entities_resource_properties_object.total_entities_up_property]);h[this._entities_resource_properties_object.total_entities_down_property]=parseInt(this._response[e][this._entities_resource_properties_object.total_entities_down_property]);h[this._entities_resource_properties_object.total_secondary_entities_property]=parseInt(this._response[e][this._entities_resource_properties_object.total_secondary_entities_property]);var g=this._view_properties.show_region_string_as_marker;if(g==true){h[this._entities_resource_properties_object.location_property]=this._response[e][this._entities_resource_properties_object.location_property]}else{h[this._entities_resource_properties_object.total_alarms_property]=parseInt(this._response[e][this._entities_resource_properties_object.total_alarms_property])}h[this._entities_resource_properties_object.total_critical_alarms_property]=parseInt(this._response[e][this._entities_resource_properties_object.total_critical_alarms_property]);h[this._entities_resource_properties_object.total_medium_alarms_property]=parseInt(this._response[e][this._entities_resource_properties_object.total_medium_alarms_property]);h[this._entities_resource_properties_object.total_low_alarms_property]=parseInt(this._response[e][this._entities_resource_properties_object.total_low_alarms_property]);h[this._entities_resource_properties_object.total_major_alarms_property]=parseInt(this._response[e][this._entities_resource_properties_object.total_major_alarms_property]);h[this._entities_resource_properties_object.total_minor_alarms_property]=parseInt(this._response[e][this._entities_resource_properties_object.total_minor_alarms_property]);f[e]=h}}return f};rdx.geo_vector_map_view.prototype._render_map=function(b){this._jvm_map=new jvm.Map(b);if(rdx.utils.is_defined(this._view_properties.make_legend_clickables)&&this._view_properties.make_legend_clickables){this._make_legend_clickables()}};rdx.geo_vector_map_view.prototype._make_legend_clickables=function(){var g=$(".jvectormap-legend-tick");var l={};var h=this._view_properties.balloons;if(rdx.utils.is_defined(h)){for(var m in h){if(h.hasOwnProperty(m)){l[m.replace(/ +/g,"")]=h[m]}}}if(g.length>0){for(var f=0;f<g.length;f++){$(g[f]).addClass("geo_vector_legend_class");$(g[f]).bind(rdx.events.CLICK,{jvm:this._jvm_map,legend:g[f],geo_map:this,map:l},function(b){var c=$(b.data.legend).find(".jvectormap-legend-tick-text").text();c=c.replace(/ +/g,"");var a=b.data.map[c];b.data.geo_map.clear_markers(a,$(b.data.legend));if($(b.data.legend).hasClass("disable_legend")){$(b.data.legend).removeClass("disable_legend");$(b.data.legend).addClass("enable_legend")}else{$(b.data.legend).addClass("disable_legend");$(b.data.legend).removeClass("enable_legend")}b.stopPropagation();b.preventDefault()})}}};rdx.geo_vector_map_view.prototype.clear_markers=function(d,c){$("image.jvectormap-marker").each(function(a){if($(this).attr("href").indexOf(d)>-1){if($(this).attr("id")!="hidden"){$(this).css("display","none");$(this).attr("id","hidden");$("text.jvectormap-marker").eq(a).show()}else{$(this).css("display","block");$(this).attr("id","");$("text.jvectormap-marker").eq(a).hide()}}})};rdx.geo_vector_map_view.prototype._get_map_properties=function(){var A=this._get_map_markers();var u=new Object();var v=new Object();v["font-weight"]="bold";v["font-size"]="12";v.fill=this._view_properties.fill_color;u.initial=v;var w=new Object();var s=this;var D=null;if(rdx.utils.is_defined(this._view_properties.label_renderer_callback)){D=function(a){return s._view_properties.label_renderer_callback.call_back([a,s._response,s._entities_resource_properties_object])}}var C=null;if(rdx.utils.is_defined(this._view_properties.label_offset_callback)){C=function(a){return s._view_properties.label_offset_callback.call_back([a,s._response[a]])}}w.render=D;w.offsets=C;var y=new Object();if(!(rdx.utils.is_defined(w.render)||rdx.utils.is_defined(w.offsets))){y=null}else{y.markers=w}var z=new Object();var B=new Object();B.attribute=this._view_properties.attribute;B.scale=this._view_properties.scale;B.values=this._get_location_marker();var t=new Object();t.horizontal=true;var x=this;t.labelRender=function(b){var a={};if(rdx.utils.is_not_empty(x._view_properties.location_balloon_label)){a.location_balloon=x._view_properties.location_balloon_label}if(rdx.utils.is_not_empty(x._view_properties.location_balloon_and_events_label)){a.location_balloon_and_events=x._view_properties.location_balloon_and_events_label}if(rdx.utils.is_not_empty(x._view_properties.location_balloon_with_alarm_and_events_label)){a.location_balloon_with_alarm_and_events=x._view_properties.location_balloon_with_alarm_and_events_label}return a[b]};B.legend=t;z.markers=[B];var q={color:this._view_properties.color,backgroundColor:this._view_properties.background_color,hoverColor:this._view_properties.hover_color,hoverOpacity:this._view_properties.hover_opacity,map:this._view_properties.map,container:this._container,markers:A,markerLabelStyle:u,labels:y,series:z,zoomOnScroll:false};return q};rdx.geo_vector_map_view.prototype._get_map_markers=function(){var f=new Array();if(rdx.utils.is_defined(this._response)&&this._response.length){for(var e=0;e<this._response.length;e++){var d=new Object();d.name=this._response[e][this._entities_resource_properties_object.city_name_property];d.latLng=[parseFloat(this._response[e][this._entities_resource_properties_object.city_latitude_property]),parseFloat(this._response[e][this._entities_resource_properties_object.city_longitude_property])];f[e]=d}}return f};rdx.geo_vector_map_view.prototype._get_location_marker=function(){var q={};if(rdx.utils.is_defined(this._response)&&this._response.length){for(var h=0;h<this._response.length;h++){var o=parseInt(this._response[h][this._entities_resource_properties_object.total_alarms_property]);var p=parseInt(this._response[h][this._entities_resource_properties_object.total_entities_down_property]);var m=parseInt(this._response[h][this._entities_resource_properties_object.total_critical_alarms_property]);var l=parseInt(this._response[h][this._entities_resource_properties_object.total_medium_alarms_property]);var n=parseInt(this._response[h][this._entities_resource_properties_object.total_low_alarms_property]);if(!isNaN(m)||!isNaN(l)||!isNaN(n)){if(!isNaN(m)&&m>0){q[h]=this._location_balloon}else{if(!isNaN(l)&&l>0){q[h]=this._location_balloon_and_events}else{if(!isNaN(n)&&n>0){q[h]=this._location_balloon_with_alarm_and_events}else{q[h]=this._default_location}}}}else{if(o===0&&p===0){q[h]=this._location_balloon}else{if((p===0&&o>0)||(isNaN(o))){q[h]=this._location_balloon_and_events}else{q[h]=this._location_balloon_with_alarm_and_events}}}}}return q};rdx.geo_vector_map_view.prototype.resize_view=function(){if(rdx.utils.is_defined(this._jvm_map)){this._jvm_map.onResize()}};rdx.geo_vector_map_view.prototype.destroy_view=function(){if(rdx.utils.is_defined(this._container)){this._container.unbind("markerClick.jvectormap");this._container.unbind("markerTipShow.jvectormap")}jvm.$(window).unbind("resize");rdx.model.remove_model_change_listener(this._resource)};rdx.geo_vector_map_view.prototype._register_events=function(c,d){if(rdx.utils.is_defined(this._view_properties.label_click_handler_callback)){$(c).bind("markerClick.jvectormap",{callback:this._view_properties.label_click_handler_callback,hover_data:d},function(a,b,f){return a.data.callback.call_back([a,b,f,a.data.hover_data])})}if(rdx.utils.is_defined(this._view_properties.on_label_show_callback)){$(c).bind("markerTipShow.jvectormap",{callback:this._view_properties.on_label_show_callback,hover_data:d},function(a,b,f){return a.data.callback.call_back([a,b,f,a.data.hover_data])})}};rdx.geo_vector_map_view.prototype.add_mask=function(){return true};rdx.geo_vector_map_view.prototype._add_tool_bar=function(){var b=[new rdx.action({image_url:rdx.images.REFRESH_IMG,click_handler_callback:new rdx.callback(this,this._refresh_view)})];this._toolbar_items=b};rdx.geo_vector_map_view.prototype.get_toolbar_items=function(){if(rdx.utils.is_defined(this._toolbar_items)){return this._toolbar_items}this._add_tool_bar();return this._toolbar_items};rdx.geo_vector_map_view.prototype.refresh_view=function(){this._base_view.get_view_context().invalidate_data();this._parent.empty();this._base_view.prepare_view()};rdx.geo_vector_map_view.prototype.register_event_handlers=function(){rdx.model.add_model_change_listener(this._resource,new rdx.callback(this,this.refresh_view))};rdx.bar_chart=function(c,d){this._parent=c;this._DEFAULT_PROPERTIES={value:0,class_names:"bar_chart"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d);this._properties.value=Math.min(100,Math.max(0,this._properties.value));this._bar_chart=null};rdx.bar_chart.prototype.render=function(){var f=$("<div>").addClass("background").width("100%");var e=$("<div>").addClass("foreground").width(this._properties.value+"%");var d=$("<div>").addClass("label").append(this._properties.value);this._bar_chart=$("<div>").addClass(this._properties.class_names).append(f).append(e).append(d);if(this._parent){this._parent.append(this._bar_chart)}return this._bar_chart};rdx.chart_constants=new function(){this.LINE="line";this.SPLINE="spline";this.STEP_LINE="stepline";this.SCATTER="scatter";this.BAR="bar";this.STACKED_BAR="sbar";this.COLUMN="column";this.STACKED_COLUMN="scolumn";this.FLAGS="flags";this.PIE="pie";this.FLAGS="flags";this.AREA="area";this.STACKED_AREA="sarea";this.AREA_SPLINE="areaspline";this.STACKED_AREA_SPLINE="stackedareaspline";this.CIRCLE_SYMBOL="circle";this.DIAMOND_SYMBOL="diamond";this.SQUARE_SYMBOL="square";this.TRIANGLE_SYMBOL="triangle";this.TRANGLE_DOWN_SYMBOL="triangle-down";this.SOLID="Solid";this.SHORT_DASH="ShortDash";this.SHORT_DOT="ShortDot";this.SHORT_DASH_DOT="ShortDashDot";this.SHORT_DASH_DOT_DOT="ShortDashDotDot";this.DOT="Dot";this.DASH="Dash";this.LONG_DASH="LongDash";this.DASH_DOT="DashDot";this.LONG_DASH_DOT="LongDashDot";this.LONG_DASH_DOT_DOT="LongDashDotDot";this.FONT_FAMILY='citrixsans, "Segoe UI", "Trebuchet MS", MS,Tahoma, Arial, sans-serif; color:#4d4f53';this.STACKING="normal";this.BACKGROUND_COLOR="#FFF";this.MAX_LABEL_LENGTH=15;this.CURRENT="Current";this.AVERAGE="Average";this.PEAK="Peak";this.MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"]};rdx.chart_utils=new function(){this._initialized=false;this.initialize_globals=function(a){this.set_global_options(a);if(this._initialized){return}Highcharts.setOptions({lang:{decimalPoint:rdx.chart_utils.get_decimal_separator(),thousandsSep:rdx.chart_utils.get_grouping_separator(),resetZoomTitle:rdx.i18n.get_string("rdx.chart_reset_zoom_title")}});this._initialized=true};this.set_global_options=function b(a){Highcharts.setOptions({global:a})};this.calculate_min=function(a,n,m,l){var o=l?l:Number.MAX_VALUE;for(i=0,end_index=a.length;i<end_index;i++){var h=n?a[i][n]:a[i];if(m){h=(Math.ceil(h)+"").length}if(h<o){o=h}}if(o==Number.MAX_VALUE){o=Number.NaN}return o};this.calculate_max=function(o,n,m,h){var a=h?h:Number.MIN_VALUE;for(i=0,end_index=o.length;i<end_index;i++){var l=n?o[i][n]:o[i];if(m){l=(Math.ceil(l)+"").length}if(l>a){a=l}}if(a==Number.MIN_VALUE){a=Number.NaN}return a};this.calculate_min_object=function(a,o,m,l){var n=new Object();n[o]=Number.MAX_VALUE;if(rdx.utils.is_defined(a)&&a!=null){for(i=0,end_index=a.length;i<end_index;i++){var h=o?a[i][o]:a[i];if(m){h=(Math.ceil(h)+"").length}if(h<n[o]){n=a[i]}}}if(n[o]==Number.MAX_VALUE){n[o]=Number.NaN}return n};this.calculate_max_object=function(a,o,m,n){var h=new Object();h[o]=-1;if(rdx.utils.is_defined(a)&&a!=null){for(i=0,end_index=a.length;i<end_index;i++){var l=o?a[i][o]:a[i];if(m){l=(Math.ceil(l)+"").length}if(l>h[o]){h=a[i]}}}if(h[o]==Number.MIN_VALUE){h[o]=Number.NaN}return h};this.calculate_percentile=function(m,l,a){if(rdx.utils.is_defined(m)){if(m.length==0){return 0}m=rdx.utils.clone_array(m).sort(function g(c,d){return l?c[l]-d[l]:c-d});var h=Math.round(Number(((a*m.length)/100)));return m[h-1][l]}};this.format_number=function(a){if(rdx.utils.is_defined(a)){var d=(a+"").indexOf(".")==-1?0:2;return Highcharts.numberFormat(a,d,rdx.chart_utils.get_decimal_separator(),rdx.chart_utils.get_grouping_separator())}};this.is_array=function(a){return rdx.utils.is_array(a)};this.get_decimal_separator=function(){return rdx.i18n.get_decimal_separator()};this.get_grouping_separator=function(){return rdx.i18n.get_grouping_separator()};this.trim_label=function(a){if(a.length>rdx.chart_constants.MAX_LABEL_LENGTH){a=a.substring(0,rdx.chart_constants.MAX_LABEL_LENGTH)+"..."}return a}};rdx.chart=function(d,e){this._parent=typeof(d)=="string"?$("#"+d):d;this._chart_div=$("<div>");this._no_data_div=$("<div>").addClass("chart_view_chart_no_data").css("display","none");this._DEFAULT_PROPERTIES={title:null,enable_legend:null,enable_legend_show_hide:false,secondary_y_axis:-1,tertiary_y_axis:-1,zoom:"",link_text:"",link_title:"",link_url:"",max_number_of_symbols:25,max_number_of_points:-1,plot_border_width:1,percentile:95,progress_image:false,type:rdx.chart_constants.LINE,use_UTC:false,point_select_callback:null,chart_click_callback:null,is_date_time_xaxis:true,categories:[],is_opposite_xaxis:false,legend_reversed:false,class_names:"chart",verticalAlign:null,floating:null,range_selector_enabled:false,navigator_enabled:false,scrollbar_enabled:false,subtitle:rdx.i18n.get_string("rdx.chart_zoom_title"),turbo_threshold:1000,tick_color:"#CCCCCC",x_axis_grid_line_style:rdx.chart_constants.SOLID,y_axis_grid_line_style:rdx.chart_constants.SOLID,x_axis_label_spacing:100,x_axis_label_enabled:true,y_axis_label_spacing:72,y_axis_line_width:1,y_axis_plot_lines:null,y_axis_grid_line_color:"#e7e7e7",y_axis_offset:0,y_axis_tick_width:1,x_axis_line_color:"#ACADAE",yaxis_data_label:false,xaxis_in_data_label:false,pie_size:"100%",show_grid:true,height:400,width:350,spacing_bottom:15,spacing_left:10,spacing_right:20,margin_left:null,margin_top:null,x_axis_label_renderer_callback:null,y_axis_label_renderer_callback:null,secondary_y_axis_label_renderer_callback:null,tertiary_y_axis_label_renderer_callback:null,on_hover_details_callback:null,on_mouse_out_callback:null,legend_width:null,legend_y_spacing:0,always_show_min_max:false,dont_show_data_on_mouse_over:false,zIndex:null,show_time_on_mouseOver:false,is_percent:false,show_percent_in_pie_tooltip:false,y_axis_series_color:false,innerSize:0,borderWidth:3,use_html:null,legend_symbol_radius:null,legend_symbol_height:12,legend_symbol_width:10,slicedOffset:20,show_key_in_label:false,title_margin:20,show_data_labels:null,yaxis_max_value:null,yaxis_min_value:0,yaxis_title:null,plot_line_width:3,fill_opacity:0.1,yaxis_grid_line_width:null,colors:["#4BABFE","#7CC900","#AC6BE1","#16C0E7","#FFCB00","#ff7f2a","#ffd332","#1bae44","#c5881c","#09c0e3","#CC5480","#ef3124","#ff6666","#9933ff","#008fc7","#6a93c7","#cc3333","#ffbe00","#993333","#006600","#990099","#ff9966","#99ff99","#9999ff","#cc6600","#33cc33","#cc99ff","#669999","#99cc66","#009999","#386398","#db4c3c","#0000ff","#00ff00","#ffcc99","#999999","#ff3333","#6666ff","#ffff00","#000000"],legend_alignment:null,legend_position:null,legend_layout:null,threshold:null,threshold_label:"",threshold_color:"ff0000",tooltip_enabled:true,on_complete_callback:null,pointWidth:"25",label_color:"#2A2723",fill_color:"#FFFFFF",attach_high_low_percentile_in_legend:false,fixed_legend_width:null,legend_title:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,e);if(this._properties.type==rdx.chart_constants.PIE){this._properties.is_date_time_xaxis=false;this._properties.plot_border_width=0}if(rdx.utils.is_defined(this._properties.no_chart_data)){this._no_data_div.append(rdx.i18n.get_string(this._properties.no_chart_data))}else{this._no_data_div.append(rdx.i18n.get_string("rdx.chart_view_no_data_to_display"))}if(rdx.utils.is_not_defined(this._properties.enable_legend)){this._properties.enable_legend=this._properties.type!=rdx.chart_constants.PIE}this._symbols_disabled=false;this._chart=null;this._percentage_y_axes=new Object();var f=this;this._legendPointClickEvent={legendItemClick:function(){if(f._properties.enable_legend_show_hide==true){return true}return false}}};rdx.chart.prototype.set_property=function(d,c){this._properties[d]=c};rdx.chart.prototype.render=function(U){if(this._properties.type==rdx.chart_constants.PIE&&U.length>1){throw rdx.i18n.get_string("rdx.chart_pie_error")}this._chart_div.addClass(this._properties.class_names);this._render_series=U;this._parent.append(this._chart_div);this._parent.append(this._no_data_div);var T={useUTC:this._properties.use_UTC};if(rdx.utils.is_defined(this._properties.timezone_offset)){T.timezoneOffset=this._properties.timezone_offset;T.useUTC=false}rdx.chart_utils.initialize_globals(T);var R=$(document.createElement("span")).data("ns_percentile",this._properties.percentile);if(this._properties.type!=rdx.chart_constants.PIE){if(rdx.utils.is_defined(this._properties.always_show_min_max)&&this._properties.always_show_min_max){var N=R.data("ns_percentile");var ah=rdx.i18n.get_string("rdx.chart_percentile");var af="";var J=this._properties.show_time_on_mouseOver;if(rdx.utils.is_defined(U)&&U.length){var ad="";if(rdx.utils.is_defined(U[0].data)&&U[0].data.length){var M=rdx.chart_utils.calculate_max_object(U[0].data,"y");var ag=rdx.chart_utils.calculate_min_object(U[0].data,"y");var S=this.format_y_axis_data(M.y);var aa=this.format_y_axis_data(ag.y);af=this.format_y_axis_data(rdx.chart_utils.calculate_percentile(U[0].data,"y",N));var V,O;V=O="";if(J&&rdx.utils.is_defined(this._properties.is_date_time_xaxis)&&this._properties.is_date_time_xaxis){V=" ("+Highcharts.dateFormat("%d %b, %l:%M %P",M.x)+") ";O=" ("+Highcharts.dateFormat("%d %b, %l:%M %P",ag.x)+") ";ad="<b>"+U[0].name+"</b> - "+rdx.i18n.get_string("rdx.chart_high")+": <b>"+S+"</b>"+V+" "+rdx.i18n.get_string("rdx.chart_low")+": <b>"+aa+"</b> "+O}else{ad="<b>"+U[0].name+"</b> - "+rdx.i18n.get_string("rdx.chart_high")+": <b>"+S+"</b> "+rdx.i18n.get_string("rdx.chart_low")+": <b>"+aa+"</b> "}ad=ad+N+"<sup>th</sup> "+ah+" <b>"+af+"</b>"}if(rdx.utils.is_defined(U[1])&&rdx.utils.is_defined(U[1].data)&&U[1].data.length){var Z=rdx.chart_utils.calculate_max_object(U[1].data,"y");var P=rdx.chart_utils.calculate_min_object(U[1].data,"y");var F=this.format_secondary_y_axis_data(Z.y);var G=this.format_secondary_y_axis_data(P.y);af=this.format_secondary_y_axis_data(rdx.chart_utils.calculate_percentile(U[1].data,"y",N));var W,Q;W=Q="";if(J&&rdx.utils.is_defined(this._properties.is_date_time_xaxis)&&this._properties.is_date_time_xaxis){W=" ("+Highcharts.dateFormat("%d %b, %l:%M %P",Z.x)+") ";Q=" ("+Highcharts.dateFormat("%d %b, %l:%M %P",P.x)+") ";ad=ad+"<br> <b>"+U[1].name+"</b> - High: <b>"+F+"</b>"+W+" Low: <b>"+G+"</b> "+Q}else{ad=ad+" <br> <b> "+U[1].name+"</b> - High: <b>"+F+"</b> Low: <b>"+G+"</b> "}ad=ad+N+"<sup>th</sup> "+ah+" <b>"+af+"</b>"}if(rdx.utils.is_defined(U[2])&&rdx.utils.is_defined(U[2].data)&&U[2].data.length){var Z=rdx.chart_utils.calculate_max_object(U[2].data,"y");var P=rdx.chart_utils.calculate_min_object(U[2].data,"y");var F=this.format_secondary_y_axis_data(Z.y);var G=this.format_secondary_y_axis_data(P.y);af=this.format_secondary_y_axis_data(rdx.chart_utils.calculate_percentile(U[2].data,"y",N));var W,Q;W=Q="";if(J&&rdx.utils.is_defined(this._properties.is_date_time_xaxis)&&this._properties.is_date_time_xaxis){W=" ("+Highcharts.dateFormat("%d %b, %l:%M %P",Z.x)+") ";Q=" ("+Highcharts.dateFormat("%d %b, %l:%M %P",P.x)+") ";ad=ad+"<br> <b>"+U[2].name+"</b> - High: <b>"+F+"</b>"+W+" Low: <b>"+G+"</b> "+Q}else{ad=ad+" <br> <b> "+U[2].name+"</b> - High: <b>"+F+"</b> Low: <b>"+G+"</b> "}ad=ad+N+"<sup>th</sup> "+ah+" <b>"+af+"</b>"}R.addClass("min_max_percentile_show_always").css("top",rdx.utils.is_defined(this._properties.title)?15:-30);R.html(ad)}}else{R.addClass("min_max_percentile").css("top",rdx.utils.is_defined(this._properties.title)?15:0)}}var ac=this;var K=(rdx.utils.is_defined(this._properties.categories)&&this._properties.categories.length>0)?this._properties.categories:this._get_categories(U);var ab={chart:{alignTicks:false,renderTo:this._chart_div.get(0),backgroundColor:"transparent",borderWidth:0,defaultSeriesType:this._properties.type,plotBorderWidth:this._properties.plot_border_width,plotBorderColor:"#E9E9E9",reflow:true,spacingBottom:this._properties.spacing_bottom,spacingLeft:this._properties.spacing_left,spacingRight:this._properties.spacing_right,marginLeft:this._properties.margin_left,marginTop:this._properties.margin_top,spacingTop:rdx.utils.is_defined(this._properties.title)?2:20,zoomType:this._properties.zoom,resetZoomButton:rdx.utils.is_defined(this._properties.reset_zoom_button)?this._properties.reset_zoom_button:null,events:{click:this._properties.chart_click_callback==null?null:function(){ac._properties.chart_click_callback.call_back([this])},selection:rdx.utils.is_defined(this._properties.selection_click_handler)?function(a){return ac._properties.selection_click_handler.call_back([a,ac])}:null},height:this._get_height(),width:rdx.utils.is_defined(this._properties.chart_width)?this._properties.chart_width:null,margin:this._properties.margin},credits:{enabled:false},legend:{title:{text:this._properties.legend_title,style:{fontStyle:"regular"}},align:rdx.utils.is_defined(this._properties.legend_alignment)?this._properties.legend_alignment:(this._properties.type==rdx.chart_constants.PIE?"right":null),verticalAlign:rdx.utils.is_defined(this._properties.legend_position)?this._properties.legend_position:(this._properties.type==rdx.chart_constants.PIE?"top":"bottom"),y:this._properties.legend_y_spacing,borderWidth:0,enabled:this._properties.enable_legend,itemStyle:{fontFamily:rdx.chart_constants.FONT_FAMILY,fontSize:"12px",fontWeight:(this._properties.type==rdx.chart_constants.STACKED_BAR||this._properties.type==rdx.chart_constants.STACKED_COLUMN)?"normal":"bold",color:this._properties.label_color,cursor:"default"},itemHoverStyle:{color:"#2A2723",cursor:"default"},reversed:this._properties.legend_reversed,lineHeight:20,symbolWidth:this._properties.legend_symbol_width,symbolHeight:this._properties.legend_symbol_height,symbolRadius:this._properties.legend_symbol_radius,useHTML:this._properties.use_html,layout:rdx.utils.is_defined(this._properties.legend_layout)?this._properties.legend_layout:(this._properties.type==rdx.chart_constants.PIE?"vertical":"horizontal"),width:rdx.utils.is_defined(this._properties.fixed_legend_width)?this._properties.fixed_legend_width:(this._properties.type==rdx.chart_constants.PIE?this._properties.legend_width:(this._properties.is_date_time_xaxis?"100%":this._properties.legend_width)),itemMarginTop:this._properties.type==rdx.chart_constants.PIE?5:0,itemMarginBottom:this._properties.type==rdx.chart_constants.PIE?5:0,labelFormatter:function(){if(ac._properties.attach_high_low_percentile_in_legend==true){var a=R.data("ns_percentile");var s=rdx.i18n.get_string("rdx.chart_percentile");var b=this.name;var d=ac._properties.show_time_on_mouseOver;var p=null;if(!(rdx.utils.is_defined(ac._properties.always_show_min_max)&&ac._properties.always_show_min_max)){if(rdx.utils.is_defined(U)&&U.length){for(var n=0,e=U.length;n<e;n++){var f=U[n]["name"];if(rdx.utils.is_defined(f)&&f==b){p=U[n]["data"];break}}}var o="";if(p.length!=0){var h=rdx.chart_utils.calculate_max_object(p,"y");var g=rdx.chart_utils.calculate_min_object(p,"y");var t=ac.format_y_axis_data(h.y);var u=ac.format_y_axis_data(g.y);var l=new Array();if(rdx.utils.is_not_empty(this.xData)&&rdx.utils.is_not_empty(this.yData)){for(var q=0;q<this.yData.length;q++){l.push({x:this.xData[q],y:this.yData[q]})}af=ac.format_y_axis_data(rdx.chart_utils.calculate_percentile(l,"y",a))}var c,m;c=m="";if(d&&rdx.utils.is_defined(ac._properties.is_date_time_xaxis)&&ac._properties.is_date_time_xaxis){c=" ("+Highcharts.dateFormat("%d %b, %l:%M %P",h.x)+") ";m=" ("+Highcharts.dateFormat("%d %b, %l:%M %P",g.x)+") ";o="<b>"+b+"</b> - "+rdx.i18n.get_string("rdx.chart_high")+": <b>"+t+"</b>"+c+" "+rdx.i18n.get_string("rdx.chart_low")+": <b>"+u+"</b> "+m}else{o="<b>"+b+"</b> - "+rdx.i18n.get_string("rdx.chart_high")+": <b>"+t+"</b> "+rdx.i18n.get_string("rdx.chart_low")+": <b>"+u+"</b> "}o=o+a+"<sup>th</sup> "+s+" <b>"+af+"</b>"}return o}}else{if(ac._properties.type==rdx.chart_constants.PIE){if(ac._properties.is_percent){return this.name+" ( "+this.y+"% ) "}else{return this.name+" ( "+ac.format_y_axis_data(this.y)+" ) "}}else{return this.name}}}},loading:{hideDuration:500,showDuration:500,labelStyle:{fontFamily:rdx.chart_constants.FONT_FAMILY,fontSize:"11px",fontWeight:"bold",color:"#2A2723",top:"50%"},style:{backgroundColor:rdx.chart_constants.BACKGROUND_COLOR,opacity:0.8}},plotOptions:{area:{fillOpacity:0.2,zIndex:this._properties.zIndex,lineWidth:rdx.utils.is_defined(this._properties.line_width)?this._properties.line_width:2,marker:{enabled:true,lineWidth:rdx.utils.is_defined(this._properties.marker_line_width)?this._properties.marker_line_width:2,radius:rdx.utils.is_defined(this._properties.marker_radius)?this._properties.marker_radius:3,symbol:rdx.chart_constants.CIRCLE_SYMBOL},events:this._legendPointClickEvent},areaspline:{lineWidth:this._properties.plot_line_width,zIndex:this._properties.zIndex,turboThreshold:this._properties.type.turbo_threshold,fillOpacity:this._properties.fill_opacity,shadow:false,marker:{symbol:rdx.chart_constants.CIRCLE_SYMBOL,enabled:true,radius:4,lineWidth:2,lineColor:"#fff"},events:this._legendPointClickEvent},bar:{minPointLength:2,zIndex:this._properties.zIndex,pointWidth:this._properties.pointWidth,shadow:false,cursor:"pointer",events:this._legendPointClickEvent},column:{minPointLength:2,zIndex:this._properties.zIndex,pointWidth:this._properties.pointWidth,shadow:false,borderWidth:this._properties.type==rdx.chart_constants.STACKED_BAR||this._properties.type==rdx.chart_constants.STACKED_COLUMN?1:0,borderRadius:this._properties.type==rdx.chart_constants.STACKED_BAR||this._properties.type==rdx.chart_constants.STACKED_COLUMN?0:4,events:this._legendPointClickEvent,cursor:"pointer",dataLabels:{enabled:this._properties.yaxis_data_label,align:"center",style:{fontWeight:"bold",color:(Highcharts.theme&&Highcharts.theme.textColor)||"gray"},formatter:function(){return this.y}}},line:{lineWidth:2,zIndex:this._properties.zIndex,shadow:false,marker:{symbol:rdx.chart_constants.CIRCLE_SYMBOL},events:this._legendPointClickEvent},pie:{point:{events:this._legendPointClickEvent},dataLabels:rdx.utils.is_defined(this._properties.show_data_labels)?this._properties.show_data_labels:{connectorPadding:4,distance:10,formatter:function(){if(rdx.utils.is_defined(this.key)){var a=this.key;if(rdx.utils.is_defined(ac._properties.data_label_renderer)){a=ac._properties.data_label_renderer.call_back([{data_label:a},"data_label"])}return a}else{return this}},enabled:rdx.utils.is_defined(this._properties.title_resource_key)?false:!this._properties.enable_legend},slicedOffset:this._properties.slicedOffset,showInLegend:this._properties.enable_legend,cursor:"pointer",size:this._properties.pie_size,shadow:false,borderWidth:this._properties.borderWidth,innerSize:this._properties.innerSize},scatter:{marker:{symbol:rdx.chart_constants.CIRCLE_SYMBOL,radius:4},events:this._legendPointClickEvent},spline:{lineWidth:3,zIndex:this._properties.zIndex,turboThreshold:this._properties.type.turbo_threshold,fillOpacity:0.1,shadow:false,marker:{symbol:rdx.chart_constants.CIRCLE_SYMBOL,enabled:true,radius:4,lineWidth:2,lineColor:"#fff"},events:this._legendPointClickEvent},series:{allowPointSelect:this._properties.point_select_callback!=null?true:false,enableMouseTracking:rdx.utils.is_defined(rdx.view_selection_from_query_string)?false:true,events:{mouseOver:(this._properties.type==rdx.chart_constants.PIE||(rdx.utils.is_defined(this._properties.dont_show_data_on_mouse_over)&&this._properties.dont_show_data_on_mouse_over))?function(){}:function(){var d=R.data("ns_percentile");var w=rdx.i18n.get_string("rdx.chart_percentile");var u="";var B=this.name;var e=ac._chart.series;var b=ac._properties.show_time_on_mouseOver;var D=null;if(!(rdx.utils.is_defined(ac._properties.always_show_min_max)&&ac._properties.always_show_min_max)){if(rdx.utils.is_defined(e)&&e.length){for(var E=0,x=e.length;E<x;E++){var p=e[E]["name"];if(rdx.utils.is_defined(p)&&p==B){D=e[E]["data"];break}}}var s="";if(E==0||(ac._properties.type==rdx.chart_constants.STACKED_AREA_SPLINE)||(ac._properties.type==rdx.chart_constants.STACKED_AREA)){var c=rdx.chart_utils.calculate_max_object(D,"y");var v=rdx.chart_utils.calculate_min_object(D,"y");var C=ac.format_y_axis_data(c.y);var q=ac.format_y_axis_data(v.y);u=ac.format_y_axis_data(rdx.chart_utils.calculate_percentile(this.data,"y",d));var f,y;f=y="";if(b&&rdx.utils.is_defined(ac._properties.is_date_time_xaxis)&&ac._properties.is_date_time_xaxis){f=" ("+Highcharts.dateFormat("%d %b, %l:%M %P",c.x)+") ";y=" ("+Highcharts.dateFormat("%d %b, %l:%M %P",v.x)+") ";s="<b>"+B+"</b> - "+rdx.i18n.get_string("rdx.chart_high")+": <b>"+C+"</b>"+f+" "+rdx.i18n.get_string("rdx.chart_low")+": <b>"+q+"</b> "+y}else{s="<b>"+B+"</b> - "+rdx.i18n.get_string("rdx.chart_high")+": <b>"+C+"</b> "+rdx.i18n.get_string("rdx.chart_low")+": <b>"+q+"</b> "}s=s+d+"<sup>th</sup> "+w+" <b>"+u+"</b>"}else{if(E==1||(ac._properties.type==rdx.chart_constants.STACKED_AREA_SPLINE)||(ac._properties.type==rdx.chart_constants.STACKED_AREA)){var l=rdx.chart_utils.calculate_max_object(D,"y");var z=rdx.chart_utils.calculate_min_object(D,"y");var ai=ac.format_secondary_y_axis_data(l.y);var aj=ac.format_secondary_y_axis_data(z.y);u=ac.format_secondary_y_axis_data(rdx.chart_utils.calculate_percentile(this.data,"y",d));var g,A;g=A="";if(b&&rdx.utils.is_defined(ac._properties.is_date_time_xaxis)&&ac._properties.is_date_time_xaxis){g=" ("+Highcharts.dateFormat("%d %b, %l:%M %P",l.x)+") ";A=" ("+Highcharts.dateFormat("%d %b, %l:%M %P",z.x)+") ";s="<b>"+B+"</b> - High: <b>"+ai+"</b>"+g+" Low: <b>"+aj+"</b> "+A}else{s="<b>"+B+"</b> - High: <b>"+ai+"</b> Low: <b>"+aj+"</b> "}s=s+d+"<sup>th</sup> "+w+" <b>"+u+"</b>"}else{if(E==2||(ac._properties.type==rdx.chart_constants.STACKED_AREA_SPLINE)||(ac._properties.type==rdx.chart_constants.STACKED_AREA)){var m=rdx.chart_utils.calculate_max_object(D,"y");var n=rdx.chart_utils.calculate_min_object(D,"y");var h=ac.format_tertiary_y_axis_data(m.y);var o=ac.format_tertiary_y_axis_data(n.y);u=ac.format_tertiary_y_axis_data(rdx.chart_utils.calculate_percentile(this.data,"y",d));var a,t;a=t="";if(b&&rdx.utils.is_defined(ac._properties.is_date_time_xaxis)&&ac._properties.is_date_time_xaxis){a=" ("+Highcharts.dateFormat("%d %b, %l:%M %P",m.x)+") ";t=" ("+Highcharts.dateFormat("%d %b, %l:%M %P",n.x)+") ";s="<b>"+B+"</b> - High: <b>"+h+"</b>"+a+" Low: <b>"+o+"</b> "+t}else{s="<b>"+B+"</b> - High: <b>"+h+"</b> Low: <b>"+o+"</b> "}s=s+d+"<sup>th</sup> "+w+" <b>"+u+"</b>"}}}R.html(s)}},mouseOut:function(){if(!(rdx.utils.is_defined(ac._properties.always_show_min_max)&&ac._properties.always_show_min_max)){R.html("")}if(rdx.utils.is_defined(ac._properties.on_mouse_out_callback)){ac._properties.on_mouse_out_callback.call_back()}}},zIndex:this._properties.z_index,marker:{enabled:this._properties.enable_marker?this._properties.enable_marker:this._enable_symbols(U),fillColor:this._properties.fill_color,lineWidth:rdx.utils.is_defined(this._properties.marker_line_width)?this._properties.marker_line_width:(this._properties.type==rdx.chart_constants.AREA_SPLINE||this._properties.type==rdx.chart_constants.STACKED_AREA_SPLINE?2:1),lineColor:this._properties.type==rdx.chart_constants.AREA_SPLINE||this._properties.type==rdx.chart_constants.STACKED_AREA_SPLINE?"#fff":null,radius:rdx.utils.is_defined(this._properties.marker_radius)?this._properties.marker_radius:3,states:{hover:{enabled:true}}},point:{events:{click:this._properties.point_select_callback==null?null:function(){ac._properties.point_select_callback.call_back([this])}}},stickyTracking:false,states:{hover:{enabled:this._properties.tooltip_enabled}}}},symbols:[rdx.chart_constants.TRIANGLE_SYMBOL,rdx.chart_constants.SQUARE_SYMBOL,rdx.chart_constants.DIAMOND_SYMBOL,rdx.chart_constants.CIRCLE_SYMBOL,rdx.chart_constants.TRANGLE_DOWN_SYMBOL],title:{margin:rdx.utils.is_defined(this._properties.title_margin)?this._properties.title_margin:20,style:{fontFamily:rdx.chart_constants.FONT_FAMILY,fontSize:rdx.utils.is_defined(this._properties.title_font_size)?this._properties.title_font_size:"14px",color:this._properties.label_color},text:this._properties.center_title,verticalAlign:this._properties.verticalAlign,floating:this._properties.floating},tooltip:{useHTML:true,borderWidth:0,backgroundColor:"rgba(255,255,255,0)",shadow:false,enabled:this._properties.tooltip_enabled,formatter:function(){var g=this.series.type==rdx.chart_constants.PIE||this.series.type==rdx.chart_constants.STACKED_COLUMN||this.series.type==rdx.chart_constants.STACKED_BAR?this.point.color:this.series.color,b="";if(ac._properties.is_date_time_xaxis){b="<span class='chart_tooltip_time'>"+Highcharts.dateFormat("%d %b, %l:%M %P",this.x)+"</span> <br>"}if((ac._properties.type==rdx.chart_constants.STACKED_BAR)||(ac._properties.type==rdx.chart_constants.STACKED_COLUMN)){b+="<b>"+this.x+"<br/><span class='point_name' style='color: "+g+"'>"+this.series.name+"</b> : "}if(ac._properties.xaxis_in_data_label&&ac._properties.type==rdx.chart_constants.COLUMN){b+=this.x+"<span class='point_name'> : "}var c=this.series.name;var d=ac._chart.series;var e=0;if(rdx.utils.is_defined(d)&&d.length){for(e=0,L=d.length;e<L;e++){var a=d[e]["name"];if(rdx.utils.is_defined(a)&&a==c){break}}}if(e==0||(ac._properties.secondary_y_axis<0&&ac._properties.tertiary_y_axis<0)||ac._properties.type==rdx.chart_constants.STACKED_AREA_SPLINE||ac._properties.type==rdx.chart_constants.STACKED_AREA||ac._properties.type==rdx.chart_constants.STACKED_BAR||ac._properties.type==rdx.chart_constants.STACKED_COLUMN||(ac._properties.xaxis_in_data_label&&ac._properties.type==rdx.chart_constants.COLUMN)){if(ac._properties.is_percent){b+="</span><span class='point_value' style='color: "+g+"'> "+this.y+"%</span>"}else{if(ac._properties.show_percent_in_pie_tooltip&&ac._properties.type==rdx.chart_constants.PIE){b+="</span><span class='point_value' style='color: "+g+"'> "+ac.format_y_axis_data(this.y)+" ("+rdx.chart_utils.format_number(this.percentage)+"%)</span>"}else{if(rdx.utils.is_defined(ac._properties.y_axis_label_renderer_callback)&&ac._properties.type==rdx.chart_constants.PIE){b+="</span><span class='point_value' style='color: "+g+"'> "+ac.get_y_axis_label_with_key(this)+"</span>"}else{b+="</span><span class='point_value' style='color: "+g+"'> "+ac.format_y_axis_data(this.y)+"</span>"}}}}else{if(e==1||ac._properties.type==rdx.chart_constants.STACKED_AREA_SPLINE||ac._properties.type==rdx.chart_constants.STACKED_AREA||ac._properties.type==rdx.chart_constants.STACKED_BAR||ac._properties.type==rdx.chart_constants.STACKED_COLUMN||(ac._properties.xaxis_in_data_label&&ac._properties.type==rdx.chart_constants.COLUMN)){if(ac._properties.is_percent){b+="</span><span class='point_value' style='color: "+g+"'> "+this.y+"%</span>"}else{b+="</span><span class='point_value' style='color: "+g+"'> "+ac.format_secondary_y_axis_data(this.y)+"</span>"}}else{if(e==2||ac._properties.type==rdx.chart_constants.STACKED_AREA_SPLINE||ac._properties.type==rdx.chart_constants.STACKED_AREA||ac._properties.type==rdx.chart_constants.STACKED_BAR||ac._properties.type==rdx.chart_constants.STACKED_COLUMN||(ac._properties.xaxis_in_data_label&&ac._properties.type==rdx.chart_constants.COLUMN)){if(ac._properties.is_percent){b+="</span><span class='point_value' style='color: "+g+"'> "+this.y+"%</span>"}else{b+="</span><span class='point_value' style='color: "+g+"'> "+ac.format_tertiary_y_axis_data(this.y)+"</span>"}}}}if(rdx.utils.is_defined(ac._render_series[e])&&rdx.utils.is_defined(ac._render_series[e].tooltip_renderer_callback)){b=ac._render_series[e].tooltip_renderer_callback.call_back([this.x])}var f="<div class='chart_tooltip'><span class='holder'></span>"+b+"</div>";if(rdx.utils.is_defined(ac._properties.on_hover_details_callback)){ac._properties.on_hover_details_callback.call_back([this.x,this.series.index])}return f},shared:false,positioner:rdx.utils.is_defined(this._properties.tooltip_positioner)?function(b,a,c){return ac._properties.tooltip_positioner.call_back([b,a,c,ac._chart])}:null},xAxis:{allowDecimals:false,categories:K,gridLineColor:"#E9E9E9",gridLineWidth:this._properties.show_grid?1:0,gridLineDashStyle:(rdx.utils.is_defined(this._properties.x_axis_grid_line_style))?this._properties.x_axis_grid_line_style:rdx.chart_constants.LONG_DASH,labels:{enabled:this._properties.x_axis_label_enabled,useHTML:true,rotation:this._properties.x_axis_label_rotation,style:{fontFamily:rdx.chart_constants.FONT_FAMILY,fontSize:"11px",color:this._properties.label_color},formatter:ac._properties.is_date_time_xaxis==true?null:function(){var a=this.value;var b=this.value;if(rdx.utils.is_defined(ac._properties.x_axis_label_renderer_callback)){a=ac._properties.x_axis_label_renderer_callback.call_back([{x_axis_label:a},"x_axis_label"])}a=rdx.chart_utils.trim_label(a);a="<span id='xtooltip' title='"+b+"'>"+a+"</span>";return a}},lineColor:this._properties.x_axis_line_color,lineWidth:1,opposite:(this._properties.type==rdx.chart_constants.BAR||this._properties.type==rdx.chart_constants.STACKED_BAR)?false:this._properties.is_opposite_xaxis,tickColor:this._properties.tick_color,tickPixelInterval:this._properties.x_axis_label_spacing,type:this._properties.is_date_time_xaxis?"datetime":"linear"},yAxis:[{offset:this._properties.y_axis_offset,allowDecimals:false,gridLineColor:this._properties.y_axis_grid_line_color,gridLineWidth:rdx.utils.is_defined(this._properties.yaxis_grid_line_width)?this._properties.yaxis_grid_line_width:(this._properties.show_grid?1:0),gridLineDashStyle:this._properties.y_axis_grid_line_style,labels:{enabled:true,style:{fontFamily:rdx.chart_constants.FONT_FAMILY,fontSize:"11px",color:this._properties.y_axis_series_color?this._properties.colors[0]:this._properties.label_color},formatter:function(){return ac.format_y_axis_data(this.value,true)}},lineColor:this._properties.y_axis_series_color?this._properties.colors[0]:"#ACADAE",lineWidth:this._properties.y_axis_line_width,opposite:(this._properties.type==rdx.chart_constants.BAR||this._properties.type==rdx.chart_constants.STACKED_BAR)?this._properties.is_opposite_xaxis:false,tickColor:"#CCCCCC",tickPixelInterval:this._properties.y_axis_label_spacing,tickWidth:this._properties.y_axis_tick_width,title:{text:this._properties.yaxis_title?this._properties.yaxis_title:null},stackLabels:{enabled:this._properties.type==rdx.chart_constants.STACKED_BAR||this._properties.type==rdx.chart_constants.STACKED_COLUMN?true:false,style:{fontWeight:"bold",color:(Highcharts.theme&&Highcharts.theme.textColor)||"gray"},formatter:function(){return this.total}},min:this._properties.yaxis_min_value,max:this._properties.yaxis_max_value,minRange:0.1}],scrollbar:{enabled:this._properties.scrollbar_enabled},navigator:{enabled:this._properties.navigator_enabled},subtitle:{text:this._properties.scrollbar_enabled?this._properties.subtitle:null},rangeSelector:{enabled:this._properties.range_selector_enabled?true:false}};ab.colors=rdx.utils.is_defined(this._properties.overridden_colors)?this._properties.overridden_colors:this._properties.colors;if(rdx.utils.is_defined(this._properties.plot_two_axis)&&this._properties.plot_two_axis==true){ab.yAxis.push({allowDecimals:true,gridLineColor:"#e7e7e7",gridLineWidth:this._properties.show_grid?1:0,labels:{enabled:true,style:{fontFamily:rdx.chart_constants.FONT_FAMILY,fontSize:"11px",color:this._properties.y_axis_series_color?this._properties.colors[0]:this._properties.label_color},formatter:function(){return ac.format_secondary_y_axis_data(this.value,true)}},lineColor:this._properties.y_axis_series_color?this._properties.colors[0]:"#000000",lineWidth:this._properties.y_axis_line_width,opposite:(this._properties.type==rdx.chart_constants.BAR||this._properties.type==rdx.chart_constants.STACKED_BAR)?this._properties.is_opposite_xaxis:false,tickColor:"#CCCCCC",tickPixelInterval:this._properties.y_axis_label_spacing,tickWidth:1,title:{text:this._properties.yaxis_title?this._properties.yaxis_title:null},stackLabels:{enabled:this._properties.type==rdx.chart_constants.STACKED_BAR||this._properties.type==rdx.chart_constants.STACKED_COLUMN?true:false,style:{fontWeight:"bold",color:(Highcharts.theme&&Highcharts.theme.textColor)||"gray"},formatter:function(){return this.total}},min:this._properties.yaxis_min_value,max:this._properties.yaxis_max_value,minRange:0.1,opposite:true})}if(rdx.utils.is_defined(this._properties.threshold)){this._add_threshold_line(ab,U)}ab.series=this._prune_series(U);this._process_series_types(U);if(this._properties.secondary_y_axis>=0&&this._properties.secondary_y_axis<U.length){var I=this._properties.secondary_y_axis;var ae=ab.colors[I%ab.colors.length];ab.yAxis.push({allowDecimals:false,gridLineColor:"#CCCCCC",gridLineWidth:0,labels:{style:{fontFamily:rdx.chart_constants.FONT_FAMILY,fontSize:"11px",color:ae},formatter:function(){return ac.format_secondary_y_axis_data(this.value,true)}},lineColor:ae,lineWidth:this._properties.y_axis_line_width,opposite:(this._properties.type==rdx.chart_constants.BAR)?!(ab.yAxis[0].opposite):true,tickColor:"#CCCCCC",tickPixelInterval:this._properties.y_axis_label_spacing,tickWidth:1,title:{text:null}});ab.series[I].yAxis=1;this._check_and_set_percentage_axis(ab.series[I],ab.yAxis[1],1)}if(this._properties.tertiary_y_axis>=0&&this._properties.tertiary_y_axis<U.length){var I=this._properties.tertiary_y_axis;var ae=ab.colors[I%ab.colors.length];ab.yAxis.push({allowDecimals:false,gridLineColor:"#CCCCCC",gridLineWidth:0,labels:{style:{fontFamily:rdx.chart_constants.FONT_FAMILY,fontSize:"11px",color:ae},formatter:function(){return ac.format_tertiary_y_axis_data(this.value,true)}},lineColor:ae,lineWidth:this._properties.y_axis_line_width,opposite:(this._properties.type==rdx.chart_constants.BAR)?!(ab.yAxis[0].opposite):true,tickColor:"#CCCCCC",tickPixelInterval:this._properties.y_axis_label_spacing,tickWidth:1,title:{text:null}});ab.series[I].yAxis=2;this._check_and_set_percentage_axis(ab.series[I],ab.yAxis[2],2)}this._check_and_set_percentage_axis(U,ab.yAxis[0],0);if(rdx.utils.is_defined(this._properties.sparkline_charts)&&this._properties.sparkline_charts){this._parent.addClass("sparkline_charts")}this._chart=rdx.utils.is_defined(this._properties.on_complete_callback)?new Highcharts.Chart(ab,this._properties.on_complete_callback):new Highcharts.Chart(ab);if(rdx.utils.is_defined(this._properties.render_zoom_button_callback)){this.reset_button_dom=this._properties.render_zoom_button_callback.call_back([this._chart_div]);if(rdx.utils.is_not_empty(this.reset_button_dom)){$(this.reset_button_dom).bind(rdx.events.CLICK,{chart:this},function(a){a.data.chart._properties.reset_button_clicked=true;a.data.chart._chart.zoomOut()})}}if(rdx.utils.is_array(this._properties.y_axis_plot_lines)){for(var H=0,L=this._properties.y_axis_plot_lines.length;H<L;H++){this.add_plot_line(this._properties.y_axis_plot_lines[H])}}this._redraw_and_avoid_negatives(false);if(this._properties.link_text&&this._properties.link_url){this._chart_div.append($(document.createElement("a")).attr("href",this._properties.link_url).attr("target","_blank").attr("title",this._properties.link_title).addClass("link").append(this._properties.link_text))}if(this._properties.progress_image){this._chart_div.append($("<img id='progress_image'>").attr("src",rdx.images.SPACER_IMG).addClass("progress_image"))}this._chart_div.append(R);return this};rdx.chart.prototype._get_height=function(){return rdx.utils.is_defined(this._properties.height)?((this._properties.height<this._parent.height()||this._parent.height()<100)?this._properties.height:this._parent.height()):this._parent.height()};rdx.chart.prototype.add_points=function(h,g){if(!this._chart.series){return}var l=this._chart.series;if(l.length!=h.length){throw rdx.i18n.get_string("rdx.chart_series_error")}if(rdx.utils.is_not_defined(g)){g=this._properties.max_number_of_points!=-1&&this._properties.max_number_of_points<=this._calculate_number_of_points(l)}for(var m=0,f=l.length;m<f;m++){if(rdx.utils.is_defined(h[m])){l[m].addPoint(h[m],false,g)}}if(!this._symbols_disabled&&!this._enable_symbols(l)){for(var m=0,f=l.length;m<f;m++){l[m].options.marker.enabled=false}this._symbols_disabled=true}this.set_size();this._redraw_and_avoid_negatives(true)};rdx.chart.prototype.set_data=function(h,l,g){if(!this._chart.series){return}if(rdx.utils.is_defined(g)){this._chart.xAxis[0].setCategories(g,false)}if(rdx.utils.is_defined(this._properties.threshold)){this._add_threshold_line(this._chart.options,h)}for(var m=0,f=this._chart.series.length;m<f;m++){this._chart.series[m].setData(rdx.utils.is_defined(h[m])?h[m].data:null,false);if(rdx.utils.is_defined(h[m])&&rdx.utils.is_defined(h[m].name)&&!this._properties.is_date_time_xaxis){this._chart.series[m].name=h[m].name}}this._redraw_and_avoid_negatives(true);if(rdx.utils.is_defined(l)&&l==true){this.set_size()}if(rdx.utils.is_defined(this._title_response_str)){this._chart.setTitle({text:this._title_response_str+"%"})}};rdx.chart.prototype.set_title_response_str=function(b){this._title_response_str=b};rdx.chart.prototype._redraw_and_avoid_negatives=function(h){if(h){this.redraw()}var n=this._chart.yAxis;var l=false;for(var o=0,g=n.length;o<g;o++){if(this._percentage_y_axes[o]){continue}var m=n[o].getExtremes();if(rdx.utils.is_not_defined(m.min,m.dataMin)){continue}if(m.min<0&&m.dataMin>=0){n[o].setExtremes(0,null,false);l=true}if(m.min==0){if(m.dataMin-10>0||m.dataMin<0){n[o].setExtremes(null,null,false);l=true}}}if(l){this.redraw()}};rdx.chart.prototype.redraw=function(){var b=window.scrollY;this._chart.redraw();window.scrollTo(0,b)};rdx.chart.prototype.reflow=function(){this._chart.reflow()};rdx.chart.prototype.show_hide_loading=function(b){if(b){this._chart.showLoading()}else{this._chart.hideLoading()}};rdx.chart.prototype.get_chart=function(){return this._chart};rdx.chart.prototype.set_size=function(f,d){if(rdx.utils.is_not_defined(f)){f=this._chart_div.width()}if(rdx.utils.is_not_defined(d)){d=this._chart_div.height()}if(d==0){d=this._properties.height}if(f==0){f=this._properties.width}var e=window.scrollY;this._chart.setSize(f,d);window.scrollTo(0,e)};rdx.chart.prototype.set_extremes=function(g,f,e){var h=(rdx.utils.is_defined(e)&&(e==true))?1:0;this._chart.yAxis[h].setExtremes(g,f)};rdx.chart.prototype.add_plot_line=function(h,f){if(rdx.utils.is_not_defined(h)){return}if(rdx.utils.is_not_defined(h.width)){h.width=1}if(rdx.utils.is_not_defined(h.zIndex)){h.zIndex=3}var e=null;if(rdx.utils.is_defined(f)&&f){e=this._chart.yAxis[1]}else{e=this._chart.yAxis[0]}var g=e.getExtremes();if(g.max<=h.value){this.set_extremes(null,h.value,f)}e.addPlotLine(h)};rdx.chart.prototype.destroy=function(){this._chart.destroy()};rdx.chart.prototype._calculate_number_of_points=function(b){return b.length>0?b[0].data.length:0};rdx.chart.prototype._enable_symbols=function(b){return(this._calculate_number_of_points(b)<=this._properties.max_number_of_symbols)};rdx.chart.prototype._prune_series=function(h){for(var e=0,f=h.length;e<f;e++){var g=h[e].data;if(g&&this._properties.max_number_of_points!=-1&&g.length>this._properties.max_number_of_points){g.splice(0,g.length-this._properties.max_number_of_points)}}return h};rdx.chart.prototype._process_series_types=function(h){for(var e=0,f=h.length;e<f;e++){var g=this._properties.type;if(h[e].type){g=h[e].type}switch(g){case rdx.chart_constants.STACKED_BAR:h[e].type=rdx.chart_constants.BAR;h[e].stacking=rdx.chart_constants.STACKING;break;case rdx.chart_constants.STACKED_COLUMN:h[e].type=rdx.chart_constants.COLUMN;h[e].stacking=rdx.chart_constants.STACKING;break;case rdx.chart_constants.STACKED_AREA:h[e].type=rdx.chart_constants.AREA;h[e].stacking=rdx.chart_constants.STACKING;break;case rdx.chart_constants.STACKED_AREA_SPLINE:h[e].type=rdx.chart_constants.AREA_SPLINE;h[e].stacking=rdx.chart_constants.STACKING;break;case rdx.chart_constants.STEP_LINE:h[e].type=rdx.chart_constants.LINE;h[e].step=true;break}}};rdx.chart.prototype.get_high_low_percentile_for_chart=function(){var v=null;var y=this._chart.series;for(var x=0,s=y.length;x<s;x++){var B=rdx.chart_utils.calculate_max_object(y[x].data,"y");var z=rdx.chart_utils.calculate_min_object(y[x].data,"y");var u=null;var p=null;var t=null;var q=null;var A=null;if(x==0){v=new Array();u=this.format_y_axis_data(B.y);p=this.format_y_axis_data(z.y);t=this.format_y_axis_data(rdx.chart_utils.calculate_percentile(y[x].data,"y",this._properties.percentile))}else{if(x==1){u=this.format_secondary_y_axis_data(B.y);p=this.format_secondary_y_axis_data(z.y);t=this.format_secondary_y_axis_data(rdx.chart_utils.calculate_percentile(y[x].data,"y",this._properties.percentile))}else{if(x==2){u=this.format_tertiary_y_axis_data(B.y);p=this.format_tertiary_y_axis_data(z.y);t=this.format_tertiary_y_axis_data(rdx.chart_utils.calculate_percentile(y[x].data,"y",this._properties.percentile))}}}if(rdx.utils.is_defined(this._properties.is_date_time_xaxis)&&this._properties.is_date_time_xaxis){q=" ("+Highcharts.dateFormat("%d %b, %l:%M %P",B.x)+") ";A=" ("+Highcharts.dateFormat("%d %b, %l:%M %P",z.x)+") "}var w={};w.max_value=u;w.max_time=q;w.min_value=p;w.min_time=A;w.percentile_value=t;w.series_name=y[x].name;v.push(w)}return v};rdx.chart.prototype._check_and_set_percentage_axis=function(m,h,l){this._percentage_y_axes[l]=false;if(rdx.chart_utils.is_array(m)){for(var f=0,g=m.length;f<g;f++){if(m[f].yAxis!=1&&!this._is_percentage_series(m[f])){return}}}else{if(!this._is_percentage_series(m)){return}}h.min=0;h.max=100;this._percentage_y_axes[l]=true};rdx.chart.prototype._is_percentage_series=function(b){if(b.stacking==rdx.chart_constants.STACKING){return false}if(rdx.utils.is_not_defined(b.percentage_axis)&&rdx.utils.is_defined(b.name)){return b.name.match(/ \(%\)$/i)||b.name.match(/_usage_pcnt$/i)}return b.percentage_axis};rdx.chart.prototype._get_categories=function(m){var h=null;if(!this._properties.is_date_time_xaxis&&this._properties.type!=rdx.chart_constants.PIE){h=new Array();for(var n=0,l=m.length;n<l;n++){for(var g=0,o=m[n].data.length;g<o;g++){if(rdx.utils.is_defined(m[n].data[g].name)){h[g]=m[n].data[g].name}}}}if(rdx.utils.is_not_defined(h)||h.length==0){return null}return h};rdx.chart.prototype.get_y_axis_label_with_key=function(d){if(rdx.utils.is_defined(this._properties.y_axis_label_renderer_callback)){var c=this._properties.y_axis_label_renderer_callback;return c.call_back([d])}};rdx.chart.prototype.format_y_axis_data=function(d,e){if(rdx.utils.is_defined(this._properties.y_axis_label_renderer_callback)){var f=this._properties.y_axis_label_renderer_callback;if(rdx.utils.is_defined(e)&&e==true){return f.call_back([{y_axis_label:d,is_y_axis_label:true},"y_axis_label"])}else{return f.call_back([{y_axis_label:d},"y_axis_label"])}}else{if(this._properties.type==rdx.chart_constants.STACKED_COLUMN||this._properties.type==rdx.chart_constants.STACKED_BAR){return d}else{return rdx.chart_utils.format_number(d)}}};rdx.chart.prototype.format_secondary_y_axis_data=function(d,e){if(rdx.utils.is_defined(this._properties.secondary_y_axis_label_renderer_callback)){var f=this._properties.secondary_y_axis_label_renderer_callback;if(rdx.utils.is_defined(e)&&e==true){return f.call_back([{y_axis_label:d,is_y_axis_label:true},"y_axis_label"])}else{return f.call_back([{y_axis_label:d},"y_axis_label"])}}else{return rdx.chart_utils.format_number(d)}};rdx.chart.prototype.format_tertiary_y_axis_data=function(d,e){if(rdx.utils.is_defined(this._properties.tertiary_y_axis_label_renderer_callback)){var f=this._properties.tertiary_y_axis_label_renderer_callback;if(rdx.utils.is_defined(e)&&e==true){return f.call_back([{y_axis_label:d,is_y_axis_label:true},"y_axis_label"])}else{return f.call_back([{y_axis_label:d},"y_axis_label"])}}else{return rdx.chart_utils.format_number(d)}};rdx.chart.prototype._add_threshold_line=function(f,m){var g=[{label:{text:rdx.i18n.get_string(this._properties.threshold_label),x:5},color:this._properties.threshold_color,width:2,value:this._properties.threshold,dashStyle:"solid"}];f.yAxis[0]["plotLines"]=g;var h=rdx.chart_view.prototype.get_peak_value(m);var l=((this._properties.threshold>h)?this._properties.threshold:h)*1.25;if(this._properties.type==rdx.chart_constants.STACKED_AREA_SPLINE||this._properties.type==rdx.chart_constants.AREA_SPLINE){f.yAxis[0]["max"]=l}else{if(rdx.utils.is_defined(this._chart)){this._chart.yAxis[0].setExtremes(null,l,false)}else{f.yAxis[0]["max"]=l}}};rdx.ribbon=function(e,h,f){this._parent=typeof(e)=="string"?$("#"+e):e;this._actions=h;this._buttons_div=$("<div>");var g={class_names:"ribbon",add_scroller:false,add_separator:false,allow_selection:false,image_placement:"left",align:"left",add_buttons:false,action_label:"rdx.action"};this._properties=$.extend({},g,f);this._current_scroll=0;this._enable_border=0;this._ribbon_table=null;this._ribbon_div=null;this._ribbon_items_row=null;this._navigate_left_cell=null;this._navigate_right_cell=null;this._children=null;this._dropdown_list=null;this._standalone_actions=[];this._action_label=rdx.i18n.get_string(this._properties.action_label);this._select_action_label=rdx.i18n.get_string("rdx.select_action");this._border_spacing_from_css=4;this._animate_time=1200};rdx.ribbon.prototype.render=function(){this._ribbon_div=$("<div>").addClass("ribbon_div");this._create_ribbon_items();this._parent.append(this._ribbon_div);this._children=this._ribbon_div.children("div");return this};rdx.ribbon.prototype.get_height=function(){return this._ribbon_div.outerHeight(true)};rdx.ribbon.prototype._scroll=function(m){var h=m?this._current_left:this._current_right;var g=0;if(!m){for(var f=this._current_scroll;f<this._children.length;f++){if(this._ribbon_div.width()<=(g+$(this._children[f]).outerWidth(true))){this._current_scroll=f;break}g=g+$(this._children[f]).outerWidth(true)+this.get_scroll_width()}}else{for(var f=this._current_scroll;f>=0;f--){if(this._ribbon_div.width()<=(g+$(this._children[f]).outerWidth(true))){this._current_scroll=f;break}g=g+$(this._children[f]).outerWidth(true)+this.get_scroll_width()}}if(m){this._ribbon_div.animate({scrollLeft:this._ribbon_div.scrollLeft()-g},this._animate_time)}else{this._ribbon_div.animate({scrollLeft:this._ribbon_div.scrollLeft()+g},this._animate_time)}var l=this;setTimeout(function(){l._show_hide_scroll()},(this._animate_time+10))};rdx.ribbon.prototype._create_ribbon_items=function(){this._ribbon_items_row=$("<tr>");this._dropdown_actions=[];var h=[];for(var e=0,f=this._actions.length;e<f;e++){var g=this._actions[e];if(this._properties.add_buttons==true&&g.get_action_type()==rdx.EXTRA_ACTION){this._dropdown_actions.push(g)}else{h.push(g)}}this._render_actions(h,this._dropdown_actions);this._ribbon_table=$("<table>").addClass("ribbon_items_table").attr("border",this._enable_border).attr("cellPadding",0).attr("cellSpacing",0).addClass(this._properties.class_names).append(this._ribbon_items_row);if(this._properties.allow_selection){this._ribbon_table.addClass("ribbon_items_selectable_table")}return this._ribbon_table};rdx.ribbon.prototype._render_actions=function(t,B){for(var C=0;C<t.length;C++){var u=$("<div>").addClass("rdx_display_inline");var A=$("<div>").addClass("ribbon_label_div");var E=t[C];var D="";if(this._properties.add_buttons==true){var y=new rdx.form_field({properties:{add_grey_button:true,grey_button_click_handler_callback:new rdx.callback(this,this._handle_click,[u,E]),grey_button_label:E.get_label(),grey_button_tooltip:E.get_tooltip()}});if(E.get_label()==rdx.i18n.get_string("rdx.button_bind")){y=new rdx.form_field({properties:{add_bind_button:true,bind_button_click_handler_callback:new rdx.callback(this,this._handle_click,[u,E]),bind_button_label:E.get_label(),bind_button_tooltip:E.get_tooltip()}})}if(E.get_button_type()==rdx.TAB_BUTTON){y=new rdx.form_field({properties:{add_tab_button:true,tab_button_click_handler_callback:new rdx.callback(this,this._handle_click,[u,E]),tab_button_label:E.get_label(),tab_button_tooltip:E.get_tooltip(),tab_button_state:E.get_action_state(),tab_button_class:E.get_class_names()}})}if(E.get_button_type()==rdx.BLUE_BUTTON){y=new rdx.form_field({properties:{add_blue_button:true,blue_button_click_handler_callback:new rdx.callback(this,this._handle_click,[u,E]),blue_button_label:E.get_label(),blue_button_tooltip:E.get_tooltip(),blue_button_state:E.get_action_state()}})}if(E.get_button_type()==rdx.LINK){y=new rdx.form_field({properties:{add_link:true,link_click_handler_callback:new rdx.callback(this,this._handle_click,[u,E]),link_label:E.get_label(),link_tooltip:E.get_tooltip(),link_state:E.get_action_state()}})}var w=new rdx.button_bar(u,y).render();this._standalone_actions.push({container:w,action:E});A.addClass("ribbon_button_wrapper");E.set_reset_action_callback(new rdx.callback(function(a){if(rdx.utils.is_defined(a)){a.reset_button()}},[w]))}else{u.addClass("rdx_ribbon_toolbar_padding");if(rdx.utils.is_defined(E.get_image_url())){u.append($("<img>").addClass("ribbon_toolbar_buttons").attr("src",E.get_image_url()).attr("alt",E.get_tooltip()));D=E.get_tooltip()}else{if(rdx.utils.is_not_empty(E.get_label())){u.append(E.get_label());D=E.get_label()}else{if(rdx.utils.is_not_empty(E.get_initial_class_names())){u.addClass(E.get_initial_class_names())}}}if(rdx.utils.is_defined(E.get_tooltip())){u.attr("title",E.get_tooltip())}if(rdx.utils.is_defined(E._properties.conditional_action)){if(rdx.utils.is_defined(E._properties.conditional_action.callback)){var z=function(c){if(c){var b=$("img[alt='"+E.get_tooltip()+"']"),a=rdx.i18n.get_string(E._properties.conditional_action.tooltip);if(rdx.utils.is_defined(b)){b.attr("src",E._properties.conditional_action.image_url);b.attr("alt",a);u.attr("title",a);D=a}}};E._properties.conditional_action.callback.call_back([new rdx.callback(z)])}}u.bind(rdx.events.CLICK,{ribbon:this,action:E},function(a){a.data.action._properties.cell=u;a.data.ribbon._handle_click(a,$(this),a.data.action)})}var x=t.length;if(this._properties.add_buttons==false&&C!=x-1){u.addClass("separator")}else{if(C==x-1&&t.length>0&&B.length>0){u.addClass("separator")}}if(t[C].get_properties().button_type==rdx.BLUE_BUTTON&&B.length>0){u.addClass("separator")}u.wrapInner(A);this._ribbon_items_row.append(u);this._ribbon_div.append(u);if(rdx.utils.is_instrumentation_enabled()){var F=rdx.utils.get_view_title();if(D){u.attr("id",F+"-ribbon-"+D.replace(/\ /g,"_"))}}}if(B.length>0){var u=$("<div>").addClass("rdx_display_inline rdx_action_btn_padding");var A=$("<div>").addClass("ribbon_label_div").addClass("ribbon_list_wrapper");var v=[this._select_action_label];for(var H=0;H<B.length;H++){v.push(B[H].get_label())}this._dropdown_list=new rdx.list(u,new rdx.form_field({formatter:{map:v},mandatory:true,properties:{size:1}})).render();var G=$("<span>").addClass("ribbon_dropdown_list").append(this._action_label);this._dropdown_list.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._handle_click,[u,B,this._dropdown_list,G]));if(rdx.i18n.get_string("rdx.action")===this._action_label){A.addClass("action")}u.append(G);u.wrapInner(A);this._ribbon_items_row.append(u);this._ribbon_div.append(u)}};rdx.ribbon.prototype._handle_click=function(m,g,h,l){if(jquery_currentMenu.cmenu){jquery_currentMenu.cmenu.hide();jquery_currentMenu.cmenu.hideAll(jquery_currentMenu.cmenu,true)}if(rdx.utils.is_function(m.is_disabled)&&m.is_disabled()){return}if(rdx.utils.is_array(h)){for(var f=0;f<h.length;f++){if(h[f].get_label()==l.get_data()){h[f].perform_action();l.set_data(this._select_action_label)}if(rdx.utils.is_function(m.get_button_state)&&m.get_button_state()){h.set_action_state(m.get_button_state())}}}else{if(rdx.utils.is_function(m.get_button_state)&&m.get_button_state()){h.set_action_state(m.get_button_state())}h.perform_action(g)}};rdx.ribbon.prototype._show_hide_scroll=function(){var d=this._ribbon_div.scrollLeft()==0;var c=(this._ribbon_div.scrollLeft()+this._ribbon_div.outerWidth(true))>=this._ribbon_items_row.outerWidth(true);if(d){this._navigate_left_cell.addClass("disabled");this._current_scroll=0}else{this._navigate_left_cell.removeClass("disabled")}if(c){this._navigate_right_cell.addClass("disabled");this._current_scroll=this._children.length-1}else{this._navigate_right_cell.removeClass("disabled")}if(d&&c){this._navigate_left_cell.hide();this._navigate_right_cell.hide()}else{this._navigate_left_cell.show();this._navigate_right_cell.show()}};rdx.ribbon.prototype.refresh_state=function(e){var g=this._standalone_actions;for(var f=0;f<g.length;f++){if(g[f]["action"].is_enabled(e)){g[f]["container"].enable()}else{g[f]["container"].disable()}}if(rdx.utils.is_defined(this._dropdown_actions)&&this._dropdown_actions.length>0&&this._properties.add_buttons==true){var h=[this._select_action_label];for(var f=0;f<this._dropdown_actions.length;f++){if(this._dropdown_actions[f].is_enabled(e)){h.push(this._dropdown_actions[f].get_label())}}if(h.length==1){h=[];h.push(rdx.i18n.get_string("rdx.no_action"))}this._dropdown_list.add_data_items(h,true)}};rdx.ribbon.prototype.get_scroll_width=function(){return 0};rdx.ribbon.prototype.get_page_change_img_width=function(){return 26};rdx.context_menu=function(h,e,g,f){this._parent=typeof(h)=="string"?$("#"+h):h;this._action_properties=e;this._data=rdx.utils.is_defined(f)&&rdx.utils.is_defined(f.data)?f.data:null;this._data_fetch_callback=g;this._menu_items=new Array();this._DEFAULT_PROPERTIES={menu_event:null,show:false};this._properties=$.extend(true,this._DEFAULT_PROPERTIES,f)};rdx.context_menu.prototype.build_menu=function(){if(!rdx.CONTEXT_MENU){return}for(var e=0,h=this._action_properties.length;e<h;e++){var f=this._action_properties[e];this._menu_items.push(this.get_menu_item_object(f))}var g=this;this._parent.contextMenu(this._menu_items,{setEnableDisable:function(b){var a;if(rdx.utils.is_defined(g._properties.show_on_click)){var a={};a.action_item_data=[];a.action_item_data.push(this.curr_data);a.total_item_count=this.parent_ref.row_count}else{if(rdx.utils.is_defined(g.get_data_fetch_callback())){a=g.get_data_fetch_callback().call_back()}}for(var c=0;c<b.length;c++){var d=b[c];if(d==$.contextMenu.separator){continue}if(d.action.is_enabled(a)){d.hide=false}else{d.hide=true}}},subMenuImageUrl:rdx.images.NAVIGATE_OPEN_IMG,menu_event:this._properties.menu_event,menu_show:this._properties.show,show_on_click:this._properties.show_on_click,data:this._data,parent_title:this._properties.parent_title,parent_ref:this._properties.table_ref})};rdx.context_menu.prototype.get_data_fetch_callback=function(){return this._data_fetch_callback};rdx.context_menu.prototype.get_menu_item_object=function(b){return{action:b,label:b.get_label(),click_handler_callback:new rdx.callback(this,this._on_click_menu_item,[b])}};rdx.context_menu.prototype._on_click_menu_item=function(h,m,l,f,g){g.perform_action(m,l.context_options)};rdx.images=new function(){this._initialize=function(){var c=rdx.model.add_base_url_to_url(rdx.FRAMEWORK_BASE+"/rdx/core/images/");var d=rdx.model.add_base_url_to_url(rdx.FRAMEWORK_BASE+"/rdx/core/css/");this.FILTER_CROSS_IMG=d+"filter_cross.png";this.CHECKMARK_IMG=d+"checkmark.png";this.CHECKBOX_IMG=d+"check_box.png";this.COMPANY_LOGO_IMG=c+"company_logo.png";this.IN_PROGRESS_IMG=c+"in_progress.gif";this.IN_PROGRESS_SMALL_IMG=c+"in_progress_small.gif";this.SPACER_IMG=c+"spacer.gif";this.WHITE_CROSS_IMG=c+"cross_white.png";this.PING_SMALL_IMG=c+"ping-icon-small.png";this.PING_IMG=c+"ping-icon.png";this.DELETE_FILE_IMG=c+"icon-delete-dark.png";this.SORT_ASCENDING_IMG=c+"sort_az_ascending.png";this.SORT_DESCENDING_IMG=c+"sort_az_descending.png";this.SORT_NO_IMG=c+"sort_no_img.png";this.NAVIGATE_OPEN_IMG=c+"navigate_open.png";this.NAVIGATE_CLOSE_IMG=c+"navigate_close.png";this.FILE_UPLOAD_IMG=c+"icon-upload.png";this.FILE_DOWNLOAD_IMG=c+"icon-download.png";this.NAVIGATE_OPEN_BLACK_IMG=c+"navigate_open_black.png";this.NAVIGATE_CLOSE_BLACK_IMG=c+"navigate_close_black.png";this.NAVIGATE_UP_BLACK_IMG=c+"navigate_up_black.png";this.LEFT_DOUBLE_ARROW_IMG=c+"go-lt-on.gif";this.RIGHT_DOUBLE_ARROW_IMG=c+"go-rt-on.gif";this.DOCUMENT_ADD_IMG=c+"document_add.png";this.DOCUMENT_INSERT_IMG=c+"document_insert.png";this.DOCUMENT_EDIT_IMG=c+"document_edit.png";this.DOCUMENT_REMOVE_IMG=c+"document_delete.png";this.DOCUMENT_DELET_IMG=c+"document_delete.png";this.DOCUMENT_ENABLE_IMG=c+"document_up.png";this.DOCUMENT_DISABLE_IMG=c+"document_down.png";this.DOCUMENT_REBOOT_IMG=c+"shield2.png";this.ADD_ACTION_IMG=c+"add_action.png";this.EDIT_ACTION_IMG=c+"edit_action.png";this.VIEW_ACTION_IMG=c+"view_action.png";this.THIN_ARROW=c+"arrow_thin.png";this.RIGHT_ARROW=c+"arrow_right.png";this.LEFT_ARROW=c+"arrow_left.png";this.DRAG_ACTION_IMG=c+"drag_icon.png";this.NEXT_ACTION_IMG=c+"next_icon.png";this.MOVE_ICON=c+"move-icon.png";this.REFRESH_IMG=c+"refresh.png";this.ZOOM_IN_IMG=c+"zoom_in.png";this.ZOOM_OUT_IMG=c+"zoom_out.png";this.SHOW_ASIDE=c+"show-aside.png";this.BULLET_BALL_RED_IMG=c+"bullet_ball_red.png";this.BULLET_BALL_GREY_IMG=c+"bullet_ball_grey.png";this.BULLET_SQUARE_BLUE_IMG=c+"bullet_square_glass_blue.png";this.SAVE_IMG=c+"save.png";this.SAVE_CONFIG_IMG=c+"save_black.png";this.SAVE_CONFIG_ALERT_IMG=c+"save_alert.png";this.LINE_CHART_ICON=c+"line_chart_icon.png";this.COLUMN_CHART_ICON=c+"column_chart_icon.png";this.HOP_DIAGRAM_ICON=c+"hop_diagram_icon.png";this.PREFERENCES_ICON=c+"preferences.png";this.ADOBE_IMG=c+"adobe.png";this.BLOCK_DOC_IMG=c+"block_document.png";this.CHART_DOC_IMG=c+"chart_document.png";this.DOC_ICON_IMG=c+"doc_icon.png";this.DOC_IMG=c+"document.png";this.GRAPH_DOC_IMG=c+"graph_document.png";this.SPIRAL_DOC_IMG=c+"spiral_document.png";this.PDF_IMG=c+"pdf_icon.png";this.GREEN_IMG=c+"nav_up_green.png";this.RED_IMG=c+"nav_down_red.png";this.YELLOW_IMG=c+"nav_down_yellow.png";this.MAJOR_IMG=c+"nav_down_right_red.png";this.INFORMATION_IMG=c+"nav_up_blue.png";this.ALERT_IMG=c+"icon-info.png";this.MESSAGE_WARNING=c+"warning.png";this.MESSAGE_INFO=c+"information.png";this.MESSAGE_ERROR=c+"forbidden.png";this.MESSAGE_CONFIRM=c+"unknown.png";this.MESSAGE_CLOSE=c+"close.png";this.STATUS_UNKNOWN=c+"sunknown.png";this.PAGINATION_FIRST_IMG=c+"firstpage.png";this.PAGINATION_PREVIOUS_IMG=c+"prevpage.png";this.PAGINATION_NEXT_IMG=c+"nextpage.png";this.PAGINATION_LAST_IMG=c+"lastpage.png";this.HELP_IMG=c+"help.png";this.ADD_IMG=c+"add_60.png";this.ERROR_IMG=c+"error.png";this.RIBBON_LEFT_IMG=c+"prevpage.gif";this.RIBBON_RIGHT_IMG=c+"nextpage.gif";this.ELEMENT=c+"element.png";this.ELEMENT_SELECTED=c+"element_selected.png";this.BREAD_CRUMB_IMG=c+"bread_crumb.png";this.LOADER_ERROR=c+"loader_error.png";this.LOADER_GIF=c+"loader.gif";this.LOADER_TICK=c+"loader_tick.png";this.NEXT_ACTIVE_IMAGE=c+"next_active.png";this.BACK_ACTIVE_IMAGE=c+"prev_active.png";this.NEXT_INACTIVE_IMAGE=c+"next_inactive.png";this.BACK_INACTIVE_IMAGE=c+"prev_inactive.png";this.YES_IMAGE=c+"yes.png";this.CLIENT_IMAGE=c+"client.png";this.CLOUD_IMAGE=c+"cloud.png";this.NETSCALER_IMAGE=c+"netscaler.png";this.REPEATER_IMAGE=c+"repeater.png";this.CB_IMAGE=c+"cb_device.png";this.SERVER_IMAGE=c+"server.png";this.CROSS_IMAGE=c+"cross.png";this.PLUS_WHITE=c+"plus_white.png";this.EDIT_IMAGE=c+"edit.png";this.VIEW_DETAIL_IMAGE=c+"details.png";this.EXPORT_IMAGE=c+"export.png";this.HEADER_BRAND_IMAGE=c+"header_brand.png";this.DB_CLUSTER_ADD_IMG=c+"db_plus.png";this.PRINTER_IMAGE=c+"printer.png"};this.get_app_url=function(b){if(rdx.utils.is_not_defined(b)||b===""){return""}if(b[0]!=="/"){b=rdx.APP_IMAGE_BASE+b}b=rdx.model.add_base_url_to_url(b);return b}};rdx.page.add_event_handler(rdx.events.APP_LOADED,new rdx.callback(rdx.images,rdx.images._initialize));rdx.documentation_page=function(c,d){this._parent=c;this._DEFAULT_PROPERTIES={header_title:"rdx.documentation",header_title_class_name:"ns_wp_header",columns:2,node_properties:[],info_properties:null};this._properties=$.extend(true,this._DEFAULT_PROPERTIES,d);this._no_of_columns=this._properties.columns;this._SECTION_COLS_SPAN=2};rdx.documentation_page.prototype.render=function(){var q=$("<table>").addClass("smooth_all_corner").addClass("dd_layout_border");q.attr("cellSpacing",0).attr("cellPadding",0).attr("align","center").attr("width","98%").attr("height","95%");var s=this._properties.columns;var n=100;if(rdx.utils.is_defined(this._properties.info_properties)){n=80}var l=n/this._no_of_columns;for(var t=0;t<this._no_of_columns;t++){var m=$("<colgroup>").attr("width",l+"%");q.append(m)}if(rdx.utils.is_defined(this._properties.info_properties)){var p=$("<colgroup>").attr("width","20%");q.append(p)}this._create_header(q);this._add_spacer_row(q,5);var o=$("<tr>");for(var t=0;t<this._no_of_columns;t++){this._create_docs_per_column(o,t)}this._create_help_info_panel(o);q.append(o);this._parent.append(q)};rdx.documentation_page.prototype._create_header=function(d){var f=$("<tr>").addClass("ns_wp_header");var e=$("<td>").addClass("doc_ns_header_title").attr("colspan",this._no_of_columns+1).append(rdx.i18n.get_string(this._properties.header_title));f.append(e);d.append(f)};rdx.documentation_page.prototype._add_spacer_row=function(l,g){var h=$("<tr>");var m=rdx.utils.is_defined(this._properties.info_properties)?this._no_of_columns+1:this._no_of_columns;var f=$("<td>").attr("height",g).attr("colspan",m);h.append(f);l.append(h)};rdx.documentation_page.prototype._create_docs_per_column=function(p,q){var v=$("<td>").addClass("docs_top_vertical_align");p.append(v);var s=$("<table>").attr("width","100%");v.append(s);var o=this._properties.node_properties[q];for(var w=0;w<o.column_nodes.length;w++){var x=o.column_nodes[w];var u=$("<tr>");var t=$("<td>").addClass("ns_small_header").attr("colspan",this._SECTION_COLS_SPAN).append(rdx.i18n.get_string(x.header_title));u.append(t);s.append(u);for(var n=0;n<x.nodes.length;n++){this._create_doc_node(s,x.nodes[n])}}};rdx.documentation_page.prototype._create_doc_node=function(o,v){var p=$("<tr>");if(rdx.utils.is_defined(v.header_title)){p.attr("title",rdx.i18n.get_string(v.header_title))}var n=$("<img>").attr("src",rdx.images.get_app_url(v.image_url));var s=$("<a>").attr("href",v.link_url).attr("target",v.link_target).append(n);var u=$("<td>").attr("valign","top").addClass("ns_doc_img");u.append(s);var t=$("<td>");if(rdx.utils.is_not_defined(v.lang_nodes)){var w=$("<a>").attr("href",v.link_url).attr("target",v.link_target).append(rdx.i18n.get_string(v.link_description));t.append(w)}else{t.append(rdx.i18n.get_string(v.link_description)).append($("<br>"));for(var x=0;x<v.lang_nodes.length;x++){var q=v.lang_nodes[x];var w=$("<a>").attr("href",q.link_url).attr("target",q.link_target).append(rdx.i18n.get_string(q.link_description));t.append(w).append(" ")}}p.append(u);p.append(t);o.append(p)};rdx.documentation_page.prototype._create_help_info_panel=function(g){if(rdx.utils.is_not_defined(this._properties.info_properties)){return}var h=$("<div>").addClass("ns_doc_info_section");h.append(($("<div>")).html(this._properties.info_properties.info_html));var f=$("<div>").addClass("ns_doc_info_acrobat_reader_section");f.append(($("<div>")).html(this._properties.info_properties.reader_html));var e=$("<td>").addClass("docs_top_vertical_align");e.append(h);e.append(f);g.append(e)};rdx.download_page=function(f,d,e){this._parent=f;this._DEFAULT_PROPERTIES={header_title:"rdx.downloads",header_title_class_name:"ns_wp_header",header_description:"Use this page to download resources for building custom management tools for the device or integration with the third party tools"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,e);this._view_definition=d};rdx.download_page.prototype.render=function(){var l=$(document.createElement("table")).attr("width","98%").attr("align","center").attr("cellpadding",0).attr("cellspacing",0);l.addClass("smooth_all_corner").addClass("dd_layout_border").addClass("downloads_table");if(!l.html().match(/<tbody>/i)){l.append(document.createElement("tbody"))}var h=$(l[0].tBodies[0].insertRow(-1));h.addClass(this._properties.header_title_class_name);$(h[0].insertCell(-1)).attr("colspan",3).addClass("doc_ns_header_title").append(rdx.i18n.get_string(this._properties.header_title));$(l[0].tBodies[0].insertRow(-1)).attr("colspan",3).attr("height",30);for(var m in this._view_definition){var f=this._view_definition[m];this._add_node_header(f,m,l);for(var g=0;g<f.length;g++){this._add_child_nodes(f[g],l);this._add_spacer_row(l,11)}}this._parent.append(l)};rdx.download_page.prototype._add_spacer_row=function(f,e){var d=$(f[0].tBodies[0].insertRow(-1));$(d[0].insertCell(-1)).attr("colspan",3).attr("height",e)};rdx.download_page.prototype._add_node_header=function(h,n,o){var m=h.header_class_name?h.header_class_name:"ns_small_header";var g=$(o[0].tBodies[0].insertRow(-1));$(g[0].insertCell(-1)).attr("colspan",3).addClass("ns_small_header").append(n);var l=$(o[0].tBodies[0].insertRow(-1));$(l[0].insertCell(-1)).attr("colspan",3).attr("height",5)};rdx.download_page.prototype._add_child_nodes=function(x,s){var y=$(document.createElement("img")).attr("src",rdx.images.get_app_url(x.img_url)).attr("title",rdx.i18n.get_string(x.img_title));var v=$(document.createElement("a")).attr("href",x.href).attr("target",this._get_href_target(o,x.href_target)).append(y);var p=$(s[0].tBodies[0].insertRow(-1));$(p[0].insertCell(-1)).attr("valign","top").append(v).width(20);if(rdx.utils.is_not_defined(x.lang_nodes)){var o=rdx.i18n.get_string(x.href_short_description);var t=$(document.createElement("a")).attr("href",x.href).attr("target",this._get_href_target(o,x.href_target)).append(o);var q=$(document.createElement("br"));$(p[0].insertCell(-1)).addClass("ns_download_node").attr("valign","top").append(t).append(q).append(rdx.i18n.get_string(x.href_description))}else{var u=$(p[0].insertCell(-1)).addClass("ns_download_node");$(u).append(rdx.i18n.get_string(x.href_description));$(u).append("<br>");for(var z=0;z<x.lang_nodes.length;z++){var w=x.lang_nodes[z];var o=rdx.i18n.get_string(w.href_short_description);var t=$(document.createElement("a")).attr("href",w.href).attr("target",this._get_href_target(o,w.href_target)).append(o);u.append(t).append(" ")}}};rdx.download_page.prototype._get_href_target=function(m,n){if(n){return rdx.i18n.get_string(n)}var o=m.toUpperCase();var l="";var h=o.split(" ");for(var g=0;g<h.length;g++){l+=h[g]+"_"}l=l.substring(0,n.length-1);return l};rdx.form_constants=new function(){this.LABEL="label";this.TEXT_BOX="text";this.TEXT_AREA="textarea";this.IP_TEXTFIELD="ip_textfield";this.PASSWORD="password";this.NOTE="note";this.CHECK_BOX="checkbox";this.RADIO_GROUP="radiogroup";this.LIST="list";this.IP_RANGE="iprange";this.CARD="card";this.VIEW="view";this.TABLE="table";this.EDITTABLE_LIST="edittablelist";this.BIND_UNBIND_LIST="bindunbindlist";this.IPV4="ipv4";this.PROXY="proxy";this.LINK="link";this.IPV6="ipv6";this.IPV4V6="ipv4v6";this.EDITABLE_COMBOBOX="editablecombobox";this.FILE_UPLOAD="fileupload";this.FILE_BROWSER="file_browser";this.NEXT_ROW="next_row";this.COMMAND_SHELL_EXECUTER="command_shell_executer";this.RADIO_BUTTON="radio";this.EXPRESSION_EDITOR="expression_editor";this.CLASSIC_EXPRESSION_EDITOR="classic_expression_editor";this.MULTIPLE_FIELD="multiple_field";this.TREE="tree";this.CALENDAR="calendar";this.TIME="time";this.ENTITY_CHOOSER="entity_chooser";this.REGULAR_EXPRESSION_FIELD="regex_field";this.COMMAND_SPEC_EDITOR="command_spec_editor";this.HYPER_LINK="hyper_link";this.PREVIEW="preview";this.SPINNER="spinner";this.DRAG_DROP_EDITOR="drag_drop_editor";this.TIME_OR_DAY_CHOOSER="time_day_chooser";this.TIME_SLIDER="time_slider";this.COLOR_PICKER="colorpicker";this.TOGGLE_COMPONENT="toggle_component";this.ICON_BUTTON="iconbutton";this.ALL="all";this.OR="or";this.field_actions={SHOW:"show",SHOW_IF_COUNT_GT_ZERO:"show_if_count_gt_0",HIDE_IF_COUNT_GT_ZERO:"hide_if_count_gt_0",HIDE:"hide",READ_ONLY:"read_only",EDITABLE:"editable",DATA_REFRESH:"data_refresh",NONE:"none",SET_DATA_FROM_FIELD:"__set_data_from_field__"};this.DATA_ACTIONS={VIEW_CONTEXT:"view_context",RESOURCE_NAME:"resource_name",DATA:"data"};this.NO_CONTAINER="none";this.TAB="tab";this.GROUP="group";this.COLUMN="column";this.CONTAINER_VALIDATION_ERROR="container_validation_error";this.FORM_INITIALIZED="form_initialized";this.PARENT_RESOURCE="___PARENT_RESOURCE";this.dependency_determinant={TYPE:"type",VALUE:"value"};this.view_component_adapter_return_type={RETURN_NULL:"return_null",PARENT_PROP:"parent_property",PARENT_CONF_VIEW_OP:"parent_conf_view_op",CHILD_PROP:"child_property",CONF_VIEW_OP:"conf_view_op"};this.calendar_component_options={TODAY:"rdx.Today",LAST_5_MINUTES:"rdx.LAST_5_MINUTES",LAST_HOUR:"rdx.LAST_HOUR",LAST_12_HOURS:"rdx.LAST_12_HOURS",LAST_DAY:"rdx.LAST_DAY",LAST_WEEK:"rdx.LAST_WEEK",LAST_MONTH:"rdx.LAST_MONTH",LAST_1_QUARTER:"rdx.LAST_1_QUARTER",LAST_6_MONTH:"rdx.LAST_6_MONTH",LAST_1_YEAR:"rdx.LAST_1_YEAR",LAST_5_YEARS:"rdx.LAST_5_YEARS",LAST_10_YEARS:"rdx.LAST_10_YEARS",CUSTOM:"rdx.Custom"};this.view_component_adapter_process_diff={NULL:"null",ADD_REMOVE_MODIFY:"add_remove_modify",REMOVE_ALL_ADD_ALL:"remove_all_add_all",ADD_REMOVE_NO_MODIFY:"add_remove_no_modify"};this.IF_ENABLED="IF_ENABLED";this.IF_SHOWN="IF_SHOWN";this.IF_MODIFIED="IF_MODIFIED";this.IF_NOT_EMPTY="IF_NOT_EMPTY";this.IF_ENABLED_AND_NOT_EMPTY="IF_ENABLED_AND_NOT_EMPTY";this.IF_ENABLED_AND_MODIFIED="IF_ENABLED_AND_MODIFIED";this.range_type={IPV4:"IPV4",IPV6:"IPV6",IPV4V6RANGE:"IPV4V6RANGE",TEXT:"TEXT"};TAB:"tab";CARD:"card"};rdx.dom_utils=new function(){this.get_element=function(b){switch(b){case rdx.form_constants.LABEL:return $("<label>");break;case rdx.form_constants.IP_TEXTFIELD:return $("<div>").attr("class","ip_textfield").attr("contenteditable","true").attr("autocomplete","off").attr("autocapitalize","off").attr("autocorrect","off");break;case rdx.form_constants.TEXT_BOX:return $("<input>").attr("type","text").attr("autocomplete","off").attr("autocapitalize","off").attr("autocorrect","off");break;case rdx.form_constants.TEXT_AREA:return $("<textarea>").attr("autocomplete","off").attr("autocapitalize","off").attr("autocorrect","off");break;case rdx.form_constants.LINK:case rdx.form_constants.HYPER_LINK:return $("<a>").attr("href","#noAnchor");break;case rdx.form_constants.PASSWORD:return $("<input>").attr("type","password");break;case rdx.form_constants.CHECK_BOX:return $("<input>").attr("type","checkbox");break;case rdx.form_constants.LIST:return $("<select>");break;case rdx.form_constants.RADIO_BUTTON:return $(document.createElement("input")).attr("type","radio");break;case rdx.form_constants.ICON_BUTTON:return $('<button type="button">');break;case rdx.form_constants.TABLE:return $("<table>").attr("cellpadding",0).attr("cellspacing",0);break}throw rdx.i18n.get_string("form_field_invalid_error",{form_type:field.get_key()})}};rdx.dependency=function(w,s,p){this._dependency_defn=s;this._dependency_trigger_info=new Array();this._go_to_hash=new Object();this._dependency_component=this._get_dependency_component(p,w,s);for(var q in this._dependency_defn){if(rdx.utils.is_defined(this._dependency_defn[q]["render"])){var v=this._dependency_defn[q]["render"];if(rdx.utils.is_defined(v.evaluate)&&rdx.utils.is_function(v.evaluate)){if(v.evaluate()===false){continue}}}var u=this._dependency_component.get_component(q);var o=(rdx.utils.is_defined(this._dependency_defn[q].on_event))?this._dependency_defn[q].on_event:rdx.events.CHANGE;var n={component:u,property_key:q,event:o};var t=this.get_dependent_components_info(this._dependency_defn[q],o,q);if(rdx.utils.is_not_defined(this._dependency_defn.go_to_only)||this._dependency_defn.go_to_only==false){if(rdx.utils.is_defined(u,t,o)){try{this.register_dependency(n,t,o)}catch(x){alert(x)}}}}};rdx.dependency.prototype._get_dependency_component=function(d,f,e){if(rdx.utils.is_not_defined(d)){d=true}if(d==true){return new rdx.field_dependency_component(f,e)}else{return new rdx.view_dependency_component(f,e)}};rdx.dependency.prototype.get_dependent_components_info=function(m,q,p){var h=[];if(rdx.utils.is_defined(m.form_fields)){h=this._get_dependent_info_for_all_property_type(m,q,p)}else{var l=(rdx.utils.is_defined(m.is_parent_dependent))?m.is_parent_dependent:false;var o=(rdx.utils.is_defined(m.pass_context))?m.pass_context:false;var n=(rdx.utils.is_defined(m.view_to_open))?m.view_to_open:null;h=this._get_dependent_info_per_property_type(m.components,q,l,o,n,p)}return h};rdx.dependency.prototype._get_dependent_info_for_all_property_type=function(aa,H,S){var Q=aa.form_fields;var R=new Array();var P=aa.action;var W=aa.view_context;var M=aa.trigger_values;var N=null;var O=aa.trigger_expression;var I=rdx.utils.is_defined(aa.dependency_determinant)?aa.dependency_determinant:rdx.form_constants.dependency_determinant.VALUE;for(var E=0,L=Q.length;E<L;E++){var K=Q[E];var G=(rdx.utils.is_array(P))?P[E]:P;var T=(rdx.utils.is_array(I))?I[E]:I;var ac=null;if(rdx.utils.is_defined(W)){ac=(rdx.utils.is_array(W))?W[E]:W}var ab=null;if(rdx.utils.is_defined(aa.resources)){ab=(rdx.utils.is_array(aa.resources))?resources[E]:resources}var F=[];if(rdx.utils.is_defined(aa.go_to)){F=aa.go_to}var V=null;if(rdx.utils.is_defined(aa.go_to_id)){V=aa.go_to_id;this._go_to_hash[V]={dependent_field:K,name:S}}var J=null;var ad=null;if(rdx.utils.is_defined(O)){ad=O}else{if(rdx.utils.is_defined(M[K])){J=M[K]}else{if(rdx.utils.is_array(M)||M==rdx.form_constants.ALL){J=M}else{throw"Dependency configuration is in-correct for trigger_values or trigger_expression"}}}if(rdx.utils.is_defined(aa.single_call_data_refresh)&&aa.single_call_data_refresh==true){var Z={component:N,action:P[0],trigger_values:J,trigger_expression:ad,dependency_determinant:T,view_context:aa.view_context,property:aa.form_fields,data_context:aa.data_context,default_data_context:aa.default_data_context,resource:aa.resource,single_call_data_refresh:aa.single_call_data_refresh,event:H,go_to:F};var U=new rdx.dependency_object(Z);var D=this._dependency_component.set_dependent_info(U);R.push(U);break}else{var Z={action:G,trigger_values:J,trigger_expression:ad,dependency_determinant:T,view_context:ac,property:K,resource:ab,event:H,go_to:F};var U=new rdx.dependency_object(Z);var D=this._dependency_component.set_dependent_info(U);R.push(U)}}return R};rdx.dependency.prototype._get_dependent_info_per_property_type=function(ac,G,Z,P,V,R){var N=ac.form_fields;var Q=new Array();var J=ac.action;var M=ac.trigger_values;for(var D=0,L=ac.length;D<L;D++){var K=ac[D];if(rdx.utils.is_defined(K.render)&&rdx.utils.is_defined(K.render.evaluate)&&rdx.utils.is_function(K.render.evaluate)){if(K.render.evaluate()===false){continue}}var I=null;var ab=null;var O=null;var F=K.action;var T=rdx.utils.is_defined(K.dependency_determinant)?K.dependency_determinant:rdx.form_constants.dependency_determinant.VALUE;var E=[];if(rdx.utils.is_defined(K.go_to)){E=K.go_to}var W=null;if(rdx.utils.is_defined(K.go_to_id)){W=K.go_to_id;this._go_to_hash[W]={dependent_field:K,name:R}}var H=null;var ad=null;if(rdx.utils.is_defined(K.trigger_expression)){ad=K.trigger_expression}else{if(rdx.utils.is_defined(K.trigger_values)){if(rdx.utils.is_defined(K.trigger_values[K.field])&&!rdx.utils.is_function(K.trigger_values[K.field])){H=K.trigger_values[K.trigger_values[K.field]]}else{if(rdx.utils.is_array(K.trigger_values)||K.trigger_values==rdx.form_constants.ALL){H=K.trigger_values}else{throw"Dependency configuration is in-correct for trigger_values or trigger_expression"}}}}if(rdx.utils.is_array(F)){for(var S=0;S<F.length;S++){var aa={component:I,action:F[S],trigger_values:H,trigger_expression:ad,dependency_determinant:T,view_context:K.view_context,property:K.field,data_context:K.data_context,default_data_context:K.default_data_context,resource:K.resource,event:G,is_parent_dependent:Z,pass_context:P,view_to_open:V,go_to:E};var U=new rdx.dependency_object(aa);this.set_dependent_info(Q,U)}}else{var aa={component:I,action:F,trigger_values:H,trigger_expression:ad,dependency_determinant:T,view_context:K.view_context,property:K.field,data_context:K.data_context,default_data_context:K.default_data_context,resource:K.resource,event:G,is_parent_dependent:Z,pass_context:P,view_to_open:V,go_to:E};var U=new rdx.dependency_object(aa);this.set_dependent_info(Q,U)}}return Q};rdx.dependency.prototype.set_dependent_info=function(d,c){this._dependency_component.set_dependent_info(c);d.push(c)};rdx.dependency.prototype.register_dependency=function(l,f,m){var g=l.component;if(rdx.utils.is_function(g.add_event_handler)&&(m!=rdx.events.MODEL_CHANGED||m!=rdx.events.BROWSER_EVENT)){var h=new rdx.callback(this._dependency_component,this._dependency_component.event_handling_callback,[l,f,this._go_to_hash]);g.add_event_handler(m,h);this._dependency_trigger_info.push({event:m,callback:h})}else{if(m==rdx.events.MODEL_CHANGED){var h=new rdx.callback(this._dependency_component,this._dependency_component.event_handling_callback,[l,f,this._go_to_hash]);this._add_model_change_listener(g,h);this._dependency_trigger_info.push({event:m,callback:h})}else{if(m==rdx.events.BROWSER_EVENT){var h=new rdx.callback(this._dependency_component,this._dependency_component.event_handling_callback,[l,f,this._go_to_hash]);this._add_browser_event_listener(g,h);this._dependency_trigger_info.push({event:m,callback:h})}else{}}}};rdx.dependency.prototype._add_model_change_listener=function(d,c){$(d).bind(rdx.events.MODEL_CHANGED,{ns_callback:c},this._model_change_callback)};rdx.dependency.prototype._add_browser_event_listener=function(d,c){$(d).bind(rdx.events.BROWSER_EVENT,{ns_callback:c},this._browser_event_callback)};rdx.dependency.prototype._model_change_callback=function(g,e,h,f){g.data.ns_callback.call_back([e,h,f])};rdx.dependency.prototype._browser_event_callback=function(g,e,h,f){g.data.ns_callback.call_back([e,h,f])};rdx.dependency.prototype.trigger_dependencies=function(){this._dependency_component.trigger_dependencies(this._dependency_trigger_info)};rdx.field_dependency_component=function(d,c){this._form=d;this._dependency_defn=c};rdx.field_dependency_component.prototype.get_component=function(f){var d=this._form.get_field(f);if(rdx.utils.is_not_defined(d)){var e=this._form.get_container_info(f);if(rdx.utils.is_not_defined(e)){throw"Dependency configuration is in-correct: No form field exist for "+f}else{d=e.field}}return d};rdx.field_dependency_component.prototype.set_dependent_info=function(d){var f=this._form.get_field_info(d.get_property());if(rdx.utils.is_not_defined(f)){f=this._form.get_container_info(d.get_property());if(rdx.utils.is_not_defined(f)){throw {message:"Dependency configuration is in-correct for "+d.get_property()}}}if(d.get_single_call_data_refresh()==true){for(var e=0;e<f.length;e++){d.set_field_array(f[e].field,e)}f=f[0]}else{d.set_field(f.field)}d.set_row(f.row);d.set_separator_row(f.separator_row);d.set_cell(f.cell);d.set_extra_form_field(f.extra_form_field);d.set_go_to(d.get_go_to());this._set_action_and_container(d)};rdx.field_dependency_component.prototype._set_action_and_container=function(h){var o=null;var m=null;var n=[];switch(h.get_action()){case rdx.form_constants.field_actions.SHOW:case rdx.form_constants.field_actions.HIDE:o=(rdx.utils.is_defined(h.get_extra_form_field()))?h.get_cell():h.get_row();m=this.toggle_show_hide;break;case rdx.form_constants.field_actions.SHOW_IF_COUNT_GT_ZERO:case rdx.form_constants.field_actions.HIDE_IF_COUNT_GT_ZERO:o=(rdx.utils.is_defined(h.get_extra_form_field()))?h.get_cell():h.get_row();m=this.toggle_show_hide_with_count;break;case rdx.form_constants.field_actions.EDITABLE:case rdx.form_constants.field_actions.READ_ONLY:o=h.get_field().get_component();m=this.toggle_read_only;break;case rdx.form_constants.field_actions.DATA_REFRESH:if(h.get_single_call_data_refresh()==true){var l=h.get_field_array();for(var g=0;g<l.length;g++){n[g]=l[g].get_component()}}else{o=h.get_field().get_component()}m=this.do_data_refresh;break;default:throw"Dependency configuration is in-correct for "+dependent_fields[i]+" does not have an action set"}if(h.get_single_call_data_refresh()==true){h.set_component_array(n)}else{h.set_component(o)}h.set_action_fn(m)};rdx.field_dependency_component.prototype.event_handling_callback=function(F,L,M,B){var J=L.property_key;var z=this._form.get_field_value(J)+"";for(var D=0,x=M.length;D<x;D++){var N=M[D];if(N.get_single_call_data_refresh()==true){var I=N.get_field_array();var K=N.get_component_array()}else{var P=N.get_field();var K=N.get_component()}var G=N.get_action_fn();var H=N.get_action();var y=N.get_trigger_values();var A=N.get_trigger_expression();var O=N.get_dependency_determinant();var E=N.get_go_to();if(rdx.utils.is_function(L.component.get_dependency_determinant_value)){if(O!=rdx.form_constants.dependency_determinant.VALUE){z=L.component.get_dependency_determinant_value(O)}}N.set_value(z);if(rdx.utils.is_defined(K,G)){var C=false;C=this._is_reverse_action(z,A,y);if(C==false&&rdx.utils.is_defined(E)){C=this.evaluate_go_to_fields(E,N,B)}N.set_reverse_action(C);N.set_event_param(F);G.apply(this,[N])}}};rdx.field_dependency_component.prototype._is_reverse_action=function(g,f,e){var h=false;if(rdx.utils.is_defined(g,f)){if(!f.test(g)){h=true}}else{if(rdx.utils.is_defined(e)){if(e!=rdx.form_constants.ALL){if(!rdx.utils.is_array(e)){if($.inArray(g,e.values)==-1){h=true}}else{if($.inArray(g,e)==-1){h=true}}}}}return h};rdx.field_dependency_component.prototype.evaluate_go_to_fields=function(y,v,z){var A=false;for(var w=0,s=y.length;w<s;w++){if(rdx.utils.is_defined(z[y[w]]["dependent_field"])){var q=z[y[w]]["dependent_field"];var u=this._form.get_field_value(z[y[w]]["name"])+"";var t=this._form.get_field(z[y[w]]["name"]);var p=q.dependency_determinant;if(rdx.utils.is_defined(p)&&rdx.utils.is_function(t.get_dependency_determinant_value)){if(p!=rdx.form_constants.dependency_determinant.VALUE){u=t.get_dependency_determinant_value(p)}}var x=q.trigger_values;var B=q.trigger_expression;var A=this._is_reverse_action(u,B,x);if(A==true){return A}}else{throw"Dependency for Go to fields are not defined"}}return A};rdx.field_dependency_component.prototype.toggle_show_hide_with_count=function(p){var o=p.get_data_context();if(rdx.utils.is_not_defined(o)){return}if(rdx.utils.is_defined(o.resource_name)){var n=rdx.utils.get_resource(this._properties.entity_type);var m=new rdx.callback(this,this._get_entity_count_response_arrived,[n]);var l=null;if(rdx.utils.is_defined(o.view_context)){var q=new rdx.context(o.view_context);var h=rdx.form_utils.get_resource_for_operation(this._form,this._form.get_resource(),null);q.set_context_data(h);l=q.get_url_params()}rdx.model.get_count(n,l,new rdx.callback(this,this._handle_count_show_hide,[p]),this._parent,null)}};rdx.field_dependency_component.prototype._handle_count_show_hide=function(c,d){if(c==0){if(d.get_action()==rdx.form_constants.field_actions.HIDE_IF_COUNT_GT_ZERO){dependency_object.set_reverse_action(false)}else{if(d.get_action()==rdx.form_constants.field_actions.SHOW_IF_COUNT_GT_ZERO){dependency_object.set_reverse_action(true)}}}else{if(d.get_action()==rdx.form_constants.field_actions.HIDE_IF_COUNT_GT_ZERO){dependency_object.set_reverse_action(true)}else{if(d.get_action()==rdx.form_constants.field_actions.SHOW_IF_COUNT_GT_ZERO){dependency_object.set_reverse_action(false)}}}this.toggle_show_hide(d)};rdx.field_dependency_component.prototype.toggle_show_hide=function(o){var h=false;var l=o.get_field();var m=o.get_action();var n=o.get_reverse_action();var g=o.get_component();if(rdx.utils.is_function(l.get_field)){l.get_field().set_hidden(true)}if(((m==rdx.form_constants.field_actions.HIDE||m==rdx.form_constants.field_actions.HIDE_IF_COUNT_GT_ZERO)&&n)||((m==rdx.form_constants.field_actions.SHOW||m==rdx.form_constants.field_actions.SHOW_IF_COUNT_GT_ZERO)&&!n)){h=true;if(rdx.utils.is_function(l.get_field)){l.get_field().set_hidden(false)}}if(rdx.utils.is_function(l.toggle_show_hide)){l.toggle_show_hide(h,g);if(h){if(rdx.utils.is_defined(o.get_separator_row())){o.get_separator_row().show()}}else{if(rdx.utils.is_defined(o.get_separator_row())){o.get_separator_row().hide()}$(g).find(".rdx_error_container").addClass("hide");rdx.form_utils.handle_component_show_error(l)}return null}if(h){g.show();if(rdx.utils.is_defined(o.get_separator_row())){o.get_separator_row().show()}}else{g.hide();$(g).find(".rdx_error_container").addClass("hide");rdx.form_utils.handle_component_show_error(l);if(rdx.utils.is_defined(o.get_separator_row())){o.get_separator_row().hide()}}return null};rdx.field_dependency_component.prototype.toggle_read_only=function(q){var m=false;var n=q.get_field();var o=q.get_action();var p=q.get_reverse_action();var h=q.get_component();var l=n.get_field();l.set_read_only(true);if((o==rdx.form_constants.field_actions.READ_ONLY&&p)||(o==rdx.form_constants.field_actions.EDITABLE&&!p)){m=true;l.set_read_only(false)}if(rdx.utils.is_function(n.toggle_read_only)){return n.toggle_read_only(m,q.get_dependency_determinant())}if(m){h.removeAttr("readonly");h.removeClass("form_field_disabled")}else{h.attr("readonly","true");h.addClass("form_field_disabled")}return null};rdx.field_dependency_component.prototype.do_data_refresh=function(t){var n=this;var q=t.get_reverse_action();if(t.get_single_call_data_refresh()==true){var m=t.get_field_array()}else{var m=t.get_field()}var l=t.get_trigger_values();var o=t.get_value();var s=t.get_data_context();if(rdx.utils.is_not_defined(s)){return}if(rdx.utils.is_defined(s.resource_name)){n._handle_resource_refresh(s,m,t)}else{if(rdx.utils.is_defined(s.formatter)){n._handle_refresh(s,m,t)}else{var p=s[o];if(rdx.utils.is_not_defined(p)&&rdx.utils.is_defined(t.get_default_data_context())){p=t.get_default_data_context()}n._handle_refresh(p,m,t)}}};rdx.field_dependency_component.prototype._handle_data_refresh=function(q,t,u){if(rdx.utils.is_not_defined(q)||rdx.utils.is_not_defined(q.formatter)){return}if(rdx.utils.is_defined(t.get_field().get_formatter())){var z=(rdx.utils.is_defined(u.get_trigger_expression())&&u.get_reverse_action()==true)?t.get_field().get_orig_formatter_dfn():q.formatter;t.get_field().init_formatter(z);if(rdx.utils.is_function(t.add_data_items)){t.add_data_items()}}var x=u.get_event_param();if(rdx.utils.is_defined(x)&&rdx.utils.is_defined(x.set_data)){var o=t.get_field().get_resource_value();if(rdx.utils.is_defined(t.get_field().get_formatter())){o=t.get_field().get_formatter().get_display_value(o,null)}t.set_data(o)}else{if(rdx.utils.is_defined(q.resource_name,q.view_context)){var p=null;var w=rdx.form_utils.get_resource_for_operation(this._form,this._form.get_resource(),null);if(rdx.utils.is_defined(w)){var v=new rdx.context(q.view_context);v.set_context_data(w);if(v.is_url_params_set()){p=v.get_url_params()}}rdx.model.get(rdx.utils.get_resource(q.resource_name),p,new rdx.callback(this,this._data_refresh_set_data,[t,q.resource_name,q.formatter]))}else{if(rdx.utils.is_defined(q.formatter.set_data)){if(q.formatter.set_data==rdx.form_constants.field_actions.SET_DATA_FROM_FIELD&&rdx.utils.is_defined(u.get_value())){if(rdx.utils.is_defined(q.formatter.data_populate_callback)){var s=q.formatter.data_populate_callback;var y=new rdx.callback_params({return_callback:new rdx.callback(function(a,b){b.set_data(a)},[t]),resource_data:u.get_value()});s.call_back([y])}else{t.set_data(u.get_value())}}else{t.set_data(q.formatter.set_data)}}}}};rdx.field_dependency_component.prototype._data_refresh_set_data=function(g,n,l,o){if(rdx.utils.is_not_defined(g[l])){return}var m=n.get_field().get_formatter();if(rdx.utils.is_not_defined(m)){n.get_field().init_formatter(o)}var h=n.get_field().get_formatter().get_formatted_message(g[l]);if(rdx.utils.is_not_empty(h)){n.set_data(h)}};rdx.field_dependency_component.prototype._handle_resource_refresh=function(p,s,u){if(rdx.utils.is_not_defined(p)){return}if(rdx.utils.is_not_defined(p.formatter)&&s.get_field().get_input_type()!=rdx.form_constants.VIEW){return}if(rdx.utils.is_not_defined(p.resource_name)){return}var z=rdx.utils.get_resource(p.resource_name);var B=null;var t=null;if(rdx.utils.is_defined(p.view_context)&&rdx.utils.is_defined(this._form.get_resource())){B=p.view_context;t=rdx.form_utils.get_resource_for_operation(this._form,this._form.get_resource(),null)}if(u.get_single_call_data_refresh()==true){var A=[];var q=[];for(var w=0;w<s.length;w++){var v=$.extend({},p.formatter);v.resource_keys=[];v.resource_keys[0]=p.formatter.resource_keys[w];s[w].get_field().init_formatter(v);A[w]=rdx.utils.is_function(s[w].get_component)?s[w].get_component():$(document.body);q[w]=s[w].get_field()}rdx.form_utils.prefill_dependency_data_refresh_components_data($(A),this._form,q,p.resource_name,this._form,this._form.set_response_for_field,B,t,u.get_event_param(),true)}else{if(s.get_field().get_input_type()==rdx.form_constants.VIEW&&rdx.utils.is_defined(s.get_component())&&rdx.utils.is_function(s.get_component().get_view_definition)&&s.get_component().get_view_definition().type==rdx.view_constants.DETAIL_VIEW&&rdx.utils.is_defined(B)&&rdx.utils.is_defined(t)){var x=s.get_component().get_view_context();x.set_url_params(B,t);s.get_component().prepare_view()}else{s.get_field().init_formatter(p.formatter);var y=rdx.utils.is_function(s.get_component)?s.get_component():$(document.body);rdx.form_utils.prefill_component_data($(y),this._form,s.get_field(),p.resource_name,this._form,this._form.set_response_for_field,B,t,u.get_event_param(),true)}}};rdx.field_dependency_component.prototype._handle_refresh=function(e,d,f){if(rdx.utils.is_not_defined(e)){return}if(rdx.utils.is_not_defined(e.type)||e.type==rdx.form_constants.DATA_ACTIONS.DATA){this._handle_data_refresh(e,d,f)}else{this._handle_resource_refresh(e,d,f)}if(rdx.utils.is_defined(e.view_link_map)&&rdx.utils.is_defined(d.create_list_table)&&rdx.utils.is_function(d.create_list_table)){if(rdx.utils.is_defined(e.view_link_map.add_view_name)){d.get_field().set_add_view_name(e.view_link_map.add_view_name)}if(rdx.utils.is_defined(e.view_link_map.set_view_name)){d.get_field().set_set_view_name(e.view_link_map.set_view_name)}if(rdx.utils.is_defined(e.view_link_map.view_view_name)){d.get_field().set_view_view_name(e.view_link_map.view_view_name)}d._list_table.remove();d.create_list_table()}if(rdx.utils.is_defined(e.view_link_map)&&rdx.utils.is_defined(e.view_link_map.view_name)&&rdx.utils.is_defined(d.set_view_name)&&rdx.utils.is_function(d.set_view_name)){d.set_view_name(e.view_link_map.view_name)}};rdx.field_dependency_component.prototype.trigger_dependencies=function(n){for(var g=0,o=n.length;g<o;g++){var l=n[g].callback;var m=n[g].event;var h={event:m,set_data:true};if(rdx.utils.is_defined(l,m)){l.call_back([h])}}};rdx.form_field=function(c,d){this._form_holder=d;this._DEFAULT_PROPERTIES={key:"",label:"",col_span:null,note:"",value:null,tooltip:"",force_tooltip:false,show_tooltip_on_field:false,tooltip_more_img_url:null,watermark:"",hidden:false,type:"VALSTR",input_type:null,group:null,tab:null,view:null,extra_field_dfn:null,add_confirm:true,expand_group:false,properties:{},resource_name:null,enumid:null,formatter:null,view_context:null,prefill:true,mandatory:false,read_only:false,label_width:-1,width:-1,height:-1,min_max:null,default_if_null:false,send_to_server:null,add_separator:false,display_label:true,prompt:null,custom_input_field:false,add_view_name:null,add_view_refresh:false,set_view_name:null,view_view_name:null,custom_button_properties:null,add_link:null,target_resource:rdx.form_constants.PARENT_RESOURCE,is_title:false,is_disable:false,is_error:false,validate_callback:null,style:[],download_content_url:"",download_content_file_name:"",render:null,force_validate:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,c);this._extra_form_field=null;this._parent_form_field=null;this._orig_formatter_dfn=null;this._orig_resource_value=rdx.utils.is_not_defined(this._properties.value)?"":this._properties.value;this._recent_value=null;this.init_formatter(this._get_formatter_dfn());if(rdx.utils.is_not_defined(this.get_input_type())){if(rdx.utils.is_defined(this.get_view())){this._properties.input_type=rdx.form_constants.VIEW}else{if(this.get_type()=="VALENUM"){this._properties.input_type=rdx.form_constants.LIST}else{if(this.get_type()=="VALBOOL"){this._properties.input_type=rdx.form_constants.CHECK_BOX}else{if(this.get_type()=="VALIPRANGE"){this._properties.input_type=rdx.form_constants.IP_RANGE}else{this._properties.input_type=rdx.form_constants.TEXT_BOX}}}}}this._is_part_of_resource=true;this._crumb_handler=null;this._form_data_fetch_callback=null};rdx.form_field.prototype.init_formatter=function(f){if(rdx.utils.is_defined(f)){this._formatter=new rdx.formatter(f)}else{var e=this.get_enumid();if(this.get_type()=="VALENUM"&&rdx.utils.is_defined(e)){var d=rdx.utils.get_enum(e);if(rdx.utils.is_defined(d)){if(rdx.utils.is_array(d)){d=rdx.utils.convert_array_to_map(d)}this._formatter=new rdx.formatter({map:d})}}}if(rdx.utils.is_not_defined(this._orig_formatter_dfn)){this._orig_formatter_dfn=f}};rdx.form_field.prototype.set_form_data_fetch_callback=function(b){this._form_data_fetch_callback=b};rdx.form_field.prototype.get_form_data_fetch_callback=function(){return this._form_data_fetch_callback};rdx.form_field.prototype.get_key=function(){return this._properties.key};rdx.form_field.prototype.get_force_validate=function(){return this._properties.force_validate};rdx.form_field.prototype.get_label=function(){return rdx.i18n.get_string(this._properties.label)};rdx.form_field.prototype.get_formatter=function(){return this._formatter};rdx.form_field.prototype.get_orig_formatter_dfn=function(){return this._orig_formatter_dfn};rdx.form_field.prototype.get_label_width=function(){return this._properties.label_width};rdx.form_field.prototype.get_note=function(){return rdx.i18n.get_string(this._properties.note)};rdx.form_field.prototype.get_value=function(){return this._properties.value};rdx.form_field.prototype.get_tooltip=function(){if(rdx.utils.is_not_defined(this._properties.tooltip)){return""}return rdx.i18n.get_string(this._properties.tooltip)};rdx.form_field.prototype.get_tooltip_more_img_url=function(){return this._properties.tooltip_more_img_url};rdx.form_field.prototype.get_watermark=function(){if(rdx.utils.is_empty(this._properties.watermark)){return""}return rdx.i18n.get_string(this._properties.watermark)};rdx.form_field.prototype.is_hidden=function(){return this._properties.hidden};rdx.form_field.prototype.get_col_span=function(){return this._properties.col_span};rdx.form_field.prototype.set_col_span=function(b){this._properties.col_span=b};rdx.form_field.prototype.get_type=function(){return this._properties.type};rdx.form_field.prototype.get_send_to_server=function(){return this._properties.send_to_server};rdx.form_field.prototype.is_default_if_null=function(){return this._properties.default_if_null};rdx.form_field.prototype.get_prompt=function(){return this._properties.prompt};rdx.form_field.prototype.set_resource_value=function(b){this._orig_resource_value=b;this._recent_value=b};rdx.form_field.prototype.get_resource_value=function(){return this._orig_resource_value};rdx.form_field.prototype.set_recent_value=function(b){this._recent_value=b};rdx.form_field.prototype.get_recent_value=function(){return this._recent_value};rdx.form_field.prototype.get_input_type=function(){return this._properties.input_type};rdx.form_field.prototype.set_group=function(b){this._properties.group=b};rdx.form_field.prototype.get_group=function(){return rdx.i18n.get_string(this._properties.group)};rdx.form_field.prototype.set_tab=function(b){this._properties.tab=b};rdx.form_field.prototype.get_tab=function(){return rdx.i18n.get_string(this._properties.tab)};rdx.form_field.prototype.get_view=function(){return this._properties.view};rdx.form_field.prototype.is_expand_group=function(){return this._properties.expand_group};rdx.form_field.prototype.get_properties=function(){return this._properties.properties};rdx.form_field.prototype.get_resource_name=function(){return this._properties.resource_name};rdx.form_field.prototype.get_enumid=function(){return this._properties.enumid};rdx.form_field.prototype.get_view_context=function(){return this._properties.view_context};rdx.form_field.prototype.get_resource_name_callback=function(){return this._properties.resource_name_callback};rdx.form_field.prototype.is_read_only=function(){return this._properties.read_only};rdx.form_field.prototype.is_title=function(){return this._properties.is_title};rdx.form_field.prototype.add_extra_padding_column=function(){return((this.is_title()==true||this.is_title()=="true")||(this.is_embedded_component()==true))};rdx.form_field.prototype.is_disable=function(){return this._properties.is_disable};rdx.form_field.prototype.is_error=function(){return this._properties.is_error};rdx.form_field.prototype.is_heading=function(){return($.inArray(rdx.HEADING,this._properties.style)>=0)};rdx.form_field.prototype.get_style=function(){return this._properties.style};rdx.form_field.prototype.get_width=function(){if((this.is_title())||(this.get_input_type()==rdx.form_constants.NOTE)){return -1}return this._properties.width};rdx.form_field.prototype.get_height=function(){return this._properties.height};rdx.form_field.prototype.is_prefill=function(){return this._properties.prefill};rdx.form_field.prototype.is_mandatory=function(){if(this.is_not_input_field()||this.is_hidden()||this.is_read_only()){return false}return this._properties.mandatory};rdx.form_field.prototype.is_not_input_field=function(){var b=this.get_input_type();return(b==rdx.form_constants.LABEL||b==rdx.form_constants.NOTE||b==rdx.form_constants.LINK)};rdx.form_field.prototype.is_confirm=function(){return this._properties.add_confirm};rdx.form_field.prototype.is_embedded_component=function(){return(this.get_input_type()==rdx.form_constants.CARD||this.get_input_type()==rdx.form_constants.VIEW||this.get_input_type()==rdx.form_constants.TABLE||this.get_input_type()==rdx.form_constants.LINK||this.get_input_type()==rdx.form_constants.DRAG_DROP_EDITOR)};rdx.form_field.prototype.is_file_upload_component=function(){return this.get_input_type()==rdx.form_constants.FILE_UPLOAD};rdx.form_field.prototype.get_extra_field=function(){return this._properties.extra_field_dfn};rdx.form_field.prototype._get_formatter_dfn=function(){return this._properties.formatter};rdx.form_field.prototype.get_min_max_values=function(){return this._properties.min_max};rdx.form_field.prototype._set_extra_form_field=function(b){this._extra_form_field=b};rdx.form_field.prototype._get_extra_form_field=function(){return this._extra_form_field};rdx.form_field.prototype._get_parent_form_field=function(){return this._parent_form_field};rdx.form_field.prototype._set_parent_form_field=function(b){return this._parent_form_field=b};rdx.form_field.prototype.set_formatter=function(b){this._formatter=b};rdx.form_field.prototype.is_label_needed=function(){if(this._properties.display_label==false){return false}var b=this.get_input_type();return !(rdx.utils.is_defined(this.get_view())||b==rdx.form_constants.TABLE||b==rdx.form_constants.CARD||b==rdx.form_constants.LINK)};rdx.form_field.prototype.is_separator=function(){return this._properties.add_separator};rdx.form_field.prototype.set_hidden=function(b){this._properties.hidden=b};rdx.form_field.prototype.get_custom_input_field=function(){return this._properties.custom_input_field};rdx.form_field.prototype.get_add_view_name=function(){return this._properties.add_view_name};rdx.form_field.prototype.set_add_view_name=function(b){this._properties.add_view_name=b};rdx.form_field.prototype.get_custom_button_properties=function(){return this._properties.custom_button_properties};rdx.form_field.prototype.get_add_link=function(){return this._properties.add_link};rdx.form_field.prototype.get_set_view_name=function(){return this._properties.set_view_name};rdx.form_field.prototype.set_set_view_name=function(b){this._properties.set_view_name=b};rdx.form_field.prototype.get_view_view_name=function(){return this._properties.view_view_name};rdx.form_field.prototype.set_view_view_name=function(b){this._properties.view_view_name=b};rdx.form_field.prototype.get_target_resource=function(){return this._properties.target_resource};rdx.form_field.prototype.set_target_resource=function(b){return this._properties.target_resource=b};rdx.form_field.prototype.set_read_only=function(b){this._properties.read_only=b};rdx.form_field.prototype.to_validate=function(){return !(this.is_not_input_field()||this.is_hidden())};rdx.form_field.prototype.set_label_width=function(b){this._properties.label_width=b};rdx.form_field.prototype.set_width=function(b){this._properties.width=b};rdx.form_field.prototype.set_crumb_handler=function(b){this._crumb_handler=b};rdx.form_field.prototype.get_crumb_handler=function(){return this._crumb_handler};rdx.form_field.prototype.get_validate_callback=function(){if(this.is_not_input_field()||this.is_hidden()||this.is_read_only()){return null}return this._properties.validate_callback};rdx.form_field.prototype.is_part_of_resource=function(){return this._is_part_of_resource};rdx.form_field.prototype.set_is_part_of_resource=function(b){this._is_part_of_resource=b};rdx.form_field.prototype.get_download_content_url=function(){return this._properties.download_content_url};rdx.form_field.prototype.get_form_holder=function(){return this._form_holder};rdx.form_field.prototype.get_download_content_file_name=function(){return this._properties.download_content_file_name};rdx.form_field.prototype.get_add_view_refresh=function(){return this._properties.add_view_refresh};rdx.form_field.prototype.is_force_tooltip=function(){return this._properties.force_tooltip};rdx.style=new function(){this.apply_style=function(e,f){var d=e.get_style();if($.inArray(rdx.HEADING,d)>=0){f.addClass("rdx_label_heading")}};this.apply_separatot_style=function(e,f){var d=e.get_style();if($.inArray(rdx.THIN_SEPARATOR,d)>=0){f.addClass("rdx_thin_separator")}}};rdx.form_component=function(c,d){this._parent=c;this._form_field=d;this._cell=null;this._component=null;this._tooltip=null};rdx.form_component.prototype.render=function(u,A,v,y,q,s,p){var t=(q.is_read_only()||this._form_field.get_input_type()==rdx.form_constants.LABEL)?rdx.form_constants.LABEL:this._form_field.get_input_type();if(q.is_read_only()&&this._form_field.get_input_type()==rdx.form_constants.VIEW){t=rdx.form_constants.VIEW}this._component=rdx.component_helper.get_component(t,A,this._form_field,q);if(rdx.utils.is_defined(this._form_field.get_prompt())){q.add_prompt_field(this._form_field)}if(rdx.utils.is_defined(this._form_field.get_resource_name())){q.add_maskable_component(this._component)}this._cell=this._render_label_field(this._parent,u,A,this._component,this._form_field,q.is_read_only(),q.is_two_row_layout_for_fields(),v,q.is_dialog(),y,q);this._render_component(this._component);var w=this._form_field._get_extra_form_field();if(rdx.utils.is_defined(w)){var x=rdx.component_helper.get_component(w.get_input_type(),A,w,q);this._render_component(x);var z=x.get_component().addClass("extra_field_component_alignment");if(rdx.utils.is_defined(w.get_prompt())){q.add_prompt_field(w)}if(rdx.utils.is_defined(w.get_resource_name())){q.add_maskable_component(x)}if(rdx.utils.is_not_defined(w.get_view())){q.add_field_to_map(w.get_key(),{field:x,form_field_index:s,extra_form_field:true,row:row,cell:A,field_validation_trigger:p,form_field:w})}if(w.is_embedded_component()){A.addClass("form_embedded_view");A.attr("colspan",q.get_properties().number_of_columns);q.add_embedded_view(x)}var B=w.get_value();if(B!=null){q.get_form().set_field_value(w.get_key(),B,null)}}if(t==="label"&&this._form_field.is_force_tooltip()){if(rdx.utils.is_defined(this._form_field._properties.show_tooltip_on_field)&&this._form_field._properties.show_tooltip_on_field){this._render_tooltip(q,A)}else{this._render_tooltip(q,u)}}else{this._render_tooltip(q,A)}this._render_error_div(q,A)};rdx.form_component.prototype._render_error_div=function(h,p){var n=new rdx.error_tooltip();h.add_error_tooltip_to_map(this._form_field.get_key(),n);var l=this._form_field._get_extra_form_field();if(rdx.utils.is_defined(l)){var m=new rdx.error_tooltip();h.add_error_tooltip_to_map(this._form_field._get_extra_form_field().get_key(),m);var q=m.render();q.addClass("hide");p.append(q)}var o=n.render();o.addClass("hide");p.append(o)};rdx.form_component.prototype._render_label_field=function(M,O,U,G,J,B,C,T,K,L,Q){C=J.get_input_type()==rdx.form_constants.LINK?false:C;var I=null;var V=true;var H=null;if(!B){if(rdx.utils.is_not_defined(T)){T=1}if(K==true){var R=(1/T)*(30);var F=R+"%";O.css("width",F)}}O.addClass("label");if(rdx.form_utils.is_label_first(G)){if(rdx.utils.is_defined(C)&&C==true){var D=$("<table>").addClass("form_two_column_layout").attr("cellpadding",0).attr("cellSpacing",0);var H=$("<tr>");if(rdx.utils.is_function(G.get_label_container)){I=G.get_label_container()}else{I=$("<tr>");D.append(I)}D.append(H);if(J.is_embedded_component()){D.addClass("form_two_column_view_layout")}if(J.get_input_type()==rdx.form_constants.LABEL){H.addClass("form_field_label")}var P=$("<td>").append(D).addClass("form_multi_layout_container");if(Q.is_fixed_column_width()&&rdx.utils.is_defined(T)&&T>1){P.css("width",((100/T)+"%"))}var N=J.get_col_span();if(rdx.utils.is_defined(N)&&N>0){P.attr("colspan",J.get_col_span())}if(J.get_width()!=-1){D.css("width",J.get_width());P.css("width",J.get_width())}M.append(P);if(!B&&(L>=(T))){if(J.add_extra_padding_column()){var A=rdx.utils.is_defined(J.get_col_span())?J.get_col_span():1;P.attr("colspan",A+1)}else{M.append($("<td>").addClass("rdx_form_padding_column"))}}}else{I=M;H=M}U.addClass("field");if(J.is_label_needed()){if(J.get_label_width()!=-1){O.width(J.get_label_width())}if(J.is_title()){O.addClass("label_title")}rdx.style.apply_style(J,O);if(J.is_disable()){O.addClass("label_disable")}if(J.is_error()){O.addClass("label_error")}if(rdx.utils.is_function(G.get_label_container)){var S=J.get_label();if(J.is_mandatory()){S+="*"}I.append(S)}else{I.append(O)}}else{if(rdx.utils.is_defined(I)){I.addClass("no_label_field");if(J.is_title()){I.addClass("label_title")}}rdx.style.apply_style(J,O)}if(J.is_disable()){O.addClass("label_disable")}if(J.is_error()){O.addClass("label_error")}if(V==true){H.append(U)}else{H.remove()}return U}else{M.append(U);if(J.is_label_needed()){if(J.get_label_width()!=-1){U.width(J.get_label_width())}var E=$("<span>");if(rdx.utils.is_function(G.get_label_container)&&rdx.utils.is_defined(G.get_label_container())){E=G.get_label_container()}E.addClass("input_label");if(J.is_title()){E.addClass("label_title")}E.append(O.text());U.append(E)}if(!B&&(L>=(T))){if(J.add_extra_padding_column()){var A=rdx.utils.is_defined(J.get_col_span())?J.get_col_span():1;U.attr("colspan",A+1)}else{M.append($("<td>").addClass("rdx_form_padding_column"))}}return O}};rdx.form_component.prototype._render_component=function(b){if(rdx.utils.is_defined(b)){b.render()}};rdx.form_component.prototype._render_tooltip=function(h,o){var n=null;var l=null;var m=null;var g=null;if(this._form_field.is_force_tooltip()||!(h.is_read_only()||this._form_field.get_input_type()==rdx.form_constants.LABEL||this._form_field.get_input_type()==rdx.form_constants.NOTE||this._form_field.get_input_type()==rdx.form_constants.LINK||this._form_field.is_embedded_component())){if(rdx.utils.is_not_empty(this._form_field.get_tooltip())){g=this._component.get_component();n=$("<div>").addClass("rdx_help_cell_container").addClass("help_cell_container_inactive");l=$("<span>").addClass("help_cell");n.append(l);o.append(n);o.addClass("tooltip_holder");m=new rdx.tooltip(n,{tooltip_more_img_url:this._form_field.get_tooltip_more_img_url()});g.addClass("component_alignment");g.bind(rdx.events.FOCUS_IN,{tooltip_cell:n,field_cell:o},function(a){a.data.tooltip_cell.removeClass("help_cell_container_inactive");a.data.tooltip_cell.addClass("component_focussed");a.stopPropagation()});g.bind(rdx.events.FOCUS_OUT,{tooltip_cell:n,field_cell:o,that:this},function(a){a.data.tooltip_cell.removeClass("component_focussed");if(!(rdx.utils.is_hover(a.data.field_cell,a))&&!(a.data.tooltip_cell.hasClass("rdx_tooltip_active"))){a.data.tooltip_cell.addClass("help_cell_container_inactive")}a.stopPropagation()});o.bind(rdx.events.MOUSE_OVER,{tooltip_cell:n,component:g},function(a){a.data.tooltip_cell.removeClass("help_cell_container_inactive");a.stopPropagation()});o.bind(rdx.events.MOUSE_LEAVE,{tooltip_cell:n,component:g,field_cell:o,that:this},function(a){a.data.that._handle_component_mouse_leave_event(a)});this._register_help_cell_events(n,m)}}};rdx.form_component.prototype._handle_component_mouse_leave_event=function(b){if(!(b.data.tooltip_cell.hasClass("component_focussed"))){if(!(rdx.utils.is_hover(b.data.tooltip_cell,b))){b.data.tooltip_cell.addClass("help_cell_container_inactive")}}b.stopPropagation()};rdx.form_component.prototype._remove_tooltip=function(b){b.data.tooltip.remove_tooltip(b);b.data.that._tooltip=null;b.stopPropagation()};rdx.form_component.prototype._register_help_cell_events=function(d,f){var e={};d.bind(rdx.events.MOUSE_OVER,{tooltip:f,that:this},function(a){e.message=a.data.that._form_field.get_tooltip();e.remove_handler_callback=a.data.that._tooltip_callback_handler;a.data.that._tooltip=a.data.tooltip.render(e);a.stopPropagation()});d.bind(rdx.events.MOUSE_LEAVE,{tooltip:f,that:this},function(a){if(!(rdx.utils.is_hover(a.data.that._tooltip,a))&&!(rdx.utils.is_hover($(this),a))){a.data.that._remove_tooltip(a)}a.stopPropagation()})};rdx.form_component.prototype._tooltip_callback_handler=function(b){if(!(b.hasClass("component_focussed"))){b.addClass("help_cell_container_inactive")}};rdx.form_component.prototype.get_component=function(){return this._component};rdx.form_component.prototype.get_cell=function(){return this._cell};rdx.form=function(f,l,h,m){this._parent=typeof(f)=="string"?$("#"+f):f;if(!rdx.utils.is_array(l)){var g=[];g.push({form_fields:l});l=g}this._form_holder=new rdx.form_holder(this,m,l,h);this._field_resource_properties=h;this._form_fields_dfn=l;this._form_properties=m;this._error_found=false;this._expected_response_arrivals=1;this._resource=null;this._button_bar=null;this._mask_id=rdx.mask.get_id();this._form_data_fetch_callback=new rdx.callback(this,this.get_form_data);this._add_help_id=true;this._form_button_update_callback=null;this.app_context_data=null};rdx.form.prototype.render=function(){var b=null;if(rdx.utils.is_array(this._form_fields_dfn)){b=new rdx.layout_manager(this._form_holder).render()}this._form_div=$("<div>").addClass("form_base_container");this._form_div.append(b);if(rdx.ELEMENTS_READONLY==false){this._render_bottom_bar(b,this._form_div)}else{this._render_bottom_close_bar(b,this._form_div)}this._parent.append(this._form_div);if(rdx.utils.is_defined(this._form_holder.get_more_info_view())){b.bind(rdx.events.CLICK,{form:this},function(f){var g=f.data.form;var h=rdx.utils.get_view(g._form_holder.get_more_info_view());var a=null;if(rdx.utils.is_defined(h.view_context)){a=h.view_context}rdx.view_utils.show_view_in_slider(h,null,g.get_form_data(),a);f.stopPropagation()})}return this};rdx.form.prototype.get_parent=function(){return this._parent};rdx.form.prototype._render_bottom_bar=function(p,s){var o=null;var l=$("<tr>");if(!(this._form_holder.is_add_close_button()||this._form_holder.is_add_create_button())){return null}if(!this._form_holder.is_read_only()){o=$("<table>").addClass("form_buttons");o.append(l);var q={add_blue_button:false,add_grey_button:false,add_create_and_add_button:false,blue_button_label:"rdx.button_add",blue_button_tooltip:null,grey_button_label:"rdx.button_remove",grey_button_tooltip:null,blue_button_click_handler_callback:null,grey_button_click_handler_callback:null,create_and_add_click_handler_callback:null,custom_class_names:"form_buttons",disable_blue_button:true};if(this._form_holder.is_add_create_button()){q.add_blue_button=true;if(!rdx.utils.is_empty(this._form_holder.get_button_label())){q.blue_button_label=this._form_holder.get_button_label()}else{var n=rdx.i18n.get_string("rdx.form_add_button_label");var t=rdx.i18n.get_string("rdx.form_modify_button_label");q.blue_button_label=this._form_holder.is_add_mode()||this._form_holder.is_create_mode()?n:t}}if(this._form_holder.is_add_close_button()){q.grey_button_label=rdx.i18n.get_string("rdx.form_close_button_label");q.add_grey_button=true;q.grey_button_click_handler_callback=this._form_holder.get_cancel_handler_callback()}if(this._form_holder.is_add_create_and_add_button()){q.add_create_and_add_button=true}}if(!this._form_holder.is_read_only()&&this._form_holder.is_add_create_button()){q.blue_button_click_handler_callback=new rdx.callback(this,this.handle_submit)}if(!this._form_holder.is_read_only()&&this._form_holder.is_add_create_and_add_button()){q.create_and_add_click_handler_callback=new rdx.callback(this,this.handle_submit,[false])}var m=$("<td>");l.append(m);this._button_bar=new rdx.button_bar(m,new rdx.form_field({properties:q}));this._button_bar.render();if(this._form_holder.is_add_create_button()&&!this._form_holder.is_add_mode()&&rdx.utils.is_defined(this._button_bar)){this._button_bar.disable()}if(this.get_add_help_id()==true){this._add_help(l)}if(rdx.utils.is_defined(o)){s.addClass("form_base_container_border");s.append(o)}return o};rdx.form.prototype._render_bottom_close_bar=function(m,o){var l=null;var g=$("<tr>");if(!this._form_holder.is_add_close_button()){return null}l=$("<table>").addClass("form_buttons");l.append(g);var n={add_blue_button:false,add_grey_button:false,add_create_and_add_button:false,blue_button_label:"rdx.button_add",blue_button_tooltip:null,grey_button_label:"rdx.button_remove",grey_button_tooltip:null,blue_button_click_handler_callback:null,grey_button_click_handler_callback:null,create_and_add_click_handler_callback:null,custom_class_names:"form_buttons",disable_blue_button:true};n.grey_button_label=rdx.i18n.get_string("rdx.form_close_button_label");n.add_grey_button=true;n.grey_button_click_handler_callback=this._form_holder.get_cancel_handler_callback();var h=$("<td>");g.append(h);this._button_bar=new rdx.button_bar(h,new rdx.form_field({properties:n}));this._button_bar.render();if(this.get_add_help_id()==true){this._add_help(g)}if(rdx.utils.is_defined(l)){o.addClass("form_base_container_border");o.append(l)}return l};rdx.form.prototype.handle_submit=function(c,d){if((!this._form_holder.is_add_mode()&&rdx.utils.is_defined(this._button_bar)&&this._button_bar.is_disabled())||(rdx.ELEMENTS_READONLY)){return false}if(rdx.utils.is_defined(this._form_holder.get_prompt())){rdx.message_box.confirm(rdx.i18n.get_string(this._form_holder.get_prompt()),new rdx.callback(this,this._submit_form));return false}else{return this._submit_form(d)}};rdx.form.prototype._submit_form=function(b){if(!this._validate()){return false}if(rdx.utils.is_defined(b)&&b==false){this._set_focus_on_first_field()}if(this._form_holder.get_submit_handler_callback()){this._form_holder.get_submit_handler_callback().call_back([b])}return false};rdx.form.prototype.set_keyboard_handler_callback=function(b){this._form_holder.set_keyboard_handler_callback(b)};rdx.form.prototype._add_help=function(d){if(rdx.utils.is_not_defined(this._form_holder.get_help_id())){return}var c=$("<td>").css("textAlign","right");rdx.help.add_help(c,this._form_holder.get_help_id());d.append(c)};rdx.form.prototype.set_form_button_update_callback=function(b){this._form_button_update_callback=b};rdx.form.prototype.update_submit_button_label=function(b){if(rdx.utils.is_defined(this._form_button_update_callback)){this._form_button_update_callback.call_back(["submit_button",{is_update_label:true},b])}};rdx.form.prototype.reset_submit_button_label=function(){if(rdx.utils.is_defined(this._form_button_update_callback)){this._form_button_update_callback.call_back(["submit_button",{is_update_label:false}])}};rdx.form.prototype.hide_button=function(){if(rdx.utils.is_defined(this._form_button_update_callback)){this._form_button_update_callback.call_back(["skip_button",{is_update_label:false,hide_button:true}])}};rdx.form.prototype.initialize=function(b){this._bind_error_message();if(rdx.utils.is_not_defined(b)){if(!this._form_holder.is_add_mode()&&rdx.utils.is_defined(this._button_bar)){this._button_bar.enable()}return}this._resource=b;this._decrement_expected_responses();if(this._all_responses_arrived()){this._initialize()}};rdx.form.prototype._do_validate_ipv4_octet=function(A,B,I,u){if(A.is_hidden()){return true}var C=A.get_key();var J=A.get_label();var G=this._form_holder.get_field(C);if(rdx.utils.is_not_defined(I)){I=""}var v=[];if(rdx.utils.is_array(I)){v=I}else{v.push(I)}for(var F=0;F<v.length;F++){var w=v[F].split(".");var x=/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[1-9]|0)$/;var z=this._form_holder.get_field(C);var y=w.length;if(y>4){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_ip_error",{field_label:J}),C);this._error_found=true;return false}for(var D=0;D<y;D++){var E=w[D];if(!(E.match(x))){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_ip_error",{field_label:J}),C);this._error_found=true;return false}}}if(rdx.utils.is_not_empty(z)&&!(z instanceof rdx.base_view)){rdx.form_utils.handle_component_show_error(G.field);var H=this._form_holder.get_error_tooltip(C);if(rdx.utils.is_function(G.field.hide_error_message)){G.field.hide_error_message()}else{H.set_data("")}}return true};rdx.form.prototype._bind_error_message=function(){var t=this._form_holder.get_form_fields();for(var w=0,q=t.length;w<q;w++){var u=t[w];var p=u.get_type();var n=u.get_input_type();var v=u.get_key();var s=this._form_holder.get_field(v);var x=this._form_holder.get_field(v);var o=rdx.utils.is_function(s.field.get_component)?s.field.get_component():null;if(rdx.utils.is_not_empty(o)){if(rdx.form_utils.check_is_focus_out_component(s)){o.bind(rdx.events.FOCUS_OUT,{form:this,field_data:s},function(a){setTimeout(function(){if(a.data.form.dont_render_error==true){return}var b=a.data.field_data;var d=a.data.form;var h=b.form_field;var g=b.form_field_index;var c=b.form_field.get_type();var f=b.form_field.get_key();var e=b.field.get_data();d.get_form_holder().set_focus(f);d._do_validate_form_field(h,g,e,c)},200)});if(p=="VALIPSTR"||n==rdx.form_constants.IPV4||n==rdx.form_constants.IPV4V6){o.bind(rdx.events.KEYDOWN,{form:this,field_data:s},function(d){var l=d.keyCode;var c=d.data.form;var g=d.data.field_data;var a=g.form_field;var e=g.field.get_data();var f=g.form_field.get_type();var b=g.form_field_index;var h=d.ctrlKey;if(!h){if(l==rdx.keycodes.DOT){c._do_validate_ipv4_octet(a,b,e,f)}}})}if(x.field instanceof rdx.ip_range||x.field instanceof rdx.file_browser||x.field instanceof rdx.file_upload_component){o.bind(rdx.events.FOCUS_IN,{form:this,field_data:s},function(b){var a=b.data.field_data;a.field.get_component().find(".error_text").removeClass("error_text");a.field.get_component().find(".rdx_error_container").addClass("hide");var c=b.data.form;var f=c.get_form_holder();var d=a.form_field.get_key();var e=f.get_error_tooltip(d);e.set_data("")})}}else{if(x.field instanceof rdx.entity_chooser){o.bind(rdx.events.CHANGE,{form:this,field_data:s},function(c){if(c.data.form.dont_render_error==true){return}var a=c.data.field_data;var d=c.data.form;var h=a.form_field;var g=a.form_field_index;var b=a.form_field.get_type();var f=a.form_field.get_key();var e=a.field.get_data();d.get_form_holder().set_focus(f);d._do_validate_form_field(h,g,e,b)})}}}}};rdx.form.prototype._initialize=function(){var L=this._resource;if(rdx.utils.is_not_defined(L)){return}var J=this._form_holder.get_form_fields();for(var y=0,w=J.length;y<w;y++){var B=J[y];var M=B.get_key();var x=this.set_field_value(M,L[M],L);if(M=="password"&&B.is_confirm()){var z=this.get_form_field(M+"_confirm");var D=z.get_key();if(x!=""){this.set_field_value(D,x)}}if(rdx.utils.is_defined(x)){B.set_resource_value(x)}if(rdx.utils.is_defined(B._get_extra_form_field())){var A=B._get_extra_form_field();var I=A.get_key();if(rdx.utils.is_not_defined(L[I])){continue}var G=this.set_field_value(I,L[I],L);if(rdx.utils.is_defined(G)){A.set_resource_value(G)}}}var E=this._form_holder.get_all_containers();if(rdx.utils.is_defined(E)){for(var N in E){var F=E[N];if(rdx.utils.is_not_defined(F.field)){continue}if(!rdx.form_utils.is_container_valid_for_resource(F.field)){continue}F.field.set_data(L)}}if(!this._form_holder.is_add_mode()&&rdx.utils.is_defined(this._button_bar)){this._button_bar.enable()}var C=this._form_holder.get_prompt_fields();for(var K=0;K<C.length;K++){var B=C[K];var H=this._form_holder.get_field(B.get_key()).field;rdx.form_utils.initialize_prompt_event_handler(B.get_prompt(),H)}$(this).trigger(rdx.form_constants.FORM_INITIALIZED)};rdx.form.prototype._validate=function(){this._error_found=false;if(this._form_holder.is_read_only()){return true}var t=this._form_holder.get_form_fields();for(var w=0,q=t.length;w<q;w++){var u=t[w];if(!u.is_part_of_resource()){continue}var p=this._validate_form_field(u,w);if(!p){this._error_found=true;return false}if(rdx.utils.is_defined(u._get_extra_form_field())){if(!this._validate_form_field(u._get_extra_form_field())){this._error_found=true;return this._error_found}}}var z=this._form_holder.get_embedded_views();for(var v=0;v<z.length;v++){var x=z[v];var o=x.get_component();var s=x.get_field();if(rdx.utils.is_not_defined(o)||!rdx.utils.is_function(o.get_form)){continue}if(rdx.utils.is_defined(s)&&s.is_hidden()){continue}var y=o.get_form();if(rdx.utils.is_defined(y)){var p=y._validate();if(!p){this._error_found=true;return false}}}return !this._error_found};rdx.form.prototype._validate_form_field=function(e,d){var f=e.get_key();return this._do_validate_form_field(e,d,this.get_field_value(f),e.get_type())};rdx.form.prototype._do_validate_form_field=function(I,Z,P,ac){if(I.is_hidden()){return true}var ah=I.get_key();var J=I.get_label();var V=this._form_holder.get_field(ah);var N="";if(rdx.utils.is_function(this._form_holder.get_field(ah).field.get_component)){N=this._form_holder.get_field(ah).field.get_component()}var K=I.get_input_type();var ag=this._get_field(ah);if(ag.validate){var M=ag.validate();if(M){this._show_field_error(rdx.i18n.get_string(M,{field_label:J}),ah);this._error_found=true;return false}}if(!I.to_validate()){return !this._error_found}if(ac=="VALBOOL"){return !this._error_found}if((I.is_mandatory()||I.get_force_validate())&&(rdx.utils.is_not_defined(P)||P.length==0)){if(rdx.utils.is_defined(I.get_input_type())&&((I.get_input_type()==rdx.form_constants.LIST)||(I.get_input_type()==rdx.form_constants.ENTITY_CHOOSER)||(I.get_input_type()==rdx.form_constants.BIND_UNBIND_LIST))){this._show_field_error(rdx.i18n.get_string("rdx.form_mandatory_list_error",{field_label:J}),ah)}else{this._show_field_error(rdx.i18n.get_string("rdx.form_mandatory_error",{field_label:J}),ah)}this._error_found=true;return false}if(ac=="VALNAME"){var O=rdx.utils.is_array(P);if(O===false){if(!P.match(/^[ 0-9a-zA-Z#_.\@:=-]*$/)){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_string_error",{field_label:J}),ah);this._error_found=true;return false}}else{for(var ab=0;ab<P.length;ab++){if(!P[ab].match(/^[ 0-9a-zA-Z#_.\@:=-]*$/)){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_string_error",{field_label:J}),ah);this._error_found=true;return false}}}}if(ac=="VALPORT"||ac=="VALNUM"){var O=rdx.utils.is_array(P);if(O===false){if(!P.match(/^\d*$/)){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_number_error",{field_label:J}),ah);this._error_found=true;return false}}else{for(var ab=0;ab<P.length;ab++){if(!P[ab].match(/^\d*$/)){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_number_error",{field_label:J}),ah);this._error_found=true;return false}}}}if(ac=="VALPORTSTR"){var O=rdx.utils.is_array(P);if(O===false){if(rdx.utils.is_function(P.match)&&!P.match(/^\d*$/)&&(P!=="*")){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_number_error",{field_label:J}),ah);this._error_found=true;return false}}else{for(var ab=0;ab<P.length;ab++){if(rdx.utils.is_function(P[ab].match)&&!P[ab].match(/^\d*$/)&&(P!=="*")){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_number_error",{field_label:J}),ah);this._error_found=true;return false}}}}if(ac=="VALREAL"){var O=rdx.utils.is_array(P);if(O===false){if(!P.match(/^([0-9]+\.[0-9]+)$|^([0-9]*\.[0-9]+)$|^([0-9]*)$/)){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_number_error",{field_label:J}),ah);this._error_found=true;return false}}else{for(var ab=0;ab<P.length;ab++){if(!P[ab].match(/^([0-9]+\.[0-9]+)$|^([0-9]*\.[0-9]+)$|^([0-9]*)$/)){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_number_error",{field_label:J}),ah);this._error_found=true;return false}}}}if(ac=="VALNETMASK"&&!(rdx.utils.is_netmask(P))&&!P.match(/^\d*$/)){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_ip_error",{field_label:J}),ah);this._error_found=true;return false}var aa=I.get_input_type();if(ac=="VALIPSTR"){var G=P;if(!(rdx.utils.is_array(P))){G=[P]}for(var T=0;T<G.length;T++){P=G[T];if(P.length>0&&!(rdx.utils.is_ipv4(P)||rdx.utils.is_ipv6(P))){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_ip_error",{field_label:J}),ah);this._error_found=true;return false}}}if(ac=="VALIP4STR"||aa=="ipv4"){var G=P;if(!(rdx.utils.is_array(P))){G=[P]}for(var T=0;T<G.length;T++){P=G[T];if(P.length>0&&!rdx.utils.is_ipv4(P)){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_ip_error",{field_label:J}),ah);this._error_found=true;return false}}}if(ac=="VALIP6STR"||aa=="ipv6"){var G=P;if(!(rdx.utils.is_array(P))){G=[P]}for(var T=0;T<G.length;T++){P=G[T];if(P.length>0&&!rdx.utils.is_ipv6(P)){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_ip_error",{field_label:J}),ah);this._error_found=true;return false}}}if(ac=="VALIPRANGE"&&rdx.utils.is_defined(P)){var ae=P.get_ip_string();if(!rdx.utils.is_ipv4(ae)){this._show_field_error(rdx.i18n.get_string("rdx.form_invalid_ip_error",{field_label:J}),ah);this._error_found=true;return false}var W=P.get_range();if(rdx.utils.is_num(W)){this._show_field_error(rdx.i18n.get_string("rdx.iprange_format_error"),ah);this._error_found=true;return false}var F=parseInt(W);if(F>=254){this._show_field_error(rdx.i18n.get_string("rdx.iprange_maxval_error"),ah);this._error_found=true;return false}var R=P.get_range_start();if(F<R){this._show_field_error(rdx.i18n.get_string("rdx.iprange_error"),ah);this._error_found=true;return false}}if(ac=="VALPROXY"){if(rdx.utils.is_not_empty(P)){var H=P.split(":");if(H.length>2){this._show_field_error(rdx.i18n.get_string("rdx.proxy_error"),ah);this._error_found=true;return false}var U=H[0].trim();if(rdx.utils.is_defined(H[1])){var S=H[1].trim()}if(!rdx.utils.is_ipv4(U)&&U.toUpperCase()!="NOPROXY"){this._show_field_error(rdx.i18n.get_string("rdx.proxy_error"),ah);this._error_found=true;return false}if(rdx.utils.is_empty(S)&&U.toUpperCase()!="NOPROXY"){this._show_field_error(rdx.i18n.get_string("rdx.proxy_error"),ah);this._error_found=true;return false}if(U.toUpperCase()=="NOPROXY"&&P.match(/:/)){this._show_field_error(rdx.i18n.get_string("rdx.proxy_error"),ah);this._error_found=true;return false}if(rdx.utils.is_defined(S)){if(!rdx.utils.is_number(S)){this._show_field_error(rdx.i18n.get_string("rdx.port_error"),ah);this._error_found=true;return false}if(Number(S)<1||Number(S)>65535){this._show_field_error(rdx.i18n.get_string("rdx.port_error"),ah);this._error_found=true;return false}}}}if((ac=="VALNUM"||ac=="VALPORT"||(ac=="VALPORTSTR"&&P!=="*"))&&rdx.utils.is_defined(I.get_min_max_values())){var O=rdx.utils.is_array(P);if(O===false){if(rdx.utils.is_defined(P)&&P.length>0){if(this._validate_min_max(I,P,J,ah)===false){this._error_found=true;return false}}}else{for(var ab=0;ab<P.length;ab++){if(this._validate_min_max(I,P[ab],J,ah)===false){this._error_found=true;return false}}}}if(K=="password"&&I.is_confirm()){if(rdx.utils.ends_with(ah,"_confirm")){var L=this.get_field_value(ah.slice(0,ah.length-8));var ah=I.get_key();var J=I.get_label();if(L!=P){var ad=J.replace(/confirm/i,"").trim();this._show_field_error(rdx.i18n.get_string("rdx.form_password_mismatch",{password:ad,confirm_password:J}),ah);this._error_found=true;return false}}}if(rdx.utils.is_defined(I.get_validate_callback())){var Q=I.get_validate_callback().call_back([P]);if(rdx.utils.is_defined(Q)){if(K=="drag_drop_editor"){this._show_editor_field_error(rdx.i18n.get_string(Q),ah);return false}else{this._show_field_error(rdx.i18n.get_string(Q),ah);this._error_found=true;return false}}}if(rdx.utils.is_not_empty(N)&&!(N instanceof rdx.base_view)){rdx.form_utils.handle_component_show_error(V.field);var af=this._form_holder.get_error_tooltip(ah);if(rdx.utils.is_function(V.field.hide_error_message)){V.field.hide_error_message()}else{af.set_data("")}}return true};rdx.form.prototype._validate_min_max=function(m,o,l,q){var s=this._form_holder.get_field(q).field.get_component();var n=rdx.utils.is_defined(m.get_min_max_values().min)&&m.get_min_max_values().min>o;var p=rdx.utils.is_defined(m.get_min_max_values().max)&&m.get_min_max_values().max<o;if(n||p){if(rdx.utils.is_defined(m.get_min_max_values().min,m.get_min_max_values().max)){this._show_field_error(rdx.i18n.get_string("rdx.min_max_error_msg",{field_label:l,min_val:m.get_min_max_values().min,max_val:m.get_min_max_values().max}),q);this._error_found=true;return false}}if(n){this._show_field_error(rdx.i18n.get_string("rdx.min_error_msg",{field_label:l,min_val:m.get_min_max_values().min}),q);this._error_found=true;return false}if(p){this._show_field_error(rdx.i18n.get_string("rdx.max_error_msg",{field_label:l,max_val:m.get_min_max_values().max}),q);this._error_found=true;return false}if(rdx.utils.is_not_empty(s)){s.removeClass("error_text");var t=this._form_holder.get_error_tooltip(q);t.set_data("")}return true};rdx.form.prototype._get_field=function(b){return this._form_holder.get_field(b).field};rdx.form.prototype.get_field=function(b){return this._get_field(b)};rdx.form.prototype._get_form_field=function(h){var g=this._form_holder.get_field(h);var f=[];if(rdx.utils.is_defined(g)){if(rdx.utils.is_array(g)){for(var e=0;e<g.length;e++){f[e]=g[e].form_field}return f}else{return g.form_field}}else{return null}};rdx.form.prototype.get_field_info=function(b){return this._form_holder.get_field(b)};rdx.form.prototype.get_container_info=function(b){return this._form_holder.get_container(b)};rdx.form.prototype.get_form_field=function(b){return this._get_form_field(b)};rdx.form.prototype.validate=function(){return this._validate()};rdx.form.prototype.get_field_value=function(h){var f=null;var g=this._get_field(h);if(rdx.utils.is_function(g.get_data)){f=g.get_data()}var e=this._get_form_field(h);if(rdx.utils.is_defined(e.get_formatter())){f=e.get_formatter().get_storage_value(f)}if(rdx.utils.is_defined(f)){return f}else{if(rdx.utils.is_function(g.text)){return $.trim(g.text())}}return""};rdx.form.prototype.set_form_field_data_items=function(s,p,w,v,t,x){var o=this._get_field(s);if(rdx.utils.is_not_defined(p)){rdx.form_utils.unmask_component(o);return}var q=this._get_form_field(s);rdx.form_utils.unmask_component(o);if(!rdx.utils.is_array(p)){p=[p]}if(rdx.utils.is_function(o.add_data_items)){if(rdx.utils.is_defined(t)&&t===true){o.add_data_items.apply(o,[p,v])}else{var u=q.get_formatter().map_data_items(p);o.add_data_items.apply(o,[u,v])}var n=null;if(rdx.utils.is_defined(q.get_formatter())){n=q.get_formatter().get_set_data()}if(rdx.utils.is_defined(w)&&rdx.utils.is_defined(w.set_data)){o.set_data(o.get_field().get_resource_value())}else{if(rdx.utils.is_defined(n)){if(n==true){o.set_data(u[0])}else{o.set_data(n)}}}if(rdx.utils.is_defined(x)){o.set_data(x)}}else{if(rdx.utils.is_defined(q.get_formatter())){var u=q.get_formatter().map_data_items(p);if(rdx.utils.is_defined(u)&&u.length>0){if(u[0]=="undefined"){o.set_data("")}else{o.set_data(u[0])}}}else{if(o.get_field().get_input_type()==rdx.form_constants.VIEW){o.set_data(p,this._resource,this.get_resource())}}}};rdx.form.prototype.set_field_value=function(p,o,n){var m=this._get_field(p);var q=this._get_form_field(p);var h=q.get_input_type();var l=rdx.form_utils.get_form_field_data_items(p,n);if(rdx.utils.is_defined(l)){this.set_form_field_data_items(p,l,null,true,true);q.set_formatter(null)}if(rdx.utils.is_defined(q.get_formatter())){o=q.get_formatter().get_display_value(o,n)}if((rdx.utils.is_function(m.get_data)&&m.get_data()!=String(o)&&rdx.utils.is_defined(o))||q.is_embedded_component()){if(this._is_read_only()&&rdx.utils.is_not_empty(o)&&typeof(o)=="string"){o=rdx.utils.html_encode(o)}m.set_data(o,n,this._form_holder.get_resource())}return o};rdx.form.prototype._show_editor_field_error=function(g,h){var e=this._form_holder.get_field(h);var f=this._get_form_field(h);if(rdx.utils.is_defined(e.field_validation_trigger)){$(e.field_validation_trigger).trigger(rdx.form_constants.CONTAINER_VALIDATION_ERROR,[f])}rdx.page.show_notification(g,rdx.ERROR,true)};rdx.form.prototype._show_field_error=function(q,t){var w=this._form_holder.get_field(t);var s=this._get_form_field(t);if(rdx.utils.is_defined(w.field_validation_trigger)){$(w.field_validation_trigger).trigger(rdx.form_constants.CONTAINER_VALIDATION_ERROR,[s])}rdx.form_utils.handle_component_show_error(w.field,true);if(w.field instanceof rdx.view_component_adapter||w.field instanceof rdx.card_component){return}w.field.get_component().addClass("component_alignment");var p=w.form_field.get_label();if(s.is_mandatory()){p=p+"*"}var n=w.field.get_component().outerWidth();var u=$("[fieldfor='"+p+"']:visible");var x;if(u&&u.length){var v=$(u).width();var o=v-n;x=this._form_holder.get_error_tooltip(t)}if(rdx.utils.is_function(w.field.set_error_message)){w.field.set_error_message(q)}else{if(x){x.set_data(q,o)}}};rdx.form.prototype.show_field_errors=function(c){if(rdx.utils.is_not_defined(c)||rdx.utils.is_object_empty(c)){return}for(var d in c){this._show_field_error(c[d],d)}};rdx.form.prototype._set_focus_on_first_field=function(){var c=this._form_holder.get_form_fields();for(var d=0;d<c.length;d++){if(!c[d].is_hidden()){this._set_focus(c[d].get_key(),c[d]);break}}};rdx.form.prototype._set_focus=function(c,d){if(rdx.utils.is_function(this._get_field(c).focus)){this._get_field(c).focus()}else{if(this._is_text_field(d.get_input_type())){this._get_field(c).get_component().focus()}}};rdx.form.prototype._is_add_mode=function(){var b=this._form_holder.get_submit_operation().method;if(rdx.utils.is_defined(b)&&b==rdx.model_constants.ADD){return true}return false};rdx.form.prototype._is_read_only=function(){return this._form_holder.is_read_only()};rdx.form.prototype._is_text_field=function(b){if(this._form_holder.is_read_only()){return false}return(b==rdx.form_constants.TEXT_BOX||b==rdx.form_constants.TEXT_AREA||b==rdx.form_constants.PASSWORD)};rdx.form.prototype._get_form_fields=function(){return this._form_holder.get_form_fields()};rdx.form.prototype.finalize=function(){this._resize_form_components()};rdx.form.prototype._resize_form_components=function(){var c=this._form_holder.get_embedded_views();for(var d=0;d<c.length;d++){if(rdx.utils.is_function(c[d].resize)){c[d].resize()}}};rdx.form.prototype.refresh=function(){var h=this._form_holder.get_form_fields();for(var l=0,m=h.length;l<m;l++){var g=h[l];var f=this._get_field(g.get_key());if(rdx.utils.is_function(f.refresh)){f.refresh()}}};rdx.form.prototype.get_embedded_views=function(){return this._form_holder.get_embedded_views()};rdx.form.prototype._get_field_resource_response_arrived=function(e,d,f){this.set_response_for_field(e,d,f,null,false);this.check_and_initialize_form()};rdx.form.prototype.set_response_for_field=function(l,o,n,q,s){var m=this._get_form_field(o);var p;if(rdx.utils.is_defined(l.value)){p=l.value.configured_value}if(rdx.utils.is_array(m)){for(var t=0;t<m.length;t++){this.set_form_field_data_items(o[t],l[n],q,s)}}else{this.set_form_field_data_items(o,rdx.utils.is_defined(l[n])?l[n]:[],q,s,null,p)}};rdx.form.prototype.destroy_form=function(g){var e=this._form_holder.get_embedded_views().length;if(e>0){for(var f=0;f<e;f++){var h=this._form_holder.get_embedded_views()[f];if(rdx.utils.is_defined(h)&&rdx.utils.is_function(h.destroy_view)){h.destroy_view(g)}}}};rdx.form.prototype.increment_expected_responses=function(){this._expected_response_arrivals++};rdx.form.prototype._decrement_expected_responses=function(){if(this._expected_response_arrivals==0){return}this._expected_response_arrivals--};rdx.form.prototype._all_responses_arrived=function(){return(this._expected_response_arrivals==0)};rdx.form.prototype.add_form_initialized_event=function(c){var d=this;$(this).bind(rdx.form_constants.FORM_INITIALIZED,{callback:c,form:d},function(a){a.data.callback.call_back([a.data.form])})};rdx.form.prototype.get_form_holder=function(){return this._form_holder};rdx.form.prototype.get_form_data=function(){return rdx.form_utils.get_resource_for_operation(this,this._form_holder.get_resource())};rdx.form.prototype.get_form_data_callback=function(){return this._form_data_fetch_callback};rdx.form.prototype.set_resource=function(b){this._form_holder.set_resource(b)};rdx.form.prototype.get_resource=function(){return this._form_holder.get_resource()};rdx.form.prototype.set_form_data=function(b){this._form_holder.set_form_data(b)};rdx.form.prototype.set_crumb_handler=function(b){this._form_holder.set_crumb_handler(b)};rdx.form.prototype.validate_form_field=function(f,e,g,h){return this._do_validate_form_field(f,e,g,h)};rdx.form.prototype.set_add_help_id=function(b){this._add_help_id=b};rdx.form.prototype.get_add_help_id=function(){return this._add_help_id};rdx.form.prototype.get_formatted_response=function(){return this._resource};rdx.form.prototype.check_and_initialize_form=function(){this._decrement_expected_responses();if(this._all_responses_arrived()){this._initialize()}};rdx.form.prototype.mask=function(b){rdx.mask.mask_component(this._form_div,b)};rdx.form.prototype.set_app_context_data=function(b){this.app_context_data=b};rdx.form.prototype.get_app_context_data=function(){return this.app_context_data};rdx.form.prototype.unmask=function(b){rdx.mask.unmask_component(this._form_div,b)};rdx.error_tooltip=function(c,d){this._error_container=null;this._DEFAULT_PROPERTY={error_message:""};this._error_message=this._DEFAULT_PROPERTY.error_message};rdx.error_tooltip.prototype.render=function(b){this._error_container=$("<div>").addClass("rdx_error_container rdx_error_tooltip_dialogbox rdx_icon_div");this._error_container.append(this._error_message);return this._error_container};rdx.error_tooltip.prototype.set_data=function(d,e){this._error_container.empty();if(rdx.utils.is_not_empty(d)){this._error_container.append(d);if(e<this._error_container.width()){this._error_container.addClass("rdx_wrap");this._error_container.removeClass("hide");this._error_container.css("display","block")}else{this._error_container.removeClass("hide")}try{rdx.mask.unmask_all_components()}catch(f){}}else{this._error_container.addClass("hide")}};rdx.form_holder=function(h,e,f,g){this._DEFAULT_PROPERTIES={read_only:false,number_of_columns:1,submit_operation:{method:rdx.model_constants.ADD,action:null},submit_handler_callback:null,cancel_handler_callback:null,group_expand_img_url:rdx.images.NAVIGATE_OPEN_IMG,group_collapse_img_url:rdx.images.NAVIGATE_CLOSE_IMG,class_names:"form",button_label:"",button_tooltip:"",add_create_button:true,add_close_button:true,add_create_and_add_button:false,fixed_column_width:false,add_border:true,prompt:null,help_id:null,two_row_layout_for_fields:true,strict_resource_mapping:true,standalone_mode:false,more_info_view:null,ignore_key_press_events:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,e);this._fields_dfn=f;this._resource_properties=g;this._form=h;this._fields_map=new Object();this._error_tooltips_map=new Object();this._containers_map=new Object();this._form_fields=new Array();this._maskable_components=new Array();this._prompt_fields=new Array();this._embedded_views=new Array();this._field_upload_components=new Array();this._container_fields_map={};this._multiple_container_keys_found=false;this._resource=null;this._form_data=null;this._app_context_data=null;this._focus_on_field=null;this._crumb_handler=null;this._is_dialog=true;this._show_slider=rdx.utils.is_not_defined(this._properties.show_slider)?true:this._properties.show_slider;this._custom_keyboard_handler_callback=null};rdx.form_holder.prototype.get_form=function(){return this._form};rdx.form_holder.prototype.set_fields_dfn=function(b){this._fields_dfn=b};rdx.form_holder.prototype.get_fields_dfn=function(){return this._fields_dfn};rdx.form_holder.prototype.set_focus=function(b){this._focus_on_field=b};rdx.form_holder.prototype.get_focus=function(b){return this._focus_on_field};rdx.form_holder.prototype.set_resource_properties=function(b){this._resource_properties=b};rdx.form_holder.prototype.set_resource=function(b){this._resource=b};rdx.form_holder.prototype.get_resource=function(){return this._resource};rdx.form_holder.prototype.get_resource_properties=function(){return this._resource_properties};rdx.form_holder.prototype.add_field_to_map=function(d,c){this._fields_map[d]=c};rdx.form_holder.prototype.add_error_tooltip_to_map=function(d,c){this._error_tooltips_map[d]=c};rdx.form_holder.prototype.add_container_to_map=function(d,c){this._containers_map[rdx.utils.trim(d)]=c};rdx.form_holder.prototype.get_fields_map=function(){return this._fields_map};rdx.form_holder.prototype.get_field=function(d){var f=[];if(rdx.utils.is_array(d)){for(var e=0;e<d.length;e++){f[e]=this._fields_map[d[e]]}return f}else{return this._fields_map[d]}};rdx.form_holder.prototype.get_error_tooltip=function(b){return this._error_tooltips_map[b]};rdx.form_holder.prototype.get_container=function(b){return this._containers_map[rdx.utils.trim(b)]};rdx.form_holder.prototype.get_all_containers=function(){return this._containers_map};rdx.form_holder.prototype.add_maskable_component=function(b){this._maskable_components.push(b)};rdx.form_holder.prototype.get_maskable_components=function(){return this._maskable_components};rdx.form_holder.prototype.add_to_form_fields=function(e,d){if(rdx.utils.is_defined(d)&&d!=rdx.form_constants.PARENT_RESOURCE){this._multiple_container_keys_found=true}d=d||rdx.form_constants.PARENT_RESOURCE;if(rdx.utils.is_defined(this._container_fields_map[d])){var f=this._container_fields_map[d].concat(e);this._container_fields_map[d]=f}else{this._container_fields_map[d]=e}this._form_fields=this._form_fields.concat(e)};rdx.form_holder.prototype.add_form_field_to_fields=function(d){var e=d.get_target_resource();if(e!=rdx.form_constants.PARENT_RESOURCE){this._multiple_container_keys_found=true}if(rdx.utils.is_defined(this._container_fields_map[e])){this._container_fields_map[e].push(d)}else{var f=[];f.push(d);this._container_fields_map[e]=f}this._form_fields.push(d)};rdx.form_holder.prototype.get_form_fields=function(){return this._form_fields};rdx.form_holder.prototype.get_form_field_to_submit=function(){if(this._multiple_container_keys_found==false){return this._form_fields}return this._container_fields_map};rdx.form_holder.prototype.add_embedded_view=function(b){this._embedded_views.push(b)};rdx.form_holder.prototype.get_embedded_views=function(){return this._embedded_views};rdx.form_holder.prototype.add_file_upload_component=function(b){this._field_upload_components.push(b)};rdx.form_holder.prototype.get_file_upload_components=function(){return this._field_upload_components};rdx.form_holder.prototype.add_prompt_field=function(b){this._prompt_fields.push(b)};rdx.form_holder.prototype.get_prompt_fields=function(){return this._prompt_fields};rdx.form_holder.prototype.get_resource_properties=function(){return this._resource_properties};rdx.form_holder.prototype.is_standalone_mode=function(){return this._properties.standalone_mode};rdx.form_holder.prototype.is_strict_resource_mapping=function(){return this._properties.strict_resource_mapping};rdx.form_holder.prototype.is_read_only=function(){return this._properties.read_only};rdx.form_holder.prototype.is_two_row_layout_for_fields=function(){return this._properties.two_row_layout_for_fields};rdx.form_holder.prototype.set_two_row_layout_for_fields=function(b){this._properties.two_row_layout_for_fields=b};rdx.form_holder.prototype.get_help_id=function(){return this._properties.help_id};rdx.form_holder.prototype.is_add_mode=function(){var b=this._properties.submit_operation.method;if(rdx.utils.is_defined(b)&&b==rdx.model_constants.ADD){return true}return false};rdx.form_holder.prototype.is_create_mode=function(){var b=this._properties.submit_operation.action;if(rdx.utils.is_defined(b)&&b=="create"){return true}return false};rdx.form_holder.prototype.get_prompt=function(){return this._properties.prompt};rdx.form_holder.prototype.get_class_names=function(){return this._properties.class_names};rdx.form_holder.prototype.is_add_close_button=function(){return this._properties.add_close_button};rdx.form_holder.prototype.is_add_create_button=function(){return this._properties.add_create_button};rdx.form_holder.prototype.is_add_create_and_add_button=function(){return(this._properties.add_create_and_add_button)};rdx.form_holder.prototype.is_fixed_column_width=function(){return this._properties.fixed_column_width};rdx.form_holder.prototype.is_expand_group=function(){return this._properties.expand_group};rdx.form_holder.prototype.add_border=function(){return this._properties.add_border};rdx.form_holder.prototype.get_button_label=function(){return rdx.i18n.get_string(this._properties.button_label)};rdx.form_holder.prototype.get_cancel_handler_callback=function(){return this._properties.cancel_handler_callback};rdx.form_holder.prototype.get_submit_handler_callback=function(){return this._properties.submit_handler_callback};rdx.form_holder.prototype.get_submit_operation=function(){return this._properties.submit_operation};rdx.form_holder.prototype.get_button_tooltip=function(){return rdx.i18n.get_string(this._properties.button_tooltip)};rdx.form_holder.prototype.set_keyboard_handler_callback=function(b){this._custom_keyboard_handler_callback=b};rdx.form_holder.prototype.get_keyboard_handler_callback=function(){return this._custom_keyboard_handler_callback};rdx.form_holder.prototype.get_properties=function(){return this._properties};rdx.form_holder.prototype.set_form_data=function(b){this._form_data=b};rdx.form_holder.prototype.get_form_data=function(){return this._form_data};rdx.form_holder.prototype.set_app_context_data=function(b){this._app_context_data=b};rdx.form_holder.prototype.get_app_context_data=function(){return this._app_context_data};rdx.form_holder.prototype.set_crumb_handler=function(b){this._crumb_handler=b};rdx.form_holder.prototype.get_crumb_handler=function(){return this._crumb_handler};rdx.form_holder.prototype.set_is_dialog=function(b){this._is_dialog=b};rdx.form_holder.prototype.is_dialog=function(){return this._is_dialog};rdx.form_holder.prototype.set_show_slider=function(b){this._show_slider=b};rdx.form_holder.prototype.is_show_slider=function(){return this._show_slider};rdx.form_holder.prototype.get_more_info_view=function(){return this._properties.more_info_view};rdx.layout_manager=function(b){this._form_holder=b;this._submit_button=null};rdx.layout_manager.prototype.render=function(){var m=$("<div>");m.addClass(this._form_holder.get_properties().class_names);var o=$("<div>");if(this._form_holder.add_border()){o.addClass("smooth_all_corner").addClass("layout_border")}o.addClass("config_layout");var p=this._form_holder.get_fields_dfn();for(var q=0;q<p.length;q++){var n=p[q];var h=this._get_container(n,o);var l=h.render();if(rdx.utils.is_empty(n.type)){l.addClass("form_container")}o.append(l)}m.append(o);return m};rdx.layout_manager.prototype._get_container=function(c,d){switch(c.type){case rdx.form_constants.TAB:return new rdx.tab_container(d,c,this._form_holder);case rdx.form_constants.GROUP:return new rdx.group_container(d,c,this._form_holder);case rdx.form_constants.COLUMN:return new rdx.column_container(d,c,this._form_holder);default:return new rdx.form_container(d,c,this._form_holder)}};rdx.layout_manager.prototype.get_resource_properties=function(){return this._form_resource_properties};rdx.search=function(c,d){this._parent=c;this._DEFAULT_PROPERTIES={search_dropdown_map:null,pre_searched_object:null,do_append:false,standalone_search:false};this._properties=$.extend(true,this._DEFAULT_PROPERTIES,d);this._search_dropdown_map=this._properties.search_dropdown_map;this._search_label_combo_array=new Array();this._search_callback=null;this._search_filter_action=this._properties.search_filter_action;this._search_div=null;this._searched_div=null;this._all_search_keys=new Array();this._available_search_keys=new Array();this._used_search_keys=new Array();this._searched_key_value_map=this._properties.pre_searched_object;this._filter_container=null;this._search_row=null;this._remove_all_shown=false;this._current_item_added_to_filter=false;this._search_label_combo=null;this._search_field=null;this._do_append=rdx.utils.is_not_defined(this._properties.do_append)?true:this._properties.do_append;this._standalone_search=this._properties.standalone_search;this._search_tooltip=null};rdx.search.prototype.render=function(){this._available_search_keys=[];this._all_search_keys=[];this._used_search_keys=[];this._create_searched_div();this._create_search_form();var b=$("<div>").addClass("entire_search_div").append(this._searched_div).append(this._search_div);if(this._do_append){this._parent.append(b)}else{this._parent.prepend(b)}this._search_div.css("display","none")};rdx.search.prototype._create_searched_div=function(){this._searched_div=$("<div>");this._searched_div.css("display","none");this._searched_div.addClass("filters clearfix");var e=$("<div>").addClass("filter_label").append(rdx.i18n.get_string("rdx.search.filter_label")+": ");this._filter_container=$("<div>").addClass("filter_container");this._searched_div.append(e).append(this._filter_container);if(rdx.utils.is_defined(this._searched_key_value_map)&&this._searched_key_value_map.length){for(var f=0;f<this._searched_key_value_map.length;f++){var h=this._searched_key_value_map[f]["value"];var g=h.indexOf("/")==0?h.substring(1,h.length-1):h;this._searched_key_value_map[f]["value"]=g;this._add_searched_item(this._searched_key_value_map[f])}}};rdx.search.prototype._add_searched_item=function(p){if(rdx.utils.is_defined(p)){this._searched_div.css("display","block");var q=p.key;var s=p.value;var y=this._get_filter_column_label(q);var t=s;if(rdx.utils.is_defined(t)){var o=t.split(",");for(var v=0;v<o.length;v++){t=o[v];if(rdx.utils.is_defined(t)&&t.trim()==""){continue}var z=t;if(rdx.utils.is_defined(y)&&y!=""){t=y+" : <strong>"+t+"</strong>"}var u=$("<div>").addClass("filter_value").append(t);var x=$("<span>");u.append(x);x.bind(rdx.events.CLICK,{key:q,value:z,filter_item:u,search:this},function(e){var d=e.data.key;var h=e.data.value;var l=e.data.filter_item;var F=e.data.search;if(rdx.utils.is_defined(l)){e.data.filter_item.remove()}var m=null;if(rdx.utils.is_defined(F._all_search_keys)&&rdx.utils.is_defined(F._all_search_keys[d])){m=F._all_search_keys[d]}if(rdx.utils.is_defined(m)){if(rdx.utils.is_defined(F._available_search_keys)&&rdx.utils.is_not_defined(F._available_search_keys[m])){F._available_search_keys[m]={key:d};F._available_search_keys.length++}var c=false;if(rdx.utils.is_defined(F._searched_key_value_map)&&(F._searched_key_value_map.length)){var a=false;for(var G=0,n=F._searched_key_value_map.length;G<n;G++){var g=F._searched_key_value_map[G]["key"];var b=F._searched_key_value_map[G]["value"];if(rdx.utils.is_defined(g)&&g==d){if(b.indexOf(",")!=-1){c=true;var H=h+",";var E=","+h;if(b.indexOf(H)!=-1){b=b.replace(H,"")}else{if(b.indexOf(E)!=-1){b=b.replace(E,"")}}F._searched_key_value_map[G]["value"]=b;break}c=false;a=true;break}}if(a){F._searched_key_value_map.splice(G,1)}}if(rdx.utils.is_defined(F._used_search_keys)&&!c){delete F._used_search_keys[m];F._used_search_keys.length--;if(F._used_search_keys.length==0){F._filter_container.empty();F._searched_div.css("display","none");F._remove_all_shown=false}}}var f=F._get_search_row(F._available_search_keys,F._used_search_keys);F._search_table.append(f);F._do_search()});this._filter_container.append(u)}}if(!this._remove_all_shown){var w=$("<a>").attr("href","#").attr("title",rdx.i18n.get_string("rdx.search.remove_all")).append(rdx.i18n.get_string("rdx.search.remove_all")).bind(rdx.events.CLICK,{search:this},function(b){var a=b.data.search;if(rdx.utils.is_defined(a)&&rdx.utils.is_defined(a._do_clear)){a._do_clear()}});this._filter_container.append(w);this._remove_all_shown=true}}};rdx.search.prototype._create_search_form=function(){if(rdx.utils.is_defined(this._search_div)){this._search_div.children().remove()}this._search_table=this._create_search_table();var c=$("<table>").attr("cellspacing","3");var d=$("<tr>");this._search_button=$("<button>").addClass("rdx_button rdx_blue_button").text(rdx.i18n.get_string("rdx.search.refine_search"));d.append($("<td>").append(this._search_button));c.append(d);this._search_button.bind(rdx.events.CLICK,{search:this},function(a){a.data.search._add_search_filter(a.data.search._search_label_combo,a.data.search._search_field);a.data.search._do_search();a.preventDefault()});this._form=$("<form>");this._form.append(this._search_table);this._form.append(c);this._search_div=$("<div>").addClass("search_block");this._search_div.append(this._form)};rdx.search.prototype._get_filter_column_label=function(n){var l="";for(var o=0;o<this._search_dropdown_map.length;o++){var m=this._search_dropdown_map[o];var h=m.label;var g=m.key;if(g===n){l=rdx.i18n.get_string(h);break}}return l};rdx.search.prototype._create_search_table=function(){this._search_label_combo_array=[];for(var s=0;s<this._search_dropdown_map.length;s++){var t=this._search_dropdown_map[s];var p=t.label;var n=t.key;var q=false;if(rdx.utils.is_defined(this._searched_key_value_map)&&this._searched_key_value_map.length){for(var u=0;u<this._searched_key_value_map.length;u++){var w=this._searched_key_value_map[u];var x=w.key;if(rdx.utils.is_defined(x)&&x==n){q=true;break}}}if(q&&rdx.utils.is_not_defined(this._used_search_keys[p])){this._used_search_keys[p]={key:n};this._used_search_keys.length++}else{this._available_search_keys[p]={key:n};this._available_search_keys.length++}this._all_search_keys[n]=p;this._all_search_keys.length++}var v=$("<table>").attr("cellspacing","3");var o=this._get_search_row(this._available_search_keys,this._used_search_keys);v.append(o);return v};rdx.search.prototype._do_clear=function(){var d=new Array();for(var f in this._used_search_keys){d[f]=this._used_search_keys[f];d.length++}for(var f in this._available_search_keys){d[f]=this._available_search_keys[f];d.length++}this._used_search_keys=[];this._used_search_keys.length=0;this._searched_key_value_map=[];this._searched_key_value_map.length=0;this._available_search_keys=d;this._available_search_keys.length=d.length;this._filter_container.empty();rdx.utils.slide_up_down(this._searched_div,true,null,20);rdx.utils.slide_up_down(this._search_div,true,null,20);this._remove_all_shown=false;this._search_table.empty();var e=this._get_search_row(this._available_search_keys,this._used_search_keys);this._search_table.append(e);this._search_callback.call_back([false,{}])};rdx.search.prototype._do_search=function(){var b=this._get_search_values();if(rdx.utils.is_defined(b)&&rdx.utils.is_defined(this._search_callback)){rdx.utils.slide_up_down(this._search_div,true);this._search_callback.call_back([b.filter_present,b.map])}};rdx.search.prototype._get_search_values=function(){var l={};var n=false;if(rdx.utils.is_defined(this._searched_key_value_map)&&(this._searched_key_value_map.length)){for(var o=0,g=this._searched_key_value_map.length;o<g;o++){if(rdx.utils.is_defined(this._searched_key_value_map[o]["key"])&&rdx.utils.is_defined(this._searched_key_value_map[o]["value"])){var h=this._searched_key_value_map[o]["key"];var m=this._searched_key_value_map[o]["value"];if(rdx.utils.is_not_empty(h)&&rdx.utils.is_not_empty(m)){m=m.replace(/\//g,"\\/");n=true;l[h]="/"+m+"/"}}}}return{filter_present:n,map:l}};rdx.search.prototype.get_search_filter_map=function(){return this._get_search_values().map};rdx.search.prototype.add_search_listner=function(b){this._search_callback=b};rdx.search.prototype._get_search_combo_values=function(f,l,g){var h=[];for(var m in f){if(!rdx.NON_REGEX_SEARCH&&rdx.utils.is_not_defined(l[m])){h.push(m)}else{if(rdx.NON_REGEX_SEARCH){h.push(m)}}}if(rdx.utils.is_defined(g)){h.add(g)}return h};rdx.search.prototype._search_field_change=function(z,q,s,w){if(rdx.utils.is_defined(this._available_search_keys[q])){w.get_properties().key=this._available_search_keys[q].key}if(rdx.utils.is_defined(q)&&rdx.utils.is_defined(s)){var o;var u;for(var x=0;x<this._search_dropdown_map.length;x++){var y=this._search_dropdown_map[x];var v=y.type;var t=rdx.i18n.get_string(y.label);if(t===q){u=y.label;o=v;break}}var p=this._get_search_row(this._available_search_keys,this._used_search_keys,o,u);this._search_table.append(p)}};rdx.search.prototype._get_search_row=function(H,N,M,L){if(rdx.utils.is_defined(this._search_row)){this._search_row.remove()}var E=this._get_search_combo_values(H,N,null);if(rdx.utils.is_not_defined(L)&&rdx.utils.is_defined(E)){for(var A=0;A<this._search_dropdown_map.length;A++){var w=this._search_dropdown_map[A];var K=w.type;if(w.label==E[0]){M=K;L=w.label;break}}}var J=$("<tr>");this._search_row=J;var G=$("<td>");var D=new rdx.form_field();if(rdx.utils.is_defined(M)&&M=="VALDATE"){D.get_properties().show_time=true;D.get_properties().date_format="dd M yy";D.get_properties().drop_down_options={"rdx.Today":"today","rdx.LAST_1_HOUR":"last_1_hour","rdx.LAST_12_HOURS":"last_12_hours","rdx.LAST_DAY":"last_day","rdx.LAST_WEEK":"last_week","rdx.LAST_MONTH":"last_month","rdx.LAST_6_MONTH":"last_6_month","rdx.Custom":"custom"};this._search_field=rdx.component_helper.get_component(rdx.form_constants.CALENDAR,G,D).render()}else{this._search_field=rdx.component_helper.get_component(rdx.form_constants.TEXT_BOX,G,D).render();this._search_field.get_component().addClass("search_text_box")}var z=$("<td>");var y={formatter:{map:E},mandatory:true};var I=new rdx.form_field(y);this._search_label_combo=new rdx.dropdown_menu(z,I,this._parent);this._search_label_combo.set_Scroll_parent(this._parent);this._search_label_combo.render();this._search_label_combo.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._search_field_change,[D]));this._search_label_combo.get_component().parent().addClass("search_field_label");if(rdx.utils.is_defined(L)&&L!=""){this._search_label_combo.set_data(L);this._search_label_combo.select_value(rdx.i18n.get_string(L),false)}else{this._search_label_combo.set_data(E[0]);this._search_label_combo.select_value(rdx.i18n.get_string(E[0]),false);this._search_field_change(null,E[0],null,D)}this._search_label_combo_array.push(this._search_label_combo);var C=$("<td>").addClass("rdx_help_cell_container search_bubble");var F=$("<span>").addClass("help_cell");C.append(F);C.bind(rdx.events.MOUSE_OVER,{that:this,parent_added:C},function(a){a.data.parent_added.addClass("rdx_tooltip_active");a.data.that.create_tooltip(a.data.parent_added);a.preventDefault()}.bind(this));C.bind(rdx.events.MOUSE_LEAVE,{that:this},function(b){var a=b.data.that._search_tooltip._tooltip;if(!(rdx.utils.is_hover(a,b))){b.data.that.remove_search_tooltip(b)}});var x=$("<td>").addClass("search_add_parent");var B=$("<button>").addClass("search_add");x.append(B);x.css("display","none");x.bind(rdx.events.CLICK,{search:this,search_label_combo:this._search_label_combo,search_field:this._search_field},function(a){a.data.search._add_search_filter(a.data.search_label_combo,a.data.search_field);a.preventDefault()});if(rdx.utils.is_defined(M)&&M=="VALDATE"){x.css("display","table-cell");this._current_item_added_to_filter=false}else{this._search_field.add_event_handler("keyup",new rdx.callback(function(b,f,a,e,c,d){if(rdx.utils.is_defined(a)&&rdx.utils.is_defined(e)){if(rdx.utils.is_defined(a.get_data())&&a.get_data().length>=1&&d.formatter.map.length>1){e.css("display","table-cell");f._current_item_added_to_filter=false}else{e.css("display","none");if(d.formatter.map.length==1){f._current_item_added_to_filter=false}else{f._current_item_added_to_filter=true}}}},[this,this._search_field,x,this._search_label_combo,y]))}J.append(z);J.append(G);J.append(C);J.append(x);return J};rdx.search.prototype._add_search_filter=function(J,F){var C=F.get_component_type();var w=false;var x=F.get_data();if(C==rdx.form_constants.TEXT_BOX){w=x.length>=1}else{if(C==rdx.form_constants.CALENDAR){w=rdx.utils.is_defined(x.start_date)||rdx.utils.is_defined(x.duration_value)}}if(w){var A=J.get_field().get_formatter().get_map_keys()[J.get_selected_index()];if(rdx.utils.is_not_defined(this._used_search_keys[A])){this._used_search_keys[A]=this._available_search_keys[A];this._used_search_keys.length++}if(!rdx.NON_REGEX_SEARCH||C==rdx.form_constants.CALENDAR){delete this._available_search_keys[A];this._available_search_keys.length--}if(rdx.utils.is_not_defined(this._searched_key_value_map)){this._searched_key_value_map=new Array()}var E=this._used_search_keys[A]["key"];if(rdx.NON_REGEX_SEARCH&&C!=rdx.form_constants.CALENDAR&&rdx.utils.is_value_in_json_array(this._searched_key_value_map,"key",E)){for(var B in this._searched_key_value_map){var z=this._searched_key_value_map[B]["key"];if(rdx.utils.is_not_defined(z)){continue}if(z===E){var D=this._searched_key_value_map[B]["value"];D=D+","+rdx.utils.html_encode(F.get_data());this._searched_key_value_map[B]["value"]=D;break}}}else{if(C==rdx.form_constants.CALENDAR){var I=F.get_data();if(rdx.utils.is_defined(I)){var H=I.duration_value;if(rdx.utils.is_not_defined(H)){H=I.start_epoch+"-"+I.end_epoch}this._searched_key_value_map.push({key:this._used_search_keys[A]["key"],value:rdx.utils.html_encode(H)})}}else{this._searched_key_value_map.push({key:this._used_search_keys[A]["key"],value:rdx.utils.html_encode(F.get_data())})}}if(rdx.NON_REGEX_SEARCH||!this._current_item_added_to_filter){if(C==rdx.form_constants.CALENDAR){var G=F.get_data();if(rdx.utils.is_defined(G)){var y=G.duration_value;var u=F.get_selected_date_option();if(rdx.utils.is_defined(y)){u=rdx.i18n.get_string(u)}else{u=G.start_date+":"+G.start_time+" - "+G.end_date+":"+G.end_time}this._add_searched_item({key:this._used_search_keys[A]["key"],value:rdx.utils.html_encode(u)})}}else{this._add_searched_item({key:this._used_search_keys[A]["key"],value:rdx.utils.html_encode(F.get_data())})}this._current_item_added_to_filter=true}var v=this._get_search_row(this._available_search_keys,this._used_search_keys);if(this._available_search_keys.length>0){this._search_table.append(v)}else{this._do_search()}}};rdx.search.prototype.remove_search_tooltip=function(c){var d=c?c.data.that:this;if(d._search_tooltip){d._search_tooltip.remove_tooltip();d._search_tooltip=undefined}};rdx.search.prototype.add_help_slider=function(c){var d=rdx.page.show_slider({title:"Regular Expressions Basic Syntax Reference",slider_width:"620px",message:"Hello World"},rdx.HELP_SLIDER);this._search_tooltip._help_dialog_cell_content=search_tooltip_learn_more_content;this._search_tooltip._add_slider_content(d)};rdx.search.prototype.create_tooltip=function(v){if(rdx.utils.is_defined(this._search_tooltip)){return this._search_tooltip}this._search_tooltip=new rdx.tooltip(v,{remove_tooltip_mouse_leave:false});var s=rdx.i18n.get_string("rdx.search.we_support_regex");var t=rdx.i18n.get_string("rdx.search.search_extra_msg");var q=$("<div>").addClass("search_tip_container");var p=$("<div>").addClass("search_tip_content");var x=$("<span>").addClass("search_help_text").append(s).append("</br>").append(t);var n=$("<span>").addClass("search_tip_close_button");var o=$("<button>").addClass("search_grey_button search_help_button").text(rdx.i18n.get_string("rdx.search.search_learn_more"));o.bind(rdx.events.CLICK,{},function(a){this.add_help_slider();this.remove_search_tooltip()}.bind(this));n.bind(rdx.events.CLICK,{that:this},this.remove_search_tooltip);p.append(n,x);q.append(p,o);var u=this._search_tooltip.render({append_element:q});var w=q.closest(".rdx_bubble");w.css({left:(w.offset().left-6)+"px"});q.closest(".rdx_tooltip_dialog_cell").bind(rdx.events.MOUSE_LEAVE,{},function(a){this.remove_search_tooltip()}.bind(this));return this._search_tooltip};rdx.search.prototype.get_component=function(){return this._search_div};rdx.search.prototype.collapse_searched_div=function(){if(rdx.utils.is_defined(this._searched_div)){this._do_clear();this._searched_div.css("display","none")}};var search_tooltip_learn_more_content='<p>Enter the search keyword in the text box. You can perform a simple CONTAINS search by entering the search keyword in the text box or search by using Regular expressions.</p><table cellpadding="4" cellspacing="2" frame="border" border="1" rules="all"><thead class="thead" align="left"><tr class="row"><th class="entry" colspan="2" valign="top"> Regular Expression</th><th class="entry" colspan="2" valign="top"> Examples</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry" valign="top"> <strong class="ph b"> Character</strong> </td><td class="entry" valign="top"> <strong class="ph b"> Definition</strong> </td><td class="entry" valign="top"> <strong class="ph b"> Pattern</strong> </td><td class="entry" valign="top"> <strong class="ph b"> Sample Matches</strong> </td></tr><tr class="row"><td class="entry" valign="top"> ^ </td><td class="entry" valign="top"> Start of a string. </td><td class="entry" valign="top"> ^abc </td><td class="entry" valign="top"> abc, abcdefg, abc123, ... </td></tr><tr class="row"><td class="entry" valign="top"> $ </td><td class="entry" valign="top"> End of a string. </td><td class="entry" valign="top"> abc$ </td><td class="entry" valign="top"> abc, endsinabc, 123abc, ... </td></tr><tr class="row"><td class="entry" valign="top"> . </td><td class="entry" valign="top"> Any character (except \n newline) </td><td class="entry" valign="top"> a.c </td><td class="entry" valign="top"> abc, aac, acc, adc, aec, ... </td></tr><tr class="row"><td class="entry" valign="top"> | </td><td class="entry" valign="top"> Alternation. </td><td class="entry" valign="top"> bill|ted </td><td class="entry" valign="top"> ted, bill </td></tr><tr class="row"><td class="entry" valign="top"> {...} </td><td class="entry" valign="top"> Explicit quantifier notation. </td><td class="entry" valign="top"> ab{2}c </td><td class="entry" valign="top"> Abbc </td></tr><tr class="row"><td class="entry" valign="top"> [...] </td><td class="entry" valign="top"> Explicit set of characters to match. </td><td class="entry" valign="top"> a[bB]c </td><td class="entry" valign="top"> abc, aBc </td></tr><tr class="row"><td class="entry" valign="top"> (...) </td><td class="entry" valign="top"> Logical grouping of part of an expression. </td><td class="entry" valign="top"> (abc){2} </td><td class="entry" valign="top"> Abcabc </td></tr><tr class="row"><td class="entry" valign="top"> * </td><td class="entry" valign="top"> 0 or more of previous character. </td><td class="entry" valign="top"> ab*c </td><td class="entry" valign="top"> ac, abc, abbc, abbbc, ... </td></tr><tr class="row"><td class="entry" valign="top"> + </td><td class="entry" valign="top"> 1 or more of previous character. </td><td class="entry" valign="top"> ab+c </td><td class="entry" valign="top"> abc, abbc, abbbc, ... </td></tr><tr class="row"><td class="entry" valign="top"> &#92; </td><td class="entry" valign="top"> &#92;s matches a white space;<p class="p">&#92; before one of the above special characters treats that character as a literal.</p></td><td class="entry" valign="top"> a&#92;sc<p class="p">&#92; $</p></td><td class="entry" valign="top"> a c<p class="p">$</p></td></tr></tbody></table>';rdx.form_utils=new function(){this.get_form_fields=function(z,s,v,E,x){var B=s.get_resource_properties();var D=s.get_properties();var w=new Array();for(var t in z){var F=rdx.form_utils.get_form_field_properties(z[t],B[t],D,t,x);if(!rdx.form_utils._can_render(F,t,s.get_form_data())){continue}var y=new rdx.form_field(F,s);y.set_form_data_fetch_callback(s.get_form().get_form_data_callback());y.set_crumb_handler(s.get_crumb_handler());if(rdx.utils.is_defined(v)&&y.get_label_width()==-1){y.set_label_width(v)}if(rdx.utils.is_defined(E)&&y.get_width()==-1){y.set_width(E)}w.push(y);s.add_form_field_to_fields(y);if(y.get_input_type()=="password"&&y.is_confirm()){F.label=rdx.i18n.get_string("rdx.label_confirm")+" "+y.get_label();F.key=F.key+"_confirm";var u=new rdx.form_field(F,s);s.add_form_field_to_fields(u);w.push(u)}if(rdx.utils.is_defined(y.get_extra_field())){var A=rdx.form_utils.get_form_field_properties(y.get_extra_field(),B[y.get_extra_field().property],D,y.get_extra_field().property,x);var C=new rdx.form_field(A,s);C._set_parent_form_field(y);y._set_extra_form_field(C)}}return w};this._can_render=function(d,e,f){if(rdx.utils.is_defined(f)){if(rdx.utils.is_not_defined(f[e])){return false}if(rdx.utils.is_defined(d.render)&&rdx.utils.is_defined(d.render.evaluate)&&rdx.utils.is_function(d.render.evaluate)){return d.render.evaluate([f])}}else{if(rdx.utils.is_defined(d.render)&&rdx.utils.is_defined(d.render.evaluate)&&rdx.utils.is_function(d.render.evaluate)){return d.render.evaluate()}}return true};this.initialize_prompt_event_handler=function(f,e){var h=rdx.utils.is_not_defined(f.event)?rdx.events.CHANGE:f.event;var g=rdx.utils.is_defined(e.get_field().get_resource_value())?e.get_field().get_resource_value():null;e.add_event_handler(h,new rdx.callback(function(b,d,c,a){setTimeout(function(){rdx.form_utils._handle_prompt_event(b,d,c,a)},10)},[f,e,g]))};this._handle_prompt_event=function(h,f,e,g){if(g!=e.get_data()){if(e.get_data()==e.get_field().get_recent_value()){return}if(rdx.utils.is_defined(f.values)){if($.inArray(e.get_data(),f.values)==-1){e.get_field().set_recent_value(e.get_data());return}}if(rdx.utils.is_defined(f.expression)){if(!f.expression.evaluate()){e.get_field().set_recent_value(e.get_data());return}}if(!rdx.utils.is_ie()){h.preventDefault()}else{h.returnValue=false}if(rdx.utils.is_defined(f.message)){rdx.message_box.confirm(rdx.i18n.get_string(f.message),new rdx.callback(function(b,a){b.get_field().set_recent_value(b.get_data())},[e,g]),new rdx.callback(function(b,a){b.set_data(b.get_field().get_recent_value())},[e,g]))}if(rdx.utils.is_defined(f.submit_button_label)){e.get_field().get_form_holder().get_form().update_submit_button_label(f.submit_button_label)}}else{if(rdx.utils.is_defined(f.submit_button_label)){e.get_field().get_form_holder().get_form().reset_submit_button_label()}e.get_field().set_recent_value(e.get_data())}};this.get_form_field_properties=function(o,g,n,l,h){var m=$.extend({},o);if(rdx.utils.is_defined(h)&&rdx.utils.is_not_defined(m.target_resource)){m.target_resource=h}if(!this._has_resource(g)){m.key=l;return m}m.key=g.key;if(rdx.utils.is_not_defined(m.label)){m.label=g.label}if(n&&n.submit_operation&&n.submit_operation.method&&n.submit_operation.method==rdx.model_constants.ADD&&g.value){m.value=g.value}if(rdx.utils.is_not_defined(m.tooltip)&&rdx.utils.is_defined(g.tooltip)){m.tooltip=g.tooltip}if(g.type){m.type=g.type}if(g.note){m.note=g.note}if(rdx.utils.is_defined(g.mandatory)){m.mandatory=g.mandatory}if(rdx.utils.is_defined(g.value)){m.value=g.value}if(rdx.utils.is_defined(g.min_max)){m.min_max=g.min_max}if(rdx.utils.is_defined(g.enumid)){m.enumid=g.enumid}return m};this._has_resource=function(b){if(rdx.utils.is_not_defined(b)){return false}return true};this._check_send_to_server=function(m,h){var f=m.get_form_field(h);var l={};l[h]=m.get_field_value(h);var g=f.get_send_to_server();if((rdx.utils.is_defined(f)&&rdx.utils.is_defined(g))){if(rdx.utils.is_defined(g.evaluate)&&rdx.utils.is_function(g.evaluate)){if(!g.evaluate([l])){return false}}else{if(typeof(g)=="string"){switch(g){case rdx.form_constants.IF_ENABLED:if(f.is_read_only()==true){return false}break;case rdx.form_constants.IF_SHOWN:if(f.is_hidden()==true){return false}break;case rdx.form_constants.IF_NOT_EMPTY:if(rdx.utils.is_empty(l[h])){return false}break;case rdx.form_constants.IF_MODIFIED:if(!m.get_form_holder().is_add_mode()){if(l[h]==f.get_resource_value()){return false}}break;case rdx.form_constants.IF_ENABLED_AND_NOT_EMPTY:if(f.is_hidden()==true||f.is_read_only()==true||rdx.utils.is_empty(l[h])){return false}break;case rdx.form_constants.IF_ENABLED_AND_MODIFIED:if(f.is_hidden()==true||f.is_read_only()==true){return false}else{(!m.get_form_holder().is_add_mode())}if(rdx.utils.is_defined(f.get_formatter())&&rdx.utils.is_defined(f.get_formatter().get_map_value(f.get_resource_value()))){if(l[h]==f.get_formatter().get_map_value(f.get_resource_value())){return false}}else{if(l[h]==f.get_resource_value()){return false}}break}}}}return true};this._check_default_if_null=function(m,l){var f=m.get_form_field(l);var g=f.get_value();var h=m.get_field_value(l);return(rdx.utils.is_defined(f,g)&&(f.is_default_if_null()==true)&&rdx.utils.is_empty(h))};this.validate_file_upload_send_to_server=function(g,m){var n=[];for(var o=0;o<g.length;o++){var h=g[o].get_field();var l=h.get_key();if(this._check_send_to_server(m,l)){n.push(g[o])}}return n};this.prefill_form_data=function(q,y,w,A){var u=y._get_form_fields();var s=y.get_form_holder().get_all_containers();for(var p in s){var z=s[p]["field"];if(rdx.utils.is_function(z.is_container_refresh_required)){if(z.is_container_refresh_required()==true&&rdx.utils.is_function(z.refresh_container)){y.increment_expected_responses();var x=new rdx.callback_params({return_callback:new rdx.callback(y,y.check_and_initialize_form)});z.refresh_container(x)}}}for(var v=0,t=u.length;v<t;v++){var B=u[v].get_resource_name();if(rdx.utils.is_defined(B)){this.prefill_component_data(q,y,u[v],B,w,A,u[v].get_view_context())}else{if(u[v].get_type()=="VALENUM"){y.set_field_value(u[v].get_key(),u[v].get_value())}}}};this.prefill_dependency_data_refresh_components_data=function(G,O,A,y,x,M,F,z,N,L){var B=true;if(rdx.utils.is_defined(L)&&L===true){B=false}var P=[];var K=[];for(var J=0;J<A.length;J++){P[J]=A[J].get_key();K[J]=O.get_field(P[J])}if(rdx.utils.is_defined(A[0].get_formatter())&&rdx.utils.is_defined(A[0].get_formatter().get_data_populate_callback())){var C=A[0].get_formatter().get_data_populate_callback();var D=new rdx.callback_params({resource_name:y,return_callback:new rdx.callback(x,M,[P,y,N]),app_context_data:x.get_form_holder().get_app_context_data(),resource_data:z});C.call_back([D])}else{z=rdx.utils.is_not_defined(z)?{}:z;var E=null;var H=x.get_form_holder().get_app_context_data();if(rdx.utils.is_defined(F)){var I=new rdx.context(F);I.set_context_data(z);if(I.is_url_params_set()){E=I.get_url_params()}}rdx.model.get(rdx.utils.get_resource(y),E,new rdx.callback(x,M,[P,y,N]),G,new rdx.callback(null,rdx.form_utils._handle_resource_form_field_error,[K]))}if(B){O.increment_expected_responses()}};this.prefill_component_data=function(J,E,x,H,B,G,I,z,A,F){var D=true;if(rdx.utils.is_defined(F)&&F===true){D=false}if(rdx.utils.is_defined(x.get_formatter()&&x.get_formatter().get_data_populate_callback())){var v=x.get_formatter().get_data_populate_callback();var C=new rdx.callback_params({resource_name:H,return_callback:new rdx.callback(B,G,[x.get_key(),H,A]),app_context_data:B.get_form_holder().get_app_context_data(),resource_data:z,configured_data:E.get_formatted_response()});v.call_back([C])}else{var w=E.get_field(x.get_key());z=rdx.utils.is_not_defined(z)?{}:z;var u=null;if(rdx.utils.is_defined(I)){var y=new rdx.context(I);y.set_context_data(z);if(y.is_url_params_set()){u=y.get_url_params()}}rdx.model.get(rdx.utils.get_resource(H),u,new rdx.callback(B,G,[x.get_key(),H,A]),J,new rdx.callback(null,rdx.form_utils._handle_resource_form_field_error,[w]))}if(D){E.increment_expected_responses()}};this.add_save_as_link=function(s,n,v,t){var x={method:rdx.model_constants.POST,encoding_type:"application/x-www-form-urlencoded",name:"form",id:"saveas_data_holder_"+Math.round(Math.random()*100),url:"",filename:""};var q=$.extend({},x,v);var u=$("<div>").addClass("component_alignment").css("width","100%");var w=$("<div>");w.append(s);var o=$("<div>");var p=$("<a>").attr("href","#noAnchor").text(rdx.i18n.get_string("rdx.save_text_as_file")).bind(rdx.events.CLICK,{element:s,properties:q,parent:n},function(a){var e=a.data.properties;var f=a.data.element;var c=a.data.parent;var b=$("<form>");b.attr("method",e.method);b.attr("action",e.url);b.attr("target",e.id);if(rdx.utils.is_defined(t)&&t){b.append(rdx.dom_utils.get_element(rdx.form_constants.TEXT_AREA).hide().attr("name","content").val(f.text()))}else{b.append(rdx.dom_utils.get_element(rdx.form_constants.TEXT_AREA).hide().attr("name","content").val(f.val()))}b.append(rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX).hide().attr("name","filename").val(e.filename));if(rdx.utils.is_defined(rdx.ajax_handler_constants.CUSTOM_HEADERS)){for(var g in rdx.ajax_handler_constants.CUSTOM_HEADERS){b.append($("<input>").attr("type","text").attr("value",rdx.ajax_handler_constants.CUSTOM_HEADERS[g]).attr("name",g).attr("style","display:none").css("height","0px"))}}var d=$("<iframe>",{width:1,height:1,frameborder:0,css:{display:"none"}});d.attr("name",e.id);d.attr("id",e.id);c.append(d);setTimeout(function(){var h=window[e.id].document.body;h=$(h);h.append(b);b.submit()},50)});o.append(p);u.append(w).append(o);n.append(u);return n};this.add_form_field_link=function(t,w,s,x,z,y){if(s.get_input_type()==rdx.form_constants.TEXT_AREA||s.get_input_type()==rdx.form_constants.LABEL){return this._add_hyperlink_form_field(t,w,s,x,z)}var o={add_model_change_listener:true,success_callback:null,add_model_method:rdx.model_constants.ADD};var u=$.extend(true,o,z);if(rdx.utils.is_not_defined(y)){y=$("<table>").attr("cellpadding",0).attr("cellSpacing",0).addClass("list_table")}var p=$("<tr>");var v=$("<td>");v.append(w);p.append(v);if(rdx.utils.is_defined(s.get_add_view_name())){var q=($("<img>").attr("src",rdx.images.PLUS_WHITE));p.append(this._add_link_image(s.get_add_view_name(),u.add_model_method,s,q,"rdx.button_add",t,x,u,"add_action"))}if(rdx.utils.is_defined(s.get_set_view_name())){var q=($("<img>").attr("src",rdx.images.EDIT_IMAGE));p.append(this._add_link_image(s.get_set_view_name(),rdx.model_constants.SET,s,q,"rdx.button_modify",t,x,u,"edit_action"))}else{if(rdx.utils.is_defined(s.get_view_view_name())){var q=($("<img>").attr("src",rdx.images.VIEW_DETAIL_IMAGE));p.append(this._add_link_image(s.get_view_view_name(),rdx.model_constants.SET,s,q,"rdx.button_open",t,x,u,"details_action"))}else{if(rdx.utils.is_defined(s.get_custom_button_properties())){p.append(this._add_custom_button_for_list(s.get_custom_button_properties(),s,t))}}}w.bind(rdx.events.CHANGE,{list:t,link_map:x},function(c){var a=c.data.list;var b=c.data.link_map;var d=rdx.utils.is_empty(a.get_data())?false:true;for(view_name in b){if((d||a.get_field().get_add_view_name()==view_name)&&!a.get_field().is_read_only()){b[view_name].removeClass("disabled")}else{if(d&&a.get_field().is_read_only()&&a.get_field().get_set_view_name()==view_name){b[view_name].removeClass("disabled")}else{b[view_name].addClass("disabled")}}}});y.append(p);return y};this._add_link_image_for_expr_builder=function(o,t,u,v,p,x,y,w){var z=$("<td>").addClass("link_cell");var s=$("<a>").attr("href","#noAnchor").addClass("rdx_right pointer_cursor").bind(rdx.events.CLICK,{click_handler_callback:o,form_field:u},function(a){var d=a.data.form_field;var b=a.data.click_handler_callback;var c={__data:x.get_data(),__set_data_callback:new rdx.callback(function(e){e=decodeURIComponent(e);x.set_data(e)})};b.call_back([c])});var q=rdx.i18n.get_string(p);if(v!=null){z.append(s.append(v).attr("title",q).attr("alt",q))}return z};this._add_custom_button_for_list=function(l,g,m){var h=$("<button>").addClass("rdx_button rdx_grey_button").append($("<span>").text(rdx.i18n.get_string(l.label))).bind(rdx.events.CLICK,{properties:l,element:m,form_field:g},function(a){if($(this).hasClass("disabled")){return}if(a.data.element.get_field().is_read_only()){return}var b=rdx.utils.get_resource(g.get_resource_name());var c=function(p,d,q,e){p.data.ns_callback.call_back([d,q,e])};if(l.add_model_change_listener){rdx.model.add_model_change_custom_listener(b,new rdx.callback(null,function(x,u,d,v,w,t){var e=rdx.utils.get_formatted_response(x);if(d.refresh_action=="ADD_NEW"||u==rdx.model_constants.ADD){rdx.form_utils.add_item_to_form_field(v,w,e)}else{rdx.form_utils.update_item_in_form_field(v,w,e)}rdx.model.remove_model_change_custom_listener(w,t)},[m,b,c]),c)}l.handler.call_back()});if(rdx.utils.is_defined(l.render)){var f=l.render;if(rdx.utils.is_defined(f.evaluate)&&rdx.utils.is_function(f.evaluate)){if(f.evaluate()===false){h.hide()}}}return h};this._add_link_image=function(A,v,w,x,q,z,C,y,B){var s={add_model_change_listener:true,success_callback:null,add_model_method:rdx.model_constants.ADD};y=$.extend(true,s,y);var D=$("<td>").addClass("link_cell");if(rdx.utils.is_defined(B)){D.addClass(B)}var u=$("<a>").attr("href","#noAnchor").addClass("image_link").bind(rdx.events.CLICK,{view_name:A,element:z,link_properties:y,form_field:w},function(n){var h=n.data.view_name;var g=n.data.element;if($(this).hasClass("disabled")){return}if(g.get_field().is_read_only()&&g.get_field().get_set_view_name()!=h){return}var h=n.data.view_name;var e=n.data.form_field;var m=$.extend(true,{},rdx.utils.get_view(h));if(rdx.utils.is_defined(m.view_properties)&&rdx.utils.is_not_defined(m.view_properties.destroy_on_success)){m.view_properties.destroy_on_success=true}else{m.view_properties={};m.view_properties.destroy_on_success=true}var o=rdx.utils.get_resource(m.resource_name);var p=g._parent;var a=null;if(rdx.utils.is_defined(e.get_crumb_handler())){p=e.get_crumb_handler();a=new rdx.base_view(p,m);a.set_crumb_handler(e.get_crumb_handler())}else{if(rdx.utils.is_defined(e.get_form_holder())&&e.get_form_holder().is_show_slider()==true){a=rdx.view_utils.show_view_in_slider(m,null,null,null,false)}else{m.view_properties.dialog_mode=true;a=new rdx.base_view(p,m)}}var c=a.get_view_context();var f=new Object();var l={};if(rdx.utils.is_defined(n.data.form_field._properties.add_link)&&rdx.utils.is_defined(n.data.form_field._properties.add_link.properties)&&n.data.form_field._properties.add_link.properties.inherit_data==true){a.set_inherited_data_callback(n.data.form_field.get_form_data_fetch_callback())}if(v==rdx.model_constants.SET){f.get_by_name=o.primary_keys;var b=g._field.get_formatter();l=rdx.form_utils._get_data_object(g,o);c.set_url_params(f,l)}else{if(rdx.utils.is_defined(a.get_inherited_data_callback())){l=a.get_inherited_data_callback().call_back()}f.is_data_set=true;c.set_url_params(f,l)}a.prepare_view();var d=function(I,K,J,L){I.data.ns_callback.call_back([K,J,L])};if(y.add_model_change_listener){rdx.model.add_model_change_custom_listener(o,new rdx.callback(null,function(T,O,V,S,N,U,R,Q){var P=rdx.utils.get_formatted_response(T);if(Q.get_add_view_refresh()==true){Q.set_recent_value(P)}else{if(V.refresh_action=="ADD_NEW"||O==rdx.model_constants.ADD){rdx.form_utils.add_item_to_form_field(S,U,P)}else{rdx.form_utils.update_item_in_form_field(S,U,P)}}rdx.model.remove_model_change_custom_listener(U,R)},[g,a,o,d,e]),d)}if(rdx.utils.is_defined(y.success_callback)){rdx.model.add_model_change_custom_listener(o,new rdx.callback(null,function(O,M,P,N,K,L){N.get_link_properties().success_callback.call_back([O,P.operation_object]);rdx.model.remove_model_change_custom_listener(K,d)},[g,o,d]),d)}$(a).bind(rdx.events.VIEW_DESTROYED,{element:g,view_resource:o,form_field:e},function(ab,U){var V=U;var W=ab.data.form_field.get_recent_value();var T=ab.data.form_field.get_resource_value();var Q=ab.data.form_field.get_form_holder();var S=ab.data.element.get_data();var R=rdx.utils.is_defined(W)&&rdx.utils.is_object(W)&&rdx.utils.is_defined(W[ab.data.form_field.get_key()])?W[ab.data.form_field.get_key()]:W;var Z=(rdx.utils.is_defined(R)&&R!=S&&R!=T)?true:false;if(ab.data.form_field.get_add_view_refresh()===true&&rdx.utils.is_defined(Q)&&rdx.utils.is_defined(Q.get_form())&&Z){var aa=Q.get_form();var P=ab.data.element.get_field().get_formatter().refresh_maps(W);ab.data.form_field.get_formatter().update_set_data(P);rdx.form_utils.prefill_component_data($(ab.data.element),aa,ab.data.form_field,ab.data.form_field.get_resource_name(),aa,aa.set_response_for_field,ab.data.form_field.get_view_context(),null,null,true)}setTimeout(function(){rdx.model.remove_model_change_custom_listener(o,d)},500)})});C[A]=u;var t=rdx.i18n.get_string(q);if(x!=null){D.append(u.append(x).attr("title",t).attr("alt",t))}return D};this._get_data_object=function(s,u){var v=s.get_field().get_input_type();var t={};switch(v){case"textarea":case"text":var o=$.trim(s.get_data());var p=o.split(",");for(var q=0;q<p.length;q++){var m=p[q];t[m]=m}break;case rdx.form_constants.ENTITY_CHOOSER:t={};t[u.primary_keys[0]]=s.get_data();break;default:var n=s._field.get_formatter();if(rdx.utils.is_function(s.get_available_data)){t=rdx.utils.get_formatted_response(n.get_resource_data(s.get_available_data()))}else{t=rdx.utils.get_formatted_response(n.get_resource_data(s.get_data()))}}return t};this.add_item_to_form_field=function(o,m,l){var h=o.get_field().get_input_type();var n=l;switch(h){case"text":case"textarea":var q="";for(var p in n){q=q+$.trim(n[p])+","}n=q.substring(0,q.length-1);break;case"label":break;case rdx.form_constants.ENTITY_CHOOSER:n=l[m.primary_keys[0]];break;default:n=o.get_field().get_formatter().refresh_maps(l);if(rdx.utils.is_function(o.add_item)){o.add_item(n)}}o.set_data(n)};this.update_item_in_form_field=function(m,h,g){var f=m.get_field().get_input_type();var l=null;if(f==rdx.form_constants.ENTITY_CHOOSER){if(rdx.utils.is_defined(g)){m.set_data(g[h.primary_keys[0]])}}else{l=m.get_field().get_formatter().refresh_maps(g,m.get_data());if(rdx.utils.is_function(m.update_item)){m.update_item(l)}}};this._does_response_contain_primary_key_info=function(e,f){for(var d=0;d<f.primary_keys;d++){if(rdx.utils.is_not_defined(e[f.primary_keys[d]])){return false}}return true};this._handle_resource_form_field_error=function(c,d){rdx.form_utils.unmask_component(d);rdx.message_box.error(c,null,null);rdx.status_bar.update_status(c,rdx.ERROR)};this.get_resource_for_operation=function(L,M,z,y){y=(rdx.utils.is_defined(y))?y:false;var O={};if(rdx.utils.is_defined(M)&&rdx.utils.is_defined(M.properties)){O=M.properties}var H=L.get_form_holder();var N=H.get_form_field_to_submit();if(rdx.utils.is_array(N)){var E=this._get_resource_for_operation(L,N,O,z,null,y);if(y){var A={};A.result=this._get_container_data(L,E.result,M,false);A.complete_form_data=E.complete_form_data;return A}return this._get_container_data(L,E,M,false)}else{var E={};var I=false;var F=0;var B={};for(var C in N){var x=rdx.utils.is_defined(z)&&rdx.utils.is_defined(z[C])?z[C]:null;var J={};var P=C==rdx.form_constants.PARENT_RESOURCE?M:rdx.utils.get_resource(C);if(F>=1&&P.name!=M.name){I=true}if(rdx.utils.is_defined(P)&&rdx.utils.is_defined(P.properties)){J=P.properties}var G=this._get_resource_for_operation(L,N[C],J,x,null,y);if(y){E[P.name]=G.result;B[P.name]=G.complete_form_data}else{E[P.name]=G}F=F+1}var D=null;if(I==true){D={result:E,multiple_resource:true}}else{D=E[M.name]}var K=this._get_container_data(L,D,M,I);if(y){var A={};A.result=K;A.complete_form_data=B;return A}return K}};this._get_resource_for_operation=function(H,L,G,B,v,I){var J=(rdx.utils.is_defined(B))?B:{};var C={};var w={};I=(rdx.utils.is_defined(I))?I:false;for(var y=0;y<L.length;y++){var x=L[y];var K=x.get_key();if(!x.is_part_of_resource()){continue}w[K]=H.get_field_value(K);if(x.is_not_input_field()){var E=x.get_send_to_server();if(rdx.utils.is_not_defined(E)){continue}}if(H.get_form_holder().is_strict_resource_mapping()&&!this._has_resource(G[K])&&!H.get_form_holder().is_standalone_mode()){continue}if(!this._check_send_to_server(H,K)){continue}var z=null;if(!this._check_default_if_null(H,K)){z=H.get_field_value(K)}else{z=H.get_form_field(K).get_value()}J[K]=z;if(rdx.utils.is_defined(x.get_extra_field())){var F=x.get_extra_field().property;var D=x._get_extra_form_field();if(!D.is_part_of_resource()){continue}if(D.is_not_input_field()){var E=D.get_send_to_server();if(rdx.utils.is_not_defined(E)){continue}}if(H.get_form_holder().is_strict_resource_mapping()&&!this._has_resource(G[K])&&!H.get_form_holder().is_standalone_mode()){continue}if(!this._check_send_to_server(H,F)){continue}if(!this._check_default_if_null(H,F)){J[F]=H.get_field_value(F)}else{J[F]=H.get_form_field(F).get_value()}}}if(I){var A={};A.result=J;A.complete_form_data=w;return A}return J};this._get_container_data=function(x,o,v,p){var w=x.get_form_holder().get_all_containers();if(rdx.utils.is_not_defined(w)){return o}var u={};for(var q in w){var z=w[q];if(rdx.utils.is_not_defined(z.field)){continue}if(!rdx.form_utils.is_container_valid_for_resource(z.field)){continue}var t=z.field.get_target_resource();var s=false;if(rdx.utils.is_defined(t)){s=t==v.name?false:true}var y=null;if(s==true&&p&&rdx.utils.is_defined(o.result[t])){y=o.result[t]}else{y=o}if(rdx.utils.is_defined(y)){z.field.set_data(y)}}return o};this.is_container_valid_for_resource=function(b){if(rdx.utils.is_not_defined(b)){return false}if(!rdx.utils.is_function(b.is_valid_resource)&&!rdx.utils.is_function(b.set_data)&&!rdx.utils.is_function(b.get_target_resource)){return false}if(!b.is_valid_resource()){return false}return true};this.set_basic_field_attributes=function(c,d){if(d.get_height()!=-1&&d.get_input_type()!=rdx.form_constants.CARD){c.height(d.get_height())}if(d.get_width()!=-1){c.width(d.get_width())}if(d.is_read_only()){c.attr("readonly","true")}};this.render_label_field=function(K,M,Q,E,H,z,A,P,I,J){A=H.get_input_type()==rdx.form_constants.LINK?false:A;var G=null;var R=true;var F=null;if(!z){if(rdx.utils.is_not_defined(P)){P=1}if(I==true){var O=(1/P)*(30);var C=O+"%";M.css("width",C)}}M.addClass("label");if(rdx.form_utils.is_label_first(E)){if(rdx.utils.is_defined(A)&&A==true){var G=$("<tr>");var F=$("<tr>");var B=$("<table>").addClass("form_two_column_layout").attr("cellpadding",0).attr("cellSpacing",0).append(G).append(F);if(H.is_embedded_component()){B.addClass("form_two_column_view_layout")}if(H.get_input_type()==rdx.form_constants.LABEL){F.addClass("form_field_label")}var N=$("<td>").append(B).addClass("form_multi_layout_container");var L=H.get_col_span();if(rdx.utils.is_defined(L)&&L>0){N.attr("colspan",H.get_col_span())}if(H.get_width()!=-1){B.css("width",H.get_width());N.css("width",H.get_width())}K.append(N);if(!z&&(J>=(P))){if(H.add_extra_padding_column()){var y=rdx.utils.is_defined(H.get_col_span())?H.get_col_span():1;N.attr("colspan",y+1)}else{K.append($("<td>"))}}}else{G=K;F=K}Q.addClass("field");if(H.is_label_needed()){if(H.get_label_width()!=-1){M.width(H.get_label_width())}if(H.is_title()){M.addClass("label_title")}rdx.style.apply_style(H,M);if(H.is_disable()){M.addClass("label_disable")}if(H.is_error()){M.addClass("label_error")}G.append(M)}else{G.addClass("no_label_field");if(H.is_title()){G.addClass("label_title")}rdx.style.apply_style(H,M)}if(H.is_disable()){M.addClass("label_disable")}if(H.is_error()){M.addClass("label_error")}if(R==true){F.append(Q)}else{F.remove()}return Q}else{K.append(Q);if(H.is_label_needed()){if(H.get_label_width()!=-1){Q.width(H.get_label_width())}var D=$("<span>");D.addClass("input_label");if(H.is_title()){D.addClass("label_title")}D.append(M.text());Q.append(D)}if(!z&&(J>=(P))){if(H.add_extra_padding_column()){var y=rdx.utils.is_defined(H.get_col_span())?H.get_col_span():1;Q.attr("colspan",y+1)}else{K.append($("<td>"))}}return M}};this.is_label_first=function(b){if(rdx.utils.is_function(b.get_component_type)&&(b.get_component_type()==rdx.form_constants.CHECK_BOX)){return false}return true};this.mask_component=function(b){if(!rdx.utils.is_function(b.mask)){return}b.mask()};this.unmask_component=function(b){if(!rdx.utils.is_function(b.unmask)){return}b.unmask()};this.add_bind_unbind_link_image=function(p,q,l,m,n,h,o){return this._add_link_image(p,q,l,m,n,h,o)};this._add_hyperlink_form_field=function(w,z,v,A,D){var q={add_model_change_listener:true,success_callback:null,add_model_method:rdx.model_constants.ADD,click_handler_callback:null,view_name:null,tooltip:"Load Expression Builder"};var x=$.extend(true,q,D);var B=$("<table>").attr("cellpadding",0).attr("cellSpacing",0).addClass("list_table");var C=$("<tr>");var t=v.get_add_link()["label"];var u=$("<a>").attr("href","#noAnchor").text(rdx.i18n.get_string(t));if(rdx.utils.is_defined(x.click_handler_callback)){C.append(this._add_link_image_for_expr_builder(v.get_add_link()["click_handler_callback"],x.add_model_method,v,u,x.tooltip,w,A,x))}else{C.append(this._add_link_image(v.get_add_link()["view_name"],x.add_model_method,v,u,x.tooltip,w,A,x))}var s=$("<tr>");var y=$("<td>");y.append(z);s.append(y);z.bind(rdx.events.CHANGE,{list:w,link_map:A},function(c){var a=c.data.list;var b=c.data.link_map;var d=rdx.utils.is_empty(a.get_data())?false:true;for(view_name in b){if(d||a.get_field().get_add_view_name()==view_name){b[view_name].removeClass("disabled")}else{b[view_name].addClass("disabled")}}});if(rdx.utils.is_defined(x.click_handler_callback)){B.append(s);B.append(C)}else{B.append(C);B.append(s)}return B};this.iframe_loader=function(e){this.DEFAULT_PROPERTIES={file_url:null,error_message:null,failure_callback:null,success_callback:null,ready_callback:null};var d=$.extend({},this.DEFAULT_PROPERTIES,e);if(rdx.utils.is_not_defined(d.file_url)){return}if(rdx.utils.is_defined(this._download_iframe_holder)){this._download_iframe_holder.remove()}var f=$("<iframe>").attr("frameborder",0).attr("width","0px").attr("height","0px");if(rdx.utils.is_defined(d.ready_callback)){f.ready(d.ready_callback)}f.attr("src",d.file_url);$(document.body).append(f);this._download_iframe_holder=f;f.bind(rdx.events.LOAD,{iframe:f,properties:d},function(n){var c=null;try{c=n.data.iframe.contents().text()}catch(o){rdx.message_box.error("File not found");return}if(rdx.utils.is_not_defined(c)){return}var b=n.data.iframe;try{var p=JSON.parse(c);var q=n.data.properties.failure_callback;if(p[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD]!=0){if(rdx.utils.is_defined(q)){q.call_back()}else{rdx.message_box.error(p.message)}return}var a=n.data.properties.success_callback;if(rdx.utils.is_defined(a)){a.call_back()}}catch(o){}})};this.convertEscapeCharsToDisplayChars=function(c){if(c==null){return null}var d=/[\n\t\b\r\f]/;if(d.test(c)!==false){c=c.replace(/\n/g,"\\n");c=c.replace(/\t/g,"\\t");c=c.replace(/\r/g,"\\r");c=c.replace(/\f/g,"\\f")}return c};this.convertDisplayCharsToEscapeChars=function(f,d){if(f==null){return null}f=f.replace(/\n/g,"\r\n");if(d){return f}var e=/[\\n\\t\\b\\r\\f]/;if(e.test(f)!==false){f=f.replace(/\\n/g,"\n");f=f.replace(/\\t/g,"\t");f=f.replace(/\\b/g,"\b");f=f.replace(/\\r/g,"\r");f=f.replace(/\\f/g,"\f")}return f};this.set_form_field_data_items=function(d,e,f){e[d+"__form_field_data_items"]=f};this.get_form_field_data_items=function(c,d){if(rdx.utils.is_defined(d)&&rdx.utils.is_defined(d[c+"__form_field_data_items"])){return d[c+"__form_field_data_items"]}return null};this.handle_component_show_error=function(c,d){if(c instanceof rdx.view_component_adapter||c instanceof rdx.card_component){return}if(rdx.utils.is_defined(d)&&d==true){if(c instanceof rdx.file_upload_component){c.get_element().get_text_element().addClass("error_text")}else{if(c instanceof rdx.ip_v4_v6){c.get_element().addClass("error_text")}else{if(c instanceof rdx.expression_editor||c instanceof rdx.classic_expression_editor){c.get_textarea().addClass("error_text")}else{if(c instanceof rdx.command_spec_editor){c.get_textarea_component().addClass("error_text")}else{if(rdx.utils.is_function(c.get_component)&&rdx.utils.is_defined(c.get_component())){c.get_component().addClass("error_text")}}}}}}else{if(c instanceof rdx.file_upload_component){c.get_element().get_text_element().removeClass("error_text")}else{if(c instanceof rdx.ip_v4_v6){c.get_element().removeClass("error_text")}else{if(c instanceof rdx.expression_editor||c instanceof rdx.classic_expression_editor){c.get_textarea().removeClass("error_text")}else{if(c instanceof rdx.command_spec_editor){c.get_textarea_component().removeClass("error_text")}else{if(rdx.utils.is_function(c.get_component)&&rdx.utils.is_defined(c.get_component())){c.get_component().removeClass("error_text")}}}}}}};this.check_is_focus_out_component=function(c){var d=true;if((c.field instanceof rdx.view_component_adapter)||(c.field instanceof rdx.card_component)||(c.field instanceof rdx.drag_drop_editor)||(c.field instanceof rdx.file_browser_component)||(c.field instanceof rdx.entity_chooser)||(c.field instanceof rdx.link_component)){d=false}return d}};rdx.formatter=function(b){this._DEFAULT_PROPERTIES={map:null,format:null,storage_format:null,callback:null,resource_keys:null,storage_key:null,data_validator_callback:null,regex:null,strict_mapping:false,sort_function:null,set_data:null,data_populate_callback:null};this._properties=$.extend(true,this._DEFAULT_PROPERTIES,b);this._input_map=rdx.utils.is_defined(this._properties.map)?this._properties.map:{};this._regex_obj=rdx.utils.is_defined(this._properties.regex)?new RegExp(this._properties.regex):null;if(rdx.utils.is_array(this._input_map)){this._input_map=rdx.utils.convert_array_to_map(this._input_map)}this._reverse_map={};if(rdx.utils.is_defined(this._properties.map)){this._populate_reverse_map()}this._data_map={}};rdx.formatter.prototype.get_display_value=function(h,l){if(rdx.utils.is_defined(this._properties.callback)&&rdx.utils.is_defined(l)){return this._properties.callback.call_back([l])}if(rdx.utils.is_defined(this._reverse_map)){if(rdx.utils.is_array(h)){var g=new Array();for(var f=0;f<h.length;f++){var m=this._reverse_map[h[f]];if(rdx.utils.is_defined(m)){g.push(m)}else{if(this._properties.strict_mapping==false){g.push(h[f])}}}return g}else{var m=this._reverse_map[h];if(rdx.utils.is_not_defined(m)&&(this._properties.strict_mapping==false)){m=h}if(rdx.utils.is_defined(m)&&rdx.utils.is_defined(h)&&m=="--<< New >>--"){m=h}return m}}return h};rdx.formatter.prototype.get_storage_value=function(e){var d=rdx.utils.is_array(e);var f;if(d){return this._get_mapped_array_data(e)}else{if(rdx.utils.is_defined(this._input_map)){f=(rdx.utils.is_not_defined(this._input_map[e])&&(this._properties.strict_mapping==false))?e:this._input_map[e]}}return f};rdx.formatter.prototype._get_mapped_array_data=function(h){var f=new Array();for(var e=0;e<h.length;e++){var g=this._input_map[h[e]];if(rdx.utils.is_defined(g)){f.push(g)}else{if(this._properties.strict_mapping==false){f.push(h[e])}}}return f};rdx.formatter.prototype.map_data_items=function(f){if(rdx.utils.is_not_defined(this._properties.resource_keys)){return[]}var d=[];if(rdx.utils.is_defined(this._properties.map)){this._input_map=this._properties.map;if(rdx.utils.is_array(this._properties.map)){d=this._properties.map;this._input_map=rdx.utils.convert_array_to_map(this._input_map)}else{for(key in this._properties.map){d.push(key)}}}if(rdx.utils.is_not_defined(f)){return d}var e=this._populate_input_map(f);this._populate_reverse_map();d=d.concat(e);if(rdx.utils.is_defined(this._properties.sort_function)){d.sort(this._properties.sort_function)}return d};rdx.formatter.prototype.update_input_map_data_items=function(c,d){if(rdx.utils.is_not_defined(d)){d=c}if((!this._regex_defined())||(this._regex_defined()&&this._validate_regex(d))){this._input_map[c]=d;this._reverse_map[d]=c;return true}else{return false}};rdx.formatter.prototype.refresh_maps=function(f,g){if(rdx.utils.is_defined(g)){var h=this._input_map[g];delete this._reverse_map[h];delete this._input_map[g];delete this._data_map[g]}var e=this._add_to_maps(f,g);this._reverse_map[this._input_map[e]]=e;return e};rdx.formatter.prototype._populate_input_map=function(h){var g=new Array();for(var m=0;m<h.length;m++){var f=h[m];var l=this._add_to_maps(f);if(rdx.utils.is_not_defined(l)){continue}if($.inArray(l,g)==-1){g.push(l)}}return g};rdx.formatter.prototype._add_to_maps=function(f){if(rdx.utils.is_defined(this._properties.data_validator_callback)&&!this._properties.data_validator_callback.call_back([f])){return null}if(this._regex_defined()&&!this._validate_regex(this._get_data_string(f,this._properties.resource_keys))){return null}var e=this._get_data_string(f,this._properties.resource_keys,this._properties.format);var h=rdx.utils.is_not_defined(this._properties.storage_key)?this._properties.resource_keys:[this._properties.storage_key];var g=this._get_data_string(f,h,this._properties.storage_format);this._input_map[e]=g;this._data_map[e]=f;return e};rdx.formatter.prototype._validate_regex=function(b){return this._regex_obj.test(b)};rdx.formatter.prototype._regex_defined=function(){return rdx.utils.is_defined(this._regex_obj)};rdx.formatter.prototype._populate_reverse_map=function(){this._reverse_map={};for(var b in this._input_map){this._reverse_map[this._input_map[b]]=b}};rdx.formatter.prototype._get_data_string=function(u,m,p){var q="";var v=false;var t=false;var o;var n;if(rdx.utils.is_defined(p)){if(p instanceof rdx.callback){t=true;v=false;n=p}else{t=false;v=true;o=p}}if(t){return n.call_back([u,m])}if(v){q=o}for(var s=0;s<m.length;s++){if(v){q=rdx.utils.get_formatted_string(q,m[s],u[m[s]])}else{if(rdx.utils.is_defined(u)&&rdx.utils.is_defined(u[m[s]])){q=q+u[m[s]]+"-"}else{q=q}}}if(!v){q=q.substring(0,q.lastIndexOf("-"))}return q};rdx.formatter.prototype.get_map_keys=function(){var b=new Array();for(key in this._input_map){b.push(key)}return b};rdx.formatter.prototype.get_map_values=function(){var b=new Array();for(key in this._reverse_map){b.push(key)}return b};rdx.formatter.prototype.get_map_value=function(b){return this._input_map[b]};rdx.formatter.prototype.get_resource_data=function(b){if(rdx.utils.is_not_defined(this._data_map[b])){return null}return this._data_map[b]};rdx.formatter.prototype.get_set_data=function(){return this._properties.set_data};rdx.formatter.prototype.update_set_data=function(b){this._properties.set_data=b};rdx.formatter.prototype.get_data_populate_callback=function(){return this._properties.data_populate_callback};rdx.formatter.prototype.get_formatted_message=function(e){if(!rdx.utils.is_array(e)){e=[e]}var f=this._properties.format;for(var d=0;d<e.length;d++){f=this._get_data_string(e[d],this._properties.resource_keys,this._properties.format)}return f};rdx.form_validator=new function(){this.url=function(h,f){var g=function(b){var a=/:[\d\*]*/;if(a.test(b)){var c=b.match(a);if(rdx.utils.is_defined(c)&&c.length){c=c[0].replace(/:/,"");if(rdx.utils.is_defined(c)){if(c==="*"){return true}c=Number(c)}if(typeof c==="number"){if(c>=0&&c<=65535){return true}else{return false}}}}return true};var l=function(a,b){if(/^(http(s)?:\/\/)/.test(a)){a=a.replace(/^(http(s)?:\/\/)/,"");var c=new RegExp("[:/?]");var q=false;if(c.test(a)){var d=a.match(c);if(rdx.utils.is_defined(d)&&d.length){d=d[0];var e=a.split(d)[0];if(!(/[-a-z_]/).test(e)){q=true}}}else{if(!(/[-a-z_]/).test(a)){q=true}}if(!q){var p=/^([-a-z0-9_]+\.)*([-a-z0-9_]+?)(\:(([0-9]{1,5})|(\*)))?(\/(\/)?[-=&?.#a-z0-9_]+)*(\?([\w-"']+(=[\w-"']*)?(&[\w-"']+(=[\w-"']*)?)*)?)?(\/){0,1}$/g;return(a.length>0&&p.test(a)&&g(a))}else{if(rdx.utils.is_defined(b)&&b){return false}else{var p=/^(\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))\.(\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))\.(\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))\.(\d|[1-9]\d|1\d\d|2([0-4]\d|5[0-5]))(\:(([0-9]{1,5})|(\*)))?(\/(\/)?[-=&?.#a-z0-9_]+)*(\?([\w-"']+(=[\w-"']*)?(&[\w-"']+(=[\w-"']*)?)*)?)?(\/){0,1}$/g;return(a.length>0&&p.test(a)&&g(a))}}}else{return false}};h=h.toLowerCase();if(rdx.utils.is_empty(h)){return null}if(l(h,f)){return null}else{if(rdx.utils.is_defined(f)&&f){var m=h.substring(h.indexOf("://")+3);return rdx.i18n.get_string("rdx.invalid_fqdn",{fqdn:m})}}h=rdx.utils.html_decode(h);return rdx.i18n.get_string("rdx.invalid_url",{url:h})};this.email=function(c){var d=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/;if(rdx.utils.is_empty(c)){return null}if(rdx.utils.is_not_defined(c)||c==""||d.test(c.toUpperCase())){return null}c=rdx.utils.html_encode(c);return rdx.i18n.get_string("rdx.form_invalid_email",{field_label:c})};this.password_validate=function(b){if(rdx.utils.is_not_empty(b)&&(b=="nsroot")||(b=="NSROOT")){return"Invalid Password"}else{return null}};this.path=function(b){if(rdx.utils.is_empty(b)){return null}if(rdx.utils.starts_with(b,"/")||rdx.utils.starts_with(b,"\\")){return null}return rdx.i18n.get_string("rdx.invalid_path",{url:b})};this.fqdn=function(d,e){if(rdx.utils.is_empty(d)){return null}d=rdx.utils.trim(d);if(rdx.utils.starts_with(d,"http://")||rdx.utils.starts_with(d,"https://")||rdx.utils.is_number(d)){return rdx.i18n.get_string("rdx.invalid_fqdn",{fqdn:d})}if(/\s/g.test(d)){return rdx.i18n.get_string("rdx.invalid_fqdn",{fqdn:d})}var f=/(?=^.{3,253}$)(^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9]\.)+[a-zA-Z]{1,63}$)/;if(rdx.utils.is_defined(e)&&e==true){if(d.indexOf(":")!=-1){return rdx.i18n.get_string("rdx.invalid_fqdn_with_port",{fqdn:d})}}if(!f.test(d)){return rdx.i18n.get_string("rdx.invalid_fqdn",{fqdn:d})}return null};this.fqdn_with_port=function(h){if(h.indexOf(":")!=-1){var g=h.split(":");var l=g[0];var m=g[1];var f=rdx.form_validator.fqdn(l);if(rdx.utils.is_defined(f)){return f}else{if(!m.match(/^\d*$/)){return rdx.i18n.get_string("rdx.fqdn_invalid_port",{port:m})}else{return null}}}else{return rdx.form_validator.fqdn(h)}};this.url_with_file=function(b){b=b.toLowerCase();if(rdx.utils.is_empty(b)){return null}if(rdx.utils.starts_with(b,"http://")||rdx.utils.starts_with(b,"https://")){return null}b=rdx.utils.html_encode(b);return rdx.i18n.get_string("rdx.invalid_url",{url:b})};this.max_length=function(f,e,d){if(rdx.utils.is_empty(f)){return null}if(f.length>e){return rdx.i18n.get_string("rdx.max_length",{name:rdx.i18n.get_string(d),len:e})}return null}};rdx.bubble_component=function(c,d){this._parent=c;this._DEFAULT_PROPERTIES={bubble_arrow:true,content_dom:null,custom_class:null,x_y_position:null};this._properties=$.extend(true,this._DEFAULT_PROPERTIES,d);this._bubble=null};rdx.bubble_component.prototype.render=function(){if(rdx.utils.is_defined(this._bubble)){return this._bubble}this._bubble=$("<div>").addClass("rdx_bubble");this._bubble.css({top:-10000,left:-10000});if(rdx.utils.is_defined(this._properties.custom_class)){this._bubble.addClass(this._properties.custom_class)}$(document.body).append(this._bubble);if(rdx.utils.is_defined(this._properties.x_y_position)){this._bubble.append(this._properties.content_dom);this._position_bubble_x_y_coordinates(this._properties.x_y_position);return this._bubble}else{var c=false;if(this._properties.bubble_arrow){var d=$("<span>").addClass("bubble_arrow");this._bubble.append(this._properties.content_dom,d);c=true}else{this._bubble.append(this._properties.content_dom)}this._position_bubble(d,c);return this._bubble}};rdx.bubble_component.prototype._position_bubble=function(F,E){var y=$(window).width();var G=$(window).height();var v=$(window).scrollTop();var H=$(window).scrollLeft();var D=v;var B=v+G;var I=H;var w=H+y;var J=this._parent.offset();var C=this._parent.outerHeight();if(rdx.utils.is_empty(C)&&rdx.utils.is_defined(this._parent["0"])){C=this._parent["0"].offsetHeight}var x=this._parent.outerWidth();if(rdx.utils.is_empty(x)&&rdx.utils.is_defined(this._parent["0"])){x=this._parent["0"].offsetWidth}var z=this._bubble.height();var A=this._bubble.width();var K=(J.top-(z/2)+(C/2));var L=J.left+x;if((K>D&&(K+z)<B)&&(L+A<w)){if(E){this._properties.content_dom.addClass("rdx_position_bubble_arrow_right");F.addClass("bubble_left_arrow")}this._bubble.css({top:J.top-(this._bubble.height()/2)+(C/2),left:this._parent.offset().left+x-0.1});if(E){F.css({top:(this._bubble.height()/2)-F.outerHeight()/2})}return}K=J.top-(z/2)+(C/2);L=J.left-A;if(K>D&&(K+z)<B&&L>I){if(E){this._properties.content_dom.addClass("rdx_position_bubble_arrow_left");F.addClass("bubble_right_arrow")}this._bubble.css({top:J.top-(this._bubble.height()/2)+(C/2),left:J.left-this._bubble.width()+0.1});if(E){F.css({top:(this._bubble.height()/2)-F.outerHeight()/2})}return}K=J.top+C;L=J.left-(A/2)+(x/2);if((K+z<B)&&L>I&&(L+A)<w){if(E){this._properties.content_dom.addClass("rdx_position_bubble_arrow_bottom");F.addClass("bubble_top_arrow")}this._bubble.css({top:J.top+C-0.1,left:J.left-(this._bubble.width()/2)+(x/2)});if(E){F.css({left:this._bubble.width()/2-(F.outerWidth()/2)})}return}K=J.top-z;L=J.left-(A/2)+(x/2);if(K>D&&L>I&&(L+A<w)){if(E){this._properties.content_dom.addClass("rdx_position_bubble_arrow_top");F.addClass("bubble_bottom_arrow")}this._bubble.css({top:J.top-(this._bubble.height())+0.1,left:J.left-(this._bubble.width()/2)+(x/2)});if(E){F.css({left:this._bubble.width()/2-F.outerWidth()/2})}return}var K=(J.top-(z/2)+(C/2));var L=J.left+x;if((K>D&&(K+z)<B)&&(L+A<w)){if(E){this._properties.content_dom.addClass("rdx_position_bubble_arrow_right");F.addClass("bubble_left_arrow")}this._bubble.css({top:J.top-(this._bubble.height()/2)+(C/2),left:this._parent.offset().left+x-0.1});if(E){F.css({top:(this._bubble.height()/2)-F.outerHeight()/2})}return}};rdx.bubble_component.prototype._position_bubble_x_y_coordinates=function(o){var t=$(window).width();var x=$(window).height();var q=$(window).scrollTop();var y=$(window).scrollLeft();var w=q;var v=q+x;var z=y;var s=y+t;var p=o.x_position;var u=o.y_position;if(rdx.utils.is_not_defined(p)||rdx.utils.is_not_defined(u)){return}if((p+this._bubble.width())<s){this._bubble.css({left:p})}else{this._bubble.css({right:t-p});this._bubble.css({left:"auto"})}if((this._bubble.height()+u)<v){this._bubble.css({top:u})}else{this._bubble.css({bottom:x-u});this._bubble.css({top:"auto"})}return};rdx.form_container=function(h,l,g,f){this._DEFAULT_PROPERTIES={container:rdx.form_constants.NONE,form_fields:{},columns:1,label_width:-1,width:-1,target_resource:null,add_section_background:false,show_in_single_row:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,l);this._form_holder=g;var m=rdx.utils.is_defined(this._properties.target_resource)?this._properties.target_resource:f;this._form_fields=rdx.form_utils.get_form_fields(this._properties.form_fields,this._form_holder,this._properties.label_width,this._properties.width,m);this._parent=h};rdx.form_container.prototype.render=function(H){var v=$("<table>").attr("cellspacing",0);if(this._properties.add_section_background===true){v.addClass("rdx_form_section_separator").addClass("rdx_form_section_single_separator")}v.css("width","100%");var D=this._properties.columns;var E=0;row=this._create_row(v);for(var A=0;A<this._form_fields.length;A=A+1){if((A)>=this._form_fields.length){break}if((E)>=(D)){E=0;row=this._create_row(v);if(this._properties.show_in_single_row==true){row.css("display","inline-block")}}var z=this._form_fields[A];var u=z.get_label();if(!this._form_holder.is_read_only()&&z.is_mandatory()){u+="*"}var C=$("<td>").append(u);var G=$("<td>").attr("fieldfor",u);var x=rdx.utils.is_defined(z.get_col_span())?z.get_col_span():1;E=E+x;if(z.get_input_type()==rdx.form_constants.NOTE){this._add_note(row,A,z)}if(rdx.utils.is_defined(z.get_col_span())){G.attr("colspan",z.get_col_span())}if(z.is_hidden()){row.addClass("hidden")}var F=null;if(z.is_separator()){F=this._add_separator(v,z)}if(z.get_input_type()==rdx.form_constants.NOTE){continue}var B=new rdx.form_component(row,z);B.render(C,G,D,E,this._form_holder,A,H);var y=B.get_component();var w=B.get_cell();this._form_holder.add_field_to_map(z.get_key(),{field:y,form_field_index:A,row:row,cell:w,separator_row:F,field_validation_trigger:H,form_field:z});if(rdx.utils.is_defined(H)&&rdx.utils.is_function(H.set_form_field_params)){H.set_form_field_params(z,this._properties)}if(z.is_embedded_component()){G.addClass("form_embedded_view");G.attr("colspan",this._properties.columns);this._form_holder.add_embedded_view(y)}else{if(z.is_file_upload_component()){this._form_holder.add_file_upload_component(y)}}var t=z.get_value();if(t!=null){this._form_holder.get_form().set_field_value(z.get_key(),t,null)}}while(E<(D)){var C=$("<td>").addClass("label");var G=$("<td>").addClass("field");row.append(C).append(G);E=E+2}return v};rdx.form_container.prototype._create_row=function(d){var c=$("<tr>");d.append(c);return c};rdx.form_container.prototype._add_note=function(l,f,g){var m=$("<div>");m.addClass("form_note");var h=$("<td>");l.append(h);h.addClass("form_note_row");m.addClass("form_note_border");m.html(g.get_note());h.attr("title",g.get_tooltip()).attr("colspan",this._properties.columns*2).append(m);this._form_holder.add_field_to_map(g.get_key(),{field:m,form_field_index:f,row:l,cell:h,field_validation_trigger:null,form_field:g})};rdx.form_container.prototype._add_separator=function(h,f){var l=$("<tr>").addClass("form_field_separator");var g=$("<td>").attr("colspan",this._properties.columns+1);var m=$(document.createElement("hr"));m.addClass("separator");rdx.style.apply_separatot_style(f,m);g.append(m);l.append(g);h.append(l);return l};rdx.form_container.prototype.get_fields=function(){return this._form_fields};rdx.group_container=function(f,d,e){this._parent=f;this._DEFAULT_PROPERTIES={group_name_as_link:true,render_mode:rdx.SECTION,expand_group:false,group_expand_img_url:rdx.images.NAVIGATE_OPEN_BLACK_IMG,group_collapse_img_url:rdx.images.NAVIGATE_CLOSE_BLACK_IMG,group_collapse_up_url:rdx.images.NAVIGATE_UP_BLACK_IMG,form_fields:{},form_sections:null,target_resource:null,add_title:true,resource_key:null,name:null,add_section_background:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d);this._form_holder=e;if(!this._properties.group_name_as_link){this._properties.expand_group=true}this._container_map=new Object();this._is_read_only=false;this._group_table=null;this._group_table_div=null;this._toggle_img=null;this._group_name_div=null;this._form_fields={}};rdx.group_container.prototype.render=function(b){if(this._properties.render_mode===rdx.SECTION){return this._render_section(b)}else{if(this._properties.render_mode===rdx.INLINE){return this._render_inline(b)}}};rdx.group_container.prototype._show_hide_form=function(c){if(c.data.ns_form._is_read_only===true){return}var d=c.data.ns_form;if(c.data.show===true){c.data.group_name_div.hide();rdx.utils.slide_up_down(c.data.ns_group_table,false,null,"500");c.data.group_div_hide_link.show()}else{c.data.group_div_hide_link.hide();rdx.utils.slide_up_down(c.data.ns_group_table,true,null,"700");c.data.group_name_div.show()}};rdx.group_container.prototype._render_inline=function(L){L=rdx.utils.is_defined(L)?L:this;var z=$("<div>").addClass("group_div");if(!z.hasClass("group_div")){z.addClass("group_div")}var H=$("<div>").attr("colspan",this._properties.number_of_columns*2).addClass("group_name_div");var K=$("<div>").addClass("group_name_div").hide();var y=$("<div>");if(rdx.utils.is_defined(this._properties.name)){this._form_holder.add_container_to_map(rdx.utils.trim(this._properties.name),{field:this,row:z})}var F=$("<div>").addClass(this._form_holder.get_class_names()).addClass("group");F.css("width","100%");var x=$(document.createElement("img")).attr("src",this._properties.group_expand_img_url);var G=$(document.createElement("img")).attr("src",this._properties.group_collapse_up_url);if(this._properties.expand_group){H.hide();y.show();K.show()}else{H.show();y.hide();K.hide()}var I=$(document.createElement("a")).attr("href","#noAnchor").attr("title",rdx.i18n.get_string("rdx.more")).append(x);var N=I.clone(true).addClass("link_text").text(rdx.i18n.get_string("rdx.more"));H.bind(rdx.events.CLICK,{ns_form:this,ns_img:x,ns_group_table:y,group_name_div:H,group_div_hide_link:K,show:true},this._show_hide_form);var A=$(document.createElement("a")).attr("href","#noAnchor").attr("title",rdx.i18n.get_string("rdx.less")).append(G);var B=I.clone(true).addClass("link_text").text(rdx.i18n.get_string("rdx.less"));K.bind(rdx.events.CLICK,{ns_form:this,ns_img:x,ns_group_table:y,group_name_div:H,group_div_hide_link:K,show:false},this._show_hide_form);if(this._properties.group_name_as_link){H.append(I).append(N);K.append(A).append(B);H.addClass("group_container_show");K.addClass("group_container_show")}else{if(this._properties.add_title===true){var w=rdx.i18n.get_string(this._properties.name);H.text(w).addClass("group_header_div");K.text(w).addClass("group_header_div");if(rdx.utils.is_defined(w)&&w.length>0){H.addClass("group_container_show");K.addClass("group_container_show")}}}if(rdx.utils.is_not_defined(this._properties.form_sections)){form_container=new rdx.form_container(F,this._properties,this._form_holder,this._properties.target_resource);var C=form_container.render(L);F.append(C);this._container_map.group_fields={fields:form_container.get_fields()}}else{for(var J=0;J<this._properties.form_sections.length;J++){var M=this._properties.form_sections[J];var E=this._get_container(M,F);var D=E.render(L);if(rdx.utils.is_defined(D)){F.append(D)}}}y.append(F);z.append(H).append(y);z.append(K);this._register_container_validation_event(F,H);this._group_table=F;this._group_table_div=y;this._toggle_img=x;this._group_name_div=H;return z};rdx.group_container.prototype._get_container=function(c,d){switch(c.type){case rdx.form_constants.TAB:return new rdx.tab_container(d,c,this._form_holder);case rdx.form_constants.GROUP:return new rdx.group_container(d,c,this._form_holder);case rdx.form_constants.COLUMN:return new rdx.column_container(d,c,this._form_holder);default:return new rdx.form_container(d,c,this._form_holder)}};rdx.group_container.prototype._render_section=function(o){o=rdx.utils.is_defined(o)?o:this;var s=$("<div>").addClass("group_div");if(!s.hasClass("group_div")){s.addClass("group_div")}if(this._properties.add_section_background==true){s.addClass("rdx_form_section_background rdx_background rdx_border")}if(rdx.utils.is_defined(this._properties.name)){this._form_holder.add_container_to_map(rdx.utils.trim(this._properties.name),{field:this,row:s})}var u=$("<div>").addClass(this._form_holder.get_class_names()).addClass("group");u.css("width","100%");var w;var x=$("<div>").attr("colspan",this._properties.number_of_columns*2).addClass("group_name_div");if(this._properties.expand_group){u.show();x.removeClass("group_div_section_close").addClass("group_div_section_open");w=$(document.createElement("img")).attr("src",this._properties.group_collapse_img_url)}else{u.hide();x.removeClass("group_div_section_open").addClass("group_div_section_close");w=$(document.createElement("img")).attr("src",this._properties.group_expand_img_url)}var t=$(document.createElement("a")).attr("href","#noAnchor").attr("title",rdx.i18n.get_string(this._properties.name)).append(w);if(this._properties.group_name_as_link){x.append(t).append(t.clone(true).text(rdx.i18n.get_string(this._properties.name)));x.addClass("group_div_section")}else{if(this._properties.add_title===true){x.text(rdx.i18n.get_string(this._properties.name)).addClass("group_header_div")}}x.bind(rdx.events.CLICK,{ns_form:this,ns_group_table:u,ns_img:w},function(b){if(b.data.ns_form._is_read_only===true){return}var c=b.data.ns_form;var a=b.data.ns_group_table;var e=b.data.ns_img;a.toggle();var d=e.attr("src")===c._properties.group_expand_img_url;if(d){e.attr("src",c._properties.group_collapse_img_url);x.removeClass("group_div_section_close").addClass("group_div_section_open")}else{e.attr("src",c._properties.group_expand_img_url);x.removeClass("group_div_section_open").addClass("group_div_section_close")}});if(rdx.utils.is_not_defined(this._properties.form_sections)){var y=new rdx.form_container(this._parent,this._properties,this._form_holder,this._properties.target_resource);var p=y.render(this);u.append(p);this._container_map.group_fields={fields:y.get_fields()}}else{for(var v=0;v<this._properties.form_sections.length;v++){var q=this._properties.form_sections[v];var z=this._get_container(q,this._parent);var p=z.render(this);u.append(p)}}s.append(x).append(u);this._register_container_validation_event(u,x);this._group_table=u;this._toggle_img=w;this._group_name_div=x;return s};rdx.group_container.prototype.set_form_field_params=function(c,d){c.set_group(d.name)};rdx.group_container.prototype._register_container_validation_event=function(f,d){var e=this;$(this).bind(rdx.form_constants.CONTAINER_VALIDATION_ERROR,{group_table:f,link:d},function(a,b){if(a.data.group_table.is(":hidden")){a.data.link.click()}})};rdx.group_container.prototype.is_valid_resource=function(){if(rdx.utils.is_defined(this._properties.resource_property)){return true}return false};rdx.group_container.prototype.set_data=function(b){if(rdx.utils.is_defined(this._properties.resource_property)){this._radio_component.set_data(rdx.i18n.get_string(b[this._properties.resource_property]))}};rdx.group_container.prototype.get_data=function(b){if(rdx.utils.is_not_defined(b)){return}if(rdx.utils.is_defined(this._properties.resource_property)){b[this._properties.resource_property]=this._radio_component.get_data()}};rdx.group_container.prototype.get_target_resource=function(){return this._properties.target_resource};rdx.group_container.prototype._set_read_only=function(b){if(b==true){this._group_table_div.hide();if(this._properties.group_name_as_link==true){this._toggle_img.attr("src",this._properties.group_expand_img_url)}this._group_name_div.addClass("group_name_div_disabled");this._is_read_only=true}else{this._is_read_only=false;this._group_table_div.hide();this._group_name_div.removeClass("group_name_div_disabled")}};rdx.group_container.prototype.toggle_read_only=function(b){this._set_read_only(!b)};rdx.group_container.prototype.get_component=function(){return this._group_table};rdx.group_container.prototype._update_form_fields=function(f,e){if(rdx.utils.is_not_defined(f)){return}for(var d=0;d<f.length;d++){f[d].set_is_part_of_resource(e)}};rdx.group_container.prototype.toggle_show_hide=function(e,d){if(e){d.show();for(var f in this._container_map){this._update_form_fields(this._container_map[f]["fields"],true)}}else{d.hide();for(var f in this._container_map){this._update_form_fields(this._container_map[f]["fields"],false)}}};rdx.column_container=function(d,f,e){this._parent=d;this._DEFAULT_PROPERTIES={columns:[],name:null,target_resource:null,add_section_background:false,add_border:true,class_names:null,column_widths:[]};this._properties=$.extend({},this._DEFAULT_PROPERTIES,f);this._form_holder=e;this._columns_container=null};rdx.column_container.prototype.render=function(){this._columns_container=rdx.dom_utils.get_element(rdx.form_constants.TABLE);this._columns_container.addClass("form_columns_container");if(rdx.utils.is_defined(this._properties.name)){this._form_holder.add_container_to_map(rdx.utils.trim(this._properties.name),{field:this,row:this._columns_container})}var g=$("<tr>");this._columns_container.append(g);var n=parseInt(100/this._properties.columns.length)+"%";for(var l=0;l<this._properties.columns.length;l++){var m=$("<td>").addClass("form_column").css("width",n);if(this._properties.column_widths&&rdx.utils.is_defined(this._properties.column_widths[l])){m.css("width",this._properties.column_widths[l])}if(this._properties.add_section_background===true){m.addClass("rdx_form_section_separator")}if(this._properties.add_border==false){m.css("border",0)}if(rdx.utils.is_defined(this._properties.class_names)){m.addClass(this._properties.class_names)}var h=this._properties.columns[l];var o=new rdx.form_container(m,h,this._form_holder);m.append(o.render());g.append(m)}return this._columns_container};rdx.column_container.prototype.is_valid_resource=function(){return false};rdx.column_container.prototype.set_data=function(b){};rdx.column_container.prototype.get_data=function(b){};rdx.column_container.prototype.toggle_show_hide=function(b){if(b){this._columns_container.show()}else{this._columns_container.hide()}};rdx.column_container.prototype.get_component=function(){return this._columns_container};rdx.legacy_form_container=function(d){this._form_holder=d;var c=rdx.form_utils.get_form_fields(this._form_holder.get_fields_dfn(),this._form_holder);this._groups={};this._tabs={}};rdx.legacy_form_container.prototype.render=function(){var M=$("<table>").addClass(this._form_holder.get_class_names());M.attr("cellspacing",0);if(this._form_holder.add_border()){M.addClass("smooth_all_corner").addClass("layout_border")}M.addClass("config_layout");this._tabs.no_of_columns=0;var N=this._form_holder.get_form_fields();for(var D=0,z=N.length;D<z;D+=this._form_holder.get_properties().number_of_columns){var K=M.children("tbody").children("tr:not(.hidden)").length+1;var O=$("<tr>");M.append(O);if(K%2==0){O.addClass("even")}for(var E=0,A=this._form_holder.get_properties().number_of_columns;E<A;E++){var G=N[D+E];if(!G){var F=$("<td>").addClass("label");var Q=$("<td>").addClass("field");O.append(F).append(Q);continue}if(G.get_input_type()==rdx.form_constants.NOTE){this._add_note(O,D,E,G);break}var P=G.get_group();if(rdx.utils.is_defined(P)){if(rdx.utils.is_not_defined(this._groups[P])){var O=$("<tr>");M.append(O)}if(rdx.utils.is_not_defined(this._groups[P])){this._groups.no_of_columns=0}O=this._add_group(M,G,P,O,this._groups.no_of_columns==0);this._groups.no_of_columns=this._groups.no_of_columns+1;if(this._groups.no_of_columns==this._form_holder.get_properties().number_of_columns){this._groups.no_of_columns=0}}if(rdx.utils.is_defined(G.get_tab())){if(rdx.utils.is_not_defined(this._tabs.tabs_div)){var O=$("<tr>");M.append(O)}if(rdx.utils.is_not_defined(this._tabs[G.get_tab()])){this._tabs.no_of_columns=0}O=this._add_tab(M,G,O,this._tabs.no_of_columns==0);this._tabs.no_of_columns=this._tabs.no_of_columns+1;if(this._tabs.no_of_columns==this._form_holder.get_properties().number_of_columns){this._tabs.no_of_columns=0}}if(G.is_hidden()){O.addClass("hidden")}var I=G.get_label();if(!this._form_holder.is_read_only()&&G.is_mandatory()){I+="*"}var F=$("<td>").attr("title",G.get_tooltip()).append(I);var Q=$("<td>").attr("title",G.get_tooltip()).attr("fieldfor",I);if(G.is_separator()){this._add_separator(M,O,D,E,G)}var C=(this._form_holder.is_read_only()||G.get_input_type()==rdx.form_constants.LABEL)?rdx.form_constants.LABEL:G.get_input_type();var L=rdx.component_helper.get_component(C,Q,G,this._form_holder).render();if(rdx.utils.is_defined(G.get_prompt())){this._form_holder.add_prompt_field(G)}if(rdx.utils.is_defined(G.get_resource_name())){this._form_holder.add_maskable_component(L)}var S=rdx.form_utils.render_label_field(O,F,Q,L,G,this._form_holder.is_read_only(),this._form_holder.is_two_row_layout_for_fields(),this._form_holder.is_dialog());this._form_holder.add_field_to_map(G.get_key(),{field:L,form_field_index:D+E,row:O,cell:S,field_validation_trigger:this._get_field_validation_trigger(G),form_field:G});if(G.is_embedded_component()){Q.addClass("form_embedded_view");Q.attr("colspan",this._form_holder.get_properties().number_of_columns*2);this._form_holder.add_embedded_view(L)}var R=G._get_extra_form_field();if(rdx.utils.is_defined(R)){var H=$("<td>");H.attr("title",R.get_tooltip());H.addClass("field");S.append(H);if(rdx.utils.is_defined(R.get_prompt())){this._form_holder.add_prompt_field(R)}var B=rdx.component_helper.get_component(R.get_input_type(),H,R,this._form_holder).render();if(rdx.utils.is_defined(R.get_resource_name())){this._form_holder.add_maskable_component(B)}if(rdx.utils.is_not_defined(R.get_view())){this._form_holder.add_field_to_map(R.get_key(),{field:B,form_field_index:D+E,extra_form_field:true,row:O,cell:H,field_validation_trigger:this._get_field_validation_trigger(R),form_field:R})}if(R.is_embedded_component()){H.addClass("form_embedded_view");H.attr("colspan",this._form_holder.get_properties().number_of_columns*2);this._form_holder.add_embedded_view(B)}O.append(H)}var J=G.get_value();if(J!=null){this._form_holder.get_form().set_field_value(G.get_key(),J,null)}}}var T=$("<div>").append(M);return T};rdx.legacy_form_container.prototype._get_field_validation_trigger=function(e){var d=e._get_parent_form_field();var f=rdx.utils.is_defined(d)?d:e;if(rdx.utils.is_defined(f.get_tab())||rdx.utils.is_defined(f.get_group())){this._register_container_validation_event(f);return f}return null};rdx.legacy_form_container.prototype._register_container_validation_event=function(d){var c=this;$(d).bind(rdx.form_constants.CONTAINER_VALIDATION_ERROR,{legacy_form:c},function(b,f){var a=rdx.utils.is_defined(f._get_parent_form_field())?f._get_parent_form_field():f;b.data.legacy_form._set_group_tab(a)})};rdx.legacy_form_container.prototype._add_note=function(m,o,g,h){var n=$("<div>");n.addClass("form_note");var l=$("<td>");m.append(l);if(o!=0){n.addClass("form_note_border");l.addClass("form_note_row")}n.html(h.get_note());l.attr("title",h.get_tooltip()).attr("colspan",this._form_holder.get_properties().number_of_columns*2).append(n);this._form_holder.add_field_to_map(h.get_key(),{field:n,form_field_index:o+g,row:m,cell:l,field_validation_trigger:null,form_field:h})};rdx.legacy_form_container.prototype._add_group=function(p,u,x,n,o){var s;if(!this._groups[x]){s=$("<table>").addClass(this._form_holder.get_class_names()).addClass("group");var v;if(u.is_expand_group()){s.show();v=$(document.createElement("img")).attr("src",this._form_holder.get_properties().group_collapse_img_url)}else{s.hide();v=$(document.createElement("img")).attr("src",this._form_holder.get_properties().group_expand_img_url)}var q=$(document.createElement("a")).attr("href","#noAnchor").attr("title",x).append(v).bind(rdx.events.CLICK,{ns_form:this,ns_group_table:s,ns_img:v},function(b){var c=b.data.ns_form;var a=b.data.ns_group_table;var d=b.data.ns_img;a.toggle();d.attr("src",(d.attr("src")==c._form_holder.get_properties().group_expand_img_url)?c._form_holder.get_properties().group_collapse_img_url:c._form_holder.get_properties().group_expand_img_url)});var w=$("<td>").attr("colspan",this._form_holder.get_properties().number_of_columns*2).append(q).append(q.clone(true).text(x));n.append(w);var t=$("<tr>");var w=$("<td>").attr("colspan",this._form_holder.get_properties().number_of_columns*2);t.append(w);w.append(s);p.append(t);this._groups[x]={group_table:s,group_link:q}}else{s=this._groups[x].group_table}if(o){n=$("<tr>");this._groups[x].group_table.group_row=n;s.append(n)}else{n=this._groups[x].group_table.group_row}return n};rdx.legacy_form_container.prototype._add_tab=function(v,y,q,u){var w=y.get_tab();if(rdx.utils.is_not_defined(this._tabs[w])){var C=null;var x=false;this._tabs.no_of_columns=0;if(rdx.utils.is_defined(this._tabs.tabs_div)){C=this._tabs.tabs_div}else{C=$("<div>");C.addClass("tabs");this._tabs.tabs_div=C;var z=$("<td>").attr("colspan",this._form_holder.get_properties().number_of_columns*2);q.append(z);z.addClass("tab_spacing");z.append(C);x=true}var t=$(document.createElement("li"));C.append(t);var B=$(document.createElement("a")).attr("href","#noAnchor").attr("title",w);t.append(B);var A=null;if(rdx.utils.is_defined(this._tabs.tab_cell)){A=this._tabs.tab_cell}else{var s=$("<tr>");A=$("<td>").attr("colspan",this._form_holder.get_properties().number_of_columns*2).addClass("tab_spacing");s.append(A);v.append(s);A.addClass("tab_layout_border").addClass("smooth_all_corner");this._tabs.tab_cell=A}var D=$("<table>").addClass("group").addClass("form");D.attr("cellspacing",0);q=$("<tr>");D.append(q);this._tabs[y.get_tab()]={li_item:t,tab_table:D};this._tabs[y.get_tab()]["tab_table"]["tab_row"]=q;if(!x){D.hide()}A.append(D);if(x){t.addClass("current_tabs")}B.append($(document.createElement("span")).text(w));t.bind(rdx.events.CLICK,{tabbed_view:this,title:w,table_dfn:this._tabs,tab_li:t,tabs_div:C,tabs_content_cell:A},function(a){var b=a.data.tabs_div.children(".current_tabs");a.data.tabbed_view._tab_clicked(a.data.title,a.data.table_dfn,a.data.tab_li,b)})}else{if(u){q=$("<tr>");this._tabs[y.get_tab()]["tab_table"].append(q);this._tabs[y.get_tab()]["tab_table"]["tab_row"]=q}else{q=this._tabs[y.get_tab()]["tab_table"]["tab_row"]}}return q};rdx.legacy_form_container.prototype._add_separator=function(n,o,s,t,l){var p=$("<tr>");var m=$("<td>").attr("colspan",this._form_holder.get_properties().number_of_columns*2);var q=$(document.createElement("hr"));q.addClass("separator");m.append(q);p.append(m);n.append(p)};rdx.legacy_form_container.prototype._tab_clicked=function(h,f,g,m){for(var l in f){if(l!=h&&rdx.utils.is_defined(f[l]["tab_table"])){f[l]["tab_table"].hide()}}m.removeClass("current_tabs");g.addClass("current_tabs");f[h]["tab_table"].show()};rdx.legacy_form_container.prototype._set_group_tab=function(d){this._expand_group(d.get_group());if(rdx.utils.is_defined(d.get_tab())){var c=this._tabs.tabs_div.children(".current_tabs");this._tab_clicked(d.get_tab(),this._tabs,this._tabs[d.get_tab()]["li_item"],c)}};rdx.legacy_form_container.prototype._expand_group=function(b){if(b!=null&&this._groups[b].group_table.is(":hidden")){this._groups[b].group_link.click()}};rdx.tab_container=function(d,f,e){this._parent=d;this._DEFAULT_PROPERTIES={tabs:null,name:null,target_resource:null,mode:rdx.form_constants.TAB,check_default_entity:{model_method:"get_count",view_context:null,resource_name:null,entity_response_callback:null,resource_indexed_tab:null},add_section_background:false,is_read_only:false,resource_property:null,single_tab_data:false};this._properties=$.extend(true,this._DEFAULT_PROPERTIES,f);this._form_holder=e;this._tabs=new Object();this._container_map=new Object();this._fields_map=new Object();this._index_key=null;this._radio_buttons_rendered=true};rdx.tab_container.prototype._can_render=function(b){if(rdx.utils.is_defined(b.render)&&rdx.utils.is_defined(b.render.evaluate)&&rdx.utils.is_function(b.render.evaluate)){return b.render.evaluate()}return true};rdx.tab_container.prototype._render_legacy_tabs=function(){var y=$("<div>").addClass("tab_container");if(rdx.utils.is_defined(this._properties.name)){this._form_holder.add_container_to_map(rdx.utils.trim(this._properties.name),{field:this,row:y})}var x=$("<div>");var s=$("<div>");s.addClass("tab_layout_border").addClass("smooth_all_corner");x.addClass("tabs");this._tabs.tabs_div=x;for(var t=0;t<this._properties.tabs.length;t++){var u=this._properties.tabs[t];if(this._can_render(u)===false){continue}var p=$(document.createElement("li"));x.append(p);var q=rdx.i18n.get_string(u.name);var w=$(document.createElement("a")).attr("href","#noAnchor").attr("title",q);p.append(w);w.append($(document.createElement("span")).text(q));var z=$("<div>").addClass("group").addClass("form");this._tabs[q]={li_item:p,tab_table:z};if(t==0){p.addClass("current_tabs")}else{z.hide()}p.bind(rdx.events.CLICK,{tab_container:this,title:q,table_dfn:this._tabs,tab_li:p,tabs_div:x,tab_name:u.name},function(a){var b=a.data.tabs_div.children(".current_tabs");a.data.tab_container._legacy_tab_clicked(a.data.title,a.data.table_dfn,a.data.tab_li,b,a.data.tab_container.__container_map,a.data.tab_name)});var v=new rdx.form_container(this._parent,u,this._form_holder,this._properties.target_resource);var o=v.render(this);z.append(o);this._container_map[rdx.utils.trim(u.name)]={fields:v.get_fields()};s.append(z);if(this._properties.single_tab_data==true&&t!=0){this._update_form_fields(v.get_fields(),false)}}y.append(x);y.append(s);this._register_container_validation_event();return y};rdx.tab_container.prototype._render_radio_tabs=function(){this._radio_container=$("<div>").addClass("tab_component");if(rdx.utils.is_defined(this._properties.name)){this._form_holder.add_container_to_map(rdx.utils.trim(this._properties.name),{field:this,row:this._radio_container})}this._toggle_container=$("<div>");this._toggle_data_map={};var t=new Array();for(var w=0;w<this._properties.tabs.length;w++){var u=rdx.i18n.get_string(this._properties.tabs[w].name);t.push(u)}this._radio_btn_div=$("<div>").addClass("radio_buttons_div");var p=new rdx.form_field({formatter:{map:t},key:"tab_component_"+Math.random(),input_type:rdx.form_constants.RADIO_GROUP});this._radio_component=rdx.component_helper.get_component(rdx.form_constants.RADIO_GROUP,this._radio_btn_div,p).render();this._radio_component.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._radio_tab_clicked,[this._radio_component]));var s="";for(var w=0;w<this._properties.tabs.length;w++){var x=this._properties.tabs[w];var u=rdx.i18n.get_string(x.name);var A={tab_component:{form_fields:x.form_fields}};var z=$("<div>").addClass("tab_container");var B=$("<table>").addClass("group").addClass("form");this._tabs[u]={tab_table:B};var y=new rdx.form_container(this._parent,x,this._form_holder,this._properties.target_resource);var q=y.render(this);B.append(q);this._container_map[rdx.utils.trim(u)]={container:z,fields:y.get_fields()};z.append(B);if(rdx.utils.is_not_defined(this._properties.check_default_entity.resource_name)){this._toggle_container.append(z)}else{var v=this._properties.tabs.length-1;if(rdx.utils.is_defined(this._properties.check_default_entity.resource_indexed_tab)&&this._properties.check_default_entity.resource_indexed_tab!=0){v=0}if(w==v){this._toggle_container.append(z)}}if(w!=0&&rdx.utils.is_not_defined(this._properties.check_default_entity.resource_indexed_tab)){z.hide();this._update_form_fields(y.get_fields(),false)}else{this._index_key=rdx.utils.trim(u)}}if(this._properties.is_read_only==true&&rdx.utils.is_function(this._radio_component.toggle_read_only)){this._radio_component.toggle_read_only(false)}if(rdx.utils.is_not_defined(this._properties.check_default_entity.resource_name)){this._append_radio_buttons_to_container();this._radio_container.append(this._toggle_container)}return this._radio_container};rdx.tab_container.prototype._get_radio_item_title=function(e){var d=this._properties.tabs[e];var f=rdx.i18n.get_string(d.name);return f};rdx.tab_container.prototype._append_radio_buttons_to_container=function(){if(rdx.utils.is_defined(this._properties.check_default_entity.resource_name)){if(rdx.utils.is_not_defined(this._properties.check_default_entity.resource_indexed_tab)){for(var d=this._properties.tabs.length-2;d>=0;d--){var f=this._get_radio_item_title(d);var e=this._container_map[f]["container"];this._toggle_container.prepend(this._container_map[f]["container"])}}else{var f=this._get_radio_item_title(this._properties.check_default_entity.resource_indexed_tab);this._toggle_container.append(this._container_map[f]["container"])}}this._radio_container.append(this._radio_btn_div);this._toggle_container.addClass("toggle_container");this._radio_container.addClass("radio_component")};rdx.tab_container.prototype.render=function(){if(this._properties.mode==rdx.form_constants.TAB){return this._render_legacy_tabs()}else{return this._render_radio_tabs()}};rdx.tab_container.prototype.refresh_container=function(m){var l=new rdx.model_executor_service(new rdx.callback(this,this._handle_refresh_container,[m]),null,false);var f=null;if(rdx.utils.is_defined(this._properties.check_default_entity.view_context)){var g=this._properties.check_default_entity.view_context;var h=new rdx.context(g);h.set_context_data(g);f=h.get_url_params()}l.add(this._properties.check_default_entity.model_method,rdx.utils.get_resource(this._properties.check_default_entity.resource_name),null,null,f);l.execute()};rdx.tab_container.prototype._handle_refresh_container=function(p,w){var o=p.get_collated_response();var u=p.get_collated_result();var n=(u[0]==true&&rdx.utils.is_defined(o[0])&&o[0]>0)?true:false;if(u[0]==true&&rdx.utils.is_defined(o[0])&&rdx.utils.is_defined(this._properties.check_default_entity.entity_response_callback)){n=this._properties.check_default_entity.entity_response_callback.call_back([o[0]])}if(n==true||n=="true"){this._append_radio_buttons_to_container()}else{var s=this._properties.tabs.length-1;if(rdx.utils.is_defined(this._properties.check_default_entity.resource_indexed_tab)){s=0}var q=this._get_radio_item_title(s);this._index_key=rdx.utils.trim(q);this._radio_buttons_rendered=false;var x=this._container_map[rdx.utils.trim(q)]["container"];x.show();if(this._properties.add_section_background===true){x.addClass("rdx_form_section_separator")}if(rdx.utils.is_defined(this._properties.check_default_entity.resource_indexed_tab)){var v=this._get_radio_item_title(this._properties.tabs.length-1);this._update_form_fields(this._container_map[rdx.utils.trim(v)]["fields"],false)}else{for(var t=0;t<this._properties.tabs.length-1;t++){var v=this._get_radio_item_title(t);this._update_form_fields(this._container_map[rdx.utils.trim(v)]["fields"],false)}}this._update_form_fields(this._container_map[rdx.utils.trim(q)]["fields"],true)}this._radio_container.append(this._toggle_container);w.resume()};rdx.tab_container.prototype.set_form_field_params=function(d,c){d.set_tab(c.name)};rdx.tab_container.prototype._legacy_tab_clicked=function(m,q,h,p,n,l){for(var o in q){if(o!=m&&rdx.utils.is_defined(q[o]["tab_table"])){q[o]["tab_table"].hide();if(this._properties.single_tab_data==true){this._update_form_fields(this._container_map[rdx.utils.trim(o)].field,false)}}}p.removeClass("current_tabs");h.addClass("current_tabs");q[m]["tab_table"].show();if(this._properties.single_tab_data==true){this._update_form_fields(this._container_map[rdx.utils.trim(m)].field,true)}};rdx.tab_container.prototype._radio_tab_clicked=function(d,f){for(var e in this._container_map){if(e==rdx.utils.trim(f.get_data())){this._container_map[e]["container"].show(500);this._update_form_fields(this._container_map[e]["fields"],true)}else{this._container_map[e]["container"].find(".rdx_error_container:visible").addClass("hide");this._container_map[e]["container"].find(".error_text:visible").removeClass("error_text");this._container_map[e]["container"].hide();this._update_form_fields(this._container_map[e]["fields"],false)}}};rdx.tab_container.prototype._update_form_fields=function(f,e){if(rdx.utils.is_not_defined(f)){return}for(var d=0;d<f.length;d++){f[d].set_is_part_of_resource(e);if(e===false){f[d].set_hidden(true)}else{if(e===true){f[d].set_hidden(false)}}}};rdx.tab_container.prototype._register_container_validation_event=function(){var b=this;$(this).bind(rdx.form_constants.CONTAINER_VALIDATION_ERROR,{tab_container:b},function(g,a){var h=g.data.tab_container;var f=h._tabs.tabs_div.children(".current_tabs");h._legacy_tab_clicked(a.get_tab(),h._tabs,h._tabs[a.get_tab()]["li_item"],f)})};rdx.tab_container.prototype.is_valid_resource=function(){if(this._properties.mode==rdx.form_constants.CARD&&rdx.utils.is_defined(this._properties.resource_property)){return true}return false};rdx.tab_container.prototype.set_data=function(b){if(this._properties.mode==rdx.form_constants.CARD&&rdx.utils.is_defined(this._properties.resource_property)){this._radio_component.set_data(rdx.i18n.get_string(b[this._properties.resource_property]))}};rdx.tab_container.prototype.get_data=function(b){if(rdx.utils.is_not_defined(b)){return}if(this._properties.mode==rdx.form_constants.CARD&&rdx.utils.is_defined(this._properties.resource_property)){b[this._properties.resource_property]=this._radio_component.get_data()}};rdx.tab_container.prototype.get_target_resource=function(){return this._properties.target_resource};rdx.tab_container.prototype.toggle_show_hide=function(e,d){if(e){d.show();if(this._properties.mode==rdx.form_constants.CARD){if(rdx.utils.is_defined(this._container_map[this._index_key])){this._update_form_fields(this._container_map[this._index_key]["fields"],true);if(this._radio_buttons_rendered==true){this._radio_component.set_data(this._radio_component.get_data())}}}}else{d.hide();if(this._properties.mode==rdx.form_constants.CARD){for(var f in this._container_map){this._update_form_fields(this._container_map[f]["fields"],false)}}}};rdx.tab_container.prototype.is_container_refresh_required=function(){if(rdx.utils.is_defined(this._properties.check_default_entity.resource_name)){return true}return false};rdx.label=function(e,f,d){this._parent=typeof(e)=="string"?$("#"+e):e;this._field=f;this._element=rdx.dom_utils.get_element(rdx.form_constants.LABEL);this._read_only=rdx.utils.is_defined(d)?d:false;this._set_properties();this._view_link_map={}};rdx.label.prototype.render=function(){if(rdx.utils.is_defined(this._field.get_add_link())){var b=rdx.form_utils.add_form_field_link(this,this._element,this._field,this._view_link_map,this._field.get_add_link());this._parent.append(b)}else{this._parent.append(this._element)}return this};rdx.label.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._element,this._field)};rdx.label.prototype.add_event_handler=function(d,c){};rdx.label.prototype.set_data=function(b){this._element.html("");if(rdx.utils.is_array(b)){this._element.append(b.join(","))}else{if(rdx.utils.is_string(b)){this._element.append(rdx.i18n.get_string(b))}else{if(rdx.utils.is_boolean(b)){this._element.append(b+"")}else{this._element.append(b)}}}};rdx.label.prototype.get_data=function(){var b=this._element.text();b=b.replace(/\u00A0/g," ");return b};rdx.label.prototype.get_component_type=function(){return rdx.form_constants.LABEL};rdx.label.prototype.get_field=function(){return this._field};rdx.label.prototype.get_component=function(){return this._element};rdx.label.prototype.toggle_show_hide=function(d,c){if(rdx.utils.is_not_defined(c)){c=this._element}if(d){c.show()}else{c.hide()}};rdx.list=function(c,d){this._parent=typeof(c)=="string"?$("#"+c):c;this._DEFAULT_PROPERTIES={size:5,width:-1,multi_select:true,double_click_handler_callback:null,change_handler_callback:null,class_names:"list",send_as_array:"false",mandatory:false,case_insensitive_lookup:false,options_in_bold:[],height:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d.get_properties());if(this._properties.mandatory==false){this._properties.mandatory=rdx.utils.is_defined(d.is_mandatory())?d.is_mandatory():false}this._properties.width=rdx.utils.is_defined(d.get_width())?d.get_width():-1;this._properties.options_in_bold=rdx.utils.is_not_defined(d._properties.options_in_bold)?[]:d._properties.options_in_bold;this._list=null;this._html_list=null;this._list_table=null;this._added_blank_item=false;this._field=d;this._view_link_map={};this._properties.change_event_handler=rdx.utils.is_defined(this._properties.change_event_handler_callback)?this._properties.change_event_handler_callback:null;this._list=rdx.dom_utils.get_element(rdx.form_constants.LIST).attr("size",this._properties.size).addClass(this._properties.class_names);if(rdx.utils.is_defined(this._properties.height)){this._list.height(this._properties.height)}};rdx.list.prototype.render=function(){this._html_list=this._list[0];if(rdx.utils.is_defined(this._field.get_resource_name())&&(rdx.utils.is_defined(this._field.get_add_view_name())||rdx.utils.is_defined(this._field.get_set_view_name())||rdx.utils.is_defined(this._field.get_view_view_name())||rdx.utils.is_defined(this._field.get_custom_button_properties()))){this.create_list_table()}else{this._parent.append(this._list)}this._add_empty_item();this.add_data_items();if(!this.is_combo_box()){if(this._properties.multi_select){this._list.attr("multiple","multiple");this._list.addClass("list_multiselect")}if(this._properties.double_click_handler_callback){this._list.bind(rdx.events.DOUBLE_CLICK,{ns_double_click_handler_callback:this._properties.double_click_handler_callback},function(a){a.data.ns_double_click_handler_callback.call_back()})}}if(rdx.utils.is_defined(this._properties.change_event_handler)){this.add_event_handler(rdx.events.CHANGE,this._properties.change_event_handler)}this.get_component().width(this._properties.width);if(rdx.BROWSER=="ie"&&rdx.BROWSER_VERSION=="8.0"){var b=this;this._list.bind("focus",function(){var a=$(b._list).attr("class");if(a.indexOf("ie_select")==-1){$(b._list).attr("class",$(b._list).attr("class")+" ie_select")}});this._list.bind("mouseover",function(){var a=$(b._list).attr("class");if(a.indexOf("ie_select")==-1){$(b._list).attr("class",$(b._list).attr("class")+" ie_select")}});this._list.bind("focusout",function(){var f=$(b._list).attr("class");if(f.indexOf("ie_select")!=-1){var a=f;var e=a.replace("ie_select"," ");$.trim(e);$(b._list).attr("class",e)}});$(this._list).mouseout(function(){var f=false;if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){f=true}if(!f||window.event.toElement!=null){var h=$(b._list).attr("class");if(h.indexOf("ie_select")!=-1){var a=h;var g=a.replace("ie_select"," ");$.trim(g);$(b._list).attr("class",g)}}})}if(this._properties.change_handler_callback){this._list.bind(rdx.events.CHANGE,{ns_change_handler_callback:this._properties.change_handler_callback,list:this},function(a){a.data.ns_change_handler_callback.call_back([a.data.list])})}if(this._field.is_read_only()){this.toggle_read_only(false)}return this};rdx.list.prototype.add_event_handler=function(d,c){this._list.bind(d,{rdx_change_handler_callback:c,parent:this._parent,list_get_data_callback:new rdx.callback(this,this.get_data),list_set_data_callback:new rdx.callback(this,this.set_data),list_add_data_items_callback:new rdx.callback(this,this.add_data_items)},function(a){a.data.rdx_change_handler_callback.call_back([a])})};rdx.list.prototype.add_data_items=function(l,m){this.remove_items(false,false);if(rdx.utils.is_not_defined(l)){var n=this._field.get_formatter();if(rdx.utils.is_defined(n)){if(rdx.utils.is_defined(n._properties.key_value)&&n._properties.key_value===true){this.add_options_by_key_value(n._input_map,false)}else{var h=n.get_map_keys();for(var o=0,g=h.length;o<g;o++){this.add_item(h[o],false)}}}}else{for(var o=0,g=l.length;o<g;o++){this.add_item(l[o],false)}}if(rdx.utils.is_not_defined(m)||m==false){this._list.change()}};rdx.list.prototype.add_items=function(f,e){for(var g=0,h=f.length;g<h;g++){this.add_item(f[g],false)}if(e){this._list.change()}};rdx.list.prototype.add_item=function(g,e){if(g==rdx.SEPARATOR){var f=$(document.createElement("option")).text(rdx.SEPARATOR_LABEL).attr("disabled",true);this._list.append(f)}else{var h=rdx.utils.html_decode(rdx.i18n.get_string(g));var f=$(document.createElement("option")).text(h).attr("title",h);if($.inArray(h,this._properties.options_in_bold)!=-1){f.addClass("rdx_bold")}this._list.append(f);if(e){this._list.change()}}};rdx.list.prototype.add_options_by_key_value=function(g,f){if(rdx.utils.is_defined(g)){for(key in g){if(g.hasOwnProperty(key)){var h=g[key];var e=$(document.createElement("option")).text(h).val(key);this._list.append(e);if(f){this._list.change()}}}}};rdx.list.prototype.update_item=function(c){var d=this.get_selected_index();if(d<0||(d>this.get_items_count()-1)){return}this._html_list.options[d].text=c};rdx.list.prototype.select_item=function(d,e){var f=this.get_items_count();if(f==0){return}if(d<0||d>=f){d=0}this._html_list.options[d].selected=true;if(e){this._list.change()}};rdx.list.prototype.select_value=function(n,g){if(n==null){return}var l=this.get_items_count();if(l==0){return}var m=n+"";if(this._properties.case_insensitive_lookup==true){m=m.toLowerCase()}for(var h=0;h<l;h++){var o=this._html_list.options[h].text;o=o+"";if(this._properties.case_insensitive_lookup==true){o=o.toLowerCase()}if(o==m){this._html_list.options[h].selected=true;if(rdx.utils.is_not_defined(g)||g==false){this._list.change()}break}}};rdx.list.prototype.unselect_all_items=function(){this._html_list.selectedIndex=-1;this._list.change()};rdx.list.prototype.remove_items=function(d,e){if(!d){this._html_list.selectedIndex=-1;if(this._added_blank_item){this._html_list.options.length=1}else{this._html_list.options.length=0}}else{if(this.is_combo_box()){if(this._added_blank_item&&this.get_selected_index()>1){this._html_list.remove(this.get_selected_index())}else{this._html_list.remove(this.get_selected_index())}}else{for(var f=this.get_items_count()-1;f>=0;f--){if(this._html_list.options[f].selected){this._html_list.remove(f)}}}}if(e){this._list.change()}};rdx.list.prototype.get_items=function(o){var g=[];if(o&&this.is_combo_box()){var h=this.get_selected_index();if(h>=0){return this._html_list.options[h].text}return""}else{for(var m=0,n=this.get_items_count();m<n;m++){var l=this._html_list.options[m];if(!o||l.selected){g.push(l.text)}}}return g};rdx.list.prototype.get_selected_index=function(){return this._html_list.selectedIndex};rdx.list.prototype.get_items_count=function(){return this._html_list.length};rdx.list.prototype.is_combo_box=function(){return this._properties.size==1};rdx.list.prototype.is_send_as_array=function(){return this._properties.send_as_array=="true"};rdx.list.prototype._add_empty_item=function(){if(!this.is_combo_box()){return}if(this._properties.mandatory==true||this._properties.mandatory=="true"){return}if(!this._added_blank_item){this.add_item("",false);this._added_blank_item=true}};rdx.list.prototype.get_field=function(){return this._field};rdx.list.prototype.get_component=function(){return this._list};rdx.list.prototype.get_parent=function(){return this._parent};rdx.list.prototype.get_component_type=function(){return rdx.form_constants.LIST};rdx.list.prototype.set_data=function(c){if(!this.is_combo_box()&&rdx.utils.is_array(c)){for(var d=0;d<c.length;d++){this.select_value(c[d],true)}if(c.length>0){this._list.change()}}else{this.select_value(c)}};rdx.list.prototype.get_data=function(b){return this.get_items(true)};rdx.list.prototype.mask=function(){rdx.mask.mask_component(this._parent,this.get_field().get_key())};rdx.list.prototype.unmask=function(){return rdx.mask.unmask_component(this._parent,this.get_field().get_key())};rdx.list.prototype.get_dependency_determinant_value=function(b){if(b==rdx.form_constants.dependency_determinant.TYPE){return this.get_data()}else{return null}};rdx.list.prototype.toggle_read_only=function(c,d){if(rdx.utils.is_defined(d)&&d!=rdx.form_constants.dependency_determinant.VALUE){this._field.set_read_only(false);this._toggle_read_only_for_view_link_map(c,null,this._field.get_set_view_name(),this._field.get_view_view_name())}else{if(c){$(this._list).removeAttr("disabled");this._list.removeClass("form_field_disabled");this._toggle_read_only_for_view_link_map(c,this._field.get_add_view_name(),this._field.get_set_view_name(),this._field.get_view_view_name())}else{$(this._list).attr("disabled","true");this._list.addClass("form_field_disabled");this._toggle_read_only_for_view_link_map(c,this._field.get_add_view_name(),this._field.get_set_view_name(),this._field.get_view_view_name())}}};rdx.list.prototype._toggle_read_only_for_view_link_map=function(g,e,h,f){if(g){if(rdx.utils.is_defined(e)){this._view_link_map[e].removeClass("disabled")}if(rdx.utils.is_defined(h)&&rdx.utils.is_not_empty(this.get_items(true))){this._view_link_map[h].removeClass("disabled")}if(rdx.utils.is_defined(f)){this._view_link_map[f].removeClass("disabled")}}else{if(rdx.utils.is_defined(e)){this._view_link_map[e].addClass("disabled")}if(rdx.utils.is_defined(h)){this._view_link_map[h].addClass("disabled")}if(rdx.utils.is_defined(f)){this._view_link_map[f].addClass("disabled")}}};rdx.list.prototype.create_list_table=function(){this._list_table=$("<table>").attr("cellpadding",0).attr("cellSpacing",0).addClass("list_table");rdx.form_utils.add_form_field_link(this,this._list,this._field,this._view_link_map,null,this._list_table);this._parent.prepend(this._list_table)};rdx.bind_unbind_list=function(c,d){this._parent=typeof(c)=="string"?$("#"+c):c;this._DEFAULT_PROPERTIES={height:"200px",width:"600px",class_names:"bind_unbind_list",available_component:"table",mandatory:false,show_add_button:true,expanded:false,add_order_buttons:false,explode_root_node:true,enable_search:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d.get_properties());this._properties.mandatory=d.is_mandatory();this._configure_table=null;this._available_table=null;this._available_table_header=null;this._configured_table_header=null;this._field=d;this._custom_input_field=d.get_custom_input_field();this._view_link_map={};this._new_button_div=null;this.AVAILABLE_FADE_IN_TIME=1500;this._COLUMN_VALUE_KEY="value";this._move_up_div=null;this._move_down_div=null};rdx.bind_unbind_list.prototype._get_plus_icon=function(d,f){var e=$("<span>").addClass("ui-icon").addClass("ui-icon-plus");e.bind(rdx.events.CLICK,{icon:e,list:f},function(b){if(!b.data.list.get_field().is_read_only()){b.data.list._available_table.set_rows_selected(b.data.icon.parent().parent()[0].rowIndex);var c=$(b.data.icon.parent()[0]).data("ns_table_row_data");var a=[c.value];b.data.list._available_table.delete_item(c,[b.data.list._COLUMN_VALUE_KEY]);b.data.list._configure_table.add_item(c,a,false);b.data.list._update_configure_count();b.data.list._update_available_count()}});return e};rdx.bind_unbind_list.prototype._get_minus_icon=function(d,f){var e=$("<span>").addClass("ui-icon").addClass("ui-icon-minus");e.bind(rdx.events.CLICK,{icon:e,list:f},function(b){if(!b.data.list.get_field().is_read_only()){b.data.list._configure_table.set_rows_selected(b.data.icon.parent().parent()[0].rowIndex);var c=$(b.data.icon.parent()[0]).data("ns_table_row_data");var a=[c.value];b.data.list._configure_table.delete_item(c,[b.data.list._COLUMN_VALUE_KEY]);b.data.list._available_table.add_item(c,a);b.data.list._update_configure_count();b.data.list._update_available_count()}});return e};rdx.bind_unbind_list.prototype._get_row_data=function(g,e){var h=$("<span>").addClass("prose").append(g.value);e=(0.28)*parseInt(e);var f=e.toString();h.width(e);return h};rdx.bind_unbind_list.prototype._add_remove_data=function(o,n,p){var q=o.get_selected_items_data();var l=o.delete_selected_item();if(this._properties.available_component!="table"&&p=="add"&&q.length!=l.length){l=[];var m=new Array();if(this._properties.explode_root_node==false){for(var s=0;s<q.length;s++){if(rdx.utils.is_defined(q[s]["parent"]["data"]["key"])=="_1"||$.inArray(q[s]["parent"]["data"]["key"],m)==-1){l.push({value:q[s]["data"]["title"]});m.push(q[s]["data"]["title"])}}}else{for(var s=0;s<q.length;s++){if(q[s]["parent"]["data"]["key"]!="_1"){l.push({value:q[s]["data"]["title"]})}}}}if(this._properties.available_component!="table"&&rdx.utils.is_defined(l)){q=l}if(rdx.utils.is_defined(q)){for(var s=0;s<q.length;s++){var t=[q[s]["value"]];if(p=="remove"){n._available_table.add_item(q[s],t)}else{if(p=="add"){n._configure_table.add_item(q[s],t,false)}}}n._update_configure_count();n._update_available_count()}};rdx.bind_unbind_list.prototype._move_up_down=function(n,p){var q=n._get_selected_rows();var o=n.get_selected_row_count();var t=n.get_selected_items_data();var w=new Array();for(var u=0;u<o;u++){w[u]=q[u].rowIndex}if(rdx.utils.is_not_empty(t)){if((p=="up"&&w[0]!=0)||(p=="down"&&(w[w.length-1]!=n.get_item_count()-1))){n.delete_selected_item()}else{this._toggle_up_down_events();return}for(var u=0;u<o;u++){var v=t[u];var s;var x=[v.value];if(p=="up"&&s!=0){s=w[0];if(s+u==1){n.add_item(v,x);n.set_rows_selected(s-1)}else{n.add_item(v,x,false,null,s+u-1);n.set_rows_selected(s+u-1)}}else{if(p=="down"&&(s!=n.get_item_count()-1)){s=w[w.length-1];n.add_item(v,x,false,null,s+u+1);n.set_rows_selected(s+u+1)}}this._toggle_up_down_events()}}};rdx.bind_unbind_list.prototype._edit_btn_selected=function(){var b=this._available_table.get_selected_row_count();if(b==1){this._new_button_div.find("table").find("tbody").find("tr").find("td:eq(1)").find("a").removeClass("disable_link")}else{this._new_button_div.find("table").find("tbody").find("tr").find("td:eq(1)").find("a").addClass("disable_link")}};rdx.bind_unbind_list.prototype._available_table_selected=function(){var d=this._available_table.get_selected_row_count();var c=this._available_table.get_item_count();if(d!=this._available_table.get_item_count()){if(this._available_table_header.find("tbody").find("tr").find("td:eq(1)").find("a").text()==rdx.i18n.get_string("rdx.form_bind_unbind_list_deselect_label")){this._available_table_header.find("tbody").find("tr").find("td:eq(1)").find("a").text(rdx.i18n.get_string("rdx.form_bind_unbind_list_select_all_label"))}}};rdx.bind_unbind_list.prototype._set_height_property=function(){var b=parseInt(this._properties.height);b=b>parseInt(this._DEFAULT_PROPERTIES.height)?b-60:140;if(rdx.utils.is_defined(this._field.get_resource_name())&&rdx.utils.is_defined(this._field.get_add_view_name())){b=b-10}else{if(rdx.utils.is_defined(this._custom_input_field)&&this._custom_input_field){b=b-30}}return b};rdx.bind_unbind_list.prototype.render=function(){var ai=$("<table>").addClass("fixed");var ax=$("<tr>");var N=$("<div>").addClass("configured_bkg").addClass("smooth_all_corner");var ac=$("<div>").addClass("configured").addClass("table_parent");this._table_columns=[new rdx.table_column({key:"value",renderer_callback:new rdx.callback(this._get_row_data,[this._properties.width]),store_data:true}),new rdx.table_column({key:"_minus_icon",renderer_callback:new rdx.callback(this._get_minus_icon,[this]),text_align:"right",width:"15px",store_data:true})];this._configure_table=new rdx.table(ac,this._table_columns,{row_editable:false,header:false,height:this._set_height_property()}).render();if(this._properties.add_order_buttons==true){this._configure_table.set_row_click_handler_callback(new rdx.callback(this,this._toggle_up_down_events))}var at=$("<div>");this._configured_table_header=$("<table>");at.append(this._configured_table_header);var ae=$("<tr>");var au=$("<td>").addClass("configured_count").addClass("configured_label");var ab=rdx.i18n.get_string("rdx.search");var U=$("<input/>").attr({type:"text",placeholder:ab}).addClass("search_list");var ar=$("<td>").append(U);U.bind("keyup",{parent:ac},this._filter_list_items);var T=$("<td>").addClass("remove_link");var aa;if(rdx.utils.is_defined(this._field.get_properties())&&rdx.utils.is_defined(this._field.get_properties().remove_all_label)){aa=$(document.createElement("a")).attr("href","#noAnchor").append(rdx.i18n.get_string(this._field.get_properties().remove_all_label))}else{aa=$(document.createElement("a")).attr("href","#noAnchor").append(rdx.i18n.get_string("rdx.form_bind_unbind_list_remove_all_label"))}aa.bind(rdx.events.CLICK,{table:this._configure_table,bind_unbind_list:this,link:aa},function(a){if(!a.data.bind_unbind_list.get_field().is_read_only()){a.data.bind_unbind_list._configure_table.set_all_rows_selected();a.data.bind_unbind_list._add_remove_data(a.data.table,a.data.bind_unbind_list,"remove")}});T.append(aa);if(this._properties.enable_search===true){ae.append(au).append(ar).append(T)}else{ae.append(au).append(T)}this._configured_table_header.append(ae);this._configured_table_header.addClass("header");N.append(at);N.append(ac);if(this._properties.add_order_buttons===true){this._move_up_div=$("<div>").addClass("move_up").addClass("clickable_area").addClass("disable");this._move_up_div.bind(rdx.events.CLICK,{table:this._configure_table,bind_unbind_list:this},function(a){if(!a.data.bind_unbind_list.get_field().is_read_only()){a.data.bind_unbind_list._move_up_down(a.data.table,"up")}});this._move_down_div=$("<div>").addClass("move_down").addClass("clickable_area").addClass("disable");this._move_down_div.bind(rdx.events.CLICK,{table:this._configure_table,bind_unbind_list:this},function(a){if(!a.data.bind_unbind_list.get_field().is_read_only()){a.data.bind_unbind_list._move_up_down(a.data.table,"down")}});var S=$("<div>").addClass("up_down_buttons").append(this._move_up_div).append(this._move_down_div);N.append(S);N.addClass("orderable_rows")}this._update_configure_count();var aj=$("<div>").addClass("clickable_area");var aq=$("<div>").addClass("clickable_area");var O=$('<img src = "'+rdx.images.RIGHT_ARROW+'"/> ');var av=$('<img src = "'+rdx.images.LEFT_ARROW+'"/> ');aj.append(O);aq.append(av);var an=$("<div>").addClass("button_table_parent").addClass("smooth_all_corner");an.append(aj);an.append(aq);var ad=rdx.i18n.get_string("rdx.form_bind_unbind_list_add");if(rdx.utils.is_defined(this._field.get_properties())&&rdx.utils.is_defined(this._field.get_properties().available_button_label)){ad=rdx.i18n.get_string(this._field.get_properties().available_button_label)}if(rdx.utils.is_defined(this._custom_input_field)&&this._custom_input_field){ad=rdx.i18n.get_string("rdx.form_bind_unbind_list_custom_available")}this._add_button_div=$("<div>").addClass("add_button_div");this._add_button=rdx.dom_utils.get_element(rdx.form_constants.ICON_BUTTON).html('<img src = "'+rdx.images.ADD_IMG+'"/> '+ad).addClass("initial_add");this._add_button_div.append(this._add_button);if(this._properties.show_add_button==false){this._add_button.hide()}var aw=$("<div>").addClass("available_bkg").addClass("smooth_all_corner");if(this._properties.available_component!="table"){this._available_table_parent=$("<div>").addClass("tree_div smooth_all_corner bind_unbind_tree_div");aw.addClass("tree_list");var al={checkbox:true,classNames:{checkbox:"dynatree-checkbox"},selectMode:3};this._available_table=new rdx.tree_component(this._available_table_parent,al)}else{this._available_table_parent=$("<div>").addClass("available").addClass("table_parent");this._available_table_columns=[new rdx.table_column({key:"value",renderer_callback:new rdx.callback(this._get_row_data,[this._properties.width]),store_data:true}),new rdx.table_column({key:"_plus_icon",renderer_callback:new rdx.callback(this._get_plus_icon,[this]),text_align:"right",width:"15px",store_data:true})];this._available_table=new rdx.table(this._available_table_parent,this._available_table_columns,{header:false,height:this._set_height_property()}).render();this._available_table.add_event_handler(rdx.events.ROW_SELECTION_CHANGED,new rdx.callback(this,this._available_table_selected))}var ay=$("<td>").addClass("select_link");if(rdx.utils.is_defined(this._field.get_resource_name())&&(rdx.utils.is_defined(this._field.get_add_view_name())||(rdx.utils.is_defined(this._field.get_set_view_name())))){aw.addClass("new_available_bkg");N.addClass("new_available_bkg");ac.addClass("new_available");this._new_button_div=$("<div>");var W=$("<table>");var V=$("<tr>");if(rdx.utils.is_defined(this._field.get_add_view_name())){var ag=rdx.i18n.get_string("rdx.form_bind_unbind_list_new_btn");var Z=rdx.form_utils.add_bind_unbind_link_image(this._field.get_add_view_name(),rdx.model_constants.ADD,this._field,ag,"rdx.form_bind_unbind_list_new_btn_tooltip",this,this._view_link_map);V.append(Z)}if(rdx.utils.is_defined(this._field.get_resource_name())&&rdx.utils.is_defined(this._field.get_set_view_name())){V.append("|");var ag=rdx.i18n.get_string("rdx.form_bind_unbind_list_edit_btn");var ap=rdx.form_utils.add_bind_unbind_link_image(this._field.get_set_view_name(),rdx.model_constants.SET,this._field,ag,"rdx.form_bind_unbind_list_edit_btn_tooltip",this,this._view_link_map);V.append(ap);ap.find("a").addClass("disable_link");if(!this.get_field().is_read_only()){this._available_table.add_event_handler(rdx.events.ROW_SELECTION_CHANGED,new rdx.callback(this,this._edit_btn_selected))}}W.append(V);this._new_button_div.append(W);this._new_button_div.hide()}this._add_button.bind(rdx.events.CLICK,{list:this,available_table:aw,middle_btn_table:an,configure_table:N},function(a){if(!a.data.list.get_field().is_read_only()){a.data.list._add_button_div.parent().remove();a.data.list._update_available_count();a.data.available_table.parent().fadeIn(this.AVAILABLE_FADE_IN_TIME);a.data.middle_btn_table.parent().fadeIn(this.AVAILABLE_FADE_IN_TIME);if(rdx.utils.is_defined(a.data.list._field.get_resource_name())&&rdx.utils.is_defined(a.data.list._field.get_add_view_name())){a.data.list._new_button_div.fadeIn(this.AVAILABLE_FADE_IN_TIME)}if(rdx.utils.is_defined(a.data.list._custom_input_field)&&a.data.list._custom_input_field){a.data.list._custom_input_text.addClass("shown")}}});var R=this._available_table;var af=$("<div>");this._available_table_header=$("<table>");af.append(this._available_table_header);this._available_table_header.addClass("header");var Q=$("<tr>");var ah=rdx.i18n.get_string("rdx.form_bind_unbind_list_available");var U=$("<input/>").attr({type:"text",placeholder:ab}).addClass("search_list");var ar=$("<td>").append(U);U.bind("keyup",{parent:this._available_table_parent},this._filter_list_items);if(rdx.utils.is_defined(this._field.get_properties())&&rdx.utils.is_defined(this._field.get_properties().available_label)){ah=rdx.i18n.get_string(this._field.get_properties().available_label)}var am=$("<td>").append(ah).addClass("available_label");var ak=$(document.createElement("a")).attr("href","#noAnchor").append(rdx.i18n.get_string("rdx.form_bind_unbind_list_select_all_label"));ak.bind(rdx.events.CLICK,{select:this._available_table,link:ak,bind_unbind_list:this},function(b){if(!b.data.bind_unbind_list.get_field().is_read_only()){var a=b.data.link.text();if(a==rdx.i18n.get_string("rdx.form_bind_unbind_list_select_all_label")){b.data.select.set_all_rows_selected();if(rdx.utils.is_defined(b.data.bind_unbind_list._new_button_div)){if(rdx.utils.is_defined(b.data.bind_unbind_list._new_button_div.find("table").find("tbody").find("tr").find("td:eq(1)"))){b.data.bind_unbind_list._edit_btn_selected()}}b.data.link.text(rdx.i18n.get_string("rdx.form_bind_unbind_list_deselect_label"))}else{b.data.select.set_all_rows_unselected();b.data.link.text(rdx.i18n.get_string("rdx.form_bind_unbind_list_select_all_label"));if(rdx.utils.is_defined(b.data.bind_unbind_list._new_button_div)){if(rdx.utils.is_defined(b.data.bind_unbind_list._new_button_div.find("table").find("tbody").find("tr").find("td:eq(1)"))){b.data.bind_unbind_list._edit_btn_selected()}}}b.stopPropagation()}});ay.append(ak);this._available_table_header.append(Q);if(this._properties.enable_search===true){this._available_table_header.find("tbody").find("tr").append(am).append(ar).append(ay)}else{this._available_table_header.find("tbody").find("tr").append(am).append(ay)}aw.append(af);aw.append(this._available_table_parent);aj.bind(rdx.events.CLICK,{table:R,bind_unbind_list:this},function(a){if(!a.data.bind_unbind_list.get_field().is_read_only()){a.data.bind_unbind_list._add_remove_data(a.data.table,a.data.bind_unbind_list,"add")}});aq.bind(rdx.events.CLICK,{table:this._configure_table,bind_unbind_list:this},function(a){if(!a.data.bind_unbind_list.get_field().is_read_only()){a.data.bind_unbind_list._add_remove_data(a.data.table,a.data.bind_unbind_list,"remove")}});ax.append($("<td>").append(aw).addClass("td_style"));ax.append($("<td>").append(an).addClass("max_width"));ax.append($("<td>").append(N).addClass("td_style"));ax.append($("<td>").append(this._add_button_div));ai.append(ax);var ao=$("<div>").addClass(this._properties.class_names).height(this._properties.height).width(this._properties.width);this._wrapper=ao;if(rdx.utils.is_defined(this._custom_input_field)&&this._custom_input_field){this._create_custom_input_field(ao)}if(rdx.utils.is_defined(this._new_button_div)&&this._new_button_div){aw.append(this._new_button_div);this._available_table_parent.addClass("new_available");var P=$("<div>");P.addClass("configured_table_increment");N.append(P)}ao.append(ai);aw.parent().hide();an.parent().hide();this._configure_table.set_sort_info(0,rdx.SORT_ASCENDING);this._available_table.set_sort_info(0,rdx.SORT_ASCENDING);this._parent.append(ao);if(this._field.is_read_only()){this.set_read_only()}if(this._properties.available_component!="table"){this._available_table.render();this._available_table_parent.bind(rdx.events.UPDATE_COUNT,{tree:this},function(a){a.data.tree._update_available_count()})}if(this._properties.expanded){this._add_button.trigger(rdx.events.CLICK)}return this};rdx.bind_unbind_list.prototype._filter_list_items=function(x){var s=x.data.parent;var u=$(this);var t=$.trim(u.val());var p=$(".table_body_table_div tr.table_row",s);for(var w=0;w<p.length;w++){var v=p[w];var q=$(".prose",v).html();var o=new RegExp(t,"i");var n=q.match(o);if(n){$(v).removeClass("hide")}else{$(v).addClass("hide")}}};rdx.bind_unbind_list.prototype._create_custom_input_field=function(b){this._custom_input_text=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX).addClass("custom_field_textbox").attr("title",rdx.i18n.get_string("rdx.form_bind_unbind_list_custom_input_text"));this._custom_input_button=rdx.dom_utils.get_element(rdx.form_constants.ICON_BUTTON).html('<img src = "'+rdx.images.ADD_IMG+'"/>'+rdx.i18n.get_string("rdx.form_bind_unbind_list_add"));this._custom_input_button.addClass("custom_field_button");this._custom_input_button.bind(rdx.events.CLICK,{list:this},function(B){var v=B.data.list._custom_input_text.val().trim();var x=v.length==0?new Array():v.split(",");if(x.length>0){var a=new Array();var C=B.data.list.get_data();var D=rdx.utils.get_elements_not_in_second_array(x,C);var u=rdx.utils.get_elements_not_in_second_array(x,D);if(D.length>0&&rdx.utils.is_defined(B.data.list._field.get_formatter())){for(var w=0;w<D.length;w++){if(!B.data.list._field.get_formatter().update_input_map_data_items(D[w])){a.push(D[w])}}D=rdx.utils.get_elements_not_in_second_array(D,a)}if(D.length>0){var m=new Array();for(var y=0;y<D.length;y++){var A={};var z=D[y];A.value=z;D[y]=A;m.push([z])}B.data.list._configure_table.add_items(D,m);B.data.list._update_configure_count()}var t="";if(u.length>0){t+="Item(s) "+u.join(", ")+" are already configured \n"}if(a.length>0){t+="Item(s) "+a.join(", ")+" are invalid"}if(t.length>0){rdx.message_box.error(t)}}});b.append(this._custom_input_text);b.append(this._custom_input_button)};rdx.bind_unbind_list.prototype._get_columns_data_object=function(f){var h=[];for(var m=0;m<f.length;m++){var g={};var l=f[m];if(rdx.utils.is_array(f[m])&&f[m].length!=0){l=f[m][0]}g[this._COLUMN_VALUE_KEY]=l;h.push(g)}return h};rdx.bind_unbind_list.prototype.add_data_items=function(e){if(rdx.utils.is_not_defined(e)){return}this._configure_table.delete_all_items();this._available_table.delete_all_items();this._update_configure_count();var f=new Array(e.length);for(var d in e){f[d]=[e[d]]}if(this._properties.available_component!="table"){this._available_table.add_items(e)}else{this._available_table.add_items(this._get_columns_data_object(e),f)}this._update_available_count()};rdx.bind_unbind_list.prototype._add_items=function(h){var n=[h];this._configure_table.delete_all_items();this._configure_table.add_items(this._get_columns_data_object(h),n);this._update_configure_count();if(this._properties.available_component=="table"){var o=this._available_table.get_data();for(var p=0;p<h.length;p++){for(var q=0;q<o.length;q++){if(h[p]==o[q][this._COLUMN_VALUE_KEY]){this._available_table.set_rows_selected(q)}}}var m=this._available_table.get_selected_items_data();for(var l=0;l<m.length;l++){this._available_table.delete_item(m[l],[this._COLUMN_VALUE_KEY])}}else{this._available_table.delete_selected_item(h)}this._update_available_count()};rdx.bind_unbind_list.prototype.add_item=function(c){var d={};if(rdx.utils.is_array(c)&&c.length!=0){c=c[0]}d[this._COLUMN_VALUE_KEY]=c;this._configure_table.add_item(d);this._update_configure_count();this._update_available_count()};rdx.bind_unbind_list.prototype._update_configure_count=function(){var d=this._configure_table.get_rows_data().length;var c=rdx.i18n.get_string("rdx.form_bind_unbind_list_configured",{count:d});if(rdx.utils.is_defined(this._field.get_properties())&&rdx.utils.is_defined(this._field.get_properties().configured_label)){c=rdx.i18n.get_string(this._field.get_properties().configured_label,{count:d})}this._configured_table_header.find("tbody").find("tr").find("td:eq(0)").text(c);if(d==0||this._field.is_read_only()){this._configured_table_header.find("tbody").find("tr").find("td:eq(1)").find("a").addClass("disable_link")}else{this._configured_table_header.find("tbody").find("tr").find("td:eq(1)").find("a").removeClass("disable_link")}if(this._properties.add_order_buttons==true){this._toggle_up_down_events()}};rdx.bind_unbind_list.prototype._update_available_count=function(){var d=this._available_table.get_rows_data().length;var c=rdx.i18n.get_string("rdx.form_bind_unbind_list_available",{count:d});if(rdx.utils.is_defined(this._field.get_properties())&&rdx.utils.is_defined(this._field.get_properties().available_label)){c=rdx.i18n.get_string(this._field.get_properties().available_label,{count:d})}this._available_table_header.find("tbody").find("tr").find("td:eq(0)").text(c);if(d==0||this._field.is_read_only()){this._available_table_header.find("tbody").find("tr").find("td:eq(1)").find("a").addClass("disable_link");this._available_table_header.find("tbody").find("tr").find("td:eq(1)").find("a").text(rdx.i18n.get_string("rdx.form_bind_unbind_list_select_all_label"))}else{this._available_table_header.find("tbody").find("tr").find("td:eq(1)").find("a").removeClass("disable_link")}};rdx.bind_unbind_list.prototype._get_available_items=function(){var d=[];var e=this._available_table.get_selected_items_data();for(var f=0;f<e.length;f++){d.push(e[f][this._COLUMN_VALUE_KEY])}return d};rdx.bind_unbind_list.prototype.set_data=function(b){if(rdx.utils.is_not_defined(b)){return}if(!rdx.utils.is_array(b)){return}this._add_items(b)};rdx.bind_unbind_list.prototype.get_data=function(f){if(rdx.utils.is_defined(f)){return this._get_available_items()}var g=[];var h=this._configure_table.get_data();for(var e=0;e<h.length;e++){g.push(h[e][this._COLUMN_VALUE_KEY])}return g};rdx.bind_unbind_list.prototype.get_available_data=function(){return this._get_available_items()};rdx.bind_unbind_list.prototype.get_component_type=function(){return rdx.form_constants.BIND_UNBIND_LIST};rdx.bind_unbind_list.prototype.get_field=function(){return this._field};rdx.bind_unbind_list.prototype.get_component=function(){return this._wrapper};rdx.bind_unbind_list.prototype.mask=function(){var b={position:"absolute",top:"25px"};rdx.mask.mask_component(this._parent,this.get_field().get_key(),b)};rdx.bind_unbind_list.prototype.unmask=function(){return rdx.mask.unmask_component(this._parent,this.get_field().get_key())};rdx.bind_unbind_list.prototype._multiple_selection=function(d){var c=this._configure_table.get_selected_row_index();if(d==1){this._move_up_div.removeClass("disable");this._move_up_div.bind(rdx.events.CLICK,{table:this._configure_table,bind_unbind_list:this},function(a){if(!a.data.bind_unbind_list.get_field().is_read_only()){a.data.bind_unbind_list._move_up_down(a.data.table,a.data.bind_unbind_list,"up",a);a.stopImmediatePropagation()}});this._move_down_div.removeClass("disable");this._move_down_div.bind(rdx.events.CLICK,{table:this._configure_table,bind_unbind_list:this},function(a){if(!a.data.bind_unbind_list.get_field().is_read_only()){a.data.bind_unbind_list._move_up_down(a.data.table,a.data.bind_unbind_list,"down",a);a.stopImmediatePropagation()}})}else{this._move_up_div.addClass("disable");this._move_down_div.addClass("disable")}if(c==0){this._move_up_div.addClass("disable")}if(c==this._configure_table.get_item_count()-1){this._move_down_div.addClass("disable")}};rdx.bind_unbind_list.prototype._toggle_up_down_events=function(){var e=this._configure_table.get_selected_row_count();var g=this._configure_table._get_selected_rows();var f=new Array();for(var h=0;h<e;h++){f[h]=g[h].rowIndex}if(e>0){if(f[0]==0){this._move_up_div.addClass("disable")}else{this._move_up_div.removeClass("disable")}if(f[f.length-1]==this._configure_table.get_item_count()-1){this._move_down_div.addClass("disable")}else{this._move_down_div.removeClass("disable")}}else{this._move_up_div.addClass("disable");this._move_down_div.addClass("disable")}};rdx.bind_unbind_list.prototype.toggle_read_only=function(b){if(b){this.set_edittable()}else{this.set_read_only()}};rdx.bind_unbind_list.prototype.set_read_only=function(){$(this._add_button).attr("disabled","true");this._add_button.addClass("form_field_disabled");this._configure_table.get_table_parent().attr("disabled","true");this._configure_table.get_table_parent().addClass("form_field_disabled");this._available_table_parent.attr("disabled","true");this._available_table_parent.addClass("form_field_disabled");if(rdx.utils.is_defined(this._field.get_resource_name())&&rdx.utils.is_defined(this._field.get_add_view_name())){this._new_button_div.find("table").find("tbody").find("tr").find("td:eq(0)").find("a").addClass("disable_link")}if(rdx.utils.is_defined(this._field.get_resource_name())&&rdx.utils.is_defined(this._field.get_set_view_name())){this._new_button_div.find("table").find("tbody").find("tr").find("td:eq(1)").find("a").addClass("disable_link")}this._available_table_header.find("tbody").find("tr").find("td:eq(1)").find("a").addClass("disable_link");this._configured_table_header.find("tbody").find("tr").find("td:eq(1)").find("a").addClass("disable_link")};rdx.bind_unbind_list.prototype.set_edittable=function(){$(this._add_button).removeAttr("disabled");this._add_button.removeClass("form_field_disabled");this._configure_table.get_table_parent().attr("disabled");this._configure_table.get_table_parent().removeClass("form_field_disabled");this._available_table_parent.removeAttr("disabled");this._available_table_parent.removeClass("form_field_disabled");if(rdx.utils.is_defined(this._field.get_resource_name())&&rdx.utils.is_defined(this._field.get_add_view_name())){this._new_button_div.find("table").find("tbody").find("tr").find("td:eq(0)").find("a").addClass("disable_link")}if(rdx.utils.is_defined(this._field.get_resource_name())&&rdx.utils.is_defined(this._field.get_set_view_name())){this._new_button_div.find("table").find("tbody").find("tr").find("td:eq(1)").find("a").removeClass("disable_link")}this._available_table_header.find("tbody").find("tr").find("td:eq(1)").find("a").removeClass("disable_link");this._configured_table_header.find("tbody").find("tr").find("td:eq(1)").find("a").removeClass("disable_link")};rdx.edittable_list=function(c,d){this._parent=typeof(c)=="string"?$("#"+c):c;this._DEFAULT_PROPERTIES={height:"100",class_names:"edittable_list",check_for_duplicate:true,data_validate_callback:null,mandatory:false,component_type:rdx.form_constants.TEXT_BOX,type:"VALSTR",view:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d.get_properties());this._properties.mandatory=d.is_mandatory();this._table=null;this._html_table=null;this._field=d;this._input_textfield=null;this._input_type_component=null};rdx.edittable_list.prototype._get_close_icon=function(d,f){var e=$("<span>").addClass("ui-icon").addClass("ui-icon-close");e.bind(rdx.events.CLICK,{icon:e,table:f._table,edittable_list:f},function(a){if(!a.data.edittable_list.get_field().is_read_only()){a.data.table._delete_row(a.data.icon.parent().parent()[0].rowIndex,true)}});return e};rdx.edittable_list.prototype.get_row_data=function(b){if(rdx.utils.is_string(b)){return rdx.utils.html_encode(b)}return rdx.utils.html_encode(b.value)};rdx.edittable_list.prototype.render=function(){this._table_parent=$("<div>").addClass("table_parent");this._table_columns=[new rdx.table_column({key:"value",store_data:true,renderer_callback:new rdx.callback(this.get_row_data)}),new rdx.table_column({key:"_close_icon",store_data:true,renderer_callback:new rdx.callback(this._get_close_icon,[this]),text_align:"right",width:"15px"})];if(rdx.utils.is_defined(this._properties.view)){this._table_columns.push(new rdx.table_column({key:"selected_entity_data_item",hidden:true,store_data:true}))}this._table=new rdx.table(this._table_parent,this._table_columns,{header:false}).render();var g=$("<table>");var e=$("<div>").addClass("input_widget");g=e;this._add_button=rdx.dom_utils.get_element(rdx.form_constants.ICON_BUTTON);var f=$("<span>").addClass("editable_list_text");this._input_type_component=rdx.component_helper.get_component(this._properties.component_type,f,new rdx.form_field({input_type:this._properties.component_type})).render();this._input_textfield=this._input_type_component.get_component();e.append(f);e.append($("<span>").addClass("editable_list_button").append(this._add_button));this._add_button.bind(rdx.events.CLICK,{edittable_list:this},function(a){if(a.data.edittable_list._input_type_component.get_data().length<=0){rdx.message_box.error(rdx.i18n.get_string("rdx.edittable_list_enter_value"),new rdx.callback(function(l){l._input_textfield.focus()},[a.data.edittable_list]));return}else{var p=a.data.edittable_list.get_field();var q=a.data.edittable_list._properties.type;var b=a.data.edittable_list._input_type_component.get_data();var c=a.data.edittable_list._validate_item(b,q);if(rdx.utils.is_defined(a.data.edittable_list._properties.data_validate_callback)){var o=a.data.edittable_list._get_items();if(!a.data.edittable_list._properties.data_validate_callback.call_back([a.data.edittable_list._input_type_component.get_data(),o])){rdx.message_box.error(rdx.i18n.get_string("rdx.edittable_list_invalid_entry_input",{duplicate_entry:a.data.edittable_list._input_type_component.get_data()}),new rdx.callback(function(l){l._input_textfield.focus()},[a.data.edittable_list]));return}}if(a.data.edittable_list._properties.check_for_duplicate){var o=a.data.edittable_list._get_items();for(var d=0;d<o.length;d++){if(o[d]==a.data.edittable_list._input_type_component.get_data()){rdx.message_box.error(rdx.i18n.get_string("rdx.edittable_list_duplicate_entry_input",{duplicate_entry:a.data.edittable_list._input_type_component.get_data()}),new rdx.callback(function(l){l._input_textfield.focus()},[a.data.edittable_list]));return}}}}if(c){a.data.edittable_list._add_item({value:a.data.edittable_list._input_type_component.get_data()})}});if(rdx.utils.is_defined(this._properties.view)){this._arrow_container=$("<span>").addClass("arrow").append("&nbsp;");e.append(this._arrow_container);this._arrow_container.bind(rdx.events.CLICK,{that:this},function(b){var a=b.data.that;var c=rdx.view_utils.get_modified_view_defn_for_entity_choose(a._properties.view,a._properties);a._base_view=rdx.view_utils.show_view_in_slider(c,new rdx.callback(),null,null,false,null,new rdx.callback(a,a.store_data));a._base_view.set_add_entity_select_btn(true);a._base_view.prepare_view()})}var h=$("<div>").addClass(this._properties.class_names);h.append(g);h.append(this._table_parent);this._table_parent.height(this._properties.height-40);h.height(this._properties.height);this._parent.append(h);if(this._field.is_read_only()){this.set_read_only()}return this};rdx.edittable_list.prototype.store_data=function(m){var f=null;if(rdx.utils.is_defined(this._base_view)){f=this._base_view.get_view_context().get_data(rdx.view_constants.data_selection_param.SELECTED)}var g=[];if(rdx.utils.is_defined(f)){for(var h=0;h<f.length;h++){var l=$.extend(true,{},f[h]);l.value=f[h]["name"];l.selected_entity_data_item={data_selected:true,name:f[h]["name"]};g.push(l)}this._add_items(g)}};rdx.edittable_list.prototype._add_items=function(b){this._table.add_items(b)};rdx.edittable_list.prototype._add_item=function(b){this._table.add_item(b);this._input_type_component.set_data("");this._input_textfield.focus()};rdx.edittable_list.prototype._get_items=function(){var g=[];var h=this._table.get_data();var m=true;for(var n=0,o=h.length;n<o;n++){var l=h[n];if(!rdx.utils.is_string(l)){if(rdx.utils.is_defined(this._properties.view)&&rdx.utils.is_defined(l.selected_entity_data_item)){g.push(l.selected_entity_data_item)}else{if(rdx.utils.is_defined(l.value)){g.push(l.value)}}}}return g};rdx.edittable_list.prototype.set_data=function(n){var m=null;if(typeof(n)=="string"){m=[n]}else{m=n}var h=[];for(var o=0,g=m.length;o<g;o++){var l=m[o];if(rdx.utils.is_string(l)){l={value:l}}h.push(l)}return this._add_items(h)};rdx.edittable_list.prototype.get_data=function(){return this._get_items()};rdx.edittable_list.prototype.get_component_type=function(){return rdx.form_constants.EDITTABLE_LIST};rdx.edittable_list.prototype.get_field=function(){return this._field};rdx.edittable_list.prototype.get_component=function(){return this._input_textfield};rdx.edittable_list.prototype.toggle_read_only=function(b){if(b){this.set_edittable()}else{this.set_read_only()}};rdx.edittable_list.prototype.set_read_only=function(){$(this._add_button).attr("disabled","true");this._input_textfield.attr("disabled","true");this._add_button.addClass("form_field_disabled");this._input_textfield.addClass("form_field_disabled");this._table_parent.attr("disabled","true");this._table_parent.addClass("form_field_disabled")};rdx.edittable_list.prototype.set_edittable=function(){$(this._add_button).removeAttr("disabled");this._input_textfield.removeAttr("disabled");this._add_button.removeClass("form_field_disabled");this._input_textfield.removeClass("form_field_disabled");this._table_parent.removeAttr("disabled");this._table_parent.removeClass("form_field_disabled")};rdx.edittable_list.prototype._validate_item=function(d,c){return this._field.get_form_holder().get_form().validate_form_field(this._field,null,d,c)};rdx.drag_drop_editor=function(d,c){this._parent=d;this._field=c;this._DEFAULT_EDITOR_PROPERTY={top_panel_info:null,left_panel_info:null,right_panel_info:null,editor_title:null,help_description:null,resource_name:null,save_editor_data_submit_handler:null,readonly_help_description:null,save_as_template:true,allow_variables:true,allow_protocols:true};this._properties=$.extend(true,this._DEFAULT_EDITOR_PROPERTY,c.get_properties());this._save_editor_fields=[];this._top_panel_fields=[];this._dialog_pop_up_fields=[];this._variables_obj={};this._configurationSource=this._properties.left_panel_info.default_configuration_source};rdx.drag_drop_editor.prototype.render=function(){if(rdx.utils.is_defined(this._properties.top_panel_info)){this.render_editor_top_panel(this._parent,this._properties.top_panel_info)}this._drag_drop_editor_parent=$("<div>").addClass("drag_drop_editor_parent drag_drop_container");var f=$("<div>").addClass("editor_title_div");var d=rdx.i18n.get_string(this._properties.editor_title);f.append($("<span>").addClass("title").append(d));var e=$("<div>").addClass("drag_drop_editor_container");this._editor_clear_link=$("<a>").attr("href","#noAnchor").addClass("editor_clear_link").append("Clear");f.append(this._editor_clear_link);this._source_info_container=$("<div>").addClass("source_info_container").css("height",420);this.render_source_information(this._source_info_container);this._render_drop_editor_area();this._drag_drop_editor_parent.append(f);e.append(this._source_info_container);e.append(this._editor_area_container);this._drag_drop_editor_parent.append(e);if(this._properties.save_as_template===true){this._render_save_editor_content(this._drag_drop_editor_parent)}this._parent.append(this._drag_drop_editor_parent);this._attach_clear_editor_event_handler(this._editor_clear_link);this.clearEditor()};rdx.drag_drop_editor.prototype.render_editor_top_panel=function(w,B){var E=B.resource_name;var A=rdx.utils.get_resource(E);if(this._properties.is_left_panel_dependent===true){var s=B.selection_field;for(var u in s){var C=rdx.form_utils.get_form_field_properties(s[u],A[u],null,u,null);if(rdx.utils.is_defined(C.properties.change_handler_callback)){var t=C.properties.change_handler_callback;var z={left_panel:this._properties.left_panel_info,callback:new rdx.callback(this,this.reload_editor_left_panel)};t.params=[z]}B.form_fields=$.extend({},B.form_fields,s)}}var y=B.form_fields;var F=$("<div>").addClass("drag_drop_editor_top_panel drag_drop_container");for(var x in y){var v=$("<div>").addClass("editor_top_panel_field");var D=A.properties;this.render_form_components(y[x],D[x],x,v,null,this._top_panel_fields);F.append(v)}this._parent.append(F)};rdx.drag_drop_editor.prototype.render_source_information=function(d){var f=this._properties.left_panel_info;var e=new rdx.drag_source_info(this,d,f);e.render()};rdx.drag_drop_editor.prototype._render_drop_editor_area=function(){this._editor_area_container=$("<div>").addClass("editor_area_container").css("height",420);this.setEditorAttribute({"data-empty":true});this.protocol_separator=$("<div>").addClass("editor_protocol_separator").hide();this._editor_area_container.append(this,this.protocol_separator);this._editor_commands_container=$("<div>").addClass("editor_commands_container");this._editor_area_container.droppable({greedy:true});var b=this;this._editor_area_container.bind("drop",{parent:this._editor_commands_container,protocol_separator:this.protocol_separator,drop_editor:b},this._fetch_configuration_commands);this._editor_area_container.bind(rdx.events.CLICK,{drag_drop_editor:this},this._editor_click_handler);this._editor_area_container.append(this._editor_commands_container)};rdx.drag_drop_editor.prototype._render_save_editor_content=function(I){var K={};var E=$("<div>").addClass("save_info_checkbox").appendTo(I);var B=$("<div>").addClass("save_info_template_div").appendTo(I);B.addClass("hidden");var L={resource_name:"configuration_template",form_fields:{save_as_template:{input_type:rdx.form_constants.CHECK_BOX,label:"Save as Configuration Template",formatter:{map:{"true":"true","false":"false"}}},name:{watermark:"Configuration Template Name"},override_if_exists:{input_type:rdx.form_constants.CHECK_BOX,label:"Overwrite if exists",formatter:{map:{"true":"true","false":"false"}}}},field_css_properties:{save_as_template:{component_wrapper:E,fieldcell_classname:"rdx_check_box_label_container input_label"},name:{component_wrapper:B},override_if_exists:{component_wrapper:B,fieldcell_classname:"rdx_check_box_label_container input_label"}},button_panel:{blue_button_label:"Save",grey_button_label:"Cancel"}};var U=rdx.utils.get_resource(L.resource_name);var N=L.form_fields;var T=L.field_css_properties;var R=L.button_panel;var H=R.blue_button_label;var S=R.grey_button_label;var G=R.blue_button_class_name;var C=R.grey_button_class_name;for(var O in N){var Z=T[O].component_wrapper;var F;if(rdx.utils.is_defined(T[O].fieldcell_classname)){F=T[O].fieldcell_classname}else{F=""}this.render_form_components(N[O],U[O],O,Z,F,this._save_editor_fields)}var Q=$("<div>").addClass("drag_editor_submit_button_panel").appendTo(B);var P=rdx.utils._get_button(rdx.i18n.get_string(H),null,"drag_editor_submit_button blue_button");var D=rdx.utils._get_button(rdx.i18n.get_string(S),null,"drag_editor_submit_button grey_button");Q.append(P);Q.append(D);var J=this._save_editor_fields[0];var V=J._main_element;var W=J._element;var M=this;D.bind(rdx.events.CLICK,{},function(){V.removeClass("rdx_check_box_checked").addClass("rdx_check_box_unchecked");B.hide()});P.bind(rdx.events.CLICK,{},function(a){M._save_configuration_commands_as_template(B,V,L.resource_name)});W.bind(rdx.events.CHANGE,{},function(a){if(V.hasClass("rdx_check_box_checked")){B.show()}else{B.hide()}})};rdx.drag_drop_editor.prototype._save_configuration_commands_as_template=function(A,u,v){var t=this.fetch_configuration_editor_commands($(".editor_commands_block",this._editor_commands_container),true);var x=this._get_form_fields_data(this._top_panel_fields);var B=this._save_editor_fields[1].get_data();var z=this._save_editor_fields[2].get_data();var p={templateName:B,overwrite:z};var w={name:B,description:B,device_family:x.device_family};if(rdx.utils.is_not_empty(t.undefined_variables)){var q=rdx.i18n.get_string("rdx.undefined_variable_error",{field_label:rdx.i18n.get_string(t.undefined_variables)});rdx.page.show_notification(q,rdx.ERROR,true);return}delete t.undefined_variables;var s=$.extend({},w,t);if(rdx.utils.is_defined(this._properties.save_editor_data_submit_handler)){s=this._properties.save_editor_data_submit_handler.call_back([s])}if(rdx.utils.is_empty(t)||rdx.utils.is_object_empty(t)){rdx.page.show_notification(rdx.i18n.get_string("rdx.drag_drop_editor.empty_editor_value"),rdx.ERROR,true);return}var y=null;if(z||z=="true"){y="save"}rdx.model.post(rdx.utils.get_resource(v),new rdx.callback(null,function(d,a,c,b){b.fill_drag_source_list(d,b.getDefaultConfigurationSource(),p);a.removeClass("rdx_check_box_checked").addClass("rdx_check_box_unchecked");c.hide();b._save_editor_fields[1].set_data("");b._save_editor_fields[2].set_data("")},[u,A,this]),s,new rdx.callback(null,function(a){rdx.page.show_notification(rdx.utils.html_encode(a),rdx.ERROR,true)}),y)};rdx.drag_drop_editor.prototype._attach_clear_editor_event_handler=function(d){var c=this;d.bind(rdx.events.CLICK,{},function(a){c.remove_configuration_commands();c.setEditorAttribute({"data-empty":true});c._editor_area_container.trigger("click",[true])})};rdx.drag_drop_editor.prototype.render_form_components=function(B,C,t,s,z,y,v){var x=rdx.form_utils.get_form_field_properties(B,C,null,t,null);var w=new rdx.form_field(x);var q=w.get_label();if(w.is_mandatory()){q+="*"}if(w.is_hidden()){s.hide()}var A=$("<div>").append(q);if(rdx.utils.is_defined(z)){A.addClass(z)}var D=$("<div>").attr("fieldfor",q);var u=rdx.component_helper.get_component(w.get_input_type(),D,w);u.render();if(v&&u.set_data){u.set_data(v)}y.push(u);if(w.get_input_type()=="checkbox"){if(rdx.utils.is_defined(q)&&rdx.utils.is_not_empty(q)){D.append(A)}s.append(D)}else{if(rdx.utils.is_defined(q)&&rdx.utils.is_not_empty(q)){s.append(A)}s.append(D)}};rdx.drag_drop_editor.prototype._fetch_configuration_commands=function(g,n){if(n.draggable.attr("data-dropped")){}else{var l=g.data.drop_editor;var o=(n.draggable).data("data_fetch_info");if(l.isConfigurationSourceTemplate(l.getConfigurationSource())&&l.isEditorModeReadOnly()){rdx.message_box.error(rdx.i18n.get_string("rdx.drag_drop_editor_readonly_mode_modify_error"));g.preventDefault();g.stopPropagation();return}if(o.read_only_mode){l.clearEditor()}var m=o.resource_name;if(rdx.utils.is_defined(o.resource_data)){l._render_fetched_editor_commands(o.resource_data,m,g,n)}else{var h=o.url_params;rdx.model.get(rdx.utils.get_resource(m),h,new rdx.callback(l,l._render_fetched_editor_commands,[m,g,n]))}}};rdx.drag_drop_editor.prototype._fetch_commands_from_nitro_response=function(n){var h=n.commands;var o=[];if(rdx.utils.is_defined(h)&&h.length===0){o=n.commands_str?$.trim(n.commands_str).split("\n"):[]}else{if(rdx.utils.is_defined(n.response)&&n.response.length>0){var l=$.trim(n.response);o=l.split("\n");if(o[0].indexOf("#NS")===0&&o[1].indexOf("# Last modified")===0){o.splice(0,2);if($.trim(o[o.length-1])=="Done"){o.pop()}}}}if(o.length>0){h=[];for(var m=0;m<o.length;m++){var g={protocol:"SSH",command:o[m]};h.push(g)}}return h};rdx.drag_drop_editor.prototype._fetch_variables_from_nitro_response=function(e){var f=e.variables;var d={};if(rdx.utils.is_not_defined(f)){return d}$.each(f,function(b,a){d["$"+a.name+"$"]=a});return d};rdx.drag_drop_editor.prototype._replace_converted_variable_with_html=function(d,f){var e=this;f=f.replace(d,function(b,a,c){if(b.indexOf(">")==-1){if(e._variables_obj.hasOwnProperty(b)){return'<span class="green_tag tabindex = 0" contenteditable="false">'+b+"</span>"}else{return'<span class="blue_tag tabindex = 0" contenteditable="false">'+b+"</span>"}}else{return b}});return f};rdx.drag_drop_editor.prototype._render_copy_paste_commands=function(l){var h=l.html();var m=[];var o=[];h=h.replace(/&nbsp;/gi," ").replace(/<\/?span[^>]*>/gi,"");h=h.replace(/<\/?[^>]*>/gi,"&^@#");o=h.split("&^@#").filter(Boolean);o.forEach(function(a){var b={};b.protocol="SSH";b.command=a;m.push(b)});var g=this._editor_commands_container;var n=l.closest(".editor_commands_block");$(l.closest(".editor_commands_lines")).remove();this._render_command_lines(m,false,g,null,null,n)};rdx.drag_drop_editor.prototype._render_fetched_editor_commands=function(x,z,y,t,v){var u=rdx.utils.get_formatted_response(rdx.utils.get_formatted_response(x)[z]);var p=this._fetch_commands_from_nitro_response(u);var s=v?this._fetch_variables_from_nitro_response(v):this._fetch_variables_from_nitro_response(u);this._variables_obj=$.extend(true,s,this._variables_obj);var w=this.is_readonly_template(t,v);var q=v?v.parent:y.data.parent;if(this._properties.allow_protocols){this.protocol_separator.show()}if(rdx.utils.is_defined(t)){t.draggable.attr("data-dropped",true)}if(this.isEditorEmpty()){this.removeEditorAttribute("data-empty");var o=$(".editor_help_info_placeholder",q);if(o.length>0){o.closest(".editor_commands_block").remove()}}this._render_command_lines(p,w,q,t,v)};rdx.drag_drop_editor.prototype._render_command_lines=function(q,w,o,t,v,p){if(rdx.utils.is_not_defined(p)){p=$("<div>").addClass("editor_commands_block ").appendTo(o)}if(w){this._editor_area_container[0].setAttribute("data-readonly",true);this._editor_area_container.addClass("read_only_mode background_readonly")}for(var y=0;y<q.length;y++){var s=$("<div>").addClass("editor_commands_lines ").appendTo(p);if(this._properties.allow_protocols){var z=this.render_protocol_list();z.find("#editor_protocols_list").val(q[y].protocol);s.append(z)}var u=$("<div>").addClass("editor_statements").attr("contenteditable",true).appendTo(s);var x=q[y].command;if(this._properties.allow_variables===true){x=this._replace_converted_variable_with_html(/\$[^"'\.\s,$]+\$/g,x)}u.append(x);if(w){u.attr({contenteditable:false});z.addClass("disable_pointer_events")}this._attach_key_listeners(u)}if(rdx.utils.is_defined(v)){this._render_commands_block_controller(p,this.protocol_separator)}else{if(rdx.utils.is_defined(t)){this._render_commands_block_controller(p,this.protocol_separator,true,t.draggable)}}p.find(".blue_tag, .green_tag").bind(rdx.events.CLICK,{drag_drop_editor:this},this._render_variables_dialog)};rdx.drag_drop_editor.prototype._render_editor_protocols=function(){var l=document.createElement("select");var o=["SSH","SFTP","SCP"];for(var g=0;g<o.length;g++){var h=document.createElement("OPTION");var n=o[g];h.setAttribute("value",n);var m=document.createTextNode(n);h.appendChild(m);l.append(h)}return l};rdx.drag_drop_editor.prototype.reload_editor_left_panel=function(){if(this._source_info_container.length>0){this._source_info_container.empty()}this.activateAndClearEditorArea();this.render_source_information(this._source_info_container)};rdx.drag_drop_editor.prototype.renderHelpDescription=function(d){if($(".help_description_div",this._source_info_container).length===0&&$(".drag_source_list_container",this._source_info_container).length===0){var f=$(".editor_templates_list_container",this._source_info_container);var e=rdx.i18n.get_string(this._properties.help_description);if(d&&this._properties.readonly_help_description){e=rdx.i18n.get_string(this._properties.readonly_help_description)}$("<div>").addClass("help_description_div").append(e).appendTo(f);$("<div>").addClass("drag_source_list_container").appendTo(f)}};rdx.drag_drop_editor.prototype._render_draggable_templates_list=function(s,o,t,p){s=rdx.utils.get_formatted_response(s);var q=this.getConfigurationSourceResourceName(o);if(this.isConfigurationSourceTemplate(o)||this.isConfigurationSourceInbuiltTemplate(o)){this.renderConfigurationTemplates(s[q],q,o,t,p)}else{s=this.isConfigurationSourceInstances(o)?s[q][0]:s;var l={};if(s.data_fetch_info){l=s.data_fetch_info}else{l=this._getTemplateDraggableData(s,o,q,t,p)}var n=$("<div>").addClass("ui-draggable draggable-templ").appendTo($(".drag_source_list_container",this._source_info_container));var m=this._getDraggableTemplateName(s,o);$("<span>").addClass("draggable_template_name").attr("title",m).append(m).appendTo(n);this.attachDraggableEventtoTemplates(n,l)}};rdx.drag_drop_editor.prototype.renderConfigurationTemplates=function(z,x,y,t,q){if(rdx.utils.is_defined(t)&&t.overwrite===true){this._removeDuplicateDraggableTemplate(t.templateName)}for(var v=0;v<z.length;v++){if(this.isConfigurationSourceTemplate(y)&&(z[v].is_inbuilt===true||z[v].is_inbuilt=="true")){continue}var u=$("<div>").addClass("ui-draggable draggable-templ").appendTo($(".drag_source_list_container",this._source_info_container));var s=$("<span>").addClass("draggable_template_name").attr("title",z[v].description).append(z[v].name).appendTo(u);var w=this._getTemplateDraggableData(z[v],y,x,t,q);var p=0;if(this.isConfigurationSourceTemplate(y)){var o=$("<span>").addClass("delete_template").appendTo(u);o.bind(rdx.events.CLICK,{id:z[v].id,resource_name:x,draggable_template_container:u,template_name:z[v].name,click:p},this._deleteCustomTemplates);o.bind(rdx.events.DOUBLE_CLICK,{},function(a){a.preventDefault();a.stopPropagation()})}this.attachDraggableEventtoTemplates(u,w)}};rdx.drag_drop_editor.prototype._deleteCustomTemplates=function(e){e.stopPropagation();e.data.click++;var f=e.data.draggable_template_container;var d=$(this);if(e.data.click===1){timer=setTimeout(function(){e.data.click=0;var b=function(){d.text("");f.removeClass("confirm_delete");d.removeClass("confirm_delete");d.siblings(".draggable_template_name").css({"padding-right":"25px"});f.draggable("option","disabled",false)};if(d.hasClass("confirm_delete")){var a=function(h,g){f.remove();rdx.page.show_notification('Template "'+g+'" deleted successfully.',rdx.SUCCESS)};var c=function(g){rdx.page.show_notification(rdx.utils.html_encode(g),rdx.ERROR,true);b()};f.draggable("option","disabled",true);rdx.model.remove(rdx.utils.get_resource(e.data.resource_name),new rdx.callback(a,[e.data.template_name]),{id:e.data.id},new rdx.callback(c,[e.data.template_name]),null,null)}else{d.addClass("confirm_delete").append(rdx.i18n.get_string("rdx.confirm_delete"));f.addClass("confirm_delete");var l=d.outerWidth()+"px";var m=f.height()+"px";d.css("height",m);d.siblings(".draggable_template_name").css({"padding-right":l});$(document.body).bind("click",function(g){g.stopPropagation();if(!$.contains(f[0],g.target)||($(g.target).hasClass("draggable_template_name"))){b();$(document.body).unbind(g)}})}},700)}else{clearTimeout(timer);e.data.click=0}};rdx.drag_drop_editor.prototype._removeDuplicateDraggableTemplate=function(f,h){var m=$(".ui-draggable",this._source_info_container);var l=this;var g=h?h:this.getConfigurationSource();$.each(m,function(b,c){var a=$(".draggable_template_name",c).text();if(l.isConfigurationSourceTemplate(g)){if(f===a){$(c).remove()}}})};rdx.drag_drop_editor.prototype._getTemplateDraggableData=function(u,t,s,p,n){var v={resource_name:s};var w=new rdx.context();if(this.isConfigurationSourceTemplate(t)){w=new rdx.context();var q={get_by_name:{id:"id"}};w.set_context_data(u,q);v.url_params=w.get_url_params()}else{if(this.isConfigurationSourceInbuiltTemplate(t)){w=new rdx.context();var q={get_by_name:{id:"id"},static_filter:{operation:"commandvariables"}};w.set_context_data(u,q);v.url_params=w.get_url_params()}else{if(this.isConfigurationSourceRecord(t)){v.resource_data=u}else{if(this.isConfigurationSourceInstances(t)){if(!p.duration.duration_value&&p.duration.start_epoch&&p.duration.end_epoch){p.start_time=parseInt(p.duration.start_epoch/1000);p.end_time=parseInt(p.duration.end_epoch/1000)}p.duration=p.duration.duration_value;var x=this._properties.left_panel_info.fetch_data_info[t].view_context;var o=new rdx.context();o.set_context_data(p,x);v.url_params=o.get_url_params()}else{if(this.isConfigurationSourceFile(t)){v.resource_data=u}}}}}v.read_only_mode=n;return v};rdx.drag_drop_editor.prototype._getDraggableTemplateName=function(n,l){var o;if(this.isConfigurationSourceFile(l)){o=n.commands.length>1?n.commands.length+" commands from "+n.template_file:n.commands.length+" command from "+n.template_file}else{if(this.isConfigurationSourceRecord(l)){o=n.commands.length>1?n.commands.length+" commands from "+n.ip_address:n.commands.length+" command from "+n.ip_address}else{if(this.isConfigurationSourceInstances(l)){var m=$.trim(n.commands_str);var g=m.split("\n");if(g[0].indexOf("#NS")===0&&g[1].indexOf("# Last modified")===0){g.splice(0,2);if($.trim(g[g.length-1])=="Done"){g.pop()}}var h=g.length;o=h>1?h+" commands from "+n.ip_address:h+" command from "+n.ip_address}else{if(this.isConfigurationSourceTemplate(l)){o=templates[index].name}else{o=""}}}}return o};rdx.drag_drop_editor.prototype.attachDraggableEventtoTemplates=function(c,d){c.draggable({cursor:"move",helper:function(){return $("<div></div>").append($(".draggable_template_name",c).clone())},revert:"invalid",delay:300}).data("data_fetch_info",d)};rdx.drag_drop_editor.prototype.fill_drag_source_list=function(e,g,f,h){this.renderHelpDescription(h);this._render_draggable_templates_list(e,g,f,h)};rdx.drag_drop_editor.prototype.get_data=function(){var f,e,d={};f=this._get_form_fields_data(this._top_panel_fields);e={};if($(".editor_commands_block",this._editor_commands_container).length>0){e=this.fetch_configuration_editor_commands($(".editor_commands_block",this._editor_commands_container))}d={top_panel_data:f,editor_data:e};return d};rdx.drag_drop_editor.prototype._extract_configuration_commands=function(n){var o=[];var m=this;if(this._properties.allow_variables){$.each(n,function(a,b){var c=$(".editor_commands_lines",b);$.each(c,function(h,g){var d=$(":selected",$(".editor_protocols",g)).val();var f=$(".editor_statements",g).text().trim();f=f.replace(/\s+/g," ");var e=decodeURIComponent(encodeURIComponent(f));if(m.isEditorEmpty()||e===""){}else{o.push({protocol:d,command:e})}})})}else{var p=$(".editor_statements",this._editor_commands_container);for(var s=0;s<p.length;s++){var q=$(p[s]);if(!q.hasClass("editor_help_info_placeholder")){var u=q.html();u=u.replace(/<div>|<\/div>|<br>|<p>|<\/p>/gi,"#&&#");var v=u.split("#&&#").filter(Boolean);for(var t=0;t<v.length;t++){o.push({command:v[t]})}}}}return o};rdx.drag_drop_editor.prototype._fetch_configuration_editor_total_variables=function(d){var c=[];$.each(d,function(b,f){var a=(f.command).match(/\$[^"'\.,\s$]+\$/g);if(a!==null){$.merge(c,a)}});return c};rdx.drag_drop_editor.prototype._update_variables_object=function(h){var p=this._extract_configuration_commands($(".editor_commands_block",this._editor_commands_container));var m=this._fetch_configuration_editor_total_variables(p);var q=this;if(m.length>0){var l=q._extract_configuration_commands(h);var n=q._fetch_configuration_editor_total_variables(l);var o=[];$.each(n,function(b,c){if(q._variables_obj.hasOwnProperty(c)){var a=m.indexOf(c);if(a===-1){delete q._variables_obj.variable}}})}else{this._variables_obj={}}};rdx.drag_drop_editor.prototype._fetch_defined_commands_variables_data=function(g){var f={};var h=this;$.each(g,function(a,b){if(h._variables_obj.hasOwnProperty(b)){f[b]=h._variables_obj[b]}});var e=[];$.each(f,function(b,a){e.push(a)});return e};rdx.drag_drop_editor.prototype._fetch_undefined_configuration_variables=function(f){var e=[];var d=this;$.each(f,function(a,b){if(d._variables_obj.hasOwnProperty(b)){}else{e.push(b)}});return e};rdx.drag_drop_editor.prototype.fetch_configuration_editor_commands=function(s,q){var t={};var n=false;if(this.isEditorModeReadOnly()&&!q){n=true}if(s.length>0){var p=this._extract_configuration_commands(s);var o=this._fetch_configuration_editor_total_variables(p);var m=this._fetch_undefined_configuration_variables(o);var l=this._fetch_defined_commands_variables_data(o);if(m.length>0){m=m.toString()}if(p.length===0&&l.length===0&&m.length===0){}else{t={commands:p,variables:l,undefined_variables:m,is_inbuilt:n}}}return t};rdx.drag_drop_editor.prototype._get_form_fields_data=function(g){var e={};var h=null;for(var f=0;f<g.length;f++){if(rdx.utils.is_function(g[f].get_data)){h=g[f].get_data()}if(rdx.utils.is_defined(g[f].get_field().get_formatter())){h=g[f].get_field().get_formatter().get_storage_value(h)}e[g[f].get_field().get_key()]=h==undefined?"":h}return e};rdx.drag_drop_editor.prototype._render_variables_dialog=function(B){var q=B.data.drag_drop_editor;var y=(B.target.innerHTML).trim();var A=$(this).parent().position().top;var t=q._editor_commands_container;var s=q._properties.right_panel_info.dialog_properties;var p=$(this);var x=$(this).parent().parent().prev().find(".editor_statements");q._dialog_pop_up_fields=[];p.parent().addClass("selected");x.addClass("sibling_selected");if(p.hasClass("blue_tag")){current_variable_class="blue_tag";p.removeClass("blue_tag")}else{if(p.hasClass("green_tag")){current_variable_class="green_tag";p.removeClass("green_tag")}}p.addClass("yellow_tag");var z=$("<div>").addClass("variable_popup_dialog").appendTo(t);z.css({top:A});var v=$("<div>").addClass("pop_up_title").append(rdx.i18n.get_string("rdx.define_variable")).appendTo(z);var w=$("<span>").addClass("close_pop_up");v.append(w);var u={};if(q._variables_obj&&rdx.utils.is_object_not_empty(q._variables_obj)){$.each(q._variables_obj,function(b,a){if(b==y){u=$.extend({},a);if(s.data_massage_callback){u=s.data_massage_callback.call_back([u])}return false}})}z.append(q._render_variable_dialog_fields(s,y,u));z.append(q._render_variable_advanced_section(s,y,u));z.append(q._render_variables_action_container(s,z,x,y,p));w.bind(rdx.events.CLICK,{variable_container:$(this)},function(a){z.remove();if(p.hasClass("yellow_tag")){p.removeClass("yellow_tag");p.addClass(current_variable_class);p.parent().removeClass("selected");x.removeClass("sibling_selected")}})};rdx.drag_drop_editor.prototype._render_variable_dialog_fields=function(y,t,x){var z=y.fields;var E=rdx.utils.get_resource(y.resource_name);var s=$("<div>").addClass("dialog_content");var C=$("<div>").addClass("dialog_fields_container");s.append(C);for(var v in z.form_fields){var w=$("<div>").addClass("field_set");var F=E.properties;if(z.form_fields[v].input_type&&z.form_fields[v].input_type=="list"){if(rdx.utils.is_defined(z.form_fields[v].properties.change_handler_callback)){var u=z.form_fields[v].properties.change_handler_callback;var D={advanced_fields:y.advanced_fields.form_fields,callback:new rdx.callback(this,this._modify_advanced_variable_fields,[y,{}])};u.params=[D]}}var B=null;if(rdx.utils.is_object_not_empty(x)){B=x[v]}else{if(v=="name"||v=="display_name"){var A=/\$([^$]+)\$/;if(rdx.utils.is_not_empty(t)&&A.test(t)){B=t.match(A)[1]}}}this.render_form_components(z.form_fields[v],F[v],v,w,null,this._dialog_pop_up_fields,B);C.append(w)}return s};rdx.drag_drop_editor.prototype._save_variable_data=function(p,v,s,m){var q=this._dialog_pop_up_fields;var o=this._properties.right_panel_info.dialog_properties;var n=o.action_properties;var t=this._get_form_fields_data(q);if(!this.validate_variables(t.name)){return}if(rdx.utils.is_defined(n.submit_handler_callback)){t=n.submit_handler_callback.call_back([t,m])}if(t===false){return}t.display_name=rdx.utils.is_empty(t.display_name)?t.name:t.display_name;var u="$"+t.name+"$";if(u!=v){m.text(u+" ");if(rdx.utils.is_defined(this._variables_obj[v])){delete this._variables_obj[v]}}else{m.text(u+" ")}this._variables_obj[u]=t;if(m.hasClass("yellow_tag")||m.addClass("green_tag")){m.removeClass("yellow_tag").addClass("green_tag");m.parent().removeClass("selected");s.removeClass("sibling_selected")}this._convert_configuration_editor_similar_variables(v,u);p.remove()};rdx.drag_drop_editor.prototype._convert_configuration_editor_similar_variables=function(c,d){this._editor_area_container.find(".editor_statements").each(function(f,b){var a=$($(".blue_tag, .green_tag"),$(b));if(a.length>0){$.each(a,function(e,h){if($(h).text()==c){$(h).text(d);$(h).removeClass("blue_tag").addClass("green_tag")}})}})};rdx.drag_drop_editor.prototype._render_variable_advanced_section=function(q,m,h){this._advanced_section_container=$("<div>").addClass("dialog_advanced_section_container");var o=$("<div>").addClass("advanced_section").append("Advanced");this._advanced_section_container.append(o);var n=rdx.utils.get_resource(q.resource_name);var l=q.advanced_fields;var p=this._render_variable_advanced_section_fields(l,n,h);this._advanced_section_container.append(p);this._variable_advanced_section_click_handler(o,p);return this._advanced_section_container};rdx.drag_drop_editor.prototype._variable_advanced_section_click_handler=function(c,d){c.bind(rdx.events.CLICK,{section_content:d},function(a){a.stopPropagation();var b=a.data.section_content;if(b[0].getAttribute("data-expanded")===false||b[0].getAttribute("data-expanded")==="false"){b[0].setAttribute("data-expanded",true);b.show()}else{b[0].setAttribute("data-expanded",false);b.hide()}})};rdx.drag_drop_editor.prototype._render_variables_action_container=function(o,p,t,u,m){var n=o.action_properties;var v=$("<div>").addClass("dialog_action_button");var q=rdx.utils._get_button(rdx.i18n.get_string(n.button_label),null,n.button_class_name);v.append(q);var s=this;q.bind(rdx.events.CLICK,{},function(a){s._save_variable_data(p,u,t,m)});return v};rdx.drag_drop_editor.prototype._render_variable_advanced_section_fields=function(m,o,l){var q=$(".section_content",this._advanced_section_container);if(q.length>0){$(".section_content",this._advanced_section_container).empty()}else{q=$("<div>").addClass("section_content").attr("data-expanded",false).hide()}for(var p in m.form_fields){var s=$("<div>").addClass("field_set");var t=o.properties;var n=null;if(rdx.utils.is_object_not_empty(l)){n=l[p]}this.render_form_components(m.form_fields[p],t[p],p,s,null,this._dialog_pop_up_fields,n);q.append(s)}return q};rdx.drag_drop_editor.prototype._modify_advanced_variable_fields=function(l,s,t){var n=rdx.utils.get_resource(s.resource_name);var m=s.advanced_fields;if(l){if(rdx.utils.is_object_not_empty(s.advanced_fields)){for(var q in s.advanced_fields){delete s.advanced_fields[q]}}m=$.extend(true,s.advanced_fields,l)}var o=this._render_variable_advanced_section_fields(m,n,t);if(!this._advanced_section_container){this._advanced_section_container=$("<div>").addClass("dialog_advanced_section_container");var p=$("<div>").addClass("advanced_section").append("Advanced").appendTo(this._advanced_section_container);this._advanced_section_container.append(o)}else{this._advanced_section_container.append(o)}};rdx.drag_drop_editor.prototype._editor_click_handler=function(d){var c=d.data.drag_drop_editor;if(c.isEditorEmpty()){c.renderEditorHelpText()}else{d.preventDefault()}};rdx.drag_drop_editor.prototype.renderEditorHelpText=function(){if($(".editor_commands_block",this._editor_commands_container).length===0){var m=$("<div>").addClass("editor_commands_block ").appendTo(this._editor_commands_container);var l=$("<div>").addClass("editor_commands_lines ").appendTo(m);if(this._properties.allow_protocols){this.protocol_separator.show();var g=this.render_protocol_list();l.append(g)}var f=$("<div>").addClass("editor_statements").attr("contenteditable",true).appendTo(l);f.addClass("editor_help_info_placeholder");var h=rdx.i18n.get_string("rdx.drag_drop_editor_help_placeholder");if(this.isEditorModeReadOnly()){h=rdx.i18n.get_string("rdx.readonly_editor_help_placeholder");this.resetEditorBackground()}f.text(h);this._render_commands_block_controller(m,this.protocol_separator);this._attach_key_listeners(f)}};rdx.drag_drop_editor.prototype.render_protocol_list=function(){var l=$("<div>").addClass("editor_protocols");var m=document.createElement("select");m.setAttribute("id","editor_protocols_list");var p=["SSH","SCP","SFTP"];for(var q=0;q<p.length;q++){var h=document.createElement("OPTION");var o=p[q];h.setAttribute("value",o);var n=document.createTextNode(o);h.appendChild(n);m.appendChild(h)}l.append(m);return l};rdx.drag_drop_editor.prototype._render_commands_block_controller=function(q,B,s,u){var x={};var z="New";if(rdx.utils.is_defined(s)&&s){x={dragged_item:u};z=$(".draggable_template_name",u).text();if(z.indexOf("commands from")!=-1){var A=z.indexOf("commands from ")+("commands from ").length;z=z.substring(A)}}var v=$("<div>").addClass("editor_commands_control").appendTo(q);if(this._properties.allow_variables===true){var t=$("<div>").addClass("protocol_list_separator").appendTo(v)}var y=$("<div>").addClass("editor_commands_name").append(z).appendTo(v);var p=$("<div>").addClass("commands_block_remove").appendTo(q);var w=this;q.bind("mouseover",{},function(a){a.stopPropagation();p.show()});q.bind("mouseleave",{},function(a){a.stopPropagation();p.hide()});p.bind(rdx.events.CLICK,x,function(a){a.stopPropagation();w.remove_configuration_commands(a.data.dragged_item,q,true);w._editor_area_container.trigger("click",[true])})};rdx.drag_drop_editor.prototype.remove_configuration_commands=function(m,n,o){if(o){if(rdx.utils.is_defined(m)){m=m[0];if(m.getAttribute("data-dropped")===true||m.getAttribute("data-dropped")==="true"){m.removeAttribute("data-dropped")}}n.remove();if($(".editor_commands_block",this._editor_commands_container).length===0){this.protocol_separator.hide()}this._update_variables_object(n)}else{var g=$(".ui-draggable",$(".drag_source_list_container",this._source_info_container));for(var h=0;h<g.length;h++){var l=g[h];if(l.getAttribute("data-dropped")===true||l.getAttribute("data-dropped")=="true"){l.removeAttribute("data-dropped")}}if($(".editor_commands_block",this._editor_commands_container).length>0){this._editor_commands_container.empty();this.protocol_separator.hide()}if(rdx.utils.is_object_not_empty(this._variables_obj)){this._variables_obj={}}}};rdx.drag_drop_editor.prototype._attach_key_listeners=function(d){var c=this;d.bind(rdx.events.PASTE,{commands_container:d},function(b){b.preventDefault();var f=this;$(f).empty();var a=(b.originalEvent||b).clipboardData.getData("text/plain");document.execCommand("insertText",false,a);setTimeout(function(){c._render_copy_paste_commands($(f))},100,c,f,a)});d.bind(rdx.events.KEYUP,{commands_container:d},function(b){b.stopPropagation();if(c.isEditorEmpty()&&$(this).text().trim()!==""){c.removeEditorAttribute("data-empty")}if(!c._properties.allow_variables){return}if(b.keyCode==52){c._convert_to_variable_using_dollar($(this))}else{if(b.keyCode===8){if($.trim($(this).text()).length===0){if($(".editor_commands_lines").length>1){prevEle=$(this).closest(".editor_commands_lines").prev(".editor_commands_lines");$(this).closest(".editor_commands_lines").remove();c.setEndOfContenteditable($(".editor_statements",prevEle)[0])}}}else{if(b.keyCode===13){var a=rdx.utils.getCaretPosition(this);var f=$(this).closest(".editor_commands_lines").clone();f.find(".editor_statements").empty();f.removeClass("selected");if(a>0){$(this).closest(".editor_commands_lines").after(f)}else{$(this).closest(".editor_commands_lines").before(f)}c._attach_key_listeners(f.find(".editor_statements"));f.find(".editor_statements").focus();b.preventDefault()}}}});d.bind("keydown",function(a){a.stopPropagation();if($(this).hasClass("editor_help_info_placeholder")){$(this).removeClass("editor_help_info_placeholder");$(this).empty()}if(!c._properties.allow_variables){return}if(a.keyCode===13||a.keyCode==40){a.preventDefault()}if(rdx.utils.is_firefox()&&a.keyCode===8){var b=window.getSelection();if(!b.isCollapsed||!b.rangeCount){return}var h=b.getRangeAt(b.rangeCount-1);if(h.commonAncestorContainer.nodeType==3&&h.startOffset>0){return}var l=document.createRange();var m;if(b.anchorNode!=this){if(h.startContainer.previousElementSibling.contentEditable=="false"){l.selectNode(h.startContainer.previousElementSibling)}m=l.cloneContents().lastChild;if(m&&m.contentEditable=="false"){l.deleteContents();a.preventDefault()}}else{if(h.startContainer.lastElementChild.contentEditable=="false"){l.selectNode(h.startContainer.lastElementChild)}else{if(h.startContainer.lastElementChild.nodeType==1&&h.startContainer.lastElementChild.tagName=="BR"){if(h.startContainer.lastElementChild.previousElementSibling.contentEditable=="false"){l.selectNode(h.startContainer.lastElementChild.previousElementSibling)}}}m=l.cloneContents().lastChild;if(m&&m.contentEditable=="false"){l.deleteContents();a.preventDefault()}}}});if(!c._properties.allow_variables){return}d.bind("mouseup",{},function(b){b.stopPropagation();var f;if(document.selection){f=document.selection}else{if(window.getSelection){f=window.getSelection()}}var a=$(b.target).is?$(b.target).is("span"):b.target.tagName.toLowerCase()==="span";if(!a&&f.toString&&f.toString()!==""){c.convert_to_variable_on_selection($(this))}})};rdx.drag_drop_editor.prototype.set_data=function(f){if(rdx.utils.is_defined(f)){var e={};e[f.resource_name]=f.editor_data;this._set_top_panel_fields_data(f.top_panel_data);var d=$.extend({},f.editor_data);d.parent=this._editor_commands_container;new rdx.callback(this,this._render_fetched_editor_commands,[e,f.resource_name,null,null,d]).call_back()}};rdx.drag_drop_editor.prototype._set_top_panel_fields_data=function(b){$.each(this._top_panel_fields,function(f,a){var e=a.get_field().get_key();if(b.hasOwnProperty(e)){a.set_data(b[e])}})};rdx.drag_drop_editor.prototype.setEndOfContenteditable=function(d,e,f){d.focus();if(typeof window.getSelection!="undefined"&&typeof document.createRange!="undefined"){e=document.createRange();if(rdx.utils.is_function(e.selectNodeContents)){e.selectNodeContents(d)}e.collapse(false);f=window.getSelection();f.removeAllRanges();f.addRange(e)}else{if(typeof document.body.createTextRange!="undefined"){e=document.body.createTextRange();e.moveToElementText(d);e.collapse(false);e.select()}}};rdx.drag_drop_editor.prototype.render_editor_help=function(o){var p=$("<div>").addClass("drag_drop_editor_help").appendTo(o);var q=$("<div>").addClass("drag_editor_help_content").appendTo(p);var m=rdx.i18n.get_string("rdx.drag_drop_editor_help_info");q.append($("<p>").append(m));var h=$("<span>").addClass("drag_drop_editor_help_close").appendTo(p);var l=$("<span>").addClass("drag_drop_editor_help_bottom_arrow").appendTo(p);var n=this;h.bind(rdx.events.CLICK,{},function(a){p.remove();n._editor_area_container.trigger("click",[true])});p.animate({top:20},1000)};rdx.drag_drop_editor.prototype.get_selection_range=function(){var b=false;if(document.selection&&document.selection.createRange){selectionE1=document.selection;range=document.selection.createRange().duplicate()}else{if(!b){selectionE1=window.getSelection();if(selectionE1.getRangeAt){range=selectionE1.getRangeAt(0).cloneRange()}else{range.setStart(selectionE1.anchorNode,selectionE1.anchorOffset);range.setEnd(selectionE1.focusNode,selectionE1.focusOffset);if(range.collapsed!==selectionE1.isCollapsed){range.setStart(selectionE1.focusNode,selectionE1.focusOffset);range.setEnd(selectionE1.anchorNode,selectionE1.anchorOffset)}}range.collapse(false)}}return{range:range,selection:selectionE1}};rdx.drag_drop_editor.prototype._convert_to_variable_using_dollar=function(n){var h=n.html();var q=this.get_selection_range();h=h.replace(/(<br\s*[\/]?>)/gi,"");var m=h.match(/>?\$[^"'\.,\s$]+\$<?/g);var o=true;var l=h.match(/>?\$[^$<]+\$<?/g);if(l!==null){if(m!==null){$.each(m,function(b,c){var a=l.indexOf(c);o=o&&(null===m[b].match(/('|"|\.|,)/g)?true:false);if(a!==-1){l.splice(a,1)}})}if((l.length>0||o===false)&&!this.validate_variables(l[0],true)){return}}var p=0;if(m!==null){$.each(m,function(b,a){if(a[a.length-1]==="$"){p++}});if(p>0){h=this._replace_converted_variable_with_html(/>?\$[^"'\.,\s$]+\$<?/g,h);n[0].innerHTML=h;this.setEndOfContenteditable(n[0],q.range,q.selection);$(".green_tag, .blue_tag",n).bind(rdx.events.CLICK,{drag_drop_editor:this},this._render_variables_dialog)}}};rdx.drag_drop_editor.prototype.convert_to_variable_on_selection=function(H,N){if(this._editor_area_container.find("#"+this._convert_variable_id).length>0){this._editor_area_container.find("#"+this._convert_variable_id).remove()}var E="\ufeff";var z="&#xfeff;";var G,C,y,B,F;var M=false;this._convert_variable_id="sel_"+new Date().getTime()+"_"+Math.random().toString().substr(2);if(document.selection&&document.selection.createRange){C=document.selection;M=false;F=document.selection.createRange().duplicate();y=F.text;if(!this.validate_variables(y)){return}if(y==" "){return}if(C.type!="Control"){width=parseInt(F.boundingWidth)+"px";height=parseInt(F.boundingHeight)+"px"}F.collapse(false);F.pasteHTML('<span id="'+this._convert_variable_id+'" style="position: relative;">'+z+"</span>");G=document.getElementById(this._convert_variable_id)}else{if(!M){C=window.getSelection();y=C.toString();if(!this.validate_variables(y)){return}if(y==" "){return}if(C.getRangeAt){F=C.getRangeAt(0).cloneRange()}else{F.setStart(C.anchorNode,C.anchorOffset);F.setEnd(C.focusNode,C.focusOffset);if(F.collapsed!==C.isCollapsed){F.setStart(C.focusNode,C.focusOffset);F.setEnd(C.anchorNode,C.anchorOffset)}}if(C.rangeCount){if(F.getBoundingClientRect){var L=F.getBoundingClientRect();width=(L.right-L.left);height=(L.bottom-L.top)}}F.collapse(false);G=document.createElement("span");G.id=this._convert_variable_id;G.style.position="relative";G.appendChild(document.createTextNode(E));F.insertNode(G)}}if(G){var w=$("<div>").addClass("variable_conversion_pop_up").attr("contenteditable",false);var K=$("<div>").addClass("variable_content_container").appendTo(w);K.append(rdx.i18n.get_string("rdx.convert_to_variable"));var x=$("<div>").addClass("pop_up_bottom_container").appendTo(w);var J="-"+(height+25)+"px";var A="-"+((width+130)/2)+"px";w.css({top:J,left:A});w.appendTo(G);var I=this;w.bind(rdx.events.MOUSE_DOWN,{range:C.getRangeAt(0),markerEl:G},function(d){d.stopPropagation();var b=I;var a=d.data.range;var f="$"+y.trim()+"$";var c="blue_tag";if(b._variables_obj.hasOwnProperty(f)){c="green_tag"}var e=$("<span>").addClass(c).attr("contenteditable","false").append(a.extractContents());a.insertNode(e[0]);e.text("$"+y.trim()+"$");$(d.data.markerEl).remove();e.bind(rdx.events.CLICK,{drag_drop_editor:b},b._render_variables_dialog)});var D=function(a){a.stopPropagation();if(!($.contains(a.data.markerEl,a.target))){$(a.data.markerEl).remove();$(this).unbind(a,D);if(!M){if(C.empty){C.empty()}else{if(C.removeAllRanges){C.removeAllRanges()}}}else{C.empty()}}};$("body").bind(rdx.events.MOUSE_DOWN,{selectionE1:C,markerEl:G},D)}};rdx.drag_drop_editor.prototype.validate_variables=function(e,f){var g=true;var h;if(this.hasWhiteSpace(e)||f){h=rdx.i18n.get_string("rdx.variable_validation_error",{field_label:e});rdx.page.show_notification(h,rdx.ERROR,true);return false}return true};rdx.drag_drop_editor.prototype.hasWhiteSpace=function(b){return/\s/g.test(b)};rdx.drag_drop_editor.prototype.get_top_panel_fields=function(){return this._top_panel_fields};rdx.drag_drop_editor.prototype.isConfigurationSourceFile=function(b){if(b=="File"){return true}return false};rdx.drag_drop_editor.prototype.isConfigurationSourceRecord=function(b){if(b=="Record and Play"){return true}return false};rdx.drag_drop_editor.prototype.isConfigurationSourceTemplate=function(b){if(b=="Configuration Template"){return true}return false};rdx.drag_drop_editor.prototype.isConfigurationSourceInbuiltTemplate=function(b){if(b=="Inbuilt Template"){return true}return false};rdx.drag_drop_editor.prototype.isConfigurationSourceInstances=function(b){if(b=="Instance"){return true}return false};rdx.drag_drop_editor.prototype.is_readonly_template=function(f,d){var e=f&&(f.draggable).data("data_fetch_info").read_only_mode?true:(d&&d.is_inbuilt=="true"?true:false);return e};rdx.drag_drop_editor.prototype.isEditorModeReadOnly=function(){if(this._editor_area_container[0].getAttribute("data-readonly")==="true"||this._editor_area_container[0].getAttribute("data-readonly")===true){return true}return false};rdx.drag_drop_editor.prototype.activateAndClearEditorArea=function(){if(this.isEditorModeReadOnly()){this._editor_area_container[0].removeAttribute("data-readonly");this._editor_area_container.removeClass("read_only_mode background_readonly");this.clearEditor()}};rdx.drag_drop_editor.prototype.resetEditorBackground=function(){this._editor_area_container.removeClass("background_readonly")};rdx.drag_drop_editor.prototype.clearEditor=function(){this._editor_clear_link.trigger("click")};rdx.drag_drop_editor.prototype.setEditorAreaReadonly=function(b){this._editor_area_container[0].setAttribute("data-readonly",true);this._editor_area_container.addClass("read_only_mode");if(b){this._editor_area_container.addClass(b)}this.clearEditor()};rdx.drag_drop_editor.prototype.isEditorEmpty=function(){if(this._editor_area_container[0].getAttribute("data-empty")=="true"){return true}return false};rdx.drag_drop_editor.prototype.setEditorAttribute=function(d){for(var c in d){this._editor_area_container[0].setAttribute(c,d[c])}};rdx.drag_drop_editor.prototype.getEditorAttribute=function(b){return this._editor_area_container[0].getAttribute(b)?this._editor_area_container[0].getAttribute(b):null};rdx.drag_drop_editor.prototype.removeEditorAttribute=function(d){if(rdx.utils.is_array(d)){for(var c=0;c<d.length;c++){this._editor_area_container[0].removeAttribute(d.index)}}else{this._editor_area_container[0].removeAttribute(d)}};rdx.drag_drop_editor.prototype.getConfigurationSourceResourceName=function(b){return this._properties.left_panel_info.fetch_data_info[b].resource_name};rdx.drag_drop_editor.prototype.getDefaultConfigurationSource=function(){return this._properties.left_panel_info.default_configuration_source};rdx.drag_drop_editor.prototype.get_editor_commands_container=function(){return this._editor_commands_container};rdx.drag_drop_editor.prototype.getConfigurationSource=function(){return this._configurationSource};rdx.drag_drop_editor.prototype.setConfigurationSource=function(b){this._configurationSource=b};rdx.drag_drop_editor.prototype.get_component=function(){return this._parent};rdx.drag_drop_editor.prototype.get_field=function(){return this._field};rdx.drag_source_info=function(f,e,d){this._parent=e;this._resource=d.resource_name;this._drag_drop_editor=f;this._form_fields={};this._selection_field=d.selection_field;this._selection_dependent_fields=d.selection_dependent_fields;this._fetch_data_info=d.fetch_data_info;this._default_configuration_source=d.default_configuration_source;this._inbuilt_configuration_source=d.inbuilt_configuration_source;this._selection_field_div=null;this._selection_dependent_fields_div_array=[];this._selection_content_div=null;this._currentConfigurationSource=d.default_configuration_source};rdx.drag_source_info.prototype.render=function(A){var v=this._resource.properties;this._selection_field_div=$("<div>").addClass("source_selection_div");var I=this._selection_field;for(var J in I){var F=rdx.form_utils.get_form_field_properties(this._selection_field[J],this._resource[J],null,J,null);F.properties.change_handler_callback=new rdx.callback(this,this.config_source_change_handler_callback);var u=new rdx.form_field(F);var D=u.get_label();var B=$("<div>").addClass("label").append(D);var C=$("<div>").attr("fieldfor",D);var x=rdx.component_helper.get_component(u.get_input_type(),C,u);x.render();this._selection_field_div.append(B);this._selection_field_div.append(C)}this._parent.append(this._selection_field_div);this._selection_content_div=$("<div>").addClass("source_selection_data_div").appendTo(this._parent);this._editor_templates_list_container=$("<div>").addClass("editor_templates_list_container").appendTo(this._parent);var y=this.get_default_configuration_source();this._drag_drop_editor.setConfigurationSource(y);var z=this.get_fetch_data_info();var E=z[y];var H=E.resource_name;var w=null;if(rdx.utils.is_defined(E.view_context)){var G=new rdx.context();G.set_context_data(this.get_top_panel_fields_data(),E.view_context);w=G.get_url_params()}rdx.model.get(rdx.utils.get_resource(this._resource),w,new rdx.callback(this._drag_drop_editor,this._drag_drop_editor.fill_drag_source_list,[this.get_default_configuration_source(),null,false]))};rdx.drag_source_info.prototype.config_source_change_handler_callback=function(m){var l=m.get_data(m.get_selected_index());var h="";var f=false;var g=false;if(l==this.get_inbuilt_configuration_source()){g=true;if(this._drag_drop_editor.isEditorEmpty()){if(!this._drag_drop_editor.isEditorModeReadOnly()){this._drag_drop_editor.setEditorAreaReadonly()}}else{if(!this._drag_drop_editor.isEditorModeReadOnly()){h=rdx.i18n.get_string("rdx.set_editor_readonly_confirm")}}}else{if(this._drag_drop_editor.isEditorModeReadOnly()){if(this._drag_drop_editor.isEditorEmpty()){this._drag_drop_editor.activateAndClearEditorArea()}else{h=rdx.i18n.get_string("rdx.remove_editor_readonly_confirm")}}}if(h!==""){rdx.message_box.confirm(h,new rdx.callback(this,function(){this.setCurrentConfigurationSource(l);if(g){this._drag_drop_editor.setEditorAreaReadonly()}else{this._drag_drop_editor.activateAndClearEditorArea()}this.render_dependent_selection_field(m)}),new rdx.callback(this,function(){m.set_data(this.getCurrentConfigurationSource());return}))}else{this.setCurrentConfigurationSource(l);this.render_dependent_selection_field(m)}};rdx.drag_source_info.prototype.render_dependent_selection_field=function(U){var V=U.get_data(U.get_selected_index());var O=this.get_fetch_data_info();if(this._selection_content_div.length>0){this._selection_content_div.empty();this._editor_templates_list_container.empty()}this._drag_drop_editor.setConfigurationSource(V);if(V==this.get_default_configuration_source()||V==this.get_inbuilt_configuration_source()){var ab=O[this.get_default_configuration_source()];var aa=null;var S=false;var M=this.get_default_configuration_source();if(V==this.get_inbuilt_configuration_source()){M=this.get_inbuilt_configuration_source();S=true;ab=O[this.get_inbuilt_configuration_source()]}var H=this.get_top_panel_fields_data();if(ab.data_formatter_callback){var Q={resource_for_operation:H};Q=ab.data_formatter_callback.call_back([Q]);H=Q.resource_for_operation}if(rdx.utils.is_defined(ab.view_context)){var ai=new rdx.context();ai.set_context_data(H,ab.view_context);aa=ai.get_url_params()}rdx.model.get(rdx.utils.get_resource(ab.resource_name),aa,new rdx.callback(this._drag_drop_editor,this._drag_drop_editor.fill_drag_source_list,[M,null,S]))}else{var ak=this._selection_dependent_fields;for(var L in ak){if(L==V){var R=ak[L];var ae=R.form_fields;var Z=R.resource_name;var ag=R.action_properties;var ad=R.renderer_callback?R.renderer_callback:null;if(rdx.utils.is_defined(ad)){var Q={top_panel_data:this.get_top_panel_fields_data(),selected_dependent_component:R};Q=ad.call_back([Q])}var T=[];for(var af in ae){var al=rdx.form_utils.get_form_field_properties(ae[af],this._resource[af],null,af,null);var J=new rdx.form_field(al);var N=J.get_label();var K=$("<div>").addClass("selection_dependent_fields");if(rdx.utils.is_defined(ae[af].class_name)){K.addClass(ae[af].class_name)}var I=$("<div>").addClass("label").append(N);var aj=$("<div>").attr("fieldfor",N);this._selection_dependent_fields_div_array[af]=K;var W=rdx.component_helper.get_component(J.get_input_type(),aj,J);W.render();K.append(I);K.append(aj);this._selection_content_div.append(K);if(J.get_formatter()&&rdx.utils.is_defined(J.get_resource_name())){this.prefill_form_field(W,J,this._parent,this._get_field_resource_response_arrived)}T.push({form_field:J,field:W});if(rdx.utils.is_defined(ae[af].custom_click_handler)){K.bind(rdx.events.CLICK,{callback:ae[af].custom_click_handler,field:W},function(b){var a=b.data.field.get_data();b.data.callback.call_back([a])})}}$(".selection_dependent_fields",this._selection_content_div).trigger(rdx.events.CLICK);this._form_fields[L]=T;var P=ag.button_label;var ac=$("<div>").addClass("drag_source_action_button");var ah=rdx.utils._get_button(rdx.i18n.get_string(P),null,"drag_source_action_grey_button grey_button");ac.append(ah);ah.bind(rdx.events.CLICK,{callback:new rdx.callback(this,this._handle_source_info_data_submit),drag_info:this,configurationSource:V,action_properties:ag},function(a){a.data.callback.call_back([a.data.drag_info,a.data.configurationSource,a.data.action_properties,$(this)])});this._selection_content_div.append(ac);break}}}};rdx.drag_source_info.prototype.prefill_form_field=function(t,m,q,n){var p=null;var o=m.get_resource_name();if(rdx.utils.is_defined(m.get_formatter().get_data_populate_callback())){var s=m.get_formatter().get_data_populate_callback();var l=new rdx.callback_params({resource_name:o,return_callback:new rdx.callback(this,n,[m.get_key(),o,m,t])});s.call_back([l])}else{rdx.model.get(rdx.utils.get_resource(o),p,new rdx.callback(this,n,[m.get_key(),o,m,t]),q,new rdx.callback(null,rdx.form_utils._handle_resource_form_field_error,[t]))}};rdx.drag_source_info.prototype._get_field_resource_response_arrived=function(q,n,m,h,p){var o=q[m]?q[m]:[];if(!rdx.utils.is_array(o)){o=[o]}var l=h.get_formatter().map_data_items(o);p.add_data_items.apply(p,[l,false])};rdx.drag_source_info.prototype._handle_source_info_data_submit=function(t,D,s,A){var z=this._get_form_fields(D);var x={};var w;for(var C=0;C<z.length;C++){var v=null;var B=z[C].form_field;w=z[C].field;var u=B.get_key();if(rdx.utils.is_function(w.get_data)){v=w.get_data()}if(rdx.utils.is_defined(B.get_formatter())){v=B.get_formatter().get_storage_value(v)}x[u]=v}var y=s.submit_operation;var F={resource_for_operation:x,top_panel_data:this.get_top_panel_fields_data(),action_button:A,field:w};var E=new rdx.callback_params({return_callback:new rdx.callback(this._drag_drop_editor,this._drag_drop_editor.fill_drag_source_list,[D,x]),resource_name:y.resource_name,resource_data:F});s.submit_handler_callback.call_back([E])};rdx.drag_source_info.prototype._get_form_fields=function(b){return this._form_fields[b]};rdx.drag_source_info.prototype.get_fetch_data_info=function(){return this._fetch_data_info};rdx.drag_source_info.prototype.get_default_configuration_source=function(){return this._default_configuration_source};rdx.drag_source_info.prototype.get_inbuilt_configuration_source=function(){return this._inbuilt_configuration_source};rdx.drag_source_info.prototype.get_drag_drop_editor=function(){return this._drag_drop_editor};rdx.drag_source_info.prototype.getCurrentConfigurationSource=function(){return this._currentConfigurationSource};rdx.drag_source_info.prototype.setCurrentConfigurationSource=function(b){this._currentConfigurationSource=b};rdx.drag_source_info.prototype.get_top_panel_fields_data=function(){var h=this.get_drag_drop_editor().get_top_panel_fields();var e={};for(var f=0;f<h.length;f++){var g=h[f].get_data();if(rdx.utils.is_defined(h[f].get_field().get_formatter())){g=h[f].get_field().get_formatter().get_storage_value(g)}e[h[f].get_field().get_key()]=g==undefined?"":g}return e};rdx.time_day_chooser=function(d,c){this._parent=d;this._field=c;this._DEFAULT_PROPERTIES={display_days_chooser:null,display_time_chooser:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,c.get_properties());this._day_select_container=null;this._time_select_container=null};rdx.time_day_chooser.prototype.render=function(){if(this._properties.display_days_chooser===true){this._render_week_days()}else{if(this._properties.display_time_chooser===true){this._render_time_chooser()}}};rdx.time_day_chooser.prototype._render_week_days=function(){this._day_select_container=$("<div>").addClass("days_component");var c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var d=$("<div>").addClass("days_wrapper");$.each(c,function(a,b){span=$("<span/>").text(b).appendTo(d);span.bind(rdx.events.CLICK,{},function(f){if($(this).hasClass("selected")){$(this).removeClass("selected")}else{$(this).addClass("selected")}})});this._day_select_container.append(d);this._parent.append(this._day_select_container)};rdx.time_day_chooser.prototype._render_time_chooser=function(){this._time_select_container=$("<div/>",{"class":"time_chooser"});hour_field=$("<select/>",{"class":"hour mini"});for(var c=1;c<=12;c++){ele=c>9?c:"0"+c;opt=$("<option/>").text(ele).appendTo(hour_field)}this._time_select_container.append(hour_field);min_field=$("<select/>",{"class":"minute mini"});for(var d=0;d<=59;d++){ele=d>9?d:"0"+d;opt=$("<option/>").text(ele).appendTo(min_field)}this._time_select_container.append(min_field);toggle_am_pm=$("<div/>",{"class":"toggle_am_pm"});$("<input/>",{type:"radio","class":"time_chooser_format",name:"time_chooser_format",id:"time_chooser_format_am",value:"AM",checked:true}).appendTo(toggle_am_pm);$("<label/>",{"class":"time_chooser_format_label",text:"AM","for":"time_chooser_format_am"}).appendTo(toggle_am_pm);$("<input/>",{type:"radio","class":"time_chooser_format",name:"time_chooser_format",id:"time_chooser_format_pm",value:"PM"}).appendTo(toggle_am_pm);$("<label/>",{"class":"time_chooser_format_label",text:"PM","for":"time_chooser_format_pm"}).appendTo(toggle_am_pm);this._time_select_container.append(toggle_am_pm);this._parent.append(this._time_select_container)};rdx.time_day_chooser.prototype.set_data=function(f){if(this._properties.display_days_chooser&&this._properties.display_days_chooser===true){if(rdx.utils.is_not_empty(f)){var e=(f.toLowerCase()).split(",");this._day_select_container.find(".days_wrapper span").each(function(){if(e.indexOf($(this).text().toLowerCase())!==-1){$(this).addClass("selected")}})}}else{if(this._properties.display_time_chooser&&this._properties.display_time_chooser===true){if(rdx.utils.is_not_empty(f)){var d=this._get_time_from_epoc_seconds(f);$(".time_chooser .hour").val(d.hours);$(".time_chooser .minute").val(d.minutes);$('.toggle_am_pm input[name = "time_chooser_format"]',this._time_select_container).each(function(b,a){if(a.value==d.am_pm){$(a).attr("checked",true);return false}})}}}};rdx.time_day_chooser.prototype.get_component=function(){return this._parent};rdx.time_day_chooser.prototype.get_field=function(){return this._field};rdx.time_day_chooser.prototype._get_selected_days=function(){var c=[];var d=this._day_select_container.find(".days_wrapper span");if(rdx.utils.is_defined(d)){d.each(function(){if($(this).hasClass("selected")){c.push($(this).text())}});if(rdx.utils.is_defined(c)){return c.toString()}}else{return}};rdx.time_day_chooser.prototype._get_selected_time=function(){var d=$(".hour",this._time_select_container).val();if(rdx.utils.is_defined(d)){var f=$(".minute",this._time_select_container).val();var e=$('.toggle_am_pm input[name = "time_chooser_format"]:checked',this._time_select_container).val();if(e=="PM"){if(Number(d)!=12){d=Number(d)+12}}else{if(Number(d)==12){d="00"}}d=d.toString();f=f.toString();return(d+":"+f)}else{return}};rdx.time_day_chooser.prototype.get_data=function(){var b;if(this._properties.display_days_chooser===true){b=this._get_selected_days()}else{if(this._properties.display_time_chooser===true){b=this._get_selected_time()}}return b};rdx.time_day_chooser.prototype._get_time_from_epoc_seconds=function(m){var o=new Date(Number(m)*1000);var g=o.getHours();var n=o.getMinutes();var h="AM";if(g===0){g=12}else{if(g>=12){g=g>12?g-12:g;h="PM"}}if(g<10){g="0"+g}if(n<10){n="0"+n}var l={hours:g,minutes:n,am_pm:h};return l};rdx.filter_component_view=function(d,e,f){this._parent=d;this._column_properties=e;this._filter=e.get_filter();this._input_type=rdx.form_constants.CHECK_BOX;this._map_values=this._filter.map;this._reverse_map=rdx.utils.interchange_key_value_in_object(this._map_values);this._view_context_type=rdx.utils.is_defined(this._filter.type)?this._filter.type:rdx.url_utils.GET_ARGS_TYPE;this._change_handler_callback=f;this._data_formatter=this._filter.data_formatter};rdx.filter_component_view.prototype.render=function(){var t=$("<div>").addClass("column-filter-wrapper");this._filter_view=t;this._filter_view.css({top:0,left:0});$(document.body).append(this._filter_view);var x=$("<div>").addClass("column-filter-heading");var q=this._column_properties.get_label();x.append(q);var u=$("<span>").addClass("close-filter-dialog").attr("title","Close");u.bind(rdx.events.CLICK,{filter_view:this._filter_view},function(a){a.data.filter_view.remove();a.stopPropagation();a.preventDefault()});x.append(u);t.append(x);var p=$("<div>").addClass("column-filter-list");t.append(p);var w=[];var s={};for(var n in this._map_values){if(this._map_values.hasOwnProperty(n)){var o={map:{"true":this._map_values[n],"false":""}};s[n]={input_type:this._input_type,formatter:o,label:this._map_values[n]}}}w.push({form_fields:s});var v={standalone_mode:true,submit_handler_callback:new rdx.callback(this._get_filter_values,[this]),add_close_button:false,button_label:"OK"};this._form=new rdx.form(p,w,{},v).render();rdx.utils.position_element_absolute_to_dom(this._filter_view,this._parent)};rdx.filter_component_view.prototype._get_filter_values=function(o,m){var l=m._form.get_form_data();var n="";var g=[];if(rdx.utils.is_defined(m._data_formatter)){n=m._data_formatter.call_back([l])}else{for(var h in l){if(l.hasOwnProperty(h)){if(rdx.utils.is_not_empty(l[h])){n+=l[h]+"|";g.push(l[h])}}}}n=rdx.utils.ends_with(n,"|")?n.substring(0,n.length-1):n;m._filter_view.remove();if(n!=""){m._column_properties.set_filter_values(g)}else{m._column_properties.set_filter_values(null)}m._change_handler_callback.call_back([n,m._view_context_type])};rdx.filter_component_view.prototype.set_data=function(c){for(var d=0;d<c.length;d++){this._form.set_field_value(c[d],c[d])}};rdx.check_box=function(d,c){this._parent=typeof(d)=="string"?$("#"+d):d;this._field=c;this._element=$("<div>").addClass("rdx_check_box");this._main_element=$("<div>").addClass("rdx_check_box_wrapper");this._element.append(this._main_element);this._label_element=$("<div>").addClass("rdx_check_box_label_container");this._element.append(this._label_element);this._check_box=rdx.dom_utils.get_element(rdx.form_constants.CHECK_BOX).hide();this._set_properties();this._click_event_listners=[];this._parent.append(this._element.append(this._check_box));this._element.bind(rdx.events.CLICK,{check_box:this},function(a){a.data.check_box._handle_click(a)});this._label_element.bind(rdx.events.CLICK,{check_box:this},function(a){a.data.check_box._handle_click(a)})};rdx.check_box.prototype._handle_click=function(h){if(this._element.hasClass("rdx_check_box_disabled")){return}var g=!this._check_box.attr("checked");if(g===true){this._main_element.removeClass("rdx_check_box_unchecked");this._main_element.addClass("rdx_check_box_checked")}else{this._main_element.removeClass("rdx_check_box_checked");this._main_element.addClass("rdx_check_box_unchecked")}this._check_box.attr("checked",g);for(var e=0,f=this._click_event_listners.length;e<f;e++){this._click_event_listners[e].call_back([h])}this._check_box.trigger(rdx.events.CHANGE)};rdx.check_box.prototype.render=function(){return this};rdx.check_box.prototype.get_label_container=function(){return this._label_element};rdx.check_box.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._parent,this._field);if(this._field.is_read_only()){this._label_element.addClass("rdx_check_box_disabled");this._element.addClass("rdx_check_box_disabled");this._element.attr("disabled","disabled")}};rdx.check_box.prototype.add_event_handler=function(d,c){if(d===rdx.events.CLICK){this._click_event_listners.push(c);return}this._check_box.bind(d,{ns_callback:c},function(a){a.data.ns_callback.call_back([a])})};rdx.check_box.prototype.set_data=function(b){if(b=="false"){b=false}else{if(b=="true"){b=true}}this._check_box.attr("checked",b);if(b==true){this._main_element.removeClass("rdx_check_box_unchecked");this._main_element.addClass("rdx_check_box_checked")}else{this._main_element.removeClass("rdx_check_box_checked");this._main_element.addClass("rdx_check_box_unchecked")}this._check_box.trigger(rdx.events.CHANGE)};rdx.check_box.prototype.get_data=function(){return this._check_box.attr("checked")};rdx.check_box.prototype.get_component_type=function(){return rdx.form_constants.CHECK_BOX};rdx.check_box.prototype.get_field=function(){return this._field};rdx.check_box.prototype.get_component=function(){return this._element};rdx.check_box.prototype.toggle_read_only=function(b){if(b){this._label_element.removeClass("rdx_check_box_disabled");this._element.removeClass("rdx_check_box_disabled")}else{this._label_element.addClass("rdx_check_box_disabled");this._element.addClass("rdx_check_box_disabled")}};rdx.ip_range=function(d,c){this._parent=typeof(d)=="string"?$("#"+d):d;this._field=c;this._ip_range_text=c.get_label();this._DEFAULT_PROPERTIES={type:rdx.form_constants.range_type.IPV4};this._properties=$.extend({},this._DEFAULT_PROPERTIES,c.get_properties())};rdx.ip_range.prototype.render=function(){this._element=$("<table>").attr("cellspacing","0").addClass("ip-range-tbl");var b=$("<tr>");if(this._properties.type==rdx.form_constants.range_type.IPV6){this._ip_ele=new rdx.ip_v6(this._parent,this._field).render()}else{if(this._properties.type==rdx.form_constants.range_type.IPV4V6RANGE){this._ip_ele=new rdx.ip_v4_v6(this._parent,this._field).render()}else{if(this._properties.type==rdx.form_constants.range_type.TEXT){this._ip_ele=new rdx.text_box(this._parent,this._field).render()}else{this._ip_ele=new rdx.ip_v4(this._parent,this._field).render()}}}this._ip_range_element1=this._ip_ele.get_component();this._ip_range_element2=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX).addClass("ip-range-range");b.append($("<td>").append(this._ip_range_element1));b.append($("<td>").attr("width","20px").append("-"));b.append($("<td>").append(this._ip_range_element2));this._element.append(b);this._set_properties();this._parent.append(this._element);return this};rdx.ip_range.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._element,this._field)};rdx.ip_range.prototype.add_event_handler=function(d,c){this._element.bind(d,{ns_callback:c},function(a){a.data.ns_callback.call_back([a])})};rdx.ip_range.prototype.set_data=function(b){this._ip_ele.set_data(b)};rdx.ip_range.prototype.get_data=function(){return new rdx.ip_range_resc(this._ip_ele.get_data(),this._ip_range_element2.val(),this._properties.type)};rdx.ip_range.prototype.get_component_type=function(){return rdx.form_constants.IP_RANGE};rdx.ip_range.prototype.get_field=function(){return this._field};rdx.ip_range.prototype.get_component=function(){return this._element};rdx.ip_range.prototype.validate=function(){if(this._properties.type==rdx.form_constants.range_type.IPV4){if(!rdx.utils.is_ipv4(this._ip_ele.get_data())){return"rdx.ipv4_error"}var b=this._ip_range_element2.val();if(rdx.utils.is_num(b)){return("rdx.iprange_format_error")}if(b>255||b<0){return("rdx.iprange_maxval_error")}return null}if(this._properties.type==rdx.form_constants.range_type.IPV6){if(!rdx.utils.is_ipv6(this._ip_ele.get_data())){return"rdx.ipv6_error"}var b=this._ip_range_element2.val();if(!b.match(/^[A-Fa-f0-9]{1,4}$/)){return("rdx.ip_text_range_error")}return null}if(this._properties.type==rdx.form_constants.range_type.TEXT){if(!(this._ip_ele.get_data().match(/^[0-9]+$/)&&this._ip_range_element2.val().match(/^[0-9]+$/))&&!(this._ip_ele.get_data().match(/^[a-zA-Z]+$/)&&this._ip_range_element2.val().match(/^[a-zA-Z]+$/))){return("rdx.ip_text_range_error")}}if(this._properties.type==rdx.form_constants.range_type.IPV4V6RANGE){if(!rdx.utils.is_ipv4(this._ip_ele.get_data())&&!rdx.utils.is_ipv6(this._ip_ele.get_data())){return"rdx.ip_error"}if(rdx.utils.is_ipv4(this._ip_ele.get_data())){var b=this._ip_range_element2.val();if(rdx.utils.is_num(b)){return("rdx.iprange_format_error")}if(b>255||b<0){return("rdx.iprange_maxval_error")}}else{if(rdx.utils.is_ipv6(this._ip_ele.get_data())){if(!rdx.utils.is_ipv6(this._ip_ele.get_data())){return"rdx.ipv6_error"}var b=this._ip_range_element2.val();if(b.length>0&&!b.match(/^[A-Fa-f0-9]{1,4}$/)){return("rdx.ip_text_range_error")}}}return null}};rdx.ip_range_resc=function(d,e,f){this._ipString=d;this._range=e;this._type=f};rdx.ip_range_resc.prototype.get_ip_string=function(){return rdx.utils.trim(this._ipString)};rdx.ip_range_resc.prototype.get_range=function(){return rdx.utils.trim(this._range)};rdx.ip_range_resc.prototype.get_range_start=function(){if(this._type==rdx.form_constants.range_type.IPV4||rdx.utils.is_ipv4(this._ipString)){var e=this.get_ip_string().lastIndexOf(".");return parseInt((this.get_ip_string().substring(e+1)))}else{if(this._type==rdx.form_constants.range_type.IPV6||rdx.utils.is_ipv6(this._ipString)){var d=this.get_ip_string();var f=rdx.utils.get_last_octet_ipv6(d);return f}else{if(this._type==rdx.form_constants.range_type.TEXT){return rdx.utils.trim(this._ipString)}}}};rdx.ip_range_resc.prototype.get_range_as_array=function(){var x=this.get_range();var D=this.get_range_start();var z=this.get_ip_string();var v=[];if(x==""){x=D}if(this._type==rdx.form_constants.range_type.IPV6||(this._type==rdx.form_constants.range_type.IPV4V6RANGE&&rdx.utils.is_ipv6(this._ipString))){var B="";if(rdx.utils.hex_to_decimal(x)-rdx.utils.hex_to_decimal(D)<0){var t=x;x=D;D=t}for(var y=rdx.utils.hex_to_decimal(D),A=0;y<=rdx.utils.hex_to_decimal(x);y++,A++){if(B==""){B=z}else{B=rdx.utils.increment_ipv6_address_by_one(B)}v[A]=B}}else{if(this._type==rdx.form_constants.range_type.IPV4||(this._type==rdx.form_constants.range_type.IPV4V6RANGE&&rdx.utils.is_ipv4(this._ipString))){var u=z.split(".");D=Number(D);x=Number(x);if(x-D<0){var t=x;x=D;D=t}for(var y=D,A=0;y<=x;y++,A++){var w=(u[0]+"."+u[1]+"."+u[2]+"."+String(y));v[A]=w}}else{if(this._type==rdx.form_constants.range_type.TEXT){if(D.match(/[a-zA-Z]+/)&&x.match(/[a-zA-Z]+/)){var s=false;if(D.length!=x.length){rdx.message_box.error("Invalid Range")}var C=D.length-1;while(C>=0){var q=rdx.utils.check_valid_range(D[C],x[C],s);if(q==2){s=true}else{s=false;if(q!=1){rdx.message_box.error("Invalid Range")}}C--}if(s==true){rdx.message_box.error("Invalid Range")}while(D!=x){v.push(D);D=rdx.utils.charater_range_increment(D.split(""),D.length-1)}v.push(D)}else{if(D.match(/[0-9]+/)&&x.match(/[0-9]+/)){D=Number(D);x=Number(x);if(x-D<0){var t=x;x=D;D=t}for(var y=D;y<=x;y++){v.push(y)}}}}}}return v};rdx.ip_v4=function(e,d){this._parent=typeof(e)=="string"?$("#"+e):e;this._field=d;this._element=$("<table>").addClass("ip-v4-v6-parent").attr("cellspacing","0");var f=$("<tr>");this._ip_element1=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX).addClass("ip-v4-v6-octet ");this._ip_element2=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX).addClass("ip-v4-v6-octet ").attr("maxlength","3");this._ip_element3=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX).addClass("ip-v4-v6-octet ").attr("maxlength","3");this._ip_element4=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX).addClass("ip-v4-v6-octet ").attr("maxlength","3");this._cell1=f.append($("<td>").attr("width","17%").addClass("ip-v4-v6-octet-wrap").append(this._ip_element1));this._cell1.append($("<td>").attr("width","10%").addClass("ip-v4-v6-octet-wrap").append("."));this._cell2=f.append($("<td>").attr("width","17%").addClass("ip-v4-v6-octet-wrap").append(this._ip_element2));this._cell2.append($("<td>").attr("width","10%").addClass("ip-v4-v6-octet-wrap").append("."));this._cell3=f.append($("<td>").attr("width","17%").addClass("ip-v4-v6-octet-wrap").append(this._ip_element3));this._cell3.append($("<td>").attr("width","10%").addClass("ip-v4-v6-octet-wrap").append("."));this._cell4=f.append($("<td>").attr("width","17%").addClass("ip-v4-v6-octet-wrap").append(this._ip_element4));this._element.append(f);this._skip_validation=false;if(rdx.utils.is_defined(this._field.get_properties())&&rdx.utils.is_defined(this._field.get_properties().skip_validation)){this._skip_validation=this._field.get_properties().skip_validation}this._set_properties();this._valid_key_codes=[rdx.keycodes.DELETE,rdx.keycodes.BACKSPACE,rdx.keycodes.LEFT_ARROW,rdx.keycodes.RIGHT_ARROW,rdx.keycodes.TAB];this._is_change_event_added=false};rdx.ip_v4.prototype.render=function(){this._register_key_listners(this._ip_element1,this._ip_element2,null);this._register_key_listners(this._ip_element2,this._ip_element3,this._ip_element1);this._register_key_listners(this._ip_element3,this._ip_element4,this._ip_element2);this._register_key_listners(this._ip_element4,null,this._ip_element3);this._parent.append(this._element);return this};rdx.ip_v4.prototype._register_key_listners=function(d,f,e){d.bind(rdx.events.PASTE,{ip_component:this,prev_field:e},function(a){var c=this;var h=a.data.prev_field;if(rdx.utils.is_not_defined(h)){$(c).val("");var b=a.data.ip_component;setTimeout(function(){var g=$(c).val();b.validate_data(g,true)},100)}else{a.stopPropagation();a.preventDefault()}});d.bind(rdx.events.KEYDOWN,{ip_component:this,next_field:f,prev_field:e},function(B){var c=B.keyCode;var y=false;var A=B.shiftKey;if($.inArray(c,B.data.ip_component._valid_key_codes)!=-1||(c==rdx.keycodes.TAB&&A)){}else{if(f!=null&&(c==rdx.keycodes.PERIOD||c==rdx.keycodes.DECIMAL_POINT)&&rdx.utils.is_not_empty(this.value)){}else{if((c>=rdx.keycodes.ZERO&&c<=rdx.keycodes.NINE)||(c>=rdx.keycodes.NUMPAD_ZERO&&c<=rdx.keycodes.NUMPAD_NINE)){if(B.target.value=="0"){B.target.value=""}}if(rdx.utils.is_not_defined(e)){if(((B.ctrlKey||B.metaKey)&&c==rdx.keycodes.V)){y=true}}if(rdx.utils.is_not_defined(e)){if(!((y)||((c>=rdx.keycodes.ZERO&&c<=rdx.keycodes.NINE)||(c>=rdx.keycodes.NUMPAD_ZERO&&c<=rdx.keycodes.NUMPAD_NINE)))||c==rdx.keycodes.SPACE){B.preventDefault()}}if((B.target.value.length==2&&B.target.value==25&&((c<96&&c>rdx.keycodes.FIVE)||c>rdx.keycodes.NUMPAD_FIVE))||(B.target.value.length>0)){var u=[];var v="";for(var w=0;w<B.target.value.length;w++){u[w]=B.target.value.charAt(w)}var b=String.fromCharCode((rdx.keycodes.NUMPAD_ZERO<=c&&c<=rdx.keycodes.NUMPAD_NINE)?c-48:c);if(rdx.utils.is_ie()&&(rdx.utils.get_browser_version().indexOf("8")==0)){B.target.focus();var z=document.selection.createRange();var C=z.htmlText;z.moveStart("character",-B.target.value.length);var a=z.text.length;if(rdx.utils.is_defined(document.selection.type)&&(document.selection.type).toLowerCase()=="none"){u.splice(a,0,b)}else{var x=a-C.length;u.splice(x,C.length,b)}}else{var D=B.target.selectionEnd-B.target.selectionStart;if(D>0){u.splice(B.target.selectionStart,D,b)}else{u.splice(B.target.selectionStart,0,b)}}for(var w=0;w<u.length;w++){v=v.concat(u[w])}if(v>255){B.preventDefault()}}}}$(B.data.ip_component._element).trigger(rdx.events.CHANGE)});if(rdx.utils.is_defined(f)||rdx.utils.is_defined(e)){d.bind(rdx.events.KEYUP,{ip_component:this,next_field:f,prev_field:e},function(a){setTimeout(function(){var b=a.target.value.charAt(a.target.value.length-1);var p=a.target.value;var q=a.data.ip_component.validate_octet_value(p);if(a.keyCode==rdx.keycodes.TAB){}else{if(a.keyCode==rdx.keycodes.BACKSPACE&&rdx.utils.is_defined(e)&&rdx.utils.is_empty(a.target.value)){e.focus().val(e.val());a.preventDefault()}else{if(q==false){var n=a.target.value.split("");for(var o=n.length-1;o>=0;o--){var c=n[o];if(/^\d{1}$/.test(c)==false&&!(c=="*"&&a.target.value.length==1&&rdx.utils.is_not_defined(a.data.prev_field))){a.target.value=a.target.value.replace(c,"")}}if(rdx.utils.is_not_empty(a.target.value)&&b=="."&&rdx.utils.is_defined(f)){f.focus().val(f.val());f.select();a.preventDefault()}}else{if((a.keyCode==rdx.keycodes.ZERO||a.keyCode==rdx.keycodes.NUMPAD_ZERO||a.keyCode==rdx.keycodes.DELETE||a.keyCode==rdx.keycodes.BACKSPACE)){while(a.target.value.length>1&&a.target.value.indexOf("0")==0){a.target.value=a.target.value.substr(1)}}else{if((a.target.value.length==3&&((a.keyCode>=rdx.keycodes.ZERO&&a.keyCode<=rdx.keycodes.NINE)||(a.keyCode>=rdx.keycodes.NUMPAD_ZERO&&a.keyCode<=rdx.keycodes.NUMPAD_NINE))&&rdx.utils.is_defined(f))||((a.keyCode==rdx.keycodes.PERIOD||a.keyCode==rdx.keycodes.DECIMAL_POINT)&&rdx.utils.is_not_empty(a.target.value))){f.focus().val(f.val());f.select()}}}}}$(a.data.ip_component._element).trigger(rdx.events.CHANGE)},200)})}};rdx.ip_v4.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._element,this._field);rdx.form_utils.set_basic_field_attributes(this._parent,this._field);rdx.form_utils.set_basic_field_attributes(this._element,this._field);if(this._field.is_read_only()){this._element.attr("readonly","true");this._ip_element1.attr("readonly","true");this._ip_element2.attr("readonly","true");this._ip_element3.attr("readonly","true");this._ip_element4.attr("readonly","true");this._element.addClass("form_field_disabled");this._ip_element1.addClass("form_field_disabled");this._ip_element2.addClass("form_field_disabled");this._ip_element3.addClass("form_field_disabled");this._ip_element4.addClass("form_field_disabled")}};rdx.ip_v4.prototype.add_event_handler=function(d,c){this._element.bind(d,{ns_callback:c},function(a){a.data.ns_callback.call_back([a])})};rdx.ip_v4.prototype.set_data=function(c){var d=c.split(".");if(d.length==4){this._ip_element1.val(d[0]);this._ip_element2.val(d[1]);this._ip_element3.val(d[2]);this._ip_element4.val(d[3])}else{if(c=="*"){this._ip_element1.val(c)}else{this._ip_element1.val("");this._ip_element2.val("");this._ip_element3.val("");this._ip_element4.val("")}}};rdx.ip_v4.prototype.validate_data=function(e,g){var h=$.trim(e);h=h.replace(/\s/g,"");var f=this.validate_octet_value(h,g);if(f){this.set_data(h)}else{rdx.message_box.error(rdx.i18n.get_string("rdx.ip_paste_field_error",{field_label:e}));this._ip_element1.val("");this._ip_element2.val("");this._ip_element3.val("");this._ip_element4.val("")}};rdx.ip_v4.prototype.validate_octet_value=function(v,t){var m=true;var n=/^([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])$/;var u=(rdx.utils.is_defined(t)&&t==true)?true:false;if(v.indexOf(".")!==-1&&u){v=$.trim(v);v=v.replace(/\s/g,"");var o=v.split(".");var p=o.length;for(var s=0;s<p;s++){var q=(n.test(o[s]))?true:false;if(q==false){m=false;break}}}else{m=(n.test(v))?true:false}return m};rdx.ip_v4.prototype.get_data=function(){var b=this._ip_element1.val();if(rdx.utils.is_not_empty(this._ip_element2.val())){b+=("."+this._ip_element2.val())}if(rdx.utils.is_not_empty(this._ip_element3.val())){b+=("."+this._ip_element3.val())}if(rdx.utils.is_not_empty(this._ip_element4.val())){b+=("."+this._ip_element4.val())}return b};rdx.ip_v4.prototype.get_component_type=function(){return rdx.form_constants.IPV4};rdx.ip_v4.prototype.get_field=function(){return this._field};rdx.ip_v4.prototype.get_component=function(){return this._element};rdx.ip_v4.prototype.toggle_read_only=function(b){if(b){this._element.removeAttr("readonly");this._ip_element1.removeAttr("readonly");this._ip_element2.removeAttr("readonly");this._ip_element3.removeAttr("readonly");this._ip_element4.removeAttr("readonly");this._element.removeClass("form_field_disabled");this._ip_element1.removeClass("form_field_disabled");this._ip_element2.removeClass("form_field_disabled");this._ip_element3.removeClass("form_field_disabled");this._ip_element4.removeClass("form_field_disabled")}else{this._element.attr("readonly","true");this._ip_element1.attr("readonly","true");this._ip_element2.attr("readonly","true");this._ip_element3.attr("readonly","true");this._ip_element4.attr("readonly","true");this._element.addClass("form_field_disabled");this._ip_element1.addClass("form_field_disabled");this._ip_element2.addClass("form_field_disabled");this._ip_element3.addClass("form_field_disabled");this._ip_element4.addClass("form_field_disabled")}};rdx.ip_v4.prototype.toggle_show_hide=function(d,c){if(rdx.utils.is_not_defined(c)){c=this._element}if(d){c.show()}else{c.hide()}};rdx.ip_v6=function(d,c){this._parent=typeof(d)=="string"?$("#"+d):d;this._field=c;this._DEFAULT_PROPERTIES={prefix_length_required:true};this._properties=$.extend({},this._DEFAULT_PROPERTIES,this._field.get_properties());this.ip_v6_field=new rdx.text_box(d,c)};rdx.ip_v6.prototype.render=function(){this._register_key_listners();this._parent.append(this.ip_v6_field.get_component());return this};rdx.ip_v6.prototype._register_key_listners=function(){this.ip_v6_field.add_event_handler(rdx.events.KEYDOWN,new rdx.callback(this,function(d){var f=d.keyCode;var e=d.ctrlKey;if(f==rdx.keycodes.DELETE||f==rdx.keycodes.BACKSPACE||(f>=rdx.keycodes.NUMPAD_ZERO&&f<=rdx.keycodes.NUMPAD_NINE)||((f==rdx.keycodes.SHIFTCOLON||f==rdx.keycodes.COLON||f==rdx.keycodes.A||f==rdx.keycodes.B||f==rdx.keycodes.C||f==rdx.keycodes.D||f==rdx.keycodes.E||f==rdx.keycodes.F)&&d.shiftKey)||(f==rdx.keycodes.RIGHT_ARROW&&d.shiftKey)||(f==rdx.keycodes.LEFT_ARROW&&d.shiftKey)||(e&&(f==rdx.keycodes.A||f==rdx.keycodes.C||f==rdx.keycodes.V||f==rdx.keycodes.X))||f==rdx.keycodes.TAB||(this._properties.prefix_length_required==true&&f==rdx.keycodes.FWDSLASH)){}else{if(f<rdx.keycodes.LEFTARROW||f>rdx.keycodes.F||d.shiftKey){d.preventDefault()}}}))};rdx.ip_v6.prototype.add_event_handler=function(d,c){this.ip_v6_field.add_event_handler(d,c)};rdx.ip_v6.prototype.set_data=function(b){this.ip_v6_field.set_data(b)};rdx.ip_v6.prototype.get_data=function(){return this.ip_v6_field.get_data()};rdx.ip_v6.prototype.get_component_type=function(){return rdx.form_constants.IPV6};rdx.ip_v6.prototype.get_field=function(){return this._field};rdx.ip_v6.prototype.get_component=function(){return this.ip_v6_field.get_component()};rdx.ip_v6.prototype.toggle_show_hide=function(d,c){this.ip_v6_field.toggle_show_hide(d,c)};rdx.ip_v6.prototype.toggle_read_only=function(b){this.ip_v6_field.toggle_read_only(b)};rdx.ipv4v6=function(d,c){this._parent=typeof(d)=="string"?$("#"+d):d;this._field=c;this._DEFAULT_PROPERTIES={prefix_length_required:true};this._properties=$.extend({},this._DEFAULT_PROPERTIES,this._field.get_properties());this.ip_field=new rdx.ip_textfield(d,c);this._properties=$.extend(true,this._DEFAULT_PROPERTIES,this._field.get_properties())};rdx.ipv4v6.prototype.render=function(){this._register_key_listners();this.ip_field.render();this._parent.append(this.ip_field.get_component());if(rdx.utils.is_defined(this.get_data())&&(rdx.utils.is_not_empty(this.get_data()))){this.trigger(rdx.events.FOCUS_OUT)}return this};rdx.ipv4v6.prototype._register_key_listners=function(){this.ip_field.add_event_handler(rdx.events.KEYDOWN,new rdx.callback(this,function(d){var f=d.keyCode;var e=d.ctrlKey;if(f==rdx.keycodes.DELETE||f==rdx.keycodes.BACKSPACE||f==rdx.keycodes.SPACE||f==rdx.keycodes.DOT||f==rdx.keycodes.NUMPAD_PERIOD||(f>=rdx.keycodes.NUMPAD_ZERO&&f<=rdx.keycodes.NUMPAD_NINE)||((f==rdx.keycodes.SHIFTCOLON||f==rdx.keycodes.COLON||f==rdx.keycodes.A||f==rdx.keycodes.B||f==rdx.keycodes.C||f==rdx.keycodes.D||f==rdx.keycodes.E||f==rdx.keycodes.F)&&d.shiftKey)||(f==rdx.keycodes.RIGHT_ARROW&&d.shiftKey)||(f==rdx.keycodes.LEFT_ARROW&&d.shiftKey)||(e&&(f==rdx.keycodes.A||f==rdx.keycodes.C||f==rdx.keycodes.V||f==rdx.keycodes.X))||f==rdx.keycodes.TAB||(this._properties.prefix_length_required==true&&f==rdx.keycodes.FWDSLASH)){}else{if(f==rdx.keycodes.A||f==rdx.keycodes.C||f==rdx.keycodes.V||f==rdx.keycodes.X){}else{if(f==rdx.keycodes.EIGHT&&d.shiftKey){}else{if(f<rdx.keycodes.LEFTARROW||f>rdx.keycodes.F||d.shiftKey){d.preventDefault()}}}}}))};rdx.ipv4v6.prototype.get_element=function(){return this.ip_field.get_component()};rdx.ipv4v6.prototype.add_event_handler=function(d,c){this.ip_field.add_event_handler(d,c)};rdx.ipv4v6.prototype.set_data=function(h){this.ip_field.set_data(h);var e=this.ip_field.get_data();if(rdx.utils.is_defined(e)&&(rdx.utils.is_not_empty(e))&&(rdx.utils.is_ipv4(e))){this.get_component().trigger(rdx.events.FOCUS_OUT)}var f=this.get_component();if(rdx.utils.is_defined(f)&&f.length>0){if(rdx.utils.is_defined(f[0].scrollWidth)){var g=f.get(0).scrollWidth;if(f.get(0).clientWidth<g){f.width(g+5)}}else{f.attr({title:e})}}};rdx.ipv4v6.prototype.get_data=function(){return this.ip_field.get_data()};rdx.ipv4v6.prototype.is_ipv6=function(){var b=this.ip_field.get_data();return(rdx.utils.is_empty(b)||b.indexOf(".")>=0)?0:1};rdx.ipv4v6.prototype.get_dependency_determinant_value=function(b){if(b==rdx.form_constants.dependency_determinant.TYPE){if(this.is_ipv6()){return"IPv6"}else{return"IPv4"}}return null};rdx.ipv4v6.prototype.get_component_type=function(){return rdx.form_constants.IPV4V6};rdx.ipv4v6.prototype.get_field=function(){return this._field};rdx.ipv4v6.prototype.get_component=function(){return this.ip_field.get_component()};rdx.ipv4v6.prototype.toggle_read_only=function(b){this.ip_field.toggle_read_only(b)};rdx.dropdown_menu=function(c,d){this._parent=c;this._DEFAULT_PROPERTIES={change_handler_callback:null,mandatory:false,set_current:true,auto_complete:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d.get_properties());this._properties.mandatory=d.is_mandatory();this._list=null;this._html_list=null;this._added_blank_item=false;this._field=d;this._scroll_parent=null;this._width=d.get_width();this._drop_down_properties=new Object();this._list=rdx.dom_utils.get_element(rdx.form_constants.LIST).attr("size",2);this._event_to_callback_map=new Object()};rdx.dropdown_menu.prototype.render=function(){this._html_list=this._list[0];var d=$("<div>").addClass("options_container");d.append(this._list);d.css("width",this._width);this._parent.append(d);$(this._list.attr("id",new Date().getTime()+"_"+this.get_field().get_key()));this._scroll_parent=rdx.utils.is_defined(this._scroll_parent)?this._scroll_parent:rdx.page.get_content();this._dropdown_options={scrollBody:this._scroll_parent,set_current:this._properties.set_current,width:this._width};if(this._properties.auto_complete){this._dropdown_options.auto_complete=true}$(this._list).selectbox(this._dropdown_options);this._add_empty_item();this.add_data_items();if(this._properties.change_handler_callback){this._list.bind(rdx.events.CHANGE,{rdx_change_handler_callback:this._properties.change_handler_callback},function(b,a,f){b.data.rdx_change_handler_callback.call_back([b,a,f])});var c=this;if(rdx.utils.is_not_defined(this._dropdown_options.change_listener)){this._dropdown_options.change_listener=function(a,b){c._list.trigger(rdx.events.CHANGE,[a,b])}}}if(this._field.is_read_only()){this._list.attr("disabled","disabled");this._list.addClass("form_field_disabled")}return this};rdx.dropdown_menu.prototype.set_Scroll_parent=function(b){this._scroll_parent=b};rdx.dropdown_menu.prototype.add_event_handler=function(e,g){if(rdx.utils.is_not_defined(this._event_to_callback_map[e])){this._event_to_callback_map[e]=[];this._list.bind(e,{rdx_change_handler_callback:this._event_to_callback_map[e]},function(b,a,m){if(rdx.utils.is_defined(b.data.rdx_change_handler_callback)){var c=b.data.rdx_change_handler_callback;for(var d=0;d<c.length;d++){c[d].call_back([b,a,m])}}})}this._event_to_callback_map[e].push(g);var h=this;var f=e;if(rdx.utils.is_not_defined(this._dropdown_options.change_listener)&&e==rdx.events.CHANGE){this._dropdown_options.change_listener=function(a,b){h._list.trigger(rdx.events.CHANGE,[a,b])}}};rdx.dropdown_menu.prototype.remove_event_handler=function(d,f){if(rdx.utils.is_defined(this._event_to_callback_map[d])){var e=this._event_to_callback_map[d].indexOf(f);if(e>-1){this._event_to_callback_map[d].splice(e,1)}}};rdx.dropdown_menu.prototype.add_data_items=function(l,m){if(rdx.utils.is_not_defined(l)){this.remove_items(false,false);var n=this._field.get_formatter();if(rdx.utils.is_defined(n)){var h=n.get_map_keys();for(var o=0,g=h.length;o<g;o++){this.add_item(h[o],false)}}}else{for(var o=0,g=l.length;o<g;o++){this.add_item(l[o],false)}}if(rdx.utils.is_defined(this._dropdown_options.data_get_callback)){this._dropdown_options.data_get_callback.call(this._dropdown_options._this,this._dropdown_options._input.attr("id"),this._dropdown_options._table,this._dropdown_options._options,this._dropdown_options._data_container)}if(rdx.utils.is_not_defined(m)||m==false){this._list.change()}};rdx.dropdown_menu.prototype.add_items=function(f,e){for(var g=0,h=f.length;g<h;g++){this.add_item(f[g],false)}if(e){this._list.change()}};rdx.dropdown_menu.prototype.add_item=function(c,d){this._list.append($(document.createElement("option")).text(rdx.i18n.get_string(c)).attr("title",rdx.i18n.get_string(c)));if(d){this._list.change()}};rdx.dropdown_menu.prototype.select_item=function(d,e){var f=this.get_items_count();if(f==0){return}if(d<0||d>=f){d=0}this._html_list.options[d].selected=true;if(e){this._list.change()}};rdx.dropdown_menu.prototype.select_value=function(h,e){if(h==null){return}var g=this.get_items_count();if(g==0){return}for(var f=0;f<g;f++){if(this._html_list.options[f].text==h){this._html_list.options[f].selected=true;this._html_list.selectedIndex=f;if(rdx.utils.is_not_defined(e)||e==false){this._list.change()}break}}};rdx.dropdown_menu.prototype.unselect_all_items=function(){this._html_list.selectedIndex=-1;this._list.change()};rdx.dropdown_menu.prototype.remove_items=function(c,d){if(!c){this._html_list.selectedIndex=-1;if(this._added_blank_item){this._html_list.options.length=1}else{this._html_list.options.length=0}}else{if(this._added_blank_item&&this.get_selected_index()>1){this._html_list.remove(this.get_selected_index())}else{this._html_list.remove(this.get_selected_index())}}if(d){this._list.change()}};rdx.dropdown_menu.prototype.get_selected_index=function(){return this._html_list.selectedIndex};rdx.dropdown_menu.prototype.get_items_count=function(){return this._html_list.length};rdx.dropdown_menu.prototype.is_send_as_array=function(){return this._properties.send_as_array=="true"};rdx.dropdown_menu.prototype._add_empty_item=function(){if(this._properties.mandatory){return}if(!this._added_blank_item){this.add_item("",false);this._added_blank_item=true}};rdx.dropdown_menu.prototype.get_field=function(){return this._field};rdx.dropdown_menu.prototype.get_component=function(){return this._list};rdx.dropdown_menu.prototype.get_component_type=function(){return rdx.form_constants.LIST};rdx.dropdown_menu.prototype.set_data=function(b){this._dropdown_options._input.val(rdx.i18n.get_string(b))};rdx.dropdown_menu.prototype.get_data=function(b){return this._dropdown_options._input.val()};rdx.dropdown_menu.prototype.mask=function(){rdx.mask.mask_component(this._parent,this.get_field().get_key())};rdx.dropdown_menu.prototype.unmask=function(){return rdx.mask.unmask_component(this._parent,this.get_field().get_key())};rdx.dropdown_menu.prototype.toggle_read_only=function(b){if(b){$(this._list).removeAttr("disabled");this._list.removeClass("form_field_disabled")}else{$(this._list).attr("disabled","true");this._list.addClass("form_field_disabled")}this._dropdown_options.set_readonly(!b)};rdx.ip_v4_v6=function(e,d){this._parent=typeof(e)=="string"?$("#"+e):e;this._field=d;this._DEFAULT_PROPERTIES={disable_iptype_toggle:false};this._ipv4_col=$("<td>").css("padding","0px");this._ipv6_col=$("<td>").css("padding","0px");this._cb_col=$("<td>");this._label=$("<td>").append(rdx.i18n.get_string("rdx.ipv4v6_select"));var f=$("<tr>").append(this._ipv4_col).append(this._ipv6_col).append(this._cb_col).append(this._label);this._element=$("<table>").attr("border","0").attr("cellpadding","0").attr("cellspacing","0").addClass("ip_v4_v6_component");this._element.append(f);this._ipv4_component=new rdx.ip_v4(this._ipv4_col,d);this._ipv6_component=new rdx.ip_v6(this._ipv6_col,d);this._ip_selection_cb=new rdx.check_box(this._cb_col,d);this._properties=$.extend(true,this._DEFAULT_PROPERTIES,this._field.get_properties());this._set_properties()};rdx.ip_v4_v6.prototype.render=function(){this._ipv4_component.render();this._ipv6_component.render();this._ip_selection_cb.render();this._parent.append(this._element);this._ipv6_component.toggle_show_hide(false,this._ipv6_col);this._ip_selection_cb.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(c,d){if(d._ip_selection_cb.get_data()){d._ipv4_component.get_component().removeClass("error_text");d._ipv6_component.toggle_show_hide(true,d._ipv6_col);d._ipv4_component.toggle_show_hide(false,d._ipv4_col)}else{d._ipv4_component.get_component().removeClass("error_text");d._ipv6_component.toggle_show_hide(false,d._ipv6_col);d._ipv4_component.toggle_show_hide(true,d._ipv4_col)}$(d._parent).find(".rdx_error_container").addClass("hide")},[this]));return this};rdx.ip_v4_v6.prototype._set_properties=function(){if(this._field.is_read_only()){this._cb_col.hide();this._label.hide()}};rdx.ip_v4_v6.prototype.get_element=function(){if(this._ip_selection_cb.get_data()){return this._ipv6_component.get_component()}else{return this._ipv4_component.get_component()}};rdx.ip_v4_v6.prototype.add_event_handler=function(d,c){this._ipv4_component.add_event_handler(d,c);this._ipv6_component.add_event_handler(d,c);this._ip_selection_cb.add_event_handler(d,c)};rdx.ip_v4_v6.prototype.set_data=function(c){var d=rdx.utils.is_ipv6(c);if(d){this._ipv6_component.set_data(c);if(!(this._ip_selection_cb.get_data())){this._ip_selection_cb.set_data("true")}}else{this._ipv4_component.set_data(c);if(this._ip_selection_cb.get_data()){this._ip_selection_cb.set_data("false")}}if(this._properties.disable_iptype_toggle==true){this._ip_selection_cb.toggle_read_only(false)}};rdx.ip_v4_v6.prototype.get_data=function(){if(this._ip_selection_cb.get_data()){return this._ipv6_component.get_data()}else{return this._ipv4_component.get_data()}};rdx.ip_v4_v6.prototype.is_ipv6=function(){return this._ip_selection_cb.get_data()};rdx.ip_v4_v6.prototype.get_dependency_determinant_value=function(b){if(b==rdx.form_constants.dependency_determinant.TYPE){if(this.is_ipv6()){return"IPv6"}else{return"IPv4"}}return null};rdx.ip_v4_v6.prototype.get_component_type=function(){return rdx.form_constants.IPV4V6};rdx.ip_v4_v6.prototype.get_field=function(){return this._field};rdx.ip_v4_v6.prototype.get_component=function(){return this._element};rdx.ip_v4_v6.prototype.toggle_read_only=function(b){if(b){this._cb_col.show();this._label.show()}else{this._cb_col.hide();this._label.hide()}this._ipv4_component.toggle_read_only(b);this._ipv6_component.toggle_read_only(b);this._ip_selection_cb.toggle_read_only(b)};rdx.table_component=function(q,t){this._parent=typeof(q)=="string"?$("#"+q):q;this._field=t;this._properties=this._field._properties;this._element=$(document.createElement("div")).addClass("table_form_parent_div").addClass("smooth_all_corner");var s=[];var u=false;for(var p in this._properties.columns){var w=$.extend({},this._properties.columns[p]);s.push(new rdx.table_column(w))}this._DEFAULT_PROPERTIES={class_names:"table table_component",scrollable_header:true,params:null,add_row_click_handler_callback:null,edit_row_click_handler_callback:null,row_primary_keys:[],enable_remove_row:false};var y=$.extend(true,{},this._DEFAULT_PROPERTIES,this._properties.properties);if(y.details){y.details_renderer_callback=new rdx.callback(this,this._details_renderer)}this._table=new rdx.table(this._element,s,y);if(rdx.utils.is_defined(this._properties.add_row_click_handler_callback)){var x=$("<div>");x.addClass("rdx_top_panel");var v=$("<div>").addClass("rdx_title_panel");v.append(rdx.i18n.get_string(this._properties.title));var z=$("<span>").addClass("op_wizard_link_panel op_wizard_view_link");z.bind(rdx.events.CLICK,{wizard:this},function(b){var c=b.data.wizard;var a=new rdx.callback_params({return_callback:new rdx.callback(c,c._handle_row_update)});c._properties.add_row_click_handler_callback.call_back([a])});x.append(z);x.append(v)}if(rdx.utils.is_defined(this._properties.edit_row_click_handler_callback)){var o=new rdx.callback(function(c,d,b){var a=new rdx.callback_params({return_callback:new rdx.callback(d,d._handle_row_update)});b.call_back([c,a])},[this,this._properties.edit_row_click_handler_callback]);this._table.set_row_click_handler_callback(o)}if(this._properties.enable_remove_row===true){this._table.set_row_remove_click_handler_callback(new rdx.callback(function(a,b){b._table.delete_item(rdx.utils.get_formatted_response(a),b._properties.row_primary_keys)},[this]))}this._element.append(x);this._table.render();this._set_properties()};rdx.table_component.prototype._handle_row_update=function(d){if(rdx.utils.is_not_defined(d)){return}var e=d.operation;if(e=="add"){this._table.add_items([d.data])}else{if(e=="set"){var f=this._table.check_if_data_exist(d.data,this._properties.row_primary_keys,false,true);if(f==true){this._table.update_item_data(d.data,this._properties.row_primary_keys,false,true)}}}};rdx.table_component.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._parent,this._field)};rdx.table_component.prototype.render=function(){this._parent.append(this._element);return this};rdx.table_component.prototype.add_event_handler=function(d,c){};rdx.table_component.prototype.set_data=function(b){if(rdx.utils.is_not_defined(b)){return false}this._table.add_items(b,null,true);return true};rdx.table_component.prototype.get_data=function(){return this._table.get_rows_data()};rdx.table_component.prototype.get_component_type=function(){return rdx.form_constants.TABLE};rdx.table_component.prototype.get_field=function(){return this._field};rdx.table_component.prototype.get_component=function(){return this._table_element};rdx.password=function(d,c){this._parent=typeof(d)=="string"?$("#"+d):d;this._field=c;this._element=rdx.dom_utils.get_element(rdx.form_constants.PASSWORD);this._set_properties()};rdx.password.prototype.render=function(){this._parent.append(this._element);return this};rdx.password.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._element,this._field);if(this._field.is_read_only()){this._element.addClass("form_field_disabled")}};rdx.password.prototype.add_event_handler=function(d,c){this._element.bind(d,{ns_callback:c},function(a){a.data.ns_callback.call_back([a])})};rdx.password.prototype.set_data=function(b){return this._element.val(b)};rdx.password.prototype.get_data=function(){return this._element.val()};rdx.password.prototype.get_component_type=function(){return rdx.form_constants.PASSWORD};rdx.password.prototype.get_field=function(){return this._field};rdx.password.prototype.get_component=function(){return this._element};rdx.radio_group=function(c,d){this._parent=typeof(c)=="string"?$("#"+c):c;this._DEFAULT_PROPERTIES={add_border:false,class_names:"radio_group",render_mode:"column",sub_text:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d.get_properties());this._field=d;this._radio_group_container=null;this._radio_button_elements=new Array();this._prev_button_cell=null;this._prev_text_cell=null;this._create_radio_group()};rdx.radio_group.prototype._create_radio_group=function(){var K=this._field.get_key();var G=[];var x=[];var M=[];var y=this._field.get_formatter();if(rdx.utils.is_defined(y)){x=y.get_map_keys();G=y.get_map_keys();M=y.get_map_values()}this._radio_group_container=$("<table>").addClass(this._properties.class_names).attr("cellPadding",0).attr("cellSpacing",0);var H=$("<tr>");this._radio_group_container.append(H);for(var F=0;F<G.length;F++){var J=G[F];var C=$("<td>");var B=$("<input>").attr("type","radio").attr("name",K).attr("value",J);C.append(B);var w=$("<td>").addClass("label_cell");if(rdx.utils.is_defined(this._properties.sub_text,M)&&this._properties.render_mode==="row"&&rdx.utils.is_defined(this._properties.sub_text[M[F]])){var D=this._properties.sub_text[M[F]];C.attr("valign","top").addClass("rdx_radio_single_button");var L=$("<table>").attr("cellPadding",0).attr("cellSpacing",0).addClass("rdx_radio_label_container");var I=$("<td>").append(x[F]);L.append($("<tr>").append(C).append(I));var E=$("<div>").addClass("rdx_radio_subtext");if(this._properties.add_border==true){L.addClass("rdx_border rdx_radio_grouping_with_border");C.addClass("rdx_background");E.addClass("rdx_background");I.addClass("rdx_background rdx_radio_text_cell")}if(rdx.utils.is_object(D)&&!rdx.utils.is_string(D)){var z=this._properties.add_border==true?"rdx_radio_group_title":"";E.append($("<div>").addClass(z).append($("<div>").addClass("radio_desc").append(rdx.i18n.get_string(D.text)))).append(D.renderer_callback.call_back([D]))}else{E.append(rdx.i18n.get_string(D))}var A=$("<tr>").append($("<td>").attr("colspan",2).append(E));L.append(A);var N=$("<td>").addClass("rdx_radio_container").append(L);H.append(N);if(F==G.length-1){N.addClass("rdx_radio_last_container")}}else{H.append(C);w.append(x[F]);H.append(w)}this._radio_button_elements.push(B);B.bind(rdx.events.CHANGE,{radio_group:this,button_cell:C,text_cell:w},function(a){a.data.radio_group._set_current(a.data.button_cell,a.data.text_cell)});if(F==0){B.attr("checked",true);C.addClass("current_button");w.addClass("current_text");this._prev_button_cell=C;this._prev_text_cell=w}if(this._properties.render_mode=="row"){H=$("<tr>");this._radio_group_container.append(H)}}this._set_properties()};rdx.radio_group.prototype._set_current=function(c,d){if(rdx.utils.is_defined(this._prev_button_cell,this._prev_text_cell)){this._prev_button_cell.removeClass("current_button");this._prev_text_cell.removeClass("current_text")}c.addClass("current_button");d.addClass("current_text");this._prev_button_cell=c;this._prev_text_cell=d};rdx.radio_group.prototype.render=function(){this._parent.append(this._radio_group_container);return this};rdx.radio_group.prototype.get_data=function(){for(var c=0;c<this._radio_button_elements.length;c++){var d=this._radio_button_elements[c];if(d.attr("checked")){return d.val()}}return null};rdx.radio_group.prototype.set_data=function(f){for(var d=0;d<this._radio_button_elements.length;d++){var e=this._radio_button_elements[d];if(f==e.val()){e.attr("checked",true);e.trigger(rdx.events.CHANGE)}}};rdx.radio_group.prototype._set_properties=function(){for(var c=0;c<this._radio_button_elements.length;c++){var d=this._radio_button_elements[c];if(this._field.is_read_only()){d.attr("disabled","disabled")}}};rdx.radio_group.prototype.add_event_handler=function(h,g){for(var e=0;e<this._radio_button_elements.length;e++){var f=this._radio_button_elements[e];f.bind(h,{ns_callback:g},function(a){a.data.ns_callback.call_back([a])})}};rdx.radio_group.prototype.get_component_type=function(){return rdx.form_constants.RADIO_GROUP};rdx.radio_group.prototype.get_field=function(){return this._field};rdx.radio_group.prototype.get_component=function(){for(var c=0;c<this._radio_button_elements.length;c++){var d=this._radio_button_elements[c];if(d.attr("checked")){return d}}return null};rdx.radio_group.prototype.toggle_read_only=function(f){for(var d=0;d<this._radio_button_elements.length;d++){var e=this._radio_button_elements[d];if(f){e.removeAttr("disabled");e.removeClass("form_field_disabled")}else{e.attr("disabled",true);e.addClass("form_field_disabled")}}};rdx.text_area=function(d,c){this._parent=typeof(d)=="string"?$("#"+d):d;this._DEFAULT_PROPERTIES={download_content_link:null,spellcheck:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,c.get_properties());this._field=c;this._element=null;this._text_area=rdx.dom_utils.get_element(rdx.form_constants.TEXT_AREA);this._text_area.attr("spellcheck",this._properties.spellcheck);this._set_properties();this._view_link_map={}};rdx.text_area.prototype.render=function(){var f=this._field.get_watermark();if(rdx.utils.is_not_empty(f)){this._text_area.addClass("rdx_watermark");this._text_area.attr("placeholder",f)}if(this._field.get_download_content_url().length>0){var h={url:this._field.get_download_content_url(),filename:this._field.get_download_content_file_name()};var e=rdx.form_utils.add_save_as_link(this._text_area,this._parent,h);this._element=e}else{this._element=this._text_area;if(rdx.utils.is_defined(this._field.get_add_link())){var g=rdx.form_utils.add_form_field_link(this,this._element,this._field,this._view_link_map,this._field.get_add_link());this._parent.append(g)}else{this._parent.append(this._element)}}return this};rdx.text_area.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._parent,this._field);rdx.form_utils.set_basic_field_attributes(this._text_area,this._field);if(this._field.is_read_only()){this._text_area.attr("readonly","true");this._text_area.addClass("form_field_disabled")}};rdx.text_area.prototype.add_event_handler=function(d,c){this._text_area.bind(d,{ns_callback:c},function(a){a.data.ns_callback.call_back([a])})};rdx.text_area.prototype.set_data=function(b){return this._text_area.val(b)};rdx.text_area.prototype.get_data=function(){return $.trim(this._text_area.val())};rdx.text_area.prototype.get_component_type=function(){return rdx.form_constants.TEXT_AREA};rdx.text_area.prototype.get_field=function(){return this._field};rdx.text_area.prototype.get_component=function(){return this._element};rdx.text_area.prototype.toggle_read_only=function(b){if(b){this._text_area.removeAttr("readonly");this._text_area.removeClass("form_field_disabled")}else{this._text_area.attr("readonly","true");this._text_area.addClass("form_field_disabled")}};rdx.text_area.prototype.toggle_show_hide=function(d,c){if(rdx.utils.is_not_defined(c)){c=this._element}if(d){c.show()}else{c.hide()}};rdx.text_area.prototype.get_selected_text=function(){var g=this._text_area[0];var l={};if(document.selection!=undefined){g.focus();var m=document.selection.createRange();var h=m.duplicate();h.moveToElementText(g);h.setEndPoint("EndToEnd",m);var o=h.text.length-m.text.length;var n=o+m.text.length;l.start_position=o;l.end_position=n;l.selected_text=m.text}else{if(rdx.utils.is_defined(g.selectionStart)){var o=g.selectionStart;var n=g.selectionEnd;l.start_position=o;l.end_position=n;l.selected_text=g.value.substring(o,n)}}return l};rdx.text_area.prototype.set_watermark=function(b){if(rdx.utils.is_not_defined(b)){return}this._text_area.attr("placeholder",b)};rdx.spinner_component=function(d,c){this._parent=d;this._field=c;this._DEFAULT_PROPERTIES={max:10,min:1,start_value:null,drop_down_added:false,increment:1,decrement:1};this._properties=$.extend({},this._DEFAULT_PROPERTIES,c._properties)};rdx.spinner_component.prototype.render=function(){this._create_spinner_component();this._attach_event_listners();return this};rdx.spinner_component.prototype._create_spinner_component=function(){this._wrapper_for_spinner=$("<div>").addClass("wrapper_for_spinner");this._spinner_input=$("<input>").val(parseFloat(this._properties.start_value)||parseFloat(this._properties.min)).addClass("spinner_input");this._wrapper_for_spinner.append(this._spinner_input);var o=$("<div>").addClass("button_wrapper");this._spinner_down_arrow=$("<span>").addClass("down_button");this._spinner_up_arrow=$("<span>").addClass("up_button");o.append(this._spinner_up_arrow).append(this._spinner_down_arrow);this._wrapper_for_spinner.append(o);if(rdx.utils.is_defined(this._properties.spinner_settings)){var t=this._properties.spinner_settings[this._properties.title];if(rdx.utils.is_defined(t)){if(rdx.utils.is_defined(t.increment)&&t.increment!=1){this._properties.increment=t.increment;this._properties.decrement=t.increment}if(rdx.utils.is_defined(t.units)&&t.units.length>1){var l={properties:{multi_select:false,size:1,mandatory:true}};var s=new rdx.form_field(l);var n=new rdx.list(this._wrapper_for_spinner,s);n.render();n.add_data_items(t.units);var p=$(n._list[0]);var q=this;p.bind(rdx.events.CHANGE,function(a){if(rdx.utils.is_defined(t.units)){for(var b=0;b<t.units.length;b++){if(t.units[b]==p.val()){q._properties.max=parseFloat(q._properties.max)*parseFloat(t.conversion[b])}if(p.val()==t.units[0]){q._properties.max=q._dummy_buffer;q._spinner_input.val(parseFloat(q._properties.start_value))}}}})}else{var m=$("<label>").addClass("unit_label").text(t.units[0]);this._wrapper_for_spinner.append(m)}}}this._dummy_buffer=parseFloat(this._properties.max);this._parent.append(this._wrapper_for_spinner)};rdx.spinner_component.prototype._attach_event_listners=function(){if(rdx.utils.is_defined(this._properties.max)&&typeof(this._properties.max)=="string"&&this._properties.max.indexOf(",")>-1){this._properties.max=this._properties.max.replace(",","")}if(rdx.utils.is_defined(this._properties.spinner_settings)){if(rdx.utils.is_defined(this._properties.spinner_settings[this._properties.title])&&rdx.utils.is_defined(this._properties.spinner_settings[this._properties.title].default_unit)){if(rdx.utils.is_defined(this._properties.max)){var e=this._properties.max.split(" ");if(e[1]!=this._properties.spinner_settings[this._properties.title].default_unit){var f=e[1];this._properties.max=parseFloat(e[0])*parseFloat(this._properties.spinner_settings[this._properties.title].unit_conversions[f])}}}}var d=this;this._spinner_down_arrow.bind(rdx.events.CLICK,function(c){c.stopPropagation();if(d._spinner_input.val()==""){d._spinner_input.val(parseFloat(d._properties.start_value)||parseFloat(this._properties.min))}else{var a=parseFloat(d._spinner_input.val());if(a==parseFloat(d._properties.min)){a=a}else{if(a%d._properties.decrement){var b=(a%d._properties.decrement);a=a-b}else{a=a-d._properties.decrement}}if(a<0){a=0}d._spinner_input.val(a)}});this._spinner_up_arrow.bind(rdx.events.CLICK,function(b){b.stopPropagation();if(d._spinner_input.val()==""){d._spinner_input.val(parseFloat(d._properties.start_value)||parseFloat(this._properties.min))}else{var a=parseFloat(d._spinner_input.val());if(a==parseFloat(d._properties.max)){a=a}else{if(a%d._properties.increment){var c=(d._properties.increment-a%d._properties.increment);a=a+c}else{a=a+d._properties.increment}}if(a<0){a=0}d._spinner_input.val(a)}});this._spinner_input.bind(rdx.events.KEY_PRESS,function(b){var a=b||window.event;var h=a.keyCode||a.which;h=String.fromCharCode(h);var c=/^[0-9]*\.?[0-9]*$/;if(!c.test(h)){a.returnValue=false;if(a.preventDefault){a.preventDefault()}}});this._spinner_input.bind(rdx.events.KEYUP,function(c){var a=d._spinner_input.val();var h=parseFloat(d._properties.max);if(!(isNaN(h))){if(parseFloat(a)>h){var b=a.substring(0,a.length-1);if(a.length==1){b=parseFloat(d._properties.start_value)||parseFloat(this._properties.min)}d._spinner_input.val(parseFloat(b))}}})};rdx.spinner_component.prototype.get_component=function(){return this._spinner_input};rdx.spinner_component.prototype.get_component_type=function(){return rdx.form_constants.SPINNER};rdx.spinner_component.prototype.get_field=function(){return this._field};rdx.spinner_component.prototype.set_data=function(b){this._spinner_input.val(b)};rdx.spinner_component.prototype.get_data=function(){return parseFloat(this._spinner_input.val())};rdx.spinner_component.prototype.add_event_handler=function(d,c){};rdx.text_box=function(d,c){this._parent=typeof(d)=="string"?$("#"+d):d;this._DEFAULT_PROPERTIES={trim_data:true};this._properties=$.extend({},this._DEFAULT_PROPERTIES,c.get_properties());this._field=c;this._element=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX);this._set_properties();this._data=null;this._view_link_map={}};rdx.text_box.prototype.render=function(){var d=this._field.get_watermark();if(rdx.utils.is_not_empty(d)){this._element.addClass("rdx_watermark");this._element.attr("placeholder",d)}if((rdx.utils.is_defined(this._field.get_add_view_name())||rdx.utils.is_defined(this._field.get_set_view_name())||rdx.utils.is_defined(this._field.get_view_view_name()))){var c=rdx.form_utils.add_form_field_link(this,this._element,this._field,this._view_link_map);this._parent.append(c)}else{this._parent.append(this._element)}return this};rdx.text_box.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._parent,this._field);rdx.form_utils.set_basic_field_attributes(this._element,this._field);if(this._field.is_read_only()){this._element.attr("readonly","true");this._element.addClass("form_field_disabled");this._element.bind(rdx.events.KEYDOWN,null,this._prevent_default)}};rdx.text_box.prototype._prevent_default=function(b){if(b.keyCode==rdx.keycodes.BACKSPACE){b.preventDefault()}};rdx.text_box.prototype.add_event_handler=function(d,c){this._element.bind(d,{ns_callback:c},function(a){a.data.ns_callback.call_back([a])})};rdx.text_box.prototype.set_data=function(b){return this._element.val(b)};rdx.text_box.prototype.get_data=function(){if(this._properties.trim_data==true||this._properties.trim_data=="true"){return $.trim(this._element.val())}else{return this._element.val()}};rdx.text_box.prototype.get_component_type=function(){return rdx.form_constants.TEXT_BOX};rdx.text_box.prototype.get_field=function(){return this._field};rdx.text_box.prototype.get_component=function(){return this._element};rdx.text_box.prototype.toggle_read_only=function(b){if(b){this._element.removeAttr("readonly");this._element.removeClass("form_field_disabled");this._element.unbind(rdx.events.KEYDOWN,this._prevent_default)}else{this._element.attr("readonly","true");this._element.addClass("form_field_disabled");this._element.bind(rdx.events.KEYDOWN,null,this._prevent_default)}};rdx.text_box.prototype.toggle_show_hide=function(d,c){if(rdx.utils.is_not_defined(c)){c=this._element}if(d){c.show()}else{c.hide()}};rdx.text_box.prototype.set_watermark=function(b){if(rdx.utils.is_not_defined(b)){return}this._element.attr("placeholder",b)};rdx.text_box.prototype.get_parent=function(){return this._parent};rdx.ip_textfield=function(d,c){this._parent=typeof(d)=="string"?$("#"+d):d;this._DEFAULT_PROPERTIES={trim_data:true};this._properties=$.extend({},this._DEFAULT_PROPERTIES,c.get_properties());this._field=c;this._element=rdx.dom_utils.get_element(rdx.form_constants.IP_TEXTFIELD);this._set_properties();this._data=null;this._view_link_map={}};rdx.ip_textfield.prototype.render=function(){this._register_key_listners();var d=this._field.get_watermark();if(rdx.utils.is_not_empty(d)){this._element.addClass("rdx_watermark");this._element.attr("placeholder",d)}if((rdx.utils.is_defined(this._field.get_add_view_name())||rdx.utils.is_defined(this._field.get_set_view_name())||rdx.utils.is_defined(this._field.get_view_view_name()))){var c=rdx.form_utils.add_form_field_link(this,this._element,this._field,this._view_link_map);this._parent.append(c)}else{this._parent.append(this._element)}return this};rdx.ip_textfield.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._parent,this._field);rdx.form_utils.set_basic_field_attributes(this._element,this._field);if(this._field.is_read_only()){this._element.attr("readonly","true");this._element.addClass("form_field_disabled");this._element.removeAttr("contenteditable");this._element.bind(rdx.events.KEYDOWN,null,this._prevent_default)}};rdx.ip_textfield.prototype._prevent_default=function(b){if(b.keyCode==rdx.keycodes.BACKSPACE){b.preventDefault()}};rdx.ip_textfield.prototype.add_event_handler=function(d,c){this._element.bind(d,{ns_callback:c},function(a){a.data.ns_callback.call_back([a])})};rdx.ip_textfield.prototype._add_padding_for_ipv4_address=function(){var l=this._element.text();var g=l.split(".");var m="";if(g.length>=1){for(var f=0;f<g.length;f++){g[f]=rdx.utils.trim(g[f]);var h=g[f]+((f<(g.length-1))?($("<span>").attr("class","ip_padding").html(".")).get(0).outerHTML:"");m=m+h}}return m};rdx.ip_textfield.prototype._remove_padding_for_ipv4_address=function(){var e=this._element.text().split(".");var f="";if(e.length>=1){for(var d=0;d<e.length;d++){e[d]=rdx.utils.trim(e[d])}f=e.join(".")}return f};rdx.ip_textfield.prototype.is_ipv6=function(){return(rdx.utils.is_empty(this.get_data())||this.get_data().indexOf(".")>=0)?0:1};rdx.ip_textfield.prototype._register_key_listners=function(){this.add_event_handler(rdx.events.FOCUS_OUT,new rdx.callback(this,function(d){if(rdx.utils.is_not_empty(this.get_data())&&!(this.is_ipv6())){var c=this._add_padding_for_ipv4_address();if(rdx.utils.is_not_empty(c)){this.set_data(c)}}}));this.add_event_handler(rdx.events.FOCUS_IN,new rdx.callback(this,function(g){if(!(this._field.is_read_only())&&rdx.utils.is_not_empty(this.get_data())&&!(this.is_ipv6())){var e=this._remove_padding_for_ipv4_address();if(rdx.utils.is_not_empty(e)){this.set_data(e)}}var f;var h;if(rdx.utils.is_defined(document.createRange)){f=document.createRange();f.selectNodeContents(this._element.get(0));f.collapse(false);h=window.getSelection();h.removeAllRanges();h.addRange(f)}else{if(rdx.utils.is_defined(document.selection)){f=document.body.createTextRange();f.moveToElementText(this._element.get(0));f.collapse(false);f.select()}}}))};rdx.ip_textfield.prototype.set_data=function(d){var c=this._element.html(d);if(this._element.attr("readonly")==true||this._element.attr("readonly")=="true"){this._element.removeAttr("contenteditable")}return c};rdx.ip_textfield.prototype.get_data=function(){if(this._properties.trim_data==true||this._properties.trim_data=="true"){return this.is_ipv6?$.trim(this._element.text()):$.trim(this._remove_padding_for_ipv4_address(this._element.text()))}else{return this.is_ipv6?this._element.text():this._remove_padding_for_ipv4_address(this._element.text())}};rdx.ip_textfield.prototype.get_component_type=function(){return rdx.form_constants.IP_TEXTFIELD};rdx.ip_textfield.prototype.get_field=function(){return this._field};rdx.ip_textfield.prototype.get_component=function(){return this._element};rdx.ip_textfield.prototype.toggle_read_only=function(b){if(b){this._element.removeAttr("readonly");this._element.removeClass("form_field_disabled");this._element.attr("contenteditable","true");this._element.unbind(rdx.events.KEYDOWN,this._prevent_default)}else{this._element.attr("readonly","true");this._element.removeAttr("contenteditable");this._element.addClass("form_field_disabled");this._element.bind(rdx.events.KEYDOWN,null,this._prevent_default)}};rdx.ip_textfield.prototype.toggle_show_hide=function(d,c){if(rdx.utils.is_not_defined(c)){c=this._element}if(d){c.show()}else{c.hide()}};rdx.ip_textfield.prototype.set_watermark=function(b){if(rdx.utils.is_not_defined(b)){return}this._element.attr("placeholder",b)};rdx.ip_textfield.prototype.get_parent=function(){return this._parent};rdx.link_component=function(d,c){this._parent=d;this._field=c;this._DEFAULT_PROPERTY={view:null,no_data_view:null,model_method:null,view_context:null,refresh_form:false,entity_type:null,title_renderer_callback:null};this._DEFAULT_PROPERTIES={mandatory:false,mandatory_error_message:null,use_slider:true,title:null,show_none:true,none_view:null,links:[],type:rdx.OR};this._none_container=null;this._links_list=[];this._properties=$.extend(true,this._DEFAULT_PROPERTIES,c.get_properties());this._resource_data=null;this._total_count=0;this._total_requests=this._properties.links.length;this._mask_id=rdx.mask.get_id();this._section_info_list=[];this._last_link_index=null};rdx.link_component.prototype.render=function(){this._link_container=$("<div>");this._none_container=$("<div>").addClass("rdx_form_link rdx_form_none_link rdx_form_no_border");var o=rdx.dom_utils.get_element(rdx.form_constants.LINK).append(rdx.i18n.get_string("rdx.link_select_msg"));this._link_container.append(this._none_container.append(o));this._none_container.hide();if(this._properties.show_none===true){this._none_container.show();this._none_container.bind(rdx.events.CLICK,{link_component:this},function(a){var b=a.data.link_component;if(rdx.utils.is_not_defined(b._properties.none_view)){return}rdx.view_utils.show_view_in_slider(rdx.utils.get_view(b._properties.none_view),new rdx.callback(b,b.refresh),b._resource_data)})}for(var m=0;m<this._properties.sections.length;m++){var l=this._properties.sections[m];var n=null;if(rdx.utils.is_defined(l.title)){n=$("<div>").addClass("rdx_form_title");n.append(rdx.i18n.get_string(l.title));n.hide();this._link_container.append(n)}this._section_info_list[m]={title_container:n,links:l.links,total_requests:l.links.length,total_count:0};for(var h=0;h<l.links.length;h++){var g=$("<div>").addClass("rdx_form_link");var o=rdx.dom_utils.get_element(rdx.form_constants.LINK);this._link_container.append(g.append(o));if(this._properties.show_none==true){g.hide()}else{g.addClass("show_none_link")}this._links_list.push({container:g,element:o,link_property:l.links[h],section_ind:m})}}this._parent.addClass("no_padding_field");this._parent.append(this._link_container);return this};rdx.link_component.prototype.add_event_handler=function(d,c){};rdx.link_component.prototype.validate=function(){if(this._field.is_hidden()==true||this._field.is_read_only()){return null}if(this._properties.mandatory==true&&this._total_count==0&&rdx.utils.is_defined(this._properties.mandatory_error_message)){return rdx.i18n.get_string(this._properties.mandatory_error_message)}return null};rdx.link_component.prototype.set_data=function(c,d){this._resource_data=d;this._set_properties();this.refresh()};rdx.link_component.prototype._set_properties=function(){for(var b=0;b<this._links_list.length;b++){this._links_list[b]["container"].bind(rdx.events.CLICK,{link_component:this,link_property:this._links_list[b]["link_property"]},function(x){var t=x.data.link_component;var p=t._properties;var a=x.data.link_property;if(rdx.utils.is_defined(a.view)){var v=new rdx.context();var q=a.view_context;v.set_context_data(t._resource_data,q);var o=v.get_url_params();if(rdx.utils.is_defined(a.entity_type)&&rdx.utils.is_array(a.entity_type)){var w=new rdx.model_executor_service(new rdx.callback(t.get_view_for_multiple_entity,[t,a]),null,true);for(var s=0;s<a.entity_type.length;s++){w.add(rdx.model_constants.GET_COUNT,rdx.utils.get_resource(a.entity_type[s]),null,null,o,this._parent)}w.execute()}else{var u=a.resource_defn||rdx.utils.get_resource(a.entity_type);rdx.model.get_count(u,v.get_url_params(),new rdx.callback(t._get_slider_view,[t,a]))}}})}};rdx.link_component.prototype.get_view_for_multiple_entity=function(f,h,e){var g=h.get_max_count_and_corresponding_resource(f);if(rdx.utils.is_object_not_empty(g)){h._get_slider_view(g.count,h,e)}};rdx.link_component.prototype._get_slider_view=function(h,m,f){var l=f.view;if(h==0&&rdx.utils.is_defined(f.no_data_view)){l=f.no_data_view}var g=rdx.utils.get_view(l);rdx.view_utils.show_view_in_slider(g,new rdx.callback(m,m.refresh),m._resource_data,m._field.get_view_context())};rdx.link_component.prototype.refresh=function(){rdx.mask.mask_component(this._link_container,"__link_container"+this._mask_id);this._total_requests=this._links_list.length;this._total_count=0;for(var d=0;d<this._section_info_list.length;d++){this._section_info_list[d]["total_requests"]=this._section_info_list[d]["links"].length;this._section_info_list[d]["total_count"]=0;if(this._properties.show_none==true&&rdx.utils.is_defined(this._section_info_list[d]["title_container"])){this._section_info_list[d]["title_container"].hide()}}this._last_link_index=null;for(var c=0;c<this._links_list.length;c++){this._refresh(c)}};rdx.link_component.prototype._refresh=function(v){var n=this._links_list[v]["link_property"];if(rdx.utils.is_not_defined(n.entity_type)){return}var t=this._links_list[v]["element"];var p=new rdx.callback(this,this._get_binded_resource_count,[u,v,this._links_list[v]["section_ind"]]);var q=new rdx.callback(function(d,c,a,b,e){c._get_entity_count_response_arrived(0,a,b,e)},[this,u,v,this._links_list[v]["section_ind"]]);if(rdx.utils.is_defined(n.entity_type)&&rdx.utils.is_array(n.entity_type)){var x=new rdx.model_executor_service(p,q,true);for(var s=0;s<n.entity_type.length;s++){var u=rdx.utils.get_resource(n.entity_type[s]);var o=null;if(rdx.utils.is_defined(n.view_context)){var w=new rdx.context(n.view_context);w.set_context_data(this._resource_data);o=w.get_url_params()}x.add(rdx.model_constants.GET_COUNT,rdx.utils.get_resource(n.entity_type[s]),null,null,o,this._parent)}x.execute()}else{var u=n.resource_defn||rdx.utils.get_resource(n.entity_type);var p=new rdx.callback(this,this._get_entity_count_response_arrived,[u,v,this._links_list[v]["section_ind"]]);var q=new rdx.callback(function(d,c,a,b,e){c._get_entity_count_response_arrived(0,a,b,e)},[this,u,v,this._links_list[v]["section_ind"]]);var o=null;if(rdx.utils.is_defined(n.view_context)){var w=new rdx.context(n.view_context);w.set_context_data(this._resource_data);o=w.get_url_params()}rdx.model.get_count(u,o,p,this._parent,q)}};rdx.link_component.prototype.get_max_count_and_corresponding_resource=function(s){var t=s.get_collated_response();var n=s.get_collated_resource();var m=s.get_collated_result();var o={};if(rdx.utils.is_defined(t)&&this._properties.type==rdx.OR){var p=0,q=null;for(var l=0;l<t.length;l++){if(rdx.utils.is_defined(t[l])&&t[l]>0){p=t[l];q=n[l];break}}o={count:p,resource:q}}return o};rdx.link_component.prototype._get_binded_resource_count=function(l,m,g,f){var h=this.get_max_count_and_corresponding_resource(l);if(rdx.utils.is_object_not_empty(h)){this._get_entity_count_response_arrived(h.count,h.resource,g,f)}};rdx.link_component.prototype._get_entity_count_response_arrived=function(D,E,G,V){this._total_requests=this._total_requests-1;this._total_count=this._total_count+D;this._section_info_list[V];this._section_info_list[V]["total_requests"]=this._section_info_list[V]["total_requests"]-1;this._section_info_list[V]["total_count"]=this._section_info_list[V]["total_count"]+D;var S=this._links_list[G]["element"];var J=this._links_list[G]["container"];var I=D;var U=this._links_list[G]["link_property"];var A=rdx.utils.is_defined(U.title)?rdx.i18n.get_string(U.title):rdx.i18n.get_string(E.obj_type);var L=S.html().match(/(?:<b>)?(.+?)(?:\<)/i);var Q=I;if(Q==0){Q="No"}if(isNaN(I)){Q=""}try{var T=parseInt(Q);if(T>1){var B=A;var R=B.charAt(B.length-1);var H=B.charAt(B.length-2);var M=["a","e","i","o","u"];if(R=="y"&&$.inArray(H,M)==-1){B=B.substring(0,B.length-1);B+="ies"}else{if(R=="x"){B+="es"}else{B+="s"}}A=B}}catch(P){}if(rdx.utils.is_defined(U.title_renderer_callback)){var C="";if(rdx.utils.is_defined(U.entity_type)&&rdx.utils.is_array(U.entity_type)){var K={count:I,title:rdx.utils.is_defined(E)?rdx.i18n.get_string(E.obj_type):""};C=U.title_renderer_callback.call_back([K])}else{C=U.title_renderer_callback.call_back([I])}S.html(C);if(rdx.utils.is_defined(rdx.get_test_framework)&&rdx.get_test_framework().is_test_mode){rdx.get_test_framework().op_view_links.push({clickable:S,title:C})}}else{S.html("<b>"+Q+"</b> "+A);var O=rdx.utils.is_defined(U.title)?rdx.i18n.get_string(U.title):rdx.i18n.get_string(E.obj_type);if(rdx.utils.is_defined(rdx.get_test_framework)&&rdx.get_test_framework().is_test_mode){rdx.get_test_framework().op_view_links.push({clickable:S,title:O})}}if(D>0){if(this._properties.show_none==true&&rdx.utils.is_defined(this._section_info_list[V]["title_container"])){this._section_info_list[V]["title_container"].show()}J.show();if(rdx.utils.is_defined(this._none_container)){this._none_container.hide()}rdx.mask.unmask_component(this._link_container,"__link_container"+this._mask_id);if(this._properties.show_none==true){this._check_for_last_index_page(G)}}else{if(this._properties.show_none==true){J.hide()}}if(this._total_requests<=0&&rdx.utils.is_defined(this._none_container)){if(this._total_count==0){if(this._properties.show_none==true){this._none_container.show();for(var N=0;N<this._section_info_list.length;N++){if(rdx.utils.is_defined(this._section_info_list[N]["title_container"])){this._section_info_list[N]["title_container"].hide()}}}}else{if(rdx.utils.is_defined(this._last_link_index)){var F=this._links_list[this._last_link_index]["container"];F.addClass("rdx_remove_link_border")}}rdx.mask.unmask_component(this._link_container,"__link_container"+this._mask_id)}};rdx.link_component.prototype._check_for_last_index_page=function(b){if(rdx.utils.is_defined(this._last_link_index)){if(b>this._last_link_index){this._links_list[this._last_link_index]["container"].removeClass("rdx_remove_link_border");this._last_link_index=b}}else{this._last_link_index=b}};rdx.link_component.prototype.get_data=function(c,d){};rdx.link_component.prototype.get_component_type=function(){return rdx.form_constants.LINK};rdx.link_component.prototype.get_field=function(){return this._field};rdx.link_component.prototype.get_component=function(){return this._link_container};rdx.expression_editor=function(c,d){this._parent=c;this._field=d;this._DEFAULT_PROPERTIES={class_names:"expression_editor",prefix_combo_map:[],standalone_evaluator:false,render_textarea_in_evaluator:true,evaluate_action:false,details:null,evaluate_window_title:"rdx.expression_evaluate.title",is_epa:false,is_evaluate_required:true,is_variable_support_required:true,switch_link_required:false,close_builder_dialog_callback:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d.get_properties());this._properties.extension_support_required=rdx.EXTENSION_SUPPORT_IN_EXPRESSION_EDITOR;this.prefix_combo_map=rdx.utils.is_defined(d._properties.prefix_combo_map)?d._properties.prefix_combo_map:[];this._operations_to_exclude=rdx.utils.is_defined(d._properties.operations_to_exclude)?d._properties.operations_to_exclude:null;this._input_value=null;this._multi_exp_mode=false;this._dropdown_created=[];this._components_created=[];this._start_new_exp=true;this._multi_exp_mode_start_point=false;this._classic_expression_mode=false;this._classic_expression_editor_component=null;this._flowtype_selected=null;this._selected_class_order=[];this._expression_textarea_parent=$("<div>").addClass("expression_textbox");this.expression_editor_saved_expression={name:[],value:[]};this._nsvariables={ulong:[],text:[],map:[]};this._map_values={name:[],value:[]};this._PAT_SET_METHODS=["CONTAINS_ANY","ENDSWITH_ANY","EQUALS_ANY","CONTAINS_INDEX","STARTSWITH_INDEX","ENDSWITH_INDEX","EQUALS_INDEX","SUBSTR_ANY","AFTER_STR_ANY","BEFORE_STR_ANY"];this._DATA_SET_METHODS=["CONTAINS_ANY","STARTSWITH_ANY","ENDSWITH_ANY","EQUALS_ANY","CONTAINS_INDEX","STARTSWITH_INDEX","ENDSWITH_INDEX","EQUALS_INDEX","SUBSTR_ANY"];this._STRING_MAP_METHODS=["IS_STRINGMAP_KEY","MAP_STRING"];this._component=null;this._label_span=$("<span>").addClass("rdx_left");this._sub_dialog_opened=false;this._error_text_div=$("<div>").addClass("rdx_error_tooltip_dialogbox");this._error_label_parent=$("<div>").addClass("rdx_error_container").append($("<div>").addClass("rdx_icon_div")).append(this._error_text_div).addClass("hide");this._extended_functions={};this._extensionfunctionreturntype_map={NSTEXT:"text_t",NSBOOL:"bool_at",NSNUM:"num_at",NSDOUBLE:"double_at"}};rdx.expression_editor.prototype.render=function(){this._dropdown_created=[];var d=$("<div>").addClass("expression_builder_exp dangling_component");var e=$("<div>").addClass("expression_evaluate dangling_component");this.create_expression_textarea(this._expression_textarea_parent);this._pe_expression_builder_link_div=$("<a>").addClass("rdx_right pointer_cursor expression_eval_builder_link").append(rdx.i18n.get_string("rdx.expression_builder.title"));this._pe_expression_builder_link_div.bind(rdx.events.CLICK,{expression:this,expression_textarea:this._expression_textarea_parent},function(a){link_callback=function(b){var c=a.data.expression._expression_textarea.get_data();a.data.expression._expression_textarea.set_data(c+b);link_callback=null};rdx.applet_loader.launch_method(null,"ns.im.view.PEPolicyEditor","openExprDialog"," ,appContext,link_callback")});this._expression_builder_link_div=$("<a>").addClass("rdx_right pointer_cursor expression_eval_builder_link");if(this._properties.is_epa===true){d.append(this._pe_expression_builder_link_div);this._expression_builder_link_div.addClass("pe_expression_editor").append(rdx.i18n.get_string("rdx.epa_editor"))}else{this._expression_builder_link_div.append(rdx.i18n.get_string("rdx.expression_builder.title"))}d.append(this._label_span);d.append(this._expression_builder_link_div);this._expression_builder_link_div.bind(rdx.events.CLICK,{expression:this,expression_textarea:this._expression_textarea_parent},function(a){if(a.data.expression._expression_builder_link_div.hasClass("form_field_disabled")){return}if(rdx.utils.is_defined(a.which)&&a.which!=1){return}var b=$("<div>");a.data.expression.create_expression_builder(b,a.data.expression_textarea);if(!rdx.page.is_slider_visible()){slider_container=rdx.page.show_slider({});slider_container.show()}a.data.expression._expression_builder_link_div_container=rdx.page.get_slider_crumb().crumb.add_container(rdx.i18n.get_string("rdx.expression_builder.title"),b);b.parent().addClass("expression_builder_parent");a.data.expression.preview_expression_textarea_in_builder.set_data("")});this._evaluate_link_div=$("<a>").addClass("rdx_right pointer_cursor expression_eval_builder_link").append(rdx.i18n.get_string("rdx.expression_evaluator.title"));e.append(this._error_label_parent);e.append(this._evaluate_link_div);this._evaluate_link_div.bind(rdx.events.CLICK,{expression:this},function(a){if(a.data.expression._evaluate_link_div.hasClass("form_field_disabled")){return}if(rdx.utils.is_defined(a.which)&&a.which!=1){return}var b=$("<div>");a.data.expression.create_expression_evaluator(b);b.addClass("expression_evaluate_dialog");if(!rdx.page.is_slider_visible()){slider_container=rdx.page.show_slider({});slider_container.show()}a.data.expression._expression_evaluator_link_div_container=rdx.page.get_slider_crumb().crumb.add_container(rdx.i18n.get_string(a.data.expression._properties.evaluate_window_title),b);b.parent().addClass("expression_evaluate_parent");if(!a.data.expression._properties.standalone_evaluator){a.data.expression.preview_expression_textarea_in_evaluator.set_data(a.data.expression._expression_textarea_component.text())}});var f=$("<div>").addClass("expression_editor").append(d).append(this._expression_textarea_parent);if(this._properties.switch_link_required instanceof rdx.expression){this._properties.switch_link_required=this._properties.switch_link_required.evaluate()}if(this._properties.switch_link_required){this._switch_to_class_link_div=$("<a>").addClass("rdx_left pointer_cursor expression_eval_builder_link").text(rdx.i18n.get_string("Switch to Classic Syntax"));f.append(this._switch_to_class_link_div);this._switch_to_class_link_div.bind(rdx.events.CLICK,{expression:this},function(a){setTimeout(function(){if(a.data.expression._switch_to_class_link_div.hasClass("form_field_disabled")){return}if(rdx.utils.is_defined(a.data.expression._properties.classic_expression_editor)){a.data.expression._classic_expression_editor_component.find(".rdx_error_container").addClass("hide");a.data.expression._classic_expression_editor_component.find(".error_text").removeClass("error_text");a.data.expression._properties.classic_expression_editor.show();a.data.expression._properties.set_advanced_expression_mode.call_back([false])}else{a.data.expression._parent.find(".rdx_error_container").addClass("hide");a.data.expression._parent.find(".error_text").removeClass("error_text");a.data.expression._classic_expression_editor_component.get_component().show();a.data.expression._classic_expression_mode=true;a.data.expression._classic_expression_editor_component.get_component().addClass("component_alignment")}a.data.expression._classic_expression_editor_component.refresh_help_tip();a.data.expression.get_component().css("cssText","display: none !important");if(rdx.utils.is_defined(a.data.expression._properties.classic_expression_editor)){a.data.expression._properties.classic_expression_editor.change();a.data.expression._properties.classic_expression_editor.trigger(rdx.events.CHANGE)}else{a.data.expression._component.change();a.data.expression._component.trigger(rdx.events.CHANGE)}},210)})}if(this._properties.is_evaluate_required){f.append(e)}f.height(this._properties.height);if(rdx.utils.is_defined(this._parent)){this._parent.append(f)}else{this._parent=f}this._parent.append(this._error_label_parent);this._component=f;if(this._properties.switch_link_required&&this._parent.children().length<=2){if(rdx.utils.is_defined(this._properties.show_epa_editor)&&this._properties.show_epa_editor==true){this._classic_expression_editor_component=new rdx.classic_expression_editor(this._parent,new rdx.form_field({prefix_combo_map:["General","Client Security","Network Based","Date/Time","File System"],properties:{show_epa_editor:true,epa_prefix_combo_map:this._properties.epa_prefix_combo_map,switch_link_required:true,advance_expression_editor:this._component,set_classic_expression_mode:new rdx.callback(this,this.set_classic_expression_mode)}})).render()}else{this._classic_expression_editor_component=new rdx.classic_expression_editor(this._parent,new rdx.form_field({prefix_combo_map:["General","Client Security","Network Based","Date/Time","File System"],properties:{switch_link_required:true,advance_expression_editor:this._component,set_classic_expression_mode:new rdx.callback(this,this.set_classic_expression_mode)}})).render()}this._classic_expression_editor_component.toggle_show_hide(false)}if(this._field.is_read_only()){this.set_read_only()}return this};rdx.expression_editor.prototype.get_data=function(){if(this._classic_expression_mode===true){return this._classic_expression_editor_component.get_data()}else{return this._expression_textarea_component.text()}};rdx.expression_editor.prototype.set_data=function(b){if(typeof(b)=="object"){if(rdx.utils.is_defined(b.prefix_combo_map)){this._prefix_combo_map_overridden=b.prefix_combo_map}else{if(rdx.utils.is_defined(b.label)){this._label_span.text(rdx.i18n.get_string(b.label))}}}else{this._expression_textarea_component.text(b)}};rdx.expression_editor.prototype.get_component_type=function(){return rdx.form_constants.EXPRESSION_EDITOR};rdx.expression_editor.prototype.get_field=function(){return this._field};rdx.expression_editor.prototype.get_component=function(){return this._component};rdx.expression_editor.prototype.get_evaluate_link=function(){return this._evaluate_link_div};rdx.expression_editor.prototype.get_textarea=function(){return this._expression_textarea_parent};rdx.expression_editor.prototype.set_error_message=function(b){this._error_label_parent.removeClass("hide");this._error_text_div.text(b)};rdx.expression_editor.prototype.hide_error_message=function(){this._error_label_parent.addClass("hide");this._error_text_div.text("")};rdx.expression_editor.prototype.get_builder_link=function(){return this._expression_builder_link_div};rdx.expression_editor.prototype.add_event_handler=function(d,c){this._component.bind(d,{ns_callback:c},function(a){a.data.ns_callback.call_back([a])})};rdx.expression_editor.prototype.create_expression_builder=function(m,o){var l=$("<div>").addClass("expression_editor_title").append(rdx.i18n.get_string("rdx.preview_expression")).append($("<span>").addClass("rdx_readonly_message").append(rdx.i18n.get_string("rdx.readonly_message")));var h=$("<div>").addClass("expression_builder_box_div");this.preview_expression_textarea_in_builder=new rdx.text_area(h,new rdx.form_field({})).render();this.preview_expression_textarea_in_builder.get_component().attr("spellcheck",false).attr("disabled",true);var g=$("<div>").addClass("expression_editor_title").append(rdx.i18n.get_string("rdx.expression_builder.title"));this._box_expression_builder=$("<div>").addClass("expression_builder_box_div dangling_component");this._components_created=[];this._create_first_dropdown();if(this._properties.is_epa===true){this._current_help_icon_cell=$("<div>").addClass("expression_editor_help rdx_left").append($("<span>")).hide()}else{this._current_help_icon_cell=$("<div>").addClass("expression_editor_help rdx_left").append($("<span>"))}this._current_help_icon=new rdx.tooltip(this._current_help_icon_cell);var n=$("<div>").addClass("form_buttons");this._done_button=new rdx.button_bar(n,new rdx.form_field({properties:{add_blue_button:true,blue_button_label:rdx.i18n.get_string("rdx.done_button.label"),blue_button_click_handler_callback:new rdx.callback(this,this._handle_done_button_click,[m]),add_grey_button:true,grey_button_label:rdx.i18n.get_string("rdx.cancel_button.label"),grey_button_click_handler_callback:new rdx.callback(this,this._handle_cancel_button_click,[m])}})).render();this._exp_builder_box=$("<div>").addClass("expression_builder_div expression_builder_dialog").append(g).append(this._box_expression_builder).append(n);m.append(this._exp_builder_box);m.append($("<div>").addClass("expression_builder_div preview_expression").append(l).append(h))};rdx.expression_editor.prototype.create_expression_textarea=function(n){var m=$("<div>").addClass("title dangling_component");var h=$("<span>").addClass("rdx_left");var o=$("<span>").addClass("rdx_left saved_policy_exp");var l=$("<span>").addClass("rdx_left frequently_used_exp");m.append(h).append(o).append(l);this._cleartext_link=$("<span>").addClass("rdx_right").addClass("cleartext").attr("title",rdx.i18n.get_string("rdx.clear"));this._cleartext_link.bind(rdx.events.CLICK,{expression:this},function(a){if(a.data.expression._cleartext_link.hasClass("form_field_disabled")){return}a.data.expression._expression_textarea.set_data("");a.data.expression._multi_exp_mode=false;a.data.expression._start_new_exp=true});m.append(this._cleartext_link);this._operators=new rdx.expression_editor.custom_dropdown(h,new rdx.form_field({formatter:{map:[rdx.i18n.get_string("rdx.select"),"&&","||","!","+","-","*","/","%","^","<<",">>","&","|","~","+","ALT","==","!=","<","<=",">",">="]},mandatory:true,properties:{size:1,label:rdx.i18n.get_string("rdx.expression_editor.operators.label")}})).render();this._operators.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._add_operator_to_create_multi_expressions,[this._operators]));this._import_expressions=new rdx.expression_editor.custom_dropdown(o,new rdx.form_field({properties:{size:1,label:rdx.i18n.get_string("rdx.expression_editor.saved_policy_expression.label")},mandatory:true})).render();this._import_expressions.get_component().addClass("saved_policy_exp");this._import_expressions.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this.add_imported_expression_to_current_expression,[]));var g=new rdx.model_executor_service(new rdx.callback(this,this.get_all_saved_expressions));g.add("get",rdx.utils.get_resource("policyexpression"),null,null,null);g.add("get",rdx.utils.get_resource("nsvariable"),null,null,null);if(this._properties.is_epa==false&&this._properties.extension_support_required==true){g.add("get",rdx.utils.get_resource("nsextension"),null,null,{args:[{name:"detail",value:"all"}],is_query_param:true,use_args:true})}g.execute();this._frequently_used_expressions=new rdx.expression_editor.custom_dropdown(l,new rdx.form_field({formatter:{map:{Select:"",'HTTP.REQ.URL-Is a Pattern present in HTTP Request URL? [HTTP.REQ.URL.PATH_AND_QUERY.CONTAINS("")]':'HTTP.REQ.URL.PATH_AND_QUERY.CONTAINS("")','HTTP.REQ.URL-Compare HTTP URL suffix with a URL. [HTTP.REQ.URL.SUFFIX.EQ("")]':'HTTP.REQ.URL.SUFFIX.EQ("")','HTTP.REQ.HEADER-Does an HTTP Request Header exists? [HTTP.REQ.HEADER("").EXISTS]':'HTTP.REQ.HEADER("").EXISTS','HTTP.REQ.HEADER-Is a Pattern present in HTTP Request Header? [HTTP.REQ.HEADER("").CONTAINS("")]':'HTTP.REQ.HEADER("").CONTAINS("")',"HTTP.REQ.HOSTNAME-Obtain the HTTP Host Name object from this request. [HTTP.REQ.HOSTNAME]":"HTTP.REQ.HOSTNAME","HTTP.REQ.COOKIE-(Name/Value List) Returns the contents of the HTTP Cookie header as a name/value list. [HTTP.REQ.COOKIE]":"HTTP.REQ.COOKIE","CLIENT.IP.SRC-Returns the source IP of the current packet. [CLIENT.IP.SRC]":"CLIENT.IP.SRC",'HTTP.RES.HEADER-Is a Pattern present in HTTP Response Header? [HTTP.RES.HEADER("").CONTAINS("")]':'HTTP.RES.HEADER("").CONTAINS("")',"HTTP.RES.CACHE_CONTROL-Returns the HTTP Cache-Control object [HTTP.RES.CACHE_CONTROL]":"HTTP.RES.CACHE_CONTROL","HTTP.RES.STATUS-Returns the HTTP response status code. [HTTP.RES.STATUS]":"HTTP.RES.STATUS","HTTP.REQ.IS_VALID-Returns TRUE if the HTTP request is properly formed. [HTTP.REQ.IS_VALID]":"HTTP.REQ.IS_VALID","HTTP.REQ.METHOD-Compare HTTP Request Method. [HTTP.REQ.METHOD.EQ(GET)]":"HTTP.REQ.METHOD.EQ(GET)"}},mandatory:true,properties:{size:1,label:rdx.i18n.get_string("rdx.expression_editor.frequently_used_expressions.label")}})).render();this._frequently_used_expressions.get_component().addClass("frequently_used_exp");l.bind(rdx.events.CHANGE,{frequently_used_expressions:this._frequently_used_expressions,expression:this},function(b){var a=b.data.frequently_used_expressions.get_data().split("[")[1].split("]")[0];if($.trim(b.data.expression._expression_textarea.get_data())==""){b.data.expression._append_expression(a);b.data.expression._start_new_exp=false}else{b.data.expression._append_expression(a)}});n.append(m);this._expression_textarea=new rdx.expression_editor.custom_textarea(n,new rdx.form_field({})).render();this._expression_textarea_component=this._expression_textarea.get_component().addClass("expression_textarea");this._expression_textarea_component.attr("resizable","false").attr("spellcheck",false);if(!(rdx.utils.is_ie()&&parseInt($.browser.version)<9)&&this._properties.is_epa===false){this._events_intellisense()}};rdx.expression_editor.prototype.create_expression_evaluator=function(V){var O=$("<div>").addClass("expression_editor_title").append("Details");var J=$("<div>").addClass("expression_builder_box_div");var B=$("<table>");if(rdx.utils.is_defined(this._properties.details)){for(var L in this._properties.details){if(rdx.utils.is_empty(this._properties.details[L]["value"])){continue}var C=$("<tr>").append($("<td>").append($("<b>").text(rdx.i18n.get_string(this._properties.details[L]["label"])+": ")));var U=$("<td>");var F=new rdx.label(U,new rdx.form_field({key:L})).render();F.set_data(this._properties.details[L]["value"]);C.append(U);B.append(C)}V.append($("<div>").addClass("expression_builder_div expression_result").append(O).append(J.append(B)))}if(this._properties.standalone_evaluator&&this._properties.render_textarea_in_evaluator){var N=$("<div>").addClass("expression_textbox");this.create_expression_textarea(N);var G=$("<div>").addClass("expression_builder_exp dangling_component");G.append(this._expression_builder_link_div);V.append(G).append(N)}else{var Q=$("<div>").addClass("expression_editor_title").append(rdx.i18n.get_string("rdx.expression"));var W=$("<div>").addClass("expression_builder_box_div");this.preview_expression_textarea_in_evaluator=new rdx.text_area(W,new rdx.form_field({})).render();this.preview_expression_textarea_in_evaluator.get_component().attr("spellcheck",false);if(rdx.utils.is_not_defined(this._properties.render_textarea_in_evaluator)||this._properties.render_textarea_in_evaluator){V.append($("<div>").addClass("expression_builder_div preview_expression").append(Q).append(W))}}var T=$("<div>");var D=$("<div>").append($("<div>").append(rdx.i18n.get_string("rdx.expression_editor.flow_type.label")).addClass("expression_editor_flow_type")).append(T);var E=$("<div>").addClass("expression_textbox");V.append(E.append($("<div>").addClass("title").addClass("dangling_component").append(D).append($("<span>").addClass("rdx_right cleartext").attr("title",rdx.i18n.get_string("rdx.clear")).bind(rdx.events.CLICK,{expression:this},function(a){a.data.expression._evaluate_editable_div.text("")}))));var S=["Select","HTTP Request","HTTP Response","Text"];if(this._properties.evaluate_action){S=["Select","HTTP Request","HTTP Response"]}this._flowtype_dropdown=new rdx.expression_editor.custom_dropdown(T,new rdx.form_field({formatter:{map:S},mandatory:true,properties:{size:1,label:rdx.i18n.get_string("rdx.select")}})).render();T.addClass("rdx_left");this._evaluate_editable_div=$("<div>").attr("contenteditable","true").addClass("custom_expression_div").attr("placeholder",rdx.i18n.get_string("rdx.expression_evaluator.sample_data.placeholder")).attr("spellcheck",false);E.append(this._evaluate_editable_div);var M=$("<div>");var Z=$("<div>").addClass("dangling_component").append(M);var R=new rdx.expression_editor.custom_dropdown(M,new rdx.form_field({formatter:{map:["Sample","Post Request","Get Request"]},mandatory:true,properties:{size:1,label:rdx.i18n.get_string("rdx.expression_evaluator.sample_data.label")}})).render();M.addClass("evaluate_dropdown");R.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this.populate_data_for_evaluate_textarea,[R]));this._flowtype_dropdown.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this.change_sample_data_according_to_flow_type,[R]));var K=new rdx.button_bar(Z,new rdx.form_field({properties:{add_blue_button:true,blue_button_label:rdx.i18n.get_string("rdx.expression_evaluator.title"),blue_button_click_handler_callback:new rdx.callback(this,this._handle_evaluate_button_click,[])}})).render();V.append(Z);var H=$("<div>").addClass("expression_editor_title").append(rdx.i18n.get_string("rdx.expression_evaluator.result.label"));H.append($("<span>").addClass("rdx_right").addClass("cleartext").attr("title",rdx.i18n.get_string("rdx.clear")).bind(rdx.events.CLICK,{expression:this},function(a){a.data.expression._result_textarea.text("")}));var I=$("<div>").addClass("expression_builder_box_div");this._result_textarea=$("<div>").addClass("custom_result_textarea").attr("spellcheck",false);I.append(this._result_textarea);var P=$("<div>").addClass("rdx_left topmargin");var K=new rdx.button_bar(P,new rdx.form_field({properties:{add_grey_button:true,grey_button_label:rdx.i18n.get_string("rdx.form_close_button_label"),grey_button_click_handler_callback:new rdx.callback(this,this._handle_close_button_click,[R,V])}})).render();V.append($("<div>").addClass("expression_builder_div expression_result").append(H).append(I).append(P))};rdx.expression_editor.prototype.toggle_show_hide=function(d,c){if(rdx.utils.is_not_defined(c)){c=this._component}if(d){c.show()}else{c.hide()}};rdx.expression_editor.prototype.toggle_read_only=function(b){if(b){this.set_edittable()}else{this.set_read_only()}};rdx.expression_editor.prototype.set_read_only=function(){this._component.addClass("form_field_disabled");this._cleartext_link.addClass("form_field_disabled");this._expression_builder_link_div.addClass("form_field_disabled");this._evaluate_link_div.addClass("form_field_disabled");if(rdx.utils.is_defined(this._switch_to_class_link_div)){this._switch_to_class_link_div.addClass("form_field_disabled")}this._operators.get_list().toggle_read_only(false);this._import_expressions.get_list().toggle_read_only(false);this._frequently_used_expressions.get_list().toggle_read_only(false);this._expression_textarea.toggle_read_only(false)};rdx.expression_editor.prototype.set_edittable=function(){this._component.removeClass("form_field_disabled");this._cleartext_link.removeClass("form_field_disabled");this._expression_builder_link_div.removeClass("form_field_disabled");this._evaluate_link_div.removeClass("form_field_disabled");if(rdx.utils.is_defined(this._switch_to_class_link_div)){this._switch_to_class_link_div.removeClass("form_field_disabled")}this._operators.get_list().toggle_read_only(true);this._import_expressions.get_list().toggle_read_only(true);this._frequently_used_expressions.get_list().toggle_read_only(true);this._expression_textarea.toggle_read_only(true)};rdx.expression_editor.prototype.set_classic_expression_mode=function(b){if(rdx.utils.is_not_defined(b)){return}else{this._classic_expression_mode=b}};rdx.expression_editor.prototype.get_classic_expression_mode=function(){return this._classic_expression_mode};rdx.expression_editor.prototype.get_dependency_determinant_value=function(d){if(d==rdx.form_constants.dependency_determinant.TYPE){if(this._component.is(":visible")){if(this._classic_expression_mode==true||this._classic_expression_mode=="true"){return"Classic"}else{return"Advanced"}}else{if(this._properties.switch_link_required==true&&rdx.utils.is_defined(this._properties.classic_expression_editor)){var c=this._properties.classic_expression_editor.get_advanced_expression_mode();if(c==true||c=="true"){return"Advanced"}else{return"Classic"}}else{if(this._properties.switch_link_required==false){return"Advanced"}else{return"Classic"}}}}return null};rdx.expression_editor.prototype._create_first_dropdown=function(){var c=$("<div>");this._box_expression_builder.append(c);var d=rdx.utils.is_defined(this._prefix_combo_map_overridden)?this._prefix_combo_map_overridden.slice(0):this.prefix_combo_map.slice(0);if(this._properties.is_variable_support_required===true){d.unshift("Start With Variable")}d.unshift("Select");this._dropdown_start=new rdx.expression_editor.custom_dropdown(c,new rdx.form_field({formatter:{map:d},mandatory:true,properties:{size:1,label:rdx.i18n.get_string("rdx.select"),parameter:"none"}})).render();c.addClass("rdx_left");this._dropdown_created.push(this._dropdown_start);this._components_created.push(this._dropdown_start);this._dropdown_start.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._add_more_dropdowns,[this._dropdown_start]));this._selected_class_order=[]};rdx.expression_editor.prototype._add_more_dropdowns=function(B,p){var t=null;var u=null;if(this._properties.is_epa===false){var s=p.get_data().split("(");t=s[0];if(s.length>1){u=s[1].split(")")[0]}}else{t=p.get_data()}this._input_value=t;p.set_data();var y=false;for(var A=0;A<this._dropdown_created.length;A++){if(this._dropdown_created[A].get_component()[0]==B.target){var w=A;if(A==this._dropdown_created.length-1){y=true}break}}if(y&&t!="Select"){var q="";y=false;this._add_next_dropdown(B,t,u,p)}else{this._dropdown_created.splice(w+1,this._dropdown_created.length-w-1);for(var A=this._box_expression_builder.children().length-1;;){if(B.target.parentNode.parentNode==this._box_expression_builder.children("div:eq("+A+")")[0]){break}else{var v=this._box_expression_builder.children("div:eq("+A+")");if(!v.hasClass("expression_editor_help")){this._components_created.pop()}v.remove();A--}}var z=this._get_dropdown_index(B,p,true);if(z.dropdowns_created==this._selected_class_order.length){this._selected_class_order.pop()}else{this._selected_class_order.splice(z.dropdowns_created,this._selected_class_order.length-z.dropdowns_created)}if(this._properties.is_epa===false&&this._selected_class_order.length>0){var x=neo.pi_syntax_utils.get_data_items(this._selected_class_order[this._selected_class_order.length-1],this._operations_to_exclude);this._prev_option_index_accept_expr=$.extend(true,[],x.option_index_accept_expr)}if(t!="Select"){this._add_next_dropdown(B,t,u,p)}}this._add_arguements_to_textarea()};rdx.expression_editor.prototype._add_next_dropdown=function(I,J,ah,G){var af=false;if(rdx.utils.is_defined(this._prev_option_index_accept_expr)&&$.inArray(I.target.selectedIndex,this._prev_option_index_accept_expr)!=-1){af=true}if(J=="Start With Variable"){var aa=$("<div>").addClass("rdx_left");this._box_expression_builder.append(aa);var V=new rdx.expression_editor.custom_dropdown(aa,new rdx.form_field({formatter:{map:["Select","ulong","text","map"]},mandatory:true,properties:{size:1,label:rdx.i18n.get_string("rdx.select")}})).render();V.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._create_expression_starting_with_variable,[V]));this._dropdown_created.push(V);this._components_created.push(V)}else{var N="";if(this._properties.is_epa===false){N=neo.pi_syntax_utils.get_result_type(this._selected_class_order,J,ah,true);if(rdx.utils.is_not_defined(N)){N=this._get_result_type_of_extension_functions(J,ah)}}else{N=null}var K=this._get_dropdown_index(I,G);if(ah=="String"&&$.inArray(J,this._PAT_SET_METHODS)!=-1&&$.inArray(J,this._DATA_SET_METHODS)!=-1){var O=$("<div>").addClass("rdx_left");this._box_expression_builder.append(O);var L=new rdx.expression_editor.custom_dropdown(O,new rdx.form_field({formatter:{map:["Select","Pattern Set","Data Set"]},mandatory:true,properties:{size:1,label:rdx.i18n.get_string("rdx.select"),parameter:"data_patset"}})).render();L.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._handle_pat_set_and_data_set,[L]));this._dropdown_created.push(L);this._components_created.push(L)}else{if(ah=="String"&&$.inArray(J,this._PAT_SET_METHODS)!=-1){var ai=$("<div>").addClass("rdx_left");this._box_expression_builder.append(ai);this._add_dropdown_for_value_from_other_resource(ai,[{resrc_name:"policypatset",resrc_key:"name"}],null,null,K)}else{if(ah=="String"&&$.inArray(J,this._DATA_SET_METHODS)!=-1){var M=$("<div>").addClass("rdx_left");this._box_expression_builder.append(M);this._add_dropdown_for_value_from_other_resource(M,[{resrc_name:"policypatset",resrc_key:"name"}],null,null,K)}else{if(ah=="String"&&$.inArray(J,this._STRING_MAP_METHODS)!=-1){var W=$("<div>").addClass("rdx_left");this._box_expression_builder.append(W);this._add_dropdown_for_value_from_other_resource(W,[{resrc_name:"policystringmap",resrc_key:"name"}],null,null,K)}else{if(ah=="String"&&J=="IS_MEMBER_OF"){var ad=$("<div>").addClass("rdx_left");this._box_expression_builder.append(ad);this._add_dropdown_for_value_from_other_resource(ad,[{resrc_name:"aaagroup",resrc_key:"groupname"}],null,null,K)}else{if(ah=="http_callout_bool"){var T=$("<div>").addClass("rdx_left");this._box_expression_builder.append(T);this._add_dropdown_for_value_from_other_resource(T,[{resrc_name:"policyhttpcallout",resrc_key:"name"}],{filter:[{name:"returntype",value:"bool"}],is_query_param:true},"int",K)}else{if(ah=="http_callout_num"){var R=$("<div>").addClass("rdx_left");this._box_expression_builder.append(R);this._add_dropdown_for_value_from_other_resource(R,[{resrc_name:"policyhttpcallout",resrc_key:"name"}],{filter:[{name:"returntype",value:"num"}],is_query_param:true},"int",K)}else{if(ah=="http_callout_text"){var aj=$("<div>").addClass("rdx_left");this._box_expression_builder.append(aj);this._add_dropdown_for_value_from_other_resource(aj,[{resrc_name:"policyhttpcallout",resrc_key:"name"}],{filter:[{name:"returntype",value:"text"}],is_query_param:true},"int",K)}else{if(J=="VSERVER"){var ac=$("<div>").addClass("rdx_left");this._box_expression_builder.append(ac);this._add_dropdown_for_value_from_other_resource(ac,[{resrc_name:"lbvserver",resrc_key:"name"},{resrc_name:"csvserver",resrc_key:"name"},{resrc_name:"crvserver",resrc_key:"name"},{resrc_name:"vpnvserver",resrc_key:"name"}],null,null,K)}else{if(J=="STREAM"){var U=$("<div>").addClass("rdx_left");this._box_expression_builder.append(U);this._add_dropdown_for_value_from_other_resource(U,[{resrc_name:"streamidentifier",resrc_key:"name"}],null,null,K)}else{if(J=="CHECK_LIMIT"){var S=$("<div>").addClass("rdx_left");this._box_expression_builder.append(S);this._add_dropdown_for_value_from_other_resource(S,[{resrc_name:"nslimitidentifier",resrc_key:"limitidentifier"}],null,null,K)}else{if(N=="classic_expr"){var Z=$("<div>").addClass("rdx_left");this._box_expression_builder.append(Z);this._add_dropdown_for_value_from_other_resource(Z,[{resrc_name:"policyexpression_type_classic",resrc_key:"name"}],null,null,K)}else{if(J=="EXTEND"){this.get_parameter_for_method_class("uint, uint",null,false)}else{if(this._map_values.name.length>0&&neo.epa_utils.check_for_form_render(J)===true&&this._properties.is_epa===true){this.get_parameter_for_method_class("epa",J)}else{this.get_parameter_for_method_class(ah,null,af)}}}}}}}}}}}}}}if(this._properties.is_epa===false){var ab=neo.pi_syntax_utils.get_data_items(N,this._operations_to_exclude);this._prev_option_index_accept_expr=$.extend(true,[],ab.option_index_accept_expr);var H=this._get_extended_functions_list(N);var ag=ab.data_items.concat(H.data_items)}else{var ab=neo.epa_utils.get_data_items(G.get_data());if(this._components_created.length==1){this._map_values={name:[],value:[]}}if(rdx.utils.is_defined(ab.map_value)&&ab.map_value===true){this._map_values.name=this._map_values.name.concat(ab.data_items);this._map_values.value=this._map_values.value.concat(ab.exp_string)}var ag=ab.data_items}this._box_expression_builder.append($("<div>"));var Q=new rdx.expression_editor.custom_dropdown(this._box_expression_builder.children().last(),new rdx.form_field({formatter:{map:ag},options_in_bold:ab.bold_data_items,mandatory:true,properties:{size:1,label:rdx.i18n.get_string("rdx.select"),add_textoverflow_class:true,parameter:"none"}})).render();if(ag.length==1&&ag[0]=="Select"&&this._properties.is_epa===true){Q.get_wrapper().hide()}this._dropdown_created.push(Q);this._components_created.push(Q);this._current_help_icon.remove_tooltip();if(this._dropdown_created.length>2){if(this._properties.is_epa===false){var P=neo.pi_syntax_utils.get_data_items(this._selected_class_order[this._selected_class_order.length-2],this._operations_to_exclude);var ae={};ae.message="<b>"+this._input_value+"</b><br/>"+P.help[I.target.selectedIndex-1];this.add_help_text(ae)}this._box_expression_builder.children().last().before(this._current_help_icon_cell)}this._box_expression_builder.children().last().addClass("rdx_left");Q.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._add_more_dropdowns,[Q]))}};rdx.expression_editor.prototype._get_extended_functions_list=function(m){var n={data_items:[],help:[]};if(rdx.utils.is_not_defined(m)){return n}for(var o in this._extended_functions){if($.inArray(m,this._extended_functions[o]["classtype"])!=-1){var l=this._extended_functions[o];if(l.arg_count=="0"){n.data_items.push(l.func_name.toUpperCase());n.help.push(this._get_scriptfunction_help(l.func_name.toUpperCase()))}else{var h=neo.pi_syntax_utils.get_mapped_paramter_type(l.arg_pisyntax_type[0]);for(var g=1;g<l.arg_pisyntax_type.length;g++){h=h+", "+neo.pi_syntax_utils.get_mapped_paramter_type(l.arg_pisyntax_type[g])}n.data_items.push(l.func_name.toUpperCase()+"("+h+")");n.help.push(this._get_scriptfunction_help(l.func_name.toUpperCase()))}}}return n};rdx.expression_editor.prototype._get_result_type_of_extension_functions=function(h,g,e){if(rdx.utils.is_object_not_empty(this._extended_functions)){if(rdx.utils.is_defined(this._extended_functions[h])){var f=this._extensionfunctionreturntype_map[this._extended_functions[h]["return_type"]];if(rdx.utils.is_defined(e)&&e=="intellisense"){this._selected_class_order_intellisense.push(f)}else{this._selected_class_order.push(f)}return f}else{return null}}return null};rdx.expression_editor.prototype._get_scriptfunction_help=function(d){var c="";if(rdx.utils.is_empty(d)){return c}if(rdx.utils.is_object_not_empty(this._extended_functions)){if(rdx.utils.is_defined(this._extended_functions[d])){c="<b>"+d+"</b><br/>";c=c+this._extended_functions[d]["help"];c=c+"<br/><br/><b>Returns "+this._extensionfunctionreturntype_map[this._extended_functions[d]["return_type"]]+"</b><br/>";c=c+neo.pi_syntax_utils.get_help_result_type(this._extensionfunctionreturntype_map[this._extended_functions[d]["return_type"]]);return c}else{return c}}return c};rdx.expression_editor.prototype._add_operator_to_create_multi_expressions=function(c,d){if(d.get_data()=="Select"){return}this._append_expression(d.get_data());this._multi_exp_mode=true;this._multi_exp_mode_start_point=true;this._start_new_exp=false;d.get_list().set_data("Select")};rdx.expression_editor.prototype.get_parameter_for_method_class=function(K,B,x){if(!rdx.utils.is_defined(K)){return}var y=$("<div>").addClass("rdx_left").css("padding-left","4px");var C=K.split(", ");var N=true;for(var A=0;A<C.length;A++){var H=$("<div>").addClass("parameter_height rdx_left");switch(C[A]){case"epa":N=neo.epa_utils.check_for_supported_scans(B);if(N===true){this["parameter_value"+A]=new rdx.text_box(H,new rdx.form_field({}));this["parameter_value_frequency"]=new rdx.text_box(y,new rdx.form_field({properties:{key:"parameter_value_frequency"},watermark:"Enter value for Frequency"}));this._box_expression_builder.append(H);this["parameter_value_frequency"].render();this["parameter_value_frequency"].get_component().addClass("expression_editor_parameter");this["parameter_value"+A].render();this["parameter_value"+A].get_component().addClass("expression_editor_parameter");this["parameter_value"+A].add_event_handler(rdx.events.KEYUP,new rdx.callback(this,this._add_arguements_to_textarea,[C[A]]));var z=$("<div>").addClass("add_new_exp rdx_left");z.bind(rdx.events.CLICK,{parameter_value:this["parameter_value"+A],expression_editor:this},function(a){a.data.expression_editor._create_form_for_epa_supported_scans(a.data.parameter_value,B)});H.append(z.append($("<div>")));H.append(y);var w=$("<div>").addClass("search_tip_container");var F=$("<div>").addClass("search_tip_content");var I=$("<span>").addClass("search_help_text").append(rdx.i18n.get_string("rdx.apea_frequency_tooltip"));var J=$("<span>").addClass("search_tip_close_button");J.bind(rdx.events.CLICK,{tooltip:this._search_tooltip},function(a){a.data.tooltip.remove_tooltip()});F.append(J,I);w.append(F);var M=new rdx.tooltip(this.parameter_value_frequency.get_component(),{append_element:w,remove_tooltip_mouse_leave:false});this.parameter_value_frequency.get_component().bind(rdx.events.FOCUS_IN,{tooltip_obj:M},function(a){a.data.tooltip_obj.render();a.stopPropagation()});this.parameter_value_frequency.get_component().bind(rdx.events.FOCUS_OUT,{tooltip_obj:M},function(a){a.data.tooltip_obj.remove_tooltip();a.stopPropagation()})}break;case"uint":case"int":case"double":case"ulong":case"mac":case"ulong_var":case"time":if(C[A]=="ulong_var"){this["parameter_value"+A]=new rdx.text_box(H,new rdx.form_field({properties:{trim_data:false}}))}else{this["parameter_value"+A]=new rdx.text_box(H,new rdx.form_field({properties:{parameter:C[A],trim_data:false}}))}this._box_expression_builder.append(H);this["parameter_value"+A].render();this["parameter_value"+A].add_event_handler(rdx.events.KEYUP,new rdx.callback(this,this._add_arguements_to_textarea,[C[A]]));if(C[A]=="time"){this["parameter_value"+A].get_component().addClass("expression_editor_parameter time");this["parameter_value"+A].set_watermark("GMT YYYY MMM DD HHh MMm SSs")}else{this["parameter_value"+A].get_component().addClass("expression_editor_parameter");if(rdx.utils.is_defined(x)&&x==true){var D=$("<div>").addClass("expr_new_exp rdx_left");D.bind(rdx.events.CLICK,{parameter_value:this["parameter_value"+A],expression_editor:this},function(a){var c=function(e,f){if($.trim(e.get_data())!=""){f.set_data(e.get_data())}f.get_component().trigger(rdx.events.KEYUP);e.set_data("")};var b=rdx.component_helper.get_component(rdx.form_constants.EXPRESSION_EDITOR,null,new rdx.form_field({prefix_combo_map:rdx.enums.EXPRESSION_EDITOR_PREFIX_ALL,hidden:true,properties:{close_builder_dialog_callback:new rdx.callback(c,[a.data.parameter_value])}}));b.render();var d=b.get_builder_link();d.trigger(rdx.events.CLICK)});H.append(D.append($("<div>")));var z=$("<div>").addClass("add_new_exp rdx_left");z.bind(rdx.events.CLICK,{parameter_value:this["parameter_value"+A],expression_editor:this},function(a){a.data.expression_editor._create_form_for_creating_new_variable(a.data.parameter_value,"ulong")});var G=$("<div>").addClass("sel_new_exp rdx_left");G.bind(rdx.events.CLICK,{parameter_value:this["parameter_value"+A],expression_editor:this},function(a){a.data.expression_editor._create_form_for_selecting_variable(a.data.parameter_value,"ulong")});H.append(z.append($("<div>"))).append(G.append($("<div>")))}}break;case"String":case"char":case"map":case"text":case"both":if(C[A]=="map"||C[A]=="text"||C[A]=="both"){this["parameter_value"+A]=new rdx.text_box(H,new rdx.form_field({properties:{trim_data:false}}))}else{this["parameter_value"+A]=new rdx.text_box(H,new rdx.form_field({properties:{parameter:C[A],trim_data:false}}))}this._box_expression_builder.append(H);this["parameter_value"+A].render();this["parameter_value"+A].get_component().addClass("expression_editor_parameter");this["parameter_value"+A].add_event_handler(rdx.events.KEYUP,new rdx.callback(this,this._add_arguements_to_textarea,[C[A]]));this["parameter_value"+A].add_event_handler(rdx.events.KEYDOWN,new rdx.callback(this,this._check_validation_for_parameter_value,[C[A]]));if(rdx.utils.is_defined(x)&&x==true){var D=$("<div>").addClass("expr_new_exp rdx_left");D.bind(rdx.events.CLICK,{parameter_value:this["parameter_value"+A],expression_editor:this},function(a){var c=function(e,f){if($.trim(e.get_data())!=""){f.set_data(e.get_data())}f.get_component().trigger(rdx.events.KEYUP);e.set_data("")};var b=rdx.component_helper.get_component(rdx.form_constants.EXPRESSION_EDITOR,null,new rdx.form_field({prefix_combo_map:rdx.enums.EXPRESSION_EDITOR_PREFIX_ALL,hidden:true,properties:{close_builder_dialog_callback:new rdx.callback(c,[a.data.parameter_value])}}));b.render();var d=b.get_builder_link();d.trigger(rdx.events.CLICK)});H.append(D.append($("<div>")));var z=$("<div>").addClass("add_new_exp rdx_left");z.bind(rdx.events.CLICK,{parameter_value:this["parameter_value"+A],expression_editor:this},function(a){a.data.expression_editor._create_form_for_creating_new_variable(a.data.parameter_value,"text")});var G=$("<div>").addClass("sel_new_exp rdx_left");G.bind(rdx.events.CLICK,{parameter_value:this["parameter_value"+A],expression_editor:this,parameter_type:C[A]},function(a){a.data.expression_editor._create_form_for_selecting_variable(a.data.parameter_value,a.data.parameter_type)});H.append(z.append($("<div>"))).append(G.append($("<div>")))}break;case"ip":this["parameter_value"+A]=new rdx.ip_v4(H,new rdx.form_field({properties:{parameter:C[A]}}));this._box_expression_builder.append(H);this["parameter_value"+A].render();this["parameter_value"+A].get_component().addClass("expression_editor_parameter");this["parameter_value"+A].add_event_handler(rdx.events.KEYUP,new rdx.callback(this,this._add_arguements_to_textarea,[C[A]]));this["parameter_value"+A].add_event_handler(rdx.events.KEYDOWN,new rdx.callback(this,this._check_validation_for_parameter_value,[C[A]]));if(rdx.utils.is_defined(x)&&x==true){var D=$("<div>").addClass("expr_new_exp rdx_left");D.bind(rdx.events.CLICK,{parameter_value:this["parameter_value"+A],expression_editor:this},function(a){var c=function(e,f){if($.trim(e.get_data())!=""){f.set_data(e.get_data())}f.get_component().trigger(rdx.events.KEYUP);e.set_data("")};var b=rdx.component_helper.get_component(rdx.form_constants.EXPRESSION_EDITOR,null,new rdx.form_field({prefix_combo_map:rdx.enums.EXPRESSION_EDITOR_PREFIX_ALL,hidden:true,properties:{close_builder_dialog_callback:new rdx.callback(c,[a.data.parameter_value])}}));b.render();var d=b.get_builder_link();d.trigger(rdx.events.CLICK)});H.append(D.append($("<div>")))}break;case"ip_subnet":this["parameter_value"+A]=new rdx.text_box(H,new rdx.form_field({properties:{parameter:C[A],trim_data:false}}));this._box_expression_builder.append(H);this["parameter_value"+A].render();this["parameter_value"+A].get_component().addClass("expression_editor_parameter");this["parameter_value"+A].add_event_handler(rdx.events.KEYUP,new rdx.callback(this,this._add_arguements_to_textarea,[C[A]]));this["parameter_value"+A].add_event_handler(rdx.events.KEYDOWN,new rdx.callback(this,this._check_validation_for_parameter_value,[C[A]]));if(rdx.utils.is_defined(x)&&x==true){var D=$("<div>").addClass("expr_new_exp rdx_left");D.bind(rdx.events.CLICK,{parameter_value:this["parameter_value"+A],expression_editor:this},function(a){var c=function(e,f){if($.trim(e.get_data())!=""){f.set_data(e.get_data())}f.get_component().trigger(rdx.events.KEYUP);e.set_data("")};var b=rdx.component_helper.get_component(rdx.form_constants.EXPRESSION_EDITOR,null,new rdx.form_field({prefix_combo_map:rdx.enums.EXPRESSION_EDITOR_PREFIX_ALL,hidden:true,properties:{close_builder_dialog_callback:new rdx.callback(c,[a.data.parameter_value])}}));b.render();var d=b.get_builder_link();d.trigger(rdx.events.CLICK)});H.append(D.append($("<div>")))}break;case"ipv6":case"ipv6_subnet_at":case"ipv6_subnet":this["parameter_value"+A]=new rdx.ip_v6(H,new rdx.form_field({properties:{parameter:C[A]}}));this._box_expression_builder.append(H);this["parameter_value"+A].render();this["parameter_value"+A].ip_v6_field.get_component().addClass("expression_editor_parameter");this["parameter_value"+A].add_event_handler(rdx.events.KEYUP,new rdx.callback(this,this._add_arguements_to_textarea,[C[A]]));this["parameter_value"+A].add_event_handler(rdx.events.KEYDOWN,new rdx.callback(this,this._check_validation_for_parameter_value,[C[A]]));if(rdx.utils.is_defined(x)&&x==true){var D=$("<div>").addClass("expr_new_exp rdx_left");D.bind(rdx.events.CLICK,{parameter_value:this["parameter_value"+A],expression_editor:this},function(a){var c=function(e,f){if($.trim(e.get_data())!=""){f.set_data(e.get_data())}f.get_component().trigger(rdx.events.KEYUP);e.set_data("")};var b=rdx.component_helper.get_component(rdx.form_constants.EXPRESSION_EDITOR,null,new rdx.form_field({prefix_combo_map:rdx.enums.EXPRESSION_EDITOR_PREFIX_ALL,hidden:true,properties:{close_builder_dialog_callback:new rdx.callback(c,[a.data.parameter_value])}}));b.render();var d=b.get_builder_link();d.trigger(rdx.events.CLICK)});H.append(D.append($("<div>")))}break;case"re":this["parameter_value"+A]=new rdx.text_box(H,new rdx.form_field({properties:{parameter:C[A],trim_data:false}}));this["parameter_value"+A].set_data("re//");this._box_expression_builder.append(H);this["parameter_value"+A].render();this["parameter_value"+A].get_component().addClass("expression_editor_parameter");this["parameter_value"+A].add_event_handler(rdx.events.KEYUP,new rdx.callback(this,this._add_arguements_to_textarea,[C[A]]));this["parameter_value"+A].add_event_handler(rdx.events.KEYDOWN,new rdx.callback(this,this._check_validation_for_parameter_value,[C[A]]));if(rdx.utils.is_defined(x)&&x==true){var D=$("<div>").addClass("expr_new_exp rdx_left");D.bind(rdx.events.CLICK,{parameter_value:this["parameter_value"+A],expression_editor:this},function(a){var c=function(e,f){if($.trim(e.get_data())!=""){f.set_data(e.get_data())}f.get_component().trigger(rdx.events.KEYUP);e.set_data("")};var b=rdx.component_helper.get_component(rdx.form_constants.EXPRESSION_EDITOR,null,new rdx.form_field({prefix_combo_map:rdx.enums.EXPRESSION_EDITOR_PREFIX_ALL,hidden:true,properties:{close_builder_dialog_callback:new rdx.callback(c,[a.data.parameter_value])}}));b.render();var d=b.get_builder_link();d.trigger(rdx.events.CLICK)});H.append(D.append($("<div>")))}break;case"xpath_str":this["parameter_value"+A]=new rdx.text_box(H,new rdx.form_field({properties:{parameter:C[A],trim_data:false}}));this["parameter_value"+A].set_data("xp%%");this._box_expression_builder.append(H);this["parameter_value"+A].render();this["parameter_value"+A].get_component().addClass("expression_editor_parameter");this["parameter_value"+A].add_event_handler(rdx.events.KEYUP,new rdx.callback(this,this._add_arguements_to_textarea,[C[A]]));this["parameter_value"+A].add_event_handler(rdx.events.KEYDOWN,new rdx.callback(this,this._check_validation_for_parameter_value,[C[A]]));break;case"xpath_bool":this["parameter_value"+A]=new rdx.text_box(H,new rdx.form_field({properties:{parameter:C[A],trim_data:false}}));this["parameter_value"+A].set_data("xp%boolean()%");this._box_expression_builder.append(H);this["parameter_value"+A].render();this["parameter_value"+A].get_component().addClass("expression_editor_parameter");this["parameter_value"+A].add_event_handler(rdx.events.KEYUP,new rdx.callback(this,this._add_arguements_to_textarea,[C[A]]));this["parameter_value"+A].add_event_handler(rdx.events.KEYDOWN,new rdx.callback(this,this._check_validation_for_parameter_value,[C[A]]));break;case"xpath_double":this["parameter_value"+A]=new rdx.text_box(H,new rdx.form_field({properties:{parameter:C[A],trim_data:false}}));this["parameter_value"+A].set_data("xp%number()%");this._box_expression_builder.append(H);this["parameter_value"+A].render();this["parameter_value"+A].get_component().addClass("expression_editor_parameter");this["parameter_value"+A].add_event_handler(rdx.events.KEYUP,new rdx.callback(this,this._add_arguements_to_textarea,[C[A]]));this["parameter_value"+A].add_event_handler(rdx.events.KEYDOWN,new rdx.callback(this,this._check_validation_for_parameter_value,[C[A]]));break;default:var E=C[A];var L=$("<div>").addClass("rdx_left");H.append(L);switch(E){case"endian_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","LITTLE_ENDIAN","BIG_ENDIAN"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"double_format_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","DECIMAL","DECIMAL_PREFIX"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"http_method_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","GET","POST","HEAD","PUT","DELETE","OPTIONS","TRACE","CONNECT","UNKNOWN_METHOD"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"ip_protocol_type_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","TCP","UDP","ICMP","AH","ESP","GRE","VRRP","OSPFIGP","IPIP","ICMPV6","OSPFPREF","FRAGMENT","PROTOCOL_UNKNOWN"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"ip_protocol_iprep_category_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","SPAM_SOURCES","WINDOWS_EXPLOITS","WEB_ATTACKS","BOTNETS","SCANNERS","DOS","REPUTATION","PHISHING","PROXY","NETWORK","CLOUD_PROVIDERS","MOBILE_THREATS"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"num_format_e":case"unsigned_long_format_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","DECIMAL","HEX","DECIMAL_PREFIX","HEX_PREFIX"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"encrypt_method_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","RC4","DES3","AES128","AES192","AES256"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"boolean":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","true","false"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"charset_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","ASCII","UTF_8"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"textmode_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","IGNORECASE","NOIGNORECASE","URLENCODED","NOURLENCODED","PLUS_AS_SPACE","NO_PLUS_AS_SPACE","BACKSLASH_ENCODED","NO_BACKSLASH_ENCODED","BAD_ENCODE_RAISE_UNDEF","NO_BAD_ENCODE_RAISE_UNDEF"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"vserver_state_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","UP","DOWN","OUT_OF_SERVICE"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"tcp_options_type_name_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","REPEATER","TIMESTAMP","SACK_PERMITTED","WINDOW","MAXSEG"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"digest_method_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","MD2","MD4","MD5","SHA1","SHA224","SHA256","SHA384","SHA512"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"diameter_flag_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","REQUEST","PROXIABLE","ERROR","RETRANSMIT","RESERVED_4","RESERVED_5","RESERVED_6","RESERVED_7"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"dns_rcode_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","NOERROR","FORMERR","SERVFAIL","NXDOMAIN","NOTIMP","REFUSED"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"dns_transport_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","TCP","UDP"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"dns_type_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","A","AAAA","ANY","CNAME","PTR","MX","NS","SRV","SOA","TXT","NAPTR"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"error_category_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","ERR_AAA_GENERIC","ERR_AAA_ALLOC","ERR_AAA_C2C","ERR_AAA_POLICY","ERR_AAA_CONFIG","ERR_AAA_IIP","ERR_AAA_AUTHN","ERR_AAA_REASSEMBLY","ERR_AAA_NOSERVICE","ERR_AAA_UNAUTHORIZED","ERR_AAA_BAD_REQUEST","ERR_AAA_PAGE_NOT_FOUND","ERR_UNKNOWN"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"ether_type_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","PUP","IPV4","ARP","REVARP","IPV6","VLAN","ETHERTYPE_UNKNOWN"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"http_tracking_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","LENGTH","FIN","CHUNK","UNKNOWN_TRACKING"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"mssql_req_command_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","QUERY","PRETDS7","RPC","RESPONSE","ATTENTION","BULKDATA","TRANSMGR","LOGIN","SSPI","PRELOGIN","COM_UNKNOWN"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"mssql_res_field_datatype_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","INTNTYPE","VARCHRTYPE","DATENTYPE","TIMENTYPE","CHRTYPE","BIGVARCHRTYPE","BIGCHRTYPE","NVARCHRTYPE","NCHRTYPE","UNKNOWN"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"mssql_res_type_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","OK","ERROR","RESULT_SET"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"mysql_charset_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","LATIN2_CZECH_CS","DEC8_SWEDISH_CI","CP850_GENERAL_CI","GREEK_GENERAL_CI","LATIN1_GERMAN1_CI","HP8_ENGLISH_CI","KOI8R_GENERAL_CI","LATIN1_SWEDISH_CI","LATIN2_GENERAL_CI","SWE7_SWEDISH_CI","ASCII_GENERAL_CI","CP1251_BULGARIAN_CI","LATIN1_DANISH_CI","HEBREW_GENERAL_CI","LATIN7_ESTONIAN_CS","LATIN2_HUNGARIAN_CI","KOI8U_GENERAL_CI","CP1251_UKRAINIAN_CI","CP1250_GENERAL_CI","LATIN2_CROATIAN_CI","CP1257_LITHUANIAN_CI","LATIN5_TURKISH_CI","LATIN1_GERMAN2_CI","ARMSCII8_GENERAL_CI","UTF8_GENERAL_CI","CP1250_CZECH_CS","CP866_GENERAL_CI","KEYBCS2_GENERAL_CI","MACCE_GENERAL_CI","MACROMAN_GENERAL_CI","CP852_GENERAL_CI","LATIN7_GENERAL_CI","LATIN7_GENERAL_CS","MACCE_BIN","CP1250_CROATIAN_CI","LATIN1_BIN","LATIN1_GENERAL_CI","LATIN1_GENERAL_CS","CP1251_BIN","CP1251_GENERAL_CI","CP1251_GENERAL_CS","MACROMAN_BIN","CP1256_GENERAL_CI","CP1257_BIN","CP1257_GENERAL_CI","ARMSCII8_BIN","ASCII_BIN","CP1250_BIN","CP1256_BIN","CP866_BIN","DEC8_BIN","GREEK_BIN","HEBREW_BIN","HP8_BIN","KEYBCS2_BIN","KOI8R_BIN","KOI8U_BIN","LATIN2_BIN","LATIN5_BIN","LATIN7_BIN","CP850_BIN","CP852_BIN","SWE7_BIN","UTF8_BIN","GEOSTD8_GENERAL_CI","GEOSTD8_BIN","LATIN1_SPANISH_CI","UTF8_UNICODE_CI","UTF8_ICELANDIC_CI","UTF8_LATVIAN_CI","UTF8_ROMANIAN_CI","UTF8_SLOVENIAN_CI","UTF8_POLISH_CI","UTF8_ESTONIAN_CI","UTF8_SPANISH_CI","UTF8_SWEDISH_CI","UTF8_TURKISH_CI","UTF8_CZECH_CI","UTF8_DANISH_CI","UTF8_LITHUANIAN_CI","UTF8_SLOVAK_CI","UTF8_SPANISH2_CI","UTF8_ROMAN_CI","UTF8_PERSIAN_CI","UTF8_ESPERANTO_CI","UTF8_HUNGARIAN_CI","INVAL_CHARSET"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"mysql_req_command_e":case"oracle_req_command_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","SLEEP","QUIT","INIT_DB","QUERY","FIELD_LIST","CREATE_DB","DROP_DB","REFRESH","SHUTDOWN","STATISTICS","PROCESS_INFO","CONNECT","PROCESS_KILL","DEBUG","PING","TIME","DELAYED_INSERT","CHANGE_USER","BINLOG_DUMP","TABLE_DUMP","CONNECT_OUT","REGISTER_SLAVE","STMT_PREPARE","STMT_EXECUTE","STMT_SEND_LONG_DATA","STMT_CLOSE","STMT_RESET","SET_OPTION","STMT_FETCH"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"mysql_res_field_datatype_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","DECIMAL","TINY","SHORT","LONG","FLOAT","DOUBLE","NULL","TIMESTAMP","LONGLONG","INT24","DATE","TIME","DATETIME","YEAR","NEWDATE","VARCHAR","BIT","NEWDECIMAL","ENUM","SET","TINY_BLOB","MEDIUM_BLOB","LONG_BLOB","BLOB","VAR_STRING","STRING","GEOMETRY","UNKNOWN"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"mysql_res_type_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","OK","ERROR","RESULT_SET"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"service_type_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","ADNS","ANY","DHCPRA","SVC_DNS","FTP","MONITOR","MONITOR_PING","MONITOR_UDP","NNTP","RPCCLNT","RPCSVRS","RPCSVR","RTSP","SIP_UDP","SNMP","SSL","SSL_BRIDGE","SSL_TCP","TCP","UDP","SVC_HTTP","SVC_MYSQL","SVC_MSSQL","SIP_TCP","SIP_TLS","SERVICE_UNKNOWN"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"sip_method_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","INVITE","REGISTER","CANCEL","BYE","ACK","OPTIONS","UNKNOWN_METHOD"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"sslvpn_mode_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","SECURE_CLIENT_MODE","CLIENTLESS_TRANSPARENT_MODE","CLIENTLESS_OPAQUE_MODE","CLIENTLESS_ENC_MODE","ICA_PROXY_MODE","UNDEFINED_MODE"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"tcp_state_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","CLOSED","CLOSING","CLOSE_WAIT","ESTABLISHED","FIN_WAIT_1","FIN_WAIT_2","LAST_ACK","LISTEN","SYN_RECEIVED","SYN_SENT","TIME_WAIT","NOT_APPLICABLE"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"key_usage_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","DIGITAL_SIGNATURE","NONREPUDIATION","KEYENCIPHERMENT","DATAENCIPHERMENT","KEYAGREEMENT","KEYCERTSIGN","CRLSIGN","ENCIPHERONLY","DECIPHERONLY"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"smpp_bind_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","TRANSMITTER","RECEIVER","TRANSCEIVER"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;case"authentication_error_e":this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select","INVALID_CREDS","NOT_PERMITTED","SYS_TIMEOUT","SYS_ERROR","SOCKET_ERROR","BAD_USER","BAD_PASSWORD","MISMATCH_PASSWORD","INVALID_USER","RESTRICTED_HOURS","ACCOUNT_DISABLED","PASSWORD_EXPIRED","NO_DIALIN_PERM","CHANGE_PASSWORD","ACCOUNT_LOCKED"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render();break;default:this["parameter_value"+A]=new rdx.expression_editor.custom_dropdown(L,new rdx.form_field({formatter:{map:["Select"]},mandatory:true,properties:{parameter:"enum",size:1,label:rdx.i18n.get_string("rdx.select")}})).render()}this._box_expression_builder.append(H);this["parameter_value"+A].add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._set_dropdown_text,["enum",this["parameter_value"+A]]))}if(N===true){this._components_created.push(this["parameter_value"+A])}}return};rdx.expression_editor.prototype._set_dropdown_text=function(e,f,d){d.set_data();this._add_arguements_to_textarea()};rdx.expression_editor.prototype._add_arguements_to_textarea=function(w){var t=["IS_MEMBER_OF(String)","VSERVER(String)","Pattern Set","Data Set"];var p="";if(this._components_created.length>=1&&(this._components_created[0].get_data()!="Start With Variable"&&this._components_created[0].get_data()!="Windows"&&this._components_created[0].get_data()!="Mac"&&this._components_created[0].get_data()!="Select")){p=this._components_created[0].get_data()}var n=function(a){if(a.lastIndexOf(")")==a.length-1){a=a.substring(0,a.length-1);a=a+","}else{a=a+"("}return a};for(var v=1;v<this._components_created.length;v++){if(this._components_created[0].get_data()=="Start With Variable"&&v==1){continue}if(this._components_created[0].get_data()=="Start With Variable"&&this._components_created[1].get_data()=="map"&&this._components_created[3].get_data()=="valueExists"&&v==4){p=p+"("+this._components_created[v].get_data()+")";continue}var q=this._components_created[v].get_data();var u=this._components_created[v-1].get_data();var o=".";if(this._properties.is_epa===true){o="_";var s;s=$.inArray(q,this._map_values.name);if(s!=-1){q=this._map_values.value[s]}}var x=this._components_created[v].get_field().get_properties()["parameter"];if(x=="data_patset"){if(rdx.utils.is_defined(this._components_created[v+1])&&this._components_created[v+1].get_data()=="Select"){p=p+"()"}continue}if(q=="Select"&&x!="enum"){continue}if(rdx.utils.is_not_defined(x)||x=="none"){if(q.indexOf("(")!=-1&&this._properties.is_epa===false){p=p+o+q.substring(0,q.indexOf("("))}else{if(rdx.utils.is_not_empty(q)){if(q.match(/^\[COMMENT:/)&&this._properties.is_epa===true){p+=q}else{p=p+o+q}}}}if((x=="String")&&((rdx.utils.is_defined(w)&&rdx.utils.is_defined(w.which))||($.inArray(u,t)!=-1)||(u.indexOf("(String)")!=-1))){p=n(p);p=p+'"'+this._components_created[v].get_data()+'"';p=p+")"}else{if(x=="char"&&rdx.utils.is_defined(w)&&rdx.utils.is_defined(w.which)){p=n(p);p=p+"'"+this._components_created[v].get_data()+"'";p=p+")"}else{if(rdx.utils.is_defined(x)&&x!="none"){p=n(p);if(x=="enum"&&this._components_created[v].get_data()=="Select"){}else{p=p+this._components_created[v].get_data()}p=p+")"}}}}p=$.trim(p);if(p.indexOf(o)==0){p=p.substring(1)}if(p.lastIndexOf(o)==p.length-1){p=p.substring(0,p.length-1)}this.preview_expression_textarea_in_builder.set_data(p)};rdx.expression_editor.prototype._check_validation_for_parameter_value=function(d,c){if(c=="uint"||c=="int"){if(!(d.keyCode>=rdx.keycodes.ZERO&&d.keyCode<=rdx.keycodes.NINE)&&!(d.keyCode>=rdx.keycodes.NUMPAD_ZERO&&d.keyCode<=rdx.keycodes.NUMPAD_NINE)&&d.keyCode!=rdx.keycodes.BACKSPACE&&d.keyCode!=rdx.keycodes.DELETE){d.preventDefault()}}else{if(c=="double"){if(!(d.keyCode>=rdx.keycodes.ZERO&&d.keyCode<=rdx.keycodes.NINE)&&!(d.keyCode>=rdx.keycodes.NUMPAD_ZERO&&d.keyCode<=rdx.keycodes.NUMPAD_NINE)&&d.keyCode!=rdx.keycodes.BACKSPACE&&d.keyCode!=rdx.keycodes.DELETE&&d.keyCode!=rdx.keycodes.DECIMAL_POINT&&parseInt(d.keyCode)!=190){d.preventDefault()}}}};rdx.expression_editor.prototype.populate_data_for_evaluate_textarea=function(c,d){if(!rdx.utils.is_defined(d.get_data())){return}switch(d.get_data()){case"Post Request":this._evaluate_editable_div.text(rdx.i18n.get_string("rdx.expression_editor.sample.post_request"));break;case"Get Request":this._evaluate_editable_div.text(rdx.i18n.get_string("rdx.expression_editor.sample.get_request"));break;case"404 Not Found Response":this._evaluate_editable_div.text(rdx.i18n.get_string("rdx.expression_editor.sample.404_not_found_response"));break;case"200 OK Response":this._evaluate_editable_div.text(rdx.i18n.get_string("rdx.expression_editor.sample.200_ok_response"));break;case"Text URL":this._evaluate_editable_div.text(rdx.i18n.get_string("rdx.expression_editor.sample.text_url"));break;default:this._evaluate_editable_div.text("")}d.set_data()};rdx.expression_editor.prototype.evaluate_expression=function(h,e){var f="<pre>";var g="";if(rdx.utils.is_defined(h.policyevaluation)){if(rdx.utils.is_defined(h.policyevaluation[0]["expression"])){if(rdx.utils.is_defined(h.policyevaluation[0]["pitnumresult"])){g=h.policyevaluation[0]["pitnumresult"];f="Result as number: "+g+"\n";f=f+"Evaluation time in nanoseconds: "+h.policyevaluation[0]["pitnumevaltime"]+"\n"}if(rdx.utils.is_defined(h.policyevaluation[0]["pitulongresult"])){if(rdx.utils.is_empty(f)){g=h.policyevaluation[0]["pitrefresult"];f="Result as unsigned long: "+g+"\n"}else{g=h.policyevaluation[0]["pitulongresult"];f=f+"\nResult as unsigned long: "+g+"\n"}f=f+"Evaluation time in nanoseconds: "+h.policyevaluation[0]["pitulongevaltime"]+"\n"}if(rdx.utils.is_defined(h.policyevaluation[0]["pitdoubleresult"])){if(rdx.utils.is_empty(f)){g=h.policyevaluation[0]["pitrefresult"];f="Result as double: "+h.policyevaluation[0]["pitrefresult"]+"\n"}else{g=h.policyevaluation[0]["pitdoubleresult"];f=f+"\nResult as double: "+h.policyevaluation[0]["pitdoubleresult"]+"\n"}f=f+"Evaluation time in nanoseconds: "+h.policyevaluation[0]["pitdoubleevaltime"]+"\n"}if(rdx.utils.is_defined(h.policyevaluation[0]["pitboolresult"])){g=h.policyevaluation[0]["pitboolresult"];f="Result as bool: "+g+"\n";f=f+"Evaluation time in nanoseconds: "+h.policyevaluation[0]["pitboolevaltime"]+"\n"}if(rdx.utils.is_defined(h.policyevaluation[0]["pitrefresult"])||rdx.utils.is_defined(h.policyevaluation[0]["pitreferrorresult"])){if(rdx.utils.is_empty(h.policyevaluation[0]["pitrefresult"])){h.policyevaluation[0]["pitrefresult"]="UNDEF"}if(rdx.utils.is_defined(h.policyevaluation[0]["pitreferrorresult"])){h.policyevaluation[0]["pitrefresult"]=h.policyevaluation[0]["pitreferrorresult"]}g=h.policyevaluation[0]["pitrefresult"];if(rdx.utils.is_empty(f)){f="Result as string: "+h.policyevaluation[0]["pitrefresult"]+"\n"}else{f=f+"\nResult as string: "+h.policyevaluation[0]["pitrefresult"]+"\n"}f=f+"Evaluation time in nanoseconds: "+h.policyevaluation[0]["pitrefevaltime"]+"\n"}this._highlight_result_string(e,g)}else{if(rdx.utils.is_defined(h.policyevaluation[0]["action"])&&rdx.utils.is_defined(h.policyevaluation[0]["pitmodifiedinputdata"])){f=this._get_difference_and_highlight(e.value,h.policyevaluation[0]["pitmodifiedinputdata"])}}}if((rdx.utils.is_empty(f))||((rdx.utils.is_defined(h.policyevaluation[0]["pitoffsetresultlen"])&&(h.policyevaluation[0]["pitoffsetresultlen"]==0)))){f="Result as string: NULL\n";if(rdx.utils.is_defined(h.policyevaluation[0]["pitrefevaltime"])){f=f+"Evaluation time in nanoseconds: "+h.policyevaluation[0]["pitrefevaltime"]+"\n"}}f+="</pre>";this._result_textarea.html(f)};rdx.expression_editor.prototype._get_difference_and_highlight=function(y,o){var w=0;var x=0;var s="";var z="<span style='background-color: yellow;'><pre class = 'highlight_data'>";var t=o.split(" ");var q=y.split(" ");for(var u=0;u<t.length;u++){if(t[u]===q[u]){s+=t[u]}else{var v="";Array.from(t[u]).filter(function(a){if(Array.from(q[u]).indexOf(a)===-1){v+=z+a+"</pre></span>"}else{v+=a}});s+=v}}var p="<pre class = 'highlight_data'>"+s+"</pre>";return p};rdx.expression_editor.prototype._highlight_result_string=function(q,t){var u=q.value.toUpperCase().indexOf(t.toUpperCase());var p="highlight_data";if(u!=-1){var s=q.value.substring(0,u);var o=q.value.substring(u+t.length,q.value.length);s=s.replace(new RegExp("<","g"),"&lt;").replace(new RegExp(">","g"),"&gt;");o=o.replace(new RegExp("<","g"),"&lt;").replace(new RegExp(">","g"),"&gt;");t=t.replace(new RegExp("<","g"),"&lt;").replace(new RegExp(">","g"),"&gt;");subset_strings=t.split("\n");var x="<span style='background-color: yellow;'><pre class = 'highlight_data'>";var n="<pre class = 'highlight_data'>"+s+"</pre>";for(var v=0;v<subset_strings.length;v++){var w=q.value.substring(q.value.toUpperCase().indexOf(subset_strings[v].toUpperCase()),q.value.toUpperCase().indexOf(subset_strings[v].toUpperCase())+subset_strings[v].length);n=n+x+w+"</pre></span>"}if(o.startsWith("\r\n")){p="zero_margin_pre"}n=n+"<pre class = "+p+">"+o+"</pre>";this._evaluate_editable_div.html(n)}else{this._evaluate_editable_div.html(q.value)}};rdx.expression_editor.prototype.get_all_saved_expressions=function(q,n,t){var s=q.get_collated_response();var m=q.get_collated_result();this.expression_editor_saved_expression={name:[],value:[]};this.expression_editor_saved_expression.name[0]=rdx.i18n.get_string("rdx.select");this.expression_editor_saved_expression.value[0]="";if(m[0]==true&&rdx.utils.is_defined(s[0]["policyexpression"])){for(var l=0;l<s[0]["policyexpression"].length;l++){if(s[0]["policyexpression"][l]["type1"]=="ADVANCED"){this.expression_editor_saved_expression.name.push(s[0]["policyexpression"][l]["name"]);this.expression_editor_saved_expression.value.push(s[0]["policyexpression"][l]["value"])}}}if(m[1]==true&&rdx.utils.is_defined(s[1]["nsvariable"])){for(var l=0;l<s[1]["nsvariable"].length;l++){if(s[1]["nsvariable"][l]["type"]=="ulong"){this._nsvariables.ulong.push("$"+s[1]["nsvariable"][l]["name"].toUpperCase())}else{if(rdx.utils.is_defined((s[1]["nsvariable"][l]["type"]).match(/^text\(.*/))){this._nsvariables.text.push("$"+s[1]["nsvariable"][l]["name"].toUpperCase())}else{this._nsvariables.map.push("$"+s[1]["nsvariable"][l]["name"].toUpperCase())}}}}if(this._properties.is_epa==false&&this._properties.extension_support_required==true&&m[2]==true&&rdx.utils.is_defined(s[2]["nsextension"])&&s[2]["nsextension"].length>0){var o=s[2]["nsextension"][0]["name"];for(var l=1;l<s[2]["nsextension"].length;l++){var p={};p.scriptname=s[2]["nsextension"][l]["name"];if(o==p.scriptname){p.func_name=s[2]["nsextension"][l]["extensionfunctionname"];p.classtype=s[2]["nsextension"][l]["extensionfunctionclasses"];p.return_type=s[2]["nsextension"][l]["extensionfunctionreturntype"];p.arg_type=s[2]["nsextension"][l]["extensionfunctionargtype"];p.arg_pisyntax_type=s[2]["nsextension"][l]["extensionfunctionallparams"];p.arg_count=s[2]["nsextension"][l]["extensionfunctionallparamscount"];p.help=s[2]["nsextension"][l]["extensionfuncdescription"];if(rdx.utils.is_defined(p.func_name)){this._extended_functions[p.func_name.toUpperCase()]=p}}else{o=p.scriptname;continue}}}if(rdx.utils.is_defined(n)){this.expression_editor_saved_expression.name.push(n.name);this.expression_editor_saved_expression.value.push(n.value)}this._import_expressions.remove_items(false,false);this._import_expressions.add_data_items(this.expression_editor_saved_expression.name)};rdx.expression_editor.prototype.add_imported_expression_to_current_expression=function(c){if(this._import_expressions.get_data()=="Select"){return}for(var d=0;d<this.expression_editor_saved_expression.name.length;d++){if(this._import_expressions.get_data()==this.expression_editor_saved_expression.name[d]){this._append_expression(this.expression_editor_saved_expression.name[d]);break}}};rdx.expression_editor.prototype.change_sample_data_according_to_flow_type=function(c,d){switch(this._flowtype_dropdown.get_data()){case"HTTP Request":this._flowtype_selected="http_req";d.remove_items(false,false);d.add_data_items(["Sample","Post Request","Get Request"]);break;case"HTTP Response":this._flowtype_selected="http_res";d.remove_items(false,false);d.add_data_items(["Sample","404 Not Found Response","200 OK Response"]);break;case"Text":this._flowtype_selected="text";d.remove_items(false,false);d.add_data_items(["Sample","Text URL"]);break;default:this._flowtype_selected=null;d.remove_items(false,false);d.add_data_items(["Sample","Post Request","Get Request"]);break}d.set_data(rdx.i18n.get_string("rdx.expression_evaluator.sample_data.label"));this._flowtype_dropdown.set_data()};rdx.expression_editor.prototype.add_help_text=function(b){b=rdx.utils.is_defined(b)?b:{};this._current_help_icon_cell.unbind(rdx.events.MOUSE_OVER);this._current_help_icon_cell.unbind(rdx.events.CLICK);this._current_help_icon_cell.bind(rdx.events.MOUSE_OVER,{expression:this,properties:b},function(a){if(rdx.utils.is_object_empty(a.data.expression._extended_functions)||rdx.utils.is_not_defined(a.data.expression._extended_functions[a.data.expression._input_value])){a.data.properties.message=a.data.properties.message}else{a.data.properties.message=a.data.expression._get_scriptfunction_help(a.data.expression._input_value)}a.data.expression._current_help_icon.render(a.data.properties)});this._current_help_icon_cell.bind(rdx.events.CLICK,{expression:this,properties:b},function(a){if(rdx.utils.is_object_empty(a.data.expression._extended_functions)||rdx.utils.is_not_defined(a.data.expression._extended_functions[a.data.expression._input_value])){a.data.properties.message=a.data.properties.message}else{a.data.properties.message=a.data.expression._get_scriptfunction_help(a.data.expression._input_value)}a.data.expression._current_help_icon.render(a.data.properties)})};rdx.expression_editor.prototype.close_expression_buider_dialog=function(b){this._box_expression_builder.children().remove();this._dropdown_created=[];this._input_value=undefined;this.preview_expression_textarea_in_builder.set_data("");b.remove();if(rdx.page.get_slider_crumb().get_current_crumb().index<=0){rdx.page.hide_slider()}else{rdx.page.get_slider_crumb().remove_current_crumb()}$(this._expression_builder_link_div_container).trigger(rdx.events.VIEW_DESTROYED,{slider_clicked:this._properties.slider});this._expression_builder_link_div_container.remove();if(rdx.utils.is_defined(this._properties.close_builder_dialog_callback)){this._properties.close_builder_dialog_callback.call_back([this._expression_textarea])}};rdx.expression_editor.prototype._get_frequency_data=function(){if(rdx.utils.is_defined(this["parameter_value_frequency"])){return this["parameter_value_frequency"].get_data()}return""};rdx.expression_editor.prototype._handle_done_button_click=function(p,q){if($.trim(this._expression_textarea.get_data())==""){this._start_new_exp=true}else{this._start_new_exp=false}if(this._start_new_exp){if(this._properties.is_epa===true){var n=this._get_frequency_data();var o="CLIENT.APPLICATION";var m=this.preview_expression_textarea_in_builder.get_data();if(this._components_created.length>1&&neo.epa_utils._check_for_direct_scans(this._components_created[1].get_data())){o="CLIENT.SYSTEM"}if(rdx.utils.is_not_empty(m)&&rdx.utils.is_not_empty(n)){this._append_expression(o+"("+m+") EXISTS -frequency "+n)}else{if(rdx.utils.is_not_empty(m)){this._append_expression(o+"("+m+") EXISTS")}}}else{this._append_expression(this.preview_expression_textarea_in_builder.get_data())}this._start_new_exp=false}else{if(this._properties.is_epa===true){var n=this._get_frequency_data();var o="CLIENT.APPLICATION";var m=this.preview_expression_textarea_in_builder.get_data();if(neo.epa_utils._check_for_direct_scans(this._components_created[1].get_data())){o="CLIENT.SYSTEM"}if(rdx.utils.is_not_empty(n)){this._append_expression(o+"("+m+") EXISTS -frequency "+n)}else{this._append_expression(o+"("+m+") EXISTS")}}else{this._append_expression(this.preview_expression_textarea_in_builder.get_data())}}if(this._properties.is_epa===true){var h=$(".expression_textarea");var l=h.val().length;h.focus();h[0].setSelectionRange&&h[0].setSelectionRange(l,l)}this.close_expression_buider_dialog(q)};rdx.expression_editor.prototype._handle_cancel_button_click=function(c,d){this.close_expression_buider_dialog(d);if(this._expression_textarea.get_data()==""){this._start_new_exp=true}};rdx.expression_editor.prototype._handle_evaluate_button_click=function(m){var f=this._evaluate_editable_div[0].innerText;f=f.replace(new RegExp("\n","g"),"\r\n").concat("\r\n");var g={name:"input",value:f};var h="";if(this._properties.standalone_evaluator&&this._properties.render_textarea_in_evaluator){h=this._expression_textarea.get_data()}else{h=this.preview_expression_textarea_in_evaluator.get_data()}var l={force_get_by_name:[{name:"expression",value:h},{name:"type",value:this._flowtype_selected},g],use_args:true,is_query_param:true};if(this._properties.evaluate_action){l={force_get_by_name:[{name:"action",value:h},{name:"type",value:this._flowtype_selected},g],use_args:true,is_query_param:true}}rdx.model.get(rdx.utils.get_resource("policyevaluation"),l,new rdx.callback(this,this.evaluate_expression,[g]),null,new rdx.callback(function(a,b){b._result_textarea.text("");rdx.message_box.error(a,null,rdx.i18n.get_string("rdx.message_box_error"),null)},[this]))};rdx.expression_editor.prototype._handle_close_button_click=function(f,e,d){this._flowtype_dropdown.set_data("Select");this._evaluate_editable_div.text("");e.set_data("Sample");this._result_textarea.text("");if(rdx.page.get_slider_crumb().get_current_crumb().index<=0){rdx.page.hide_slider()}else{rdx.page.get_slider_crumb().remove_current_crumb()}$(this._expression_evaluator_link_div_container).trigger(rdx.events.VIEW_DESTROYED,{slider_clicked:this._properties.slider});this._expression_evaluator_link_div_container.remove()};rdx.expression_editor.prototype._handle_pat_set_and_data_set=function(q,m){m.set_data();var n=this._get_dropdown_index(q,m);dropdowns_created_index=n.dropdowns_created;components_created_index=n.components_created;switch(m.get_data()){case"Select":var l;for(var h=0;h<this._dropdown_created.length;h++){if(this._dropdown_created[h].get_component()[0]==q.target){l=h;break}}this._dropdown_created.splice(l+1,this._dropdown_created.length-l-1);for(var h=this._box_expression_builder.children().length-1;;){if(q.target.parentNode.parentNode==this._box_expression_builder.children("div:eq("+h+")")[0]){break}else{var o=this._box_expression_builder.children("div:eq("+h+")");if(!o.hasClass("expression_editor_help")){this._components_created.pop()}o.remove();h--}}break;case"Pattern Set":var p=$("<div>").addClass("rdx_left");if(!m.get_wrapper().next().hasClass("expression_editor_help")){m.get_wrapper().next().remove();this._dropdown_created.splice(dropdowns_created_index+1,1);this._components_created.splice(components_created_index+1,1)}m.get_wrapper().after(p);this._add_dropdown_for_value_from_other_resource(p,[{resrc_name:"policypatset",resrc_key:"name"}],null,null,n);break;case"Data Set":var p=$("<div>").addClass("rdx_left");if(!m.get_wrapper().next().hasClass("expression_editor_help")){m.get_wrapper().next().remove();this._dropdown_created.splice(dropdowns_created_index+1,1);this._components_created.splice(components_created_index+1,1)}m.get_wrapper().after(p);this._add_dropdown_for_value_from_other_resource(p,[{resrc_name:"policydataset",resrc_key:"name"}],null,null,n);break;default:return}this._add_arguements_to_textarea()};rdx.expression_editor.prototype._get_dropdown_index=function(n,m,l){var h={dropdowns_created:0,components_created:0};var o=0;for(var q=0;q<this._dropdown_created.length;q++){var p=this._dropdown_created[q].get_field().get_properties()["parameter"];if(p=="none"){o++}if(this._dropdown_created[q].get_component()[0]==n.target){if(rdx.utils.is_defined(l)&&l==true){h.dropdowns_created=o-1}else{h.dropdowns_created=q}}}o=0;for(var q=0;q<this._components_created.length;q++){var p=this._components_created[q].get_field().get_properties()["parameter"];if(p=="none"){o++}if(this._components_created[q] instanceof rdx.expression_editor.custom_dropdown&&this._components_created[q].get_component()[0]==n.target){if(rdx.utils.is_defined(l)&&l==true){h.dropdowns_created=o-1}else{h.components_created=q}}}return h};rdx.expression_editor.prototype._add_dropdown_for_value_from_other_resource=function(o,n,h,p,m){if(rdx.utils.is_defined(n)){var l=new rdx.model_executor_service(new rdx.callback(null,function(g,b,B,d,f,e,z){var A=["Select"];var c=g.get_collated_response();for(var a=0;a<c.length;a++){if(rdx.utils.is_defined(c[a][B[a].resrc_name])){for(var y=0;y<c[a][B[a].resrc_name].length;y++){A.push(c[a][B[a].resrc_name][y][B[a].resrc_key])}}}var x=null;if(rdx.utils.is_defined(f)&&f=="int"){x=new rdx.expression_editor.custom_dropdown(d,new rdx.form_field({formatter:{map:A},mandatory:true,properties:{parameter:"int",size:1,label:rdx.i18n.get_string("rdx.select")}})).render()}else{x=new rdx.expression_editor.custom_dropdown(d,new rdx.form_field({formatter:{map:A},mandatory:true,properties:{parameter:"String",size:1,label:rdx.i18n.get_string("rdx.select")}})).render()}z._dropdown_created.splice(e.dropdowns_created+1,0,x);z._components_created.splice(e.components_created+1,0,x);x.get_component().bind(rdx.events.CHANGE,{dropdown:x,expression_editor:z},function(s){s.data.dropdown.set_data();s.data.expression_editor._add_arguements_to_textarea("String")})},[new rdx.callback(),n,o,p,m,this]));for(var q=0;q<n.length;q++){l.add("get",rdx.utils.get_resource(n[q]["resrc_name"]),null,null,h)}l.execute()}};rdx.expression_editor.custom_dropdown=function(c,d){this._list=null;this._DEFAULT_PROPERTIES={};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d.get_properties());this._span="";this.render=function(){this._list=new rdx.list(c,d).render();this._span=$("<span>");if(rdx.utils.is_defined(this._properties.add_textoverflow_class)&&this._properties.add_textoverflow_class){this._span.addClass("ribbon_dropdown_list textoverflow")}else{this._span.addClass("ribbon_dropdown_list")}c.append(this._span.append(this._properties.label));c.wrapInner($("<div>").addClass("ribbon_label_div").addClass("ribbon_list_wrapper"));return this};this.get_data=function(){return this._list.get_data()};this.set_data=function(a){if(rdx.utils.is_defined(a)){this._span.text(a)}else{this._span.text(this._list.get_data())}};this.get_component=function(){return this._list.get_component()};this.get_list=function(){return this._list};this.get_field=function(){return this._list.get_field()};this.get_wrapper=function(){return this._list.get_component().parent().parent()};this.add_event_handler=function(b,a){this._list.add_event_handler(b,a)};this.remove_items=function(a,b){this._list.remove_items(a,b)};this.add_data_items=function(a,b){this._list.add_data_items(a,b)}};rdx.expression_editor.custom_textarea=function(c,d){this._element=null;this._DEFAULT_PROPERTIES={};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d.get_properties());this.render=function(){this._element=$("<div>").attr("contenteditable","true");c.append(this._element);return this};this.get_data=function(){var b=this._element.html();var n=[];var m=b.indexOf("<span>");if(m!=-1){b=b.substr(0,m)+b.substr(parseInt(m)+parseInt("<span>".length));m=b.indexOf("</span>");b=b.substr(0,m)+b.substr(parseInt(m)+parseInt("</span>".length))}n=b.split("<br>");for(var l=0;l<n.length;l++){var a=n[l].indexOf("\n");if(a!=-1){n[l]=n[l].substr(0,a)}}var o=n[0];for(var l=1;l<n.length;l++){o=o+"\r\n"+n[l]}if(m!=-1){this.set_data(o)}o=rdx.utils.html_decode(o);return o};this.set_data=function(a){var b=a;var l=b.split("\n");var m=l[0];for(var h=1;h<l.length;h++){m=m+"<br>"+l[h]}this._element.html(m)};this.highlight_data=function(a,h){var b=this.get_data();var l=b.substr(0,a)+"<span>"+b.substr(a);var m=parseInt(a)+parseInt("<span>".length)+parseInt(h);l=l.substr(0,m)+"</span>"+l.substr(m);this.set_data(l)};this.get_component=function(){return this._element};this.toggle_read_only=function(a){if(a){this._element.attr("contenteditable","true")}else{this._element.attr("contenteditable","false")}}};rdx.expression_editor.prototype._create_form_for_creating_new_variable=function(J,E){if(this._sub_dialog_opened==true){return}var V=$("<div>").addClass("variable_sup sub_exp");V.append($("<div>").addClass("expression_editor_title").text(rdx.i18n.get_string("rdx.create_new_variable")));var M=$("<table>");var W=$("<tr>").append($("<td>").text(rdx.i18n.get_string("rdx.name")));var O=$("<td>");var L=new rdx.text_box(O,new rdx.form_field({key:"name"})).render();W.append(O);var R=$("<tr>").append($("<td>").text(rdx.i18n.get_string("rdx.value_length")));var H=$("<td>");var S=new rdx.text_box(H,new rdx.form_field({key:"val_length"})).render();R.append(H);var N=$("<tr>").append($("<td>").text(rdx.i18n.get_string("rdx.map_value"))).addClass("hidden");var D=$("<td>");var T=new rdx.text_box(D,new rdx.form_field({key:"map_val",watermark:"rdx.map_variable_initialization_type"})).render();N.append(D);var G=$("<tr>").append($("<td>").text(rdx.i18n.get_string("rdx.type")));var K=$("<td>");var P=null;if(rdx.utils.is_defined(E)&&E=="ulong"){P=new rdx.text_box(K,new rdx.form_field({key:"type",read_only:true})).render();P.set_data("ulong");R.hide();N.hide()}else{P=new rdx.list(K,new rdx.form_field({key:"type",mandatory:true,properties:{size:1},formatter:{map:["text","map"]}})).render();P.set_data("text");P.get_component().bind(rdx.events.CHANGE,{variable_text_value_tr:R,variable_map_value_tr:N},function(a){if(a.target.value=="text"){R.show();N.hide()}else{N.show();R.hide()}})}G.append(K);var B=$("<tr>").append($("<td>").text(rdx.i18n.get_string("rdx.init")));var U=$("<td>");var F=new rdx.text_box(U,new rdx.form_field({key:"init"})).render();B.append(U);M.append(W).append(G).append(R).append(N).append(B);var I=$(this._exp_builder_box).children("div.expression_builder_box_div").height();V.append($("<div>").addClass("expression_builder_box_div").append(M));var Z=[L,P,F,S,T];var C=$("<div>").addClass("form_buttons");var Q=new rdx.button_bar(C,new rdx.form_field({properties:{add_blue_button:true,blue_button_label:rdx.i18n.get_string("rdx.form_add_button_label"),blue_button_click_handler_callback:new rdx.callback(this,this._handle_create_variable_button_click,[Z,J,V]),add_grey_button:true,grey_button_label:rdx.i18n.get_string("rdx.cancel_button.label"),grey_button_click_handler_callback:new rdx.callback(this,this._handle_cancel_variable_button_click,[V])}})).render();V.append(C);this._sub_dialog_opened=true;$(this._exp_builder_box).addClass("rdx_relative").append(V);V.animate({left:-1,width:"101%"},300)};rdx.expression_editor.prototype._epa_handle_create_variable_button_click=function(D,B,C,x,v){var q="";var u="";for(var w=0;w<B.length;w++){if(rdx.utils.is_not_empty(B[w]["possible_value"].get_data())&&B[w]["type"]=="LIST"&&B[w]["allowmultiple"]==false){q+=B[w]["name"]+"_"+B[w]["comparator"].get_data()+"_"+B[w]["possible_value"].get_field().get_formatter()._input_map[B[w]["possible_value"].get_data()]+"_"}else{if(rdx.utils.is_not_empty(B[w]["possible_value"].get_data())&&B[w]["type"]=="LIST"&&B[w]["allowmultiple"]==true){q+=B[w]["name"]+"_"+B[w]["comparator"].get_data();var t=B[w]["possible_value"].get_data();var s="";for(var z=0;z<t.length;z++){if(rdx.utils.is_not_empty(t[z])){s+=B[w]["possible_value"].get_field().get_formatter().get_storage_value(t[z])+","}}q+="_"+s.replace(/,$/,"")}else{if(rdx.utils.is_not_empty(B[w]["possible_value"].get_data())&&B[w]["name"]==="COMMENT"){u=B[w]["possible_value"].get_data()}else{if(rdx.utils.is_not_empty(B[w]["possible_value"].get_data())){var y=B[w]["possible_value"].get_data();var A=y.split("\\");y=A.join("\\\\\\\\");y=y.replace(/_/g,"\\\\_").replace(/ /g,"\\ ").replace(/,$/,"");q+=B[w]["name"]+"_"+B[w]["comparator"].get_data()+"_"+y+"_"}}}}}if(q.match(/ENC-TYPE/)&&!q.match(/ENC-PATH/)){rdx.message_box.error(rdx.i18n.get_string("rdx.epa_enc_path_missing_error"));return}if(q.match(/ENC-PATH/)&&!q.match(/ENC-TYPE/)){rdx.message_box.error(rdx.i18n.get_string("rdx.epa_enc_type_missing_error"));return}q=q.replace(/_$/,"");if(rdx.utils.is_not_empty(u)){q+="[COMMENT: "+u+"]"}C.set_data(q);C.get_component().trigger(rdx.events.KEYUP);this._handle_cancel_variable_button_click(D,x)};rdx.expression_editor.prototype._handle_create_variable_button_click=function(u,s,t,p,n){var v={};for(var o=0;o<s.length;o++){v[s[o].get_field().get_key()]=s[o].get_data()}if(v.type=="text"){v.type=v.type+"("+v.val_length+")"}else{if(v.type=="map"){v.type=v.type+"("+v.map_val+")"}}delete v.map_val;delete v.val_length;var m=function(f,c,b,d,e,a){if(f.errorcode==0){d.set_data("$"+v.name);d.get_component().removeAttr("parameter");d.get_component().trigger(rdx.events.KEYUP);a._handle_cancel_variable_button_click(c,e)}};var q=function(a){rdx.message_box.error(a,null,rdx.i18n.get_string("neo.error_message_title"),null)};rdx.model.add(rdx.utils.get_resource("nsvariable"),new rdx.callback(m,[u,s,t,p,this]),v,new rdx.callback(q),null,null)};rdx.expression_editor.prototype._create_form_for_selecting_variable=function(c,d){rdx.model.get_all(rdx.utils.get_resource("nsvariable"),null,new rdx.callback(null,function(C,v,y){if(y._sub_dialog_opened==true){return}var A=$("<div>").addClass("variable_sup sub_exp");A.append($("<div>").addClass("expression_editor_title").text(rdx.i18n.get_string("rdx.select_any_variable")));var a=$(this._exp_builder_box).children("div.expression_builder_box_div").height();var u=$("<div>").addClass("expression_builder_box_div");var w=[];var F=[];var z=null;if(rdx.utils.is_defined(C.nsvariable)){for(var B=0;B<C.nsvariable.length;B++){if(C.nsvariable[B].type=="ulong"){F.push(C.nsvariable[B])}else{w.push(C.nsvariable[B])}}if(rdx.utils.is_not_empty(w)&&rdx.utils.is_defined(v)&&$.inArray(v,["uint","int","double","ulong","mac","ulong_var"])==-1){var E=[];for(var B=0;B<w.length;B++){if((v=="map"&&w[B].type.match(/.*map.*/))||(v=="text"&&w[B].type.match(/^text.*/))||v=="String"||v=="both"){E.push(w[B]["name"])}}z=new rdx.radio_group(u,new rdx.form_field({key:"text_type_var",formatter:{map:E},properties:{render_mode:"row"}})).render()}else{if(rdx.utils.is_not_empty(F)&&rdx.utils.is_defined(v)&&v=="ulong"){var x=[];for(var B=0;B<F.length;B++){x.push(F[B]["name"])}z=new rdx.radio_group(u,new rdx.form_field({key:"ulong_type_var",formatter:{map:x},properties:{render_mode:"row"}})).render()}}}A.append(u);var b=$("<div>").addClass("form_buttons");var D=new rdx.button_bar(b,new rdx.form_field({properties:{add_blue_button:true,blue_button_label:rdx.i18n.get_string("rdx.form_modify_button_label"),blue_button_click_handler_callback:new rdx.callback(y,y._handle_ok_button_click,[z,c,A]),add_grey_button:true,grey_button_label:rdx.i18n.get_string("rdx.cancel_button.label"),grey_button_click_handler_callback:new rdx.callback(y,y._handle_cancel_variable_button_click,[A])}})).render();A.append(b);$(y._exp_builder_box).addClass("rdx_relative").append(A);y._sub_dialog_opened=true;A.animate({left:-1,width:"101%"},300)},[d,this]))};rdx.expression_editor.prototype._handle_cancel_variable_button_click=function(c,d){this._sub_dialog_opened=false;d.animate({left:"700px"},300,function(){d.remove();$(this._exp_builder_box).removeClass("rdx_relative")})};rdx.expression_editor.prototype._handle_ok_button_click=function(m,h,f,g){var l=h.get_data();f.set_data("$"+l);f.get_component().removeAttr("parameter");f.get_component().trigger(rdx.events.KEYUP);this._handle_cancel_variable_button_click(m,g)};rdx.expression_editor.prototype._create_expression_starting_with_variable=function(n,l){l.set_data();switch(l.get_data()){case"Select":return;case"ulong":while(l.get_wrapper().next().length!=0){l.get_wrapper().next().remove()}this._dropdown_created.splice(2,this._dropdown_created.length);this._components_created.splice(2,this._components_created.length);this.get_parameter_for_method_class("ulong_var");this._selected_class_order.push("num_at");var g=neo.pi_syntax_utils.get_data_items("num_at");this._box_expression_builder.append($("<div>"));var m=new rdx.expression_editor.custom_dropdown(this._box_expression_builder.children().last(),new rdx.form_field({formatter:{map:g.data_items},options_in_bold:g.bold_data_items,mandatory:true,properties:{size:1,label:rdx.i18n.get_string("rdx.select"),add_textoverflow_class:true}})).render();this._dropdown_created.push(m);this._components_created.push(m);this._box_expression_builder.children().last().addClass("rdx_left");m.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._add_more_dropdowns,[m]));break;case"text":while(l.get_wrapper().next().length!=0){l.get_wrapper().next().remove()}this._dropdown_created.splice(2,this._dropdown_created.length);this._components_created.splice(2,this._components_created.length);this.get_parameter_for_method_class("text");this._selected_class_order.push("text_t");var g=neo.pi_syntax_utils.get_data_items("text_t");this._box_expression_builder.append($("<div>"));var m=new rdx.expression_editor.custom_dropdown(this._box_expression_builder.children().last(),new rdx.form_field({formatter:{map:g.data_items},options_in_bold:g.bold_data_items,mandatory:true,properties:{size:1,label:rdx.i18n.get_string("rdx.select"),add_textoverflow_class:true}})).render();this._dropdown_created.push(m);this._components_created.push(m);this._box_expression_builder.children().last().addClass("rdx_left");m.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._add_more_dropdowns,[m]));break;case"map":while(l.get_wrapper().next().length!=0){l.get_wrapper().next().remove()}this._dropdown_created.splice(2,this._dropdown_created.length);this._components_created.splice(2,this._components_created.length);this.get_parameter_for_method_class("map",null,true);var h=$("<div>").addClass("rdx_left");this._box_expression_builder.append(h);var o=new rdx.expression_editor.custom_dropdown(h,new rdx.form_field({formatter:{map:["Select","valueExists","valueCount"]},mandatory:true,properties:{size:1,label:rdx.i18n.get_string("rdx.select")}})).render();o.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._create_expression_starting_with_map_variable,[o]));this._dropdown_created.push(o);this._components_created.push(o);break;case"epa":this.get_parameter_for_method_class("epa",l.getdata());break;default:return}this._add_arguements_to_textarea()};rdx.expression_editor.prototype._create_expression_starting_with_map_variable=function(e,g){g.set_data();switch(g.get_data()){case"Select":while(g.get_wrapper().next().length!=0){g.get_wrapper().next().remove()}this._dropdown_created.splice(3,this._dropdown_created.length);this._components_created.splice(4,this._components_created.length);break;case"valueExists":while(g.get_wrapper().next().length!=0){g.get_wrapper().next().remove()}this._dropdown_created.splice(3,this._dropdown_created.length);this._components_created.splice(4,this._components_created.length);this.get_parameter_for_method_class("both",null,true);break;case"valueCount":while(g.get_wrapper().next().length!=0){g.get_wrapper().next().remove()}this._dropdown_created.splice(3,this._dropdown_created.length);this._components_created.splice(4,this._components_created.length);this._selected_class_order.push("num_at");var f=neo.pi_syntax_utils.get_data_items("num_at");this._box_expression_builder.append($("<div>"));var h=new rdx.expression_editor.custom_dropdown(this._box_expression_builder.children().last(),new rdx.form_field({formatter:{map:f.data_items},options_in_bold:f.bold_data_items,mandatory:true,properties:{size:1,label:rdx.i18n.get_string("rdx.select"),add_textoverflow_class:true}})).render();this._dropdown_created.push(h);this._components_created.push(h);this._box_expression_builder.children().last().addClass("rdx_left");h.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._add_more_dropdowns,[h]));break;default:return}this._add_arguements_to_textarea()};rdx.expression_editor.prototype.get_label_container=function(){return this._label_span};rdx.expression_editor.prototype._create_form_for_epa_supported_scans=function(J,E){if(this._sub_dialog_opened==true){return}var A=neo.epa_utils.render_drop_down_for_inner_data(E);var R=$("<div>").addClass("variable_sup sub_exp");R.append($("<div>").addClass("expression_editor_title").text("Create Product Scans"));var L=$("<table>");var V=[];var G=[];for(var D=0;D<A.data_items.length;D++){var S=$("<tr>").append($("<td>").text(A.ui_names[D]));var T=$("<td>");var F=new rdx.list(T,new rdx.form_field({key:A.data_items[D],mandatory:true,properties:{size:1},formatter:{map:A.comparator[D]}})).render();var M=$("<td>");var I;var Q=A.tooltip[D];var B=$("<div>").addClass("search_tip_container");var K=$("<div>").addClass("search_tip_content");var O=$("<span>").addClass("search_help_text").append(Q);var P=$("<span>").addClass("search_tip_close_button");if(A.type[D]==="LIST"&&rdx.utils.is_not_empty(A.possible_values[D])&&A.allowmultiple[D]===false){I=new rdx.list(M,new rdx.form_field({key:A.data_items[D],mandatory:true,properties:{size:1},formatter:{map:A.possible_values[D]}})).render()}else{if(A.type[D]==="LIST"&&rdx.utils.is_not_empty(A.possible_values[D])&&A.allowmultiple[D]===true){I=new rdx.list(M,new rdx.form_field({key:A.data_items[D],properties:{size:2,multi_select:true},formatter:{map:A.possible_values[D]}})).render()}else{if(A.type[D]==="LIST"&&rdx.utils.is_empty(A.possible_values[D])){A.type[D]="TEXT";I=new rdx.text_box(M,new rdx.form_field({key:A.data_items[D],watermark:"Use comma separated values.Ex: var1,var2,var3"})).render()}else{if(A.type[D]==="BOOLEAN"){I=new rdx.text_box(M,new rdx.form_field({key:A.data_items[D]})).render();I.set_data("TRUE")}else{if(A.type[D]==="SPECIAL"){continue}else{if(A.type[D]==="TEXT"&&A.data_items[D]==="COMMENT"){I=new rdx.text_box(M,new rdx.form_field({key:A.data_items[D]})).render();I.set_data(E)}else{I=new rdx.text_box(M,new rdx.form_field({key:A.data_items[D]})).render()}}}}}}P.bind(rdx.events.CLICK,{tooltip:this._search_tooltip},function(a){a.data.tooltip.remove_tooltip()});K.append(P,O);B.append(K);S.append(T).append(M);L.append(S);var U=new rdx.tooltip(I.get_component(),{append_element:B,remove_tooltip_mouse_leave:false});G.push(U);I.get_component().bind(rdx.events.FOCUS_IN,{tool_tip_obj_arr:G,i:D},function(a){a.data.tool_tip_obj_arr[a.data.i].render();a.stopPropagation()});I.get_component().bind(rdx.events.FOCUS_OUT,{tool_tip_obj_arr:G,i:D},function(a){a.data.tool_tip_obj_arr[a.data.i].remove_tooltip();a.stopPropagation()});V.push({name:A.data_items[D],comparator:F,possible_value:I,type:A.type[D],allowmultiple:A.allowmultiple[D]})}var H=$(this._exp_builder_box).children("div.expression_builder_box_div").height();R.append($("<div>").addClass("expression_builder_box_div").append(L));var C=$("<div>").addClass("form_buttons");var N=new rdx.button_bar(C,new rdx.form_field({properties:{add_blue_button:true,blue_button_label:rdx.i18n.get_string("rdx.form_modify_button_label"),blue_button_click_handler_callback:new rdx.callback(this,this._epa_handle_create_variable_button_click,[V,J,R]),add_grey_button:true,grey_button_label:rdx.i18n.get_string("rdx.cancel_button.label"),grey_button_click_handler_callback:new rdx.callback(this,this._handle_cancel_variable_button_click,[R])}})).render();R.append(C);this._sub_dialog_opened=true;$(this._exp_builder_box).addClass("rdx_relative").append(R);R.animate({left:-1,width:"101%"},300)};rdx.page.add_event_handler(rdx.events.APP_LOADED,new rdx.callback(rdx.utils,rdx.utils._initialize_expression_editor));rdx.expression_editor.prototype._show_intellisense_box=function(q,w,o,s){var x=[];this._intellisense_selected_option=null;this._intellisense_box=$("<div>").addClass("rdx_intellisense_cell");var t=$("<div>").addClass("intellisense_text");this._intellisense_box.append(t);this._intellisense_text_box=new rdx.text_box(t,new rdx.form_field({})).render();this._intellisense_text_box_component=this._intellisense_text_box.get_component();this._intellisense_option_holder=$("<div>").addClass("intellisense_option_holder");for(var u=0;u<q.length;u++){x[u]=$("<div>").addClass("intellisense_cell_options").text(q[u]);if(u==0){x[u].addClass("intellisense_option_focussed_cell");this._intellisense_selected_option=x[u]}this._intellisense_option_holder.append(x[u])}this._no_match_container=$("<div>").addClass("intellisense_cell_options").text("No Match").css({display:"none"});this._intellisense_option_holder.append(this._no_match_container);this._intellisense_box.append(this._intellisense_option_holder);var n=$("<div>").addClass("toggle_tooltip_holder");this._toggle_help_text_container=$("<div>").addClass("toggle_help_text_container");if(!this._tooltip_visibility){this._toggle_help_text_container.append(rdx.i18n.get_string("rdx.show_help"))}else{this._toggle_help_text_container.append(rdx.i18n.get_string("rdx.hide_help"))}n.append(this._toggle_help_text_container);this._intellisense_box.append(n);this._toggle_help_text_container.bind(rdx.events.CLICK,{that:this},function(a){a.data.that._toggle_tooltip_visibility();a.preventDefault()});var v=this._scrollbar_width();var p=new rdx.bubble_component(null,{x_y_position:{x_position:w,y_position:o},content_dom:this._intellisense_box,custom_class:"rdx_expression_editor_intellisense_z_index"});this._intellisense_bubble_box=p.render();this._intellisense_box.css("min-width",this._intellisense_bubble_box.width()+v);this._intellisense_text_box_component.css({"min-width":this._intellisense_box.width()});if(rdx.utils.is_defined(x)&&rdx.utils.is_defined(s)){this._add_help_intellisense(x[0],s[0])}if(!this._tooltip_visibility&&rdx.utils.is_defined(this._help_option_bubble)){this._help_option_bubble.hide()}for(var u=0;u<x.length;u++){x[u].bind(rdx.events.FOCUS,{that:this,intellisense_box:this._intellisense_option_holder,count:u},function(a){if(!$(this).is(":visible")){return}if(($(this).position().top+$(this).height())>=a.data.intellisense_box.height()){a.data.intellisense_box.scrollTop($(this).position().top+$(this).outerHeight()-a.data.intellisense_box.height()+a.data.intellisense_box.scrollTop())}else{if($(this).position().top<0){a.data.intellisense_box.scrollTop(a.data.intellisense_box.scrollTop()+$(this).position().top)}}if(rdx.utils.is_defined(a.data.that._help_option_bubble)){a.data.that._help_option_bubble.remove()}$(this).addClass("intellisense_option_focussed_cell");a.data.that._intellisense_selected_option=$(this);$(this).siblings().removeClass("intellisense_option_focussed_cell");if(rdx.utils.is_defined($(this))&&rdx.utils.is_defined(s)){a.data.that._add_help_intellisense($(this),s[a.data.count])}if(!a.data.that._tooltip_visibility&&rdx.utils.is_defined(a.data.that._help_option_bubble)){a.data.that._help_option_bubble.hide()}a.stopPropagation();a.preventDefault();return false});x[u].bind(rdx.events.MOUSE_MOVE,{that:this},function(a){if(a.data.that._mousemove_previousx!==a.clientX&&a.data.that._mousemove_previousy!==a.clientY){$(this).trigger("focus")}a.data.that._mousemove_previousx=a.clientX;a.data.that._mousemove_previousy=a.clientY});x[u].bind(rdx.events.CLICK,{that:this},function(a){a.preventDefault();$(this).trigger("focus");a.data.that._process_selection();return false})}this._intellisense_box.bind(rdx.events.REMOVE,{that:this},function(a){a.data.that._intellisense_box=null});this._intellisense_box.bind(rdx.events.MOUSE_DOWN,function(a){a.stopPropagation();a.preventDefault()})};rdx.expression_editor.prototype._add_help_intellisense=function(q,u){if(rdx.utils.is_defined(this._help_option_bubble)){this._help_option_bubble.remove()}this._content_holder=$("<div>").append(u).addClass("rdx_intellisense_help_content_holder");var B=$("<span>").addClass("rdx_intellisense_help_image");var x=$("<span>").addClass("rdx_intellisense_help_header_content_holder").append(q.text());var w=$("<div>").append(B,x).addClass("rdx_intellisense_help_header_holder");this._help_container=$("<div>").addClass("rdx_intellisense_help_bubble");this._help_container.append(w,this._content_holder);var p=new rdx.tooltip(q,{append_element:this._help_container,custom_class:"rdx_tooltip_z_index",remove_tooltip_mouse_leave:false});this._help_option_bubble=p.render();var s=false;var z=this._help_option_bubble.children();for(var y=0;y<z.length;y++){if($(z[y]).hasClass("rdx_position_bubble_arrow_right")){s=true;break}}if(s==true&&(this._intellisense_option_holder[0].scrollHeight>this._intellisense_option_holder[0].clientHeight)){var v=$(window).width();var A=$(window).scrollLeft();var t=A+v;if((this._help_option_bubble.offset().left+this._help_option_bubble.width()+this._scrollbar_width())<t){this._help_option_bubble.css({left:this._help_option_bubble.offset().left+this._scrollbar_width()})}}this._help_option_bubble.bind(rdx.events.MOUSE_DOWN,{that:this},function(a){a.preventDefault();a.stopPropagation()})};rdx.expression_editor.prototype._toggle_tooltip_visibility=function(){if(rdx.utils.is_defined(this._help_option_bubble)){if(this._help_option_bubble.is(":visible")){this._tooltip_visibility=false;this._toggle_help_text_container.text(rdx.i18n.get_string("rdx.show_help"))}else{this._tooltip_visibility=true;this._toggle_help_text_container.text(rdx.i18n.get_string("rdx.hide_help"))}this._help_option_bubble.toggle()}};rdx.expression_editor.prototype._focus_editor=function(){this._expression_textarea_component.focus()};rdx.expression_editor.prototype._clear_timer=function(){if(rdx.utils.is_defined(this._timer)){clearTimeout(this._timer)}this._timer=null};rdx.expression_editor.prototype._intellisense_option_click_handler=function(d){var f=d.data.that._expression_textarea_component.text();var e=d.data.that._intellisense_selected_option.text();d.data.that._expression_textarea_component.trigger("focus");d.data.that._insert_text_at_cursor(e)};rdx.expression_editor.prototype._events_intellisense=function(){this._search_string="";this._tooltip_visibility=true;this._expression_textarea_component.addClass("expression_textarea_watermark").attr("placeholder",rdx.i18n.get_string("rdx.expression_editor_watermark"));this._expression_textarea_component.bind(rdx.events.KEYUP,function(){if($(this).text().length==0){$(this).empty()}});if(rdx.utils.is_firefox()){this._expression_textarea_component.bind(rdx.events.MOUSE_DOWN,function(b){if($(this).text().length==0&&$(this).is(":focus")){b.preventDefault();b.stopPropagation();return false}});this._expression_textarea_component.bind(rdx.events.FOCUS_IN,{that:this},function(d){var e=$(this).html();var f=d.data.that._save_selection($(this));$(this).html(e);d.data.that._restore_selection($(this),f)})}this._expression_textarea_component.bind(rdx.events.KEYDOWN,{that:this},function(n){if(n.which==rdx.keycodes.DOWN_ARROW){if(rdx.utils.is_defined(n.data.that._intellisense_box)){var o=n.data.that._intellisense_selected_option.nextAll(":visible:first");if(rdx.utils.is_defined(o[0])){o.trigger("focus")}n.preventDefault()}else{n.data.that._search_string=""}}else{if(n.which==rdx.keycodes.UP_ARROW){if(rdx.utils.is_defined(n.data.that._intellisense_box)){var l=n.data.that._intellisense_selected_option.prevAll(":visible:first");if(rdx.utils.is_defined(l[0])){l.trigger("focus")}n.preventDefault()}else{n.data.that._search_string=""}}else{if(n.which==rdx.keycodes.ENTER){if(rdx.utils.is_defined(n.data.that._intellisense_box)){n.preventDefault();n.data.that._process_selection();return false}}else{if(n.which==rdx.keycodes.LEFT_ARROW||n.which==rdx.keycodes.RIGHT_ARROW){if(rdx.utils.is_defined(n.data.that._intellisense_box)){n.preventDefault();return false}}else{if(n.which==rdx.keycodes.BACKSPACE||n.which==rdx.keycodes.DELETE){if(rdx.utils.is_defined(n.data.that._intellisense_box)){if(n.data.that._search_string.length<1){n.data.that._intellisense_bubble_box.remove()}n.data.that._search_string=n.data.that._search_string.substring(0,n.data.that._search_string.length-1);n.data.that._search_item_window(n.data.that._search_string);n.data.that._intellisense_text_box.set_data(n.data.that._search_string);n.preventDefault();return false}}else{if(n.ctrlKey&&(n.which==rdx.keycodes.SPACE)){if(rdx.utils.is_not_defined(n.data.that._intellisense_box)){var q=[];var h=rdx.utils.is_defined(n.data.that._field._properties.prefix_combo_map)?n.data.that._field._properties.prefix_combo_map:[];var m=n.data.that._get_cursor_coordinates(true);if(rdx.utils.is_defined(h)){for(var p=0;p<h.length;p++){q[p]=neo.pi_syntax_utils.get_help_prefix_options(h[p])}}n.data.that._show_intellisense_box(h,m.x,m.y+12,q);n.preventDefault()}n.preventDefault()}else{if(n.which==rdx.keycodes.SPACE){if(rdx.utils.is_defined(n.data.that._intellisense_box)){n.preventDefault();n.data.that._process_selection();return false}}else{if(n.which==rdx.keycodes.ESCAPE){if(rdx.utils.is_defined(n.data.that._intellisense_box)){n.data.that._intellisense_bubble_box.remove();n.data.that._search_string=""}}else{if(n.which==rdx.keycodes.SEVEN){if(rdx.utils.is_defined(n.data.that._intellisense_box)){n.preventDefault();n.shiftKey?(n.data.that._search_string+="&"):(n.data.that._search_string+=String.fromCharCode(n.which));n.data.that._search_item_window(n.data.that._search_string);n.data.that._intellisense_text_box.set_data(n.data.that._search_string)}}else{if(n.which==rdx.keycodes.NUMPAD_SEVEN||n.which==rdx.keycodes.NUMPAD_NINE){if(rdx.utils.is_defined(n.data.that._intellisense_box)){n.preventDefault();(n.which==rdx.keycodes.NUMPAD_SEVEN)?(n.data.that._search_string+="7"):(n.data.that._search_string+="9");n.data.that._search_item_window(n.data.that._search_string);n.data.that._intellisense_text_box.set_data(n.data.that._search_string)}}else{if(n.which==rdx.keycodes.NINE){if(rdx.utils.is_defined(n.data.that._intellisense_box)){n.preventDefault();n.shiftKey?(n.data.that._search_string+="("):(n.data.that._search_string+=String.fromCharCode(n.which));n.data.that._search_item_window(n.data.that._search_string);n.data.that._intellisense_text_box.set_data(n.data.that._search_string)}}}}}}}}}}}}});this._expression_textarea_component.bind(rdx.events.KEY_PRESS,{that:this},function(f){var e=46;var d=0;if(rdx.utils.is_firefox()){if(f.which==rdx.keycodes.SPACE||f.which==rdx.keycodes.BACKSPACE){return}}if(f.which==rdx.keycodes.DOWN_ARROW||f.which==rdx.keycodes.UP_ARROW||f.which==0){return}if(f.which==rdx.keycodes.SEVEN||f.which==rdx.keycodes.NINE){return}if(f.which==e){if(rdx.utils.is_defined(f.data.that._intellisense_box)){f.data.that._process_selection();f.data.that._show_window()}else{f.data.that._show_window()}f.data.that._search_string="";f.data.that.saved_selection=null}else{if(rdx.utils.is_defined(f.data.that._intellisense_box)){f.preventDefault();f.data.that._search_string+=String.fromCharCode(f.which);f.data.that._search_item_window(f.data.that._search_string);f.data.that._intellisense_text_box.set_data(f.data.that._search_string);return}}f.stopPropagation()});this._expression_textarea_component.bind(rdx.events.FOCUS_OUT,{that:this},function(c){if(rdx.utils.is_defined(c.data.that._intellisense_box)){var d=c.data.that;if(rdx.utils.is_ie()&&((rdx.utils.is_defined(c.data.that._intellisense_option_holder)&&(c.data.that._intellisense_option_holder[0]==document.activeElement))||(rdx.utils.is_defined(c.data.that._content_holder)&&c.data.that._content_holder[0]==document.activeElement))){c.stopPropagation();c.preventDefault();d._timer=setTimeout(function(){d._focus_editor();d._clear_timer()},1);return false}c.data.that._intellisense_bubble_box.remove();c.data.that._search_string=""}})};rdx.expression_editor.prototype._process_selection=function(){if(rdx.utils.is_defined(this._intellisense_box)){var d=null;if(this._no_match_container.is(":visible")){d=this._intellisense_text_box.get_data()}else{d=this._intellisense_selected_option.text()}if(d.indexOf("(")!=-1){var c=d.split("(");d=c[0]+"()"}if(rdx.utils.is_empty(this._expression_textarea.get_data())&&d=="EXTEND"){d="EXTEND(,)"}this._insert_text_at_cursor(d);this._intellisense_bubble_box.remove();this.saved_selection=null;this._search_string="";return false}};rdx.expression_editor.prototype._search_item_window=function(m){var o=this._intellisense_option_holder.children().length;var h=this._intellisense_option_holder.children();var l=[];var p=null;var q=false;for(var n=0;n<o;n++){l[n]=$(h[n]).text();l[n]=l[n].toUpperCase();m=m.toUpperCase();if(l[n].indexOf(m)==0){$(h[n]).show();if(!q){p=n;q=true}this._no_match_container.hide()}else{$(h[n]).hide()}}if(!q){this._no_match_container.show();if(rdx.utils.is_defined(this._help_option_bubble)){this._help_option_bubble.remove()}}else{$(h[p]).trigger(rdx.events.FOCUS)}};rdx.expression_editor.prototype._show_window=function(){var n=this._get_cursor_coordinates(true);var t=this._get_text_preceding_selection(this._expression_textarea_component).length;var u=this._expression_textarea_component.text();var o=this._get_key_text(u,t);var m=[];while(o.length>0){for(var q=0;q<o.length;q++){var v=this._is_cursor_between_brackets(o,q);if(o[q]=="."&&!v.is_present){break}}m.push(o.substring(0,q));if(q>o.length){o=o.substring(o.length)}else{o=o.substring(q+1)}}for(var s=0;s<m.length;s++){m[s]=m[s].toUpperCase()}var p=this._update_order(m);if(rdx.utils.is_defined(p)&&rdx.utils.is_defined(p.data_items)){this._show_intellisense_box(p.data_items,n.x,n.y+12,p.help)}};rdx.expression_editor.prototype._update_order=function(I){var z="";this._selected_class_order_intellisense=[];var x=[];for(var E=0;E<I.length;E++){z="";var w=this._split_options_arguments(I[E]);var H=w.option;var y=w.argument;if(E!=0){var A=false;if(rdx.utils.is_not_empty(x[x.length-1])){var u=x[x.length-1].data_items;for(var F=0;F<u.length;F++){var G=this._split_options_arguments(u[F]);var v=G.option;if(H==v){A=true;break}if($.inArray(H,this._nsvariables.ulong)!=-1){A=true;z="ulong";break}else{if($.inArray(H,this._nsvariables.text)!=-1){A=true;z="text";break}else{if($.inArray(H,this._nsvariables.map)!=-1){A=true;z="map";break}else{if(H=="valueCount".toUpperCase()){A=true;z="ulong";break}}}}}}if(!A){return null}}if(E==0&&H.charAt(0)=="$"){if($.inArray(H,this._nsvariables.ulong)!=-1){z="ulong"}else{if($.inArray(H,this._nsvariables.text)!=-1){z="text"}else{if($.inArray(H,this._nsvariables.map)!=-1){z="map"}}}}if(rdx.utils.is_empty(z)){var J=neo.pi_syntax_utils.get_result_type(this._selected_class_order_intellisense,H,(y?y.toLowerCase():y));if(rdx.utils.is_not_defined(J)){J=this._get_result_type_of_extension_functions(H,(y?y.toLowerCase():y),"intellisense")}if(rdx.utils.is_not_empty(J)){var C=neo.pi_syntax_utils.get_data_items(J,this._operations_to_exclude);var B=this._get_extended_functions_list(J);var D={};D.data_items=C.data_items.concat(B.data_items);D.data_items.shift();D.help=C.help.concat(B.help);x.push(D)}else{x.push("")}}else{if(z=="ulong"){this._selected_class_order_intellisense.push("num_at");var C=neo.pi_syntax_utils.get_data_items("num_at");C.data_items.shift();x.push(C)}else{if(z=="text"){this._selected_class_order_intellisense.push("text_t");var C=neo.pi_syntax_utils.get_data_items("text_t");C.data_items.shift();x.push(C)}else{var C={data_items:["Select","valueExists()","valueCount()"]};C.data_items.shift();x.push(C)}}}}return x[x.length-1]};rdx.expression_editor.prototype._split_options_arguments=function(e){var f=e.split("(");var h=f[0];var g=null;if(f.length>1){g=f[1].split(")")[0]}return{option:h,argument:g}};rdx.expression_editor.prototype._get_key_text=function(w,s){var x=false;var v="";w=$("<div/>").html(w).text();var q=w.substring(0,s);var u=this._is_cursor_between_brackets(w,s);if(u.is_present){x=true;v=w.substring(u.index[0],u.index[1]+1);q=w.substring(0,u.index[0])}var t=this._get_breaker_index(q);var n=(t>0)?q.substring(t):q;n=n.trim();if(x){if(n.length<=0){var o=v.substring(1,v.length-1);var p=(t>0)?(s-t-1):(s-1);return this._get_key_text(o,p)}else{return""}}else{return n}};rdx.expression_editor.prototype._get_breaker_index=function(n){var o=-1;var l=[" ","&&","||","!","+","-","*","/","%","^","<<",">>","&","|","~","ALT","==","!=","<","<=",">",">="];if(n.length>0){for(var p=0;p<l.length;p++){var q=n.length;var m=n.length;do{var s=null;q=n.toUpperCase().lastIndexOf(l[p].toUpperCase(),q-1);m=(q<0)?-1:q+l[p].length;s=this._is_cursor_between_brackets(n,q)}while(m>o&&s.is_present);if(m>o){o=m}}var t=this._findopeningbracket(n,n.length-1);if((t+1)>o){o=t+1}}return o};rdx.expression_editor.prototype._is_cursor_between_brackets=function(h,g){var f=this._findopeningbracket(h,g-1);if(f<0){return{is_present:false,index:[null,null]}}var e=this._findclosingbracket(h,g);if(e<0){return{is_present:false,index:[null,null]}}else{return{is_present:true,index:[f,e]}}};rdx.expression_editor.prototype._findopeningbracket=function(h,g){var f=0;for(var e=g;e>=0;e--){if(h[e]==")"){f++}else{if(h[e]=="("){if(f>0){f--}else{return e}}}}return -1};rdx.expression_editor.prototype._findclosingbracket=function(h,g){var f=0;for(var e=g;e<h.length;e++){if(h[e]=="("){f++}else{if(h[e]==")"){if(f>0){f--}else{return e}}}}return -1};rdx.expression_editor.prototype._insert_text_at_cursor=function(h){var l,g,f;if(window.getSelection){l=window.getSelection();if(l.getRangeAt&&l.rangeCount){g=l.getRangeAt(0);var m=document.createTextNode(h);g.insertNode(m);g.collapse(false);g=g.cloneRange();g.selectNodeContents(m);g.collapse(false);l.removeAllRanges();l.addRange(g)}}else{if(document.selection&&document.selection.createRange){document.selection.createRange().text=h}}};rdx.expression_editor.prototype._get_cursor_coordinates=function(){var h=0,l=0,g;if(window.getSelection){var n=window.getSelection();if(n.rangeCount){g=n.getRangeAt(n.rangeCount-1);g.collapse(true);var m=$("<span>");g.insertNode(m[0]);var o=m[0].getBoundingClientRect();h=o.left+$(window).scrollLeft();l=o.top+$(window).scrollTop();m.remove()}}else{if(document.selection&&document.selection.type!="Control"){g=document.selection.createRange();g.collapse(start);h=g.boundingLeft;l=g.boundingTop}}return{x:h,y:l}};rdx.expression_editor.prototype._get_text_preceding_selection=function(h){var n="";if(window.getSelection&&document.createRange){var o=window.getSelection();if(o.rangeCount>0){var l=o.getRangeAt(0);var q=document.createRange();q.selectNodeContents(h[0]);q.setEnd(l.startContainer,l.startOffset);var m=q.cloneContents();var p=$("<span>").append(m);n=p.text();p.remove()}}return n};rdx.expression_editor.prototype._scrollbar_width=function(){var o=$("<div>").css({width:"100%",height:"200"}).html("Scrollbar Width");var n=$("<div>").css({width:"200",height:"150",position:"absolute",top:-999999,left:0,overflow:"hidden"}).append(o);var g=o[0];var h=n[0];$(document.body).append(n);var l=g.offsetWidth;n.css("overflow","scroll");var m=h.clientWidth;n.remove();return(l-m)};rdx.expression_editor.prototype._save_selection=function(m){var g=m[0];if(window.getSelection&&document.createRange){var l=window.getSelection().getRangeAt(0);var f=l.cloneRange();f.selectNodeContents(g);f.setEnd(l.startContainer,l.startOffset);var h=f.toString().length;return{start:h,end:h+l.toString().length}}};rdx.expression_editor.prototype._restore_selection=function(A,y){var p=A[0];var B=0,t=document.createRange();t.setStart(p,0);t.collapse(true);var u=[p],x,w=false,q=false;while(!q&&(x=u.pop())){if(x.nodeType==3){var s=B+x.length;if(!w&&y.start>=B&&y.start<=s){t.setStart(x,y.start-B);w=true}if(w&&y.end>=B&&y.end<=s){t.setEnd(x,y.end-B);q=true}B=s}else{var v=x.childNodes.length;while(v--){u.push(x.childNodes[v])}}}var z=window.getSelection();z.removeAllRanges();z.addRange(t)};rdx.expression_editor.prototype._append_expression=function(f){var e=this._expression_textarea.get_component();if(rdx.utils.is_firefox()){var d=e.contents();for(j=d.length-1;j>0;j--){if($(d[j-1]).is("br")&&$(d[j]).is("br")){$(d[j]).remove()}else{break}}e.append(f);this._component.trigger(rdx.events.FOCUS_OUT);return}else{if(e.children().length>0){e.children().last().text(e.children().last().text()+f)}else{e.append(f)}this._component.trigger(rdx.events.FOCUS_OUT);return}};rdx.classic_expression_editor=function(c,d){this._parent=c;this._field=d;this._DEFAULT_PROPERTIES={class_names:"expression_editor",prefix_combo_map:[],switch_link_required:false,show_epa_editor:false,epa_prefix_combo_map:[],is_pre_auth_policy:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d.get_properties());this.prefix_combo_map=rdx.utils.is_defined(d._properties.prefix_combo_map)?d._properties.prefix_combo_map:[];this._expression_textarea_parent=$("<div>").addClass("expression_textbox");this._label_span=$("<span>").addClass("rdx_left");this._component=null;this._new_expression=true;this._advanced_expression_mode=false;this._advanced_expression_editor_component=null;this._component_name_map={Service:"CLIENT.SVC","Operating System":"CLIENT.OS",Registry:"CLIENT.REG","Personal Firewall":"CLIENT.APPLICATION.PF","Anti-Virus":"CLIENT.APPLICATION.AV",File:"CLIENT.FILE",Process:"CLIENT.APPLICATION.PROCESS","Anti-Spam":"CLIENT.APPLICATION.AS","Internet Security":"CLIENT.APPLICATION.IS",Mountpoint:"CLIENT.MOUNTPOINT"};this._qualifier_map={"Time Stamp":".TIMESTAMP",Hotfix:".HOTFIX",Value:".VALUE",MD5:".MD5",Version:".VERSION","Service Pack":".SP",Path:".PATH",Search:".SEARCH"};this._operating_system_map={"Windows XP":"winxp","Windows vista":"vista","Windows 7":"win7","Windows 8":"win8","Windows 8.1":"win8.1","Windows 10":"win10","Windows Server 2003":"win2003","Windows Server 2008":"win2008","Windows Server 2012":"win2012",MacOS:"MacOS"};this._file_system_qualifiers=["FS.COMMAND","FS.USER","FS.SERVER","FS.SERVERIP","FS.SERVICE","FS.DOMAIN","FS.PATH","FS.FILE","FS.DIR","FS.FILE.ACCESSTIME","FS.FILE.CREATETIME","FS.FILE.CREATETIME","FS.FILE.MODIFYTIME","FS.FILE.WRITETIME","FS.DIR.ACCESSTIME","FS.DIR.CREATETIME","FS.DIR.MODIFYTIME","FS.DIR.WRITETIME"];this._date_time_qualifiers=["TIME","DATE","DAYOFWEEK"]};rdx.classic_expression_editor.prototype._add_help_tip=function(){var p=rdx.utils.get_cookie("classic_expression_hide_search_tip");if(rdx.utils.is_defined(p)&&p=="true"){return}var n=rdx.i18n.get_string("rdx.classic_expression_editor_help_tip");this._expression_tooltip=new rdx.tooltip(this._expression_builder_link_div,{remove_tooltip_mouse_leave:false});var m=$("<div>").addClass("search_tip_container");var h=$("<div>").addClass("search_tip_content");var o=$("<span>").addClass("expression_help_text").append(n);var q=$("<button>").addClass("search_grey_button search_help_button").text(rdx.i18n.get_string("rdx.form_modify_button_label"));q.bind(rdx.events.CLICK,{tooltip:this._expression_tooltip},function(a){rdx.utils.set_cookie("classic_expression_hide_search_tip","true");a.data.tooltip.remove_tooltip()});$(document.body).bind(rdx.events.CLICK,{tooltip:this._expression_tooltip},function(a){var b=$(a.target);var c=$(b.parent());if(b.hasClass("search_tip_container")||b.hasClass("search_tip_content")||b.hasClass("expression_help_text")||b.hasClass("search_grey_button")||c.hasClass("search_tip_container")||c.hasClass("search_tip_content")||c.hasClass("expression_help_text")||c.hasClass("search_grey_button")){return}a.data.tooltip.remove_tooltip()});h.append(o);m.append(h,q);var l=this._expression_tooltip.render({append_element:m})};rdx.classic_expression_editor.prototype.render=function(){var h=$("<div>").addClass("expression_builder_exp dangling_component");var f=$("<div>").addClass("expression_evaluate dangling_component");this.create_expression_textarea(this._expression_textarea_parent);this._pe_expression_builder_link_div=$("<a>").addClass("rdx_right pointer_cursor expression_eval_builder_link pe_expression_editor").append(rdx.i18n.get_string("rdx.epa_editor"));this._pe_expression_builder_link_div.bind(rdx.events.MOUSE_DOWN,{expression:this,expression_textarea:this.expression_textarea},function(b){if(b.data.expression._pe_expression_builder_link_div.hasClass("form_field_disabled")){return}if(b.which!=1){return}var a=function(o,n){if($.trim(o.get_data())!=""){if($.trim(n._expression_textarea.get_data())==""){n._expression_textarea.set_data(o.get_data())}else{if(n._check_operator_index_is_last()){n._expression_textarea.set_data(n._expression_textarea.get_data()+o.get_data())}else{n._expression_textarea.set_data(n._expression_textarea.get_data()+" && "+o.get_data())}}o.set_data("")}};var c=rdx.component_helper.get_component(rdx.form_constants.EXPRESSION_EDITOR,null,new rdx.form_field({prefix_combo_map:b.data.expression._properties.epa_prefix_combo_map,hidden:true,properties:{is_epa:true,is_evaluate_required:false,is_variable_support_required:false,close_builder_dialog_callback:new rdx.callback(a,[b.data.expression])}}));c.render();var d=c.get_builder_link();d.trigger(rdx.events.CLICK)});this._expression_builder_link_div=$("<a>").addClass("rdx_right pointer_cursor expression_eval_builder_link");h.append(this._label_span);h.append(this._expression_builder_link_div);if(this._properties.show_epa_editor===true){h.append(this._pe_expression_builder_link_div);this._expression_builder_link_div.append(rdx.i18n.get_string("rdx.expression_builder.title"))}else{this._expression_builder_link_div.append(rdx.i18n.get_string("rdx.expression_builder.title"))}this._expression_builder_link_div.bind(rdx.events.MOUSE_DOWN,{expression:this,expression_textarea:this._expression_textarea_parent},function(b){if(b.data.expression._expression_builder_link_div.hasClass("form_field_disabled")){return}if(b.which!=1){return}var o=b.data.expression._expression_textarea_component[0];var a=b.data.expression._expression_textarea;var q="";var p={start_position:"",end_position:""};if(document.activeElement==o){var d=a.get_selected_text();q=d.selected_text;p.start_position=d.start_position;p.end_position=d.end_position}if($.trim(q)==""){b.data.expression._new_expression=true}else{b.data.expression._new_expression=false}var c=$("<div>");b.data.expression.create_expression_builder(c,b.data.expression_textarea,q,p);if(c.hasClass("wrong_expression")){b.data.expression._clear_selection();o.selectionStart=null;o.selectionEnd=null}else{if(!rdx.page.is_slider_visible()){slider_container=rdx.page.show_slider({});slider_container.show()}b.data.expression._expression_builder_link_div_container=rdx.page.get_slider_crumb().crumb.add_container("Add Expression",c);c.parent().addClass("expression_builder_parent classic_expression_parent")}});var g=$("<div>").addClass("expression_editor");g.append(h).append(this._expression_textarea_parent);if(this._properties.switch_link_required){this._switch_to_class_link_div=$("<a>").addClass("rdx_left pointer_cursor expression_eval_builder_link").text(rdx.i18n.get_string("Switch to Default Syntax"));g.append(this._switch_to_class_link_div);this._switch_to_class_link_div.bind(rdx.events.CLICK,{expression:this},function(a){if(a.data.expression._switch_to_class_link_div.hasClass("form_field_disabled")){return}if(rdx.utils.is_defined(a.data.expression._properties.advance_expression_editor)){a.data.expression._properties.advance_expression_editor.show();a.data.expression._properties.set_classic_expression_mode.call_back([false])}else{a.data.expression._advanced_expression_editor_component.get_component().show();a.data.expression._advanced_expression_mode=true;a.data.expression._advanced_expression_editor_component.get_component().addClass("component_alignment")}if(rdx.utils.is_defined(a.data.expression._expression_tooltip)){a.data.expression._expression_tooltip.remove_tooltip()}a.data.expression.get_component().css("cssText","display: none !important");if(rdx.utils.is_defined(a.data.expression._properties.advance_expression_editor)){a.data.expression._properties.advance_expression_editor.change();a.data.expression._properties.advance_expression_editor.trigger(rdx.events.CHANGE)}else{a.data.expression._component.change();a.data.expression._component.trigger(rdx.events.CHANGE)}})}g.height(this._properties.height);if(rdx.utils.is_defined(this._parent)){this._parent.append(g)}else{this._parent=g}this._component=g;if(this._properties.switch_link_required&&this._parent.children().length<=2){this._advanced_expression_editor_component=new rdx.expression_editor(this._parent,new rdx.form_field({prefix_combo_map:["HTTP","SYS","CLIENT","SERVER","URL","MYSQL","MSSQL","TEXT","TARGET","EXTEND","ANALYTICS","SIP","DNS","ORACLE","CONNECTION","DIAMETER"],properties:{switch_link_required:true,classic_expression_editor:this._component,set_advanced_expression_mode:new rdx.callback(this,this.set_advanced_expression_mode)}})).render();this._advanced_expression_editor_component.toggle_show_hide(false)}if(this._field.is_read_only()){this.set_read_only()}var e=this;setTimeout(function(){if(!e._component.attr("style")==="display: none;"){e._add_help_tip()}},1000);return this};rdx.classic_expression_editor.prototype.refresh_help_tip=function(){if(rdx.utils.is_defined(this._expression_tooltip)){this._expression_tooltip.remove_tooltip()}var b=this;setTimeout(function(){b._add_help_tip()},1000)};rdx.classic_expression_editor.prototype.get_data=function(){if(this._advanced_expression_mode===true){return this._advanced_expression_editor_component.get_data()}else{return this._expression_textarea.get_data()}};rdx.classic_expression_editor.prototype.set_data=function(b){this._expression_textarea.set_data(b)};rdx.classic_expression_editor.prototype.get_component_type=function(){return rdx.form_constants.CLASSIC_EXPRESSION_EDITOR};rdx.classic_expression_editor.prototype.get_field=function(){return this._field};rdx.classic_expression_editor.prototype.get_textarea=function(){return this._expression_textarea_parent};rdx.classic_expression_editor.prototype.get_component=function(){return this._component};rdx.classic_expression_editor.prototype.add_event_handler=function(d,c){this._component.bind(d,{ns_callback:c},function(a){a.data.ns_callback.call_back([a])})};rdx.classic_expression_editor.prototype.create_expression_textarea=function(n){var m=$("<div>").addClass("title dangling_component");var h=$("<span>").addClass("rdx_left");var o=$("<span>").addClass("rdx_left saved_policy_exp");var l=$("<span>").addClass("rdx_left frequently_used_exp");m.append(h).append(o).append(l);this._cleartext_link=$("<span>").addClass("rdx_right").addClass("cleartext").attr("title",rdx.i18n.get_string("rdx.clear"));this._cleartext_link.bind(rdx.events.CLICK,{expression:this},function(a){if(a.data.expression._cleartext_link.hasClass("form_field_disabled")){return}a.data.expression._expression_textarea.set_data("");a.data.expression._multi_exp_mode=false;a.data.expression._start_new_exp=true});m.append(this._cleartext_link);this._operators=new rdx.expression_editor.custom_dropdown(h,new rdx.form_field({formatter:{map:[rdx.i18n.get_string("rdx.select"),"&&","||"]},mandatory:true,properties:{size:1,label:rdx.i18n.get_string("rdx.expression_editor.operators.label")}})).render();this._operators.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._add_operator_to_create_multi_expressions,[this._operators]));this._import_expressions=new rdx.expression_editor.custom_dropdown(o,new rdx.form_field({properties:{size:1,label:rdx.i18n.get_string("rdx.expression_editor.saved_policy_expression.label")},mandatory:true})).render();this._import_expressions.get_component().addClass("saved_policy_exp");this._import_expressions.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this.add_imported_expression_to_current_expression,[]));var g=new rdx.model_executor_service(new rdx.callback(this,this.get_all_saved_expressions));g.add("get",rdx.utils.get_resource("policyexpression"),null,null,null);g.execute();this._frequently_used_expressions=new rdx.expression_editor.custom_dropdown(l,new rdx.form_field({formatter:{map:["Select","REQ.HTTP.URL","REQ.HTTP.HEADER","REQ.TCP.DESTPORT","REQ.IP.DESTIP","REQ.IP.SOURCEIP","REQ.SSL.CLIENT.CERT.SUBJECT"]},mandatory:true,properties:{size:1,label:rdx.i18n.get_string("rdx.expression_editor.frequently_used_expressions.label")}})).render();this._frequently_used_expressions.get_component().addClass("frequently_used_exp");l.bind(rdx.events.CHANGE,{frequently_used_expressions:this._frequently_used_expressions,expression:this},function(b){var a=b.data.frequently_used_expressions.get_data();b.data.expression.insert_at_caret("textarea",a)});if(rdx.BROWSER=="ie"&&rdx.BROWSER_VERSION=="8.0"){this._import_expressions.get_component().removeClass("saved_policy_exp");this._frequently_used_expressions.get_component().removeClass("frequently_used_exp")}n.append(m);this._expression_textarea=new rdx.text_area(n,new rdx.form_field({})).render();this._expression_textarea_component=this._expression_textarea.get_component().addClass("expression_textarea classic_expression_textarea");this._expression_textarea_component.attr("resizable","false").attr("spellcheck",false)};rdx.classic_expression_editor.prototype.toggle_show_hide=function(d,c){if(rdx.utils.is_not_defined(c)){c=this._component}if(d){c.show()}else{c.hide()}};rdx.classic_expression_editor.prototype.toggle_read_only=function(b){if(b){this.set_edittable()}else{this.set_read_only()}};rdx.classic_expression_editor.prototype.set_read_only=function(){this._component.addClass("form_field_disabled");this._cleartext_link.addClass("form_field_disabled");this._expression_builder_link_div.addClass("form_field_disabled");this._pe_expression_builder_link_div.addClass("form_field_disabled");if(rdx.utils.is_defined(this._switch_to_class_link_div)){this._switch_to_class_link_div.addClass("form_field_disabled")}this._operators.get_list().toggle_read_only(false);this._import_expressions.get_list().toggle_read_only(false);this._frequently_used_expressions.get_list().toggle_read_only(false);this._expression_textarea.toggle_read_only(false)};rdx.classic_expression_editor.prototype.set_edittable=function(){this._component.removeClass("form_field_disabled");this._cleartext_link.removeClass("form_field_disabled");this._expression_builder_link_div.removeClass("form_field_disabled");this._pe_expression_builder_link_div.removeClass("form_field_disabled");if(rdx.utils.is_defined(this._switch_to_class_link_div)){this._switch_to_class_link_div.removeClass("form_field_disabled")}this._operators.get_list().toggle_read_only(true);this._import_expressions.get_list().toggle_read_only(true);this._frequently_used_expressions.get_list().toggle_read_only(true);this._expression_textarea.toggle_read_only(true)};rdx.classic_expression_editor.prototype.get_label_container=function(){return this._label_span};rdx.classic_expression_editor.prototype.set_advanced_expression_mode=function(b){if(rdx.utils.is_not_defined(b)){return}else{this._advanced_expression_mode=b}};rdx.classic_expression_editor.prototype.get_advanced_expression_mode=function(){return this._advanced_expression_mode};rdx.classic_expression_editor.prototype.get_dependency_determinant_value=function(d){if(d==rdx.form_constants.dependency_determinant.TYPE){if(this._component.is(":visible")){if(this._advanced_expression_mode==true||this._advanced_expression_mode=="true"){return"Advanced"}else{return"Classic"}}else{if(this._properties.switch_link_required==true&&rdx.utils.is_defined(this._properties.advance_expression_editor)){var c=this._properties.advance_expression_editor.get_advanced_expression_mode();if(c==true||c=="true"){return"Classic"}else{return"Advanced"}}else{if(this._properties.switch_link_required==false){return"Classic"}else{return"Advanced"}}}}return null};rdx.classic_expression_editor.prototype._add_operator_to_create_multi_expressions=function(c,d){if(d.get_data()=="Select"){return}this.insert_at_caret("textarea",d.get_data());d.get_list().set_data("Select")};rdx.classic_expression_editor.prototype.add_imported_expression_to_current_expression=function(c){if(this._import_expressions.get_data()=="Select"){return}for(var d=0;d<this.expression_editor_saved_expression.name.length;d++){if(this._import_expressions.get_data()==this.expression_editor_saved_expression.name[d]){this.insert_at_caret("textarea",this.expression_editor_saved_expression.name[d]);break}}this._import_expressions.get_list().set_data("Select")};rdx.classic_expression_editor.prototype.insert_at_caret=function(p,n){var o=this._expression_textarea_component[0];var v=o.scrollTop;var t=0;var m=((o.selectionStart||o.selectionStart=="0")?"ff":(document.selection?"ie":false));if(m=="ie"){o.focus();var q=document.selection.createRange();q.moveStart("character",-o.value.length);t=q.text.length}else{if(m=="ff"){t=o.selectionStart}}var u=(o.value).substring(0,t);var s=(o.value).substring(t,o.value.length);if(t==0&&o.value.length>0){u=o.value;s="";t=o.value.length}o.value=u+n+s;t=t+n.length;if(m=="ie"){o.focus();var q=document.selection.createRange();q.moveStart("character",-o.value.length);q.moveStart("character",t);q.moveEnd("character",0);q.select()}else{if(m=="ff"){o.selectionStart=t;o.selectionEnd=t;o.focus()}}o.scrollTop=v};rdx.classic_expression_editor.prototype.get_all_saved_expressions=function(f){var d=f.get_collated_response();this.expression_editor_saved_expression={name:[],value:[]};this.expression_editor_saved_expression.name[0]=rdx.i18n.get_string("rdx.select");this.expression_editor_saved_expression.value[0]="";if(rdx.utils.is_defined(d[0]["policyexpression"])){for(var e=0;e<d[0]["policyexpression"].length;e++){if(d[0]["policyexpression"][e]["type1"]=="CLASSIC"){this.expression_editor_saved_expression.name.push(d[0]["policyexpression"][e]["name"]);this.expression_editor_saved_expression.value.push(d[0]["policyexpression"][e]["value"])}}}this._import_expressions.remove_items(false,false);this._import_expressions.add_data_items(this.expression_editor_saved_expression.name)};rdx.classic_expression_editor.prototype.create_expression_builder=function(D,C,A,F){var I=$("<div>");var L=$("<div>").append($("<div>").append("Select Expression Type:").addClass("expression_editor_flow_type")).append(I);var y=$("<div>").addClass("expression_textbox");this._expressiontype_dropdown=new rdx.expression_editor.custom_dropdown(I,new rdx.form_field({formatter:{map:this.prefix_combo_map},mandatory:true,properties:{size:1,label:this.prefix_combo_map[0]}})).render();var x=null;var G=false;if(rdx.utils.is_empty(A)){this._expressiontype_dropdown.get_list().set_data(this.prefix_combo_map[0]);this._expressiontype_dropdown.set_data(this.prefix_combo_map[0])}else{x=this._check_type_of_expression(A);if(x=="Named Expression"){D.addClass("wrong_expression");rdx.message_box.error("Named Expressions cannot be modified",null,rdx.i18n.get_string("neo.error_message_title"),null);return}if(A.indexOf("&&")!=-1||A.indexOf("||")!=-1){this._throw_error(D);return}var N=$.trim(A);if(N[N.length-1]==")"){this._throw_error(D);return}var J=this._expression_textarea.get_data();if(F.end_position<J.length){var M=$.trim(J.substring(F.end_position,J.length));if(M.indexOf(")")==0){var H=0;for(var z=0;z<M.length;z++){if(M[z]==")"){H++}else{break}}var E=$.trim(M.substring(H,M.length));if(rdx.utils.is_empty(E)||E.indexOf("&&")==0||E.indexOf("||")==0){var B=true}else{this._throw_error(D);return}}else{if(rdx.utils.is_empty(M)||M.indexOf("&&")==0||M.indexOf("||")==0){var B=true}else{this._throw_error(D);return}}}this._expressiontype_dropdown.get_list().set_data(x);G=true;this._expressiontype_dropdown.set_data(x)}I.addClass("rdx_left");var K=$("<div>").addClass("expression_builder_box_div dangling_component");this.create_form_for_selected_expressiontype(rdx.events.CHANGE,this._expressiontype_dropdown,K,D,A);this._expressiontype_dropdown.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this.create_form_for_selected_expressiontype,[this._expressiontype_dropdown,K,A]));var w=$("<div>").addClass("form_buttons");this._done_button=new rdx.button_bar(w,new rdx.form_field({properties:{add_blue_button:true,blue_button_label:rdx.i18n.get_string("rdx.done_button.label"),blue_button_click_handler_callback:new rdx.callback(this,this._create_simple_expression,[D,G,F]),add_grey_button:true,grey_button_label:rdx.i18n.get_string("rdx.cancel_button.label"),grey_button_click_handler_callback:new rdx.callback(this,this._handle_cancel_button_click,[D])}})).render();D.append($("<div>").addClass("expression_builder_div expression_builder_dialog").append(y.append($("<div>").addClass("title").addClass("dangling_component").append(L))).append(K).append(w))};rdx.classic_expression_editor.prototype.close_expression_buider_dialog=function(b){b.remove();if(rdx.page.get_slider_crumb().get_current_crumb().index<=0){rdx.page.hide_slider()}else{rdx.page.get_slider_crumb().remove_current_crumb()}$(this._expression_builder_link_div_container).trigger(rdx.events.VIEW_DESTROYED,{slider_clicked:this._properties.slider});this._expression_builder_link_div_container.remove();this._clear_selection()};rdx.classic_expression_editor.prototype._handle_cancel_button_click=function(c,d){this.close_expression_buider_dialog(d);this._clear_selection()};rdx.classic_expression_editor.prototype._clear_selection=function(){var d=this._expression_textarea_component;var e=d.val().length;d.focus();if(rdx.utils.is_defined(d[0].setSelectionRange)){d[0].setSelectionRange(e,e)}else{var f=window.getSelection?window.getSelection():document.selection;if(f){if(f.removeAllRanges){f.removeAllRanges()}else{if(f.empty){f.empty()}}}this._expression_textarea_component[0].selectionStart=null;this._expression_textarea_component[0].selectionEnd=null}};rdx.classic_expression_editor.prototype.create_form_for_selected_expressiontype=function(m,h,o,n,l){h.set_data();var g=h.get_data();o.children().remove();switch(g){case"General":this._create_form_for_general_expression(o,n,l);break;case"Client Security":this._create_form_for_client_security_expression(o,n,l);break;case"Network Based":this._create_form_for_network_based_expression(o,n,l);break;case"Date/Time":this._create_form_for_date_time_expression(o,n,l);break;case"File System":this._create_form_for_file_system_expression(o,n,l);break;default:}};rdx.classic_expression_editor.prototype._remove_empty_elements=function(h){var e=0;var g=[];for(var f=0;f<h.length;f++){if(rdx.utils.is_not_empty(h[f])){g[e]=h[f];e++}}return g};rdx.classic_expression_editor.prototype._create_form_for_general_expression=function(Z,R,I){var C=this._create_form_for_expression(neo_classic_syntax.General,R);Z.append($("<div>").addClass("expression_builder_box_div").append(C));var V=function(h,l,b,c,g,d,a){var m=l.get_data();if(rdx.utils.is_not_defined(m)){m=""}if(m=="EXISTS"||m=="NOTEXISTS"||m=="CONTENTS"){b.get_parent().parent().hide();b.get_parent().parent().prev().hide();b.set_data("")}else{b.get_parent().parent().prev().show();b.get_parent().parent().show();if(h=="SOURCEPORT"||h=="DESTPORT"){if(m=="=="||m=="!="){b.get_parent().parent().prev().text("Port*")}else{b.get_parent().parent().prev().text("Port Range*")}}else{if(h=="URLLEN"||h=="URLQUERYLEN"){b.get_parent().parent().prev().text("Num Value*")}else{if(h=="SOURCEIP"||h=="DESTIP"){b.get_parent().parent().prev().text("IP Value*")}else{b.get_parent().parent().prev().text("Value*")}}}}var e=true;var f;f=e&&(h=="HEADER");if(f===true){c.get_parent().parent().show();c.get_parent().parent().prev().show();c.set_data("")}else{c.get_parent().parent().hide();c.get_parent().parent().prev().hide()}f=e&&((m=="CONTAINS")||(m=="NOTCONTAINS")||(m=="CONTENTS")&&!(h=="FS.SERVER"||h=="FS.SERVICE"||h=="FS.DOMAIN"||h=="FS.PATH"||h=="FS.FILE"||h=="FS.DIR"||h=="FS.USER"));if(f===true){g.get_parent().parent().show();g.get_parent().parent().prev().show();g.set_data("")}else{g.get_parent().parent().hide();g.get_parent().parent().prev().hide()}f=e&&((m=="CONTAINS")||(m=="NOTCONTAINS")||(m=="CONTENTS")&&!(h=="FS.SERVER"||h=="FS.SERVICE"||h=="FS.DOMAIN"||h=="FS.PATH"||h=="FS.FILE"||h=="FS.DIR"||h=="FS.USER"));if(f===true){d.get_parent().parent().show();d.get_parent().parent().prev().show();d.set_data("")}else{d.get_parent().parent().hide();d.get_parent().parent().prev().hide()}f=e&&(h=="SOURCEIP"||h=="DESTIP"||h=="FS.SERVERIP");if(f===true){a.get_parent().parent().show();a.get_parent().parent().prev().show();a.set_data("")}else{a.get_parent().parent().hide();a.get_parent().parent().prev().hide()}if(m=="BETWEEN"){b.get_parent().parent().prev().text("Value Range*")}};this._classic_expr_flowtype.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(a,d,c){var b=d.get_data();c.remove_items(false,false);if(b==""){c.add_item("");c.set_data("")}else{if(b=="RES"){c.add_data_items(["HTTP","TCP","IP"])}else{c.add_data_items(["HTTP","SSL","TCP","IP"])}c.set_data("HTTP")}},[this._classic_expr_flowtype,this._classic_expr_protocol]));this._classic_expr_protocol.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(b,f,e,d){var a=e.get_data();var c=f.get_data();d.remove_items(false,false);if(rdx.utils.is_not_defined(a)){a=""}if(a=="HTTP"){if(c=="RES"){d.add_data_items(["VERSION","HEADER","STATUSCODE"])}else{d.add_data_items(["METHOD","URL","URLTOKENS","VERSION","HEADER","URLLEN","URLQUERY","URLQUERYLEN"])}d.set_data("HTTP")}else{if(a=="IP"){d.add_data_items(["SOURCEIP","DESTIP"])}else{if(a=="TCP"){d.add_data_items(["SOURCEPORT","DESTPORT","MSS"])}else{if(a=="SSL"){d.add_data_items(["CLIENT.CERT","CLIENT.CERT.SUBJECT","CLIENT.CERT.ISSUER","CLIENT.CERT.SIGALGO","CLIENT.CERT.VERSION","CLIENT.CERT.VALIDFROM","CLIENT.CERT.VALIDTO","CLIENT.CERT.SERIALNUMBER","CLIENT.CIPHER.TYPE","CLIENT.CIPHER.BITS","CLIENT.SSL.VERSION"])}else{d.add_data_items(["METHOD","URL","URLTOKENS","VERSION","HEADER","URLLEN","URLQUERY","URLQUERYLEN","SOURCEIP","DESTIP","SOURCEPORT","DESTPORT","MSS","CLIENT.CERT","CLIENT.CERT.SUBJECT","CLIENT.CERT.ISSUER","CLIENT.CERT.SIGALGO","CLIENT.CERT.VERSION","CLIENT.CERT.VALIDFROM","CLIENT.CERT.VALIDTO","CLIENT.CERT.SERIALNUMBER","CLIENT.CIPHER.TYPE","CLIENT.CIPHER.BITS","CLIENT.SSL.VERSION","CLIENT.APPLICATION","CLIENT.APPLICATION.SIGNATURE"])}}}}},[this._classic_expr_flowtype,this._classic_expr_protocol,this._classic_expr_qualifier]));this._classic_expr_qualifier.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(a,l,h,g,b,c,e,d,m){var f=h.get_data();g.remove_items(false,false);if(rdx.utils.is_not_defined(f)){f=""}if(f=="METHOD"){g.add_data_items(["==","!="])}else{if(f=="STATUSCODE"){g.add_data_items(["==","!=",">",">=","<","<="])}else{if(f=="URL"){g.add_data_items(["==","!=","CONTAINS","NOTCONTAINS","CONTENTS"])}else{if(f=="URLTOKENS"){g.add_data_items(["==","!="])}else{if(f=="VERSION"){g.add_data_items(["==","!="])}else{if(f=="HEADER"){g.add_data_items(["==","!=","CONTAINS","NOTCONTAINS","CONTENTS","EXISTS","NOTEXISTS"])}else{if(f=="URLQUERY"){g.add_data_items(["CONTAINS","NOTCONTAINS","CONTENTS","EXISTS","NOTEXISTS"])}else{if(f=="URLLEN"){g.add_data_items([">"])}else{if(f=="URLQUERYLEN"){g.add_data_items([">"])}else{if(f=="SOURCEIP"||f=="DESTIP"){g.add_data_items(["==","!="])}else{if(f=="SOURCEPORT"||f=="DESTPORT"){g.add_data_items(["==","!=","BETWEEN"])}else{if(f=="CLIENT.CERT.SIGALGO"||f=="CLIENT.CERT.SERIALNUMBER"||f=="CLIENT.SSL.VERSION"||f=="CLIENT.CIPHER.TYPE"){g.add_data_items(["==","!="])}else{if(f=="MSS"){g.add_data_items(["==","!=","<=","<",">=",">","BETWEEN"])}else{if(f=="CLIENT.CERT"){g.add_data_items(["EXISTS","NOTEXISTS"])}else{if(f=="CLIENT.CERT.SUBJECT"||f=="CLIENT.CERT.ISSUER"){g.add_data_items(["CONTAINS","NOTCONTAINS"])}else{if(f=="CLIENT.CERT.VERSION"||f=="CLIENT.CIPHER.BITS"){g.add_data_items(["==","!=",">=",">","<=","<"])}else{if(f=="CLIENT.CERT.VALIDFROM"||f=="CLIENT.CERT.VALIDTO"){g.add_data_items(["==","!=",">=",">","<=","<"])}else{if(f=="CLIENT.CERT.SERIALNUMBER"){g.add_data_items(["==","!=",">=",">","<=","<"])}else{if(f=="CLIENT.APPLICATION"||f=="CLIENT.APPLICATION.SIGNATURE"){g.add_data_items(["==","!="]);if(f=="CLIENT.APPLICATION.SIGNATURE"){}}}}}}}}}}}}}}}}}}}}l(f,g,b,c,e,d,m)},[V,this._classic_expr_qualifier,this._classic_expr_operator,this._classic_expr_value,this._classic_expr_header,this._classic_expr_length,this._classic_expr_offset,this._classic_expr_netmask]));this._classic_expr_operator.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(a,l,g,h,b,c,e,d,n){var m=g.get_data();var f=h.get_data();if(f=="SOURCEPORT"||f=="DESTPORT"){if(m=="=="||m=="!="){b.get_parent().parent().prev().text("Port*")}else{b.get_parent().parent().prev().text("Port Range*")}}l(f,g,b,c,e,d,n)},[V,this._classic_expr_operator,this._classic_expr_qualifier,this._classic_expr_value,this._classic_expr_header,this._classic_expr_length,this._classic_expr_offset,this._classic_expr_netmask]));this._classic_expr_flowtype.set_data("REQ");this._classic_expr_protocol.set_data("HTTP");this._classic_expr_qualifier.set_data("METHOD");this._classic_expr_operator.set_data("==");if(rdx.utils.is_empty(I)){return}try{if(!($.trim(I).toUpperCase().indexOf("RES")==0||$.trim(I).toUpperCase().indexOf("REQ")==0)){this._throw_error(R);return}else{var L=$.trim(I).toUpperCase().indexOf("RES")==0?"RES":"REQ";this._classic_expr_flowtype.set_data(L.toUpperCase());var P=I.split(".")[1];this._classic_expr_protocol.set_data(P.toUpperCase());var Q=I.split(".");if(Q.length>3){var K="";for(var F=2;F<Q.length;F++){if(F==2){K=K+Q[F]}else{K=K+"."+Q[F]}}Q[2]=K}var N=Q[2].split(" ");var T=this._remove_empty_elements(N);var H=T[0];this._classic_expr_qualifier.set_data(H.toUpperCase());var S=H.toUpperCase()=="HEADER"?T[2].toUpperCase():T[1].toUpperCase();this._classic_expr_operator.set_data(S);var O=H.toUpperCase()=="HEADER"?T[3]:T[2];var ab=["EXISTS","NOTEXISTS","CONTENTS"];if(($.inArray(S,ab)==-1)){O.toUpperCase();this._classic_expr_value.set_data(O)}if(H.toUpperCase()=="HEADER"){var G=T[1];this._classic_expr_header.set_data(G)}if(I.indexOf("-length")!=-1){var J=I.substring(I.indexOf("-length ")+8);var W=J.indexOf(" ")!=-1?J.substring(0,J.indexOf(" ")):J;this._classic_expr_length.set_data(W)}if(I.indexOf("-offset")!=-1){var E=I.substring(I.indexOf("-offset ")+8);var U=E.indexOf(" ")!=-1?E.substring(0,E.indexOf(" ")):E;this._classic_expr_offset.set_data(U)}if(I.indexOf("-netmask")!=-1){var D=I.substring(I.indexOf("-netmask ")+9);var aa=D.indexOf(" ")!=-1?D.substring(0,D.indexOf(" ")):D;this._classic_expr_netmask.set_data(aa)}}}catch(M){this._throw_error(R)}};rdx.classic_expression_editor.prototype._create_form_for_client_security_expression=function(W,T,I){var F=this._create_form_for_expression(neo_classic_syntax["Client Security"],T);W.append($("<div>").addClass("expression_builder_box_div").append(F));this._classic_expr_component.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(a,e,c,d,b){var f=e.get_data();c.remove_items(false,false);d.set_data("");if(rdx.utils.is_not_defined(f)){f=""}if(f=="Process"){c.add_data_items(["","MD5","Path"])}else{if(f=="File"){c.add_data_items(["","Time Stamp","MD5","Search"])}else{if(f=="Registry"){c.add_data_items(["","Value"])}else{if(f=="Operating System"){c.add_data_items(["","Service Pack","Hotfix","Version"])}else{if(f=="Service"){c.add_data_items(["","Version"])}else{c.add_data_items(["Version"])}}}}}if(f=="Operating System"){b.get_parent().parent().show();b.get_parent().parent().prev().show();d.get_parent().parent().hide();d.get_parent().parent().prev().hide()}else{b.get_parent().parent().hide();b.get_parent().parent().prev().hide();d.get_parent().parent().show();d.get_parent().parent().prev().show()}if(f=="Mountpoint"){c.add_data_items([""]);c.get_parent().parent().hide();c.get_parent().parent().prev().hide()}else{c.get_parent().parent().show();c.get_parent().parent().prev().show()}},[this._classic_expr_component,this._classic_expr_qualifier,this._classic_expr_name,this._classic_expr_os_name]));this._classic_expr_qualifier.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(b,g,e,c,f,a){var h=g.get_data();var d=e.get_data();if(rdx.utils.is_not_defined(h)){h=""}if(rdx.utils.is_not_defined(d)){d=""}c.remove_items(false,false);if(d=="Version"||d=="Service Pack"||d=="Hotfix"||d=="Time Stamp"||d=="Value"||d=="MD5"||d=="Path"||d=="Search"){c.add_data_items(["==","!="])}else{if(d==""){c.add_data_items(["EXISTS","NOTEXISTS"])}}if(d=="Time Stamp"){a.set_watermark("YYYY-MM-DD-HH:MM:SSGMT")}else{a.set_watermark("")}},[this._classic_expr_component,this._classic_expr_qualifier,this._classic_expr_operator,this._classic_expr_name,this._classic_expr_value]));this._classic_expr_operator.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(c,d,b){var a=d.get_data();if(a==""){a=""}if(a=="EXISTS"||a=="NOTEXISTS"){b.get_parent().parent().hide();b.get_parent().parent().prev().hide()}else{b.get_parent().parent().show();b.get_parent().parent().prev().show();b.set_data("")}},[this._classic_expr_operator,this._classic_expr_value]));if(rdx.utils.is_defined(this._classic_expr_os_name)){this._classic_expr_os_name.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(a,b,c){var d=b.get_data();c.remove_items(false,false);if(d==""){d=""}if(d=="MacOS"){c.add_data_items(["","Version"])}else{c.add_data_items(["","Service Pack","Hotfix","Version"])}},[this._classic_expr_os_name,this._classic_expr_qualifier]))}this._classic_expr_component.set_data("Anti-Virus");this._classic_expr_qualifier.set_data("Version");this._classic_expr_operator.set_data("==");if(this._properties.is_pre_auth_policy==true){this["_classic_expr_frequency"].toggle_read_only(false);this["_classic_expr_freshness"].toggle_read_only(false);this["_classic_expr_weight"].toggle_read_only(false)}if(rdx.utils.is_defined(I)&&rdx.utils.is_not_empty(I)){var Q=false;for(var B in this._component_name_map){if($.trim(I).toUpperCase().indexOf(this._component_name_map[B])==0){Q=true}}if(!Q){this._throw_error(T);return}try{var P="";var R="";for(var B in this._component_name_map){if($.trim(I).toUpperCase().indexOf(this._component_name_map[B])!=-1){P=this._component_name_map[B];R=B;this._classic_expr_component.set_data(B);break}}var L=I.substring(P.length+1,I.indexOf(")",P.length));if(R=="Operating System"){for(var B in this._operating_system_map){if(L.toUpperCase().indexOf(this._operating_system_map[B].toUpperCase())!=-1){this._classic_expr_os_name.set_data(B);break}}}else{this._classic_expr_name.set_data(L)}var V=I.substring((P.length)+(L.length)+2,I.length);var G="";var O=false;if(V.indexOf(".")==0){for(var B in this._qualifier_map){if($.trim(I).toUpperCase().indexOf(this._qualifier_map[B])!=-1){G=B;this._classic_expr_qualifier.set_data(B);O=true}}if(!O){this._throw_error(T);return}}var M="";if(rdx.utils.is_defined(this._qualifier_map[G])){M=$.trim(V.substring(this._qualifier_map[G].length+1,V.length))}else{M=$.trim(V.substring(G.length+1,V.length))}var D=M.split(" ");var U=D[0];var C=["==","!=","EXISTS","NOTEXISTS"];var Z=false;for(var H=0;H<C.length;H++){if(U.toUpperCase()==C[H].toUpperCase()){Z=true;break}}if(rdx.utils.is_empty(U)||!Z){this._throw_error(T);return}this._classic_expr_operator.set_data(U.toUpperCase());if(D.length>1){var E=false;if((D[1].indexOf("-frequency")==-1&&D[1].indexOf("-errorweight")==-1&&D[1].indexOf("-freshness")==-1)){var N=D[1];this._classic_expr_value.set_data(N);E=true}var S=(E)?2:1;for(var J=S;J<D.length;J++){if(D[J]=="-frequency"){this._classic_expr_frequency.set_data(D[J+1]);J++}else{if(D[J]=="-errorweight"){this._classic_expr_weight.set_data(D[J+1]);J++}else{if(D[J]=="-freshness"){this._classic_expr_freshness.set_data(D[J+1]);J++}}}}}if(rdx.utils.is_not_empty(G)&&!E){this._throw_error(T)}}catch(K){this._throw_error(T)}}};rdx.classic_expression_editor.prototype._create_form_for_network_based_expression=function(C,u,y){var H=this._create_form_for_expression(neo_classic_syntax["Network Based"],u);C.append($("<div>").addClass("expression_builder_box_div").append(H));this._classic_expr_qualifier.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(a,d,b){var c=d.get_data();b.remove_items(false,false);if(rdx.utils.is_not_defined(c)){c=""}if(c=="INTERFACE.ID"||c=="ETHER.SOURCEMAC"||c=="ETHER.DESTMAC"){b.add_data_items(["==","!="])}else{b.add_data_items(["==","!=","<=","<",">=",">","BETWEEN"])}},[this._classic_expr_qualifier,this._classic_expr_operator]));this._classic_expr_operator.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(b,c,a){var d=c.get_data();if(d=="BETWEEN"){a.get_parent().parent().prev().text("Value(Low)-Value(High)*")}else{a.get_parent().parent().prev().text("Value*")}},[this._classic_expr_operator,this._classic_expr_value]));this._classic_expr_flowtype.set_data("REQ");this._classic_expr_qualifier.set_data("VLANID");this._classic_expr_operator.set_data("==");if(rdx.utils.is_defined(y)&&rdx.utils.is_not_empty(y)){if(!($.trim(y).toUpperCase().indexOf("RES")==0||$.trim(y).toUpperCase().indexOf("REQ")==0)){this._throw_error(u);return}try{var A=$.trim(y).toUpperCase().indexOf("RES")==0?"RES":"REQ";this._classic_expr_flowtype.set_data(A.toUpperCase());var G=true;var F=y.split(".");if(F.length>2){var B="";for(var D=1;D<F.length;D++){if(D==1){B=B+F[D]}else{B=B+"."+F[D]}}F[1]=B}var z=F[1].split(" ");var v=this._remove_empty_elements(z);if(rdx.utils.is_defined(v[0])){var x=v[0];this._classic_expr_qualifier.set_data(x.toUpperCase())}else{G=false}if(rdx.utils.is_defined(v[1])){var E=v[1];this._classic_expr_operator.set_data(E.toUpperCase())}else{G=false}if(rdx.utils.is_defined(v[2])){var t=v[2];this._classic_expr_value.set_data(t)}else{G=false}}catch(w){this._throw_error(u)}if(!G){this._throw_error(u)}}};rdx.classic_expression_editor.prototype._create_form_for_date_time_expression=function(u,o,s){var m=this._create_form_for_expression(neo_classic_syntax["Date/Time"],o);u.append($("<div>").addClass("expression_builder_box_div").append(m));this._classic_expr_qualifier.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(c,a,d,b){var e=a.get_data();d.remove_items(false,false);if(rdx.utils.is_not_defined(e)){e=""}d.add_data_items(["==","!=","<=","<",">=",">"]);if(e!="DAYOFWEEK"){d.add_item("BETWEEN")}if(e=="DATE"){b.set_watermark("YYYY-MM-DDGMT")}else{if(e=="DAYOFWEEK"){b.set_watermark("DayGMT")}else{b.set_watermark("YYYY-MM-DD-HH:MM:SSGMT")}}},[this._classic_expr_qualifier,this._classic_expr_operator,this._classic_expr_value]));this._classic_expr_qualifier.set_data("TIME");this._classic_expr_operator.set_data("==");this._classic_expr_value.set_watermark("YYYY-MM-DD-HH:MM:SSGMT");if(rdx.utils.is_defined(s)&&rdx.utils.is_not_empty(s)){var v=false;for(var t=0;t<this._date_time_qualifiers.length;t++){if($.trim(s).toUpperCase().indexOf(this._date_time_qualifiers[t].toUpperCase())==0){v=true}}if(!v){this._throw_error(o);return}try{var n=s.split(" ");var p=this._remove_empty_elements(n);if(rdx.utils.is_defined(p[0])){this._classic_expr_qualifier.set_data(p[0].toUpperCase())}else{v=false}if(rdx.utils.is_defined(p[1])){this._classic_expr_operator.set_data(p[1].toUpperCase())}else{v=false}if(rdx.utils.is_defined(p[2])){this._classic_expr_value.set_data(p[2])}else{v=false}}catch(q){this._throw_error(o)}if(!v){this._throw_error(o)}}};rdx.classic_expression_editor.prototype._create_form_for_file_system_expression=function(u,o,s){var m=this._create_form_for_expression(neo_classic_syntax["File System"],o);u.append($("<div>").addClass("expression_builder_box_div").append(m));this._classic_expr_qualifier.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(c,a,d,b){var e=a.get_data();d.remove_items(false,false);if(rdx.utils.is_not_defined(e)){e=""}if(e=="FS.COMMAND"||e=="FS.SERVERIP"){d.add_data_items(["==","!="])}else{if(e=="FS.SERVER"||e=="FS.SERVICE"||e=="FS.DOMAIN"||e=="FS.PATH"||e=="FS.FILE"||e=="FS.DIR"||e=="FS.USER"){d.add_data_items(["==","!=","CONTAINS","NOTCONTAINS"])}else{if(e=="FS.FILE.ACCESSTIME"||e=="FS.FILE.CREATETIME"||e=="FS.FILE.MODIFYTIME"||e=="FS.FILE.WRITETIME"||e=="FS.DIR.ACCESSTIME"||e=="FS.DIR.CREATETIME"||e=="FS.DIR.MODIFYTIME"||e=="FS.DIR.WRITETIME"){d.add_data_items(["==","!=",">=",">","<=","<"])}else{if(e=="FS.FILE.SIZE"){d.add_data_items(["==","!=",">=",">","<=","<"])}}}}if(e.match(/TIME$/)){b.set_watermark("YYYY-MM-DD-HH:MM:SSGMT")}else{b.set_watermark("")}},[this._classic_expr_qualifier,this._classic_expr_operator,this._classic_expr_value]));this._classic_expr_qualifier.set_data("FS.COMMAND");this._classic_expr_operator.set_data("==");if(rdx.utils.is_defined(s)&&rdx.utils.is_not_empty(s)){var v=false;for(var t=0;t<this._file_system_qualifiers.length;t++){if($.trim(s).toUpperCase().indexOf(this._file_system_qualifiers[t].toUpperCase())==0){v=true}}if(!v){this._throw_error(o);return}try{var n=s.split(" ");var p=this._remove_empty_elements(n);if(rdx.utils.is_defined(p[0])){this._classic_expr_qualifier.set_data(p[0].toUpperCase())}else{v=false}if(rdx.utils.is_defined(p[1])){this._classic_expr_operator.set_data(p[1].toUpperCase())}else{v=false}if(rdx.utils.is_defined(p[2])){this._classic_expr_value.set_data(p[2])}else{v=false}}catch(q){this._throw_error(o)}if(!v){this._throw_error(o)}}};rdx.classic_expression_editor.prototype._throw_error=function(b){b.addClass("wrong_expression");rdx.message_box.error("Invalid Selection",null,rdx.i18n.get_string("neo.error_message_title"),null)};rdx.classic_expression_editor.prototype._create_form_for_expression=function(v,q){var p=$("<table>").addClass("expression_editor_form");for(var n in v){var o=$("<tr>").append($("<td>").addClass("label").text(v[n]["label"]));var t=$("<tr>");var x=$("<td>");t.append(x);if(v[n]["type"]=="text"){if(v[n]["mandatory"]===true){this["_classic_expr_"+n]=new rdx.text_box(x,new rdx.form_field({key:n,mandatory:true})).render()}else{this["_classic_expr_"+n]=new rdx.text_box(x,new rdx.form_field({key:n})).render()}this["_classic_expr_"+n].add_event_handler(rdx.events.KEYDOWN,new rdx.callback(function(b,c,d){var a=b.keyCode;if(rdx.keycodes.ENTER==a&&rdx.utils.is_defined(c)&&rdx.utils.is_defined(d)){d.call_back([b,c])}},[q,new rdx.callback(this,this._create_simple_expression)]))}else{if(v[n]["type"]=="list"){this["_classic_expr_"+n]=new rdx.list(x,new rdx.form_field({key:n,mandatory:true,properties:{size:1},formatter:{map:v[n]["possible_values"]}})).render()}}this["_classic_expr_"+n].set_data(v[n]["default_value"]);p.append(o).append(t);if(rdx.utils.is_defined(v[n]["comparator"])){var u=$("<tr>").append($("<td>").addClass("label").text(v[n]["comparator"]["label"]));var s=$("<tr>");var w=$("<td>");s.append(w);this["_classic_expr_"+v[n]["comparator"]["label"].toLowerCase()]=new rdx.list(w,new rdx.form_field({key:v[n]["comparator"]["label"].toLowerCase(),mandatory:true,properties:{size:1},formatter:{map:v[n]["comparator"]["possible_values"]}})).render();this["_classic_expr_"+v[n]["comparator"]["label"].toLowerCase()].set_data(v[n]["comparator"]["default_value"]);p.append(u).append(s)}}return p};rdx.classic_expression_editor.prototype._create_simple_expression=function(z,s,x,v){var p=this._expressiontype_dropdown.get_data();var u="";var o={};if(p=="General"){o=this._get_general_expression()}else{if(p=="Client Security"){o=this._get_client_security_expression()}else{if(p=="Network Based"){o=this._get_network_based_expression()}else{if(p=="Date/Time"){o=this._get_date_time_expression()}else{o=this._get_file_system_expression()}}}}if(o.destroy_dialog===true){if(x!=true){if($.trim(this._expression_textarea.get_data())==""){this._expression_textarea.set_data(o.expression)}else{if(this._check_operator_index_is_last()){this._expression_textarea.set_data(this._expression_textarea.get_data()+o.expression)}else{this._expression_textarea.set_data(this._expression_textarea.get_data()+" && "+o.expression)}}}else{var t=this._expression_textarea.get_data();if(rdx.utils.is_defined(v.start_position)&&rdx.utils.is_defined(v.end_position)){var q=t.substring(0,v.start_position);var y=t.substring(v.end_position,t.length);var w=o.expression;this._expression_textarea.set_data(q+w+y)}}this.close_expression_buider_dialog(s)}};rdx.classic_expression_editor.prototype._check_operator_index_is_last=function(){var f=this._expression_textarea.get_data();var d=f.lastIndexOf("&&");var e=f.lastIndexOf("||");if(d==f.length-3||d==f.length-2||e==f.length-3||e==f.length-2){return true}else{return false}};rdx.classic_expression_editor.prototype._check_type_of_expression=function(x){if(rdx.utils.is_not_defined(x)){return null}var t=false;if(rdx.utils.is_defined(this.expression_editor_saved_expression.name)){for(var B=0;B<this.expression_editor_saved_expression.name.length;B++){if($.trim(x).toUpperCase().indexOf(this.expression_editor_saved_expression.name[B].toUpperCase())==0){t=true;break}}}if(t){return"Named Expression"}var v=false;for(var s in this._component_name_map){if(x.toUpperCase().indexOf(this._component_name_map[s])!=-1){v=true;break}}if(v===true){return"Client Security"}var u=false;var w=["VLANID","INTERFACE.ID","INTERFACE.RXTHROUGHPUT","INTERFACE.TXTHROUGHPUT","INTERFACE.RXTXTHROUGHPUT","ETHER.SOURCEMAC","ETHER.DESTMAC"];for(var y=0;y<w.length;y++){if(x.toUpperCase().indexOf(w[y])!=-1){u=true;break}}if(u===true){return"Network Based"}var z=false;var A=["FS.COMMAND","FS.USER","FS.SERVER","FS.SERVERIP","FS.SERVICE","FS.DOMAIN","FS.PATH","FS.FILE","FS.DIR","FS.FILE.ACCESSTIME","FS.FILE.CREATETIME","FS.FILE.CREATETIME","FS.FILE.MODIFYTIME","FS.FILE.WRITETIME","FS.DIR.ACCESSTIME","FS.DIR.CREATETIME","FS.DIR.MODIFYTIME","FS.DIR.WRITETIME"];for(var y=0;y<A.length;y++){if(x.toUpperCase().indexOf(A[y])!=-1){z=true;break}}if(z===true){return"File System"}var p=false;var q=["TIME","DATE","DAYOFWEEK"];for(var y=0;y<q.length;y++){if(x.toUpperCase().indexOf(q[y])!=-1){p=true;break}}if(p===true){return"Date/Time"}return"General"};rdx.classic_expression_editor.prototype._get_general_expression=function(){var t=null;var p={expression:t,destroy_dialog:false};var u=this._classic_expr_flowtype.get_data();if(rdx.utils.is_not_defined(u)){rdx.message_box.error("Please select flow type",null,rdx.i18n.get_string("neo.error_message_title"),null);return p}var o=this._classic_expr_protocol.get_data();if(rdx.utils.is_not_defined(o)){rdx.message_box.error("Please select protocol",null,rdx.i18n.get_string("neo.error_message_title"),null);return p}var s=this._classic_expr_qualifier.get_data();if(rdx.utils.is_not_defined(s)){rdx.message_box.error("Please select qualifier",null,rdx.i18n.get_string("neo.error_message_title"),null);return p}var y=this._classic_expr_operator.get_data();if(rdx.utils.is_not_defined(y)){rdx.message_box.error("Please select operator",null,rdx.i18n.get_string("neo.error_message_title"),null);return p}var v=null;if(this._classic_expr_header._parent.parent().is(":visible")){if(this._classic_expr_header.get_data().length<=0){rdx.message_box.error("Please specify header name",null,rdx.i18n.get_string("neo.error_message_title"),null);return p}v=this._classic_expr_header.get_data()}var q=$.trim(this._classic_expr_value.get_data());if(this._classic_expr_value._parent.parent().is(":visible")&&q.length<=0){rdx.message_box.error("Please specify value",null,rdx.i18n.get_string("neo.error_message_title"),null);return p}if(s=="SOURCEIP"||s=="DESTIP"){if(!rdx.utils.is_ipv4(q)&&!rdx.utils.is_ipv6(q)){rdx.message_box.error("IP Address Invalid",null,rdx.i18n.get_string("neo.error_message_title"),null);return p}}if((s=="SOURCEPORT"||s=="DESTPORT")&&(y!="BETWEEN")){if(!q.match(/^\d*$/)){rdx.message_box.error("Port Number Invalid",null,rdx.i18n.get_string("neo.error_message_title"),null);return p}}if(s=="URLLEN"||s=="URLQUERYLEN"||s=="STATUSCODE"){q=parseInt(q)}var z=0;if(this._classic_expr_length._parent.parent().is(":visible")&&this._classic_expr_length.get_data().length>0){z=parseInt(this._classic_expr_length.get_data())}var x=0;if(this._classic_expr_offset._parent.parent().is(":visible")&&this._classic_expr_offset.get_data().length>0){x=parseInt(this._classic_expr_offset.get_data())}var w=null;if(this._classic_expr_netmask._parent.parent().is(":visible")&&$.trim(this._classic_expr_netmask.get_data().length)>0){if(!rdx.utils.is_ipv4(q)){rdx.message_box.error("Netmask can be specified only with IPv4 address",null,rdx.i18n.get_string("neo.error_message_title"),null);return p}w=this._classic_expr_netmask.get_data();if(!rdx.utils.is_ipv4(w)){rdx.message_box.error("Please specify valid netmask value",null,rdx.i18n.get_string("neo.error_message_title"),null);return p}}p.expression=this._get_simple_expression(u,o,s,y,q,v,z,x,w);p.destroy_dialog=true;return p};rdx.classic_expression_editor.prototype._get_client_security_expression=function(){var w=null;var p={expression:w,destroy_dialog:false};var t=this._classic_expr_component.get_data();if(rdx.utils.is_not_defined(t)){rdx.message_box.error("Please select component",null,rdx.i18n.get_string("neo.error_message_title"),null);return p}var B="";var u="";if(this._classic_expr_name._parent.parent().is(":visible")){B=$.trim(this._classic_expr_name.get_data());u="Please specify name"}else{B=$.trim(this._classic_expr_os_name.get_data());u="Please select Operating System name"}if(B.length<=0){rdx.message_box.error(u,null,rdx.i18n.get_string("neo.error_message_title"),null);return p}var v=this._classic_expr_qualifier.get_data();if(rdx.utils.is_not_defined(v)){rdx.message_box.error("Please select qualifier",null,rdx.i18n.get_string("neo.error_message_title"),null);return p}var z=this._classic_expr_operator.get_data();if(rdx.utils.is_not_defined(z)){rdx.message_box.error("Please select operator",null,rdx.i18n.get_string("neo.error_message_title"),null);return p}var q=$.trim(this._classic_expr_value.get_data());if(this._classic_expr_value._parent.parent().is(":visible")&&q.length<=0){rdx.message_box.error("Please select value",null,rdx.i18n.get_string("neo.error_message_title"),null);return p}var A=$.trim(this._classic_expr_frequency.get_data());var y=$.trim(this._classic_expr_weight.get_data());var s=$.trim(this._classic_expr_freshness.get_data());var x="";x=x+this._component_name_map[t];if(t=="Operating System"){x=x+"("+this._operating_system_map[B]+")"}else{x=x+"("+B+")"}if(rdx.utils.is_not_empty(v)){x=x+this._qualifier_map[v]}x=x+" "+z;if(this._classic_expr_value._parent.parent().is(":visible")){x=x+" "+q}if(this._classic_expr_frequency._parent.parent().is(":visible")&&A.length>0){x=x+" -frequency "+A}if(this._classic_expr_weight._parent.parent().is(":visible")&&y.length>0){x=x+" -errorweight "+y}if(this._classic_expr_freshness._parent.parent().is(":visible")&&s.length>0){x=x+" -freshness "+s}p.expression=this._get_simple_expression(x);p.destroy_dialog=true;return p};rdx.classic_expression_editor.prototype._get_network_based_expression=function(){var n=null;var h={expression:n,destroy_dialog:false};var o=this._classic_expr_flowtype.get_data();if(rdx.utils.is_not_defined(o)){rdx.message_box.error("Please select flow type",null,rdx.i18n.get_string("neo.error_message_title"),null);return h}var q=this._classic_expr_qualifier.get_data();if(rdx.utils.is_not_defined(q)){rdx.message_box.error("Please select qualifier",null,rdx.i18n.get_string("neo.error_message_title"),null);return h}var l=this._classic_expr_operator.get_data();if(rdx.utils.is_not_defined(l)){rdx.message_box.error("Please select operator",null,rdx.i18n.get_string("neo.error_message_title"),null);return h}var p=$.trim(this._classic_expr_value.get_data());if(p.length<=0){rdx.message_box.error("Please specify value",null,rdx.i18n.get_string("neo.error_message_title"),null);return h}var m=o+"."+q+" "+l+" "+p;h.expression=this._get_simple_expression(m);h.destroy_dialog=true;return h};rdx.classic_expression_editor.prototype._get_date_time_expression=function(){var h=null;var f={expression:h,destroy_dialog:false};var m=this._classic_expr_qualifier.get_data();if(rdx.utils.is_not_defined(m)){rdx.message_box.error("Please select qualifier",null,rdx.i18n.get_string("neo.error_message_title"),null);return f}var g=this._classic_expr_operator.get_data();if(rdx.utils.is_not_defined(g)){rdx.message_box.error("Please select operator",null,rdx.i18n.get_string("neo.error_message_title"),null);return f}var l=$.trim(this._classic_expr_value.get_data());if(l.length<=0){rdx.message_box.error("Please specify value",null,rdx.i18n.get_string("neo.error_message_title"),null);return f}f.expression=this._get_simple_expression(null,null,m,g,l,null,0,0,null);f.destroy_dialog=true;return f};rdx.classic_expression_editor.prototype._get_file_system_expression=function(){var h=null;var f={expression:h,destroy_dialog:false};var m=this._classic_expr_qualifier.get_data();if(rdx.utils.is_not_defined(m)){rdx.message_box.error("Please select qualifier",null,rdx.i18n.get_string("neo.error_message_title"),null);return f}var g=this._classic_expr_operator.get_data();if(rdx.utils.is_not_defined(g)){rdx.message_box.error("Please select operator",null,rdx.i18n.get_string("neo.error_message_title"),null);return f}var l=$.trim(this._classic_expr_value.get_data());if(l.length<=0){rdx.message_box.error("Please specify value",null,rdx.i18n.get_string("neo.error_message_title"),null);return f}if(m=="FS.SERVERIP"){if(!rdx.utils.is_ipv4(l)&&!rdx.utils.is_ipv6(l)){rdx.message_box.error("IP Address Invalid",null,rdx.i18n.get_string("neo.error_message_title"),null);return f}}f.expression=this._get_simple_expression(null,null,m,g,l,null,0,0,null);f.destroy_dialog=true;return f};rdx.classic_expression_editor.prototype._get_simple_expression=function(x,s,w,B,u,y,C,A,z){var v="";var D=" ";var t=false;var q=false;if(rdx.utils.is_defined(x)&&$.trim(x).length>0){v=$.trim(x);t=true}if(rdx.utils.is_defined(s)&&$.trim(s).length>0){if(t){v=v+"."}v=v+$.trim(s);q=true}if(rdx.utils.is_defined(w)&&$.trim(w).length>0){if(q){v=v+"."}v=v+$.trim(w)}if(w=="HEADER"){v=v+D+$.trim(y)}if(rdx.utils.is_defined(B)&&$.trim(B).length>0){v=v+D+$.trim(B)}if(rdx.utils.is_defined(u)&&$.trim(u).length>0){v=v+D+$.trim(u)}if(C!=0){if(rdx.utils.is_defined(C)&&$.trim(C).length>0){v=v+D+"-length"+D+$.trim(C)}}if(A!=0){if(rdx.utils.is_defined(A)&&$.trim(A).length>0){v=v+D+"-offset"+D+parseInt(A)}}if(rdx.utils.is_defined(z)&&$.trim(z).length>0){v=v+D+"-netmask"+D+$.trim(z)}return v};rdx.entity_chooser=function(d,c){this._parent=d;this._field=c;this._DEFAULT_PROPERTIES={select_msg:"rdx.click_to_select",multi_selection:false,send_full_entity_data:false,show_all_multi_select_data:false};this._component=null;this._multi_select_display_component=null;this._properties=$.extend(true,this._DEFAULT_PROPERTIES,c.get_properties());this._storage_key=rdx.utils.is_defined(c._properties.storage_key)?c._properties.storage_key:"";this._display_column=rdx.utils.is_defined(c._properties.display_column)?c._properties.display_column:"";this._view_name=rdx.utils.is_defined(c._properties.view_name)?c._properties.view_name:null;this._resource_data=null;this._view_context=rdx.utils.is_defined(this._field._properties.view_context)?this._field._properties.view_context:null;this._update_form_field=true;this._view_link_map={};this._list_table=null;this._clear_icon_present=false};rdx.entity_chooser.prototype.render=function(){this._component=$("<div>").addClass("entity_chooser");this._multi_select_display_component=$("<div>").addClass("multi_selection_entity_chooser");var b=$("<span>").addClass("arrow").append("&nbsp;");this._text_input_div=$("<div>").addClass("text_input").append(rdx.i18n.get_string(this._properties.select_msg));this._component.append(this._text_input_div).append(b);this._component.append(this._multi_select_display_component);this._parent.append(this._component);this.create_list_table();if(rdx.utils.is_defined(rdx.get_test_framework)&&rdx.get_test_framework().is_test_mode){rdx.get_test_framework().click_to_select.push({title:this._field.get_label(),clickable:this._component})}this._clear_icon_present=false;this._component.bind(rdx.events.MOUSE_OVER,{entity_chooser:this,text_input_span:this._text_input_div},function(e){var f=e.data.entity_chooser;var a=$("<span>").addClass("cross_on_hover");if(f._properties.show_all_multi_select_data==false){if(f._field.is_mandatory()){return}}else{if((f._multi_select_display_component).children().length==0){if(f._field.is_mandatory()){if(rdx.utils.is_defined(f._text_input_div.children()[0])&&f._text_input_div.children()[0]==$(a)[0]){f._text_input_div.children().remove();f._clear_icon_present=false}}return}}if(!(!f._field.is_read_only()&&rdx.utils.is_not_empty(f.get_data())&&f._clear_icon_present==false)){return}if(f.get_data()==rdx.i18n.get_string(f._properties.select_msg)){return}f._text_input_div.append(a);f._clear_icon_present=true;a.bind(rdx.events.CLICK,{entity_chooser:f},function(c){if(c.data.entity_chooser._properties.show_all_multi_select_data&&c.data.entity_chooser._multi_select_display_component.children().length>0){c.data.entity_chooser._validate_change(c)}else{c.data.entity_chooser.set_data(rdx.i18n.get_string(c.data.entity_chooser._properties.select_msg));c.data.entity_chooser._resource_data=null}c.data.entity_chooser._component.trigger(rdx.events.CHANGE);a.remove();c.data.entity_chooser._clear_icon_present=false;c.stopPropagation()})});if(rdx.utils.is_defined(this._field.get_set_view_name())){this._component.trigger(rdx.events.CHANGE)}if(this._field.is_read_only()){this.toggle_read_only(false)}return this};rdx.entity_chooser.prototype.add_event_handler=function(d,c){this._component.bind(rdx.events.CHANGE,{rdx_change_handler_callback:c},function(a){a.data.rdx_change_handler_callback.call_back([a])})};rdx.entity_chooser.prototype._bind_events=function(){this._component.bind(rdx.events.CLICK,{entity_chooser:this},function(n){var o=n.data.entity_chooser;if(o._component.hasClass("form_field_disabled")){return}if(rdx.utils.is_defined(o._view_name)){var p=rdx.view_utils.get_modified_view_defn_for_entity_choose(o._view_name,o._properties);var q=rdx.utils.get_cookie("hide_builtin_policies");if(rdx.utils.is_empty(q)){q="true"}var l={};if(rdx.utils.is_defined(p.view_properties.show_hide_link_filter)){l=p.view_properties.show_hide_link_filter}else{l={static_filter:{isdefault:"false"}}}if(rdx.utils.is_not_defined(o._view_context)){o._view_context={}}if(rdx.utils.is_defined(p.view_properties.show_hide_link)){if(q==true||q=="true"){o._view_context.static_filter=l.static_filter}else{var m=o._view_context;if(rdx.utils.is_defined(m)&&rdx.utils.is_defined(m.static_filter)&&rdx.utils.is_object_not_empty(m.static_filter)){for(var h in m.static_filter){delete m.static_filter[h]}}}}o._base_view=rdx.view_utils.show_view_in_slider(p,new rdx.callback(o,o.refresh),o._resource_data,o._view_context,false,null,new rdx.callback(o,o.store_data));o._base_view.set_add_entity_select_btn(true);o._base_view.prepare_view()}})};rdx.entity_chooser.prototype.set_data=function(c){var d=this._text_input_div.text();if(typeof(c)=="object"&&rdx.utils.is_defined(c.view_name)){this._view_name=c.view_name}else{if(this._properties.send_full_entity_data===true){this._resource_data=c;this.refresh(false,true)}else{if(c==""){c=rdx.i18n.get_string(this._properties.select_msg)}this._text_input_div.text(c);this._component.trigger(rdx.events.CHANGE);this._component.change()}}};rdx.entity_chooser.prototype.get_data=function(){if(this._properties.send_full_entity_data===true){return this._resource_data}else{var d=this._text_input_div.text();if(rdx.utils.is_not_empty(this._storage_data)){d=this._storage_data}if(this._properties.multi_selection==true){var c;if(this._properties.show_all_multi_select_data==false){if(d==rdx.i18n.get_string(this._properties.select_msg)){return""}else{if(d.indexOf(",")==-1){return d}else{c=d.split(", ");return c}}}else{if(d==rdx.i18n.get_string(this._properties.select_msg)){return""}if($(this._multi_select_display_component).children().length==0){return d}else{c=[];c.push(d);for(ind=0;ind<($(this._multi_select_display_component).children().length);ind++){c.push($(this._multi_select_display_component.children()[ind]).text())}return c}}}else{return(d==rdx.i18n.get_string(this._properties.select_msg))?"":d}}};rdx.entity_chooser.prototype.get_component_type=function(){return rdx.form_constants.ENTITY_CHOOSER};rdx.entity_chooser.prototype.get_field=function(){return this._field};rdx.entity_chooser.prototype.get_component=function(){return this._component};rdx.entity_chooser.prototype._validate_change=function(d){var f=d.data.entity_chooser._multi_select_display_component.children();this._resource_data.splice(0,1);d.data.entity_chooser._handle_multi_select_display();f[f.length-1].remove();if(f.length>1){var e=$("<span>").addClass("cross_on_hover");if(!this._clear_icon_present){this._text_input_div.append(e)}this._clear_icon_present=true;e.bind(rdx.events.CLICK,{entity_chooser:this},function(a){a.data.entity_chooser._validate_change(a);a.data.entity_chooser._component.trigger(rdx.events.CHANGE);e.remove();a.data.entity_chooser._clear_icon_present=false;a.stopPropagation()})}};rdx.entity_chooser.prototype.store_data=function(c){if(rdx.utils.is_defined(c.slider_clicked)&&c.slider_clicked==true){this._update_form_field=false}else{if(rdx.utils.is_function(c.get_button_state)){this._update_form_field=false}else{this._update_form_field=true}}if(rdx.utils.is_defined(this._base_view)){var d=this._base_view.get_view_context().get_data(rdx.view_constants.data_selection_param.SELECTED);if(rdx.utils.is_object_not_empty(d)){this._clear_icon_present=false;this._resource_data=d}}else{this._resource_data=""}};rdx.entity_chooser.prototype.refresh=function(s,q){s=s||true;q=q||false;var z=rdx.utils.get_view(this._view_name).resource_name;var o=rdx.utils.get_resource(z).primary_keys;var u=o&&o.length>0?o[0]:null;var v=rdx.utils.is_not_empty(this._display_column)?this._display_column:u;var t="";if(rdx.utils.is_defined(this._resource_data)){if(rdx.utils.is_array(this._resource_data)&&this._resource_data.length>0){if(rdx.utils.is_not_empty(this._storage_key)){this._storage_data=this._resource_data[0][this._storage_key]}if(rdx.utils.is_not_empty(v)){t=this._resource_data[0][v]}}else{if(rdx.utils.is_defined(this._resource_data)){if(rdx.utils.is_not_empty(this._storage_key)){this._storage_data=this._resource_data[this._storage_key]}if(rdx.utils.is_not_empty(v)){t=this._resource_data[v]}}}if(rdx.utils.is_array(this._resource_data)&&this._resource_data.length>1){for(var x=1;x<this._resource_data.length;x++){if(rdx.utils.is_not_empty(this._display_column)){t=t+", "+this._resource_data[x][v]}else{t=t+", "+this._resource_data[x][o[0]]}if(rdx.utils.is_not_empty(this._storage_key)){this._storage_data=this._resource_data[x][this._storage_key]}}}else{if(rdx.utils.is_defined(this._resource_data)&&rdx.utils.is_object(this._resource_data)){if(rdx.utils.is_not_empty(this._display_column)){t=t+", "+this._resource_data[v]}else{t=t+", "+this._resource_data[o[0]]}if(rdx.utils.is_not_empty(this._storage_key)){this._storage_data=this._resource_data[this._storage_key]}}}if(rdx.utils.is_defined(this._field.get_formatter())){var p=this._field.get_formatter();var y=this._resource_data;if(rdx.utils.is_array(this._resource_data)&&this._resource_data.length>0){y=this._resource_data[0]}t=p.get_display_value(t,y)}}var w=this._text_input_div.text();if(this._update_form_field===true||q==true){if(rdx.utils.is_array(this._resource_data)&&this._resource_data.length>1&&this._properties.show_all_multi_select_data){this._handle_multi_select_display(o,true)}else{$(this._multi_select_display_component).children().remove();if(rdx.utils.is_defined(t)){this._text_input_div.text(t)}if(this._resource_data==rdx.i18n.get_string(this._properties.select_msg)){this._text_input_div.text(this._resource_data);this._resource_data=null}}}if(s==true){this._component.trigger(rdx.events.CHANGE);this._component.change()}};rdx.entity_chooser.prototype._handle_multi_select_display=function(h,n){n=rdx.utils.is_defined(n)?n:false;var m=rdx.utils.is_not_empty(this._display_column)?this._display_column:h[0];if(n){if($(this._multi_select_display_component).children().length>0){$(this._multi_select_display_component).children().remove()}}if(this._properties.show_all_multi_select_data==true){this._text_input_div.text(this._resource_data[0][m]);for(var l=1;l<this._resource_data.length;l++){if(rdx.utils.is_defined($(this._multi_select_display_component).children()[l-1])){$($(this._multi_select_display_component).children()[l-1])[0].childNodes[0].nodeValue=(this._resource_data[l][m])}else{var o=$("<div>").addClass("text_input").append(this._resource_data[l][m]);this._multi_select_display_component.append(o);o.bind(rdx.events.MOUSE_OVER,{that:this._resource_data,next_input_div:o},function(a){if(a.data.next_input_div.children().length==0){var b=$("<span>").addClass("cross_on_hover");a.data.next_input_div.append(b);b.bind(rdx.events.CLICK,{that:a.data.that},function(c){var d=Array.prototype.indexOf.call(c.target.parentElement.parentElement.childNodes,c.target.parentElement);c.target.parentElement.remove();c.data.that.splice(d+1,1);c.stopPropagation()})}})}}if(($(this._multi_select_display_component).children().length)>this._resource_data.length-1){var g=$(this._multi_select_display_component).children().length-(this._resource_data.length-1);for(var l=0;l<g;l++){$(this._multi_select_display_component).children()[this._resource_data.length-1+l].remove()}}}};rdx.entity_chooser.prototype.toggle_read_only=function(f){var e=this._field.get_add_view_name();var d=this._field.get_set_view_name();if(f){this._component.removeClass("form_field_disabled");if(rdx.utils.is_defined(e)){this._view_link_map[e].removeClass("disabled")}if(rdx.utils.is_defined(d)){if(rdx.utils.is_empty(this.get_data())){this._view_link_map[d].addClass("disabled")}else{this._view_link_map[d].removeClass("disabled")}}}else{if(rdx.utils.is_defined(e)){this._view_link_map[e].addClass("disabled")}if(rdx.utils.is_defined(d)){this._view_link_map[d].addClass("disabled")}}};rdx.entity_chooser.prototype.toggle_show_hide=function(d,c){if(rdx.utils.is_not_defined(c)){c=this._component}if(d){c.show();this.toggle_read_only(d)}else{c.hide();this.toggle_read_only(d)}};rdx.entity_chooser.prototype.set_view_name=function(b){this._view_name=b};rdx.entity_chooser.prototype.create_list_table=function(){if(rdx.utils.is_defined(this._field.get_add_view_name())||rdx.utils.is_defined(this._field.get_set_view_name())){this._list_table=$("<table>").attr("cellpadding",0).attr("cellSpacing",0).addClass("list_table");rdx.form_utils.add_form_field_link(this,this._component,this._field,this._view_link_map,null,this._list_table)}this._bind_events();this._parent.prepend(this._list_table)};rdx.preview=function(d,c){this._parent=d;this._field=c;this._DEFAULT_PROPERTIES={value:null,file_path:null,table_header:null,preview_render_callback:null,edit_preview_callback:null,upload_file_callback:null};this._component=null;this._properties=$.extend(true,this._DEFAULT_PROPERTIES,c.get_properties());this._current_selected_item=null;this._directory_level=0;this._file_name=null};rdx.preview.prototype.render=function(){this._component=$("<div>").addClass("selected-preview-content");this._pen_span=$("<span>").addClass("edit-preview-content").append("&nbsp;").attr("title","Edit");this._delete_span=$("<span>").addClass("clear-preview").append("&nbsp;").attr("title","Reset");this._upload_span=$("<span>").addClass("upload_file").append("&nbsp;").attr("title","Upload");if(rdx.utils.is_defined(this._properties.value)){this.set_data(this._properties.value)}this._component.append(this._upload_span).append(this._delete_span).append(this._pen_span);this._icons_event_handlers();this._parent.append(this._component);return this};rdx.preview.prototype._render_table=function(t,q,p){q._preview_div=$("<div>").addClass("preview-parent-block clearfix");q._header_div=$("<div>").addClass("table-header-block");q._search_icon=$("<span>").addClass("search-icon");q._search_input=$("<input>").attr({type:"text",placeholder:rdx.i18n.get_string("rdx.search")});q._search_cross=$("<span>").addClass("search-close");q._parent.append(q._preview_div);q.table_div=$("<div>").addClass("table-block-left");q._header_div.text(q._properties.table_header);q._header_div.append(q._search_icon);q._search_icon.show();q._search_icon.bind(rdx.events.CLICK,{preview:q},q._search);var u=$("<div>").addClass("item-list");var v=$("<div>").addClass("preview_block");var w=$("<div>").addClass("preview-header");var s=$("<span>").addClass("preview-close");q.select_div=$("<div>").addClass("select-block");var x=$("<div>").addClass("select-block-left");var n=$("<div>").addClass("select-block-right");q.select_div.append(x).append(n);var o={add_blue_button:true,add_grey_button:true,grey_button_label:"Edit",blue_button_label:"Select",blue_button_tooltip:null,grey_button_tooltip:null,grey_button_click_handler_callback:new rdx.callback(q.edit_preview_view,[q]),blue_button_click_handler_callback:new rdx.callback(q.select_and_close_preview,[q])};q._button_bar=new rdx.button_bar(n,new rdx.form_field({properties:o})).render();q.form_div=$("<div>").addClass("field-block");v.append(w).append(q.select_div).append(q.form_div);q.create_inner_divs(t,q,u,x,w,s,q.form_div,null,p);q._preview_div.append(q.table_div).append(v);q._preview_div.show()};rdx.preview.prototype.create_inner_divs=function(C,M,L,J,F,D,O,N,y){L.empty();M._show_hide_preview_area(true);rdx.mask.unmask_component($(M._preview_div),"__preview");M._button_bar.disable();D.bind(rdx.events.CLICK,{preview:M},function(a){a.data.preview.close_preview()});F.append(D);var z=C.systemfile;if(rdx.utils.is_defined(N)||M._directory_level>0){var A=$("<div>").addClass("child_div");var K=$("<span>").addClass("directory");var H=$("<span>").text("...");A.append(H).append(K);L.append(A);A.bind(rdx.events.CLICK,{preview:M,title_div:J,child_div:B,form_div:O,preview_header_div:F,cross_span:D,items_div:L},function(a){a.data.form_div.empty();a.data.title_div.text("");rdx.mask.mask_component($(a.data.preview._preview_div),"__preview");var b=a.data.preview.get_file_path();b=b.substr(0,b.lastIndexOf("/"));a.data.preview.set_file_path(b);a.data.preview._directory_level--;rdx.model.get(rdx.utils.get_resource("systemfile"),{args:[{name:"filelocation",value:b}],is_query_param:true,use_args:true},new rdx.callback(a.data.preview.create_inner_divs,[a.data.preview,a.data.items_div,a.data.title_div,a.data.preview_header_div,a.data.cross_span,a.data.form_div]))})}var P=false;if(rdx.utils.is_defined(z)){for(var E=0;E<z.length;E++){var B=$("<div>").addClass("child_div");var H=$("<span>").text(z[E]["filename"]);B.append(H);if(rdx.utils.is_defined(z[E]["filemode"])){var K=$("<span>").addClass("directory");B.prepend(K)}else{var Q=$("<span>").attr("title","Delete");var I=$("<img>").addClass("delete_file").attr("src",rdx.images.DELETE_FILE_IMG);Q.append(I);I.bind(rdx.events.CLICK,{preview:M,filename:z[E]["filename"],filelocation:M.get_file_path(),child_div:B},function(a){rdx.message_box.confirm("Do you want to remove the selected entity?",new rdx.callback(function(e,d,b,c){rdx.model.remove(rdx.utils.get_resource("systemfile"),new rdx.callback(function(f,g,l,h){new rdx.notification_bar().show('Schema file "'+h+'" is successfully Deleted.',rdx.SUCCESS);if(g.get_current_selected_item().text()===l.text()){g._show_hide_preview_area(false)}$(l).remove()},[e,d,b]),{filename:b},null,"remove",{refresh_action:rdx.view_constants.REMOVE_SELECTED},null,{filelocation:c})},[a.data.preview,a.data.child_div,a.data.filename,a.data.filelocation]),new rdx.callback());a.stopPropagation()});var G=$("<span>").attr("title","Download");var R=$("<img>").addClass("download_file").attr("src",rdx.images.FILE_DOWNLOAD_IMG);G.append(R);R.bind(rdx.events.CLICK,{preview:M,filename:z[E]["filename"],filelocation:M.get_file_path()},function(a){var b="/rapi/filedownload?filter=path:"+rdx.url_utils.encode_uri_component(a.data.filelocation+"/"+a.data.filename)+"&rand_key="+rand;rdx.form_utils.iframe_loader({file_url:b});a.stopPropagation()});B.append(G).append(Q)}L.append(B);B.bind(rdx.events.CLICK,{preview:M,title_div:J,preview_header_div:F,filename:z[E]["filename"],filemode:z[E]["filemode"],child_div:B,form_div:O,cross_span:D,items_div:L},function(b){b.data.form_div.empty();rdx.mask.mask_component($(b.data.preview._preview_div),"__preview");b.data.title_div.text(b.data.filename);b.data.preview.set_file_name(b.data.filename);var a=b.data.preview.get_current_selected_item();if(rdx.utils.is_defined(a)){a.removeClass("selected")}b.data.preview.set_current_selected_item(b.data.child_div);b.data.child_div.addClass("selected");var c=b.data.preview.get_file_path();if(rdx.utils.is_defined(b.data.filemode)&&b.data.filemode[0]=="DIRECTORY"){b.data.title_div.text("");b.data.preview._directory_level++;c=c+"/"+b.data.filename;b.data.preview.set_file_path(c);rdx.model.get(rdx.utils.get_resource("systemfile"),{args:[{name:"filelocation",value:c}],is_query_param:true,use_args:true},new rdx.callback(b.data.preview.create_inner_divs,[b.data.preview,b.data.items_div,b.data.title_div,b.data.preview_header_div,b.data.cross_span,b.data.form_div,b.data.filemode[0]]))}else{rdx.model.get(rdx.utils.get_resource("systemfile"),{args:[{name:"filename",value:b.data.filename},{name:"filelocation",value:c}],is_query_param:true,use_args:true},new rdx.callback(b.data.preview._invoke_preview_render_callback,[b.data.preview,b.data.form_div]))}});if(rdx.utils.is_defined(y)&&(B.find("span").text()==y)){B.addClass("selected");M.set_current_selected_item(B);B.trigger(rdx.events.CLICK);P=true}else{if(!P&&rdx.utils.is_not_defined(z[E]["filemode"])&&rdx.utils.is_not_defined(y)){B.addClass("selected");M.set_current_selected_item(B);B.trigger(rdx.events.CLICK);P=true}}}}M.table_div.append(M._header_div).append(L)};rdx.preview.prototype._search=function(b){b.data.preview._search_icon.hide();b.data.preview._header_div.text("");b.data.preview._header_div.append(b.data.preview._search_input);b.data.preview._header_div.append(b.data.preview._search_cross);b.data.preview._toggle_hide_show_search_box(true);b.data.preview._search_cross.bind(rdx.events.CLICK,{preview:b.data.preview},function(a){a.data.preview._toggle_hide_show_search_box(false);a.data.preview._clear_search_input();a.data.preview._header_div.text(a.data.preview._properties.table_header);a.data.preview._header_div.append(a.data.preview._search_icon);a.data.preview._search_icon.show();a.data.preview._search_icon.bind(rdx.events.CLICK,{preview:a.data.preview},a.data.preview._search)});b.data.preview._search_input.bind(rdx.events.KEYUP,{preview:b.data.preview,search_input:b.data.preview._search_input},function(d){$(".child_div").hide();var a=d.data.search_input.val();$(".child_div").each(function(){if($(this).text().toUpperCase().indexOf(a.toUpperCase())!=-1){$(this).show()}})})};rdx.preview.prototype._clear_search_input=function(){this._search_input.val("");this._search_input.trigger(rdx.events.KEYUP)};rdx.preview.prototype.select_and_close_preview=function(d,c){c.set_data(c.get_file_path()+"/"+c.get_current_selected_item().text());c.close_preview()};rdx.preview.prototype.close_preview=function(){this._clear_search_input();this.toggle_show_hide(true);this._preview_div.hide()};rdx.preview.prototype._toggle_hide_show_search_box=function(b){if(b){this._search_input.show();this._search_cross.show()}else{this._search_input.hide();this._search_cross.hide()}};rdx.preview.prototype._invoke_preview_render_callback=function(f,d,e){rdx.mask.unmask_component($(d._preview_div),"__preview");d._show_hide_preview_area(true);if(rdx.utils.is_defined(d.get_preview_render_callback())){d._preview_data=d.get_preview_render_callback().call_back([f,e,d._button_bar])}};rdx.preview.prototype.edit_preview_view=function(d,c){if(rdx.utils.is_defined(c.get_edit_preview_callback())){c.get_edit_preview_callback().call_back([c._preview_data,c.get_file_name(),{resume:function(a,b){c._refresh_preview(a,b)}}])}};rdx.preview.prototype._icons_event_handlers=function(){this._pen_span.unbind(rdx.events.CLICK);this._delete_span.unbind(rdx.events.CLICK);this._upload_span.unbind(rdx.events.CLICK);this._pen_span.bind(rdx.events.CLICK,{preview:this},function(c){c.data.preview.toggle_show_hide(false);var d=c.data.preview.get_file_path();rdx.model.get(rdx.utils.get_resource("systemfile"),{args:[{name:"filelocation",value:d}],is_query_param:true,use_args:true},new rdx.callback(c.data.preview._render_table,[c.data.preview]));c.preventDefault();c.stopPropagation()});this._delete_span.bind(rdx.events.CLICK,{preview:this},function(b){b.data.preview.set_data(b.data.preview.get_default_value());b.preventDefault();b.stopPropagation()});if(rdx.utils.is_defined(this._properties.upload_file_callback)){this._upload_span.show();this._upload_span.bind(rdx.events.CLICK,{preview:this},function(b){b.data.preview._properties.upload_file_callback.call_back([b])})}else{this._upload_span.hide()}};rdx.preview.prototype._refresh_preview=function(c,d){this._preview_div.remove();this._directory_level=0;this.set_file_path(d);rdx.model.get(rdx.utils.get_resource("systemfile"),{args:[{name:"filelocation",value:d}],is_query_param:true,use_args:true},new rdx.callback(this._render_table,[this,c]))};rdx.preview.prototype._show_hide_preview_area=function(b){if(b){this.select_div.show();this.form_div.show()}else{this.select_div.hide();this.form_div.hide()}};rdx.preview.prototype.set_current_selected_item=function(b){this._current_selected_item=b};rdx.preview.prototype.get_current_selected_item=function(){return this._current_selected_item};rdx.preview.prototype.set_data=function(b){this._component.html($.trim(b));this._component.append(this._upload_span).append(this._delete_span).append(this._pen_span);this._icons_event_handlers()};rdx.preview.prototype.get_data=function(){var b=this._component.text();return $.trim(b)};rdx.preview.prototype.get_default_value=function(){return this._properties.value};rdx.preview.prototype.get_component_type=function(){return rdx.form_constants.PREVIEW};rdx.preview.prototype.get_field=function(){return this._field};rdx.preview.prototype.get_component=function(){return this._component};rdx.preview.prototype.get_file_path=function(){return this._properties.file_path};rdx.preview.prototype.set_file_path=function(b){this._properties.file_path=b};rdx.preview.prototype.get_preview_render_callback=function(){return this._properties.preview_render_callback};rdx.preview.prototype.get_edit_preview_callback=function(){return this._properties.edit_preview_callback};rdx.preview.prototype.get_file_name=function(){return this._file_name};rdx.preview.prototype.set_file_name=function(b){this._file_name=b};rdx.preview.prototype.toggle_show_hide=function(b){if(b){this._component.attr("style","display: inline-block !important")}else{this._component.attr("style","display: none !important")}};rdx.timeline_slider=function(f,d,e){this._parent=f;this._view_definition=d;this._base_view=e;this._timeline_bar_rendered=false};rdx.timeline_slider.prototype.render=function(){this._time_picker_container=$("<div>");this._time_picker_container.addClass("topn_main_view_time_slider_container").addClass("clearfix");this._parent.append(this._time_picker_container);var o=this._view_definition.calendar_properties.time_slider_properties;this._view_definition.calendar_properties.time_picker_dropdown_properties.drop_down_options=this._view_definition.calendar_properties.time_picker_dropdown_properties.time_picker_options_get_callback.call_back();var h=this._view_definition.calendar_properties.time_picker_dropdown_properties;var m=this;h.change_handler_callback=new rdx.callback(function(d,a){if(rdx.utils.is_defined(m._time_selection_bar)){if(rdx.utils.is_not_defined(a)||a){var c=rdx.ext.analytics.view_utils.to_analytics_duration_object(d);rdx.SELECTED_DURATION_OBJECT=$.extend({},rdx.SELECTED_DURATION_OBJECT,c,{time_range:false});if(rdx.utils.is_defined(m._time_selection_bar.picker)){rdx.SELECTED_DURATION_OBJECT.duration_value=m._time_selection_bar.picker.get_data().duration_value}if(rdx.utils.is_defined(m._time_selection_bar.slider)){m._time_selection_bar.slider.reset_bounds(new Date(c.start_epoch),new Date(c.end_epoch));m._time_selection_bar.slider.reset_default_bounds(new Date(c.start_epoch),new Date(c.end_epoch))}}if(rdx.utils.is_defined(rdx.SELECTED_DURATION_OBJECT)&&rdx.utils.is_defined(m._time_selection_bar)&&rdx.utils.is_defined(m._time_selection_bar.slider)){var b=rdx.utils.format_data_dd_m_yyyy_hh_mm_ss(new Date(m._time_selection_bar.slider.get_data().start_epoch))+" - "+rdx.utils.format_data_dd_m_yyyy_hh_mm_ss(new Date(m._time_selection_bar.slider.get_data().end_epoch));m._time_selection_bar.time_display_div.empty();m._time_selection_bar.time_display_div.append(b);if(rdx.utils.is_defined(m._view_definition.view_properties.time_panel_update_handler_callback)){m._view_definition.view_properties.time_panel_update_handler_callback.call_back([m._time_selection_bar.slider.get_data().start_epoch,m._time_selection_bar.slider.get_data().end_epoch])}}m._base_view.refresh_view(null,true)}});var l={button_text:"rdx.go",click_handler_callback:new rdx.callback(function(d,a){if(rdx.utils.is_defined(m._time_selection_bar)){if(rdx.utils.is_not_defined(a)||a){var c=rdx.ext.analytics.view_utils.to_analytics_duration_object(d);rdx.SELECTED_DURATION_OBJECT=$.extend({},rdx.SELECTED_DURATION_OBJECT,c,{time_range:true});if(rdx.utils.is_defined(m._time_selection_bar.picker)){rdx.SELECTED_DURATION_OBJECT.duration_value=m._time_selection_bar.picker.get_data().duration_value}}if(rdx.utils.is_defined(rdx.SELECTED_DURATION_OBJECT)&&rdx.utils.is_defined(m._time_selection_bar.slider)){var b=rdx.utils.format_data_dd_m_yyyy_hh_mm_ss(new Date(m._time_selection_bar.slider.get_data().start_epoch))+" - "+rdx.utils.format_data_dd_m_yyyy_hh_mm_ss(new Date(m._time_selection_bar.slider.get_data().end_epoch));m._time_selection_bar.time_display_div.empty();m._time_selection_bar.time_display_div.append(b);if(rdx.utils.is_defined(m._view_definition.view_properties.time_panel_update_handler_callback)){m._view_definition.view_properties.time_panel_update_handler_callback.call_back([m._time_selection_bar.slider.get_data().start_epoch,m._time_selection_bar.slider.get_data().end_epoch])}}m._base_view.refresh_view()}})};this._time_selection_bar=rdx.view_utils.add_time_selection_bar(this._time_picker_container,o,h,l);if(rdx.utils.is_defined(this._view_definition.calendar_properties.time_panel_update_handler_callback)){this._view_definition.calendar_properties.time_panel_update_handler_callback.call_back([this._time_selection_bar.slider.get_data().start_epoch,this._time_selection_bar.slider.get_data().end_epoch])}if(rdx.utils.is_defined(this._time_selection_bar.slider)){var g=rdx.ext.analytics.view_utils.to_analytics_duration_object(this._time_selection_bar.picker.get_data());this._time_selection_bar.slider.reset_bounds(new Date(g.start_epoch),new Date(g.end_epoch));if(rdx.utils.is_not_defined(rdx.SELECTED_DURATION_OBJECT)){this._time_selection_bar.slider.reset_default_bounds(new Date(g.start_epoch),new Date(g.end_epoch))}}var n=rdx.utils.format_data_dd_m_yyyy_hh_mm_ss(new Date(this._time_selection_bar.slider.get_data().start_epoch))+" - "+rdx.utils.format_data_dd_m_yyyy_hh_mm_ss(new Date(this._time_selection_bar.slider.get_data().end_epoch));this._time_selection_bar.time_display_div.empty();this._time_selection_bar.time_display_div.append(n);this._timeline_bar_rendered=true;setTimeout(function(){$(window).trigger("resize")},1500)};rdx.timeline_slider.prototype.destroy_timeline_slider=function(){this._time_picker_container.empty();this._time_picker_container.remove();this._timeline_bar_rendered=false};rdx.timeline_slider.prototype.is_timeline_slider_rendered=function(){return this._timeline_bar_rendered};rdx.timeline_slider.prototype.get_duration=function(){var b=rdx.ext.analytics.view_utils.get_duration();if(rdx.utils.is_defined(rdx.SELECTED_DURATION_OBJECT)&&rdx.utils.is_defined(rdx.SELECTED_DURATION_OBJECT.duration_value)){if(rdx.SELECTED_DURATION_OBJECT.duration_value=="last_1_hour"){b="last_1_hour"}else{if(rdx.SELECTED_DURATION_OBJECT.duration_value=="last_day"){b="last_1_day"}else{if(rdx.SELECTED_DURATION_OBJECT.duration_value=="last_week"){b="last_1_week"}else{if(rdx.SELECTED_DURATION_OBJECT.duration_value=="last_month"){b="last_1_month"}else{if(rdx.SELECTED_DURATION_OBJECT.duration_value=="last_1_quarter"){b="last_3_months"}else{if(rdx.SELECTED_DURATION_OBJECT.duration_value=="last_half_year"){b="last_6_months"}else{if(rdx.SELECTED_DURATION_OBJECT.duration_value=="last_1_year"){b="last_1_year"}}}}}}}}return b};rdx.view_component_adapter=function(d,f){this._parent=d;this._field=f;var e=this._get_view(f.get_view());if(rdx.utils.is_defined(e.view_properties)&&rdx.utils.is_not_defined(e.view_properties._dont_show_title)){e.view_properties=$.extend(true,e.view_properties,{_dont_show_title:true})}this._element=new rdx.base_view(d,e);this._element.set_crumb_handler(f.get_crumb_handler());this._element.show_action_in_slider(this._field.get_form_holder().is_show_slider());if(rdx.utils.is_function(this._element.get_view().set_is_back_button_required)){this._element.get_view().set_is_back_button_required(false)}this._set_properties(e);this._adapter_data=new rdx.view_component_adapter_data(this._element,f.get_properties())};rdx.view_component_adapter.prototype._set_properties=function(b){this._element.disable_bread_crumb();if(b.type==rdx.view_constants.CONFIGURE_VIEW){b[rdx.mask.MASK_KEY]=null}rdx.form_utils.set_basic_field_attributes(this._parent,this._field)};rdx.view_component_adapter.prototype._get_view=function(h){var f=null;if(rdx.utils.is_string(h)){f=rdx.utils.get_view(h)}else{f=h}if(f.type!=rdx.view_constants.CONFIGURE_VIEW){return f}else{var g=$.extend({},f);var e=$.extend({},g.view_properties);e=$.extend({},e,{toggle_view:false,add_create_button:false,add_close_button:false,dialog_mode:false,add_border:false,add_title:false});g.view_properties=e;return g}};rdx.view_component_adapter.prototype.render=function(){var d=new Object();d.is_data_set=true;var e=this._element.get_view_context();var f=this._element.get_view_definition().resource_name;e.set_url_params(d,{});this._element.prepare_view(null,false);d.is_data_set=false;e.set_url_params(d,{});this._element.set_view_state(rdx.view_constants.view_state.CREATED);return this};rdx.view_component_adapter.prototype.add_event_handler=function(d,c){};rdx.view_component_adapter.prototype.validate=function(){if(rdx.utils.is_defined(this._element)&&rdx.utils.is_function(this._element.get_view)){if(rdx.utils.is_function(this._element.get_view().validate)){return this._element.get_view().validate()}}return null};rdx.view_component_adapter.prototype.set_data=function(l,g,m){var f=this._field.get_properties();var h=rdx.utils.is_not_defined(f)?false:rdx.utils.is_not_defined(f.view_data_fetch)?false:f.view_data_fetch;if(h==false){this._set_data_with_context(l,g,m)}else{this._element.prepare_view()}};rdx.view_component_adapter.prototype._set_data_with_context=function(v,w,q){var y=this._element.get_view_definition().view_properties;var B=null;var C=rdx.utils.is_defined(this._element.get_resource())?this._element.get_resource().name:null;var s=[w];if(rdx.utils.is_defined(C)){var x=rdx.utils.get_resource(this._element.get_view_definition().resource_name);if(rdx.utils.is_defined(x)){B=x.parent_resource_name}}if(rdx.utils.is_defined(y)&&y.standalone_mode&&rdx.utils.is_not_defined(t)){return}if(rdx.utils.is_defined(B)){var z=rdx.utils.is_defined(v)?v:w[C];s=z}else{B=q.name}var t=this.get_field().get_view_context();if(rdx.utils.is_not_defined(t)){t=new Object();t.is_data_set=true}else{t=$.extend(true,{},t);var u={};if(rdx.utils.is_defined(s)){if(rdx.utils.is_array(s)){u=s[0]}}if(rdx.utils.is_defined(u)&&rdx.utils.is_object_empty(u)&&(rdx.utils.is_defined(t[rdx.url_utils.GET_BY_NAME_TYPE])||rdx.utils.is_defined(t[rdx.url_utils.GET_ARGS_TYPE]))){t.is_data_set=true;t[rdx.url_utils.GET_BY_NAME_TYPE]=null;t[rdx.url_utils.GET_ARGS_TYPE]=null}}var D=this._element.get_view_context();var A=this._is_data_set_only(t)==true?(rdx.utils.is_defined(v)?v:{}):s;D.set_url_params(t,A);if(this._field.get_properties().inherit_data==true){this._element.set_inherited_data_callback(this._field.get_form_data_fetch_callback());this._element.set_inherited_init_data(w)}this._element.prepare_view()};rdx.view_component_adapter.prototype._is_data_set_only=function(f){if(rdx.utils.is_not_defined(f)){return false}if(this._element.get_view_definition().type!=rdx.view_constants.DETAIL_VIEW){return false}var e=0;var g=false;for(var h in f){if(h=="is_data_set"&&e==0){g=true}e=e+1}return(g==true&&e==1)};rdx.view_component_adapter.prototype.get_data=function(){return this._adapter_data};rdx.view_component_adapter.prototype.get_component_type=function(){return rdx.form_constants.VIEW};rdx.view_component_adapter.prototype.get_field=function(){return this._field};rdx.view_component_adapter.prototype.destroy_view=function(b){this._element.destroy_view({},b)};rdx.view_component_adapter.prototype.get_component=function(){return this._element};rdx.view_component_adapter.prototype.resize=function(){return this._element.resize_view()};rdx.view_component_adapter.prototype.refresh=function(){var d=this._field.get_properties();var c=rdx.utils.is_not_defined(d)?false:rdx.utils.is_not_defined(d.do_refresh)?false:d.do_refresh;if(c==true){this._element.prepare_view()}};rdx.view_component_adapter.prototype.toggle_show_hide=function(b){this._parent.find(".rdx_error_container:visible").addClass("hide");this._parent.find(".error_text:visible").removeClass("error_text");if(b){this._parent.show()}else{this._parent.hide()}};rdx.view_component_adapter_data=function(c,d){this._view=c;this._properties=$.extend({},this._DEFAULT_PROPERTIES,d);this._is_card=rdx.utils.is_defined(this._properties.__IS_CARD)?true:false;this._is_view_capable_of_data_submit=rdx.utils.is_not_defined(this._properties.view_data_fetch)?false:this._properties.view_data_fetch;this._submit_data=rdx.utils.is_not_defined(this._properties.submit_data)?false:this._properties.submit_data;this._force_merge_to_same_resource=false;this._override_binding=rdx.utils.is_not_defined(this._properties.override_binding)?false:this._properties.override_binding};rdx.view_component_adapter_data.prototype.get_resource=function(){return this._view.get_resource()};rdx.view_component_adapter_data.prototype.get_view=function(){return this._view};rdx.view_component_adapter_data.prototype.process_inner_view_data=function(L,J,U){if(this._is_view_capable_of_data_submit==true&&this._submit_data==false){return}var D=this._is_binding_resource(this.get_resource());var G;if(D==true||this._override_binding==true){G=rdx.view_constants.data_selection_param.ALL}else{G=null}var A=this.get_view().get_view_context().get_data(G);if(this._properties.model_method==rdx.model_constants.NOOP){var P=L.get_resource_for_operation();var E={};if(rdx.utils.is_defined(U)){E[U]=A}P=$.extend({},P,E);L.set_resource_for_operation(P);return}var V=this.get_view().get_view_context().get_initial_data();var M=rdx.view_utils.get_model_method(this.get_view().get_view_definition(),false);M=(rdx.utils.is_defined(M))?M:L.get_model_method();if(M==rdx.model_constants.ADD&&rdx.utils.is_not_defined(V)){V=[]}var H=L.get_resource_for_operation();var C=L.get_resource_defn().name;var S=L.get_resource_defn();var F=L.get_action();var Q=L.get_callback_on_success();var N=L.get_callback_on_failure();var K=this.get_resource().name;if(C==K&&this._is_card===false){if(rdx.utils.is_array(A)&&rdx.utils.is_defined(H[K])){var B={};B[K]=A;A=B}var D=this._is_binding_resource(this.get_resource());if(D===true&&rdx.utils.is_defined(A)&&rdx.utils.is_array(A)){var T=this._get_add_remove_lists(V,A,S,H);var R=T.add_list;var O=T.remove_list;var I=this._is_binding_resource(this.get_resource())==true?K:C;this._add_to_params_list(O,I,Q,N,"remove",null,J);this._add_to_params_list(R,I,Q,N,M,F,J)}else{H=$.extend({},H,A)}L.set_resource_for_operation(H)}else{if(!(rdx.utils.is_array(A))){data_array=[];data_array.push(A);A=data_array}if(this._force_merge_to_same_resource==true){this._add_to_params_list(A,K,Q,N,M,F,J);return}var T=this._get_add_remove_lists(V,A,S,H);var R=T.add_list;var O=T.remove_list;var I=this._is_binding_resource(this.get_resource())==true?K:C;this._add_to_params_list(O,I,Q,N,"remove",null,J);this._add_to_params_list(R,I,Q,N,M,F,J)}};rdx.view_component_adapter_data.prototype._add_to_params_list=function(x,B,t,w,z,y,A){var q=rdx.utils.get_resource(B);var p=rdx.view_constants.REFRESH_NONE;if(z===rdx.model_constants.NOOP){p=rdx.view_constants.REFRESH_RELEVANT_OR_ADD_NEW}for(var u=0;u<x.length;u++){var v={resource_defn:q,resource_for_operation:rdx.utils.clone_resrc_on_resrc_props(this.get_resource(),x[u]),callback_on_success:t,callback_on_failure:w,model_method:z,action:y,resource_context:{view_definition:this.get_view().get_view_definition(),trigger_get:false,refresh_action:p}};var s=new rdx.configure_view_operation_params(v);A.push(s)}};rdx.view_component_adapter_data.prototype.set_force_merge_to_same_resource=function(){this._force_merge_to_same_resource=true};rdx.view_component_adapter_data.prototype._get_add_remove_lists=function(y,x,w,D){var A=this._is_binding_resource(this.get_resource());var B=this._get_data_map(y,w,D,A);var E=this._get_data_map(x,w,D,A);var F=[];var t=[];var C=w;if(A==true){for(var u in B){if(rdx.utils.is_not_defined(E[u])){F.push(B[u])}else{var s=rdx.utils.object_keys(E[u]);var v=B[u];var z=E[u];if(!rdx.utils.is_same_object(v,z,s)){F.push(v);t.push(z)}delete E[u]}}}for(var u in E){t.push(E[u])}return{add_list:t,remove_list:F}};rdx.view_component_adapter_data.prototype._get_data_map=function(u,y,w,t){var z={};var o=y.primary_keys;for(var x=0;x<u.length;x++){var v=u[x];if(t==true){for(var q=0;q<o.length;q++){var s=o[q];if(rdx.utils.is_defined(w[s])){v[s]=w[s]}}}var p=this._get_primary_keys_data(u[x]);if(rdx.utils.is_defined(p)){z[p]=v}}return z};rdx.view_component_adapter_data.prototype._get_primary_keys_data=function(h){var g=this.get_resource().primary_keys;var f=this.get_resource().bind_unbind_keys;if(rdx.utils.is_not_defined(g)){return null}if(rdx.utils.is_not_empty(f)){g=f}var l="";for(var m=0;m<g.length;m++){l=l+h[g[m]];if(m!=g.length-1){l+="~"}}return l};rdx.view_component_adapter_data.prototype._is_binding_resource=function(b){return rdx.utils.is_not_defined(b.binding_resource)?false:b.binding_resource};rdx.card_component=function(d,c){this._DEFAULT_PROPERTIES={component:rdx.form_constants.LIST,value:null,component_height:35,component_border:false,form_fields:[]};this._parent=d;this._field=c;this._properties=$.extend({},this._DEFAULT_PROPERTIES,c.get_properties());this._card_map=new Object();this._component=null;this._field_set=null;this._current_card=null};rdx.card_component.prototype._add_card=function(){var t=$("<div>");t.addClass("card");this._field_set=$("<fieldset>");this._field_set.addClass("smooth_all_corner");t.append(this._field_set);var n=$("<legend>");if(this._properties.component_border){n.addClass("card_component");n.addClass("smooth_all_corner")}this._field_set.append(n);this._component=rdx.component_helper.get_component(this._properties.component,n,this.get_field());this._component.render();this._add_event();var m=null;for(var p=0;p<this._properties.form_fields.length;p++){var l=new rdx.form_field(this._properties.form_fields[p],this._field.get_form_holder());var s=$("<div>");s.addClass("card_container");s.hide();this._field_set.append(s);l.get_properties()["__IS_CARD"]=true;var o=rdx.component_helper.get_component(l.get_input_type(),s,l);o.render();var q={component:o,container:s};this._card_map[this._properties.form_fields[p].mapping_field]={component:o,container:s};if(p==0){m=q}}if(rdx.utils.is_defined(this._properties.value)&&rdx.utils.is_defined(this._card_map[this._properties.value])){m=this._card_map[this._properties.default_card]}m.container.show();this._current_card=m;return t};rdx.card_component.prototype._get_event_name=function(){if(this._properties.component==rdx.form_constants.LIST){return rdx.events.CHANGE}return rdx.events.CLICK};rdx.card_component.prototype._add_event=function(){this._component.add_event_handler(this._get_event_name(),new rdx.callback(this,this._handle_event))};rdx.card_component.prototype._handle_event=function(){var c=this._component.get_data();var d=this._card_map[c];if(rdx.utils.is_not_defined(d)){return}if(rdx.utils.is_defined(this._current_card)){this._current_card.container.hide();this._current_card.container.find(".rdx_error_container").addClass("hide");this._current_card.container.find(".error_text").removeClass("error_text")}d.container.show();if(rdx.utils.is_function(d.component.resize)){d.component.resize()}this._current_card=d};rdx.card_component.prototype.render=function(){this._container=this._add_card();this._set_properties();this._parent.append(this._container);return this};rdx.card_component.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._parent,this._field);rdx.form_utils.set_basic_field_attributes(this._container,this._field);for(key in this._card_map){if(this._field.get_width()!=-1){this._card_map[key].container.width(this._field.get_width())}}};rdx.card_component.prototype.add_event_handler=function(d,c){this._component.add_event_handler(d,c)};rdx.card_component.prototype.get_current_card_component=function(){return this._current_card.component};rdx.card_component.prototype.set_data=function(g,f,h){if(rdx.utils.is_not_defined(f)){return}if(rdx.utils.is_defined(g)){this._component.set_data(g)}for(var e in this._card_map){this._card_map[e].component.set_data(null,f,h);if(e==g){this._current_card.container.hide();this._card_map[e].container.show();this._current_card=this._card_map[e]}}};rdx.card_component.prototype.get_data=function(){return this._component.get_data()};rdx.card_component.prototype.get_component_type=function(){return rdx.form_constants.CARD};rdx.card_component.prototype.get_field=function(){return this._field};rdx.card_component.prototype.get_component=function(){return this._current_card.component.get_component()};rdx.card_component.prototype.resize=function(){for(var b in this._card_map){if(rdx.utils.is_function(this._card_map[b].component.resize)){this._card_map[b].component.resize()}}};rdx.card_component.prototype.toggle_show_hide=function(b){if(b){this._field_set.show()}else{this._field_set.hide()}};rdx.component_helper=new function(){this.SPAN_CHECK_FOR_TWO_COLUMNS=true;this.get_component=function(l,m,h,g){var f=null;switch(l){case rdx.form_constants.LABEL:f=new rdx.label(m,h,g.is_read_only());break;case rdx.form_constants.TEXT_BOX:case rdx.form_constants.PROXY:f=new rdx.text_box(m,h);this._register_key_press_event_for_form_submit(f,g);break;case rdx.form_constants.TEXT_AREA:f=new rdx.text_area(m,h);break;case rdx.form_constants.PASSWORD:f=new rdx.password(m,h);this._register_key_press_event_for_form_submit(f,g);break;case rdx.form_constants.LINK:f=new rdx.link_component(m,h);break;case rdx.form_constants.HYPER_LINK:f=new rdx.hyper_link(m,h,g);break;case rdx.form_constants.PREVIEW:f=new rdx.preview(m,h);break;case rdx.form_constants.CHECK_BOX:if($(m).is("td")){m.addClass("rdx_checkbox_component")}f=new rdx.check_box(m,h);break;case rdx.form_constants.LIST:f=new rdx.list(m,h);break;case rdx.form_constants.EDITTABLE_LIST:f=new rdx.edittable_list(m,h);break;case rdx.form_constants.BIND_UNBIND_LIST:f=new rdx.bind_unbind_list(m,h);break;case rdx.form_constants.RADIO_GROUP:f=new rdx.radio_group(m,h);break;case rdx.form_constants.VIEW:f=new rdx.view_component_adapter(m,h);break;case rdx.form_constants.IP_RANGE:f=new rdx.ip_range(m,h);break;case rdx.form_constants.TABLE:f=new rdx.table_component(m,h);break;case rdx.form_constants.CARD:f=new rdx.card_component(m,h);break;case rdx.form_constants.IPV4:case rdx.form_constants.IPV6:case rdx.form_constants.IPV4V6:f=new rdx.ipv4v6(m,h);break;case rdx.form_constants.EDITABLE_COMBOBOX:f=new rdx.editable_combobox(m,h);break;case rdx.form_constants.FILE_UPLOAD:f=new rdx.file_upload_component(m,h);break;case rdx.form_constants.FILE_BROWSER:f=new rdx.file_browser_component(m,h);break;case rdx.form_constants.NEXT_ROW:f=new rdx.label(m,h);break;case rdx.form_constants.COMMAND_SHELL_EXECUTER:f=new rdx.command_shell_executer(m,h);break;case rdx.form_constants.EXPRESSION_EDITOR:f=new rdx.expression_editor(m,h);break;case rdx.form_constants.CLASSIC_EXPRESSION_EDITOR:f=new rdx.classic_expression_editor(m,h);break;case rdx.form_constants.MULTIPLE_FIELD:f=new rdx.multiple_field(m,h);break;case rdx.form_constants.TREE:f=new rdx.tree_component(m,h);break;case rdx.form_constants.CALENDAR:f=new rdx.calendar_component(m,h);break;case rdx.form_constants.TIME:f=new rdx.time_component(m,h);break;case rdx.form_constants.TIME_SLIDER:f=new rdx.time_slider(m,h);break;case rdx.form_constants.ENTITY_CHOOSER:f=new rdx.entity_chooser(m,h);break;case rdx.form_constants.REGULAR_EXPRESSION_FIELD:f=new rdx.regex_field(m,h);break;case rdx.form_constants.COMMAND_SPEC_EDITOR:f=new rdx.command_spec_editor(m,h);break;case rdx.form_constants.COLOR_PICKER:f=new rdx.color_picker_component(m,h);break;case rdx.form_constants.SPINNER:f=new rdx.spinner_component(m,h);break;case rdx.form_constants.DRAG_DROP_EDITOR:f=new rdx.drag_drop_editor(m,h);break;case rdx.form_constants.TIME_OR_DAY_CHOOSER:f=new rdx.time_day_chooser(m,h);break;case rdx.form_constants.TOGGLE_COMPONENT:f=new rdx.toggle_component(m,h);break}if(rdx.utils.is_not_defined(f)){throw rdx.i18n.get_string("form_field_invalid_error",{form_type:h.get_key()})}return f};this.get_table_column_editor=function(f,g){switch(f){case rdx.form_constants.TEXT_BOX:return rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX);case rdx.form_constants.LIST:var h=rdx.dom_utils.get_element(rdx.form_constants.LIST);if(rdx.utils.is_defined(g)){for(var e=0;e<g.length;e++){h.append($(document.createElement("option")).text(g[e]).attr("title",g[e]))}}return h;case rdx.form_constants.CHECK_BOX:return rdx.dom_utils.get_element(rdx.form_constants.CHECK_BOX);case rdx.form_constants.RADIO_BUTTON:return rdx.dom_utils.get_element(rdx.form_constants.RADIO_BUTTON);default:return rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX)}};this._register_key_press_event_for_form_submit=function(c,d){c.add_event_handler(rdx.events.KEYDOWN,new rdx.callback(function(b,f){var a=b.keyCode;if(rdx.keycodes.ENTER==a&&rdx.utils.is_defined(f)){if(!(f.get_properties().ignore_key_press_events)){b.stopPropagation();rdx.utils.prevent_default(b);if(rdx.utils.is_defined(f.get_keyboard_handler_callback())){f.get_keyboard_handler_callback().call_back();return}f.get_form().handle_submit()}}},[d]))}};rdx.editable_combobox=function(m,f){this._parent=typeof(m)=="string"?$("#"+m):m;this._DEFAULT_PROPERTIES={default_option_value:null,class_names:"editable_combobox",mandatory:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,f.get_properties());this._field=f;var h=$("<td>");var l=$("<td>");this._textfield_row=$("<tr>").append(h);this._combobox_row=$("<tr>").append(l);this._element=$("<table>").attr("border","0").addClass(this._properties.class_names);this._element.append(this._combobox_row).append(this._textfield_row);this._textfield_row.hide();this._textfield=rdx.component_helper.get_component(rdx.form_constants.TEXT_BOX,h,f);var g=$.extend({},f);g.get_properties().size=1;this._combobox=rdx.component_helper.get_component(rdx.form_constants.LIST,l,g);this._default_option_value=(rdx.utils.is_not_defined(this._properties.default_option_value))?rdx.i18n.get_string("rdx.editablecombobox_default"):rdx.i18n.get_string(this._properties.default_option_value)};rdx.editable_combobox.prototype.render=function(){this._textfield.render();this._combobox.render();this._combobox.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(f,h){var e=h._combobox.get_data();var g=h._combobox.get_items_count();if(e==h._default_option_value){if(g>1){h._combobox_row.show()}else{h._combobox_row.hide()}h._textfield_row.show()}else{h._combobox_row.show();h._textfield_row.hide()}},[this]));this._parent.append(this._element);this.add_data_items();return this};rdx.editable_combobox.prototype.add_data_items=function(l,m){if(rdx.utils.is_not_defined(l)){l=new Array();var n=this._field.get_formatter();if(rdx.utils.is_defined(n)){var h=n.get_map_keys();for(var o=0,g=h.length;o<g;o++){l.push(h[o])}}}if(l.length>0){this._combobox_row.show();this._textfield_row.hide()}else{this._combobox_row.hide();this._textfield_row.show()}l.splice(0,0,this._default_option_value);if(rdx.utils.is_defined(m)&&m==true){this._combobox.add_data_items(l,false)}this._combobox.add_data_items(l,m)};rdx.editable_combobox.prototype.add_event_handler=function(d,c){this._combobox.add_event_handler(d,c);this._textfield.add_event_handler(d,c)};rdx.editable_combobox.prototype.set_data=function(c){this._combobox.set_data(c);var d=this._combobox.get_data();if(d==this._default_option_value||rdx.utils.is_empty(d)){this._textfield.set_data(c);this._combobox.set_data(this._default_option_value)}};rdx.editable_combobox.prototype.get_data=function(){var b=this._textfield.get_data();if(rdx.utils.is_defined(this._field.get_formatter())){this._field.get_formatter().update_input_map_data_items(this._default_option_value,b)}if(this._combobox.get_data()!==this._default_option_value){return this._combobox.get_data()}return b};rdx.editable_combobox.prototype.get_component_type=function(){return rdx.form_constants.EDITABLE_COMBOBOX};rdx.editable_combobox.prototype.get_field=function(){return this._field};rdx.editable_combobox.prototype.get_component=function(){return this._element};rdx.editable_combobox.prototype.mask=function(){rdx.mask.mask_component(this._parent,this.get_field().get_key())};rdx.editable_combobox.prototype.unmask=function(){return rdx.mask.unmask_component(this._parent,this.get_field().get_key())};rdx.editable_combobox.prototype.toggle_read_only=function(b){this._combobox.toggle_read_only(b);this._textfield.toggle_read_only(b)};rdx.file_upload_component=function(e,d){this._parent=typeof(e)=="string"?$("#"+e):e;this._field=d;var f={url:"",method:rdx.ajax_handler_constants.POST,encoding_type:"multipart/form-data",file_component_name:"",resource_name:null,close_upload_window_on_success:true,dialog_mode:false,upload_success_callback:null,upload_error_callback:null,check_for_duplicate:true,custom_validator:null,is_image_validator:false,class_names:"",add_submit_button:false,validate_on_submit:false,mask_on_success:false,file_path:null,remote_dir_path:null,remote_resource:null,filter_filetype:null,read_resource:null,upload_url:null,mkdir_resource:"",download_resource:"",delete_resource:null,pagination:false,search:false,show_dirs:true,local:true,remote:false,default_type:"local",resource_response_callback:null,add_view_name:null,resource_operations:{upload:false,download:false,view:false,remove:false,create_dir:false,zip:false},direct_upload:false};this._properties=$.extend({},f,d.get_properties());this._component=new rdx.file_upload(this._properties);this._element=this._component;this._view_link_map={};this._set_properties();this._link_properties=null};rdx.file_upload_component.prototype.render=function(){this._component.render();if(rdx.utils.is_defined(this._field.get_add_view_name())){this._link_properties={add_model_change_listener:false,success_callback:new rdx.callback(this,function(d,a){this._component.set_data(a.filename)}),add_model_method:rdx.model_constants.POST};var b=rdx.form_utils.add_form_field_link(this,this._component.get_component(),this._field,this._view_link_map,this._link_properties);this._parent.append(b)}else{this._parent.append(this._component.get_component())}return this};rdx.file_upload_component.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._parent,this._field);rdx.form_utils.set_basic_field_attributes(this._element,this._field);if(this._field.is_read_only()){this._element.attr("readonly","true");this._element.addClass("form_field_disabled")}};rdx.file_upload_component.prototype.add_event_handler=function(d,f){var e=this._component.get_text_element();e.bind(d,{ns_callback:f},function(a){a.data.ns_callback.call_back([a])})};rdx.file_upload_component.prototype.set_data=function(b){this._component.set_data(b)};rdx.file_upload_component.prototype.validate=function(){var h=this._component.get_file_name();if(rdx.utils.is_empty(h)&&this._field.is_mandatory()){return rdx.i18n.get_string("rdx.file_upload_mandatory_error",{field_label:this._field.get_label()})}var f=this._properties.filter_filetype;if(rdx.utils.is_defined(f)){var l=false;if(rdx.utils.is_array(f)){for(var g=0;g<f.length;g++){if((new RegExp(f[g]+"$")).test(h)){l=true;break}}}else{if((new RegExp(f+"$")).test(h)){l=true}}if(!l){return rdx.i18n.get_string("rdx.file_upoload_invalid_filetype",{file_name:h})}}var m=null;if(rdx.utils.is_defined(this._component.get_custom_validator())){if(this._component._is_image_validator()){m=this._component.get_custom_validator().call_back([this._component.get_data(),this._component.get_img_element()])}else{m=this._component.get_custom_validator().call_back([this._component.get_data()])}}return m};rdx.file_upload_component.prototype.submit=function(c,d){this._component.submit(c,d)};rdx.file_upload_component.prototype.get_data=function(){return this._component.get_data()};rdx.file_upload_component.prototype.is_local_selected=function(){return this._component.is_local_selected()};rdx.file_upload_component.prototype.get_component_type=function(){return rdx.form_constants.FILE_UPLOAD};rdx.file_upload_component.prototype.get_field=function(){return this._field};rdx.file_upload_component.prototype.get_component=function(){return this._element.get_component()};rdx.file_upload_component.prototype.get_element=function(){return this._element};rdx.file_upload_component.prototype.toggle_read_only=function(b){};rdx.file_upload_component.prototype.toggle_show_hide=function(d,c){if(rdx.utils.is_not_defined(c)){c=this._component}if(d){c.show()}else{c.hide()}};rdx.file_upload_component.prototype.set_tooltip=function(){this._component.set_tooltip(this._field.get_tooltip())};rdx.file_upload_component.prototype.get_link_properties=function(){return this._link_properties};rdx.file_upload_component.prototype.focus=function(){this._component.get_text_element().focus()};rdx.file_upload_component.prototype.is_direct_upload=function(){return this._properties.direct_upload};rdx.file_browser_component=function(d,c){this._parent=typeof(d)=="string"?$("#"+d):d;this._field=c;this._element=null;this._component=new rdx.file_browser(d,c.get_properties(),null)};rdx.file_browser_component.prototype.render=function(){this._component.render(true);this._element=this._component.get_container();this._parent.append(this._element);this._set_properties();return this};rdx.file_browser_component.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._parent,this._field);rdx.form_utils.set_basic_field_attributes(this._element,this._field)};rdx.file_browser_component.prototype.set_data=function(b){};rdx.file_browser_component.prototype.get_data=function(){};rdx.file_browser_component.prototype.get_component_type=function(){return rdx.form_constants.FILE_BROWSER};rdx.file_browser_component.prototype.get_field=function(){return this._field};rdx.file_browser_component.prototype.get_component=function(){return this._component};rdx.command_shell_executer=function(e,d){var f={prompt:">",class_names:"",prepend_command:"",show_command_box:true,download_content_url:null,download_content_file_name:null,target:"shell",word_wrap:false,use_websocket:false,command_list:[],finish_handler_callback:null};this._parent=typeof(e)=="string"?$("#"+e):e;this._properties=$.extend({},f,d.get_properties());this._command_shell=$("<div>").addClass("terminal");this._input_area=$("<div>").addClass("terminal-input-area");this._command_shell_component=$("<div>").addClass("terminal-component").addClass("terminal_remove_word_wrap");this._command_shell.addClass(this._properties.class_names);this._command=null;this._original_command=null;this._display_command=null;this._output=null;this._wrap_output=null;this._prompt=null;this._element=null;this._button=null;this._ws_check_matches=false;this._ws_matches=[];this._app_data=null;this._process_killed=false};rdx.command_shell_executer.prototype.render=function(){var e={key:"command-box",width:"250px",mandatory:true,properties:{auto_complete:true}};var g=new rdx.form_field(e);this._output=$("<div>").addClass("terminal-output");this._command=$("<div>").addClass("terminal-command");if(!this._properties.use_websocket){this._prompt=$("<div>").addClass("terminal-prompt");this._prompt.text(this.get_prompt());this._command.append(this._prompt)}this._command_shell.append(this._output,this._command);if(this._properties.word_wrap){this._wrap_container=$("<div>").addClass("terminal_checkbox_margin");this._wrap_output=rdx.dom_utils.get_element(rdx.form_constants.CHECK_BOX);this._wrap=$("<span>");this._wrap.text(rdx.i18n.get_string("rdx.word_wrap"));this._wrap_container.append(this._wrap_output);this._wrap_container.append(this._wrap);this._command_shell_component.append(this._wrap_container);this._wrap_output.bind(rdx.events.CHANGE,{_this:this},function(a){if(a.target.checked){a.data._this._command_shell_component.addClass("terminal-word-wrap").removeClass("terminal_remove_word_wrap")}else{a.data._this._command_shell_component.removeClass("terminal-word-wrap").addClass("terminal_remove_word_wrap")}})}this._button=$("<button>").text(rdx.i18n.get_string("rdx.dashboard_finder_button"));this._input_area.append($("<label>").text(rdx.i18n.get_string("rdx.command_shell_executer_command")));this._element=new rdx.dropdown_menu(this._input_area,g);this._element.render();if(this._element.get_items_count()<1){$(this._element._dropdown_options._table).find("td.column_three").hide();this._element._dropdown_options._options.readOnly=true}this._input_area.append(this._button);if(rdx.utils.is_defined(this._properties.download_content_url)&&this._properties.download_content_url.length>0){var h={url:this._properties.download_content_url,filename:this._properties.download_content_file_name};var f=rdx.form_utils.add_save_as_link(this._command_shell,this._command_shell_component,h,true)}else{this._command_shell_component.append(this._command_shell)}if(this._properties.show_command_box){this._command_shell_component.append(this._input_area)}this._button.click({parent:this},function(b){var c=b.data.parent;var a=c.get_command();if(rdx.utils.is_empty(a)){rdx.message_box.error(rdx.i18n.get_string("rdx.cmd_empty_error"),null,"Error",null)}else{if(a=="clear"){c._output.html("")}else{c.process_command();c._element.add_item(a,true);c.update_options(a);if(c._element.get_items_count()==1){$(c._element._dropdown_options._table).find("td.column_three").show();c._element._dropdown_options._options.readOnly=false}}}c._element._dropdown_options._input.val("").focus()});this._element._dropdown_options._input.bind(rdx.events.KEYDOWN,{parent:this},function(b){var c=(b.keyCode?b.keyCode:b.which);if(c==rdx.keycodes.ENTER){var d=b.data.parent;var a=d.get_command();if(rdx.utils.is_empty(a)){rdx.message_box.error(rdx.i18n.get_string("rdx.cmd_empty_error"),null,"Error",null)}else{if(a=="clear"){d._output.html("")}else{d.process_command();d._element.add_item(a,true);d.update_options(a);if(d._element.get_items_count()==1){$(d._element._dropdown_options._table).find("td.column_three").show();d._element._dropdown_options._options.readOnly=false}}}d._element._dropdown_options._input.val("").focus()}});if(this._properties.use_websocket){rdx.websocket.set_caller_data(this);if(rdx.websocket.is_connected()){rdx.websocket.enable_reconnect();rdx.websocket.disconnect(true)}else{this.websocket_connect()}}this._parent.append(this._command_shell_component);return this};rdx.command_shell_executer.prototype.websocket_connect=function(){rdx.websocket.connect("wss://"+window.location.host+"/ws/");rdx.websocket.add_event_listener("message",this.websocket_onmessage)};rdx.command_shell_executer.prototype.websocket_onmessage=function(event,data){if(event.type==="message"){shell_executer=rdx.websocket.get_caller_data();var jsonstr=null;if(data){jsonstr=data}else{jsonstr=eval("("+event.data+")")}if(jsonstr.type==="cmd"){if(rdx.utils.is_not_empty(shell_executer._original_command)&&rdx.utils.is_not_empty(shell_executer._display_command)&&jsonstr.data.indexOf(shell_executer._original_command)>-1){jsonstr.data=jsonstr.data.replace(shell_executer._original_command,shell_executer._display_command)}shell_executer._output.append('<span class="terminal-command-output">'+rdx.utils.trim_left(jsonstr.data)+"</span>");shell_executer._command_shell.scrollTop(shell_executer._output.height());if(shell_executer._ws_check_matches){var matches=shell_executer._ws_matches;for(var index in matches){var match_obj=matches[index];if(rdx.utils.is_defined(match_obj.pattern)&&match_obj.pattern.test(jsonstr.data)||rdx.utils.is_defined(match_obj.string)&&(jsonstr.data.indexOf(match_obj.string)>-1)){match_obj.callback.call_back([{output:jsonstr.data,app_data:this._app_data}])}}}}else{if(jsonstr.type==="ctrl"){if(jsonstr.status==="error"){var error_callback=new rdx.callback();if(jsonstr.data==="Session expired or cancelled. Please login again"){error_callback=new rdx.callback(rdx.utils,function(){rdx.utils.do_logout(true)})}rdx.message_box.error(jsonstr.data,error_callback)}else{if(jsonstr.status==="killed"){return}}}}if(jsonstr.status==="running"){rdx.websocket.send_relay()}else{shell_executer._ws_check_matches=false;shell_executer._ws_matches=[];var cmd_list=shell_executer._properties.command_list;if(cmd_list.length>0){cmd_obj=cmd_list.shift();if(rdx.utils.is_defined(cmd_obj.matches)){shell_executer._ws_check_matches=true;shell_executer._ws_matches=cmd_obj.matches}if(rdx.utils.is_not_empty(cmd_obj.display_command)){shell_executer._display_command=cmd_obj.display_command;shell_executer._original_command=cmd_obj.command}rdx.websocket.send_cmd_from_obj(cmd_obj)}else{if(rdx.utils.is_defined(shell_executer._properties.finish_handler_callback)&&!shell_executer._process_killed){shell_executer._properties.finish_handler_callback.call_back([shell_executer._app_data])}if(rdx.utils.is_defined(shell_executer._executer_utility)){shell_executer._executer_utility.toggle_button()}}}}};rdx.command_shell_executer.prototype.get_component=function(){return this._command_shell};rdx.command_shell_executer.prototype.get_prompt=function(){return this._properties.prompt};rdx.command_shell_executer.prototype.set_prompt=function(b){this._properties.prompt=b};rdx.command_shell_executer.prototype.get_command=function(){return this._element.get_data()};rdx.command_shell_executer.prototype.process_command=function(b){if(this._properties.use_websocket){this.process_command_for_websocket(b)}else{this.process_one_off_command(b)}};rdx.command_shell_executer.prototype.process_command_for_websocket=function(e){var f=Array();if(rdx.utils.is_defined(e)){f=e}else{var g=this._properties.prepend_command+" "+this.get_command();f=[{command:g,check_status:"true"}]}if(rdx.websocket.is_connected()){for(var h=0;h<f.length;h++){rdx.websocket.send_cmd_from_obj(f[h])}}else{if(!rdx.websocket.is_connecting()){rdx.websocket.set_caller_data(this);this.websocket_connect()}this._ws_check_matches=false;this._ws_matches=[];this._properties.command_list=f}};rdx.command_shell_executer.prototype.process_one_off_command=function(f){var m=this._properties.prepend_command+" "+(rdx.utils.is_defined(f)?f:this.get_command());var h=(rdx.utils.is_defined(f))?">"+f:this.get_prompt()+this.get_command();var g=new rdx.model_executor_service(new rdx.callback(function(b,a){data=b.get_collated_response();if(rdx.utils.is_array(data)){data=data[0]}switch(data.remote_shell.output){case"[CLEAR]":a._output.html("");break;case"[CLOSED]":a._output.html("");break;default:a._output.append('<pre class="terminal-command-prompt">'+data.remote_shell.prompt+'</pre><pre class="terminal-command-output">'+data.remote_shell.output+"</pre>");a._command_shell.scrollTop(a._output.height())}},[this]));var l={command:m,prompt:h,target:this.get_target()};g.add("post",rdx.utils.get_resource("remote_shell"),l,null,null,null);g.execute()};rdx.command_shell_executer.prototype.update_options=function(b){if($(this._element._list).children("[title = '"+b+"']").size()>1){$($(this._element._list).children("[title = '"+b+"']")[0]).remove()}$(this._element._dropdown_options._data_container).prepend($("<li>").text(b).attr("id",$(this._element._dropdown_options._input).attr("id")+"_"+b));this._element._dropdown_options.data_get_callback.call(this._element._dropdown_options._this,this._element._dropdown_options._input.attr("id"),this._element._dropdown_options._table,this._element._dropdown_options._options,this._element._dropdown_options._data_container);ul=$(this._element._dropdown_options._data_container);ul.children().each(function(d,a){ul.prepend(a)})};rdx.command_shell_executer.prototype.set_data=function(b){return this._element.set_data(b)};rdx.command_shell_executer.prototype.get_data=function(){return $.trim(this._element.get_data())};rdx.command_shell_executer.prototype.get_component_type=function(){return rdx.form_constants.COMMAND_SHELL_EXECUTER};rdx.command_shell_executer.prototype.get_component=function(){return this._command_shell};rdx.command_shell_executer.prototype.get_target=function(){return this._properties.target};rdx.command_shell_executer.prototype.attach_utility=function(b){this._executer_utility=b};rdx.command_spec_editor=function(d,c){this._parent=d;this._field=c;this._DEFAULT_PROPERTIES={show_regex_editor:false};this._component=null;this._properties=$.extend(true,this._DEFAULT_PROPERTIES,c.get_properties());this.EXCLUSION="(?!(?=create|import|sign|unsign).*|\\S+\\s+(?=system|audit|network).*|\\S+\\s+\\S+\\s+(?=acl6?|global|certkey|crl|fipsKey|wrapkey).*)";this.TWO_WORD_CMDs={Server:{name:"Server",value:true},Service:{name:"Service",value:true},Servicegroup:{name:"ServiceGroup",value:true}}};rdx.command_spec_editor.prototype.render=function(){this._component=$("<div>").addClass("command_spec_editor");this._render_textarea_and_link();if(this._field.is_read_only()){this.toggle_read_only(false)}this._parent.append(this._component);return this};rdx.command_spec_editor.prototype._render_textarea_and_link=function(){var h=$.extend({},{},this._field._properties);h.input_type=rdx.form_constants.TEXT_AREA;var e=new rdx.form_field(h);this._text_area=new rdx.text_area(this._component,e).render();this._text_area.get_component().attr("spellcheck",false);this._text_area.get_component().addClass("border_box");if(rdx.utils.is_defined(h.height)){this._component.height(h.height+25)}var f=$("<div>");this._component.append(f);var g=new rdx.regex_field(f,new rdx.form_field({properties:{standalone:false}}));this._commandspec_editor_link_div=$("<a>").addClass("rdx_right pointer_cursor").append(rdx.i18n.get_string("rdx.cmd_spec_editor"));f.append(this._commandspec_editor_link_div);if(this._properties.show_regex_editor===true){this._regex_editor_link_div=$("<a>").addClass("rdx_right pointer_cursor links_separator").append(rdx.i18n.get_string("rdx.regex_editor_label"));f.append(this._regex_editor_link_div)}this._commandspec_editor_link_div.bind(rdx.events.CLICK,{commandspec:this},function(a){a.data.commandspec._show_command_spec_editor()});this._regex_editor_link_div.bind(rdx.events.CLICK,{regex:g,commandspec_textarea:this._text_area},function(a){a.data.regex.show_regex_editor(rdx.events.CLICK,a.data.commandspec_textarea)})};rdx.command_spec_editor.prototype._show_command_spec_editor=function(){var c=$("<div>").addClass("command_spec_editor-container");this._create_command_spec_editor(c);var d=this;if(!rdx.page.is_slider_visible()){slider_container=rdx.page.show_slider({});slider_container.show()}this._command_spec_editor_container_div=rdx.page.get_slider_crumb().crumb.add_container(rdx.i18n.get_string("rdx.cmd_spec_editor"),c);c.parent().addClass("command_spec_editor_container_parent")};rdx.command_spec_editor.prototype._create_command_spec_editor=function(O){O.empty();this._radio_btn_div=$("<div>").addClass("radio_buttons_div");var N=new rdx.form_field({formatter:{map:["Simple","Advanced"]},key:"command_spec_editor_container"+Math.random(),input_type:rdx.form_constants.RADIO_GROUP});this._radio_component=rdx.component_helper.get_component(rdx.form_constants.RADIO_GROUP,this._radio_btn_div,N).render();O.append(this._radio_btn_div);var L=$("<div>").addClass("simple-tab-container");var E=$("<table>").addClass("operations");var ab=$("<tr>");var S=$("<td>").addClass("operations_padding_heading").text("Operations*");var U=$("<td>").addClass("operations_padding");this._simple_add_modify=new rdx.check_box(U,new rdx.form_field({label:rdx.i18n.get_string("rdx.add_modify")})).render();this._simple_add_modify.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._create_expression,[]));U.append("Add/Modify");var V=$("<td>").addClass("operations_padding");this._simple_remove=new rdx.check_box(V,new rdx.form_field({label:rdx.i18n.get_string("rdx.button_remove")})).render();this._simple_remove.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._create_expression,[]));V.append("Remove");var W=$("<td>").addClass("operations_padding");this._simple_show=new rdx.check_box(W,new rdx.form_field({label:rdx.i18n.get_string("rdx.show"),value:true,read_only:true})).render();this._simple_show.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._create_expression,[]));W.append("Show");ab.append(S).append(U).append(V).append(W);E.append(ab);var C=this._get_simple_entity_groups();var Q=$("<div>").addClass("simple_entity_group_container").append($("<div>").text(rdx.i18n.get_string("rdx.entity_groups")));this._simple_entitygroup_list=new rdx.list(Q,new rdx.form_field({mandatory:true,properties:{size:7},formatter:{map:C}})).render();this._simple_entitygroup_list.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._create_expression,[]));var aa=$("<div>").addClass("exclude_system_cmd");this._exclude_system_commands_chkbox=new rdx.check_box(aa,new rdx.form_field({})).render();aa.append(rdx.i18n.get_string("rdx.exclude_system_command"));this._exclude_system_commands_chkbox.set_data(false);this._exclude_system_commands_chkbox.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._create_expression,[]));L.append(E).append(Q).append(aa);O.append(L);var Z=this._get_advanced_entity_groups();var T=$("<div>").addClass("advanced-tab-container");var J=$("<div>").addClass("advanced_entity_group_container").append($("<div>").text(rdx.i18n.get_string("rdx.entity_groups")));this._advanced_entitygroup_list=new rdx.list(J,new rdx.form_field({mandatory:true,properties:{size:1},formatter:{map:Z}})).render();this._advanced_entitygroup_list.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(b,c){var a=c._get_advanced_entities(c._advanced_entitygroup_list.get_data());c._advanced_entity_list.remove_items(false,false);c._advanced_entity_list.add_items(a);c._operations_list.remove_items(false,false);c._cmd_preview_textarea.set_data()},[this]));var H=$("<div>").addClass("advanced_entity_container");var M=$("<table>").addClass("operations");var F=$("<tr>");F.append($("<td>").text("Entity*")).append($("<td>").text(rdx.i18n.get_string("rdx.operations")));var I=$("<td>").addClass("entity-operations-padding");this._advanced_entity_list=new rdx.list(I,new rdx.form_field({mandatory:true,properties:{size:7},formatter:{map:[]}})).render();this._advanced_entity_list.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(b,e){var c=e._advanced_entitygroup_list.get_data();var a=e._advanced_entity_list.get_data();var d=e._get_advanced_entities_operations(c,a);e._operations_list.remove_items(false,false);e._operations_list.add_items(d);e._create_expression()},[this]));var K=$("<td>");this._operations_list=new rdx.list(K,new rdx.form_field({mandatory:true,properties:{size:7},formatter:{map:[]}})).render();this._operations_list.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._create_expression,[]));H.append(M.append(F).append($("<tr>").append(I).append(K)));T.append(J).append(H);O.append(T);var R=$("<div>").addClass("parameter_div").append($("<div>").append(rdx.i18n.get_string("rdx.parameter_regex")));this._parameter=new rdx.text_box(R,new rdx.form_field({})).render();this._parameter.add_event_handler(rdx.events.KEYUP,new rdx.callback(this,this._create_expression,[]));var D=$("<div>").addClass("cmd_preview").text(rdx.i18n.get_string("rdx.command_preview"));this._cmd_preview_textarea=new rdx.text_area(D,new rdx.form_field({read_only:true})).render();this._advanced_entitygroup_list.set_data(Z[0]);var G=$("<div>").addClass("form_buttons command_spec_buttons");var P=new rdx.button_bar(G,new rdx.form_field({properties:{add_blue_button:true,blue_button_label:rdx.i18n.get_string("rdx.form_add_button_label"),blue_button_click_handler_callback:new rdx.callback(this,this._create_expression,[true,O]),add_grey_button:true,grey_button_label:rdx.i18n.get_string("rdx.cancel_button.label"),grey_button_click_handler_callback:new rdx.callback(this,this._handle_close_button,[O])}})).render();this._simple_show.set_data(true);O.append(R).append(D).append(G);this._radio_component.add_event_handler(rdx.events.CHANGE,new rdx.callback(function(b,d,a,c){if("Simple"==rdx.utils.trim(d._radio_component.get_data())){c.hide();a.show()}else{c.show();a.hide()}d._cmd_preview_textarea.set_data("")},[this,L,T]));this._radio_component.set_data("Simple")};rdx.command_spec_editor.prototype._get_simple_entity_groups=function(){var d=new Array();for(var c=0;c<neo_rba_commandset.length;c++){if($.inArray(neo_rba_commandset[c]["entitygroup"],d)==-1&&neo_rba_commandset[c]["entitygroup"].charAt(0)!="<"){d.push(neo_rba_commandset[c]["entitygroup"])}}for(var c=0;c<d.length;c++){if(rdx.utils.is_defined(neo_rba_entitygroup_mapping[d[c]])){d[c]=neo_rba_entitygroup_mapping[d[c]]}}d.push("Server");d.push("Service");d.push("ServiceGroup");d=this._sort_array(d);return d};rdx.command_spec_editor.prototype._get_advanced_entity_groups=function(){var d=new Array();for(var c=0;c<neo_rba_commandset.length;c++){if($.inArray(neo_rba_commandset[c]["entitygroup"],d)==-1){d.push(neo_rba_commandset[c]["entitygroup"])}}for(var c=0;c<d.length;c++){if(rdx.utils.is_defined(neo_rba_entitygroup_mapping[d[c]])){d[c]=neo_rba_entitygroup_mapping[d[c]]}}d.push("<miscellaneous>");d=this._sort_array(d);return d};rdx.command_spec_editor.prototype._get_advanced_entities=function(m){var h=new Array();for(var f in neo_rba_entitygroup_mapping){if(neo_rba_entitygroup_mapping[f]==m){m=f}}for(var l=0;l<neo_rba_commandset.length;l++){if(neo_rba_commandset[l]["entitygroup"]==m&&$.inArray(neo_rba_commandset[l]["entity"],h)==-1){var g="";if(neo_rba_commandset[l]["entity"].indexOf("<deprecated>")!=-1&&neo_rba_commandset[l]["entity"].indexOf("<deprecated>")==neo_rba_commandset[l]["entity"].length-"<deprecated>".length){g=neo_rba_commandset[l]["entity"].substring(0,neo_rba_commandset[l]["entity"].indexOf("<deprecated>"))}else{g=neo_rba_commandset[l]["entity"]}if($.trim(g)==""){g="<no entity>"}if(m=="router"&&g=="<no entity>"){continue}h.push(g)}}if(m=="<miscellaneous>"){h.push("<no entity>")}h=this._sort_array(h);return h};rdx.command_spec_editor.prototype._get_advanced_entities_operations=function(p,n){var q=new Array();for(var s in neo_rba_entitygroup_mapping){if(neo_rba_entitygroup_mapping[s]==p){p=s}}for(var t=0;t<n.length;t++){for(var o=0;o<neo_rba_commandset.length;o++){if(neo_rba_commandset[o]["entitygroup"]==p){if(n[t]=="<no entity>"){n[t]=""}if((n[t]==neo_rba_commandset[o]["entity"]&&neo_rba_commandset[o]["entity"].indexOf("<deprecated>")==-1)||(neo_rba_commandset[o]["entity"].indexOf("<deprecated>")!=-1&&neo_rba_commandset[o]["entity"].substring(0,neo_rba_commandset[o]["entity"].indexOf("<deprecated>"))==n[t])){var l=$.extend(true,[],neo_rba_commandset[o]["operations"]);if(neo_rba_commandset[o]["entity"].indexOf("<deprecated>")!=-1&&neo_rba_commandset[o]["entity"].indexOf("<deprecated>")==neo_rba_commandset[o]["entity"].length-"<deprecated>".length){for(var m=0;m<l.length;m++){l[m]=l[m]+"<deprecated>"}}for(var m=0;m<l.length;m++){if($.inArray(l[m],q)==-1){if(l[m]=="reboot"||l[m]=="shutdown"){continue}q.push(l[m])}}}}}if(p=="<utility>"&&n[t]==""){q.push("sftp")}if(p=="router"&&n[t]=="<no entity>"){continue}if(p=="<miscellaneous>"&&n[t]=="<no entity>"){q.push("batch");q.push("reboot");q.push("shutdown");q.push("vtysh");q.push("source")}}q=this._sort_array(q);return q};rdx.command_spec_editor.prototype._create_expression=function(d,e,f){if(rdx.utils.trim(this._radio_component.get_data())=="Simple"){this._create_simple_expression(d,e,f)}else{this._create_advanced_expression(d,e,f)}};rdx.command_spec_editor.prototype._create_simple_expression=function(F,C,t){if(this._simple_entitygroup_list.get_data().length<=0){if(rdx.utils.is_defined(C)&&C==true){rdx.message_box.error(rdx.i18n.get_string("rdx.cmd_spec_editor_entitygroup_error"),null,rdx.i18n.get_string("neo.error_message_title"),null)}return}if(!this._simple_add_modify.get_data()&&!this._simple_remove.get_data()&&!this._simple_show.get_data()){if(rdx.utils.is_defined(C)&&C==true){rdx.message_box.error(rdx.i18n.get_string("rdx.cmd_spec_editor_operation_error"),null,rdx.i18n.get_string("neo.error_message_title"),null)}return}var v="(^";if(this._exclude_system_commands_chkbox.get_data()==true){v+=this.EXCLUSION}var D="";if(this._simple_add_modify.get_data()==true&&this._simple_remove.get_data()==true){D="\\S+"}else{if(this._simple_add_modify.get_data()==true){D="(?!rm)\\S+"}else{if(this._simple_remove.get_data()==true){D="(show|rm)"}else{D="show"}}}v+=D;var s="";var x="";if(this._simple_entitygroup_list.get_data().length==this._get_simple_entity_groups().length){s="\\S+";var w="";for(var u in this.TWO_WORD_CMDs){w=this.TWO_WORD_CMDs[u]["name"]+"|"}w=w.substring(1);x=this._trim_regex(w)}else{var y="";var E="";var B=this._simple_entitygroup_list.get_data();for(var z=0;z<B.length;z++){var A=null;for(var u in neo_rba_entitygroup_mapping){if(neo_rba_entitygroup_mapping[u]==B[z]){A=u}}if(rdx.utils.is_not_defined(A)){A=B[z]}if(A=="Server"||A=="Service"){E+=A+"|";continue}else{if(A=="ServiceGroup"){E+="Servicegroup|";continue}}y+=A+"|"}s=this._trim_regex(y);x=this._trim_regex(E)}if(s.length>0){s+="\\s+\\S+"}if(s.length>0&&x.length>0){v+="\\s+("+s+"|"+x+")"}else{v+="\\s+"+s+x}v=this._get_final_regex_with_params(v);this._cmd_preview_textarea.set_data(v);if(rdx.utils.is_defined(C)&&C==true){this._append_data_in_text_area(v);this._handle_close_button(F,t)}};rdx.command_spec_editor.prototype._create_advanced_expression=function(A,C,H){if(this._advanced_entity_list.get_data().length<=0){if(rdx.utils.is_defined(C)&&C==true){rdx.message_box.error(rdx.i18n.get_string("rdx.cmd_spec_editor_entity_error"),null,rdx.i18n.get_string("neo.error_message_title"),null)}return}if(this._operations_list.get_data().length<=0){if(rdx.utils.is_defined(C)&&C==true){rdx.message_box.error(rdx.i18n.get_string("rdx.cmd_spec_editor_operation_error"),null,rdx.i18n.get_string("neo.error_message_title"),null)}return}var x="";var N="";if(this._advanced_entity_list.get_selected_index()==0&&this._advanced_entity_list.get_items(false)[0]=="<no entity>"){var y=this._get_advanced_entities_operations(this._advanced_entitygroup_list.get_data(),["<no entity>"]);var J=this._operations_list.get_data();var E="";for(var z=0;z<J.length;z++){var D=J[z];for(var B=0;B<y.length;B++){var I=y[B];if(I==D){if(I=="sftp"){I="sftp-server"}x+=E+I;E="|";break}}}if(x.length>0){if(x.indexOf("|")>0){x="("+x+")"}if(this._get_selected_advanced_entity_group().length<=0){x="(^"+x}else{x="(^"+x+"\\s+"+this._get_selected_advanced_entity_group()}x=this._get_final_regex_with_params(x);if(this._advanced_entity_list.get_data().length==1){N=x;this._cmd_preview_textarea.set_data(N);if(rdx.utils.is_defined(C)&&C==true){this._append_data_in_text_area(N);H.remove()}return}else{x+="|"}}}var K="(^";var L="";if(this._operations_list.get_data().length==this._operations_list.get_items(false).length&&this._operations_list.get_items(false).length>1){L="\\S+";K+=L}else{if(this._operations_list.get_items(false).length>0){var J=this._operations_list.get_data();for(var z=0;z<J.length;z++){var D=J[z];if(D.indexOf("<deprecated>")!=-1){D=D.substring(0,D.length-"<deprecated>".length)}L+=D+"|"}K+=this._trim_regex(L)}}var M=this._advanced_entitygroup_list.get_data();for(var w in neo_rba_entitygroup_mapping){if(neo_rba_entitygroup_mapping[w]==M){M=w}}if(this._get_selected_advanced_entity_group().length>0){K+="\\s+"+M}if(this._advanced_entity_list.get_data().length==this._advanced_entity_list.get_items(false).length&&this._get_selected_advanced_entity_group().length>0){K+="\\s+\\S+"}else{var G="";var F=this._advanced_entity_list.get_data();for(var z=0;z<F.length;z++){var D=F[z];D=D.replace(".","\\.");if(F[z]=="<no entity>"){D="";if(z+1!=F.length){continue}}G+=D+"|"}K+=((L.length>0)?"\\s+":"")+this._trim_regex(G)}N=x+this._get_final_regex_with_params(K);this._cmd_preview_textarea.set_data(N);if(rdx.utils.is_defined(C)&&C==true){this._append_data_in_text_area(N);this._handle_close_button(A,H)}};rdx.command_spec_editor.prototype.get_value=function(){var b=this._parameter.get_data().trim();if(b.length<=0){return".*)"}else{return"\\s+"+b+".*)"}};rdx.command_spec_editor.prototype._trim_regex=function(b){if(b.length<=0){return b}if(b.charAt(b.length-1)=="|"){b=b.substring(0,b.length-1)}if(b.indexOf("|")>0){return"("+b+")"}else{return b}};rdx.command_spec_editor.prototype._get_final_regex_with_params=function(d){var c=this._parameter.get_data().trim();if(c.length<=0){d=d+")|"+d+"\\s+.*)"}else{d+="\\s+"+c+".*)"}return d};rdx.command_spec_editor.prototype._get_selected_advanced_entity_group=function(){var c=this._advanced_entitygroup_list.get_data();for(var d in neo_rba_entitygroup_mapping){if(neo_rba_entitygroup_mapping[d]==c){c=d}}if(c.charAt(0)=="<"&&c.charAt(c.length-1)==">"){return""}else{return c}};rdx.command_spec_editor.prototype._append_data_in_text_area=function(d){var c=$.trim(this._text_area.get_data());if(c.length>0&&!(c.charAt(0)=="("&&c.charAt(c.length-1)==")")){c="("+c+")";c+="|"+d;this._text_area.set_data(c)}else{if(c.length>0){this._text_area.set_data(this._text_area.get_data()+"|")}this._text_area.set_data(this._text_area.get_data()+d)}};rdx.command_spec_editor.prototype._sort_array=function(c){if(rdx.utils.is_empty(c)){return[]}var d=c.sort(function(a,b){var g=a.toLowerCase(),h=b.toLowerCase();return g===h?0:g>h?1:-1});return d};rdx.command_spec_editor.prototype._handle_close_button=function(d,c){c.remove();if(rdx.page.get_slider_crumb().get_current_crumb().index<=0){rdx.page.hide_slider()}else{rdx.page.get_slider_crumb().remove_current_crumb()}$(this._command_spec_editor_container_div).trigger(rdx.events.VIEW_DESTROYED,{slider_clicked:this._properties.slider});this._command_spec_editor_container_div.remove()};rdx.command_spec_editor.prototype.add_event_handler=function(d,c){this._component.bind(rdx.events.CHANGE,{rdx_change_handler_callback:c},function(a){a.data.rdx_change_handler_callback.call_back([a])})};rdx.command_spec_editor.prototype.set_data=function(b){this._text_area.set_data(b)};rdx.command_spec_editor.prototype.get_data=function(){return this._text_area.get_data()};rdx.command_spec_editor.prototype.get_component_type=function(){return rdx.form_constants.COMMAND_SPEC_EDITOR};rdx.command_spec_editor.prototype.get_field=function(){return this._field};rdx.command_spec_editor.prototype.get_component=function(){return this._component};rdx.command_spec_editor.prototype.toggle_read_only=function(b){if(b){this._component.removeClass("form_field_disabled")}else{this._component.addClass("form_field_disabled")}};rdx.command_spec_editor.prototype.get_textarea_component=function(){return this._text_area.get_component()};rdx.command_spec_editor.prototype.toggle_show_hide=function(d,c){if(rdx.utils.is_not_defined(c)){c=this._component}if(d){c.show()}else{c.hide()}};rdx.page.add_event_handler(rdx.events.APP_LOADED,new rdx.callback(rdx.utils,rdx.utils._initialize_command_spec_editor));rdx.multiple_field=function(d,c){this._parent=typeof(d)=="string"?$("#"+d):d;this._field=c;this._DEFAULT_PROPERTIES={type:rdx.form_constants.TEXT_BOX,max_fields:9999,mandatory:false,check_for_duplicates:true,extra_field_dfn:null};this._field_array=new Array();this._extra_field_array=new Array();this._properties=$.extend({},this._DEFAULT_PROPERTIES,c.get_properties());this._extra_field_present=rdx.utils.is_defined(this._properties.extra_field_dfn)?true:false;this._properties.mandatory=rdx.utils.is_defined(this._field.is_mandatory())?this._field.is_mandatory():false;this._field_label=this._field.get_label()};rdx.multiple_field.prototype.render=function(){this._element=$("<table>").attr("cellspacing","0").addClass("multi_field_table");this._add_field_row();this._parent.append(this._element);return this};rdx.multiple_field.prototype._add_field_row=function(){var o=this._element;var n=$("<tr>");var v=$("<td>");var s=rdx.component_helper.get_component(this._properties.type,v,this._field).render();this._field_array.push(s);n.append(v);if(this._extra_field_present==true){var q=$("<td>");this._extra_field=new rdx.form_field(this._properties.extra_field_dfn);this._extra_field_label=this._extra_field.get_label();var x=rdx.component_helper.get_component(this._extra_field.get_input_type(),q,this._field).render();this._extra_field_array.push(x);n.append(q)}var t=$("<td>").addClass("multiple_field_remove_parent");var p=$("<button>").addClass("multiple_field_remove");t.append(p);n.append(t);var u=$("<td>").addClass("multiple_field_add_parent");var w=$("<button>").addClass("multiple_field_add");u.append(w);n.append(u);o.append(n);w.bind("click",{multiple_field:this},function(a){if($(this).css("display")!="none"){a.data.multiple_field._add_field_row();a.data.multiple_field._set_button_state()}a.preventDefault()});p.bind("click",{multiple_field:this,row:n,field:s},function(a){if($(this).css("display")!="none"){var b=a.data.multiple_field._field_array.indexOf(a.data.field);a.data.multiple_field._field_array.splice(b,1);a.data.multiple_field._remove_field_row(a.data.row);a.data.multiple_field._set_button_state()}a.preventDefault()});this._set_button_state()};rdx.multiple_field.prototype._remove_field_row=function(b){b.remove()};rdx.multiple_field.prototype._set_button_state=function(){var m=$(this._element).find(".multiple_field_remove_parent");if(m.length==1){$(m[0]).hide()}else{for(var g=0;g<m.length;g++){var l=m[g];$(l).show()}}var h=$(this._element).find(".multiple_field_add_parent");for(var g=0;g<h.length;g++){var f=h[g];$(f).hide();if(g==(h.length-1)){$(f).show()}if(g==(this._properties.max_fields-1)){$(f).hide()}}};rdx.multiple_field.prototype.set_data=function(g){if(rdx.utils.is_not_defined(g)){return}if(!rdx.utils.is_array(g)){return}this._element.empty();this._field_array=new Array();if(this._extra_field_present==false){for(var h=0;h<g.length;h++){this._add_field_row();this._field_array[h].set_data(g[h])}}else{this._extra_field_array=new Array();for(var h=0;h<g.length;h++){this._add_field_row();var e=0;for(var f in g[h]){if(e==0){this._field_array[h].set_data(g[h][f])}else{this._extra_field_array[h].set_data(g[h][f])}e++}}}};rdx.multiple_field.prototype.get_data=function(){var l=new Array();if(this._extra_field_present==false&&rdx.utils.is_defined(this._field_array)&&this._field_array.length>0){for(var n=0;n<this._field_array.length;n++){var m=this._field_array[n].get_data();if(rdx.utils.is_defined(m)){if(rdx.utils.is_array(m)){l.push(m[0])}if(rdx.utils.is_defined(m)&&rdx.utils.is_array(m)&&rdx.utils.is_object(m[0])){continue}if(rdx.utils.is_string(m)){m=rdx.utils.trim(m)}if(rdx.utils.is_not_empty(m)&&!rdx.utils.is_object(m)){if($.inArray(m,l)==-1||this._properties.check_for_duplicates==false){l.push(m)}else{if(this._properties.check_for_duplicates==true){rdx.message_box.error(rdx.i18n.get_string("rdx.multiple_field_dulplicate_error"),null,rdx.i18n.get_string("rdx.message_box_error"),null);return null}}}else{if(rdx.utils.is_not_empty(m)){l.push(m)}}}}}if(this._extra_field_present==true&&rdx.utils.is_defined(this._field_array)&&this._field_array.length>0&&rdx.utils.is_defined(this._extra_field_array)&&this._extra_field_array.length>0&&this._field_array.length==this._extra_field_array.length){for(var n=0;n<this._field_array.length;n++){var o=this._field_array[n].get_data();var g=this._extra_field_array[n].get_data();if(rdx.utils.is_defined(o)){o=rdx.utils.trim(o);g=rdx.utils.trim(g);if((this._properties.mandatory==true||this._properties.mandatory=="true")&&rdx.utils.is_empty(g)&&this._extra_field_array.length>1){rdx.message_box.error(rdx.i18n.get_string("rdx.multiple_field_mandatory_error",{field_label:this._extra_field_label}),null,rdx.i18n.get_string("neo.error_message_title"),null);return null}else{if(rdx.utils.is_not_empty(o)&&rdx.utils.is_not_empty(g)){var h={};h[(rdx.utils.is_defined(this._field.get_key())&&rdx.utils.trim(this._field.get_key())!="")?this._field.get_key():"property1"]=o;h[(rdx.utils.is_defined(this._extra_field.get_key())&&rdx.utils.trim(this._extra_field.get_key())!="")?this._extra_field.get_key():"property2"]=g;l.push(h)}}}}}return l};rdx.multiple_field.prototype.get_component_type=function(){return rdx.form_constants.MULTIPLE_FIELD};rdx.multiple_field.prototype.get_field=function(){return this._field};rdx.multiple_field.prototype.get_component=function(){return this._element};rdx.button_bar=function(d,f){var e={add_blue_button:false,add_create_and_add_button:false,add_grey_button:false,add_bind_button:false,add_tab_button:false,add_link:false,blue_button_label:"rdx.button_add",blue_button_tooltip:null,grey_button_label:"rdx.button_remove",grey_button_tooltip:null,bind_button_label:"rdx.button_bind",bind_button_tooltip:null,new_create_button_tooltip:null,new_create_button_label:"rdx.button_create_and_new",tab_button_label:"",tab_button_class:"rdx_tab_button",tab_button_tooltip:null,link_label:"",link_tooltip:null,blue_button_click_handler_callback:null,grey_button_click_handler_callback:null,bind_button_click_handler_callback:null,tab_button_click_handler_callback:null,create_and_add_click_handler_callback:null,link_click_handler_callback:null,tab_button_state:null,custom_class_names:null,single_selection:false,multi_selection:false};this._properties=$.extend(true,e,f.get_properties());this._parent=d;this._blue_button=null;this._blue_button_label_container=null;this._grey_button=null;this._tab_button=null;this._bind_button=null};rdx.button_bar.prototype.render=function(){if(this._properties.add_blue_button==false&&this._properties.add_grey_button==false&&this._properties.add_tab_button==false&&this._properties.add_link==false&&this._properties.add_bind_button==false){return this}var e=$("<table>").addClass("rdx_button_bar").attr("cellspacing","1");if(rdx.utils.is_defined(this._properties.custom_class_names)){e.addClass(this._properties.custom_class_names)}var g=$("<tr>");if(this._properties.add_blue_button==true){this._blue_button=$("<button>").addClass("rdx_button rdx_blue_button");this._blue_button_label_container=$("<span>").append(rdx.i18n.get_string(this._properties.blue_button_label));this._blue_button.append(this._blue_button_label_container);if(rdx.utils.is_defined(this._properties.blue_button_tooltip)){this._blue_button.attr("title",rdx.i18n.get_string(this._properties.blue_button_tooltip))}g.append($("<td>").append(this._blue_button));if(rdx.utils.is_defined(this._properties.blue_button_click_handler_callback)){this._blue_button.bind(rdx.events.CLICK,{click_handler_callback:this._properties.blue_button_click_handler_callback,buttons:this},function(a){if($(this).hasClass("rdx_button_disabled")){return}a.data.click_handler_callback.call_back([a.data.buttons]);a.preventDefault()})}e.append(g);this._parent.append(e)}if(this._properties.add_create_and_add_button==true){this._new_create_button=$("<button>").addClass("rdx_button rdx_blue_button");var h=$("<span>").append(rdx.i18n.get_string(this._properties.new_create_button_label));this._new_create_button.append(h);if(rdx.utils.is_defined(this._properties.new_create_button_tooltip)){this._new_create_button.attr("title",rdx.i18n.get_string(this._properties.new_create_button_tooltip))}g.append($("<td>").append(this._new_create_button));if(rdx.utils.is_defined(this._properties.create_and_add_click_handler_callback)){this._new_create_button.bind(rdx.events.CLICK,{click_handler_callback:this._properties.create_and_add_click_handler_callback,buttons:this},function(a){if($(this).hasClass("rdx_button_disabled")){return}a.data.click_handler_callback.call_back([a.data.buttons]);a.preventDefault()})}e.append(g);this._parent.append(e)}if(this._properties.add_grey_button==true){this._grey_button=$("<a>").addClass("rdx_button rdx_grey_button").append($("<span>").append(rdx.i18n.get_string(this._properties.grey_button_label)));g.append($("<td>").append(this._grey_button));if(rdx.utils.is_defined(this._properties.grey_button_tooltip)){this._grey_button.attr("title",rdx.i18n.get_string(this._properties.grey_button_tooltip))}if(rdx.utils.is_defined(this._properties.grey_button_click_handler_callback)){this._grey_button.bind(rdx.events.CLICK,{click_handler_callback:this._properties.grey_button_click_handler_callback,buttons:this},function(a){if($(this).hasClass("rdx_button_disabled")){return}a.data.click_handler_callback.call_back([a.data.buttons]);a.stopPropagation();a.preventDefault();var b=rdx.utils.is_defined($(".rdx_tooltip_dialog_cell.rdx_position_bubble_arrow_right")[0]);if(b){$(document.body).trigger(rdx.events.CLICK)}})}e.append(g);this._parent.append(e);this._grey_button.blur()}if(this._properties.add_bind_button==true){this._bind_button=$("<a>").addClass("image-button rdx_button").append($("<span>").addClass("icon").append(rdx.i18n.get_string(this._properties.bind_button_label)));g.append($("<td>").append(this._bind_button));if(rdx.utils.is_defined(this._properties.bind_button_tooltip)){this._bind_button.attr("title",rdx.i18n.get_string(this._properties.bind_button_tooltip))}if(rdx.utils.is_defined(this._properties.bind_button_click_handler_callback)){this._bind_button.bind(rdx.events.CLICK,{click_handler_callback:this._properties.bind_button_click_handler_callback,buttons:this},function(a){if($(this).hasClass("rdx_button_disabled")){return}a.data.click_handler_callback.call_back([a.data.buttons]);a.preventDefault()})}e.append(g);this._parent.append(e);this._bind_button.blur()}if(this._properties.add_tab_button==true){this._tab_button_tab_label=$("<span>").append(rdx.i18n.get_string(this._properties.tab_button_label));this._tab_button_close_button=$("<span>").addClass("rdx_tab_button_close");this._tab_button_dropdown_button=$("<span>").addClass("rdx_tab_button_dropdown");this._tab_button_tab_label.append(this._tab_button_dropdown_button);this._tab_button=$("<span>").addClass(this._properties.tab_button_class).append(this._tab_button_tab_label);if(rdx.utils.is_defined(this._properties.tab_button_tooltip)){this._tab_button.attr("title",rdx.i18n.get_string(this._properties.tab_button_tooltip))}if(rdx.utils.is_defined(this._properties.tab_button_click_handler_callback)){this._tab_button.bind(rdx.events.CLICK,{buttons:this},function(c){var a=$(this).hasClass("rdx_tab_button_active");if(!a){$(this).addClass("rdx_tab_button_active");var b=c.data.buttons;b._tab_button_dropdown_button.remove();b._tab_button_close_view=false;b._tab_button_tab_label.append(b._tab_button_close_button);b._properties.tab_button_click_handler_callback.call_back([b]);b._tab_button_close_button.bind(rdx.events.CLICK,{buttons:b},function(d){var m=d.data.buttons;m.reset_button();m._properties.tab_button_click_handler_callback.call_back([m]);d.stopPropagation()})}c.preventDefault()})}this._parent.append(this._tab_button);if(this._properties.tab_button_state!=null&&this._properties.tab_button_state==rdx.OPEN){var f=this;setTimeout(function(){f._tab_button.trigger(rdx.events.CLICK)},2000)}}if(this._properties.add_link==true){this._link=$("<a>").addClass("button_bar_link").append($("<span>").append(rdx.i18n.get_string(this._properties.link_label)));g.append($("<td>").append(this._link));if(rdx.utils.is_defined(this._properties._link_tooltip)){this._link.attr("title",rdx.i18n.get_string(this._properties._link_tooltip))}if(rdx.utils.is_defined(this._properties.link_click_handler_callback)){this._link.bind(rdx.events.CLICK,{click_handler_callback:this._properties.link_click_handler_callback,buttons:this},function(a){a.data.click_handler_callback.call_back([a.data.buttons]);a.preventDefault()})}e.append(g);this._parent.append(e)}if(rdx.utils.is_defined(rdx.get_test_framework)&&rdx.get_test_framework().is_test_mode){rdx.get_test_framework().button_bar_stack.push(this)}return this};rdx.button_bar.prototype.reset_button=function(){if(rdx.utils.is_defined(this._tab_button)&&this._tab_button.hasClass("rdx_tab_button_active")){this._tab_button.removeClass("rdx_tab_button_active");this._tab_button_close_button.remove();this._tab_button_tab_label.append(this._tab_button_dropdown_button);this._tab_button_close_view=true}};rdx.button_bar.prototype.get_button_state=function(){if(rdx.utils.is_defined(this._tab_button_close_view)){return this._tab_button_close_view?rdx.CLOSE:rdx.OPEN}};rdx.button_bar.prototype.hide_grey_button=function(){if(rdx.utils.is_defined(this._grey_button)){this._grey_button.hide()}};rdx.button_bar.prototype.show_grey_button=function(){if(rdx.utils.is_defined(this._grey_button)){this._grey_button.show()}};rdx.button_bar.prototype.change_grey_button_label=function(b){if(rdx.utils.is_defined(this._grey_button)){this._grey_button.html(b)}};rdx.button_bar.prototype.hide_blue_button=function(){if(rdx.utils.is_defined(this._blue_button)){this._blue_button.hide()}};rdx.button_bar.prototype.show_blue_button=function(){if(rdx.utils.is_defined(this._blue_button)){this._blue_button.show()}};rdx.button_bar.prototype.change_blue_button_label=function(b){if(rdx.utils.is_defined(this._blue_button)){this._blue_button.html(b)}};rdx.button_bar.prototype.disable=function(){if(rdx.utils.is_defined(this._grey_button)){this._grey_button.addClass("rdx_button_disabled")}if(rdx.utils.is_defined(this._blue_button)){this._blue_button.addClass("rdx_button_disabled")}if(rdx.utils.is_defined(this._new_create_button)){this._new_create_button.addClass("rdx_button_disabled")}if(rdx.utils.is_defined(this._tab_button)){this._tab_button.addClass("rdx_button_disabled");this._tab_button.removeClass("rdx_tab_button_active")}};rdx.button_bar.prototype.enable=function(){if(rdx.utils.is_defined(this._grey_button)){this._grey_button.removeClass("rdx_button_disabled")}if(rdx.utils.is_defined(this._blue_button)){this._blue_button.removeClass("rdx_button_disabled")}if(rdx.utils.is_defined(this._new_create_button)){this._new_create_button.removeClass("rdx_button_disabled")}if(rdx.utils.is_defined(this._tab_button)){this._tab_button.removeClass("rdx_button_disabled")}};rdx.button_bar.prototype.is_disabled=function(){if(rdx.utils.is_defined(this._grey_button)&&this._grey_button.hasClass("rdx_button_disabled")){return true}if(rdx.utils.is_defined(this._blue_button)&&this._blue_button.hasClass("rdx_button_disabled")){return true}if(rdx.utils.is_defined(this._tab_button)&&this._tab_button.hasClass("rdx_button_disabled")){return true}return false};rdx.button_bar.prototype.get_data=function(){};rdx.button_bar.prototype.set_data=function(){};rdx.button_bar.prototype.refresh_state=function(d){var e=d.action_item_data;var f=d.total_item_count;if(this._properties.single_selection==true){if(e.length==1){this._blue_button.removeClass("rdx_button_disabled")}else{this._blue_button.addClass("rdx_button_disabled")}}if(this._properties.multi_selection==true){if(e.length>=1){this._blue_button.removeClass("rdx_button_disabled")}else{this._blue_button.addClass("rdx_button_disabled")}}};rdx.calendar_component=function(d,c){this._parent=d;this._field=c;this._DEFAULT_PROPERTIES={change_handler_callback:null,drop_down_options:{"rdx.Today":"today","rdx.LAST_5_MINUTES":"last_5_minutes","rdx.LAST_1_HOUR":"last_1_hour","rdx.LAST_12_HOURS":"last_12_hours","rdx.LAST_DAY":"last_day","rdx.LAST_WEEK":"last_week","rdx.LAST_MONTH":"last_month","rdx.LAST_6_MONTH":"last_6_month","rdx.LAST_1_YEAR":"last_1_year","rdx.Custom":"custom"},drop_down_options_reverse_map:{today:"rdx.Today",last_5_minutes:"rdx.LAST_5_MINUTES",last_1_hour:"rdx.LAST_1_HOUR",last_12_hours:"rdx.LAST_12_HOURS",last_day:"rdx.LAST_DAY",last_week:"rdx.LAST_WEEK",last_month:"rdx.LAST_MONTH",last_6_month:"rdx.LAST_6_MONTH",last_1_year:"rdx.LAST_1_YEAR",custom:"rdx.Custom"},single_selection:false,date_format:"mm/dd/yy",show_time:false,time_properties:{hour_format_24:false},oldest_date:null,newest_date:null,add_options_configure_view_name:null,show_custom_date:true};this._properties=$.extend({},this._DEFAULT_PROPERTIES,c.get_properties());this._datepicker_container=null;this._starttime_component=null;this._endtime_component=null;this._drop_down_container=null;this._date_container=null;this._custom_datepicker_element=null;this._calendar_containers=[];this.class_names="datepicker_component";this._selected_date={start_date:null,end_date:null,start_time:null,end_time:null,start_epoch:null,end_epoch:null,duration_value:null};this._current_selected_date=null;this._mask_id=rdx.mask.get_id();this._calendar_component_mask=null;this._calendar_container=null;this._calendar_hidden=true};rdx.calendar_component.prototype.render=function(){if(this.get_add_options_configure_view()){this._properties.drop_down_options["rdx.configure"]=this.get_add_options_configure_view()}this._create_datepicker();this._initialize_events(this._drop_down_container);return this};rdx.calendar_component.prototype.get_component_type=function(){return rdx.form_constants.CALENDAR};rdx.calendar_component.prototype.get_data=function(){return this._selected_date};rdx.calendar_component.prototype.get_add_options_configure_view_name=function(){return this._properties.add_options_configure_view_name};rdx.calendar_component.prototype.get_add_options_configure_view=function(){var b=null;if(rdx.utils.is_defined(this.get_add_options_configure_view_name())){if(rdx.utils.is_defined(rdx.utils.get_view(this.get_add_options_configure_view_name()))){}b=rdx.utils.get_view(this.get_add_options_configure_view_name())}return b};rdx.calendar_component.prototype.add_options_configure_view=function(){return this._properties.add_options_configure_view};rdx.calendar_component.prototype.get_selected_date_option=function(){return this._current_selected_date};rdx.calendar_component.prototype.set_data=function(d,e,f){if(rdx.utils.is_defined(d)){if(rdx.utils.is_defined(e)){this._set_date_object(d,e,f)}else{this._set_date_object(d,null,f)}}};rdx.calendar_component.prototype.get_component=function(){return this._datepicker_container};rdx.calendar_component.prototype.get_field=function(){return this._field};rdx.calendar_component.prototype._create_datepicker=function(){this._datepicker_container=$("<div>").addClass("datepicker_component");if(this._properties.show_time&&this.is_show_custom_date()){this._datepicker_container.addClass("calendar_time")}else{if(this._properties.date_format=="dd M yy"){this._datepicker_container.addClass("calendar_format_dd_mm_yyyy")}}this._parent.append(this._datepicker_container);this._drop_down_container=$("<div>").addClass("calendar_drop_down_container");if(this._properties.show_time){this._drop_down_container.addClass("calendar_time")}else{if(this._properties.date_format=="dd M yy"){this._drop_down_container.addClass("calendar_format_dd_mm_yyyy")}}this._datepicker_container.append(this._drop_down_container);this._calendar_image=$("<span>").addClass("calendar_image");this._date_container=$("<p>").addClass("date_range");this._drop_down_container.append(this._calendar_image,this._date_container);if(this._properties.single_selection!=true){for(var b in this._properties.drop_down_options){this._date_container.text(rdx.i18n.get_string(b));this._update_selected_date(this._properties.drop_down_options[b],b,null,null,null,null);break}}};rdx.calendar_component.prototype._create_dropdown_options=function(){this._dropdown_holder=$("<div>").addClass("datepicker_component_dropdown_holder").hide();this._dropdown_list=$("<ul>").addClass("dropdown");if(this._properties.show_time){if(this.is_show_custom_date()==true){this._dropdown_list.addClass("calendar_time")}}else{if(this._properties.date_format=="dd M yy"){this._dropdown_list.addClass("calendar_format_dd_mm_yyyy")}}this._dropdown_holder.append(this._dropdown_list);this._outer_container=$("<div>").addClass("calendar_outer_container").hide();$(document.body).append(this._outer_container);$(document.body).append(this._dropdown_holder);for(var d in this._properties.drop_down_options){var c=$("<li>").append($("<span>"));$("span",c).text(rdx.i18n.get_string(d));if(this._current_selected_date===d){$("span",c).addClass("selected")}if(d===rdx.form_constants.calendar_component_options.CUSTOM){this._custom_datepicker_element=$("span",c).addClass("Custom-datepicker")}else{c.bind(rdx.events.CLICK,{_this:this,key:d},function(a){a.data._this.fire_change_handler_callback(a.data._this._properties.drop_down_options[a.data.key],a.data.key,null,null,null,null,null,null,true)})}this._dropdown_list.append(c)}};rdx.calendar_component.prototype._create_calendar_container=function(){this._calendar_container=$("<div>").addClass("Datepickerholder").hide();$(document.body).append(this._calendar_container);if(this._properties.single_selection!=true){this._create_calendar_container_range_selection()}else{this._create_calendar_container_single_selection()}};rdx.calendar_component.prototype._create_calendar_container_single_selection=function(){var e=$("<div>").addClass("datepicker-single-calendar");this._calendar_container.css({height:"auto"});this._calendar_container.append(e);this._calendar_container.addClass("single_calendar");if(this._properties.show_time){var d=new rdx.form_field({input_type:rdx.form_constants.TIME,display_label:false,properties:this._properties.time_properties});this._starttime_component=new rdx.time_component(this._calendar_container,d);this._starttime_component.render()}var f=this;this._attach_calendar(e,{onSelect:function(b){b=$.datepicker.formatDate("d M yy",$(this).datepicker("getDate"));var a=null;if(f._properties.show_time){a=f._starttime_component.get_data();f._date_container.text(b+":"+a)}else{f._date_container.text(b)}f.fire_change_handler_callback(b+":"+a,rdx.form_constants.calendar_component_options.CUSTOM,b,null,a,null,null,null);f._hide_calendar()}})};rdx.calendar_component.prototype._create_calendar_container_range_selection=function(){var u=$("<div>").addClass("datepicker");var p=$("<div>").text("Start Date").addClass("calendar_date_text_class");u.append(p);var x=$("<div>").text("End Date").addClass("calendar_date_text_class");var w=$("<div>").addClass("datepicker");w.append(x);var q=$("<div>").addClass("datepicker-buttons");var v=$("<div>").addClass("time-container");this._calendar_container.append(u,w,v,q);if(this._properties.show_time){var s=new rdx.form_field({input_type:rdx.form_constants.TIME,display_label:false});this._starttime_component=new rdx.time_component(v,s);this._starttime_component.render();if(rdx.utils.is_defined(this.get_data()["start_time"])){this._starttime_component.set_data(this.get_data()["start_time"])}this._endtime_component=new rdx.time_component(v,s);this._endtime_component.render();if(rdx.utils.is_defined(this.get_data()["end_time"])){this._endtime_component.set_data(this.get_data()["end_time"])}}this._attach_calendar(u,{minDate:this._properties.oldest_date,defaultDate:rdx.utils.is_defined(this.get_data()["start_date"])?new Date(this.get_data()["start_date"]):null,onSelect:function(a){w.datepicker("option","minDate",a)}});this._attach_calendar(w,{defaultDate:rdx.utils.is_defined(this.get_data()["end_date"])?new Date(this.get_data()["end_date"]):null,maxDate:this._properties.newest_date});var t=this;var o=$("<button/>").addClass("rdx_button rdx_blue_button");o.text(rdx.i18n.get_string("rdx.op_wizard_done_button"));o.bind(rdx.events.CLICK,function(){var m=u.datepicker("getDate");var c=w.datepicker("getDate");m=$.datepicker.formatDate("d M yy",m);c=$.datepicker.formatDate("d M yy",c);var l=true;var h=new Date(m);var b=new Date(c);var z=null;var a=null;if(h.getTime()>b.getTime()){l=false}if(t._properties.show_time){z=t._starttime_component.get_data();a=t._endtime_component.get_data();var g=m+" "+z;var e=new Date(g);var d=c+" "+a;var f=new Date(d);if(e.getTime()>f.getTime()){l=false}if(l){t._date_container.text(m+" "+z+" - "+c+" "+a)}}else{if(l){t._date_container.text(m+" - "+c)}}if(!l){rdx.message_box.error(rdx.i18n.get_string("rdx.check_time_range"));return}if(l){t._hide_calendar();t.fire_change_handler_callback((m+" "+z+" - "+c+" "+a),rdx.form_constants.calendar_component_options.CUSTOM,m,c,z,a,null,null,true)}if(t.is_show_custom_date()==false){t._date_container.text(rdx.i18n.get_string("rdx.Custom"))}});var n=$("<button/>").addClass("rdx_button rdx_grey_button");n.text(rdx.i18n.get_string("rdx.op_wizard_cancel_button"));n.bind(rdx.events.CLICK,function(){t._hide_calendar()});q.append(o,n)};rdx.calendar_component.prototype._offset_calendar_component=function(b){return[parseInt(b.offset().top),parseInt(b.offset().left)]};rdx.calendar_component.prototype._hide_calendar=function(){this._drop_down_container.removeClass("active");this._calendar_hidden=true;if(rdx.utils.is_defined(this._dropdown_holder)&&this._dropdown_holder!==null){this._dropdown_holder.remove()}if(rdx.utils.is_defined(this._calendar_container)&&this._calendar_container!==null){this._calendar_container.remove()}if(rdx.utils.is_defined(this._outer_container)&&this._outer_container!=null){this._outer_container.remove()}this._dropdown_holder=null;this._dropdown_list=null;this._calendar_container=null;this._outer_container=null;var b=this;rdx.mask.unmask_dom_element($(document.body),b._mask_id);$(document).unbind(rdx.events.KEYUP,b._keydown_event_handler)};rdx.calendar_component.prototype._position_calendar_component=function(){var d=this._offset_calendar_component(this._datepicker_container);var f=d[1]+this._datepicker_container.width();var e=null;this._calendar_container.css({position:"absolute"});if(f+this._calendar_container.width()>$(window).width()){this._calendar_container.css({left:d[1]-this._calendar_container.width()-(4*parseInt(this._outer_container.css("borderLeftWidth"),10))});e="left"}else{this._calendar_container.css({left:f+(4*parseInt(this._outer_container.css("borderLeftWidth"),10))});e="right"}this._calendar_container.css({top:d[0]+this._datepicker_container.height()+(4*parseInt(this._outer_container.css("borderLeftWidth"),10))});return e};rdx.calendar_component.prototype._position_for_right_side_calendar=function(d){var c=this._offset_calendar_component(this._datepicker_container);d.css({position:"absolute"});d.css({left:c[1]+parseInt(this._outer_container.css("borderLeftWidth"),10)});d.css({top:c[0]+this._datepicker_container.height()+(parseInt(this._outer_container.css("borderLeftWidth"),10))})};rdx.calendar_component.prototype._position_for_single_calendar=function(d){var c=this._offset_calendar_component(this._datepicker_container);d.css({position:"absolute"});d.css({left:c[1]});d.css({top:c[0]+this._datepicker_container.height()})};rdx.calendar_component.prototype._create_mask=function(){this._mask_id=rdx.mask.get_id();this._calendar_component_mask=rdx.mask.mask_dom_element($(document.body),this._mask_id,"calendar_component_mask");var b=this;$(this._calendar_component_mask[0]).bind(rdx.events.CLICK,function(a){rdx.mask.unmask_dom_element($(document),b._mask_id);$(document.elementFromPoint(a.clientX,a.clientY)).click();b._hide_calendar()});$(document).bind(rdx.events.KEYUP,$.proxy(b._keydown_event_handler,b))};rdx.calendar_component.prototype._keydown_event_handler=function(f){var d=27;var e=f.which||evt.keyCode;if(e==d){this._hide_calendar()}f.stopPropagation()};rdx.calendar_component.prototype._position_outer_container_for_dropdown=function(){var b=this._offset_calendar_component(this._datepicker_container);this._outer_container.css({position:"absolute"});this._outer_container.css({left:b[1]});this._outer_container.css({top:b[0]+this._datepicker_container.height()-1});this._outer_container.width(this._datepicker_container.width()-2);this._outer_container.height(this._dropdown_list.height()+(2*parseInt(this._outer_container.css("borderLeftWidth"),10)));this._outer_container.show()};rdx.calendar_component.prototype._position_outer_container_for_calendar=function(c){var d=null;if(c==="right"){this._outer_container.width(this._outer_container.width()+this._calendar_container.width()+(8*parseInt(this._outer_container.css("borderLeftWidth"),10)));if(this._outer_container.height()<=this._calendar_container.height()){this._outer_container.height(this._calendar_container.height()+(8*parseInt(this._outer_container.css("borderLeftWidth"),10)))}}else{d=this._outer_container.offset();this._outer_container.css({left:d.left-this._calendar_container.width()-(8*parseInt(this._outer_container.css("borderLeftWidth"),10))});this._outer_container.width(this._outer_container.width()+this._calendar_container.width()+(8*parseInt(this._outer_container.css("borderLeftWidth"),10)));if(this._outer_container.height()<=this._calendar_container.height()){this._outer_container.height(this._calendar_container.height()+(8*parseInt(this._outer_container.css("borderLeftWidth"),10)))}}};rdx.calendar_component.prototype._initialize_events=function(c){var d=this;if(rdx.utils.is_defined(c)&&c!=null){if(this._properties.single_selection!=true){c.bind(rdx.events.CLICK,function(a){if(rdx.utils.is_defined(d._calendar_hidden)&&d._calendar_hidden===true){d._calendar_hidden=false;d._create_dropdown_options();d._create_calendar_container();d._initialize_dropdown_calendar_events();c.toggleClass("active");d._position_for_right_side_calendar(d._dropdown_holder);d._dropdown_holder.show();d._position_outer_container_for_dropdown();d._create_mask()}else{d._hide_calendar()}a.stopPropagation()})}else{if(this._properties.single_selection==true){c.bind(rdx.events.CLICK,function(a){if(rdx.utils.is_defined(d._calendar_hidden)&&d._calendar_hidden===true){d._calendar_hidden=false;d._create_calendar_container();c.toggleClass("active");d._position_for_single_calendar(d._calendar_container);d._calendar_container.show();d._create_mask()}else{d._hide_calendar()}a.stopPropagation()})}}}};rdx.calendar_component.prototype._initialize_dropdown_calendar_events=function(){var e=this._dropdown_holder;var f=this;var d=null;if(rdx.utils.is_defined(this._dropdown_holder)&&e!=null){e.bind(rdx.events.CLICK,function(b){if($(b.target).is("span")){var a=$(b.target);if(a[0]===$(f._custom_datepicker_element)[0]){d=f._position_calendar_component();f._calendar_container.toggle();if(f._calendar_container.is(":visible")){f._position_outer_container_for_calendar(d);a.parent().addClass("custom_active")}else{f._position_outer_container_for_dropdown();a.parent().removeClass("custom_active")}}else{if(a.text()!="Configure"){f._date_container.text(a.text())}f._hide_calendar()}}b.stopPropagation()})}};rdx.calendar_component.prototype.fire_change_handler_callback=function(x,u,p,v,o,w,y,z,s){if(u=="rdx.configure"){var t=new rdx.base_view($(rdx.page).empty(),this.get_add_options_configure_view());t.prepare_view()}else{var q=null;q=this._update_selected_date(x,u,p,v,o,w,y,z);if(rdx.utils.is_defined(this._properties.change_handler_callback)){this._properties.change_handler_callback.call_back([q,s])}}};rdx.calendar_component.prototype._update_selected_date=function(F,E,J,D,T,O,U,Q){var S=null;var V=null;var M=null;for(var A in this._selected_date){this._selected_date[A]=null}this._current_selected_date=null;if(E==rdx.form_constants.calendar_component_options.CUSTOM){if((this._properties.single_selection!==true)&&rdx.utils.is_defined(Q)&&rdx.utils.is_defined(U)){this._selected_date.start_date=J;this._selected_date.end_date=D;this._selected_date.start_time=T;this._selected_date.end_time=O;this._selected_date.start_epoch=U;this._selected_date.end_epoch=Q;this._selected_date.duration_value=null;S=this._selected_date;this._current_selected_date=rdx.form_constants.calendar_component_options.CUSTOM}else{if((this._properties.single_selection!==true)&&rdx.utils.is_defined(D)&&rdx.utils.is_defined(J)){this._selected_date.start_date=J;this._selected_date.end_date=D;this._selected_date.start_time=T;this._selected_date.end_time=O;if(this._properties.show_time){var G=J+" "+T;var C=new Date(G);var B=C.getHours();var R=C.getMinutes();var P=C.getSeconds();var K=D+" "+O;var I=new Date(K);var H=I.getHours();var N=I.getMinutes();var L=I.getSeconds();V=this._calculate_epoch_GMT(J,B,R,P,0);M=this._calculate_epoch_GMT(D,H,N,L,999)}else{V=this._calculate_epoch_GMT(J,0,0,0,0);M=this._calculate_epoch_GMT(D,23,59,59,999)}this._selected_date.start_epoch=V;this._selected_date.end_epoch=M;this._selected_date.duration_value=null;S=this._selected_date;this._current_selected_date=rdx.form_constants.calendar_component_options.CUSTOM}else{if((this._properties.single_selection==true)&&rdx.utils.is_defined(U)){this._selected_date.start_date=J;this._selected_date.start_time=T;this._selected_date.start_epoch=U;S=this._selected_date;this._current_selected_date=rdx.form_constants.calendar_component_options.CUSTOM}else{if((this._properties.single_selection===true)&&rdx.utils.is_defined(J)){this._selected_date.start_date=J;this._selected_date.start_time=T;V=this._calculate_epoch_GMT(J,0,0,0,0);this._selected_date.start_epoch=V;S=this._selected_date;this._current_selected_date=rdx.form_constants.calendar_component_options.CUSTOM}}}}}else{S=this._date_picker(E)}return S};rdx.calendar_component.prototype._calculate_epoch_GMT=function(q,l,p,m,h){var n=q.split(" ");if(n.length==3){var o=new Date(parseInt(n[2]),rdx.utils.get_month_index(n[1])-1,parseInt(n[0]),l,p,m,h);return o.getTime()}};rdx.calendar_component.prototype._date_picker=function(h){var e=null;var f=null;var g=new Date();if(h===rdx.form_constants.calendar_component_options.TODAY){e=this._date_formatter(Date.today(),Date.today());this._selected_date.duration_value=this._properties.drop_down_options[rdx.form_constants.calendar_component_options.TODAY];this._current_selected_date=rdx.form_constants.calendar_component_options.TODAY}else{if(h===rdx.form_constants.calendar_component_options.LAST_HOUR){f=new Date().add(-1).hours();e=this._date_formatter(f,new Date());this._selected_date.duration_value=this._properties.drop_down_options[rdx.form_constants.calendar_component_options.LAST_HOUR];this._current_selected_date=rdx.form_constants.calendar_component_options.LAST_HOUR}else{if(h===rdx.form_constants.calendar_component_options.LAST_DAY){f=new Date().add(-1).days();e=this._date_formatter(f,new Date());this._selected_date.duration_value=this._properties.drop_down_options[rdx.form_constants.calendar_component_options.LAST_DAY];this._current_selected_date=rdx.form_constants.calendar_component_options.LAST_DAY}else{if(h===rdx.form_constants.calendar_component_options.LAST_WEEK){f=new Date().add(-7).days();e=this._date_formatter(f,new Date());this._selected_date.duration_value=this._properties.drop_down_options[rdx.form_constants.calendar_component_options.LAST_WEEK];this._current_selected_date=rdx.form_constants.calendar_component_options.LAST_WEEK}else{if(h===rdx.form_constants.calendar_component_options.LAST_MONTH){f=new Date().add(-1).months();e=this._date_formatter(f,new Date());this._selected_date.duration_value=this._properties.drop_down_options[rdx.form_constants.calendar_component_options.LAST_MONTH];this._current_selected_date=rdx.form_constants.calendar_component_options.LAST_MONTH}else{if(h===rdx.form_constants.calendar_component_options.LAST_1_QUARTER){f=new Date().add(-3).months();e=this._date_formatter(f,new Date());this._selected_date.duration_value=this._properties.drop_down_options[rdx.form_constants.calendar_component_options.LAST_1_QUARTER];this._current_selected_date=rdx.form_constants.calendar_component_options.LAST_1_QUARTER}else{if(h===rdx.form_constants.calendar_component_options.LAST_6_MONTH){f=new Date().add(-6).months();e=this._date_formatter(f,new Date());this._selected_date.duration_value=this._properties.drop_down_options[rdx.form_constants.calendar_component_options.LAST_6_MONTH];this._current_selected_date=rdx.form_constants.calendar_component_options.LAST_6_MONTH}else{if(h===rdx.form_constants.calendar_component_options.LAST_1_YEAR){f=new Date().add(-1).years();e=this._date_formatter(f,new Date());this._selected_date.duration_value=this._properties.drop_down_options[rdx.form_constants.calendar_component_options.LAST_1_YEAR];this._current_selected_date=rdx.form_constants.calendar_component_options.LAST_1_YEAR}else{if(h===rdx.form_constants.calendar_component_options.LAST_5_YEARS){f=new Date().add(-5).years();e=this._date_formatter(f,new Date());this._selected_date.duration_value=this._properties.drop_down_options[rdx.form_constants.calendar_component_options.LAST_5_YEARS];this._current_selected_date=rdx.form_constants.calendar_component_options.LAST_5_YEARS}else{if(h===rdx.form_constants.calendar_component_options.LAST_10_YEARS){f=new Date().add(-10).years();e=this._date_formatter(f,new Date());this._selected_date.duration_value=this._properties.drop_down_options[rdx.form_constants.calendar_component_options.LAST_10_YEARS];this._current_selected_date=rdx.form_constants.calendar_component_options.LAST_10_YEARS}else{if(h===rdx.form_constants.calendar_component_options.LAST_5_MINUTES){this._selected_date.duration_value=this._properties.drop_down_options[rdx.form_constants.calendar_component_options.LAST_5_MINUTES];e=this._selected_date;this._current_selected_date=rdx.form_constants.calendar_component_options.LAST_5_MINUTES}else{if(h===rdx.form_constants.calendar_component_options.LAST_1_HOUR){e=this._date_formatter(Date.today().add(-1).hours(),Date.today());this._selected_date.duration_value=this._properties.drop_down_options[rdx.form_constants.calendar_component_options.LAST_1_HOUR];this._current_selected_date=rdx.form_constants.calendar_component_options.LAST_1_HOUR}else{if(h===rdx.form_constants.calendar_component_options.LAST_12_HOURS){e=this._date_formatter(Date.today().add(-12).hours(),Date.today());this._selected_date.duration_value=this._properties.drop_down_options[rdx.form_constants.calendar_component_options.LAST_12_HOURS];this._current_selected_date=rdx.form_constants.calendar_component_options.LAST_12_HOURS}}}}}}}}}}}}}if(rdx.utils.is_defined(f)){this._selected_date.start_epoch=f.getTime()}if(rdx.utils.is_defined(g)){this._selected_date.end_epoch=g.getTime()}return e};rdx.calendar_component.prototype._date_formatter=function(d,c){this._selected_date.start_date=d.toString(this._properties.date_format);this._selected_date.end_date=c.toString(this._properties.date_format);this._selected_date.start_epoch=null;this._selected_date.end_epoch=null;return this._selected_date};rdx.calendar_component.prototype._offset_calculation_for_timezones=function(b){return b};rdx.calendar_component.prototype.is_show_custom_date=function(){return this._properties.show_custom_date};rdx.calendar_component.prototype._attach_calendar=function(g,f){var h=this;var l=null;var m={changeMonth:true,changeYear:true,dateFormat:this._properties.date_format};l=$.extend(true,{},m,f);g.datepicker(l)};rdx.calendar_component.prototype._set_date_object=function(p,m,o){var l=null;var n=null;var q=null;var s=null;if(rdx.utils.is_defined(p.duration_value)){for(var t in this._properties.drop_down_options){if(this._properties.drop_down_options[t]===p.duration_value){this._date_container.text(rdx.i18n.get_string(t));if(rdx.utils.is_defined(m)&&m==true){this.fire_change_handler_callback(this._properties.drop_down_options[t],t,null,null,null,null,null,null,o)}else{this._update_selected_date(this._properties.drop_down_options[t],t,null,null,null,null,null,null)}}}}else{if(this._properties.single_selection===false&&(rdx.utils.is_defined(p.start_epoch))&&rdx.utils.is_defined(p.end_epoch)){l=new Date(this._offset_calculation_for_timezones(p.start_epoch)).toString("MM DD YYYY");n=new Date(this._offset_calculation_for_timezones(p.end_epoch)).toString("MM DD YYYY");if(this._properties.show_time){if(rdx.utils.is_defined(this._starttime_component)&&rdx.utils.is_defined(this._endtime_component)){q=this._starttime_component.get_data();s=this._endtime_component.get_data()}else{q=p.start_time;s=p.end_time}this._date_container.text(l+":"+q+"-"+n+":"+s)}else{this._date_container.text(l+"-"+n)}if(this.is_show_custom_date()==false&&p.duration_value==null){this._date_container.text(rdx.i18n.get_string("rdx.Custom"))}else{this._date_container.text(rdx.i18n.get_string(this._properties[p.duration_value]))}if(rdx.utils.is_defined(m)&&m==true){this.fire_change_handler_callback((l+"-"+n),rdx.form_constants.calendar_component_options.CUSTOM,l,n,q,s,p.start_epoch,p.end_epoch,o)}else{this._update_selected_date((l+"-"+n),rdx.form_constants.calendar_component_options.CUSTOM,l,n,q,s,p.start_epoch,p.end_epoch)}}else{if((rdx.utils.is_defined(p.start_date)&&rdx.utils.is_defined(p.end_date))&&this._properties.single_selection===false){if(Date.parseExact(p.start_date,this._properties.date_format)!=null&&Date.parseExact(p.end_date,this._properties.date_format)!=null){if(this._properties.show_time){q=this._starttime_component.get_data();s=this._endtime_component.get_data();this._date_container.text(p.start_date+":"+q+"-"+p.end_date+":"+s)}else{this._date_container.text(p.start_date+"-"+p.end_date)}if(rdx.utils.is_defined(m)&&m==true){this.fire_change_handler_callback((p.start_date+"-"+p.end_date),rdx.form_constants.calendar_component_options.CUSTOM,p.start_date,p.end_date,q,s,null,null,o)}else{this._update_selected_date((p.start_date+"-"+p.end_date),rdx.form_constants.calendar_component_options.CUSTOM,p.start_date,p.end_date,q,s,null,null)}}}else{if((this._properties.single_selection===true)&&rdx.utils.is_defined(p.start_date)){if(Date.parseExact(p.start_date,this._properties.date_format)!=null){if(this._properties.show_time){q=this._starttime_component.get_data();this._date_container.text(p.start_date+":"+q)}else{this._date_container.text(p.start_date)}if(rdx.utils.is_defined(m)&&m==true){this.fire_change_handler_callback(p.start_date,rdx.form_constants.calendar_component_options.CUSTOM,p.start_date,null,q,null,null,null,o)}else{this._update_selected_date(p.start_date,rdx.form_constants.calendar_component_options.CUSTOM,p.start_date,null,q,null,null,null)}}}else{if((this._properties.single_selection===true)&&rdx.utils.is_defined(p.start_epoch)){l=new Date(this._offset_calculation_for_timezones(p.start_epoch)).toString(this._properties.date_format);if(this._properties.show_time){q=this._starttime_component.get_data();this._date_container.text(l+":"+q)}else{this._date_container.text(l)}if(rdx.utils.is_defined(m)&&m==true){this.fire_change_handler_callback(l,rdx.form_constants.calendar_component_options.CUSTOM,l,null,q,null,p.start_epoch,null,o)}else{this._update_selected_date(l,rdx.form_constants.calendar_component_options.CUSTOM,l,null,q,null,p.start_epoch,null)}}else{if((this._properties.single_selection===true)&&p&&Date.parse(p)!==null){this._date_container.text(p);this.fire_change_handler_callback(p,rdx.form_constants.calendar_component_options.CUSTOM,p,null,null,null,null,null)}}}}}}};rdx.time_component=function(d,c){this._parent=d;this._field=c;this._DEFAULT_PROPERTIES={hour_format_24:false,default_time:true,show_seconds:true};this._properties=$.extend({},this._DEFAULT_PROPERTIES,c.get_properties());this._timepicker_container=null;this._time_container=null;this._timepicker_row=null;this._time=null;this._hour_textbox=null;this._minute_textbox=null;this._second_textbox=null;this._ampm_textbox=null;this._focus=null;this._type=null;this._single_digit=10;this._max_hours_is_24=23;this._max_hour_is_12=11;this._max_mints_sec=59;this._default_time=new Date();this.class_names="time_component"};rdx.time_component.prototype.render=function(){this._create_timepicker();return this};rdx.time_component.prototype.get_component_type=function(){return rdx.form_constants.TIME};rdx.time_component.prototype.get_component=function(){return this._time_component};rdx.time_component.prototype.get_field=function(){return this._field};rdx.time_component.prototype.get_data=function(){var d=this._properties.hour_format_24;var c=this._properties.show_seconds;if(d==false&&c==true){return this._hour_textbox.val()+":"+this._minute_textbox.val()+":"+this._second_textbox.val()+" "+this._ampm_textbox.val()}else{if(d==false&&c==false){return this._hour_textbox.val()+":"+this._minute_textbox.val()+" "+this._ampm_textbox.val()}else{if(d==true&&c==true){return this._hour_textbox.val()+":"+this._minute_textbox.val()+":"+this._second_textbox.val()}else{if(d==true&&c==false){return this._hour_textbox.val()+":"+this._minute_textbox.val()}}}}};rdx.time_component.prototype.set_data=function(p){var l=this._properties.hour_format_24;var n=this._properties.show_seconds;var q,o,s;if(rdx.utils.is_defined(p)){var m=p.split(":");if(l==true){if(n==true){q=parseInt(m[0])=="NaN"?" ":m[0];o=parseInt(m[1])=="NaN"?" ":m[1];s=parseInt(m[2])=="NaN"?" ":m[2];this._hour_textbox.val(q);this._minute_textbox.val(o);this._second_textbox.val(s)}else{q=parseInt(m[0])=="NaN"?" ":m[0];o=parseInt(m[1])=="NaN"?" ":m[1];this._hour_textbox.val(q);this._minute_textbox.val(o)}}else{if(n==true){if(rdx.utils.is_defined(m[2])){var t=m[2].split(" ");q=parseInt(m[0])=="NaN"?" ":m[0];o=parseInt(m[1])=="NaN"?" ":m[1];s=parseInt(t[0])=="NaN"?" ":t[0];this._hour_textbox.val(q);this._minute_textbox.val(o);this._second_textbox.val(s);this._ampm_textbox.val(t[1])}if(q>11){q=q%12}}else{if(rdx.utils.is_defined(m[1])){var t=m[1].split(" ");q=parseInt(m[0])=="NaN"?" ":m[0];o=parseInt(t[0])=="NaN"?" ":t[0];if(q>11){q=q%12}this._hour_textbox.val(q);this._minute_textbox.val(o);this._ampm_textbox.val(t[1])}}}}};rdx.time_component.prototype.pad_zero=function(c){var d="0";return d.concat(c)};rdx.time_component.prototype._set_value_on_blur=function(c){var d=c.target.value;if(d==""){c.target.value="00"}else{if(parseInt(d)<c.data._this._single_digit){d=parseInt(d);d=c.data._this.pad_zero(d);c.target.value=d}}};rdx.time_component.prototype.set_am_pm=function(d,c){if(c=="AM"){d.data._this._ampm_textbox.attr("value","PM")}else{d.data._this._ampm_textbox.attr("value","AM")}return};rdx.time_component.prototype.bind_hour=function(){var e=this._properties.default_time;var g=this._properties.hour_format_24;var f=this._default_time.getHours();var h=f%12;if(parseInt(h)<this._single_digit){h=this.pad_zero(h)}if(parseInt(f)<this._single_digit){f=this.pad_zero(f)}this._hour_textbox=$("<input>");this._hour_textbox.attr("type","text");if(e==false){if(g==false){this._hour_textbox.attr("placeholder","hh").addClass("textbox_attr")}else{this._hour_textbox.attr("placeholder","hh").addClass("textbox_attr")}}else{if(e==true){if(g==false){this._hour_textbox.attr("value",h).addClass("textbox_attr")}else{this._hour_textbox.attr("value",f).addClass("textbox_attr")}}}this._hour_textbox.bind(rdx.events.KEYDOWN,{type:"hour",is_24_hour_format:this._properties.hour_format_24,_this:this},this._handle_key_down);this._hour_textbox.bind(rdx.events.KEYUP,{type:"hour",is_24_hour_format:this._properties.hour_format_24,_this:this},this._handle_key_up);this._hour_textbox.bind(rdx.events.BLUR,{type:"hour",_this:this},this._on_blur)};rdx.time_component.prototype.bind_minutes=function(){var d=this._properties.default_time;var f=this._properties.hour_format_24;var e=this._default_time.getMinutes();if(parseInt(e)<this._single_digit){e=this.pad_zero(e)}this._minute_textbox=$("<input>");this._minute_textbox.attr("type","text");if(this._properties.default_time==false){this._minute_textbox.attr("placeholder","mm").addClass("textbox_attr")}else{this._minute_textbox.attr("value",e).addClass("textbox_attr")}this._minute_textbox.bind(rdx.events.KEYDOWN,{type:"minute",_this:this},this._handle_key_down);this._minute_textbox.bind(rdx.events.KEYUP,{type:"minute",_this:this},this._handle_key_up);this._minute_textbox.bind(rdx.events.BLUR,{type:"minute",_this:this},this._on_blur)};rdx.time_component.prototype.bind_seconds=function(){var e=this._properties.default_time;var f=this._properties.hour_format_24;var d=this._default_time.getSeconds();if(parseInt(d)<this._single_digit){d=this.pad_zero(d)}this._second_textbox=$("<input>");this._second_textbox.attr("type","text");if(e==false){this._second_textbox.attr("placeholder","ss").addClass("textbox_attr")}else{this._second_textbox.attr("value",d).addClass("textbox_attr")}this._second_textbox.bind(rdx.events.KEYDOWN,{type:"second",_this:this},this._handle_key_down);this._second_textbox.bind(rdx.events.KEYUP,{type:"second",_this:this},this._handle_key_up);this._second_textbox.bind(rdx.events.BLUR,{type:"second",_this:this},this._on_blur)};rdx.time_component.prototype.bind_am_pm=function(){var b=this._default_time.getHours();this._ampm_textbox=$("<input>");this._ampm_textbox.attr("type","text");if(this._properties.default_time==true){if(parseInt(b)>=12){this._ampm_textbox.attr("value","PM").addClass("textbox_attr")}else{this._ampm_textbox.attr("value","AM").addClass("textbox_attr")}}else{this._ampm_textbox.attr("value","AM").addClass("textbox_attr")}this._ampm_textbox.bind(rdx.events.KEYDOWN,{type:"am_pm"},this._handle_key_down);this._ampm_textbox.bind(rdx.events.KEYUP,{type:"am_pm"},this._handle_key_up);this._ampm_textbox.bind(rdx.events.BLUR,{type:"am_pm",_this:this},this._on_blur)};rdx.time_component.prototype._on_blur=function(c){var d;if(c.data.type=="hour"){c.data._this._focus="hour";c.data._this._type="hour";c.data._this._set_value_on_blur(c)}else{if(c.data.type=="minute"){c.data._this._focus="minute";c.data._this._type="minute";c.data._this._set_value_on_blur(c)}else{if(c.data.type=="second"){c.data._this._focus="second";c.data._this._type="second";c.data._this._set_value_on_blur(c)}else{if(c.data.type=="am_pm"){c.data._this._focus="am_pm";c.data._this._type="am_pm"}}}}};rdx.time_component.prototype._handle_click_to_increase_value=function(h){var e;var f=h.data._this._focus;if(rdx.utils.is_not_defined(f)){h.data._this._type="hour"}var g=h.data._this._properties.hour_format_24;if(h.data._this._type=="hour"){e=h.data._this._hour_textbox.val();if(g){if(parseInt(e)>=h.data._this._max_hours_is_24){e=0}else{e++}}else{if(parseInt(e)>=h.data._this._max_hour_is_12){e=0}else{e++}}h.data._this._hour_textbox.focus();if(parseInt(e)<10){e=h.data._this.pad_zero(e)}h.data._this._hour_textbox.attr("value",e)}else{if(h.data._this._type=="minute"){e=h.data._this._minute_textbox.val();if(parseInt(e)>=h.data._this._max_mints_sec){e=0}else{e++}h.data._this._minute_textbox.focus();if(parseInt(e)<h.data._this._single_digit){e=h.data._this.pad_zero(e)}h.data._this._minute_textbox.attr("value",e)}else{if(h.data._this._type=="second"){e=h.data._this._second_textbox.val();if(parseInt(e)>=h.data._this._max_mints_sec){e=0}else{e++}h.data._this._second_textbox.focus();if(parseInt(e)<h.data._this._single_digit){e=h.data._this.pad_zero(e)}h.data._this._second_textbox.attr("value",e)}else{if(h.data._this._type=="am_pm"){value=h.data._this._ampm_textbox.val();h.data._this._ampm_textbox.focus();h.data._this.set_am_pm(h,value)}}}}};rdx.time_component.prototype._handle_click_to_decrease_value=function(h){var e;var f=h.data._this._focus;if(rdx.utils.is_not_defined(f)){h.data._this._type="hour"}var g=h.data._this._properties.hour_format_24;if(h.data._this._type=="hour"){e=h.data._this._hour_textbox.val();if(g){if(parseInt(e)==0){e=h.data._this._max_hours_is_24}else{e--}}else{if(parseInt(e)==0){e=h.data._this._max_hour_is_12}else{e--}}h.data._this._hour_textbox.focus();if(parseInt(e)<h.data._this._single_digit){e=h.data._this.pad_zero(e)}h.data._this._hour_textbox.attr("value",e)}else{if(h.data._this._type=="minute"){e=h.data._this._minute_textbox.val();if(parseInt(e)==0){e=h.data._this._max_mints_sec}else{e--}h.data._this._minute_textbox.focus();if(parseInt(e)<h.data._this._single_digit){e=h.data._this.pad_zero(e)}h.data._this._minute_textbox.attr("value",e)}else{if(h.data._this._type=="second"){e=h.data._this._second_textbox.val();if(parseInt(e)==0){e=h.data._this._max_mints_sec}else{e--}h.data._this._second_textbox.focus();if(parseInt(e)<h.data._this._single_digit){e=h.data._this.pad_zero(e)}h.data._this._second_textbox.attr("value",e)}else{if(h.data._this._type=="am_pm"){value=h.data._this._ampm_textbox.val();h.data._this._ampm_textbox.focus();h.data._this.set_am_pm(h,value)}}}}};rdx.time_component.prototype.append_time_picker=function(){var m=$("<span>").append(":").addClass("colon_span");var f=$("<span>").append(":").addClass("colon_span");var h=$("<input>");h.attr("type","button");var g=$("<input>");g.attr("type","button");var l=$("<span/>").append(h,g).addClass("time_component_spinner");h.bind(rdx.events.CLICK,{_this:this,is_24_hour_format:this._properties.hour_format_24},this._handle_click_to_increase_value);g.bind(rdx.events.CLICK,{_this:this,is_24_hour_format:this._properties.hour_format_24},this._handle_click_to_decrease_value);if(this._properties.show_seconds!=true){if(this._properties.hour_format_24!=true){this._time.append(this._hour_textbox,m,this._minute_textbox,this._ampm_textbox,l)}else{this._time.append(this._hour_textbox,m,this._minute_textbox,l)}}else{if(this._properties.hour_format_24!=true){this._time.append(this._hour_textbox,m,this._minute_textbox,f,this._second_textbox,this._ampm_textbox,l)}else{this._time.append(this._hour_textbox,m,this._minute_textbox,f,this._second_textbox,l)}}};rdx.time_component.prototype._create_timepicker=function(){this._timepicker_container=$("<table>").addClass("time_component");this._parent.append(this._timepicker_container);this._timepicker_row=$("<tr>");this._timepicker_container.append(this._timepicker_row);this._time=$("<td>").addClass("first_column");this._timepicker_row.append(this._time);this.bind_hour();this.bind_minutes();this.bind_seconds();this.bind_am_pm();this.append_time_picker()};rdx.time_component.prototype._handle_key_down=function(B){var q=$(this);var w=q.val();var C=parseInt(w);var v=B.data.is_24_hour_format;var z=B.keyCode;var t=B.data.type;var u="0";var s;if(z>=rdx.keycodes.NUMPAD_ZERO&&z<=rdx.keycodes.NUMPAD_NINE){z=z-48;s=String.fromCharCode(z)}else{s=String.fromCharCode(B.which)}var y=w.concat(s);var A=w.length;var D=B.target;var x=String.fromCharCode(B.target.value)==""?0:parseInt(y);if(!((B.keyCode>=rdx.keycodes.ZERO&&B.keyCode<=rdx.keycodes.NINE)||(B.keyCode>=rdx.keycodes.NUMPAD_ZERO&&B.keyCode<=rdx.keycodes.NUMPAD_NINE)||B.keyCode==rdx.keycodes.BACKSPACE||B.keyCode==rdx.keycodes.TAB||B.keyCode==rdx.keycodes.DELETE)){return false}if(A>2&&((B.keyCode!=rdx.keycodes.BACKSPACE&&B.keyCode!=rdx.keycodes.TAB&&B.keyCode!=rdx.keycodes.DELETE))){return false}else{if(t=="hour"){if(v){if(parseInt(x)>B.data._this._max_hours_is_24){return false}}else{if(parseInt(x)>B.data._this._max_hour_is_12){return false}}}else{if(t=="minute"){if(parseInt(x)>B.data._this._max_mints_sec){return false}}else{if(t=="second"){if(parseInt(x)>B.data._this._max_mints_sec){return false}}else{if(t=="am_pm"){if((s!="AM"||s!="PM")&&B.keyCode!=rdx.keycodes.TAB){return false}}}}}}return true};rdx.time_component.prototype._handle_key_up=function(y){if(rdx.utils.is_defined(y)){var v=(y.keyCode==rdx.keycodes.UP_ARROW)?true:false;var x=(y.keyCode==rdx.keycodes.DOWN_ARROW)?true:false;var z=y.target;var w=y.target.value==""?0:parseInt(y.target.value);var u=y.data.is_24_hour_format;var o=0;var p=0;var t="0";var s=y.target.value;if(rdx.utils.is_defined(y.data)&&rdx.utils.is_defined(z)){var q=y.data.type;if(rdx.utils.is_defined(y.data.type)){if(q=="hour"){if(v){if(u){if(parseInt(w)>=y.data._this._max_hours_is_24){o=0}else{o=w+1}}else{if(parseInt(w)>=y.data._this._max_hour_is_12){o=0}else{o=w+1}}if(parseInt(o)<y.data._this._single_digit){o=o.toString();o=t.concat(o);z.value=o}else{z.value=o}}else{if(x){if(u){if(parseInt(w)==0){p=y.data._this._max_hours_is_24}else{if(parseInt(w)>y.data._this._max_hours_is_24){p=0}else{p=w-1}}}else{if(parseInt(w)==0){p=y.data._this._max_hour_is_12}else{if(parseInt(w)>y.data._this._max_hour_is_12){p=0}else{p=w-1}}}if(parseInt(p)<y.data._this._single_digit){p=p.toString();p=t.concat(p);z.value=p}else{z.value=p}}}}else{if(q=="minute"||q=="second"){if(v){if(parseInt(w)>=y.data._this._max_mints_sec){o=0}else{o=w+1}if(parseInt(o)<y.data._this._single_digit){o=o.toString();o=t.concat(o);z.value=o}else{z.value=o}}else{if(x){if(parseInt(w)==0){p=y.data._this._max_mints_sec}else{if(parseInt(w)>y.data._this._max_mints_sec){p=0}else{p=w-1}}if(parseInt(p)<y.data._this._single_digit){p=p.toString();p=t.concat(p);z.value=p}else{z.value=p}}}}else{if(q=="am_pm"){if(!(u)){if(x||v){if(s==""){s="PM"}if((y.keyCode==rdx.keycodes.BACKSPACE||y.keyCode==rdx.keycodes.TAB)&&(s=="AM"||s=="PM"||s=="")){s=s}else{if(s=="PM"){s="AM"}else{if(s=="AM"){s="PM"}}}z.value=s}}}}}}}y.preventDefault();y.stopPropagation()}else{return true}};rdx.time_slider=function(d,c){this._parent=d;this._field=c;this._DEFAULT_PROPERTIES={option:{bounds:{min:(12).months().ago(),max:new Date()},defaultValues:{min:(12).months().ago(),max:new Date()},durationIn:null,durationOut:null,enabled:true,formatter:function(b){var a=b.getDate();var o=rdx.utils.get_month_name(b.getMonth());var p=b.getFullYear();var t=b.getHours();var q=b.getMinutes();var n=b.getSeconds();var s=a+" "+o+" "+p+" "+rdx.utils.get_value_in_two_digits(t)+":"+rdx.utils.get_value_in_two_digits(q)+":"+rdx.utils.get_value_in_two_digits(n)+" ";return s},steps:"minutes",valueLabels:"change"},valuesChanged:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,c.get_properties());this._slider=null};rdx.time_slider.prototype.render=function(){this._slider=this._parent.dateRangeSlider(this._properties.option)};rdx.time_slider.prototype.get_component_type=function(){return rdx.form_constants.TIME_SLIDER};rdx.time_slider.prototype.get_data=function(){var g=this._parent.dateRangeSlider("values");var h=g.min;var e=g.max;var f={start_date:h,start_epoch:h.getTime(),end_date:e,end_epoch:e.getTime()};return f};rdx.time_slider.prototype.set_data=function(b){if(rdx.utils.is_defined(b)){this.reset_bounds(b.min,b.max);this.reset_default_bounds(b.default_min,b.default_max)}};rdx.time_slider.prototype.get_component=function(){return this._slider};rdx.time_slider.prototype.get_field=function(){return this._field};rdx.time_slider.prototype.set_min_bound=function(b){this._properties.option.bounds.min=b};rdx.time_slider.prototype.set_max_bound=function(b){this._properties.option.bounds.max=b};rdx.time_slider.prototype.set_default_min_bound=function(b){this._properties.option.defaultValues.min=b};rdx.time_slider.prototype.set_default_max_bound=function(b){this._properties.option.defaultValues.max=b};rdx.time_slider.prototype.destroy=function(){this._parent.dateRangeSlider("destroy")};rdx.time_slider.prototype.reset_bounds=function(c,d){this.destroy();if(rdx.utils.is_defined(c)){this.set_min_bound(new Date(c))}if(rdx.utils.is_defined(d)){this.set_max_bound(new Date(d))}this.render()};rdx.time_slider.prototype.reset_default_bounds=function(c,d){this.destroy();if(rdx.utils.is_defined(c)){this.set_default_min_bound(new Date(c))}if(rdx.utils.is_defined(d)){this.set_default_max_bound(new Date(d))}this.render()};rdx.regex_field=function(d,c){this._parent=d;this._field=c;this._DEFAULT_PROPERTIES={standalone:true};this._properties=$.extend({},this._DEFAULT_PROPERTIES,c.get_properties());this._component=null;this._data=null;this._text_area=null;this._regex_textarea=null;this._regex_options=null;this._result_span=null;this._subject_string_area=null;this._match_container=null;this._token_map={"Zero or one of a":"a?","Zero or more of a":"ba*","One or more of a":"a+","Exactly n of a":"a{n}","n or more of a":"a{n,}","Between m and n of a":"a{m,n}","Greedy quantifier":"a*","Lazy quantifier":"a*?","Possessive quantifier":"a*+","Start of match":"\\G","Start of string":"^","End of string":"$","Start of string(multiline mode)":"\\A","End of string(multiline mode)":"\\Z","Absolute end of string":"\\z","A word boundary":"\\b","Non-word boundary":"\\B","A single character of: a, b or c":"[abc]","A character except: a, b or c":"[^abc]","A character in the range: a-z":"[a-z]","A character not in the range: a-z":"[^a-z]","A character in the range: a-z or A-Z":"[a-zA-Z]","Any single character":".","Any whitespace character":"\\s","Any non-whitespace character":"\\S","Any digit":"\\d","Any non-digit":"\\D","Any word character":"\\w","Any non-word character":"\\W","Any unicode sequences":"\\X","Capture everything enclosed":"(...)","Match either a or b":"(a|b)","Match everything enclosed":"(?:...)","Atomic group":"(?>...)","Duplicate subpattern group":"(?|...)",Comment:"(?#...)","Named capturing group":"(?'name'...)","Named capturing group(alternate)":"(?<name>...)","Inline modifiers":"(?imsxXU)","Conditional statement":"(?(...)|)","Recurse entire pattern":"(?R)","Recurse first subpattern":"(?1)","Recurse first relative subpattern":"(?+1)","Positive lookahead":"(?=...)","Negative lookahead":"(?!...)","Positive lookbehind":"(?<=...)","Negative lookbehind":"(?<!...)",Newline:"\\n","Carriage return":"\\r",Tab:"\\t","Null character":"\\0","Match one byte":"\\C","Unicode newlines":"\\R","Vertical whitespace character":"\\v","Negation of \\v":"\\V","Horizontal whitespace character":"\\h","Negation of \\h":"\\H","Reset match":"\\K","Match nth subpattern":"\\n","Unicode property X":"\\pX","Unicode property":"\\p{...}","Negation of \\p":"\\PX","Negation of any \\p":"\\P{...}","Quote; treat as literals":"\\Q...\\E","Match subpattern `name`":"\\k<name>","Match subpattern `name`(alternate)":"\\k{name}","Match nth group subpattern":"\\gn","Match nth group subpattern(alternate)":"\\g{n}","Match nth relative subpattern":"\\g{-n}","Recurse subpattern `name`":"\\g'name'","Recurse nth subpattern":"\\g<n>","Recurse nth subpattern(alternate)":"\\g<+n>","Hex character YY":"\\xYY","Hex character YYYY":"\\x{YYYY}","Octal character ddd":"\\ddd","Control character Y":"\\cY","Backspace character":"[\\b]","Makes any character literal":"\\","Letters and digits":"[[:alnum:]]",Letters:"[[:alpha:]]","Ascii codes 0-127":"[[:ascii:]]","Space or tab only":"[[:blank:]]","Control characters":"[[:cntrl:]]","Decimal digits":"[[:digit:]]","Visible characters (not space)":"[[:graph:]]","Lowercase letters":"[[:lower:]]","Visible characters":"[[:print:]]","Visible punctuation characters":"[[:punct:]]",Whitespace:"[[:space:]]","Uppercase letters":"[[:upper:]]","Word characters":"[[:word:]]","Hexadecimal digits":"[[:xdigit:]]",Verbs:"(*UTF16)",Multiline:"m","Case insensitive":"i","Ignore whitespace":"x","Single line":"s",Unicode:"u",eXtended:"X",Ungreedy:"U",Anchor:"A"};this._modifier_array=["m","i","x","s","u","X","U","A"];this._resource_name="regex_evaluator"};rdx.regex_field.prototype.render=function(){this._component=$("<div>").addClass("regex_field");this._render_textarea_and_link();this._parent.append(this._component);return this};rdx.regex_field.prototype._render_textarea_and_link=function(){var c=$.extend({},{},this._field._properties);c.input_type=rdx.form_constants.TEXT_AREA;c.add_link={click_handler_callback:new rdx.callback(this,this.show_regex_editor),label:rdx.i18n.get_string("rdx.regex_editor_label"),tooltip:rdx.i18n.get_string("rdx.regex_editor_tooltip")};var d=new rdx.form_field(c);this._text_area=new rdx.text_area(this._component,d).render();this._text_area.get_component().attr("spellcheck",false)};rdx.regex_field.prototype.show_regex_editor=function(l,g){var m=$("<div>").addClass("regex-container");if(rdx.utils.is_defined(g)){this._create_regex_editor(m,g)}else{var h=this._text_area.get_data();this._create_regex_editor(m,this._text_area,h)}var f=this;if(!rdx.page.is_slider_visible()){slider_container=rdx.page.show_slider({});slider_container.show()}this._regex_editor_container_div=rdx.page.get_slider_crumb().crumb.add_container(rdx.i18n.get_string("rdx.regex_editor_label"),m)};rdx.regex_field.prototype._create_regex_editor=function(Z,O,ak){var M=this;var ah=$("<div>").addClass("left-regex-container");var H=$("<div>").addClass("regular-expression");var P=$("<div>").addClass("regular-expression-header").append(rdx.i18n.get_string("rdx.regular_expression"));this._regex_textarea=$("<textarea />").addClass("regex-textarea").attr({autofocus:"autofocus",placeholder:rdx.i18n.get_string("rdx.regex_placeholder"),rows:"1",tabindex:"1",spellcheck:false});this._regex_textarea.val(ak);this._regex_textarea.bind("keydown",{regex_editor:this},function(a){M._restore_message_status(a)});this._regex_textarea.bind("paste",{regex_editor:this},function(a){M._restore_message_status(a)});this._regex_options=$("<input />").addClass("regex-options-input").attr({type:"text",placeholder:"mixXsuUA",size:"20",tabindex:"2",value:""});var ag=$("<span>").addClass("start-regex").append("/");var W=$("<span>").addClass("end-regex").append("/");var V=$("<div>").addClass("clearfix").append(ag).append(this._regex_textarea).append(W).append(this._regex_options);H.append(P);H.append(V);var S=$("<div>").addClass("subject-string");var ai=$("<div>").addClass("subject-string-header");this._result_span=$("<span>").addClass("message").addClass("no-match");this._result_span.append(rdx.i18n.get_string("rdx.not_matched_label"));this._result_span.hide();var T=$("<div>").addClass("subject-string-text").append("Subject String");ai.append(T);ai.append(this._result_span);this._subject_string_area=$("<div>").addClass("subject-string-textarea").attr({contenteditable:true,spellcheck:false});this._subject_string_area.bind("keydown",{regex_editor:this},function(a){M._remove_all_elements(a)});this._subject_string_area.bind("paste",{regex_editor:this},function(a){M._remove_all_elements(a)});var aa=$("<div>").addClass("evaluate-button-bar");var K=new rdx.button_bar(aa,new rdx.form_field({properties:{add_grey_button:true,grey_button_label:rdx.i18n.get_string("rdx.expression_evaluator.title"),grey_button_click_handler_callback:new rdx.callback(this,this._evaluate_regex)}})).render();S.append(ai);S.append(this._subject_string_area);S.append(aa);ah.append(H);ah.append(S);var Q=$("<div>").addClass("right-regex-container");var ad=$("<div>").addClass("tokens-block");var R=$("<div>").addClass("tokens-header").append("Tokens");var aj=$("<div>").addClass("tokens-list");var U=this._token_map;for(var L in U){if(U.hasOwnProperty(L)){var N=U[L];var ae=$("<span>").addClass("regex-span-token").append(N);var af=$("<div>").addClass("regex-tokens").attr("data-symbol",N).append(L).append(ae);aj.append(af)}}ad.append(R);ad.append(aj);aj.bind(rdx.events.CLICK,{regex_editor:this},function(a){M._get_regex_token(a)});aj.disableSelection();var J=$("<div>").addClass("match-information");var al=$("<div>").addClass("match-information-header").append(rdx.i18n.get_string("rdx.match_information"));this._match_container=$("<div>").addClass("match-information-container");var ab=$("<div>").append(rdx.i18n.get_string("rdx.match_information_message"));this._match_container.append(ab);J.append(al);J.append(this._match_container);Q.append(ad);Q.append(J);Z.append(ah);Z.append(Q);var I=$("<div>").addClass("buttons-bar");var ac=new rdx.button_bar(I,new rdx.form_field({properties:{add_blue_button:true,blue_button_label:rdx.i18n.get_string("rdx.ok_label"),blue_button_click_handler_callback:new rdx.callback(this,this._save_and_return_regex_data,[Z,O]),add_grey_button:true,grey_button_label:rdx.i18n.get_string("rdx.form_close_button_label"),grey_button_click_handler_callback:new rdx.callback(this,this._handle_close_button,[Z])}})).render();Z.append(I)};rdx.regex_field.prototype._evaluate_regex=function(o){var p=this._regex_textarea.val();p=p.replace(/\//g,"\\/");var h=$.trim(this._regex_options.val());var q=this._subject_string_area.html().trim().replace(/<div(\s*)\/*>/ig,"\n").replace(/<\/div>/ig,"").replace(/<br(\s*)\/*>/ig,"\n").replace(/(<p>)/ig,"").replace(/(<\/p>)/ig,"\n").replace(/&nbsp;/ig,"").replace(/&amp;/ig,"&").trim();var m=this._resource_name;if(rdx.utils.is_defined(this._properties.resource_name)){m=this._properties.resource_name}var l=rdx.utils.get_resource(m);var n={regex:p,options:h,subject:q};this._match_container.empty();this._match_container.append(rdx.i18n.get_string("rdx.regex_processing"));rdx.model.post(l,new rdx.callback(this,this._regex_response_arrived,[q]),n,null,null)};rdx.regex_field.prototype._regex_response_arrived=function(A,B){var u=A.match_information.information;var y=null;var v=null;var w=false;var D=false;this._match_container.empty();this._result_span.empty();if(rdx.utils.is_defined(A.match_information.matches)){y=A.match_information.matches}if(rdx.utils.is_defined(A.match_information.error)){v=A.match_information.error}if(u.indexOf(rdx.i18n.get_string("rdx.match_groups"))>-1){w=true}else{if(u.indexOf(rdx.i18n.get_string("rdx.no_match_groups"))>-1){w=false}else{if(u.indexOf(rdx.i18n.get_string("rdx.no_pattern_match"))>-1){u=u.replace(rdx.i18n.get_string("rdx.not_text"),'<span class="not-matched">'+rdx.i18n.get_string("rdx.not_text")+"</span>");D=true}}}var x=$("<div>").append(u);this._match_container.append(x);this._result_span.removeClass("no-match");this._result_span.removeClass("match");this._result_span.removeClass("error");this._subject_string_area.removeClass("font-color-green");this._subject_string_area.removeClass("font-color-red");if(rdx.utils.is_defined(y)){D=false;for(var z=0;z<y.length;z++){var s=y[z];if(rdx.utils.is_defined(s)){var t=s.match_string;if(w){var F=z+1;var C=$("<div>").append(F+". "+t);this._match_container.append(C)}}}this._result_span.addClass("match");this._result_span.append(rdx.i18n.get_string("rdx.matched_label"));this._subject_string_area.addClass("font-color-green")}else{if(rdx.utils.is_defined(v)){var E=$("<div>").append(v);this._match_container.append(E);this._result_span.addClass("error");this._result_span.append(rdx.i18n.get_string("rdx.error_label"));this._subject_string_area.addClass("font-color-red")}else{if(D){this._result_span.addClass("no-match");this._result_span.append(rdx.i18n.get_string("rdx.not_matched_label"));this._subject_string_area.addClass("font-color-red")}}}this._result_span.show()};rdx.regex_field.prototype._clear_message_span=function(){this._result_span.hide();this._result_span.empty();this._result_span.removeClass("match");this._result_span.removeClass("error");this._result_span.addClass("no-match");this._result_span.append(rdx.i18n.get_string("rdx.not_matched_label"));this._match_container.empty();var b=$("<div>").append(rdx.i18n.get_string("rdx.match_information_message"));this._match_container.append(b)};rdx.regex_field.prototype._restore_message_status=function(b){this._clear_message_span()};rdx.regex_field.prototype._remove_all_elements=function(b){this._clear_message_span();if(this._subject_string_area.text().length===0){this._subject_string_area.empty()}this._subject_string_area.removeClass("font-color-green");this._subject_string_area.removeClass("font-color-red")};rdx.regex_field.prototype._save_and_return_regex_data=function(g,e,f){var h=this._regex_textarea.val();this.set_data(h,f);this._handle_close_button(g,e)};rdx.regex_field.prototype._handle_close_button=function(c,d){d.remove();if(rdx.page.get_slider_crumb().get_current_crumb().index<=0){rdx.page.hide_slider()}else{rdx.page.get_slider_crumb().remove_current_crumb()}$(this._regex_editor_container_div).trigger(rdx.events.VIEW_DESTROYED,{slider_clicked:this._properties.slider});this._regex_editor_container_div.remove()};rdx.regex_field.prototype._get_regex_token=function(e){e.preventDefault();var g=e.target||e.srcElement||e.originalTarget;g=$(g);if(g.hasClass("regex-span-token")){while(true){if(g.hasClass("regex-tokens")){break}g=g.parent()}}var h=g.attr("data-symbol");var f=$.inArray(h,this._modifier_array);if(f===-1){this._regex_textarea.val(this._regex_textarea.val()+h)}else{this._regex_options.val(this._regex_options.val()+h)}};rdx.regex_field.prototype.add_event_handler=function(d,c){this._component.bind(d,{ns_callback:c},function(a){a.data.ns_callback.call_back([a])})};rdx.regex_field.prototype.get_component_type=function(){return rdx.form_constants.REGULAR_EXPRESSION_FIELD_AND_EDITOR};rdx.regex_field.prototype.get_component=function(){return this._component};rdx.regex_field.prototype.get_field=function(){return this._field};rdx.regex_field.prototype.set_data=function(c,d){this._data=c;if(this._properties.standalone==false){rdx.utils.insert_at_caret(d,c)}else{this._text_area.set_data(c)}};rdx.regex_field.prototype.get_data=function(){return this._text_area.get_data()};rdx.color_picker_component=function(e,d){this._parent=typeof(e)=="string"?$("#"+e):e;this._field=d;var f={show_input:true,show_alpha:true,show_color_palette:true,preferred_format:null,allow_empty:true,show_flat:false,disbaled:false,choose_button_label:"Select",cancel_button_label:"Cancel",color_palette:[["rgb(0, 0, 0)","rgb(102, 102, 102)","rgb(204, 204, 204)","rgb(255, 255, 255)"],["rgb(152, 0, 0)","rgb(255, 0, 0)","rgb(255, 153, 0)","rgb(255, 255, 0)"],["rgb(221, 126, 107)","rgb(234, 153, 153)","rgb(249, 203, 156)","rgb(255, 229, 153)"],["rgb(182, 215, 168)","rgb(162, 196, 201)","rgb(164, 194, 244)","rgb(159, 197, 232)"],["rgb(69, 129, 142)","rgb(60, 120, 216)","rgb(61, 133, 198)","rgb(103, 78, 167)"],["rgb(166, 77, 121)","rgb(91, 15, 0)","rgb(102, 0, 0)","rgb(120, 63, 4)"],["rgb(127, 96, 0)","rgb(39, 78, 19)","rgb(12, 52, 61)","rgb(28, 69, 135)"]]};this._properties=$.extend({},f,d.get_properties());this._colorpicker_container=null;this._custom_input_text=null;this._view_link_map={};this._link_properties=null};rdx.color_picker_component.prototype.render=function(){this._create_colorpicker();this._create_event_bindings();this._attach_color_picker();return this};rdx.color_picker_component.prototype._attach_color_picker=function(){var b={};if(this._properties.show_input){b.showInput=this._properties.show_input}if(this._properties.show_color_palette){b.showPalette=this._properties.show_color_palette}if(this._properties.show_alpha){b.showAlpha=this._properties.show_alpha}if(this._properties.color_palette){b.palette=this._properties.color_palette}if(this._properties.preferred_format){b.preferredFormat=this._properties.preferred_format}if(this._properties.allow_empty){b.allowEmpty=this._properties.allow_empty}if(this._properties.show_flat){b.flat=this._properties.show_flat}if(this._properties.disbaled){b.disbaled=this._properties.disbaled}if(this._properties.choose_button_label){b.chooseText=this._properties.choose_button_label}if(this._properties.cancel_button_label){b.cancelText=this._properties.cancel_button_label}this._custom_input_text.spectrum(b);this._custom_input_text.show()};rdx.color_picker_component.prototype._create_event_bindings=function(){this._custom_input_text.bind(rdx.events.CHANGE,{color_picker_component:this},function(b){b.data.color_picker_component._custom_input_text.spectrum("set",b.data.color_picker_component.get_data());b.stopPropagation()})};rdx.color_picker_component.prototype._create_colorpicker=function(){this._colorpicker_container=$("<div>").addClass("colorpicker_component");this._custom_input_text=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX).addClass("spectrum_textbox");this._colorpicker_container.append(this._custom_input_text);this._parent.append(this._colorpicker_container)};rdx.color_picker_component.prototype.set_data=function(b){if(rdx.utils.is_not_defined(b)){return}this._custom_input_text.val(b);this._custom_input_text.trigger(rdx.events.CHANGE);return};rdx.color_picker_component.prototype.get_data=function(){return this._custom_input_text.val()};rdx.color_picker_component.prototype.get_component_type=function(){return rdx.form_constants.COLOR_PICKER};rdx.color_picker_component.prototype.get_component=function(){return this._colorpicker_container};rdx.color_picker_component.prototype.get_field=function(){return this._field};rdx.color_picker_component.prototype.toggle_read_only=function(b){if(b){this._custom_input_text.removeAttr("readonly");this._custom_input_text.removeClass("form_field_disabled");this._custom_input_text.unbind(rdx.events.KEYDOWN,this._prevent_default);this._custom_input_text.spectrum("enable")}else{this._custom_input_text.attr("readonly","true");this._custom_input_text.addClass("form_field_disabled");this._custom_input_text.bind(rdx.events.KEYDOWN,null,this._prevent_default);this._custom_input_text.spectrum("disable")}};rdx.toggle_component=function(d,c){this._parent=typeof(d)=="string"?$("#"+d):d;this._DEFAULT_PROPERTIES={label:"",enabled:false,change_handler_callback:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,c.get_properties());this._field=c};rdx.toggle_component.prototype.render=function(){this.toggle_container=$("<div>").addClass("toggle_component_container");this.toggle_button=$("<div>").addClass("toggle_button").appendTo(this.toggle_container).attr("title","Click to toggle selection");var b=$("<span>").appendTo(this.toggle_button).addClass("icon");this._status_text=$("<span>").appendTo(this.toggle_container).addClass("state");this.toggle_button.bind(rdx.events.CLICK,{toggle_component:this},function(a){a.data.toggle_component._handle_click(a)});if(this._properties.change_handler_callback){this.toggle_button.bind(rdx.events.CHANGE,{change_handler_callback:this._properties.change_handler_callback,that:this},function(a){a.data.change_handler_callback.call_back([a.data.that])})}this._parent.append(this.toggle_container);this.set_data(this._properties.enabled)};rdx.toggle_component.prototype._handle_click=function(c){var d=c.data.toggle_component;if(d.toggle_button.hasClass("enabled")){d.toggle_button.removeClass("enabled").addClass("disabled");this._status_text.text("OFF")}else{d.toggle_button.addClass("enabled").removeClass("disabled");this._status_text.text("ON")}d.toggle_button.trigger(rdx.events.CHANGE)};rdx.toggle_component.prototype.add_event_handler=function(d,c){this.toggle_button.bind(d,{ns_callback:c},function(a){a.data.ns_callback.call_back([a])})};rdx.toggle_component.prototype.set_data=function(b){if(b===true||b==="true"){this.toggle_button.addClass("enabled");this._status_text.text("ON")}else{this.toggle_button.addClass("disabled");this._status_text.text("OFF")}};rdx.toggle_component.prototype.get_field=function(){return this._field};rdx.toggle_component.prototype.get_data=function(b){if(this.toggle_button.hasClass("enabled")){return true}return false};rdx.toggle_component.prototype.get_component=function(){return this.toggle_container};rdx.toggle_component.prototype.get_parent=function(){return this._parent};rdx.toggle_component.prototype.get_component_type=function(){return rdx.form_constants.TOGGLE_COMPONENT};rdx.file_upload=function(f,h){var g={url:"",method:rdx.ajax_handler_constants.POST,encoding_type:"multipart/form-data",file_component_name:"",resource_name:null,close_upload_window_on_success:true,dialog_mode:true,upload_success_callback:null,upload_error_callback:null,check_for_duplicate:true,custom_validator:null,is_image_validator:false,class_names:"",add_submit_button:true,submit_button_class_name:null,validate_on_submit:true,mask_on_success:true,file_path:null,remote_dir_path:null,remote_resource:null,delete_resource:null,append_default_path:true,filter_filetype:null,read_resource:null,upload_url:null,mkdir_resource:"",download_resource:"",show_dirs:true,local:true,remote:false,default_type:"local",resource_response_callback:null,show_header:true,append_path:true,remotefiledir:null,placeholder:"",inline_upload:false,pagination:false,search:false,value:"",input_read_only:false,text_box_width:null,show_select_component:null,open_file_upload_on_load_in_direct_mode:true,resource_operations:{upload:false,download:false,view:false,remove:false,create_dir:false,zip:false},file_browser_display_columns:{name:true,is_dir:true,modified_timestamp:true,accessed_timestamp:true,size:false}};var e={minHeight:50,width:350,modal:true,resizable:false,dialogClass:"configure_view",title:rdx.i18n.get_string("rdx.file_upload_title")};this._properties=$.extend({},g,f);this._properties.file_browser_display_columns=$.extend(true,g.file_browser_display_columns,f.file_browser_display_columns);this._dialog_properties=$.extend({},e,h);this._dialog_properties.title=rdx.i18n.get_string(this._dialog_properties.title);this._file_upload=$("<div>").addClass(this._properties.class_names);this._properties.file_element_id=rdx.utils.random();this._file_element;this._submit_button;this._is_loaded=false;this._form=null;this._custom_input_text;this._custom_img_object;this._current_file_name;this._parent_table;this._selected_type;this._str_local=rdx.i18n.get_string("rdx.local");this._str_remote=rdx.i18n.get_string("rdx.remote");this._mask_id="__file_upload_"+this._properties.url};rdx.file_upload.prototype.render=function(){this._form=$("<form>");this._set_form_attributes(this._form);this._parent_table=$("<table>").addClass("fileupload_table").attr("cellpadding",0).attr("cellspacing",0);this._custom_input_text=rdx.dom_utils.get_element(rdx.form_constants.TEXT_BOX).addClass("fileupload_textbox");if(rdx.utils.is_not_empty(this._properties.placeholder)){this._custom_input_text.attr("placeholder",rdx.i18n.get_string(this._properties.placeholder))}if(rdx.utils.is_not_empty(this._properties.value)){this._custom_input_text.val(rdx.i18n.get_string(this._properties.value))}if(rdx.utils.is_defined(this._properties.text_box_width)){this._custom_input_text.css("width",this._properties.text_box_width)}this._browse_button_div=this._create_browse_button_div();var m=$("<tr>");var o=$("<td>").addClass("fileupload_td_textbox").append(this._custom_input_text);var g=$("<td>").addClass("fileupload_td_button").append(this._browse_button_div);m.append(g).append(o);this._browse_textbox=o;if(this._properties.add_submit_button==true){this._submit_button=this._get_submit_button();m.append(this._submit_button)}this._parent_table.append(m);var n=$("<iframe>").attr("frameborder",0).attr("width","0px").attr("height","0px").hide();var l="upload_data_holder_"+Math.round(Math.random()*100);n.attr("id",l);n.attr("name",l);this._form.attr("target",l);this._form.append(this._parent_table);this._file_upload.append(this._form);this._file_upload.append(n);var h=this;n.bind(rdx.events.LOAD,{iframe:n,file_upload:this},function(b){if(!h._is_loaded){h._is_loaded=true;return}if(rdx.utils.is_defined(b.data.file_upload._selected_type)&&b.data.file_upload._selected_type==b.data.file_upload._str_local){rdx.mask.unmask(b.data.file_upload._mask_id);var a=b.data.iframe.contents().text();if(rdx.utils.is_not_defined(a)){h._handle_error();return}if(rdx.utils.is_empty(a)){return}try{var d=JSON.parse(a)}catch(c){rdx.message_box.error(c)}if(d[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD]==0){h._handle_success()}else{h._handle_error(d)}h._current_file_name=h.get_file_name();h._file_element.val("");h._custom_input_text.val("")}});this._form.bind(rdx.events.SUBMIT,{file_upload:h},function(a,e){if(!a.data.file_upload._is_loaded){return false}if(rdx.utils.is_defined(a.data.file_upload._selected_type)&&a.data.file_upload._selected_type==a.data.file_upload._str_local){var b=a.data.file_upload;var c=b.validate();if(rdx.utils.is_not_defined(c)){c=true}if(c){if(b._properties.check_for_duplicate&&rdx.utils.is_defined(b._properties.resource_name)&&rdx.utils.is_not_defined(e)){b._check_for_duplicate();return false}if(rdx.utils.is_not_defined(window.FormData)){rdx.status_bar.display_activity(rdx.i18n.get_string("rdx.file_upload_status_start",{file_name:b._file_element.val()}));rdx.mask.mask(b._file_upload,a.data.file_upload._mask_id)}else{if(b._properties.dialog_mode==true||b._properties.inline_upload==true){var d=new rdx.file_upload_controller();d._show_progress_for_upload(b)}return false}if(b._properties.validate_on_submit!=true){return true}}return c}else{return true}});if(this._properties.dialog_mode){this.get_component().dialog(this._dialog_properties)}if(this._properties.direct_upload==true&&rdx.utils.is_defined(window.FormData)&&this._properties.open_file_upload_on_load_in_direct_mode){this.get_component().dialog("close");this._browse_label.trigger(rdx.events.CLICK)}return this};rdx.file_upload.prototype._create_browse_button_div=function(){this._file_element=this._get_file_element();var b=$("<div>").addClass("fileupload_browse_button");if(rdx.utils.is_ie()){this._browse_arrow=$("<span>").addClass("fileupload_browse_arrow");this._browse_label=$("<label>").addClass("fileupload_browse_label").append(rdx.i18n.get_string("rdx.choose_file"));this._add_button=$("<span>").addClass("cus_file").append(this._file_element).append(this._browse_label).append(this._browse_arrow);this._local_label=$("<label>").append(this._str_local);this._local_list_element=$("<li>").append($("<span>").append(this._local_label)).append($("<span>").addClass("tick"));this._appliance_list_element=$("<li>").append($("<span>").html(rdx.i18n.get_string("rdx.appliance"))).append($("<span>").addClass("tick"));this._local_label.attr("for",this._properties.file_element_id)}else{this._browse_arrow=$("<span>").addClass("fileupload_browse_arrow");this._browse_label=$("<span>").addClass("fileupload_browse_label").append(rdx.i18n.get_string("rdx.choose_file"));this._add_button=$("<span>").addClass("cus_file").append(this._browse_label).append(this._browse_arrow).append(this._file_element);this._local_list_element=$("<li>").append($("<span>").append(this._str_local)).append($("<span>").addClass("tick"));this._appliance_list_element=$("<li>").append($("<span>").html(rdx.i18n.get_string("rdx.appliance"))).append($("<span>").addClass("tick"))}this._drop_down_div=$("<div>").addClass("cus_dropdown").attr("style","overflow: hidden; display: none;").append($("<ul>"));if(this._properties.local){this._drop_down_div.append(this._local_list_element)}if(this._properties.remote){this._drop_down_div.append(this._appliance_list_element)}if((rdx.utils.is_defined(this._properties.default_type)&&this._properties.default_type==this._str_remote)||(this._properties.local==false)){this._selected_type=this._str_remote;this._appliance_list_element.addClass("selected");this._custom_input_text.removeAttr("readonly")}else{this._selected_type=this._str_local;this._local_list_element.addClass("selected");this._custom_input_text.attr("readonly","true")}if(this._properties.input_read_only==true){this._custom_input_text.attr("readonly","true")}if(rdx.utils.is_ie()){if(this.is_local_selected()){this._browse_label.attr("for",this._properties.file_element_id);if(rdx.utils.get_browser_version().indexOf("8")==0){this._file_element.removeClass("file fileupload_transparent");this._file_element.addClass("file fileupload_transparent_ie")}}else{this._browse_label.attr("for","undefined");if(rdx.utils.get_browser_version().indexOf("8")==0){this._file_element.removeClass("file fileupload_transparent_ie");this._file_element.addClass("file fileupload_transparent")}}}this._add_button.append(this._drop_down_div);b.append(this._add_button);this._create_event_bindings();return b};rdx.file_upload.prototype._create_event_bindings=function(){this._browse_arrow.bind(rdx.events.CLICK,{file_upload:this},function(a){rdx.utils.slide_up_down(a.data.file_upload._drop_down_div,false);$(document).bind(rdx.events.CLICK+".filebrowser",{file_upload:a.data.file_upload},function(d){d.data.file_upload._drop_down_div.hide();$(document).unbind(rdx.events.CLICK+".filebrowser");d.stopPropagation()});a.stopPropagation()});var b=function(a){a.data.file_upload._drop_down_div.hide();a.data.file_upload._local_list_element.removeClass("selected");a.data.file_upload._appliance_list_element.removeClass("selected");$(this).addClass("selected");if($(this).text()!=a.data.file_upload._str_local){a.data.file_upload._selected_type=a.data.file_upload._str_remote;if(a.data.file_upload._properties.input_read_only==true){a.data.file_upload._custom_input_text.attr("readonly","true")}else{a.data.file_upload._custom_input_text.removeAttr("readonly")}if(rdx.utils.is_ie()){a.data.file_upload._browse_label.attr("for","undefined");if(rdx.utils.get_browser_version().indexOf("8")==0){a.data.file_upload._file_element.removeClass("file fileupload_transparent_ie");a.data.file_upload._file_element.addClass("file fileupload_transparent")}}new rdx.file_browser(a.data.file_upload,{root_directory:a.data.file_upload._properties.remote_dir_path,mask_dir_path:a.data.file_upload._properties.mask_dir_path,append_path:a.data.file_upload._properties.append_path,show_header:a.data.file_upload._properties.show_header,file_browser_display_columns:a.data.file_upload._properties.file_browser_display_columns,filter_filetype:a.data.file_upload._properties.filter_filetype,remotefiledir:a.data.file_upload._properties.remotefiledir,show_dirs:a.data.file_upload._properties.show_dirs,resource_operations:a.data.file_upload._properties.resource_operations,file_component_name:a.data.file_upload._properties.file_component_name,remote_resource:a.data.file_upload._properties.remote_resource,read_resource:a.data.file_upload._properties.read_resource,upload_url:a.data.file_upload._properties.upload_url,mkdir_resource:a.data.file_upload._properties.mkdir_resource,download_resource:a.data.file_upload._properties.download_resource,delete_resource:a.data.file_upload._properties.delete_resource,pagination:a.data.file_upload._properties.pagination,search:a.data.file_upload._properties.search,show_select_component:a.data.file_upload._properties.show_select_component,resource_response_callback:a.data.file_upload._properties.resource_response_callback,select_callback:new rdx.callback(a.data.file_upload,rdx.file_upload.select_callback_function)}).render()}else{a.data.file_upload._selected_type=a.data.file_upload._str_local;a.data.file_upload._custom_input_text.attr("readonly","true");if(rdx.utils.is_ie()){a.data.file_upload._browse_label.attr("for",a.data.file_upload._properties.file_element_id);if(rdx.utils.get_browser_version().indexOf("8")==0){a.data.file_upload._file_element.removeClass("file fileupload_transparent");a.data.file_upload._file_element.addClass("file fileupload_transparent_ie")}}else{a.data.file_upload._file_element.trigger(rdx.events.CLICK)}}a.stopPropagation()};this._appliance_list_element.bind(rdx.events.CLICK,{file_upload:this},b);this._local_list_element.bind(rdx.events.CLICK,{file_upload:this},b);this._browse_label.bind(rdx.events.CLICK,{file_upload:this},function(a){a.data.file_upload._drop_down_div.hide();if(a.data.file_upload._appliance_list_element.hasClass("selected")){a.data.file_upload._selected_type=a.data.file_upload._str_remote;if(a.data.file_upload._properties.input_read_only==true){a.data.file_upload._custom_input_text.attr("readonly","true")}else{a.data.file_upload._custom_input_text.removeAttr("readonly")}new rdx.file_browser(a.data.file_upload,{root_directory:a.data.file_upload._properties.remote_dir_path,mask_dir_path:a.data.file_upload._properties.mask_dir_path,append_path:a.data.file_upload._properties.append_path,show_header:a.data.file_upload._properties.show_header,remotefiledir:a.data.file_upload._properties.remotefiledir,filter_filetype:a.data.file_upload._properties.filter_filetype,file_browser_display_columns:a.data.file_upload._properties.file_browser_display_columns,show_dirs:a.data.file_upload._properties.show_dirs,resource_operations:a.data.file_upload._properties.resource_operations,file_component_name:a.data.file_upload._properties.file_component_name,remote_resource:a.data.file_upload._properties.remote_resource,read_resource:a.data.file_upload._properties.read_resource,upload_url:a.data.file_upload._properties.upload_url,mkdir_resource:a.data.file_upload._properties.mkdir_resource,download_resource:a.data.file_upload._properties.download_resource,delete_resource:a.data.file_upload._properties.delete_resource,pagination:a.data.file_upload._properties.pagination,show_select_component:a.data.file_upload._properties.show_select_component,search:a.data.file_upload._properties.search,resource_response_callback:a.data.file_upload._properties.resource_response_callback,select_callback:new rdx.callback(a.data.file_upload,rdx.file_upload.select_callback_function)}).render()}else{a.data.file_upload._selected_type=a.data.file_upload._str_local;a.data.file_upload._custom_input_text.attr("readonly","true");if(!rdx.utils.is_ie()){a.data.file_upload._file_element.trigger(rdx.events.CLICK)}}});this._file_element.bind(rdx.events.CHANGE,{file_upload:this},function(a){a.data.file_upload.set_selected_type(a.data.file_upload._str_local);if(a.data.file_upload._is_image_validator()){a.data.file_upload.upload_img_file(a.data.file_upload._file_element)}if(rdx.utils.is_not_empty(a.data.file_upload.get_file_name())){a.data.file_upload._current_file_name=a.data.file_upload.get_file_name()}if(a.data.file_upload._properties.direct_upload==true&&rdx.utils.is_defined(window.FormData)){a.data.file_upload._form.trigger("submit")}else{a.data.file_upload.set_input_text(a.data.file_upload.get_file_name())}});this._browse_label.bind("mousedown",function(){$(this).addClass("active")});this._browse_label.bind("mouseup",function(){$(this).removeClass("active")});this._browse_arrow.bind("mousedown",function(){$(this).addClass("active")});this._browse_arrow.bind("mouseup",function(){$(this).removeClass("active")})};rdx.file_upload.prototype.set_input_text=function(b){this._custom_input_text.val(b);this._custom_input_text.focusin();this._custom_input_text.trigger(rdx.events.CHANGE)};rdx.file_upload.prototype._check_for_duplicate=function(){var f=rdx.utils.get_resource(this._properties.resource_name);if(rdx.utils.is_not_defined(f.primary_keys)){this._trigger_form_submit();return}var d={};d[f.primary_keys[0]]=this.get_file_name();var e=rdx.url_utils.construct_url_params(null,rdx.url_utils.GET_BY_NAME_TYPE,f.primary_keys,d);rdx.model.get(f,e,new rdx.callback(this,this._prompt_for_duplicates),this._file_upload,new rdx.callback(this,this._trigger_form_submit))};rdx.file_upload.prototype._trigger_form_submit=function(){this._form.trigger(rdx.events.SUBMIT,[true])};rdx.file_upload.prototype.set_selected_type=function(b){this._selected_type=b};rdx.file_upload.prototype.submit=function(c,d){if(rdx.utils.is_defined(c)){this._properties.upload_success_callback=c}if(rdx.utils.is_defined(d)){this._properties.upload_error_callback=d}this._form.trigger(rdx.events.SUBMIT,[true])};rdx.file_upload.prototype._prompt_for_duplicates=function(b){rdx.message_box.confirm(rdx.i18n.get_string("rdx.file_upload_confirm",{file_name:this.get_file_name()}),new rdx.callback(this,this._trigger_form_submit),new rdx.callback(this,this._unmask))};rdx.file_upload.prototype._unmask=function(){rdx.mask.unmask(this._mask_id);rdx.status_bar.clear_activity();rdx.status_bar.clear_status()};rdx.file_upload.prototype.get_file_name=function(){if(rdx.utils.is_defined(this._selected_type)&&this._selected_type==this._str_remote){return this._custom_input_text.val()}var h=this._file_element.val();var g=(h.indexOf("\\")>=0?h.lastIndexOf("\\"):h.lastIndexOf("/"));if(h==""||g<0){return h}var f=h.substring(g);if(f.indexOf("\\")===0||f.indexOf("/")===0){f=f.substring(1)}var e=rdx.utils.is_defined(this._properties.file_path)?this._properties.file_path:"";return e+f};rdx.file_upload.prototype.validate=function(n){var l=this.get_file_name();if(rdx.utils.is_empty(l)){rdx.message_box.error(rdx.i18n.get_string("rdx.file_upload_button_error"));return false}var o=this._properties.filter_filetype;if(rdx.utils.is_defined(o)){var m=false;if(rdx.utils.is_array(o)){for(var g=0;g<o.length;g++){if((new RegExp(o[g]+"$")).test(l)){m=true;break}}}else{if((new RegExp(o+"$")).test(l)){m=true}}if(!m){rdx.message_box.error(rdx.i18n.get_string("rdx.file_upoload_invalid_filetype",{file_name:l}));return false}}var h=true;if(rdx.utils.is_defined(this._properties.custom_validator)){if(this._is_image_validator()){h=this._properties.custom_validator.call_back([this._file_element.val(),this.get_img_element()])}else{h=this._properties.custom_validator.call_back([this._file_element.val()])}}return h};rdx.file_upload.prototype.get_custom_validator=function(){return this._properties.custom_validator};rdx.file_upload.prototype._handle_success=function(c,d){this.set_input_text(this.get_file_name());if(this._properties.mask_on_success==true){this._file_element.attr("disabled","true")}if(rdx.utils.is_defined(this._properties.resource_name)){rdx.model.trigger_model_changed_event({},null,rdx.utils.get_resource(this._properties.resource_name));rdx.model.get_count(rdx.utils.get_resource(this._properties.resource_name),null,new rdx.callback(this,function(a){$(rdx.utils.get_resource(this._properties.resource_name)).trigger(rdx.events.MODEL_COUNT_CHANGED,a)},null,null,null))}if(rdx.utils.is_defined(this._properties.upload_success_callback)){this._properties.upload_success_callback.call_back([this._file_element.val(),this.get_component()])}else{if(this._properties.dialog_mode&&this._properties.close_upload_window_on_success){this.get_component().dialog("close");this.get_component().remove()}}rdx.status_bar.clear_activity();rdx.status_bar.update_status(rdx.i18n.get_string("rdx.file_upload_status_complete",{file_name:this._file_element.val()}))};rdx.file_upload.prototype._handle_error=function(e){if(rdx.utils.is_defined(this._properties.upload_error_callback)){var f=rdx.utils.is_defined(e)?e.message:"";this._properties.upload_error_callback.call_back([this._file_element.val(),f]);return}var d=rdx.i18n.get_string("rdx.file_upload_error",{file_name:this._file_element.val()});if(rdx.utils.is_defined(e)&&rdx.utils.is_defined(e.message)){d=d+"\n"+rdx.i18n.get_string("rdx.file_upload_error_reason")+e.message}rdx.status_bar.clear_activity();rdx.status_bar.update_status(d,rdx.ERROR);rdx.message_box.error(d)};rdx.file_upload.prototype._get_file_element=function(){var d=$("<input>");var e=this._properties.filter_filetype;var f=(rdx.utils.is_defined(e)&&rdx.utils.is_array(e))?e.join(","):e;d.attr("type","file");d.attr("name",this._properties.file_component_name);d.attr("id",this._properties.file_element_id);d.attr("size",25);if(f){d.attr("accept",f)}d.addClass("file fileupload_transparent");return d};rdx.file_upload.prototype.set_tooltip=function(b){this._browse_textbox.attr("title",b)};rdx.file_upload.prototype._get_submit_button=function(){var c=$("<div>").addClass("file_upload_submit_button");var d=$("<input>").addClass("file_upload_grey_button grey_button");if(rdx.utils.is_defined(this._properties.submit_button_class_name)){d.addClass(this._properties.submit_button_class_name)}d.attr("type","submit");d.attr("value",rdx.i18n.get_string("rdx.file_upload_button"));d.attr("title",rdx.i18n.get_string("rdx.file_upload_button_tooltip"));c.append(d);return c};rdx.file_upload.prototype._set_form_attributes=function(c){c.attr("name","form");c.attr("method",this._properties.method);c.attr("action",this._properties.url);c.attr("enctype",this._properties.encoding_type);c.attr("encoding",this._properties.encoding_type);if(rdx.utils.is_defined(rdx.ajax_handler_constants.CUSTOM_HEADERS)){for(var d in rdx.ajax_handler_constants.CUSTOM_HEADERS){c.append($("<input>").attr("type","text").attr("value",rdx.ajax_handler_constants.CUSTOM_HEADERS[d]).attr("name",d).attr("style","display:none").css("height","0px"))}}};rdx.file_upload.prototype._set_properties=function(){rdx.form_utils.set_basic_field_attributes(this._element,this._field);this._element.attr("title",this._field.get_tooltip())};rdx.file_upload.prototype.get_component=function(){return this._file_upload};rdx.file_upload.prototype.get_data=function(b){if(rdx.utils.is_defined(this._selected_type)&&this._selected_type==this._str_remote){return this._custom_input_text.val()}return this._current_file_name};rdx.file_upload.prototype.set_data=function(b){if(rdx.utils.is_not_defined(b)){return}if(rdx.utils.is_defined(this._selected_type)&&this._selected_type==this._str_remote){this._custom_input_text.val(b)}return};rdx.file_upload.prototype.is_local_selected=function(b){if(rdx.utils.is_defined(this._selected_type)&&this._selected_type==this._str_local){return true}return false};rdx.file_upload.select_callback_function=function(b){if(this._properties.append_default_path==false&&rdx.utils.is_defined(this._properties.remote_dir_path)){if(rdx.utils.ends_with(this._properties.remote_dir_path,"/")){b=b.substring(this._properties.remote_dir_path.length)}else{b=b.substring((this._properties.remote_dir_path+"/").length)}}this._custom_input_text.val(b);this._custom_input_text.focusin();this._custom_input_text.trigger(rdx.events.CHANGE)};rdx.file_upload.prototype.get_text_element=function(){return this._custom_input_text};rdx.file_upload.prototype.upload_img_file=function(n){if(rdx.utils.is_defined(n)){var m=new Image();var l=n[0];if(rdx.utils.is_ie()&&(rdx.utils.get_browser_version().indexOf("8")==0||rdx.utils.get_browser_version().indexOf("9")==0)){var o=l.value;m.src=o}else{var h=window.URL||window.webkitURL;var g=l.files[0];m.src=h.createObjectURL(g)}this._custom_img_object=m}};rdx.file_upload.prototype._is_image_validator=function(){if(rdx.utils.is_defined(this._properties.is_image_validator)&&this._properties.is_image_validator==true){return true}return false};rdx.file_upload.prototype.get_img_element=function(){return this._custom_img_object};rdx.file_browser=function(m,g,l){var h={root_directory:null,filter_filetype:null,remote_resource:null,read_resource:null,upload_url:null,file_component_name:"",mkdir_resource:"",download_resource:"",delete_resource:null,select_callback:null,resource_response_callback:null,show_dirs:true,show_header:true,append_path:true,remotefiledir:null,pagination:false,search:false,show_open_directory:false,show_select_component:null,use_nitro_resource:false,resource_operations:{upload:false,upload_extention:null,download:false,view:false,remove:false,create_dir:false,importfile:false,zip:false},file_browser_display_columns:{name:true,is_dir:true,modified_timestamp:true,accessed_timestamp:true,size:false},mask_dir_path:null};this._properties=$.extend({},h,g);var f={width:650,modal:true,draggable:true,dialogClass:"configure_view",resizable:false,title:rdx.i18n.get_string("rdx.filebrowser")};this._dialog_properties=$.extend({},f,l);this._file_browser_display_columns=this._properties.file_browser_display_columns;this._base_view=null;this._view_definition=null;this._resource_operations=this._properties.resource_operations;this._parent=m;if(this._properties.root_directory.indexOf("/",this._properties.root_directory.length-1)==-1){this._properties.root_directory+="/"}this._container=null;this._header_span=null;this._prev_img;this._next_img;this._back_history=new Array();this._forward_history=new Array();this._allow_select_op=true;this._current_directory=this._properties.root_directory};rdx.file_browser.prototype.render=function(g){g=rdx.utils.is_defined(g)?g:false;this._allow_select_op=!(g);if(rdx.utils.is_not_defined(this._properties.root_directory,this._properties.remote_resource)){rdx.message_box.error(rdx.i18n.get_string("rdx.file_browser_error"));return}if(g){this._properties.show_open_directory=true}var f=this._create_available_files();var e=this._create_file_browser_footer();this._container=$("<div>").addClass("filebrowser");if(this._properties.show_header==true){var h=this._create_file_browser_header();this._container.append(h)}this._container.append(f);if(!g){this._container.append(e);this._container.dialog(this._dialog_properties)}};rdx.file_browser.prototype._create_file_browser_header=function(){var c=$("<div>");c.addClass("filebrowser_header");this._prev_img=$("<img>").attr("src",rdx.images.BACK_INACTIVE_IMAGE).attr("alt","Previous").attr("title",rdx.i18n.get_string("rdx.table_pagination_next")).addClass("pagination_img_spacing");this._next_img=$("<img>").attr("src",rdx.images.NEXT_INACTIVE_IMAGE).attr("alt","Next").attr("title",rdx.i18n.get_string("rdx.table_pagination_next")).addClass("pagination_img_spacing");this._prev_img.bind(rdx.events.CLICK,{filebrowser_view:this},function(b){var f=b.data.filebrowser_view._back_history;if(f.length>0){var a=b.data.filebrowser_view;a._forward_history.push(a._current_directory);a._next_img.attr("src",rdx.images.NEXT_ACTIVE_IMAGE);a._current_directory=f.pop();if(f.length==0){a._prev_img.attr("src",rdx.images.BACK_INACTIVE_IMAGE)}a._refresh_files()}});this._next_img.bind(rdx.events.CLICK,{filebrowser_view:this},function(b){var f=b.data.filebrowser_view._forward_history;if(f.length>0){var a=b.data.filebrowser_view;a._back_history.push(a._current_directory);a._prev_img.attr("src",rdx.images.BACK_ACTIVE_IMAGE);a._current_directory=f.pop();if(f.length==0){a._next_img.attr("src",rdx.images.NEXT_INACTIVE_IMAGE)}a._refresh_files()}});c.append($("<span>").addClass("filebrowser_navigation").append($("<span>").addClass("left").append(this._prev_img)).append($("<span>").addClass("right").append(this._next_img)));var d=this._current_directory;if(rdx.utils.is_defined(this._properties.mask_dir_path)&&rdx.utils.is_defined(this._properties.mask_dir_path.expression)&&this._properties.mask_dir_path.expression.evaluate()==true&&rdx.utils.is_defined(this._properties.mask_dir_path.pattern)&&rdx.utils.is_defined(this._properties.mask_dir_path.mask)&&d.indexOf(this._properties.mask_dir_path.pattern)!=-1){d=d.replace(this._properties.mask_dir_path.pattern,this._properties.mask_dir_path.mask)}this._header_span=$("<span>").addClass("cur_path").append($("<strong>").append(rdx.i18n.get_string("rdx.current_directory")+": ")).append(d);c.append(this._header_span);return c};rdx.file_browser.prototype._handle_select_operation=function(e){var g=rdx.utils.is_defined(e.get_selected_rows_data)?e.get_selected_rows_data():this._base_view.get_view().get_component().get_selected_items_data();if(rdx.utils.is_array(g)){g=g[0]}if(rdx.utils.is_defined(g)&&rdx.utils.is_defined(g.name)&&rdx.utils.is_defined(g.is_dir)){this._forward_history.length=0;if(this._properties.show_header==true){this._next_img.attr("src",rdx.images.NEXT_INACTIVE_IMAGE)}if(g.is_dir=="true"){this._prev_img.attr("src",rdx.images.BACK_ACTIVE_IMAGE);this._back_history.push(this._current_directory);if(g.name==".."){var f=this._current_directory.substring(0,this._current_directory.length-1);this._current_directory=f.substring(0,f.lastIndexOf("/"))+"/"}else{this._current_directory+=g.name+"/"}if(this._properties.search){this._base_view.get_view().collapse_searched_div()}var h=this;setTimeout(function(){h._refresh_files(null,true)},50)}else{if(this._allow_select_op){this._container.dialog("destroy").remove();if(rdx.utils.is_defined(this._properties.select_callback)){this._properties.select_callback.call_back([this._current_directory+g.name])}}}}};rdx.file_browser.prototype._create_file_browser_footer=function(){var d=$("<div>");d.addClass("filebrowser_footer");var e=new rdx.form_field({properties:{add_blue_button:true,blue_button_click_handler_callback:new rdx.callback(this,this._handle_select_operation),blue_button_label:rdx.i18n.get_string("rdx.open"),add_grey_button:true,grey_button_click_handler_callback:new rdx.callback(this,this._dispose_dialog),grey_button_label:rdx.i18n.get_string("rdx.cancel")}});var f=new rdx.button_bar(d,e).render();return d};rdx.file_browser.prototype._do_delete=function(m,n){if(rdx.utils.is_defined(n)&&n==false){var o=m.get_selected_rows_data();for(var s=0;s<o.length;s++){rdx.model.remove(rdx.utils.get_resource(this._properties.remote_resource),new rdx.callback(null,function(a){}),o[s],null,null,null)}}else{var p=m.get_selected_rows_data();var q=(this._properties.delete_resource)?this._properties.delete_resource:this._properties.remote_resource;if(p.length>0){var t=new rdx.model_executor_service(new rdx.callback(this,this._refresh_files));for(var l=0;l<p.length;l++){t.add("post",rdx.utils.get_resource(q),{name:this._current_directory+p[l]["name"]},"delete",null,null,null)}t.execute()}}};rdx.file_browser.prototype._do_upload=function(h,n){var o=$("<form>").attr({method:"post",enctype:"multipart/form-data",encoding:"multipart/form-data"}).hide();var l=this._properties.filter_filetype;var m=(rdx.utils.is_defined(l)&&rdx.utils.is_array(l))?l.join(","):l;var p=$("<input>").attr({type:"file",name:this._properties.file_component_name});if(m){p.attr("accept",m)}o.append(p);if(rdx.utils.is_defined(rdx.ajax_handler_constants.CUSTOM_HEADERS)){for(var q in rdx.ajax_handler_constants.CUSTOM_HEADERS){o.append($("<input>").attr("type","text").attr("value",rdx.ajax_handler_constants.CUSTOM_HEADERS[q]).attr("name",q).attr("style","display:none").css("height","0px"))}}this._container.append(o);p.bind(rdx.events.CHANGE,{form:o,file_browser:this,dir:this._current_directory},function(f){var e=f.data.form;var d=f.data.file_browser;var g=e.find("input:file").val();if(rdx.utils.is_defined(d._properties.resource_operations)&&rdx.utils.is_defined(d._properties.resource_operations.upload_extentions)&&d._properties.resource_operations.upload_extentions.length>0){var u=false;var a="";for(var c=0;c<d._properties.resource_operations.upload_extentions.length;c++){if(rdx.utils.ends_with(g,d._properties.resource_operations.upload_extentions[c])){u=true}a=a+d._properties.resource_operations.upload_extentions[c];if(c<d._properties.resource_operations.upload_extentions.length-1){a=a+", "}}if(u===false){rdx.message_box.error(rdx.i18n.get_string("rdx.invalid_file_extention",{supported_extentions:a}));return}}var b=f.data.dir;var v;if(rdx.utils.is_defined(n)&&n==false){v=d._parent._properties.url}else{v=d._properties.upload_url+"?filter=dir:"+rdx.url_utils.encode_uri_component(b)}d._upload_frame_loader(e,v)});p.trigger("click")};rdx.file_browser.prototype._upload_frame_loader=function(m,l){var f=$("<iframe>").attr({width:0,height:0,border:0}).hide();var h="upload_data_holder_"+Math.round(Math.random()*100);f.attr({id:h,name:h});m.append(f);var g=m.find("input:file").val();f.bind(rdx.events.LOAD,{iframe:f,file_browser:this,filename:g},function(c){f.unbind(rdx.events.LOAD);rdx.status_bar.clear_activity();var a=null;try{a=c.data.iframe.contents().text()}catch(d){rdx.message_box.error("File not Uploaded");return}if(rdx.utils.is_not_defined(a)){return}var o=c.data.iframe;try{var e=JSON.parse(a);if(e[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD]!=0){if($.inArray(e[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD],rdx.ajax_handler_constants.RESPONSE_SESSION_EXPIRY_ERROR_CODES)!=-1){var b=new rdx.callback(rdx.utils,rdx.utils.do_logout,[true]);rdx.message_box.error(e.message,b);return}rdx.message_box.error(e.message);return}else{rdx.status_bar.update_status(rdx.i18n.get_string("rdx.file_upload_status_complete",{file_name:c.data.filename}));c.data.file_browser._refresh_files()}}catch(d){}});m.attr("target",h);m.attr("action",l);rdx.status_bar.display_activity(rdx.i18n.get_string("rdx.file_upload_status_start",{file_name:g}));m.submit()};rdx.file_browser.prototype._do_view=function(h){var o=h.get_selected_rows_data();var q=(rdx.utils.is_defined(this._properties.read_resource))?this._properties.read_resource:"";var m={type:rdx.view_constants.CONFIGURE_VIEW,resource_name:q,view_context:{static_filter:{}},resource_properties:[{form_fields:{response:{input_type:rdx.form_constants.TEXT_AREA,display_label:false,height:375,width:"99%",read_only:true}}}],dialog_properties:{width:500},view_properties:{add_create_button:false,title:"rdx.view_file"}};if(this._properties.use_nitro_resource){var n=this.get_nitro_resrc_payload(o[0]["name"]);m.view_context.static_filter=n;m.response_callback=new rdx.callback(function(a){var b=rdx.utils.get_formatted_response(a.get_response());b.response=rdx.utils.is_ie()&&((rdx.utils.get_browser_version().indexOf("8")==0)||(rdx.utils.get_browser_version().indexOf("9")==0))?b.filecontent:atob(b.filecontent);a.resume(b)})}else{var p=this._current_directory+o[0]["name"];m.view_context.static_filter={path:p}}var l=rdx.view_utils.show_view_in_slider(m,null,null,null,false);l.prepare_view()};rdx.file_browser.prototype._mkdir=function(){var c={type:rdx.view_constants.CONFIGURE_VIEW,resource_name:this._properties.mkdir_resource,view_context:{is_data_set:true},resource_properties:[{form_fields:{basedir:{hidden:true,value:this._current_directory},path:{label:"rdx.directory_name"}}}],view_properties:{title:"rdx.create_new_directory",callback_after_operation:new rdx.callback(this,this._refresh_files)}};var d=rdx.view_utils.show_view_in_slider(c,null,null,null,false);d.prepare_view()};rdx.file_browser.prototype._do_import=function(){var c={type:rdx.view_constants.CONFIGURE_VIEW,resource_name:this._properties.importfile_resource,view_context:{is_data_set:true},resource_properties:[{form_fields:{filename:{label:"rdx.file_name",mandatory:true},filedir:{value:this._current_directory,hidden:true},filedata:{display_label:false,label:"rdx.file_content",input_type:"textarea",col_span:2,height:"300",mandatory:true},overwrite:{value:"false",hidden:true}}}],view_properties:{title:"rdx.import",button_label:"rdx.save",callback_after_operation:new rdx.callback(this,this._refresh_files)}};var d=rdx.view_utils.show_view_in_slider(c,null,null,null,false);d.prepare_view()};rdx.file_browser.prototype._dispose_dialog=function(){if(rdx.utils.is_defined(this._container)){this._container.dialog("destroy").remove()}};rdx.file_browser.prototype._create_available_files=function(){var d={};if(this._resource_operations.download){d.download={label:"rdx.download_button",tooltip:"rdx.download_button_tooltip",single_selection:true,multiple_selection:false,expression:new rdx.expression('{is_dir} != "true"'),action_type:rdx.ACTION,click_handler_callback:new rdx.callback(this,this._do_download,[this._resource_operations.is_url_filter])}}if(this._resource_operations.upload){d.upload={label:"rdx.file_upload_button",tooltip:"rdx.file_upload_button_tooltip",single_selection:true,multiple_selection:true,no_selection:true,action_type:rdx.ACTION,click_handler_callback:new rdx.callback(this,this._do_upload,[this._resource_operations.is_url_filter])}}if(this._resource_operations.view){d.view={label:"rdx.view_button",tooltip:"rdx.view_button_tooltip",single_selection:true,multiple_selection:false,expression:new rdx.expression('{is_dir} != "true"'),action_type:rdx.ACTION,click_handler_callback:new rdx.callback(this,this._do_view)}}if(this._resource_operations.remove){d.remove={label:"rdx.button_delete",tooltip:"rdx.button_delete_tooltip",single_selection:true,multiple_selection:true,prompt:"rdx.table_data_action_confirm_single",expression_mode:"ALL",action_type:rdx.ACTION,click_handler_callback:new rdx.callback(this,this._do_delete,[this._resource_operations.is_url_filter])}}if(this._resource_operations.create_dir){d.create_dir={label:"rdx.create_dir_button",tooltip:"rdx.create_dir_button_tooltip",single_selection:true,multiple_selection:true,no_selection:true,click_handler_callback:new rdx.callback(this,this._mkdir)}}if(this._resource_operations.importfile){d.importfile={label:"rdx.import",tooltip:"rdx.importfile_button_tooltip",single_selection:true,multiple_selection:true,no_selection:true,click_handler_callback:new rdx.callback(this,this._do_import)}}if(this._properties.show_open_directory){d.dbl_click={label:"rdx.open_directory",single_selection:true,action_type:rdx.ACTION,click_handler_callback:new rdx.callback(this,this._handle_select_operation)};if(!this._allow_select_op){d.dbl_click.expression=new rdx.expression('{is_dir} == "true"')}}var f={name:{label:"rdx.name",renderer_callback:new rdx.callback(this,this._append_image)}};if(this._file_browser_display_columns.is_dir==true){f.is_dir={label:"rdx.type",renderer_callback:new rdx.callback(function(a){if(a.is_dir=="true"&&a.name!=".."){return rdx.i18n.get_string("rdx.directory")}else{if(a.is_dir=="false"){return rdx.i18n.get_string("rdx.file")}else{return""}}})}}if(this._file_browser_display_columns.modified_timestamp==true){f.modified_timestamp={label:"rdx.date_modified"}}if(this._file_browser_display_columns.accessed_timestamp==true){f.accessed_timestamp={label:"rdx.date_accessed"}}if(this._file_browser_display_columns.size==true){f.size={label:"rdx.size"}}this._view_definition={type:rdx.view_constants.DETAIL_VIEW,name:"rdx_file_browser_component_detail_view",resource_name:this._properties.remote_resource,response_callback:new rdx.callback(this,this.data_massage_response_callback),double_click_operation:"dbl_click",resource_properties:f,view_properties:{pagination:this._properties.pagination,search:this._properties.search,is_tool_bar_required:false,_dont_show_title:true,show_select_component:this._properties.show_select_component,show_view_settings:false},resource_operations:d};if(this._properties.append_path===true){this._view_definition.view_context={use_args:true,static_filter:{fileLocation:this._current_directory}}}var e=$("<div>").addClass("filebrowser_table");if(this._allow_select_op){e.addClass("filebrowser_table_scroll")}this._base_view=new rdx.base_view(e,this._view_definition);this._base_view.prepare_view();return e};rdx.file_browser.prototype._refresh_files=function(d,f){this._base_view.get_view_context().set_url_params({static_filter:{fileLocation:this._current_directory}});if(rdx.utils.is_defined(f)&&f==true&&this._properties.pagination){this._base_view.get_view().get_pagination().reset_page_number();delete this._base_view.get_view().get_view_context().get_url_params().filter}this._base_view.get_view().refresh_view();if(this._properties.show_header==true){this._header_span.empty();var e=this._current_directory;if(rdx.utils.is_defined(this._properties.mask_dir_path)&&rdx.utils.is_defined(this._properties.mask_dir_path.expression)&&this._properties.mask_dir_path.expression.evaluate()==true&&rdx.utils.is_defined(this._properties.mask_dir_path.pattern)&&rdx.utils.is_defined(this._properties.mask_dir_path.mask)&&e.indexOf(this._properties.mask_dir_path.pattern)!=-1){e=e.replace(this._properties.mask_dir_path.pattern,this._properties.mask_dir_path.mask)}this._header_span.append($("<strong>").append(rdx.i18n.get_string("rdx.current_directory")+": ")).append(e).ellipsis(60)}if(rdx.utils.is_defined(d)&&rdx.utils.is_defined(d.params)){d.params.resume()}};rdx.file_browser.prototype._append_image=function(c){var d=$("<span>");if(c.is_dir=="true"){d.addClass("dirtype_span")}else{d.addClass("filetype_span")}d.text(c.name).ellipsis(50);return d};rdx.file_browser.prototype._get_prompt_data=function(d){var c=rdx.i18n.get_string(rdx.utils.get_resource(this._properties.remote_resource)["obj_type"]);return{action:rdx.i18n.get_string(d.label.toLowerCase()).toLowerCase(),obj_type:c}};rdx.file_browser.prototype._do_download=function(f,g){var h=f.get_selected_rows_data();var e;if(rdx.utils.is_defined(g)&&g==false){e=f._properties.list_view._resource.download_url+"/"+f.get_selected_rows_data()[0].file_name}else{e="/rapi/"+this._properties.download_resource+"?filter=path:"+rdx.url_utils.encode_uri_component(this._current_directory+h[0]["name"])+"&rand_key="+rand}this._iframe_loader({file_url:e})};rdx.file_browser.prototype._iframe_loader=function(e){this.DEFAULT_PROPERTIES={file_url:null,error_message:null,failure_callback:null,success_callback:null};var d=$.extend({},this.DEFAULT_PROPERTIES,e);if(rdx.utils.is_not_defined(d.file_url)){return}if(rdx.utils.is_defined(this._download_iframe_holder)){this._download_iframe_holder.remove()}var f=$("<iframe>").attr("frameborder",0).attr("width","0px").attr("height","0px");f.attr("src",d.file_url);$(document.body).append(f);this._download_iframe_holder=f;f.bind(rdx.events.LOAD,{iframe:f,properties:d},function(o){var c=null;try{c=o.data.iframe.contents().text()}catch(p){rdx.message_box.error("File not found");return}if(rdx.utils.is_not_defined(c)){return}var b=o.data.iframe;try{var q=JSON.parse(c);var s=o.data.properties.failure_callback;if(q[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD]!=0){var t=new rdx.callback();if($.inArray(q[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD],rdx.ajax_handler_constants.RESPONSE_SESSION_EXPIRY_ERROR_CODES)!=-1){t=new rdx.callback(rdx.utils,rdx.utils.do_logout,[true])}if(rdx.utils.is_defined(s)){s.call_back();t.call_back()}else{rdx.message_box.error(q.message,t)}return}var a=o.data.properties.success_callback;if(rdx.utils.is_defined(a)){a.call_back()}}catch(p){}})};rdx.file_browser.prototype.data_massage_response_callback=function(m){var g=m.get_unformatted_response();var h=[];var l=[];if(rdx.utils.is_defined(g)&&(rdx.utils.is_defined(g[this._properties.remote_resource])||rdx.utils.is_defined(g[this._properties.remotefiledir]))){if(this._properties.append_path==false){h=g[this._properties.remotefiledir];for(var o=0;o<h.length;o++){if(rdx.utils.is_defined(h[o]["file_name"])){h[o]["name"]=h[o]["file_name"]}if(rdx.utils.is_defined(h[o]["file_last_modified"])){h[o].modified_timestamp=h[o]["file_last_modified"]}if(rdx.utils.is_defined(h[o]["file_size"])){h[o].size=rdx.view_formatters.size_in_bytes_formatter(null,null,h[o]["file_size"])}}}else{h=g[this._properties.remote_resource];for(var o=0;o<h.length;o++){if(rdx.utils.is_defined(h[o].filemode)&&$.inArray("DIRECTORY",h[o].filemode)!=-1){h[o].is_dir="true"}else{if(rdx.utils.is_not_defined(h[o].is_dir)){h[o].is_dir="false"}}h[o].name=h[o].filename;h[o].modified_timestamp=h[o].filemodifiedtime;h[o].accessed_timestamp=h[o].fileaccesstime}}for(var o=0;o<h.length;o++){if(h[o]["is_dir"]=="true"){if(this._properties.show_dirs){l.push(h[o])}}else{var n=h[o].name.substring(h[o].name.lastIndexOf("."),h[o].name.length);if(rdx.utils.is_defined(this._properties.filter_filetype)&&this._properties.filter_filetype.length>0&&rdx.utils.is_defined(n)&&n.length>0){if(rdx.utils.is_array(this._properties.filter_filetype)){if($.inArray(n,this._properties.filter_filetype)!=-1){l.push(h[o])}}else{if(n===this._properties.filter_filetype){l.push(h[o])}}}else{l.push(h[o])}}}}m.resume(l)};rdx.file_browser.prototype.get_container=function(){return this._container};rdx.file_browser.prototype.get_nitro_resrc_payload=function(d){var c={fileLocation:this._current_directory,filename:d};return c};rdx.splitter=function(c,d){this._parent=typeof(c)=="string"?$("#"+c):c;this._DEFAULT_PROPERTIES={vertical:true,outline:true,first_pane_min_size:0,second_pane_min_size:0,use_first_pane_size:null,class_names:"splitter"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d);this._splitter=$(document.createElement("div")).addClass(this._properties.class_names);this._first_pane=$(document.createElement("div")).addClass("pane");this._second_pane=$(document.createElement("div")).addClass("pane")};rdx.splitter.prototype.render=function(){this._parent.append(this._splitter.append(this._first_pane).append(this._second_pane));var b={outline:this._properties.outline,activeClass:"move"};b.splitbarClass=this._properties.vertical?"vertical_split_bar":"horizontal_split_bar";b.type=this._properties.vertical?"v":"h";if(this._properties.use_first_pane_size==true){b[this._properties.vertical?"sizeLeft":"sizeTop"]=true}else{if(this._properties.use_first_pane_size==false){b[this._properties.vertical?"sizeRight":"sizeBottom"]=true}}b[this._properties.vertical?"minLeft":"minTop"]=this._properties.first_pane_min_size;b[this._properties.vertical?"minRight":"minBottom"]=this._properties.second_pane_min_size;this._splitter.splitter(b);rdx.page.add_event_handler(rdx.events.PAGE_RESIZED,new rdx.callback(this,this.resize));return this};rdx.splitter.prototype.get_first_pane=function(){return this._first_pane};rdx.splitter.prototype.get_second_pane=function(){return this._second_pane};rdx.splitter.prototype.add_resize_handler=function(b){this._splitter.bind(rdx.events.RESIZE,{rdx_callback:b},function(a){a.data.rdx_callback.call_back()})};rdx.splitter.prototype.resize=function(){if(!rdx.utils.is_ie()||(rdx.utils.is_ie()&&parseInt($.browser.version)>=9)){var h=this._first_pane.height();var g=this._second_pane.height();var e=$(window).height();var f=e-rdx.page.get_header_height()-25;if(h>f&&h>g){f=h+30}else{if(g>f&&g>h){f=g+30}}rdx.page.get_content().height(f);this._splitter.css("height",f);if(!rdx.utils.is_chrome_safari()){this._splitter.css("width",rdx.page.get_content().width())}if(!(rdx.utils.is_ie()&&parseInt($.browser.version)<9)){this._splitter.trigger("resize")}}else{this._splitter.css("height",this._parent.height());if(!rdx.utils.is_chrome_safari()){this._splitter.css("width",rdx.page.get_content().width())}if(!(rdx.utils.is_ie()&&parseInt($.browser.version)<9)){this._splitter.trigger("resize")}}};rdx.tree_node=function(b){this._DEFAULT_PROPERTIES={name:"",view:null,tooltip:"",select:false,expand_selected:true,license_keys:[],show_if_not_licensed:false,nodes:[],is_valid_callback:null,is_node_icon_present:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b)};rdx.tree_node.prototype.get_is_node_icon_present=function(){return this._properties.is_node_icon_present};rdx.tree_node.prototype.get_name=function(){return rdx.i18n.get_string(this._properties.name)};rdx.tree_node.prototype.get_callback_function=function(){return this._properties.is_valid_callback};rdx.tree_node.prototype.get_view=function(){return this._properties.view};rdx.tree_node.prototype.get_tooltip=function(){if(rdx.utils.is_defined(this._properties.tooltip)){return rdx.i18n.get_string(this._properties.tooltip)}return""};rdx.tree_node.prototype.to_select=function(){return this._properties.select};rdx.tree_node.prototype.to_expand_selected=function(){return this._properties.expand_selected};rdx.tree_node.prototype.get_license_keys=function(){return this._properties.license_keys};rdx.tree_node.prototype.to_show_if_not_licensed=function(){return this._properties.show_if_not_licensed};rdx.tree_node.prototype.get_nodes=function(){return this._properties.nodes};rdx.tree=function(h,g,f,e){this._parent=typeof(h)=="string"?$("#"+h):h;this._tree_nodes=g;this._DEFAULT_PROPERTIES={swipe:true,is_accordion:false,show_expand_collapse_all:false,show_unlicensed_nodes:true,tree_pane_min_width:250,view_pane_min_width:500,expand_on_single_click:true,show_hide_licensed_features_link:false,deployment_nodes:null,tree_pane_width:"15%",tree_search:false,tree_favourites:null,select_child_node_with_view:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,f);this._show_favourites=((this._properties.tree_favourites!=false)&&rdx.utils.is_object(this._properties.tree_favourites)&&rdx.utils.is_callback(this._properties.tree_favourites.get_favourites)&&rdx.utils.is_callback(this._properties.tree_favourites.set_favourites))?true:false;this._properties.swipe=this._properties.search==true?false:this._properties.swipe;this._tree_pane=null;this._tree_menu=null;this._favourites=this._show_favourites?this._properties.tree_favourites.get_favourites.call_back():undefined;this._expand_collapse_table=null;this._show_hide_link_table=null;this._tree_div=null;this._view_pane=null;this._node_to_select=null;this._expand_selected_node=true;this._license_response=null;this._feature_response=null;this._VIEW_KEY_SEPARATOR="^";this._resource_list=(rdx.utils.is_defined(e))?e:null;this.resource_name_map={};this._resource_results={};this._license_resource=rdx.utils.is_defined(this._resource_list)&&rdx.utils.is_defined(this._resource_list[rdx.LICENSE_KEY])?rdx.utils.get_resource(this._resource_list[rdx.LICENSE_KEY]):null;this._feature_resource=rdx.utils.is_defined(this._resource_list)&&rdx.utils.is_defined(this._resource_list[rdx.FEATURE_KEY])?rdx.utils.get_resource(this._resource_list[rdx.FEATURE_KEY]):null;this._current_node_key=null;this._current_deployment=null;this._current_deploment_container=null;this._root_node=null;this._root_dyna_node=null;this._tree_mask_id="__tree_mask_id";this._input_search=null;this._clear_span=null;this._set_double_click_tree=false;this._set_single_click_tree=true;this._show_hide_licensed_features_link=null;this._tree_search_entities=new Array()};rdx.tree.prototype.render=function(){$(document.body).css("overflow-y","scroll");rdx.page.get_content().addClass("ns_content_with_nav_tree");if(rdx.utils.is_not_defined(this._resource_list)){this._render()}else{this._get_resource_data()}};rdx.tree.prototype._get_resource_data=function(n){var l=0;n=false||n;var g=null;for(key in this._resource_list){if(rdx.utils.is_not_defined(g)){var h=true;g=new rdx.model_executor_service(new rdx.callback(this,this._response_arrived,[n]),new rdx.callback(),h)}var m=this._resource_list[key];var o=rdx.utils.get_resource(m);g.add("get",o,null,null);this.resource_name_map[l++]={key:key,resource_name:m}}if(rdx.utils.is_defined(g)){g.execute()}else{rdx.mask.unmask_dom_element(this._tree_pane,this._tree_mask_id)}};rdx.tree.prototype.get_resource_result=function(b){return this._resource_results[b]};rdx.tree.prototype._response_arrived=function(n,o){var p=n.get_collated_response();var l=n.get_collated_result();var q=0;var m="";for(i=0,end_index=p.length;i<end_index;i++){this._resource_results[this.resource_name_map[i].key]=p[i][this.resource_name_map[i].resource_name];if((this.resource_name_map[i].key==rdx.LICENSE_KEY||this.resource_name_map[i].key==rdx.FEATURE_KEY)&&l[i]==false){m+="</br>"+p[i];q++}}if(q>0){var h=rdx.i18n.get_string("rdx.executor_service_error",{error_count:q,error_messages:m});rdx.message_box.error(h)}this._license_response=this.get_resource_result(rdx.LICENSE_KEY);this._feature_response=this.get_resource_result(rdx.FEATURE_KEY);if(o){this._render_tree_nodes();if(rdx.utils.is_defined(this._current_node_key)){this.select_node(this._current_node_key,true)}else{if(rdx.utils.is_defined(this._current_deployment)){if(rdx.utils.is_defined(this._node_to_select)){this.select_node(this._node_to_select.key,false)}else{if(rdx.utils.is_defined(this._root_node)){this.select_node(this._root_node.key,false)}}}}this._resize();rdx.mask.unmask_dom_element(this._tree_pane,this._tree_mask_id)}else{this._render()}};rdx.tree.prototype.get_view_definition=function(c){var d=this._tree_div.dynatree("getTree").getNodeByKey(c);return d.data.ns_view_definition};rdx.tree.prototype._refresh_tree_on_search=function(){};rdx.tree.prototype.refresh_tree=function(){rdx.mask.mask_dom_element(this._tree_pane,this._tree_mask_id);this._get_resource_data(true)};rdx.tree.prototype._add_search=function(){var b=$("<div>").addClass("search_div");this._input_search=$("<input type = 'text' placeholder = 'Search in tree'>").addClass("search_text_box smooth_all_corner");this._clear_span=$("<span>").addClass("clear hidden");b.append(this._input_search);b.append(this._clear_span);this._parent.before(b);this._clear_span.bind("mouseover",function(){$(this).addClass("hover")});this._clear_span.bind("mouseout",function(){$(this).removeClass("hover").removeClass("active")});this._clear_span.bind("mousedown",function(){$(this).addClass("active")});this._clear_span.bind("click",{tree:this,search_box:this._input_search},function(d){var a=d.data.tree;a.search("");d.data.search_box.val("");$(this).addClass("hidden")});b.bind("keyup",{tree:this},function(n){var o=n.data.tree;var l=o._input_search;var h=o._clear_span;var m=l.val();var a=o.search(m);if(m==""){h.addClass("hidden")}else{if(a){h.removeClass("hidden")}}o.set_all_rows_selected();o.set_all_rows_unselected()});return b};rdx.tree.prototype.toggle_collapse=function(){if(rdx.utils.is_not_defined(this._root_dyna_node)){return}this._root_dyna_node.visit(function(b){b.toggleExpand()})};rdx.tree.prototype.set_all_rows_selected=function(){if(rdx.utils.is_not_defined(this._root_dyna_node)){return}this._root_dyna_node.visit(function(b){b.select(true)})};rdx.tree.prototype.set_all_rows_unselected=function(){if(rdx.utils.is_not_defined(this._root_dyna_node)){return}this._root_dyna_node.visit(function(b){b.select(false)})};rdx.tree.prototype.search=function(g){this.show_all_nodes();if(g.length<1){this._clear=true;this._root_dyna_node.visit(function(a){$(a.li).show()});this.toggle_collapse();this._refresh_tree_on_search()}else{if(g.length>=1){this._clear=false;var h=this.get_child_list(this._root_dyna_node);if(rdx.utils.is_defined(h)){for(var e=0;e<h.length;e++){var f={hide:false};this._search_node(h[e],g,f)}}}}this._parent.trigger(rdx.events.UPDATE_COUNT);return true};rdx.tree.prototype.get_child_list=function(b){return b.childList};rdx.tree.prototype.show_all_nodes=function(){this._root_dyna_node.visit(function(b){b.expand(true);$(b.li).show();b.li.hidden=false})};rdx.tree.prototype._search_node=function(n,m,h){var o=this.get_child_list(n);if(rdx.utils.is_defined(o)){var l=true;for(var p=0;p<o.length;p++){var q={hide:false};this._search_node(o[p],m,q);l=l&&q.hide}if(l&&!this._is_pattern_present(n,m)){this._hide_node(n);h.hide=true}else{if(this._is_pattern_present(n,m)){h.hide=false;n.visit(function(a){a.expand(true);$(a.li).show();a.li.hidden=false})}else{h.hide=false}}}else{if(!this._is_pattern_present(n,m)){this._hide_node(n);h.hide=true}else{h.hide=false}}};rdx.tree.prototype._is_pattern_present=function(d,c){if((d.data.title.toLowerCase()).indexOf(c.toLowerCase())>=0){return true}return false};rdx.tree.prototype._get_all_nodes=function(f,h){var l=f.get_name();var m=f.get_nodes();if(rdx.utils.is_not_empty(h)){h=h+" > "+l}else{h=l}this._tree_search_entities.push(h);if(m.length>0){for(var g=0;g<m.length;g++){this._get_all_nodes(m[g],h)}}else{return}};rdx.tree.prototype._add_tree_search=function(){this._tree_search=$("<div>").addClass("tree-search");this._tree_search_input=$("<input>").attr({placeholder:rdx.i18n.get_string("Search here"),id:"tree_search_input_textbox"}).addClass("tree-search-text");this._tree_search_clear=$("<span>").addClass("search-clear");this._tree_search.append(this._tree_search_input);this._tree_search.append(this._tree_search_clear);this._tree_pane.append(this._tree_search);var c=this._tree_nodes[0].get_nodes();this._root_node_name=this._tree_nodes[0].get_name();for(var d=0;d<c.length;d++){this._get_all_nodes(c[d],"")}this._tree_search_suggestions=$("<div>").addClass("tree_search_suggestion");this._tree_pane.append(this._tree_search_suggestions);this._tree_search_clear.bind(rdx.events.CLICK,{that:this},function(b){var a=b.data.that;a._tree_search_input.val("");a._tree_search_suggestions.empty();$(".tree_search_suggestion").removeClass("border-bottom")});this._tree_search.bind(rdx.events.KEYUP,{that:this},function(h){var a=h.data.that;if(h.keyCode==27){rdx.get_tree()._expand_or_collapse_all(false);h.data.that._tree_search_suggestions.empty();$(".tree_search_suggestion").removeClass("border-bottom");return}var b=function(){if(($(".tree_search_suggestion .tree_search_suggestion_option").length>0)&&(!($(".tree_search_suggestion").hasClass("border-bottom")))){$(".tree_search_suggestion").addClass("border-bottom")}};var m=function(){a._search_items=new Array();a._tree_search_suggestions.empty();$(".tree_search_suggestion").removeClass("border-bottom");var s=a._tree_search_entities;var t=a._tree_search_input.val();if(rdx.utils.is_not_empty(t)){for(var e=0;e<s.length;e++){var f=s[e].toLowerCase();if(f.indexOf(t.toLowerCase())>-1){a._search_items.push(s[e])}}var u=a._search_items.length;if(u>0){a._tree_search_suggestions.hide();for(var e=0;e<u;e++){var v=a._root_node_name+a._VIEW_KEY_SEPARATOR+(a._search_items[e].split(" > ")).join(a._VIEW_KEY_SEPARATOR);if(rdx.utils.is_defined(a.get_node(v))){var g=a._search_items[e].split(">").join("<span class='node-separator'></span>");a._tree_search_suggestions.append($("<div>").addClass("tree_search_suggestion_option").attr("id",v).html(g))}}b();a._tree_search_suggestions.show()}}$(".tree_search_suggestion_option").bind(rdx.events.CLICK,{that:a},function(){var n=h.data.that,o=this.getAttribute("id");$(".tree_search_suggestion").removeClass("border-bottom");_tree_menu=n._tree_menu;_tree_div=n._tree_div;if($(_tree_menu).hasClass("closed")){n._close_favourites();$(_tree_div).slideDown(200);$(_tree_menu).removeClass("closed")}rdx.get_tree().select_node(o);n._tree_search_suggestions.empty()})};var l=(function(){var e=0;return function(f,g){clearTimeout(e);e=setTimeout(f,g)}})();l(function(){m()},500)})};rdx.tree.prototype._open_favourites=function(){var b=this._favourites_list;if($(b).hasClass("closed")){this._favourites_container.show(200);b.removeClass("closed")}};rdx.tree.prototype._close_favourites=function(){var b=this._favourites_list;if(!($(b).hasClass("closed"))){this._favourites_container.hide(200);this._favourites_list.addClass("closed")}};rdx.tree.prototype._add_favourites=function(){this._favourites_parent.addClass("border-bottom");this._favourites_list=$("<div>").addClass("favourites_list closed");this._favourites_list_content=$("<span>").addClass("favourite_list_content");this._favourites_icon=$("<span>").addClass("favourites_icon");this._favourites_menu_expander=$("<span>").addClass("favourites_menu_expander");this._favourites_list.append(this._favourites_list_content);this._favourite_title=$("<a>").addClass("favourite_title").text("Favourites").attr("href","#");this._favourites_list_content.append(this._favourites_menu_expander);this._favourites_list_content.append(this._favourite_title);this._favourites_list_content.append(this._favourites_icon);this._favourites_container=$("<div>").addClass("favourites_container");this._favourites_parent.append(this._favourites_list);this._favourites_parent.append(this._favourites_container);this._favourites_list.bind(rdx.events.CLICK,{that:this},function(p){var m=p.data.that;if($(this).hasClass("closed")){m._favourites=m._properties.tree_favourites.get_favourites.call_back();m._favourites_container.empty();for(var q=0;q<m._favourites.length;q++){var h=m._favourites[q],o=m.get_node(h),n=$("<div>").addClass("favourite_item").data("key",h),l=$("<span>").addClass("favourite_item_contents").html(o.data.title);n.append(l);m._favourites_container.append(n);n.bind(rdx.events.CLICK,{tree:m},function(a){var d=a.data.tree,b=$(this).data("key"),e=d.get_node(b),c=d.get_view_definition(b);$(".favourite_item.active").removeClass("active");$(this).addClass("active");if(rdx.utils.is_defined(d._current_node_key)){d.get_node(d._current_node_key).data.ns_view.destroy_view();e.data.ns_view=new rdx.base_view(d._view_pane,c);e.data.ns_view.prepare_view();d._current_node_key=b}})}m._open_favourites();$(m._tree_div).slideUp(200);$(m._tree_menu).addClass("closed")}else{m._close_favourites()}})};rdx.tree.prototype._add_menu=function(){this._tree_menu=$("<div>").addClass("tree_menu closed");this._menu_content=$("<span>").addClass("menu_content");this._menu_expander=$("<span>").addClass("menu_expander");this._menu_icon=$("<span>").addClass("menu_icon");this._tree_menu.append(this._menu_content);this._menu_title=$("<a>").addClass("menu_title").text("Menu").attr("href","#");this._menu_content.append(this._menu_title);this._menu_content.append(this._menu_expander);this._menu_content.append(this._menu_icon);if(rdx.utils.is_not_defined(this._tree_div)){this._tree_pane.append(this._tree_menu)}else{$(this._tree_menu).insertBefore($(this._tree_div));this._tree_menu.removeClass("closed")}this._tree_menu.bind(rdx.events.CLICK,{that:this},function(h){var g=h.data.that,f=g._tree_div,e=g._tree_menu;if($(e).hasClass("closed")){g._close_favourites();$(f).slideDown(200);$(e).removeClass("closed")}else{$(f).slideUp(200);$(e).addClass("closed")}})};rdx.tree.prototype._render=function(){this._container=$("<div>");var d=$("<table>").addClass("tree_nav_container").attr("cellspacing",0).attr("cellpadding",0).css("width","100%");var c=$("<tr>");this._tree_pane_cell=$("<td>").css({"min-width":this._properties.tree_pane_min_width,width:this._properties.tree_pane_width}).attr("valign","top");this._tree_pane_cell.addClass("tree_panel_cell");this._tree_pane=$("<div>").addClass("tree_pane");this._tree_pane_cell.append(this._tree_pane);if(this._properties.tree_search===true){this._add_tree_search()}this._favourites_parent=$("<div>").addClass("favourites_parent");this._tree_pane.append(this._favourites_parent);if(this._show_favourites===true&&rdx.utils.is_defined(this._favourites)&&this._favourites.length>0){this._add_favourites();this._add_menu()}this._second_pane_cell=$("<td>").addClass("rdx_second_pane_cell").attr("valign","top").css({"min-width":this._properties.view_pane_min_width});this.second_pane=$("<div>");this._navigation_div=$("<div>");this.second_pane.append(this._navigation_div).addClass("rdx_second_pane_container");this._second_pane_cell.append(this.second_pane);c.append(this._tree_pane_cell).append(this._second_pane_cell);d.append(c);this._view_pane=$("<div>");this.second_pane.append(this._view_pane);this._container.append(d);this._parent.append(this._container);rdx.global_title_bar=new rdx.title_bar(this._navigation_div,this._view_pane);this._render_tree_nodes();this._tree_div.dynatree("getTree").reactivate();rdx.page.add_event_handler(rdx.events.PAGE_RESIZED,new rdx.callback(this,this._resize));this._init_root();$(window).bind(rdx.events.SCROLL,{that:this},this._handle_page_scroll);$(window).resize();if(this._show_favourites===true&&this._favourites.length>0){this._tree_div.hide()}};rdx.tree.prototype._init_root=function(){var c=this._tree_div.dynatree("getRoot");if(this._properties.is_accordion==false){var d=this.get_child_list(c);if(d.length>0){c=d[0]}}this._root_dyna_node=c};rdx.tree.prototype._set_second_pane_width=function(){var h=$(document.body).attr("scrollHeight");var l=$(document.body).attr("clientHeight");var g=h>l;var n=navigator.userAgent;if(n&&n.indexOf("Mac OS X")!=-1){g=false}var m=g?18:0;var o=rdx.page.get_content().width()-this._tree_pane_cell.width()-25-m;this._second_pane_cell.width(o);this.second_pane.width(o)};rdx.tree.prototype._hide_node=function(b){if(rdx.utils.is_defined(b.li)){$(b.li).hide();b.li.hidden=true}};rdx.tree.prototype._favourite_icon_click_handler=function(q){var p=q.data.node,l=p.tree.options.ns_tree,n=l._properties.tree_favourites.get_favourites.call_back(),s=p.data.key,m=s.split(l._VIEW_KEY_SEPARATOR);if($(".favourites_list").length<=0){l._add_favourites();l._add_menu()}if($.inArray(p.data.key,n)==-1){var o=$("<div>").addClass("favourite_item").data("key",s),t=$("<span>").addClass("favourite_item_contents").html(m[m.length-1]);o.append(t);$(".favourites_container").append(o);n.push(s);l._properties.tree_favourites.set_favourites.call_back(n);$(this).addClass("favourite");if($(".favourites_list").hasClass("closed")){$(".favourites_container").hide()}o.bind("click",{tree:l},function(e){var c=e.data.tree,a=$(this).data("key"),d=c.get_node(a),b=c.get_view_definition(a);$(".favourite_item").each(function(f){if(f.hasClass("active")){f.removeClass("active")}});this.addClass("active");if(rdx.utils.is_defined(c._current_node_key)){c.get_node(c._current_node_key).data.ns_view.destroy_view();d.data.ns_view=new rdx.base_view(l._view_pane,b);d.data.ns_view.prepare_view();c._current_node_key=a}})}else{$(this).removeClass("favourite");$(".favourite_item:contains("+m[m.length-1]+")").remove();n=$.grep(n,function(a){return a!=s});l._properties.tree_favourites.set_favourites.call_back(n);if($(".favourite_item").length<=0){l._favourites_parent.empty();l._favourites_parent.removeClass("border-bottom");l._tree_menu.remove()}}q.stopPropagation()};rdx.tree.prototype._render_tree_nodes=function(){var h={idPrefix:"Tree",generateIds:true,activeVisible:true,debugLevel:0,clickFolderMode:1,autoCollapse:this._properties.swipe,ns_tree:this};if(this._properties.swipe===true){h.fx={height:"toggle",duration:200}}if(this._properties.is_accordion){h.classNames={expander:"accordion-expander",keyboard:true,active:"accordion-active",connector:"accordion-connector"}}this._construct_dyna_tree_nodes(this._tree_nodes,h,true,"");var m=null;if(this._node_to_select){m=this._node_to_select}else{if(h.children&&h.children.length>0){m=h.children[0]}}if(m){m.activate=true;m.expand=this._expand_selected_node}h.onFocus=function(a){a.activate()};var l=this;if(this._properties.is_accordion==true||this._properties.expand_on_single_click==true){h.onClick=function(a,b){var c=a.getEventTargetType(b);if(b&&c=="expander"){return}a.toggleExpand()}}if(this._properties.expand_on_single_click==true){h.onDblClick=function(a){if(rdx.utils.is_not_defined(a.parent.getParent().li)){l._set_double_click_tree=true;l._set_single_click_tree=false}else{a.toggleExpand()}}}h.onKeyup=function(a,b){};h.onActivate=function(d){var c=d.tree.options.ns_tree;c._clear_selected_node();var a=d.data.ns_license_keys;if(rdx.status_bar){if(!c.is_licensed(a)){rdx.status_bar.update_status(rdx.i18n.get_string("rdx.tree_feature_not_licensed",{license_label:c.get_license_label(a)}))}else{if(!c.is_enabled(a)){rdx.status_bar.update_status(rdx.i18n.get_string("rdx.tree_feature_not_enabled",{license_label:c.get_license_label(a)}))}}}if(!d.data.ns_view_definition){if(c._properties.select_child_node_with_view==false){c._view_pane.html('<p align="center"><b>'+rdx.i18n.get_string("rdx.page_under_construction")+"</b></p>")}else{if(rdx.utils.is_defined(d.childList)){var e=c._get_leaf_node_view(d,c);if(rdx.utils.is_defined(e)){setTimeout(function(){c._select_node(e)},600)}else{c._view_pane.html('<p align="center"><b>'+rdx.i18n.get_string("rdx.page_under_construction")+"</b></p>")}}}return}var b=d.data.ns_view_definition;if(!b.view_properties){b.view_properties=new Object()}c._current_node_key=b.__tree_key;d.data.ns_view=new rdx.base_view(c._view_pane,b);d.data.ns_view.prepare_view();$(d.span).bind(rdx.events.CONTEXT_MENU,{tree:c},function(w){var f=w.data.tree;var x=f.get_node(f._current_node_key);if(rdx.utils.is_defined(x)){if(rdx.utils.is_defined(rdx.global_title_bar)){var g=rdx.global_title_bar.get_current_crumb();if(rdx.utils.is_defined(g.view_info)&&rdx.utils.is_defined(g.view_info.base_view)){if(rdx.view_utils.get_tree_key(g.view_info.base_view.get_view_definition())!=rdx.view_utils.get_tree_key(x.data.ns_view.get_view_definition())){return true}}}var v=c._prepare_tree_menu_items(x.data);if(v.length>0){new rdx.context_menu($(x.span),v,new rdx.callback(f,f.get_item_info,[x.data.ns_view]),{menu_event:w,show:true}).build_menu();return false}}return true})};h.onDeactivate=function(a){a.tree.options.ns_tree._clear_selected_node()};h.onRender=function(a,b){var c=a.tree.options.ns_tree;if(c._show_favourites===true){c._favourites=c._properties.tree_favourites.get_favourites.call_back();if($.inArray(a.data.key,c._favourites)>-1){$(b).find(".dynatree-icon").addClass("favourite")}if($(b).find(".dynatree-icon").length>0){$(b).find(".dynatree-icon").bind("click",{node:a},c._favourite_icon_click_handler)}}if($(b).hasClass("document_disabled")||$(b).hasClass("folder_disabled")){$(b).append('<span class="dynatree_alert dynatree_disabled"></span>')}if($(b).hasClass("document_unlicensed")||$(b).hasClass("folder_unlicensed")){$(b).append('<span class="dynatree_alert dynatree_unlicensed"></span>')}};if(this._properties.show_expand_collapse_all){this._expand_collapse_table=$("<table>").addClass("expand_collapse_table");var q=$("<td>").append(this._create_expand_or_collapse_all_link(true));var p=$("<td>").addClass("right_align").append(this._create_expand_or_collapse_all_link(false));this._tree_pane.append(this._expand_collapse_table.append($("<tr>").append(q).append(p)))}if(rdx.utils.is_defined(this._tree_div)){this._tree_div.remove()}if(rdx.utils.is_defined(this._deployment_container)){this._deployment_container.remove()}this._tree_div=$("<div>").addClass("tree_div").dynatree(h);this._tree_div.addClass("disallow_selection");rdx.register_tree(this);this._tree_pane.append(this._tree_div);if(rdx.utils.is_defined(this._properties.deployment_nodes)){this._render_deployment_tree()}if(this._properties.show_hide_licensed_features_link){this._tree_div.addClass("tree_div_with_features_link");if(rdx.utils.is_defined(this._show_hide_link_table)){this._show_hide_link_table.remove()}this._show_hide_link_table=$("<table>").addClass("expand_collapse_table").addClass("show_hide_license_link");this._show_hide_licensed_features_link=this._create_show_hide_unlicensed_nodes_link();var n=$("<td>").append(this._show_hide_licensed_features_link);this._tree_pane.append(this._show_hide_link_table.append($("<tr>").append(n)))}else{this._tree_div.addClass("tree_div_plain")}if(rdx.utils.is_defined(this._properties.show_information_box)&&this._properties.show_information_box){this._tree_information_box=$("<div>").addClass("information_box");this._tree_pane.append(this._tree_information_box);this._information_box_header=$("<div>").append(rdx.i18n.get_string("rdx.message_box_information")).addClass("information_box_header");this._tree_information_box.append(this._information_box_header);if(rdx.utils.is_defined(this._properties.information_text)){this._information_box=$("<div>").append(rdx.i18n.get_string(this._properties.information_text)).addClass("information_box_text");this._tree_information_box.append(this._information_box);if(rdx.utils.is_defined(this._properties.information_box_link_text)){var o=$("<a>").append(rdx.i18n.get_string(this._properties.information_box_link_text)).addClass("information_box_link");if(rdx.utils.is_defined(this._properties.information_box_link_click_callback)){o.bind(rdx.events.CLICK,{callback:this._properties.information_box_link_click_callback},function(a){a.data.callback.call_back()});this._tree_information_box.append(o)}}}}$(this).trigger(rdx.events.LOAD);if(rdx.utils.is_defined(rdx.app_search)){delete rdx.app_search}};rdx.tree.prototype._get_leaf_node_view=function(l,g){if(rdx.utils.is_defined(l.data)&&rdx.utils.is_defined(l.data.ns_view_definition)){return l}else{var m=null;if(rdx.utils.is_defined(l.childList)){for(var h=0;h<l.childList.length;h++){var f=l.childList[h];m=g._get_leaf_node_view(f,g);if(rdx.utils.is_defined(m)){break}}}return m}};rdx.tree.prototype._clear_view_node=function(){if(rdx.utils.is_not_defined(this._current_node_key)){return}var b=this.get_node(this._current_node_key);if(rdx.utils.is_defined(b)){if(b.data.ns_view){b.data.ns_view.destroy_view();b.data.ns_view=null}b.tree.options.ns_tree._view_pane.children().remove()}this._current_node_key=null};rdx.tree.prototype._clear_selected_node=function(){if(rdx.utils.is_defined(this._navigation_div)){this._navigation_div.show()}this._clear_view_node();if(rdx.utils.is_defined(this._current_deployment)){this._current_deployment.destroy();this._current_deploment_container.removeClass("rdx_tree_selected_deployment");this._current_deployment=null;this._current_deploment_container=null}};rdx.tree.prototype._render_deployment_tree=function(){this._deployment_container=$("<div>").addClass("rdx_deployment_main_container");if(rdx.utils.is_defined(this._properties.deployment_type_title)){var deployment_title_container=$("<span>").addClass("rdx_tree_deployment_title_container").append(rdx.i18n.get_string(this._properties.deployment_type_title));this._deployment_container.append(deployment_title_container)}var main_container=$("<table>").addClass("rdx_tree_deployment").attr("cellPadding",0).attr("cellSpacing",0);for(var ind=0;ind<this._properties.deployment_nodes.length;ind++){var row=$("<tr>");var cell=$("<td>").append($("<span>").addClass(this._properties.deployment_nodes[ind]["image_class_name"]).append(rdx.i18n.get_string(this._properties.deployment_nodes[ind]["name"])));row.append(cell);cell.bind(rdx.events.CLICK,{tree:this,deployment:this._properties.deployment_nodes[ind]},function(event){var tree=event.data.tree;var deployment=event.data.deployment;if(rdx.utils.is_defined(tree._current_deploment_container)){tree._current_deploment_container.removeClass("rdx_tree_selected_deployment")}tree._clear_selected_node();tree._current_deploment_container=$(this);tree._expand_or_collapse_all(false);if(rdx.utils.is_defined(tree._navigation_div)){tree._navigation_div.hide()}if(rdx.utils.is_defined(deployment.class_name)){var args="tree._view_pane";var deployment=eval("new "+deployment.class_name+"("+args+");");deployment.render();tree._current_deployment=deployment}$(this).addClass("rdx_tree_selected_deployment")});main_container.append(row)}this._deployment_container.append(main_container);this._tree_pane.append(this._deployment_container)};rdx.tree.prototype.get_item_info=function(d){var c=d.get_item_info();c.action_item_data=[];return c};rdx.tree.prototype._prepare_tree_menu_items=function(q){var n=q.ns_view.get_action_items();var t=new Array();if(rdx.utils.is_not_defined(n)){return t}for(var m=0;m<n.length;m++){if(n[m].is_no_selection()||n[m].is_independent_of_selection()){t.push(n[m])}else{continue}}var l=q.ns_license_keys;if(rdx.utils.is_not_defined(l)||l.length==0){return t}else{if(t.length>0){t[t.length-1]._properties.add_separator=true}}if(!this.is_licensed(l)){return t}if(this.is_enabled(l)){var o={label:"rdx.tree_disable_feature",tooltip:rdx.i18n.get_string("rdx.tree_disable_feature_tooltip"),image_url:rdx.images.DOCUMENT_DISABLE_IMG,no_selection:true,click_handler_callback:new rdx.callback(this,this._trigger_feature_enable_disable,[q,"disable"])};var s=new rdx.action(o);t.push(s)}else{var p={label:"rdx.tree_enable_feature",tooltip:rdx.i18n.get_string("rdx.tree_enable_feature_tooltip"),image_url:rdx.images.DOCUMENT_ENABLE_IMG,no_selection:true,click_handler_callback:new rdx.callback(this,this._trigger_feature_enable_disable,[q,"enable"])};var s=new rdx.action(p);t.push(s)}return t};rdx.tree.prototype._trigger_feature_enable_disable=function(e,f,d){rdx.model.post(this._feature_resource,new rdx.callback(this,this.refresh_tree),{feature:f.ns_license_keys},new rdx.callback(this,this._handle_error),d,null,this._parent)};rdx.tree.prototype._handle_error=function(b){rdx.mask.unmask_dom_element(this._tree_pane,this._tree_mask_id);if(rdx.utils.is_not_defined(b)){return}rdx.message_box.error(b);rdx.status_bar.update_status(b,rdx.ERROR)};rdx.tree.prototype._resize=function(){if(this._container.css("display")=="none"){return}var o=this._tree_pane.outerWidth(true);if(rdx.utils.is_defined(this._expand_collapse_table)){rdx.utils.set_width(this._expand_collapse_table,o)}var q=0;if(rdx.utils.is_defined(this._show_hide_link_table)){this._show_hide_link_table.width(o)}if(!rdx.utils.is_chrome_safari()){this._container.css("width",rdx.page.get_content().width())}this._set_second_pane_width();if(!rdx.utils.is_chrome_safari()){rdx.utils.set_width(this._tree_div,o)}var p=$(window).height();var s=$(document.body).height();var t=p>s?p:s;var l=this._tree_pane.position();var n=rdx.page.get_header_position();this._tree_pane.css("min-height",(window.innerHeight-rdx.page.get_header_height()));var m={data:{that:this}};this._handle_page_scroll(m)};rdx.tree.prototype._handle_page_scroll=function(o){var p=o.data.that;var l=rdx.page.get_header_position();if(rdx.utils.is_defined(l)){var n=$(document).scrollTop();var q=$(document).scrollLeft();var h=rdx.page.get_header_position();var m=rdx.page.get_header_height()+h.top;if(n>m){m=0}else{if(n!=0){m=m-n}}}};rdx.tree.prototype._create_expand_or_collapse_all_link=function(e){var f=rdx.i18n.get_string(e?"rdx.expand_all":"rdx.collapse_all");var d=rdx.i18n.get_string(e?"rdx.tree_expand_all_tooltip":"rdx.tree_collapse_all_tooltip");return $("<a>").attr("href","#noAnchor").text(f).attr("title",d).bind(rdx.events.CLICK,{rdx_tree:this,expand:e},function(a){a.data.rdx_tree._expand_or_collapse_all(a.data.expand)})};rdx.tree.prototype._create_show_hide_unlicensed_nodes_link=function(){var b=this._get_show_hide_licensed_nodes_text();return $("<a>").attr("href","#noAnchor").text(b).bind(rdx.events.CLICK,{rdx_tree:this},function(a){a.data.rdx_tree._properties.show_unlicensed_nodes=!a.data.rdx_tree._properties.show_unlicensed_nodes;var d=a.data.rdx_tree._get_show_hide_licensed_nodes_text();$(this).text(d);a.data.rdx_tree.refresh_tree()})};rdx.tree.prototype._get_show_hide_licensed_nodes_text=function(){return rdx.i18n.get_string(this._properties.show_unlicensed_nodes?"rdx.hide_unlicensed_nodes":"rdx.show_unlicensed_nodes")};rdx.tree.prototype._expand_or_collapse_all=function(b){if(this._properties.swipe){this._tree_div.dynatree("option","autoCollapse",false)}this._tree_div.dynatree("getRoot").visit(function(e){var f=e.childList;if(rdx.utils.is_defined(f)){for(var a=0;a<f.length;a++){f[a].expand(b)}}});if(this._properties.swipe){this._tree_div.dynatree("option","autoCollapse",true)}};rdx.tree.prototype._is_first_level_node=function(c){if(rdx.utils.is_defined(c)){var d=c.split(this._VIEW_KEY_SEPARATOR);if(d.length==2){return 1}else{return 0}}return 0};rdx.tree.prototype._construct_dyna_tree_nodes=function(x,L,K,G){for(var C=0,y=x.length;C<y;C++){var w=((G)?G:"")+((x[C].get_name())?x[C].get_name():"");var A=this._show_favourites?null:false;if(rdx.utils.is_defined(x[C].get_view())){x[C].get_view().__tree_key=w;x[C].get_view().add_to_bread_crumb=true;if(rdx.utils.is_not_defined(x[C].get_view().view_properties)||rdx.utils.is_not_defined(x[C].get_view().view_properties.title)){if(rdx.utils.is_not_defined(x[C].get_view().view_properties)){x[C].get_view().view_properties={}}x[C].get_view().view_properties.title=x[C].get_name();var F=this._is_first_level_node(x[C].get_view().__tree_key);A=(this._show_favourites&&(!(F)))?null:false}}var H={title:x[C].get_name(),key:w,ns_view_definition:x[C].get_view(),tooltip:x[C].get_tooltip(),ns_license_keys:x[C].get_license_keys(),icon:A};if(K==true){this._root_node=H}if(rdx.utils.is_defined(x[C].get_callback_function())){var v=x[C].get_callback_function();var J=v.call_back([new rdx.tree_callback_params({resource_results:this._resource_results})]);if(J==false){continue}}var E="";var z=x[C].get_license_keys();var D=x[C].to_show_if_not_licensed();if(z.length>0){if(!this.is_licensed(z)){if(!D){if(!this._properties.show_unlicensed_nodes){continue}E="_unlicensed"}}else{if(D){continue}else{if(!this.is_enabled(z)){E="_disabled"}}}}var I=x[C].get_nodes();var B="";if(this._properties.is_accordion){B="accordion_"}if(K&&this._properties.is_accordion){H.addClass="accordion"+E;this._construct_dyna_tree_nodes(I,H,false,"")}else{if(rdx.utils.is_defined(x[C].get_view())){if(rdx.utils.is_defined(x[C].get_view().view_properties)){if(x[C].get_view().view_properties.tested_ok){E="_tested"}}}if(I.length>0){H.addClass=B+"folder"+E;this._construct_dyna_tree_nodes(I,H,false,w+this._VIEW_KEY_SEPARATOR)}else{H.addClass=B+"document"+E}}if(!L.children){L.children=[]}L.children.push(H);if(!this._node_to_select&&x[C].to_select()){this._expand_selected_node=x[C].to_expand_selected();this._node_to_select=H}}};rdx.tree.prototype.is_licensed=function(f){if(!this._license_response){return true}for(var d=0,e=f.length;d<e;d++){if(this._license_response[f[d]]==false){return false}}return true};rdx.tree.prototype.is_enabled=function(f){if(!this._feature_response){return true}for(var d=0,e=f.length;d<e;d++){if(this._feature_response[f[d]]==false){return false}}return true};rdx.tree.prototype.get_license_label=function(b){if(b.length>0&&rdx.utils.is_defined(this._license_resource)){if(this._license_resource.properties[b[0]]){return rdx.i18n.get_string(this._license_resource.properties[b[0]].label)}else{return b[0]}}return""};rdx.tree.prototype.get_node=function(d){var c=this._tree_div.dynatree("getTree").getNodeByKey(d);if(c==null){return null}return c};rdx.tree.prototype.select_node=function(d,e){var f=this._tree_div.dynatree("getTree").getNodeByKey(d);if(f==null){return false}this._select_node(f,e);return true};rdx.tree.prototype._select_node=function(c,d){if(c.isActive()){c.deactivate();c.activate()}else{if(rdx.utils.is_not_defined(d)){c.expand()}c.activate()}};rdx.tree.prototype.reinit_tree_menu=function(){var d=this.get_node(this._current_node_key);if(rdx.utils.is_not_defined(d)){return}var c=this._prepare_tree_menu_items(d.data);if(c.length>0){new rdx.context_menu($(d.span),c,new rdx.callback(this,this.get_item_info,[d.data.ns_view])).build_menu()}};rdx.tree.prototype.activate_current_node=function(){this.select_node(this._current_node_key,false)};rdx.tree.prototype.get_view_title=function(c){var d=this._tree_div.dynatree("getTree").getNodeByKey(c);return d.data.title};rdx.tree.prototype.re_render_selected_node=function(b){this._render_tree_nodes();this.select_node(b,false)};rdx.tree_callback_params=function(b){this._properties=b};rdx.tree_callback_params.prototype.get_resource_response=function(b){return this._properties.resource_results[b]};rdx.vertical_accordion_navigation=function(h,g,f,e){this._parent=typeof(h)=="string"?$("#"+h):h;this._tree_nodes=g;this._DEFAULT_PROPERTIES={swipe:true,is_accordion:false,show_expand_collapse_all:false,show_unlicensed_nodes:true,tree_pane_min_width:250,view_pane_min_width:500,expand_on_single_click:true,show_hide_licensed_features_link:false,deployment_nodes:null,tree_pane_width:"15%"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,f);this._tree_pane=null;this._expand_collapse_table=null;this._show_hide_link_table=null;this._tree_div=null;this._view_pane=null;this._node_to_select=null;this._expand_selected_node=true;this._license_response=null;this._feature_response=null;this._VIEW_KEY_SEPARATOR="^";this._resource_list=(rdx.utils.is_defined(e))?e:null;this.resource_name_map={};this._resource_results={};this._license_resource=rdx.utils.is_defined(this._resource_list)&&rdx.utils.is_defined(this._resource_list[rdx.LICENSE_KEY])?rdx.utils.get_resource(this._resource_list[rdx.LICENSE_KEY]):null;this._feature_resource=rdx.utils.is_defined(this._resource_list)&&rdx.utils.is_defined(this._resource_list[rdx.FEATURE_KEY])?rdx.utils.get_resource(this._resource_list[rdx.FEATURE_KEY]):null;this._current_node_key=null;this._current_deployment=null;this._current_deploment_container=null;this._root_node=null;this._tree_mask_id="__tree_mask_id";this._set_double_click_tree=false;this._set_single_click_tree=true;this._show_hide_licensed_features_link=null;this._view_name_def_map={};this._secondary_menu_context_children={};this._target_objects={};this._resource_key_map={};this._current_view=null;this._first_time_flag=false;this._default_click_flag=false;this._prototype_views=["Agents","App Templates"];this._no_secondary_tree=false;this._prototyped_marker='<div class= "prototyped"></div>'};rdx.vertical_accordion_navigation.prototype.render=function(){this._parent.addClass("accordion_menu");if(rdx.utils.is_not_defined(this._resource_list)){this._render()}else{this._get_resource_data()}};rdx.vertical_accordion_navigation.prototype._get_resource_data=function(b){};rdx.vertical_accordion_navigation.prototype._initialize_data=function(){for(var T=0;T<this._tree_nodes.length;T++){var U=this._tree_nodes[T];var n=U.get_nodes();var aa=U.get_name();if(rdx.utils.is_defined(n)){for(var Z=0;Z<n.length;Z++){var ac=aa;var ag=n[Z];var R=ag.get_name();var N=ag.get_link();var ah=N.get_nodes();ac=ac+"^"+R;for(var l=0;l<ah.length;l++){var J=ah[l].get_name();var ad=ah[l].get_nodes();var ae=ah[l].get_view();var P=ac+"^"+J;if(rdx.utils.is_defined(ae)&&rdx.utils.is_defined(ae.resource_name)&&ae.resource_name!==""){this._resource_key_map[ae.resource_name]=P}if(rdx.utils.is_defined(ad)){for(var m=0;m<ad.length;m++){var W=ad[m].get_name();var L=ad[m].get_view();var ai=P+"^"+W;if(rdx.utils.is_defined(L)&&rdx.utils.is_defined(L.resource_name)&&L.resource_name!==""){this._resource_key_map[L.resource_name]=ai}}}}}}var V=U.get_link();if(rdx.utils.is_defined(V)){var ab=V.get_nodes();for(var K=0;K<ab.length;K++){var ac=aa;var aj=ab[K].get_name();var Q=ab[K].get_nodes();var S=ab[K].get_view();var P=ac+"^"+aj;if(rdx.utils.is_defined(S)&&rdx.utils.is_defined(S.resource_name)&&S.resource_name!==""){this._resource_key_map[S.resource_name]=P}for(var M=0;M<Q.length;M++){var af=Q[M].get_name();var O=Q[M].get_view();var ai=P+"^"+af;if(rdx.utils.is_defined(O)&&rdx.utils.is_defined(O.resource_name)&&O.resource_name!==""){this._resource_key_map[O.resource_name]=ai}}}}}};rdx.vertical_accordion_navigation.prototype.get_key_by_resource=function(b){if(rdx.utils.is_defined(b)&&b!==""){return this._resource_key_map[b]}return""};rdx.vertical_accordion_navigation.prototype._render=function(){this._initialize_data();var f=$("<div>").addClass("vertical_accordion_tree");this._navigation_primary=$("<div>").addClass("navigation narrowed");this._navigation_secondary=$("<div>").addClass("navigation_secondary");this._page_content=$("<div>").addClass("page_content");f.append(this._navigation_primary);f.append(this._navigation_secondary);var e=$("<div>").addClass("ui_page_container");e.append(f);e.append(this._page_content);this._parent.append(e);this.second_pane=$("<div>");this._navigation_div=$("<div>");this.second_pane.append(this._navigation_div).addClass("rdx_second_pane_container");this._view_pane=$("<div>").addClass("main_view_container");this.second_pane.append(this._view_pane);this._page_content.append(this.second_pane);rdx.global_title_bar=new rdx.title_bar(this._navigation_div,this._view_pane);this._primary_list=$("<div>").addClass("list");this._navigation_primary.append(this._primary_list);this._secondary_selected_menu=$("<div>").addClass("selected-menu");this._secondary_list=$("<div>").addClass("list");this._navigation_secondary.append(this._secondary_selected_menu);this._navigation_secondary.append(this._secondary_list);this._menu_items_link={};for(var d=0;d<this._tree_nodes.length;d++){this._render_nodes(this._tree_nodes[d])}this.register_event_handlers();rdx.register_tree(this)};rdx.vertical_accordion_navigation.prototype._render_nodes=function(s,z){var y=s;var x=y.get_name();var A=y.get_nodes();var t=y.get_link();var q=$("<div>").addClass("item clearfix menu-item primary-menu");var B=y.get_icon_class();var u=$("<span>").addClass(B+" icon");var v=$("<span>").addClass("menu").append(x);count_elem=$("<span>").addClass("count");q.append(u);q.append(v);q.append(count_elem);if(rdx.utils.is_not_defined(z)){this._primary_list.append(q)}var w=x;q.attr("data-view_name",w);this._target_objects[w]=q;if(rdx.utils.is_defined(t)){this._menu_items_link[w]=t;q.addClass("primary-menu-item")}q.attr("title",x);var p=$("<div>").addClass("sub-list menu-item primary-menu-item");if(z==true){this._primary_list.prepend(p)}else{this._primary_list.append(p)}if(z==true){this._primary_list.prepend(q)}this._render_sublist_menu_items(p,A,null,count_elem,w)};rdx.vertical_accordion_navigation.prototype._render_sublist_menu_items=function(e,H,J,y,N){var K=0;try{if(rdx.utils.is_not_empty($(y).text())){var C=parseInt($(y).text());K=C}}catch(B){}y.empty();var M=H.length+K;if(M>0){y.append(M)}for(var F=0;F<H.length;F++){var L=H[F];var I=L.get_name();var x=L.get_link();var G=$("<div>").addClass("item clearfix lower-menu");var z=L.get_icon_class();var A=$("<span>").addClass(z+" icon");var E=$("<span>").addClass("menu");E.append(I);y=$("<span>").addClass("count");G.append(A);G.append(E);G.append(y);e.append(G);G.attr("title",I);var D=N+"^"+I;G.attr("data-view_name",D);this._target_objects[D]=G;if(rdx.utils.is_defined(x)){this._menu_items_link[D]=x}}};rdx.vertical_accordion_navigation.prototype.register_event_handlers=function(){var b=this;b._primary_list.bind(rdx.events.CLICK,{accordion_menu:this},function(a){b._process_and_allocate_events(a);a.stopPropagation();a.stopImmediatePropagation()})};rdx.vertical_accordion_navigation.prototype._get_target=function(d){var c=d.target||d.srcElement||d.originalTarget;return $(c)};rdx.vertical_accordion_navigation.prototype._process_and_allocate_events=function(d){if(!rdx.utils.is_defined(d)){return}var c=this._get_target(d);while(true){if(c.hasClass("menu-item")){break}c=c.parent()}if((c.hasClass("primary-menu")&&c.hasClass("primary-menu-item"))||c.hasClass("primary-menu-item")){this._show_accordion_tree(d)}else{if(c.hasClass("primary-menu")){this._show_primary_menu_items(d)}}};rdx.vertical_accordion_navigation.prototype._show_primary_menu_items=function(d){if(!rdx.utils.is_defined(d)){return}var f=this._get_target(d);while(true){if(f.hasClass("item clearfix")){break}f=f.parent()}if(f.is(".selected")){f.removeClass("selected")}else{var e=f.parent();e.find(".selected").removeClass("selected");f.addClass("selected")}this._show_secondary_tree=false};rdx.vertical_accordion_navigation.prototype._show_accordion_tree=function(aB){if(!rdx.utils.is_defined(aB)){return}var a8=this._get_target(aB);while(true){if(a8.hasClass("item clearfix")){break}a8=a8.parent()}this._show_secondary_tree=true;var a0=this;var aR=a8.attr("data-view_name");var aS=aR;var aU=this._menu_items_link[aR];var aH=aU.get_name();var aW=aU.get_nodes();this._secondary_list.empty();this._secondary_selected_menu.empty();this._secondary_selected_menu.append(aH);if(a8.hasClass("primary-menu")||a8.hasClass("lower-menu")){var aZ=a8.parent();aZ.find(".selected").removeClass("selected");a8.addClass("selected")}var a6=null;var a7=null;var aY=false;for(var aG=0;aG<aW.length;aG++){var ay=aW[aG].get_name();var aL=aW[aG].get_nodes();var am=aW[aG].get_view();var aE=aS+"^"+ay;if(rdx.utils.is_defined(am)){this._view_name_def_map[aE]=am}var a5=$("<div>").addClass("item clearfix secondary_item");if(!aG){a6=a5;if(rdx.utils.is_not_defined(aW[aG].get_view())){aY=true}}a5.attr("data-view_name",aE);this._target_objects[aE]=a5;var aV=$("<span>").addClass("icon");aV.addClass(aW[aG].get_icon_class());if(aL.length){a5.addClass("expand_collapse_item");aV.addClass("plus")}var aX=$("<span>").addClass("menu");aX.append(ay);a5.append(aV);a5.append(aX);this._secondary_list.append(a5);if(aL.length){var aT=$("<div>").addClass("sub-list");a5.addClass("secondary_menu_item");for(var aI=0;aI<aL.length;aI++){var ax=aL[aI].get_name();var m=aL[aI].get_nodes();var p=aL[aI].get_view();var al=aE+"^"+ax;this._view_name_def_map[al]=p;var aF=$("<div>").addClass("item clearfix secondary_child accordion_child_node");if(aY==true&&!aI&&rdx.utils.is_defined(aL[aI].get_view())){a7=aF}aF.attr("data-view_name",al);this._target_objects[al]=aF;var aD=$("<span>").addClass("menu");aD.append(ax);aF.append(aD);aT.append(aF);if(m.length){var a4=$("<span>").addClass("icon plus");aF.prepend(a4);var aJ=$("<div>").addClass("sub-list");for(var aK=0;aK<m.length;aK++){var ar=m[aK].get_name();var az=m[aK].get_nodes();var aP=m[aK].get_view();var an=al+"^"+ar;this._view_name_def_map[an]=aP;var aq=$("<div>").addClass("item clearfix secondary_child accordion_child_node");aq.attr("data-view_name",an);this._target_objects[an]=aq;var a1=$("<span>").addClass("menu");a1.append(ar);aq.append(a1);aJ.append(aq);if(az.length){aq.prepend(a4);var aN=$("<div>").addClass("sub-list");for(var aM=0;aM<az.length;aM++){var au=az[aM].get_name();var aA=az[aM].get_nodes();var l=az[aM].get_view();var ao=an+"^"+au;this._view_name_def_map[ao]=l;var at=$("<div>").addClass("item clearfix secondary_child accordion_child_node");at.attr("data-view_name",ao);this._target_objects[ao]=at;var a2=$("<span>").addClass("menu");a2.append(au);at.append(a2);aN.append(at);if(aA.length){at.prepend(a4);var aO=$("<div>").addClass("sub-list");for(var aQ=0;aQ<aA.length;aQ++){var aw=aA[aQ].get_name();var aC=aA[aQ].get_nodes();var n=aA[aQ].get_view();var ap=ao+"^"+aw;this._view_name_def_map[ap]=n;var av=$("<div>").addClass("item clearfix secondary_child accordion_child_node");av.attr("data-view_name",ap);this._target_objects[ap]=av;var a3=$("<span>").addClass("menu").append(aw);a3.append(aw);av.append(a3);aO.append(av)}this._secondary_list.append(aO);this._secondary_menu_context_children[ao]=aO}}this._secondary_list.append(aN);this._secondary_menu_context_children[an]=aN}}this._secondary_list.append(aJ);this._secondary_menu_context_children[al]=aJ}}this._secondary_list.append(aT);this._secondary_menu_context_children[aE]=aT}}$(".secondary_item").bind(rdx.events.CLICK,{systemlog:this},function(a){a0._show_secondary_menu_items(a)});$(".secondary_child").bind(rdx.events.CLICK,{systemlog:this},function(a){a0._higlight_selected_menu(a)});$(".accordion_child_node").bind(rdx.events.CLICK,{systemlog:this},function(a){a0._load_selected_view(a)})};rdx.vertical_accordion_navigation.prototype._show_secondary_menu_items=function(v){var p=this._get_target(v);var q=null;while(true){if(p.hasClass("item clearfix")){break}p=p.parent()}var s=p.attr("data-view_name");var n=this._secondary_menu_context_children[s];if(p.is(".selected")){var m=p.attr("data-view_name").split("^")[0];if(p.hasClass("secondary_menu_item")){p.removeClass("selected")}if(p.hasClass("secondary_menu_item")){n.slideUp(200)}}else{var u=p.parent();u.find(".selected").removeClass("selected");var t=this._secondary_menu_context_children;for(var o in t){if(t.hasOwnProperty(o)){t[o].slideUp(200)}}if(p.hasClass("secondary_menu_item")){n.slideDown(200)}p.addClass("selected")}this._load_view(s)};rdx.vertical_accordion_navigation.prototype.select_node=function(o,m){this.set_selected_node(o);var l=o.split("^");var h="";this.set_first_time_flag(true);for(var p=0;p<l.length;p++){var q=l[p];if(h===""){h=q}else{h=h+"^"+q}var n=this.get_context_obj(h);n.trigger("click")}this.set_first_time_flag(false)};rdx.vertical_accordion_navigation.prototype.is_first_time=function(){return this._first_time_flag};rdx.vertical_accordion_navigation.prototype.set_first_time_flag=function(b){this._first_time_flag=b};rdx.vertical_accordion_navigation.prototype.set_selected_node=function(b){this._node_to_select=b};rdx.vertical_accordion_navigation.prototype.get_selected_node=function(){return this._node_to_select};rdx.vertical_accordion_navigation.prototype.set_context_obj=function(d,c){this._target_objects[d]=c};rdx.vertical_accordion_navigation.prototype.get_context_obj=function(b){return this._target_objects[b]};rdx.vertical_accordion_navigation.prototype._show_secondary_navigation=function(d){var c=600;if(d){this._navigation_secondary.css("left","240px");this._page_content.css("margin-left","450px");this._navigation_secondary.show()}else{this._navigation_secondary.hide(c);this._page_content.animate({"margin-left":240},c)}};rdx.vertical_accordion_navigation.prototype._show_full=function(e){var f=600;var d=this;if(e){d._navigation_secondary.animate({left:240},f,function(){d._navigation_primary.removeClass("narrowed")});d._page_content.animate({"margin-left":450},f,function(){if(rdx.utils.is_defined(d._current_view.get_view().recalculate_widths_and_heights)){d._current_view.get_view().recalculate_widths_and_heights(true)}})}else{if(this._show_secondary_tree){d._navigation_secondary.animate({left:60},f,function(){d._navigation_primary.addClass("narrowed")});this._page_content.animate({"margin-left":270},f,function(){if(rdx.utils.is_defined(d._current_view.get_view().recalculate_widths_and_heights)){d._current_view.get_view().recalculate_widths_and_heights(false)}})}}};rdx.vertical_accordion_navigation.prototype._load_view=function(y){this._navigation_primary.show();this._navigation_secondary.show();this._clear_prev_view();for(var w=0;w<rdx.page.global_elements.length;w++){var v=rdx.page.global_elements[w];if(rdx.utils.is_defined(v["class"])){$("."+v["class"]).remove()}else{if(rdx.utils.is_defined(v.id)){$("#"+v.id).remove()}else{$(v.obejct).remove()}}}var A=this._view_name_def_map[y];if(!A){this._view_pane.html('<p align="center"><b>'+rdx.i18n.get_string("rdx.page_under_construction")+"</b></p>");return}if(!A.view_properties){A.view_properties=new Object()}var t=y.split("^");var u=t[t.length-1];if($.inArray(u,this._prototype_views)!==-1){$(".prototyped").show()}else{$(".prototyped").hide()}this._view_pane.empty();var x=new rdx.base_view(this._view_pane,A);if(rdx.utils.is_defined(rdx.global_title_bar)&&rdx.utils.is_defined(A.add_to_bread_crumb)&&A.add_to_bread_crumb){rdx.global_title_bar.clear_toolbar_items();rdx.global_title_bar.remove_all_crumbs();var B="";if(rdx.utils.is_defined(A.view_properties.title)){B=rdx.i18n.get_string(A.view_properties.title)}else{B=rdx.i18n.get_string(A.title)}var p="";var z=rdx.global_title_bar.get_current_crumb();if(rdx.utils.is_defined(z)){if(rdx.utils.is_defined(z.view_info)&&rdx.utils.is_defined(z.view_info.base_view)){if(rdx.utils.is_defined(A.bread_crumb_formatter)){this._bread_crumb_processing_data=z.view_info.base_view.get_view_context().get_data();var s=new rdx.formatter(A.bread_crumb_formatter);s.map_data_items(this._bread_crumb_processing_data);var q=s.get_map_values();if(rdx.utils.is_defined(q)&&(q.length)>0){p=q[0]}B=B+" : "+p}}}rdx.global_title_bar.add_crumb(B,x);x.bread_crumb_added(true)}x.prepare_view();this._navigation_primary.show();this._navigation_secondary.show();this._current_view=x};rdx.vertical_accordion_navigation.prototype._clear_prev_view=function(){if(rdx.utils.is_defined(this._current_view)){this._current_view.destroy_view();this._current_view=null}};rdx.vertical_accordion_navigation.prototype._higlight_selected_menu=function(d){var f=this._get_target(d);while(true){if(f.hasClass("item clearfix")){break}f=f.parent()}var e=f.parent();e.find(".selected").removeClass("selected");f.addClass("selected")};rdx.vertical_accordion_navigation.prototype._load_selected_view=function(e){this._navigation_primary.show();this._navigation_secondary.show();var h=this._get_target(e);while(true){if(h.hasClass("item clearfix")){break}h=h.parent()}var f=h.attr("data-view_name");var g=this._secondary_menu_context_children[f];this._load_view(f);this._navigation_primary.show();this._navigation_secondary.show()};rdx.vertical_accordion_navigation.prototype.animate_and_update_node=function(h){var f=h.element;var g=h.node_defn;var l=$(f).clone();var m=h.do_add;if(m==true){l.css("height",$(f).height()).css("width",$(f).width()).css("z-index",99999999);l.css("position","absolute").css("left",$(f).offset().left).css("top",$(f).offset().top);$(document.body).append(l);l.animate({left:$(this._primary_list).offset().left,top:$(this._primary_list).offset().top,opacity:"0.5",height:"10px",width:"10px"},2000,function(a){l.hide(300,function(){$(this).remove()});rdx.get_tree()._handle_animation_complete(h)})}else{this._remove_node(h)}};rdx.vertical_accordion_navigation.prototype._remove_node=function(e){for(var s=0;s<e.node_defn.tree_nodes.length;s++){var o=e.node_defn.tree_nodes[s].get_name();var t=this._get_node(o);if(t.is_node_present==true){var v=e.node_defn.tree_nodes[s].get_nodes();if(rdx.utils.is_defined(v)&&v.length>0){for(var u=0;u<v.length;u++){var n=this._get_sub_node(o+"^"+v[u].get_name());if(n.is_node_present==true){n.container.remove();var q=t.count_element.text();try{q=parseInt(q);if(q>0){q=q-1}t.count_element.empty().append(q)}catch(p){}}}}}}};rdx.vertical_accordion_navigation.prototype._handle_animation_complete=function(h){for(var m=0;m<h.node_defn.tree_nodes.length;m++){var f=h.node_defn.tree_nodes[m].get_name();var l=this._get_node(f);if(l.is_node_present==true){var g=h.node_defn.tree_nodes[m].get_nodes();if(rdx.utils.is_defined(g)&&g.length>0){this._render_sublist_menu_items(l.sub_list_cont,g,null,l.count_element,f)}}else{this._render_nodes(h.node_defn.tree_nodes[m],true)}}};rdx.vertical_accordion_navigation.prototype._get_node=function(f){var h={is_node_present:false};for(var m=0;m<this._primary_list.children().length;m++){var l=this._primary_list.children()[m];var g=$(l).children();if(rdx.utils.is_defined(g[1])&&$(g[1]).hasClass("menu")){if(f==$(g[1]).text()){h.is_node_present=true;h.count_element=$(g[2]);h.container=$(l);if(rdx.utils.is_defined(this._primary_list.children()[m+1]&&$(this._primary_list.children()[m+1]).hasClass("sub-list"))){h.sub_list_cont=$(this._primary_list.children()[m+1]);break}}}}return h};rdx.vertical_accordion_navigation.prototype._get_sub_node=function(p){var m={is_node_present:false};var h=false;for(var q=0;q<this._primary_list.children().length;q++){var o=this._primary_list.children()[q];var l=$(o).children();for(var n=0;n<l.length;n++){if(rdx.utils.is_defined(l[n])&&rdx.utils.is_defined($(l[n]).attr("data-view_name"))){if(p==$(l[n]).attr("data-view_name")){m.is_node_present=true;m.container=$(l[n]);h=true;break}}}if(h==true){break}}return m};rdx.vertical_accordion_navigation.prototype.get_view_definition=function(b){if(this._view_name_def_map[b]){return node.data.ns_view_definition}else{return null}};rdx.vertical_accordion_navigation.prototype.get_node=function(c){var d={};d.data={};d.data.key=c;d.data.ns_view_definition=this._view_name_def_map[c];return d};rdx.accordion_menu=function(b){this._DEFAULT_PROPERTIES={name:"",link:null,tooltip:"",select:false,expand_selected:true,license_keys:[],show_if_not_licensed:false,nodes:[],is_valid_callback:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b)};rdx.accordion_menu.prototype.get_name=function(){return rdx.i18n.get_string(this._properties.name)};rdx.accordion_menu.prototype.get_callback_function=function(){return this._properties.is_valid_callback};rdx.accordion_menu.prototype.get_tooltip=function(){if(rdx.utils.is_defined(this._properties.tooltip)){return rdx.i18n.get_string(this._properties.tooltip)}return""};rdx.accordion_menu.prototype.to_select=function(){return this._properties.select};rdx.accordion_menu.prototype.to_expand_selected=function(){return this._properties.expand_selected};rdx.accordion_menu.prototype.get_license_keys=function(){return this._properties.license_keys};rdx.accordion_menu.prototype.to_show_if_not_licensed=function(){return this._properties.show_if_not_licensed};rdx.accordion_menu.prototype.get_nodes=function(){return this._properties.nodes};rdx.accordion_menu.prototype.get_link=function(){return this._properties.link};rdx.accordion_menu.prototype.get_icon_class=function(){return this._properties.icon_class};rdx.accordion_menu_node=function(b){this._DEFAULT_PROPERTIES={name:"",link:null,tooltip:"",select:false,expand_selected:true,license_keys:[],show_if_not_licensed:false,is_valid_callback:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b)};rdx.accordion_menu_node.prototype.get_name=function(){return rdx.i18n.get_string(this._properties.name)};rdx.accordion_menu_node.prototype.get_callback_function=function(){return this._properties.is_valid_callback};rdx.accordion_menu_node.prototype.get_tooltip=function(){if(rdx.utils.is_defined(this._properties.tooltip)){return rdx.i18n.get_string(this._properties.tooltip)}return""};rdx.accordion_menu_node.prototype.to_select=function(){return this._properties.select};rdx.accordion_menu_node.prototype.to_expand_selected=function(){return this._properties.expand_selected};rdx.accordion_menu_node.prototype.get_license_keys=function(){return this._properties.license_keys};rdx.accordion_menu_node.prototype.to_show_if_not_licensed=function(){return this._properties.show_if_not_licensed};rdx.accordion_menu_node.prototype.get_link=function(){return this._properties.link};rdx.accordion_menu_node.prototype.get_icon_class=function(){return this._properties.icon_class};rdx.accordion_tree=function(b){this._DEFAULT_PROPERTIES={name:"",tooltip:"",select:false,expand_selected:true,license_keys:[],show_if_not_licensed:false,nodes:[],is_valid_callback:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b)};rdx.accordion_tree.prototype.get_name=function(){return rdx.i18n.get_string(this._properties.name)};rdx.accordion_tree.prototype.get_callback_function=function(){return this._properties.is_valid_callback};rdx.accordion_tree.prototype.get_tooltip=function(){if(rdx.utils.is_defined(this._properties.tooltip)){return rdx.i18n.get_string(this._properties.tooltip)}return""};rdx.accordion_tree.prototype.to_select=function(){return this._properties.select};rdx.accordion_tree.prototype.to_expand_selected=function(){return this._properties.expand_selected};rdx.accordion_tree.prototype.get_license_keys=function(){return this._properties.license_keys};rdx.accordion_tree.prototype.to_show_if_not_licensed=function(){return this._properties.show_if_not_licensed};rdx.accordion_tree.prototype.get_nodes=function(){return this._properties.nodes};rdx.accordion_tree.prototype.get_icon_class=function(){return this._properties.icon_class};rdx.accordion_tree_node=function(b){this._DEFAULT_PROPERTIES={name:"",view:null,tooltip:"",select:false,expand_selected:true,license_keys:[],show_if_not_licensed:false,nodes:[],is_valid_callback:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b)};rdx.accordion_tree_node.prototype.get_name=function(){return rdx.i18n.get_string(this._properties.name)};rdx.accordion_tree_node.prototype.get_callback_function=function(){return this._properties.is_valid_callback};rdx.accordion_tree_node.prototype.get_view=function(){return this._properties.view};rdx.accordion_tree_node.prototype.get_tooltip=function(){if(rdx.utils.is_defined(this._properties.tooltip)){return rdx.i18n.get_string(this._properties.tooltip)}return""};rdx.accordion_tree_node.prototype.to_select=function(){return this._properties.select};rdx.accordion_tree_node.prototype.to_expand_selected=function(){return this._properties.expand_selected};rdx.accordion_tree_node.prototype.get_license_keys=function(){return this._properties.license_keys};rdx.accordion_tree_node.prototype.to_show_if_not_licensed=function(){return this._properties.show_if_not_licensed};rdx.accordion_tree_node.prototype.get_nodes=function(){return this._properties.nodes};rdx.accordion_tree_node.prototype.get_icon_class=function(){return this._properties.icon_class};rdx.dashboard_constants=new function(){this.REFRESH_IMAGE="refresh_image"};rdx.gadget=function(c,d){this._DEFAULT_PROPERTIES={header:"",content:null,keywords:[],resizable:false,collapse_expand:true,maximize_restore:true,close:true};this._properties=$.extend({},this._DEFAULT_PROPERTIES,c);this._DEFAULT_CUSTOMIZABLE_PROPERTIES={add:false,column_index:-1,row_index:-1,collapsed:false,maximized:false};this._customizable_properties=$.extend({},this._DEFAULT_CUSTOMIZABLE_PROPERTIES,d)};rdx.gadget.prototype.get_header=function(){return rdx.i18n.get_string(this._properties.header)};rdx.gadget.prototype.get_content=function(){return this._properties.content};rdx.gadget.prototype.get_keywords=function(){return this._properties.keywords};rdx.gadget.prototype.is_resizable=function(){return this._properties.resizable};rdx.gadget.prototype.can_collapse_expand=function(){return this._properties.collapse_expand};rdx.gadget.prototype.can_maximize_restore=function(){return this._properties.maximize_restore};rdx.gadget.prototype.can_close=function(){return this._properties.close};rdx.gadget.prototype.get_properties=function(){return this._properties};rdx.gadget.prototype.get_customizable_properties=function(){return this._customizable_properties};rdx.gadget.prototype.add=function(b){if(rdx.utils.is_not_defined(b)){return this._customizable_properties.add}this._customizable_properties.add=b};rdx.gadget.prototype.column_index=function(b){if(rdx.utils.is_not_defined(b)){return this._customizable_properties.column_index}this._customizable_properties.column_index=b};rdx.gadget.prototype.row_index=function(b){if(rdx.utils.is_not_defined(b)){return this._customizable_properties.row_index}this._customizable_properties.row_index=b};rdx.gadget.prototype.collapsed=function(b){if(rdx.utils.is_not_defined(b)){return this._customizable_properties.collapsed}this._customizable_properties.collapsed=b};rdx.gadget.prototype.maximized=function(b){if(rdx.utils.is_not_defined(b)){return this._customizable_properties.maximized}this._customizable_properties.maximized=b};rdx.gadget.prototype.set_view=function(b){this._properties.gadget_view=b};rdx.gadget.prototype.get_view=function(){return this._properties.gadget_view};rdx.dashboard_finder=function(g,h,e,f){this._parent=g;this._dashboard=h;this._container=e;this._gadgets=f;this._search_gadgets=null;this._search_gadgets_img=null;this._search_gadgets_content=null;this._search_gadgets_txt=null;this._search_gadgets_result=null};rdx.dashboard_finder.prototype.render=function(){this._search_gadgets=$(document.createElement("div")).addClass("search_gadgets");this._search_gadgets_img=$(document.createElement("img")).attr("src",rdx.images.LEFT_DOUBLE_ARROW_IMG);this._search_gadgets.append($(document.createElement("a")).attr("href","#noAnchor").bind(rdx.events.CLICK,{ns_dashboard_finder:this},function(b){b.data.ns_dashboard_finder._slide_search_gadgets_result()}).append(this._search_gadgets_img));this._search_gadgets_txt=$(document.createElement("input")).attr("type","text");this._search_gadgets_result=$(document.createElement("div")).addClass("search_gadgets_result");this._search_gadgets_content=$(document.createElement("div")).addClass("search_gadgets_content").append(rdx.i18n.get_string("rdx.dashboard_finder_text")+"<br><br>").append($(document.createElement("form")).addClass("inline_display").bind(rdx.events.SUBMIT,{ns_dashboard_finder:this},function(b){b.data.ns_dashboard_finder._search_matching_gadgets();return false}).append(this._search_gadgets_txt).append($(document.createElement("input")).attr("type","submit").attr("value",rdx.i18n.get_string("rdx.dashboard_finder_button")))).append(this._search_gadgets_result);this._search_gadgets.append(this._search_gadgets_content);this._parent.append(this._search_gadgets);return this};rdx.dashboard_finder.prototype._add_add_to_dashboard_link=function(f){var e=$(document.createElement("a")).attr("href","#noAnchor").html(rdx.i18n.get_string("rdx.dashboard_finder_add")).bind(rdx.events.CLICK,{ns_dashboard_finder:this,ns_gadget:f},function(a){a.data.ns_dashboard_finder._add_gadget_to_dashboard(a.data.ns_gadget,$(this))});var d=$(e).clone(true).html($(document.createElement("img")).attr("src",rdx.images.DOCUMENT_ADD_IMG));this._search_gadgets_result.append($(document.createElement("div")).append(d).append(e).append("<br><br>"))};rdx.dashboard_finder.prototype._get_matched_gadgets=function(o){var n=[];for(var m in this._gadgets){var p=this._gadgets[m];if(p.add()){continue}var q=p.get_keywords();for(var l=0,h=q.length;l<h;l++){if(q[l].match(o)){n.push(p);break}}}return n};rdx.dashboard_finder.prototype._close_all_gadgets=function(){var b=this._dashboard;this._search_gadgets_result.children(".gadget").each(function(a){b._close_gadget($(this))})};rdx.dashboard_finder.prototype._slide_search_gadgets_result=function(){this._search_gadgets_txt.val("");this._search_gadgets_content.toggle("slow");if(this._search_gadgets_img.attr("src").match(rdx.images.LEFT_DOUBLE_ARROW_IMG)){this._container.animate({opacity:0.3});this._search_gadgets_img.attr("src",this._search_gadgets_img.attr("src").replace(rdx.images.LEFT_DOUBLE_ARROW_IMG,rdx.images.RIGHT_DOUBLE_ARROW_IMG));this._search_gadgets_txt.focus()}else{this._container.animate({opacity:1});this._search_gadgets_img.attr("src",this._search_gadgets_img.attr("src").replace(rdx.images.RIGHT_DOUBLE_ARROW_IMG,rdx.images.LEFT_DOUBLE_ARROW_IMG));this._close_all_gadgets();this._search_gadgets_result.html("")}};rdx.dashboard_finder.prototype._search_matching_gadgets=function(){var t=$.trim(this._search_gadgets_txt.val().toLowerCase());var n=null;try{if(!t.match(/^[\w^$*]*$/)){throw rdx.i18n.get_string("rdx.reg_exp_invalid")}t=t.replace(/\*/g,".*");n=new RegExp(t,"i")}catch(w){rdx.message_box.error(rdx.i18n.get_string("rdx.dashboard_finder_invalid_text"));return}var x=this._get_matched_gadgets(n);this._close_all_gadgets();this._search_gadgets_result.html("<b>"+rdx.i18n.get_string("rdx.dashboard_finder_match_count",{count:x.length})+"</b><br><br>");var o={collapse_expand:false,maximize_restore:false,close:false};for(var u=0,p=x.length;u<p;u++){var v=x[u].get_properties();var s={collapse_expand:x[u].can_collapse_expand(),maximize_restore:x[u].can_maximize_restore(),close:x[u].can_close()};$.extend(x[u].get_properties(),o);var q=this._dashboard._add_gadget(x[u],this._search_gadgets_result);this._add_add_to_dashboard_link(x[u]);q.resize_view();$.extend(x[u].get_properties(),s)}};rdx.dashboard_finder.prototype._add_gadget_to_dashboard=function(g,h){if(g.add()){rdx.message_box.error(rdx.i18n.get_string("rdx.dashboard_finder_add_error"));return}var f=this._dashboard._add_gadget(g);f.resize_view();var e=this._dashboard;this._search_gadgets_result.children(".gadget").each(function(a){var b=$(this);if(b.data("ns_gadget")==g){e._close_gadget(b)}});if(rdx.status_bar){rdx.status_bar.update_status("rdx.gadget_added")}h.parent().remove()};rdx.dashboard_finder.prototype.show_search=function(){this._search_gadgets.show()};rdx.dashboard_finder.prototype.hide_search=function(){this._search_gadgets.hide()};rdx.dashboard=function(l,f,m,g,h){this._parent=typeof(l)=="string"?$("#"+l):l;this._gadgets=f;this._DEFAULT_PROPERTIES={use_cookie:false,name:"ns_dashboard",resource_name:"uiinternal",resizable:false,searchable:false,columns_count:2,columns_width:["50%","50%"],response_callback:null};this._DEFAULT_SORTABLE_PROPERTIES={connectWith:".dashboard_column",cursor:"move",handle:".gadget_header",opacity:0.6,revert:200,placeholder:"sortable_placeholder",tolerance:"pointer"};this._DEFAULT_RESIZABLE_PROPERTIES={ghost:false,animate:true,autoHide:true,minWidth:300,minHeight:150,helper:"resizable_helper"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,m);this._sortable_properties=$.extend({},this._DEFAULT_SORTABLE_PROPERTIES,g);this._resizable_properties=$.extend({},this._DEFAULT_RESIZABLE_PROPERTIES,h);this._columns=new Array(this._properties.columns_count);this._gadget_div_to_maximize=null;this._modified=false;this._dashboard_finder=null;this._show_save_customization_prompt=true;this._save_customization_prompt=rdx.i18n.get_string("rdx.dashboard_modified_confirm")};rdx.dashboard.prototype.render=function(){var e=$(document.createElement("div")).addClass("dashboard_container").css("overflow","auto");e.width("99%");for(var f=0,d=this._columns.length;f<d;f++){this._columns[f]=$(document.createElement("div")).addClass("dashboard_column");if(this._properties.columns_width[f]){this._columns[f].width(this._properties.columns_width[f])}e.append(this._columns[f])}if(this._properties.searchable){this._dashboard_finder=new rdx.dashboard_finder(this._parent,this,e,this._gadgets).render()}this._parent.append(e);this._load_customization();$(".dashboard_column").sortable(this._sortable_properties);$(".dashboard_column").bind(rdx.events.SORT_STOP,{ns_dashboard:this},function(b,a){b.data.ns_dashboard.sort_gadget(a.item)});rdx.page.add_event_handler(rdx.events.PAGE_UNLOAD,new rdx.callback(this,this._unload_dashboard));return this};rdx.dashboard.prototype._add_gadgets=function(){var l=[];for(var n in this._gadgets){if(!this._gadgets[n].add()){continue}var o=this._gadgets[n].column_index();if(o<0||o>=this._columns.length){o=0}if(!rdx.utils.is_defined(l[o])){l[o]=[]}var p=this._gadgets[n].row_index();if(p<0){for(var q=0,s=l[o].length;q<=s;q++){if(!rdx.utils.is_defined(l[o][q])){p=q;break}}}l[o].splice(p,0,this._gadgets[n])}for(var q=0,s=l.length;q<s;q++){if(rdx.utils.is_defined(l[q])){for(var m=0,t=l[q].length;m<t;m++){if(l[q][m]){this._add_gadget(l[q][m],null,null)}}}}if(this._gadget_div_to_maximize!=null){this._gadget_div_to_maximize.children(".gadget_maximize").click()}this._modified=false};rdx.dashboard.prototype._get_one_column_padding_height=function(){return 40};rdx.dashboard.prototype._get_two_column_padding_height=function(){return 28};rdx.dashboard.prototype._get_three_column_padding_height=function(){return 24};rdx.dashboard.prototype._add_gadget=function(D,w,t){var y=$(document.createElement("div")).addClass("gadget smooth_all_corner");var F=D.column_index();if(F<0||F>=this._columns.length){F=this._get_column_index_to_add_gadget()}this._columns[F].append(y);var H=$(document.createElement("div")).addClass("gadget_collapse_expand");var G=$(document.createElement("div")).addClass("gadget_collapse_expand");var E=D.get_content();E=$.extend({},E);if(rdx.utils.is_defined(E.view_properties)){E.view_properties=$.extend({},E.view_properties);E.view_properties.title=" "}var z=D.get_header()+(E.type==rdx.view_constants.DETAIL_VIEW?' (<span class="count"></span>)':"");var A=$(document.createElement("div")).addClass("gadget_header").addTouch().append(z);y.append(A);var u=$(document.createElement("div")).addClass("gadget_content");var B=null;if(rdx.utils.is_defined(t)){B=t-A.height();u.height(B)}u.append($("<img name='"+rdx.dashboard_constants.REFRESH_IMAGE+"'>").attr("src",rdx.images.SPACER_IMG).addClass(rdx.dashboard_constants.REFRESH_IMAGE));var v={ns_gadget_div:y,ns_dashboard:this,gadget:D,maximize_div:G,collapse_div:H,div_height:B,content_div:u};if(D.can_collapse_expand()){y.prepend(H.addClass("gadget_collapse").bind(rdx.events.CLICK,v,function(a){var e=a.data.ns_gadget_div;var b=a.data.ns_dashboard;var c=a.data.gadget.get_view();$(this).toggleClass("gadget_collapse").toggleClass("gadget_expand");var d=$(this).hasClass("gadget_expand");b._collapse_expand_gadget(e,d,c)}))}if(D.can_maximize_restore()){y.prepend(G.addClass("gadget_maximize").bind(rdx.events.CLICK,v,function(f){var e=f.data.ns_gadget_div;var a=f.data.ns_dashboard;var b=f.data.collapse_div;var c=f.data.gadget.get_view();$(this).toggleClass("gadget_maximize").toggleClass("gadget_restore");var d=$(this).hasClass("gadget_restore");if(rdx.utils.is_defined(f.data.div_height)){if(d){f.data.content_div.height(rdx.page.get_content().height()-35)}else{f.data.content_div.height(f.data.div_height)}}a._maximize_restore_gadget(e,d,b,c)}));if(D.maximized()&&this._gadget_div_to_maximize==null){this._gadget_div_to_maximize=y;this._show_save_customization_prompt=false}}var C=$(document.createElement("div")).addClass("gadget_collapse_expand").addClass("gadget_close").bind(rdx.events.CLICK,v,function(b){var d=b.data.ns_gadget_div;var a=d.data("ns_gadget");var c=b.data.ns_dashboard;rdx.message_box.confirm(rdx.i18n.get_string("rdx.gadget_close_confirm",{gadget:a.get_header()}),new rdx.callback(this,function(){c._close_gadget(d)}))});if(!this._properties.searchable||!D.can_close()){C.hide()}y.prepend(C);var x=new rdx.base_view(u,E);D.set_view(x);x.prepare_view();if(D.can_collapse_expand()){y.bind(rdx.events.GADGET_COLLAPSED,{ns_gadget_content_view:x},function(a){a.data.ns_gadget_content_view.pause_view()});y.bind(rdx.events.GADGET_EXPANDED,{ns_gadget_content_view:x},function(a){a.data.ns_gadget_content_view.resume_view();a.data.ns_gadget_content_view.resize_view()})}if(D.can_maximize_restore()){y.bind(rdx.events.GADGET_RESTORED,{ns_gadget_content_view:x},function(a){a.data.ns_gadget_content_view.resize_view()});y.bind(rdx.events.GADGET_MAXIMIZED,{ns_gadget_content_view:x},function(a){a.data.ns_gadget_content_view.resize_view()})}y.bind(rdx.events.GADGET_CLOSED,{ns_gadget_content_view:x},function(a){a.data.ns_gadget_content_view.destroy_view()});if(E.type==rdx.view_constants.DETAIL_VIEW){u.bind(rdx.events.VIEW_COUNT_CHANGED,function(a,b){$(this).parent().children(".gadget_header").children(".count").text(b)})}y.append(u);if(this._properties.resizable&&D.is_resizable()){y.resizable(this._resizable_properties)}y.data("ns_gadget",D);if(w){w.append(y);return x}D.add(true);D.column_index(F);if(D.collapsed()&&D.can_collapse_expand()){y.children(".gadget_collapse").click()}this._modified=true;return x};rdx.dashboard.prototype._get_column_index_to_add_gadget=function(){var h=Number.MAX_VALUE;var g=-1;for(var l=0,m=this._columns.length;l<m;l++){var f=this._columns[l].height();if(f<h){h=f;g=l}}return g};rdx.dashboard.prototype._close_gadget=function(d){if(d.parent().hasClass("dashboard_column")){var c=d.data("ns_gadget");c.add(false);c.column_index(-1);c.collapsed(false);c.maximized(false);this._modified=true;if(rdx.status_bar){rdx.status_bar.update_status("rdx.gadget_removed")}}d.trigger(rdx.events.GADGET_CLOSED);d.children(".gadget_restore").click();d.remove()};rdx.dashboard.prototype._load_customization=function(){if(this._properties.use_cookie){this._load_customization_from_properties(rdx.utils.get_cookie(this._properties.name))}else{rdx.model.get(rdx.utils.get_resource(this._properties.resource_name),this._properties.name,new rdx.callback(this,this._load_customization_result_arrived,[true]),this._parent,new rdx.callback(this,this._load_customization_result_arrived,[false]))}};rdx.dashboard.prototype._load_customization_result_arrived=function(d,c){this._load_customization_from_properties(c?d[this._properties.resource_name][0].property_value:null);$(window).resize()};rdx.dashboard.prototype._load_customization_from_properties=function(f){if(f!=null&&f.length>0){try{var e="";if(rdx.utils.is_defined(this._properties.response_callback)){f=this._properties.response_callback.call_back([f])}e=JSON.parse(f);for(var g in e){if(this._gadgets[g]){$.extend(this._gadgets[g].get_customizable_properties(),e[g])}}}catch(h){}}this._add_gadgets()};rdx.dashboard.prototype._save_customization=function(){var q={};for(var m in this._gadgets){q[m]=this._gadgets[m].get_customizable_properties()}var l=JSON.stringify(q);if(this._properties.use_cookie){rdx.utils.set_cookie(this._properties.name,l)}else{var p=rdx.utils.get_resource(this._properties.resource_name);var n={property_name:this._properties.name,property_value:l};var o=rdx.model.to_json(n,p,false);var h=p.set_url?p.set_url:p.get_url;rdx.utils.ajax(rdx.ajax_handler_constants.PUT,h,o,new rdx.callback(),false)}};rdx.dashboard.prototype._unload_dashboard=function(){if(!this._modified||!window.confirm(rdx.i18n.get_string("rdx.dashboard_modified_confirm"))){return}this._save_customization()};rdx.dashboard.prototype._collapse_expand_gadget=function(f,g,e){var h=f.data("ns_gadget");if(g){f.height(f.find(".gadget_header").height()+10);if(this._properties.resizable&&h.is_resizable()){f.resizable("destroy")}f.trigger(rdx.events.GADGET_COLLAPSED);if(rdx.status_bar){rdx.status_bar.update_status("rdx.gadget_collapsed")}}else{f.height("100%");if(this._properties.resizable&&h.is_resizable()){f.resizable(this._resizable_properties)}f.trigger(rdx.events.GADGET_EXPANDED);if(rdx.status_bar){rdx.status_bar.update_status("rdx.gadget_expanded")}}h.collapsed(g);this._modified=true;f.find(".gadget_content").toggle();if(!g){e.resize_view()}};rdx.dashboard.prototype._maximize_restore_gadget=function(x,z,v,u){var C=x.data("ns_gadget");if(rdx.utils.is_not_defined(C)){return}var B=x.parent(".dashboard_column");var F=B.parent(".dashboard_container");var D=F.children().index(B);var s=B.children().index(x);if(z){B.width("100%");if(rdx.status_bar){rdx.status_bar.update_status("rdx.gadget_maximized")}if(this._properties.searchable){this._dashboard_finder.hide_search()}}else{if(this._properties.columns_width[D]){B.width(this._properties.columns_width[D])}if(rdx.status_bar){rdx.status_bar.update_status("rdx.gadget_restored")}if(this._properties.searchable){this._dashboard_finder.show_search()}}if($(v).hasClass("gadget_expand")){$(v).toggleClass("gadget_collapse").toggleClass("gadget_expand");this._collapse_expand_gadget(x,false,u)}for(var y=0,t=this._columns.length;y<t;y++){var w=this._columns[y].children();for(var A=0,E=w.length;A<E;A++){if(y!=D||A!=s){$(w[A]).toggle();$(w[A]).trigger(z?rdx.events.GADGET_COLLAPSED:rdx.events.GADGET_EXPANDED)}}if(y!=D){if(z){this._columns[y].width("0%")}else{if(this._properties.columns_width[y]){this._columns[y].width(this._properties.columns_width[y])}}}}x.trigger(z?rdx.events.GADGET_MAXIMIZED:rdx.events.GADGET_RESTORED);C.maximized(z);this._modified=true;if((this._show_save_customization_prompt)){rdx.message_box.confirm(this._save_customization_prompt,new rdx.callback(null,function(a){a._save_customization()},[this]),new rdx.callback())}this._show_save_customization_prompt=true};rdx.dashboard.prototype.sort_gadget=function(f){var g=f.parent(".dashboard_column");f.data("ns_gadget").column_index(g.parent(".dashboard_container").children().index(g));for(var h=0,e=this._columns.length;h<e;h++){var g=this._columns[h];g.children().each(function(){$(this).data("ns_gadget").row_index(g.children().index($(this)))})}f.data("ns_gadget").get_view().resize_view();this._modified=true};rdx.wizard_constants=new function(){this.ORIGINAL="original";this.MODIFIED="modified";this.MODIFIED_CHILDREN="modified_children"};rdx.wizard_summary_page=function(c,d){this._parent=c;this._page_container=null;this._DEFAULT_PROPERTIES={title:"",description:"",renderer_callback:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d)};rdx.wizard_summary_page.prototype.show_page=function(){this._page_container.show()};rdx.wizard_summary_page.prototype.hide_page=function(){this._page_container.hide()};rdx.wizard_summary_page.prototype.render=function(){this._page_container=$("<div>");this._page_container.addClass("wizard_form_panel");this._parent.append(this._page_container);return this};rdx.wizard_summary_page.prototype.add_summary_details=function(h,e,f){var g="";if(rdx.utils.is_defined(this._properties.renderer_callback)){g=this._properties.renderer_callback.call_back([h,e,this._page_container,f])}this._page_container.empty();this._page_container.append(g)};rdx.wizard_summary_page.prototype.get_title=function(){return rdx.i18n.get_string(this._properties.title)};rdx.wizard_summary_page.prototype.get_description=function(){return rdx.i18n.get_string(this._properties.description)};rdx.wizard_header_navigation=function(f,g,h,m,l){this._pages_info=f;this._header_panel=g;this._summary_page=m;this._description_panel=h;$(l).bind(rdx.events.WIZARD_PAGE_CHANGED,{callback:new rdx.callback(this,this.set_header_info)},function(c,a,b){c.data.callback.call_back([a,b])})};rdx.wizard_header_navigation.prototype.set_header_info=function(h,e){var g="";var f="";if(rdx.utils.is_defined(this._pages_info[e])){g=this._pages_info[e].get_title();f=this._pages_info[e].get_description()}else{if(rdx.utils.is_defined(this._summary_page)){g=this._summary_page.get_title();f=this._summary_page.get_description()}}this._add_info_to_panel(this._header_panel,g);this._add_info_to_panel(this._description_panel,f)};rdx.wizard_header_navigation.prototype._add_info_to_panel=function(d,c){d.html("");d.append(c)};rdx.wizard_link_node=function(g,e,f,h){this._page_titles=this._get_page_titles(e);this._summary_page=f;this._content_container=g;this._link_node_info=new Object();this._NODE_COLUMN="node_column";this._DELTA_COLUMN="delta_column";this._IMAGE_COLUMN="image_column";$(h).bind(rdx.events.WIZARD_PAGE_CHANGED,{callback:new rdx.callback(this,this.navigate_to_link)},function(c,a,b){c.data.callback.call_back([a,b])})};rdx.wizard_link_node.prototype.navigate_to_link=function(c,d){if(c>=0){this._link_node_info[c][this._NODE_COLUMN].removeClass("wizard_current_node");this._link_node_info[c][this._DELTA_COLUMN].removeClass("wizard_delta_node_selected")}this._link_node_info[d][this._NODE_COLUMN].addClass("wizard_current_node");this._link_node_info[d][this._DELTA_COLUMN].addClass("wizard_delta_node_selected");if(c<d&&c>=0){this._link_node_info[c][this._IMAGE_COLUMN].attr("src",rdx.images.ELEMENT_SELECTED)}this._link_node_info[d][this._IMAGE_COLUMN].attr("src",rdx.images.ELEMENT)};rdx.wizard_link_node.prototype.render=function(){this._content_container.attr("cellSpacing",0).attr("cellPadding",0).addClass("wizard_link_node");var g=0;var h=$("<tr>");var f=$("<td>").addClass("wizard_links_col").addClass("wizard_link_node_wrapper").attr("valign","top");var l=$("<tr>").append(($("<td>")).addClass("link_node_bottom_container"));h.append(f);this._content_container.append(h);this._content_container.append(l);var m=$("<table>").attr("cellSpacing",0).attr("cellPadding",0);f.append(m);for(;g<this._page_titles.length;g++){this._add_link_node(m,this._page_titles[g],g)}if(rdx.utils.is_defined(this._summary_page)){this._add_link_node(m,this._summary_page.get_title(),g)}this._link_node_info[0][this._NODE_COLUMN].addClass("wizard_current_node");this._link_node_info[0][this._DELTA_COLUMN].addClass("wizard_delta_node_selected");return this};rdx.wizard_link_node.prototype._add_link_node=function(q,m,h){var n=$("<tr>");q.append(n);var o=$("<td>");var l=rdx.images.ELEMENT;var p=$("<img>").attr("src",l);p.addClass("wizard_link_node_image");o.append(p).append(m);o.attr("align","left");o.attr("valign","center");n.append(o);this._link_node_info[h]={node_column:o,delta_column:o,image_column:p}};rdx.wizard_link_node.prototype._get_page_titles=function(f){var e=new Array();for(var d=0;d<f.length;d++){e.push(rdx.i18n.get_string(f[d].title))}return e};rdx.wizard_link_node.prototype.get_link_node=function(){return this};rdx.wizard_page_navigation=function(e,d,f){this._pages_info=e;this._summary_page=d;this._current_page_summary_page=false;$(f).bind(rdx.events.WIZARD_PAGE_CHANGED,{callback:new rdx.callback(this,this.navigate_to_page)},function(m,b,c,a,n,o){m.data.callback.call_back([b,c,a,n,o])})};rdx.wizard_page_navigation.prototype.navigate_to_page=function(l,m,h,f,g){if(l>=0){if(rdx.utils.is_defined(this._pages_info[l])){this._pages_info[l].hide_page()}else{if(rdx.utils.is_defined(this._summary_page)){this._summary_page.hide_page()}}}if(this._current_page_summary_page){this._summary_page.hide_page()}if(rdx.utils.is_defined(this._pages_info[m])){this._pages_info[m].show_page();this._current_page_summary_page=false}else{if(rdx.utils.is_defined(this._summary_page)){f=f||false;this._summary_page.add_summary_details(h,f,g);this._summary_page.show_page();this._current_page_summary_page=true}}};rdx.wizard_page=function(d,e,f){this._parent=d;this._page_container=null;this._DEFAULT_PROPERTIES={title:"",description:"",view:"",callback_before_operation:null,pre_submit_callback:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,e);this._submit_operation=f;this._view=rdx.utils.get_view(this._get_view_name());this._fields=this._view.resource_properties;this._resource_name=this._view.resource_name;this._resource=rdx.utils.get_resource(this._resource_name);this._original_resource_data=null;this._modified_resource_data=null;this._form=null};rdx.wizard_page.prototype.show_page=function(){this._page_container.show()};rdx.wizard_page.prototype.hide_page=function(){this._page_container.hide()};rdx.wizard_page.prototype.render=function(){this._page_container=$("<div>");this._page_container.addClass("wizard_form_panel");this._parent.append(this._page_container);var h=$.extend(true,{},this._view);h.view_properties=rdx.utils.is_defined(h.view_properties)?h.view_properties:{};var n={toggle_view:false,from_wizard:true,add_title:false,two_row_layout_for_fields:false,show_slider:rdx.DIALOG,add_create_button:false,add_close_button:false,submit_operation:this._submit_operation,add_border:false,dialog_mode:false};h.view_properties=$.extend({},h.view_properties,n);var o=new rdx.base_view(this._page_container,h);o.show_action_in_slider(rdx.DIALOG);var m=new Object();m.is_data_set=true;var g=o.get_view_context();var l=h.resource_name;g.set_url_params(m,{});o.prepare_view();this._form=o.get_form()};rdx.wizard_page.prototype.get_title=function(){return rdx.i18n.get_string(this._properties.title)};rdx.wizard_page.prototype.get_description=function(){return rdx.i18n.get_string(this._properties.description)};rdx.wizard_page.prototype.get_resource_name=function(){return this._resource_name};rdx.wizard_page.prototype.get_resource=function(){return this._resource};rdx.wizard_page.prototype.get_fields=function(){return this._fields};rdx.wizard_page.prototype.get_form=function(){return this._form};rdx.wizard_page.prototype._get_view_name=function(){return this._properties.view};rdx.wizard_page.prototype.set_original_resource_data=function(b){if(rdx.utils.is_defined(b)){this._original_resource_data=$.extend(true,{},b)}};rdx.wizard_page.prototype.get_original_resource_data=function(){return this._original_resource_data};rdx.wizard_page.prototype.set_modified_resource_data=function(b){this._modified_resource_data=b};rdx.wizard_page.prototype.get_modified_resource_data=function(){return this._modified_resource_data};rdx.wizard_page.prototype.get_callback_before_operation=function(){return this._properties.callback_before_operation};rdx.wizard_page.prototype.get_pre_submit_callback=function(){return this._properties.pre_submit_callback};rdx.wizard_page.prototype.get_view=function(){return this._view};rdx.wizard=function(d,e,f){this._parent=d;this._definition=e;this._resource=f;this._submit_handler_callback=null;this._resource_data_fetch_callback=null;this._wizard_container=$("<div>");this._wizard_container.addClass("wizard");this._pages_info=new Object();this._wizard_link=null;this._panels_holder=new Object();this._current_page_index=0;this._previous_page_index=-1;if(rdx.utils.is_not_defined(e.view_properties.submit_operation)||rdx.utils.is_not_defined(e.view_properties.submit_operation.method)){e.view_properties.submit_operation={method:"add",action:null}}this._submit_operation=e.view_properties.submit_operation;this.TOP_PANEL="top_panel";this.CENTER_PANEL="center_panel";this.CONTENT_PANEL="content_panel";this.LINK_NODE_PANEL="link_node_panel";this.BUTTON_BAR_PANEL="button_bar_panel";this.TITLE_PANEL="title_panel";this.DESCRIPTION_PANEL="description_panel";this.BACK_BUTTON="back_button";this.NEXT_BUTTON="next_button";this.FINISH_BUTTON="finish_button";this._resource_data=null;this._wizard_save_complete=false;this._page_failed_index=-1};rdx.wizard.prototype.render=function(g){this._add_top_panel();this._add_center_panel();this._add_bottom_navigation_bar();this._render_wizard_data();var h=rdx.utils.is_defined(this._definition.view_properties)&&rdx.utils.is_defined(this._definition.view_properties.title)?rdx.i18n.get_string(this._definition.view_properties.title):"Wizard";var e={height:500,width:700,modal:true,resizable:false,dialogClass:"rdx_wizard",title:h};var f=$.extend({},e,g);this._wizard_container.dialog(f);this._resize()};rdx.wizard.prototype._add_top_panel=function(){var e=$("<div>");e.addClass("wizard_top_panel");e.addClass("wizard_top_panel_border");e.addClass("smooth_all_corner");e.addClass("wizard_panel_spacing_bottom");this._add_to_panel_holder(this.TOP_PANEL,e);var d=$("<div>");d.addClass("wizard_current_node");d.addClass("wizard_title_panel");d.addClass("smooth_right_corner");this._add_to_panel_holder(this.TITLE_PANEL,d);var f=$("<div>");f.addClass("wizard_description_panel");this._add_to_panel_holder(this.DESCRIPTION_PANEL,f);e.append(d);e.append(f);this._wizard_container.append(e)};rdx.wizard.prototype._add_center_panel=function(){var b=$("<div>");this._add_to_panel_holder(this.CENTER_PANEL,b);b.addClass("wizard_center_panel");b.addClass("wizard_panel_spacing_bottom");this._add_link_nodes_panel(b);this._add_content_panel(b);this._wizard_container.append(b)};rdx.wizard.prototype._add_link_nodes_panel=function(e){var d=$("<div>");d.addClass("wizard_link_nodes_panel");d.addClass("smooth_all_corner");d.addClass("wizard_border");e.append(d);var f=$("<table>");d.append(f);this._add_to_panel_holder(this.LINK_NODE_PANEL,f)};rdx.wizard.prototype._add_content_panel=function(d){var c=$("<div>");c.addClass("wizard_content_panel");c.addClass("smooth_all_corner");c.addClass("wizard_border");c.addClass("wizard_content_panel_spacing");d.append(c);this._add_to_panel_holder(this.CONTENT_PANEL,c)};rdx.wizard.prototype._add_bottom_navigation_bar=function(){var n=$("<table>").addClass("wizard");var t=$("<tr>");n.append(t);if(rdx.utils.is_defined(this._definition.view_properties)&&rdx.utils.is_defined(this._definition.view_properties.help_id)){var q=$("<td>").addClass("wizard_help");rdx.help.add_help(q,this._definition.view_properties.help_id);t.append(q)}var s=$("<td>").addClass("wizard_navigation_bar").attr("colspan",2);t.append(s);var o=this._get_button(rdx.i18n.get_string("rdx.wizard_back_button"),rdx.i18n.get_string("rdx.wizard_back_button_tooltip"));o.attr("disabled",true).addClass("cancel_button");this._add_to_panel_holder(this.BACK_BUTTON,o);var m=this._get_button(rdx.i18n.get_string("rdx.wizard_next_button"),rdx.i18n.get_string("rdx.wizard_next_button_tooltip"));m.addClass("submit_button");this._add_to_panel_holder(this.NEXT_BUTTON,m);var p=this._get_button(rdx.i18n.get_string("rdx.wizard_finish_button"),rdx.i18n.get_string("rdx.wizard_finish_button_tooltip"));p.addClass("submit_button");p.hide();this._add_to_panel_holder(this.FINISH_BUTTON,p);var l=this._get_button(rdx.i18n.get_string("rdx.wizard_close_button"),rdx.i18n.get_string("rdx.wizard_close_button_tooltip"));l.addClass("cancel_button");l.bind(rdx.events.CLICK,{wizard:this},function(a){if(rdx.utils.is_defined(a.data.wizard._definition.close_prompt)){rdx.message_box.confirm(rdx.i18n.get_string(a.data.wizard._definition.close_prompt),new rdx.callback(a.data.wizard,a.data.wizard.close))}else{a.data.wizard.close()}});o.bind(rdx.events.CLICK,{wizard:this,button:m,finish_button:p},function(a){if($(this).attr("disabled")){return}a.data.wizard.handle_back_button_click()});m.bind(rdx.events.CLICK,{wizard:this,back_button:o,finish_button:p},function(a){if($(this).attr("disabled")){return}if(!a.data.wizard.get_pages_info()[a.data.wizard._current_page_index].get_form().validate()){return}a.data.wizard.handle_next_button_click()});p.bind(rdx.events.CLICK,{wizard:this},function(a){a.data.wizard._get_panel(a.data.wizard.FINISH_BUTTON).attr("disabled",true);if(rdx.utils.is_defined(a.data.wizard._get_submit_handler_callback())){if(rdx.utils.is_defined(a.data.wizard._definition.view_properties)&&rdx.utils.is_defined(a.data.wizard._definition.view_properties.model_executor_continue_on_error)){a.data.wizard._get_panel(a.data.wizard.BACK_BUTTON).attr("disabled",true)}a.data.wizard._get_submit_handler_callback().call_back()}});s.append(o);s.append(m);s.append(p);s.append(l);this._wizard_container.append(n);this._add_to_panel_holder(this.BUTTON_BAR_PANEL,s)};rdx.wizard.prototype.handle_next_button_click=function(){var h=this._get_panel(this.BACK_BUTTON);var f=this._get_panel(this.NEXT_BUTTON);var m=this._get_panel(this.FINISH_BUTTON);h.attr("disabled",false);this._previous_page_index=this._current_page_index;var g=this._definition.pages.length;var l=null;if(rdx.utils.is_defined(this._definition.summary_page)){g=g+1;if(rdx.utils.is_defined(this._resource_data_fetch_callback)){l=this._resource_data_fetch_callback.call_back();this._resource_data=l}}if(this._current_page_index!=g-1){this._current_page_index=this._current_page_index+1}if(this._current_page_index==g-1){this._hide_button(f);this._show_button(m)}$(this).trigger(rdx.events.WIZARD_PAGE_CHANGED,[this._previous_page_index,this._current_page_index,l]);this._resize()};rdx.wizard.prototype.handle_back_button_click=function(){var f=this._get_panel(this.BACK_BUTTON);var e=this._get_panel(this.NEXT_BUTTON);var d=this._get_panel(this.FINISH_BUTTON);this._hide_button(d);this._show_button(e);$(this).trigger(rdx.events.WIZARD_PAGE_CHANGED,[this._current_page_index,this._previous_page_index]);this._current_page_index=this._previous_page_index;if(this._previous_page_index!=0){this._previous_page_index=this._previous_page_index-1}else{f.attr("disabled",true)}this._resize()};rdx.wizard.prototype.goto_page=function(e){this._wizard_save_complete=false;var g=this._get_panel(this.BACK_BUTTON);var f=this._get_panel(this.NEXT_BUTTON);var h=this._get_panel(this.FINISH_BUTTON);h.removeAttr("disabled");this._hide_button(h);this._show_button(f);$(this).trigger(rdx.events.WIZARD_PAGE_CHANGED,[this._current_page_index,e]);this._current_page_index=e;this._page_failed_index=e;this._previous_page_index=e-1;if(this._current_page_index==0){g.attr("disabled",true)}if(this._current_page_index==this._definition.pages.length-1&&this._definition.pages.length>1){this._hide_button(f);this._show_button(h)}this._resize()};rdx.wizard.prototype._hide_button=function(b){b.hide();b.removeClass("wizard_show_button")};rdx.wizard.prototype._show_button=function(b){b.show();b.addClass("wizard_show_button")};rdx.wizard.prototype._get_button=function(e,f){var d=$(document.createElement("input"));d.attr("type","button");d.attr("value",e);d.attr("title",f);return d};rdx.wizard.prototype._render_wizard_data=function(){for(var d=0;d<this._definition.pages.length;d++){var f=new rdx.wizard_page(this._get_panel(this.CONTENT_PANEL),this._definition.pages[d],this._submit_operation);f.render();if(d>0){f.hide_page()}this._pages_info[d]=f}var e=null;if(this._definition.summary_page){e=new rdx.wizard_summary_page(this._get_panel(this.CONTENT_PANEL),this._definition.summary_page).render();e.hide_page()}new rdx.wizard_page_navigation(this._pages_info,e,this).navigate_to_page(-1,0);new rdx.wizard_header_navigation(this._pages_info,this._get_panel(this.TITLE_PANEL),this._get_panel(this.DESCRIPTION_PANEL),e,this).set_header_info(-1,0);new rdx.wizard_link_node(this._get_panel(this.LINK_NODE_PANEL),this._definition.pages,e,this).render()};rdx.wizard.prototype._resize=function(){var b=this._wizard_container.height()-this._get_panel(this.TOP_PANEL).height()-this._get_panel(this.BUTTON_BAR_PANEL).height()-16;this._get_panel(this.CENTER_PANEL).height(b)};rdx.wizard.prototype._add_to_panel_holder=function(c,d){this._panels_holder[c]=d};rdx.wizard.prototype._get_panel=function(b){return this._panels_holder[b]};rdx.wizard.prototype._get_submit_handler_callback=function(){return this._submit_handler_callback};rdx.wizard.prototype.get_pages_info=function(){return this._pages_info};rdx.wizard.prototype.add_submit_handler_callback=function(b){this._submit_handler_callback=b};rdx.wizard.prototype.add_resource_data_fetch_callback=function(b){this._resource_data_fetch_callback=b};rdx.wizard.prototype.get_resource_data=function(){return this._resource_data};rdx.wizard.prototype.set_save_complete=function(e){this._wizard_save_complete=true;this._page_failed_index=-1;this._get_panel(this.BACK_BUTTON).hide();var f=this._get_panel(this.FINISH_BUTTON);this._hide_button(f);this._get_panel(this.NEXT_BUTTON).hide();var d=this._definition.view_properties;if(rdx.utils.is_defined(d)&&rdx.utils.is_not_defined(d.post_submit_callback)){this._destroy_view()}else{if(rdx.utils.is_defined(this._definition.summary_page)){$(this).trigger(rdx.events.WIZARD_PAGE_CHANGED,[this._previous_page_index,this._current_page_index,this.get_resource_data(),true,e])}}};rdx.wizard.prototype.close=function(){var c=this._definition.view_properties;var d=this.get_resource_data();if(rdx.utils.is_defined(c)&&rdx.utils.is_defined(c.prompt_on_close)){if(rdx.utils.is_defined(c.prompt_on_close.callback)){if(c.prompt_on_close.callback.call_back([d,this._wizard_save_complete,this._page_failed_index])==true){rdx.message_box.confirm(rdx.i18n.get_string(c.prompt_on_close.message),new rdx.callback(this,this._do_close,[c,d]),new rdx.callback(this,this._destroy_view))}else{this._do_close(c,d)}}else{rdx.message_box.confirm(rdx.i18n.get_string(c.prompt_on_close.message),new rdx.callback(this,this._do_close,[c,d]),new rdx.callback(this,this._destroy_view))}}else{this._do_close(c,d)}};rdx.wizard.prototype._do_close=function(c,d){if(rdx.utils.is_defined(c)&&rdx.utils.is_defined(c.post_submit_callback)){if(rdx.utils.is_defined(d)){c.post_submit_callback.call_back([d,this._wizard_save_complete,this._page_failed_index])}this._destroy_view()}else{this._destroy_view()}};rdx.wizard.prototype._destroy_view=function(){this._wizard_container.dialog("close");this._wizard_container.remove()};rdx.op_wizard_page_navigation=function(b){this._op_wizard_view=b};rdx.op_wizard_page_navigation.prototype.register_wizard_events=function(d,c){d.bind(rdx.events.OP_WIZARD_PAGE_CHANGED,{callback:new rdx.callback(this,this.navigate_to_page,[c])},function(m,b,o,n,a,l){m.data.callback.call_back([b,o,n,a,l]);m.preventDefault();m.stopPropagation()});d.bind(rdx.events.OP_WIZARD_PAGE_CANCELLED,{wizard:this._op_wizard_view},function(a){a.data.wizard.cancel_view_operation();a.preventDefault();a.stopPropagation()});d.bind(rdx.events.OP_WIZARD_MESSAGE_CONTAINER,{wizard:this._op_wizard_view},function(a,b){a.data.wizard.create_message_container(b);a.preventDefault();a.stopPropagation()});d.bind(rdx.events.OP_WIZARD_PAGE_COLLAPSE,{wizard:this,index:c},function(b){var a=b.data.wizard._op_wizard_view.get_pages_info();for(var f=0;f<a.length;f++){if(b.data.index!=f&&a[f].is_page_optional()){b.data.wizard._trigger_page_event(a[f])}}})};rdx.op_wizard_page_navigation.prototype._trigger_page_event=function(b){$(b.get_base_view().get_view()).trigger(rdx.events.PAGE_COLLAPSE)};rdx.op_wizard_page_navigation.prototype.unregister_wizard_events=function(b){b.unbind(rdx.events.OP_WIZARD_PAGE_CHANGED)};rdx.op_wizard_page_navigation.prototype.navigate_to_page=function(p,u,t,n,o,q,w){var v=this._op_wizard_view.get_page_navigate_callback(q);if(rdx.utils.is_defined(v)&&rdx.utils.is_not_defined(w)){var s=this;var x=new rdx.view_callback_on_response_arrived_params({return_call_back:new rdx.callback(function(a,c,C,h,m,d,g,l){var B=false;var b=null;var e=null;var D=null;var f=null;if(rdx.utils.is_defined(x.get_additional_params())){if(rdx.utils.is_defined(x.get_additional_params()["skip_next"])&&x.get_additional_params()["skip_next"]==true){B=true}if(rdx.utils.is_defined(x.get_additional_params()["dynamic_view_name"])){b=x.get_additional_params()["dynamic_view_name"]}if(rdx.utils.is_defined(x.get_additional_params()["dynamic_summary_view_name"])){e=x.get_additional_params()["dynamic_summary_view_name"]}if(rdx.utils.is_defined(x.get_additional_params()["dynamic_view_context"])){D=x.get_additional_params()["dynamic_view_context"]}if(rdx.utils.is_defined(x.get_additional_params()["dynamic_resource_data"])){C=x.get_additional_params()["dynamic_resource_data"]}if(rdx.utils.is_defined(x.get_additional_params()["dynamic_pages"])){f=x.get_additional_params()["dynamic_pages"]}}s._navigate_to_page(a,C,h,m,d,g,l,B,b,e,D,f)},[u,p,t,n,o,q]),unformatted_response:p,response:u});v.call_back([x])}else{this._navigate_to_page({},u,p,t,n,o,q,false)}};rdx.op_wizard_page_navigation.prototype._navigate_to_page=function(E,C,x,z,J,v,y,A,G,I,D,L){if(rdx.utils.is_defined(J)&&J==false&&rdx.utils.is_not_defined(L)){this._op_wizard_view.finish_view_operation();return}if(rdx.utils.is_defined(L)&&L.length>0){this._op_wizard_view.update_pages_info(L,y)}var K=this._op_wizard_view.get_pages_div_info();if(y<0||y>=K.length||this._op_wizard_view.get_pages_info()[y].is_skip_page()==true){return}if(rdx.utils.is_not_empty(G)&&rdx.utils.is_defined(this._op_wizard_view.get_pages_info()[y+1])){this._op_wizard_view.get_pages_info()[y+1].set_view_dfn(rdx.utils.get_view(G))}if(rdx.utils.is_not_empty(I)&&rdx.utils.is_defined(this._op_wizard_view.get_pages_info()[y+1])){this._op_wizard_view.get_pages_info()[y+1].set_summary_view_dfn(rdx.utils.get_view(I))}if(rdx.utils.is_defined(A)&&v==false){var F=y+1;var w=this._op_wizard_view.get_pages_info();if(rdx.utils.is_defined(w[F])){w[F].do_skip_page(A)}}if(!z){if(this._op_wizard_view.get_pages_info()[y].is_page_optional()){this._op_wizard_view.create_wizard_summary_page_view(y,C,x,A);if(y<(K.length-1)){this._op_wizard_view.get_pages_info()[y+1].get_base_view().prepare_view();$(this._op_wizard_view.get_pages_info()[y+1].get_base_view().get_view()).trigger(rdx.events.PAGE_EXPAND)}return}else{this._op_wizard_view.create_wizard_summary_page_view(y,C,x,A)}y++}if(y<K.length&&(!this._op_wizard_view.get_pages_info()[y].is_page_optional()||v)){if(v===false&&this._op_wizard_view._view_properties.render_subsequest_view===false){return}var H=v||this._op_wizard_view.get_pages_info()[y].is_edit_clicked();if(H==false){this._op_wizard_view.get_pages_info()[y].do_skip_page(A)}if(this._op_wizard_view.get_pages_info()[y].is_skip_page()==true){y++}this._op_wizard_view.create_wizard_page_view(y,C,v,D);if(rdx.utils.is_defined(this._op_wizard_view.get_pages_info()[y])&&this._op_wizard_view.get_pages_info()[y].is_skip_page()==false){this._op_wizard_view.destroy_all_subsequent_views(y)}}else{for(var B=y;B<=K.length;B++){if(rdx.utils.is_defined(this._op_wizard_view.get_pages_info()[B])&&this._op_wizard_view.get_pages_info()[B].is_skip_page()==false){this._op_wizard_view.create_wizard_page_view(B,C,v,A,D)}else{if(B==K.length&&rdx.utils.is_not_defined(this._op_wizard_view.get_pages_info()[B])){this._op_wizard_view.render_last_page(B,v,C)}}}if(y!=K.length){$(this._op_wizard_view.get_pages_info()[y].get_base_view().get_view()).trigger(rdx.events.PAGE_EXPAND)}}};rdx.op_wizard_pages_info=function(b){this._DEFAULT_PROPERTIES={wizard_view:null,view_dfn:null,summary_view_dfn:null,dom_object:null,base_view:null,resource_for_operation:null,exec_service_result:null,page_navigate_callback:null,optional:false,wizard_page:null,is_edit_clicked:false,skip_page:false,flow_section_obj:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b)};rdx.op_wizard_pages_info.prototype.get_op_wizard_view=function(){return this._properties.wizard_view};rdx.op_wizard_pages_info.prototype.get_wizard_page=function(){return this._properties.wizard_page};rdx.op_wizard_pages_info.prototype.set_wizard_page=function(b){return this._properties.wizard_page=b};rdx.op_wizard_pages_info.prototype.get_dom_object=function(){return this._properties.dom_object};rdx.op_wizard_pages_info.prototype.set_dom_object=function(b){this._properties.dom_object=b};rdx.op_wizard_pages_info.prototype.get_view_dfn=function(){return this._properties.view_dfn};rdx.op_wizard_pages_info.prototype.set_view_dfn=function(b){this._properties.view_dfn=b};rdx.op_wizard_pages_info.prototype.get_summary_view_dfn=function(){return this._properties.summary_view_dfn};rdx.op_wizard_pages_info.prototype.set_summary_view_dfn=function(b){this._properties.summary_view_dfn=b};rdx.op_wizard_pages_info.prototype.get_base_view=function(){return this._properties.base_view};rdx.op_wizard_pages_info.prototype.set_base_view=function(b){this._properties.base_view=b};rdx.op_wizard_pages_info.prototype.get_resource_for_operation=function(){return this._properties.resource_for_operation};rdx.op_wizard_pages_info.prototype.set_resource_for_operation=function(b){this._properties.resource_for_operation=b};rdx.op_wizard_pages_info.prototype.get_exec_service_result=function(){return this._properties.exec_service_result};rdx.op_wizard_pages_info.prototype.set_exec_service_result=function(b){this._properties.exec_service_result=b};rdx.op_wizard_pages_info.prototype.get_page_navigate_callback=function(){return this._properties.page_navigate_callback};rdx.op_wizard_pages_info.prototype.set_page_optional=function(b){this._properties.optional=b};rdx.op_wizard_pages_info.prototype.is_page_optional=function(){return this._properties.optional};rdx.op_wizard_pages_info.prototype.set_is_edit_clicked=function(b){this._properties.is_edit_clicked=b};rdx.op_wizard_pages_info.prototype.is_edit_clicked=function(){return this._properties.is_edit_clicked};rdx.op_wizard_pages_info.prototype.do_skip_page=function(b){this._properties.skip_page=b};rdx.op_wizard_pages_info.prototype.is_skip_page=function(){return this._properties.skip_page};rdx.op_wizard_pages_info.prototype.get_flow_state_container=function(){if(rdx.utils.is_not_defined(this._properties.flow_section_obj)){return null}return this._properties.flow_section_obj.state_container};rdx.op_wizard_pages_info.prototype.get_flow_section_container=function(){if(rdx.utils.is_not_defined(this._properties.flow_section_obj)){return null}return this._properties.flow_section_obj.section_container};rdx.job=function(g,e,h,f){this._id=g;this._interval=e;this._callback=h;this._synchronous=f;this._paused=false};rdx.job.prototype.get_id=function(){return this._id};rdx.job.prototype.get_interval=function(){return this._interval};rdx.job.prototype.get_callback=function(){return this._callback};rdx.job.prototype.is_synchronous=function(){return this._synchronous};rdx.job.prototype._is_paused=function(){return this._paused};rdx.job.prototype._set_paused=function(b){this._paused=b};rdx.scheduler=new function(){this._jobs=new Object();this._paused=false;this._does_job_exist=function(b){if(this._jobs[b]){return true}return false};this._clear_timer=function(b){if(!this._does_job_exist(b)){return}if(this._jobs[b].timer){clearTimeout(this._jobs[b].timer)}};this._execute_job=function(b){b.get_callback().call_back();if(b.is_synchronous()){this.job_completed(b.get_id())}};this.schedule_job=function(l,g){this.remove_job(l.get_id());var h=null;var f=l.get_interval();if(rdx.utils.is_callback(f)){f=f.call_back()}if(!this._paused&&!l._is_paused()&&!g){var m=this;h=setTimeout(function(){m._execute_job(l)},f)}this._jobs[l.get_id()]={job:l,timer:h};if(!this._paused&&!l._is_paused()&&g){this._execute_job(l)}};this.remove_job=function(b){if(!this._does_job_exist(b)){return}this._clear_timer(b);delete this._jobs[b]};this.remove_all_jobs=function(){for(var b in this._jobs){this.remove_job(b)}};this.resume_all_jobs=function(d){if(!this._paused){return}this._paused=false;for(var c in this._jobs){this.schedule_job(this._jobs[c].job,d)}};this.pause_all_jobs=function(){this._paused=true;for(var b in this._jobs){this._clear_timer(b)}};this.resume_job=function(c,d){if(!this._does_job_exist(c)){return}this._jobs[c].job._set_paused(false);this.schedule_job(this._jobs[c].job,d)};this.pause_job=function(b){if(!this._does_job_exist(b)){return}this._jobs[b].job._set_paused(true);this._clear_timer(b)};this.job_completed=function(b){if(!this._does_job_exist(b)){return}this.schedule_job(this._jobs[b].job)}};rdx.cache_constants=new function(){this.IN_PROGRESS="in_progress";this.AVAILABLE="available";this.CACHE_OBJECT_DEFAULT_LIFE_TIME=7000};rdx.cache=new function(){this._cache={};this.create=function(b){this._cache[b]={object:null,state:rdx.cache_constants.IN_PROGRESS}};this.clear=function(b){if(this._cache[b]){delete this._cache[b]}};this.update=function(m,f){if(!this._cache[m]){this.create()}var l=this._cache[m];l.object=f;l.state=rdx.cache_constants.AVAILABLE;var g=this;setTimeout(function(){g.clear(m)},rdx.cache_constants.CACHE_OBJECT_DEFAULT_LIFE_TIME);$(l).trigger(rdx.events.CACHE_OBJECT_AVAILABLE,[f]);try{$(l).unbind(rdx.events.CACHE_OBJECT_AVAILABLE)}catch(h){}};this.get=function(e,f){if(!this._cache[e]){return false}var d=this._cache[e];if(d.state==rdx.cache_constants.AVAILABLE){f.call_back([d.object])}else{if(d.state==rdx.cache_constants.IN_PROGRESS){$(d).bind(rdx.events.CACHE_OBJECT_AVAILABLE,{ns_callback:f},function(a,b){a.data.ns_callback.call_back([b])})}}return true}};rdx.model_constants=new function(){this.RENAME_ACTION="rename";this.SESSION_ID_KEY="sessionid";this.GET="get";this.SET="set";this.ADD="add";this.REMOVE="remove";this.NONE="none";this.GET_COUNT="get_count";this.POST="post";this.NOOP="no_op"};rdx.nitro_to_cli_parser=function(properties){this._DEFAULT_PROPERTIES={parser_component:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,properties);this._parser_component=eval("new "+this._properties.parser_component+"();")};rdx.nitro_to_cli_parser.prototype.parse=function(h){var g=h.method;var f="";try{switch(g){case rdx.model_constants.ADD:f=this._parser_component.get_add_command(h);break;case rdx.model_constants.SET:f=this._parser_component.get_set_command(h);break;case rdx.model_constants.POST:f=this._parser_component.get_post_command(h);break;case rdx.model_constants.REMOVE:f=this._parser_component.get_remove_command(h);break}}catch(e){}return f};rdx.model=new function(){this._base_url=null;this._session_id=null;this.set_base_url=function(b){this._base_url=b};this.unset_base_url=function(){this._base_url=null};this.set_session_id=function(b){this._session_id=b};this.unset_session_id=function(){this._session_id=null};this.get_all=function(s,q,o,p,u){var m=rdx.utils.is_defined(s.get_all_url)?s.get_all_url:s.get_url;var v=rdx.url_utils.get_url(m,q);if(rdx.utils.is_pure_rest_api(s)){v=rdx.url_utils.replace_placeholder_in_url(v)}v=this._add_session_id_to_url(v);v=this.add_base_url_to_url(v);if(s.cacheable){if(rdx.cache.get(v,o)){return}rdx.cache.create(v)}var n=new rdx.ajax_handler(v,new rdx.callback(this,this._get_response_arrived_method,[s,o,s.cacheable]));n.set_error_callback(u);n.set_related_dom_object(p);if(rdx.utils.is_defined(s.header_context)){n.set_resource_context(s.header_context)}var t=rdx.i18n.get_string(s.obj_type);n.set_activity(rdx.i18n.get_string("rdx.ajax_status_requesting",{obj_type:t}));n.dispatch()};this.get=function(v,t,o,s,x,p,u){var y=rdx.url_utils.get_url(v.get_url,t);if(rdx.utils.is_pure_rest_api(v)){y=rdx.url_utils.replace_placeholder_in_url(y)}y=this._add_session_id_to_url(y);y=this.add_base_url_to_url(y);var q=new rdx.ajax_handler(y,o);q.set_error_callback(x);q.set_related_dom_object(s);if(rdx.utils.is_defined(u)||rdx.utils.is_defined(v.header_context)){var z=u||v.header_context;q.set_resource_context(z)}var w=rdx.i18n.get_string(v.obj_type);q.set_activity(rdx.i18n.get_string("rdx.ajax_status_requesting",{obj_type:w}));q.dispatch(p)};this.get_by_url=function(o,s,n,q,t,p){if(rdx.utils.is_pure_rest_api(o)){s=rdx.url_utils.replace_placeholder_in_url(s)}s=this._add_session_id_to_url(s);s=this.add_base_url_to_url(s);var l=new rdx.ajax_handler(s,n);l.set_error_callback(t);l.set_related_dom_object(q);var m=rdx.i18n.get_string(o.obj_type);l.set_activity(rdx.i18n.get_string("rdx.ajax_status_requesting",{obj_type:m}));l.dispatch(p)};this.get_count=function(o,q,n,p,s){var t=rdx.utils.is_defined(o.get_all_url)?o.get_all_url:o.get_url;t=rdx.url_utils.get_url(t,q);t=this._add_session_id_to_url(t);t=this.add_base_url_to_url(t);var l=new rdx.ajax_handler(rdx.url_utils.get_count_url(t),new rdx.callback(this,this._count_response_arrived_method,[o,n,false]));if(rdx.utils.is_defined(o.header_context)){l.set_resource_context(o.header_context)}l.set_error_callback(s);l.set_related_dom_object(p);var m=rdx.i18n.get_string(o.obj_type);l.set_activity(rdx.i18n.get_string("rdx.ajax_status_requesting_count",{obj_type:m}));l.dispatch()};this.add=function(p,n,q,s,m,o){m=$.extend({},m||{});m.operation_object=q;var t=p.add_url?p.add_url:p.get_url;t=this.add_base_url_to_url(t);var l=new rdx.ajax_handler(t,new rdx.callback(this,this._operation_response_arrived_method,[p,n,rdx.model_constants.ADD,m]),rdx.ajax_handler_constants.POST,this.to_json(q,p,true));if(rdx.utils.is_defined(p.header_context)){l.set_resource_context(p.header_context)}l.set_error_callback(s);l.set_related_dom_object(o);this._set_activity(l,rdx.utils.get_activity(m,p,rdx.model_constants.ADD,q));this._set_status(l,rdx.utils.get_status(m,p,rdx.model_constants.ADD,q));this._set_mask_id(l,m.view_definition);l.dispatch()};this.no_op=function(o,m,q,h,p,l,n){l=$.extend({},l||{});l.operation_object=q;this._operation_response_arrived_method({},o,m,rdx.model_constants.NOOP,l)};this.set=function(p,n,q,s,m,o){m=$.extend({},m||{});m.operation_object=q;var t=p.set_url?p.set_url:p.get_url;rest_handler=rdx.utils.get_rest_handler(null,null,null,null,null);t=rest_handler.get_set_url(p,t,q);if(!(rdx.utils.is_pure_rest_api(p))){t=this.add_base_url_to_url(t)}var l=new rdx.ajax_handler(t,new rdx.callback(this,this._operation_response_arrived_method,[p,n,rdx.model_constants.SET,m]),rdx.ajax_handler_constants.PUT,this.to_json(q,p));l.set_error_callback(s);l.set_related_dom_object(o);if(rdx.utils.is_defined(p.header_context)){l.set_resource_context(p.header_context)}this._set_activity(l,rdx.utils.get_activity(m,p,rdx.model_constants.SET,q));this._set_status(l,rdx.utils.get_status(m,p,rdx.model_constants.SET,q));this._set_mask_id(l,m.view_definition);l.dispatch()};this.remove=function(s,m,p,t,q,v,n,u){v=$.extend({},v||{});v.operation_object=p;var o=new rdx.ajax_handler(this._get_remove_url(p,s,u),new rdx.callback(this,this._operation_response_arrived_method,[s,m,rdx.model_constants.REMOVE,v]),rdx.ajax_handler_constants.DELETE);o.set_error_callback(t);o.set_related_dom_object(n);if(rdx.utils.is_defined(s.header_context)){o.set_resource_context(s.header_context)}this._set_activity(o,rdx.utils.get_activity(v,s,rdx.model_constants.REMOVE,p));this._set_status(o,rdx.utils.get_status(v,s,rdx.model_constants.REMOVE,p));this._set_mask_id(o,v.view_definition);o.dispatch()};this.post=function(v,o,s,w,u,y,p,t){y=$.extend({},y||{});y.operation_object=s;var x=v[u+"_url"]?v[u+"_url"]:v.get_url;x=this.add_base_url_to_url(x);var q=new rdx.ajax_handler(x,new rdx.callback(this,this._operation_response_arrived_method,[v,o,u,y]),rdx.ajax_handler_constants.POST,this.to_json(s,v,true,u));q.set_error_callback(w);q.set_related_dom_object(p);if(rdx.utils.is_defined(t)||rdx.utils.is_defined(v.header_context)){var z=t||v.header_context;q.set_resource_context(z)}this._set_activity(q,rdx.utils.get_activity(y,v,u,s));this._set_status(q,rdx.utils.get_status(y,v,u,s));this._set_mask_id(q,y.view_definition);q.dispatch()};this._set_activity=function(d,c){d.set_activity(c)};this._set_status=function(d,c){d.set_status(c)};this._set_mask_id=function(d,c){if(rdx.utils.is_not_defined(c)){return}if(rdx.utils.is_not_defined(c[rdx.mask.MASK_KEY])){return}d.set_mask_id(c[rdx.mask.MASK_KEY])};this._get_response_arrived_method=function(e,h,g,f){g.call_back([e]);if(f){rdx.cache.update(h.get_url,e)}};this._count_response_arrived_method=function(f,l,h,g){var m=0;if(f[l.name]){m=rdx.utils.get_formatted_response(f[l.name])["__count"]}$(l).trigger(rdx.events.MODEL_COUNT_CHANGED,[m]);h.call_back([m])};this._operation_response_arrived_method=function(f,l,h,m,g){if(l.cacheable){rdx.cache.clear(l.get_url)}h.call_back([f]);if(this.is_event_registered_in_model(g.event_resource?rdx.utils.get_resource(g.event_resource):l,rdx.events.MODEL_CHANGED)){if(m==rdx.model_constants.REMOVE||m==rdx.model_constants.RENAME_ACTION||m==rdx.model_constants.NOOP||g.refresh_action==rdx.view_constants.REMOVE_SELECTED){if(rdx.utils.is_not_defined(f[l.name])||rdx.utils.is_not_defined(f[l.name][0])){f[l.name]=[g.operation_object]}this.trigger_model_changed_event(f,m,l,g)}else{rdx.model.trigger_resource_get(g,l,f,m)}}};this.trigger_resource_get=function(l,n,t,q){var o=rdx.utils.is_defined(l)?l.timeout:null;if(rdx.utils.is_not_defined(t[n.name])||rdx.utils.is_not_defined(t[n.name][0])){if(rdx.utils.is_not_defined(l.operation_object)||rdx.utils.is_not_defined(n.primary_keys)||rdx.utils.is_not_defined(l.operation_object[n.primary_keys[0]])||(rdx.utils.is_defined(l.trigger_get)&&l.trigger_get==false)){this.trigger_model_changed_event(l.operation_object,q,n,l)}else{var p=rdx.url_utils.construct_url_params(p,rdx.url_utils.GET_BY_NAME_TYPE,n.primary_keys,l.operation_object);this.get(n,p,new rdx.callback(this,this.trigger_model_changed_event,[q,n,l]),null,new rdx.callback(),o)}return}for(var s in t[n.name]){if(t[n.name].hasOwnProperty(s)){var m=rdx.url_utils.construct_url_params(m,rdx.url_utils.GET_BY_NAME_TYPE,n.primary_keys,t[n.name][s]);this.get(n,m,new rdx.callback(this,this.trigger_model_changed_event,[q,n,l]),null,new rdx.callback(),o)}}};this.trigger_model_changed_event=function(f,l,h,g){if(rdx.utils.is_defined(g)&&rdx.utils.is_defined(g.view)&&this.is_event_registered_in_model(g.view,rdx.events.MODEL_CHANGED)){$(g.view).trigger(rdx.events.MODEL_CHANGED,[f[h.name]?f[h.name]:[],l,g]);return}if(rdx.utils.is_defined(g)&&rdx.utils.is_defined(g.event_resource)){var m=null;if(rdx.utils.is_defined(f[h.name])&&rdx.utils.is_defined(g.pass_response)&&g.pass_response){m=f[h.name]}$(rdx.utils.get_resource(g.event_resource)).trigger(rdx.events.MODEL_CHANGED,[m,l,g])}else{$(h).trigger(rdx.events.MODEL_CHANGED,[f[h.name]?f[h.name]:[],l,g])}};this.add_model_change_listener=function(d,c){$(d).bind(rdx.events.MODEL_CHANGED,{ns_callback:c},this._model_change_callback)};this.add_model_change_custom_listener=function(d,f,e){$(d).bind(rdx.events.MODEL_CHANGED,{ns_callback:f},e)};this._model_change_callback=function(g,e,h,f){g.data.ns_callback.call_back([e,h,f])};this.remove_model_change_listener=function(b){$(b).unbind(rdx.events.MODEL_CHANGED,this._model_change_callback)};this.remove_model_change_custom_listener=function(c,d){$(c).unbind(rdx.events.MODEL_CHANGED,d)};this.is_event_registered_in_model=function(c,d){return $(c).data("events")!=null&&rdx.utils.is_defined($(c).data("events")[d])};this.to_json=function(l,p,o,q){var n=new Object();if(q||rdx.utils.is_defined(rdx.ajax_handler_constants.NITRO_PARAMS)){var m=new Object();if(q){m.action=q}for(var t in rdx.ajax_handler_constants.NITRO_PARAMS){m[t]=rdx.ajax_handler_constants.NITRO_PARAMS[t]}n.params=m}this._add_session_id_to_obj(n);n[p.name]=l;var s="";rest_handler=rdx.utils.get_rest_handler(null,null,null,null,null);s=rest_handler.to_json(p,n,s,o);return s};this._get_remove_url=function(u,v,w){var x=v.remove_url?v.remove_url:v.get_url;x=x.replace(/\/$/,"");var s="";for(var t=0,p=v.primary_keys.length;t<p;t++){var o="";var n=v.primary_keys[t];if(p==1){o=u[n];if(rdx.utils.is_defined(o)&&(rdx.utils.is_not_defined(v.remove_query_param)||v.remove_query_param==false)){var q=(rdx.USE_DOUBLE_ENCODING==rdx.REMOVE);x+="/"+rdx.url_utils.encode_uri_component(o,q)}else{s+=n+":"+rdx.url_utils.encode_uri_component(o)}}else{o=rdx.url_utils.encode_uri_component(u[n]);s+=n+":"+o+","}}if(rdx.utils.is_defined(w)){if(rdx.utils.is_not_empty(s)&&v.primary_keys.length==1){s+=","}for(var n in w){o=rdx.url_utils.encode_uri_component(w[n]);s+=n+":"+o+","}}if(s!=""){x+="?args="+s.replace(/,$/,"")}x=this._add_session_id_to_url(x);x=this.add_base_url_to_url(x);return x};this.add_base_url_to_url=function(b){if(rdx.utils.is_not_defined(this._base_url)||!b.match(/^\//)){return b}return(this._base_url+b)};this._add_session_id_to_url=function(b){if(rdx.utils.is_not_defined(this._session_id)){return b}return rdx.url_utils.add_query_param(b,rdx.model_constants.SESSION_ID_KEY,this._session_id)};this._add_session_id_to_obj=function(b){if(rdx.utils.is_not_defined(this._session_id)){return}b[rdx.model_constants.SESSION_ID_KEY]=this._session_id}};rdx.model_executor_service=function(g,f,e,h){this._DEFAULT_PROPERTIES={progress_bar:false,progress_bar_type:rdx.PROGRESS_INFO,progress_cell_count:10,group_actions:{},show_error_on_progress:true,convert_nitro_to_cli:true};this._number_of_requests=0;this._queue=new Array();this.continue_on_error=rdx.utils.is_defined(e)?e:false;this._collated_response=new Array();this._collated_result=new Array();this._collated_resource=new Array();this._collated_resrc_for_operation=new Array();this._success_callback=g;this._failure_callback=f;this._progress_view=null;this._progress_messages=[];this._properties=$.extend({},this._DEFAULT_PROPERTIES,h);this._properties.mode=this._properties.progress_bar_type;this._group_actions=this._properties.group_actions;this._current_request=null;this._nitro_to_cli_parser=null;if(this._properties.convert_nitro_to_cli===true&&rdx.utils.is_defined(rdx.APP_NITRO_TO_CLI_PARSER)){this._nitro_to_cli_parser=new rdx.nitro_to_cli_parser({parser_component:rdx.APP_NITRO_TO_CLI_PARSER})}};rdx.model_executor_service.prototype.add=function(B,C,v,z,D,H,F,t,w,x){this._DEFAULT_REQUEST_PROPERTIES={group_name:null,rollback:{}};var y={};var G=new rdx.callback(this,this._on_model_call_successfull,[C,y,v,t]);var E=new rdx.callback(this,this._on_model_call_failure,[C,y,v,t]);y.properties=$.extend({},this._DEFAULT_REQUEST_PROPERTIES,w);y.resource_for_operation=v;y.continue_on_error=rdx.utils.is_defined(t)?t:false;switch(B){case rdx.model_constants.ADD:y.method=rdx.model.add;F=$.extend({refresh_action:rdx.view_constants.ADD_NEW},F);y.params=[C,G,v,E,F,H];y.operation=rdx.model_constants.ADD;break;case rdx.model_constants.SET:y.method=rdx.model.set;F=$.extend({refresh_action:rdx.view_constants.REFRESH_RELEVANT},F);y.params=[C,G,v,E,F,H];y.operation=rdx.model_constants.SET;break;case rdx.model_constants.POST:y.method=rdx.model.post;y.action=z;y.params=[C,G,v,E,z,F,H];y.operation=rdx.model_constants.POST;break;case rdx.model_constants.GET:y.method=rdx.model.get;var u=(rdx.utils.is_defined(F))?F.timeout:null;var A=null;if(rdx.utils.is_defined(F)&&(rdx.utils.is_defined(F.header))){A=F.header}y.params=[C,D,G,H,E,u,A];y.operation=rdx.model_constants.GET;break;case rdx.model_constants.GET_COUNT:y.method=rdx.model.get_count;y.params=[C,D,G,H,E];y.operation=rdx.model_constants.GET_COUNT;break;case rdx.model_constants.REMOVE:y.method=rdx.model.remove;y.params=[C,G,v,E,z,F,H,D];y.operation=rdx.model_constants.REMOVE;break;case rdx.model_constants.NOOP:y.method=rdx.model.no_op;F=$.extend({refresh_action:rdx.view_constants.ADD_NEW},F);y.params=[C,G,v,E,z,F,H];y.operation=rdx.model_constants.NOOP;break}y.resource_context=F;if(rdx.utils.is_defined(x)&&x==true){this._queue.unshift(y)}else{this._queue.push(y)}this._number_of_requests=this._number_of_requests+1};rdx.model_executor_service.prototype.execute=function(){if(this._queue.length==0){this._invoke_success_callback();return}var b=this._queue.shift();this._current_request=b;if(this._can_execute_request(b)){this._update_progress(rdx.IN_PROGRESS,b);b.method.apply(rdx.model,b.params)}else{this._execute_next_request()}};rdx.model_executor_service.prototype._invoke_success_callback=function(){if(rdx.utils.is_not_defined(this._success_callback)){return}var b=new rdx.model_executor_service_result({collated_response:this._collated_response,collated_result:this._collated_result,collated_resource:this._collated_resource,collated_resrc_for_operation:this._collated_resrc_for_operation});if(!this._show_progress_bar()){this._invoke_model_service_executor_success_callback(b,false,this._success_callback)}else{this._progress_view.set_progressive_close_callback(new rdx.callback(this._invoke_model_service_executor_success_callback,[b,true,this._success_callback]))}if(this._number_of_requests==0){this._update_progress(rdx.COMPLETED,null)}};rdx.model_executor_service.prototype._invoke_model_service_executor_success_callback=function(e,d,f){if(rdx.utils.is_defined(d)&&d==true){rdx.mask.unmask("__MODEL_EXEC_SERVICE")}if(rdx.utils.is_defined(f)){f.call_back([e])}};rdx.model_executor_service.prototype._handle_response=function(f,g,h,e){this._collated_response.push(f);this._collated_result.push(g);this._collated_resource.push(h);this._collated_resrc_for_operation.push(e);this._execute_next_request()};rdx.model_executor_service.prototype._execute_next_request=function(){this._number_of_requests=this._number_of_requests-1;if(this._number_of_requests>0){this.execute()}else{this._invoke_success_callback()}};rdx.model_executor_service.prototype._on_model_call_successfull=function(g,l,m,n){if(this._properties.convert_nitro_to_cli===true&&rdx.utils.is_defined(rdx.APP_NITRO_TO_CLI_PARSER)){var o=this._nitro_to_cli_parser.parse({method:this._current_request.operation,resource_for_operation:n,resource:l,action:this._current_request.action});var h=new CustomEvent("rdx_debugger_command_event",{detail:{command_str:o}});document.dispatchEvent(h);if(rdx.utils.is_not_empty(o)){console.warn(o)}}this._update_progress(rdx.SUCCESS,m);this._handle_response(g,true,l,n)};rdx.model_executor_service.prototype._on_model_call_failure=function(x,B,w,t){w.response=x;this._update_progress(rdx.FAILED,w);this._update_group_status(w);if(rdx.utils.is_defined(w.properties)&&rdx.utils.is_object_not_empty(w.properties.rollback)){var A=w.properties.rollback.model_method;var B=w.properties.rollback.resource;var t=w.properties.rollback.resource_for_operation;var y=w.properties.rollback.action;var C=w.properties.rollback.param;var q=w.properties.rollback.dom_element;var D=w.properties.rollback.resource_context;var s=w.properties.rollback.continue_on_error;var u=w.properties.rollback.properties;this.add(A,B,t,y,C,q,D,s,u,true);this.execute()}if((rdx.utils.is_defined(this.continue_on_error)&&this.continue_on_error==true)||(w.continue_on_error==true)){this._handle_response(x,false,B,t)}else{var v=new rdx.model_executor_service_result({error_resource:B,error_message:x,error_param:w.param,collated_response:this._collated_response});rdx.status_bar.update_status(x,rdx.ERROR);if(this._show_progress_bar()){this._progress_view.set_progressive_close_callback(new rdx.callback(this._invoke_model_executor_service_failure_callback,[v,true,this._failure_callback]));this._update_progress(rdx.COMPLETED,null)}else{if(rdx.utils.is_defined(this._failure_callback)){this._invoke_model_executor_service_failure_callback(v,false,this._failure_callback)}if(rdx.utils.is_not_empty(x)){x=rdx.utils.html_encode(x);rdx.page.show_notification(x,rdx.ERROR)}try{rdx.mask.unmask_all_components()}catch(z){}}}};rdx.model_executor_service.prototype._update_group_status=function(b){if(rdx.utils.is_defined(b.properties)&&rdx.utils.is_defined(b.properties.group_name)&&rdx.utils.is_defined(this._group_actions)){if(this._group_actions[b.properties.group_name].action==rdx.STOP_AFTER_FIRST_FAILURE){this._group_actions[b.properties.group_name]["status"]=rdx.STOP_AFTER_FIRST_FAILURE}}};rdx.model_executor_service.prototype._invoke_model_executor_service_failure_callback=function(f,d,e){if(rdx.utils.is_defined(d)&&d==true){rdx.mask.unmask("__MODEL_EXEC_SERVICE")}if(rdx.utils.is_defined(e)){e.call_back([f])}};rdx.model_executor_service.prototype.pending_requests_count=function(){return this._number_of_requests};rdx.model_executor_service.prototype.reset_queue=function(){this._queue=new Array();this._number_of_requests=0};rdx.model_executor_service.prototype._can_execute_request=function(d){var c=this._get_group(d);if(c==null){return true}if(rdx.utils.is_defined(c.status)&&c.status==c.action){return false}return true};rdx.model_executor_service.prototype._show_progress_bar=function(){return(this._properties.progress_bar==true)};rdx.model_executor_service.prototype._get_group=function(b){if(rdx.utils.is_not_defined(b.properties.group_name)||rdx.utils.is_not_defined(this._group_actions)){return null}if(rdx.utils.is_defined(this._group_actions[b.properties.group_name])&&rdx.utils.is_defined(this._group_actions[b.properties.group_name].action)){return this._group_actions[b.properties.group_name]}return null};rdx.model_executor_service.prototype._update_progress=function(e,f){if(this._show_progress_bar()){if(this._progress_view==null){this._progress_view=rdx.mask.mask_with_progress($(document.body),"__MODEL_EXEC_SERVICE",this._properties)}if(e==rdx.IN_PROGRESS){var g=rdx.utils.get_activity(f.resource_context,f.params[0],f.operation,f.resource_for_operation);this._progress_messages.push({status:e,message:g})}else{if(e==rdx.COMPLETED){this._progress_messages.push({status:e})}else{if(this._properties.show_error_on_progress==true){var g=rdx.utils.get_status(f.resource_context,f.params[0],f.operation,f.resource_for_operation);this._progress_messages.pop();var h={status:e,message:g};if(e==rdx.FAILED&&rdx.utils.is_defined(f.response)){h.reason=f.response;h.message=f.response}this._progress_messages.push(h)}}}this._progress_view.handle_progressive_info_progress(this._progress_messages)}};rdx.model_executor_service_result=function(b){this._DEFAULT_PROPERTIES={error_resource:null,error_message:"",error_param:null,collated_response:null,collated_result:null,collated_resource:null,collated_resrc_for_operation:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b)};rdx.model_executor_service_result.prototype.get_error_param=function(){return this._properties.error_param};rdx.model_executor_service_result.prototype.get_error_message=function(){return this._properties.error_message};rdx.model_executor_service_result.prototype.get_collated_response=function(){return this._properties.collated_response};rdx.model_executor_service_result.prototype.get_collated_result=function(){return this._properties.collated_result};rdx.model_executor_service_result.prototype.get_error_resource=function(){return this._properties.error_resource};rdx.model_executor_service_result.prototype.get_collated_resource=function(){return this._properties.collated_resource};rdx.model_executor_service_result.prototype.get_collated_resource_for_operation=function(){return this._properties.collated_resrc_for_operation};rdx.page_notification_bar=function(c,d){this._DEFAULT_PROPERTIES={resource_names:[],refresh_time:600000,auto_refresh:true};this._parent=c;this._properties=$.extend(true,this._DEFAULT_PROPERTIES,d)};rdx.page_notification_bar.prototype.render=function(){this._notification_container=$("<div>").addClass("notification_pane");this._notification_mask=$("<div>").addClass("notification_mask");this._notification_count_container=$("<span>").addClass("notification_count_container");this._parent.append(this._notification_count_container);this._parent.addClass("notification_disabled");this._parent.hide();$(document.body).append(this._notification_mask).append(this._notification_container);this._register_events();var b=this;setTimeout(function(){b.refresh()},5000)};rdx.page_notification_bar.prototype._register_events=function(){this._parent.bind(rdx.events.CLICK,{that:this},function(b){if($(this).hasClass("notification_disabled")){return}b.data.that.show_notification_bar()});this._notification_mask.bind(rdx.events.CLICK,{that:this},function(b){b.data.that.hide_notification_bar()})};rdx.page_notification_bar.prototype.show_notification_bar=function(){$(document.body).addClass("rdx_slider_body");this._notification_mask.show();this._notification_container.animate({right:0},400)};rdx.page_notification_bar.prototype.hide_notification_bar=function(){this._notification_mask.hide();this._notification_container.animate({right:-500},400);$(document.body).removeClass("rdx_slider_body")};rdx.page_notification_bar.prototype.refresh=function(){var g=this._properties.resource_names;var l=new rdx.model_executor_service(new rdx.callback(this,this._handle_resource_response),null,false);for(var h=0;h<g.length;h++){var m=g[h];var f=rdx.utils.get_resource(m.name);l.add(rdx.model_constants.GET_COUNT,f,null,null);l.add(rdx.model_constants.GET,f,null,null)}l.execute()};rdx.page_notification_bar.prototype._reinit_notification_containers=function(){this._notification_container.empty();this._notification_header=$("<div>").addClass("notification selected");this._notification_container_count=$("<span>");this._notification_header.append(this._notification_container_count);this._notification_container.append(this._notification_header)};rdx.page_notification_bar.prototype._handle_resource_response=function(l){this._reinit_notification_containers();var m=this._properties.resource_names;var p=0;var s=l.get_collated_result();var n=l.get_collated_response();for(var o=0;o<s.length;o++){if(!s[o]){continue}var t=parseInt(o/2);if(o%2==0){p=p+n[o]}else{this._render_notification_section(m[t],n[o])}}this._notification_container.append($("<span>").append(p));this._notification_count_container.empty();if(p>0){this._notification_count_container.append(p)}if(p>0){this._parent.show();this._parent.removeClass("notification_disabled")}else{this._parent.hide();this._parent.addClass("notification_disabled")}if(this._properties.auto_refresh==true){var q=this;setTimeout(function(){q.refresh()},this._properties.refresh_time)}};rdx.page_notification_bar.prototype._render_notification_section=function(t,u){if(rdx.utils.is_not_defined(t)||rdx.utils.is_not_defined(t.name)){return}var z=$("<div>").addClass("section");var x=rdx.i18n.get_string(t.title);var s=$("<div>").addClass("section_title").append($("<span>").append(x));z.append(s);var v=u[t.name];if(v.length>0){for(var y=0;y<v.length;y++){var w=v[y];if(rdx.utils.is_not_defined(w)||rdx.utils.is_object_empty(w)){continue}var o=new rdx.formatter(t.formatter);var p=o.get_formatted_message(w);var q=$("<div>").addClass("section_content").append($("<p>").append(p));z.append(q)}}this._notification_container.append(z)};rdx.view_constants=new function(){this.HEADER_VIEW="HEADER_VIEW";this.CLOUDNET_HEADER_VIEW="CLOUDNET_HEADER_VIEW";this.INFO_VIEW="INFORMATION_VIEW";this.DETAIL_VIEW="DETAIL_VIEW";this.CONFIGURE_VIEW="CONFIGURE_VIEW";this.OVERVIEW_VIEW="OVERVIEW_VIEW";this.TABBED_VIEW="TABBED_VIEW";this.URL_VIEW="URL_VIEW";this.CHART_VIEW="CHART_VIEW";this.COMPOSITE_VIEW="COMPOSITE_VIEW";this.WIZARD_VIEW="WIZARD_VIEW";this.ONE_PAGE_WIZARD_PAGE_VIEW="ONE_PAGE_WIZARD_PAGE_VIEW";this.ONE_PAGE_WIZARD_VIEW="ONE_PAGE_WIZARD_VIEW";this.DASHBOARD_VIEW="DASHBOARD_VIEW";this.GETTING_STARTED_VIEW="GETTING_STARTED_VIEW";this.FEATURE_WELCOME_VIEW="FEATURE_WELCOME_VIEW";this.SYSLOG_VIEW="SYSLOG_VIEW";this.SYSTEMLOG_VIEW="SYSTEMLOG_VIEW";this.SEARCH_FILTER_DETAILS_VIEW="SEARCH_FILTER_DETAILS_VIEW";this.GEO_MAP_VIEW="GEO_MAP_VIEW";this.GEO_VECTOR_MAP_VIEW="GEO_VECTOR_MAP_VIEW";this.APPS_VIEW="APPS_VIEW";this.TOPOLOGY_DIAGRAM_VIEW="TOPOLOGY_DIAGRAM_VIEW";this.CONFIGURATION_DIFF_VIEW="CONFIGURATION_DIFF_VIEW";this.VISUALIZER_VIEW="VISUALIZER_VIEW";this.APPS_VIEW="APPS_VIEW";this.AUTHENTICATION_VISUALIZER_VIEW="AUTHENTICATION_VISUALIZER_VIEW";this.VISUALIZER="VISUALIZER";this.NETWORK_VISUALIZER_VIEW="NETWORK_VISUALIZER_VIEW";this.APP_FW_VISUALIZER="APP_FW_VISUALIZER";this.ENTITY_VISUALIZER_VIEW="ENTITY_VISUALIZER_VIEW";this.LINKS_VIEW="LINKS_VIEW";this.DOWNLOADS_VIEW="DOWNLOADS_VIEW";this.CONFIG_ADVICE_VIEW="CONFIG_ADVICE_VIEW";this.OFFLINE_VISUALIZER_VIEW="OFFLINE_VISUALIZER_VIEW";this.TABULAR_PAGE_VIEW="TABULAR_PAGE_VIEW";this.ANALYTICS_DASHBOARD_VIEW="ANALYTICS_DASHBOARD_VIEW";this.SUMMARY_CHART_DETAIL_VIEW="SUMMARY_CHART_DETAIL_VIEW";this.THREE_PANE_DASHBOARD="THREE_PANE_DASHBOARD";this.CUSTOM_VIEW="CUSTOM_VIEW";this.GRID_LAYOUT="GRID_LAYOUT";this.MAP_ICON_LAYOUT="MAP_ICON_LAYOUT";this.REFRESH_ALL="REFRESH_ALL";this.REMOVE_SELECTED="REMOVE_SELECTED";this.REFRESH_RELEVANT="REFRESH_RELEVANT";this.ADD_NEW="ADD_NEW";this.REFRESH_NONE="REFRESH_NONE";this.REFRESH_RELEVANT_OR_ADD_NEW="REFRESH_RELEVANT_OR_ADD_NEW";this.CHECK_IF_EXISTS_AND_ADD_NEW="CHECK_IF_EXISTS_AND_ADD_NEW";this.STANDALONE_SEARCH="STANDALONE_SEARCH";this.REFRESH_RELEVANT_OR_ADD_MULTIPLE="REFRESH_RELEVANT_OR_ADD_MULTIPLE";this.ACCORDION_LIST_VIEW="ACCORDION_LIST_VIEW";this.DYNAMIC_VIEW_PROPERTIES="__dynamic_view_properties";this.VIEW_TOOLBAR_PADDING=0;this.PADDING_HEIGHT=rdx.utils.is_ie()||rdx.utils.is_chrome_safari()?-1:-1;this.view_actions={SHOW:"show",HIDE:"hide",READ_ONLY:"read_only",EDITABLE:"editable",DATA_REFRESH:"data_refresh",NONE:"none"};this.view_state={NEW:0,CREATED:1,INITIALIZED:2,PASSIVE:3,ACTIVE:4,DESTROYED:0};this.data_selection_param={ALL:0,SELECTED:1};this.GEO_LEVEL={WORLD:0,COUNTRY:1,STATE:2};this.VIEWS_WITH_SETTINGS=[this.DETAIL_VIEW];this.LOGGED_IN_USER_COOKIE_NAME="logged_in_user_name";this.HOP_DIAGRAM="hop";this.FORMATION_DIAGRAM="formation";this.MINIMUM_COLUMNS_FOR_TABLE_CUSTOMIZATION=2;this.EXPORT_PROPERTIES={query_string_view_object_property_name:"report_context",query_string_view_and_get_url_selection_property_name:"view_and_get_url",query_string_view_selection_property_name:"view_selection",report_duration_property_name:"report_duration"}};rdx.view_context=function(b){this._base_view=b;this._url_params=new Object();this._init_data=null;this._app_context_data=null;this._properties=$.extend({},this._DEFAULT_PROPERTIES);this.OBJECT_NAME="rdx.view_context"};rdx.view_context.prototype=new rdx.context();rdx.view_context.prototype.get_data=function(b){if(this._base_view.get_view_state()>rdx.view_constants.view_state.INITIALIZED){return this._get_dynamic_data(b)}return this._data};rdx.view_context.prototype.get_initial_data=function(){return this._init_data};rdx.view_context.prototype.set_app_context_data=function(b){this._app_context_data=b};rdx.view_context.prototype.get_app_context_data=function(){return this._app_context_data};rdx.view_context.prototype.set_initial_data=function(){this._init_data=this._get_dynamic_data(rdx.view_constants.data_selection_param.ALL)};rdx.view_context.prototype._get_dynamic_data=function(b){if(!rdx.utils.is_function(this._base_view.get_view().get_data)){return[]}return this._base_view.get_view().get_data(b)};rdx.view_context.prototype.get_base_view=function(){return this._base_view};rdx.view_context.prototype.set_base_view=function(d){if(rdx.utils.is_defined(d)){this._base_view=d}if(rdx.utils.is_defined(this._base_view.get_view_definition()["resource_name"])){var c=rdx.utils.get_resource(this._base_view.get_view_definition()["resource_name"]);if(rdx.utils.is_defined(c.use_args)){this.set_use_args(c.use_args)}}};rdx.view_context.prototype.set_url_params=function(c,d){this.set_context_data(d,c)};rdx.view_context.prototype.get_object_name=function(){return"rdx.view_context"};rdx.view_utils=new function(){this.GET_TYPE="get";this.GET_COUNT_TYPE="count";this.GET_FILTER_TYPE="filter";this.GET_BY_NAME_TYPE="get_by_name";this.GET_CUSTOM_TYPE="query_params";this.get_action_bar_items=function(o,m,q){var p=[];for(var h in o.resource_operations){var n=o.resource_operations[h];var l=null;switch(h){case"custom_operations":for(var h in o.resource_operations.custom_operations){var n=o.resource_operations.custom_operations[h];l=$.extend({},n);this._add_button(n,l,p,m,q)}break;default:l=$.extend({},n);this._add_button(n,l,p,m,q);break}}return p};this._view_handler=function(t,o,l,p,q){p=rdx.utils.is_not_defined(p)?{}:p;var m=new rdx.base_view(o,rdx.utils.get_view(l));var s=m.get_view_context();var n=rdx.utils.is_defined(q)&&rdx.utils.is_defined(q.get_data())?q.get_data():{};if(rdx.utils.is_array(n)){n=n[0]}s.set_url_params(p,n);m.prepare_view()};this._add_button=function(n,h,o,m,g){if(h!=null){h.image_url=rdx.images.get_app_url(h.image_url)}if(n.click_handler_callback){h.click_handler_callback=n.click_handler_callback}else{if(n.view){var l=new rdx.callback(this._view_handler,[m,n.view,n.view_context,g]);h.click_handler_callback=l}}o.push(new rdx.action(h))};this.add_dynamic_view_properties=function(d,c){if(rdx.utils.is_defined(d,c)&&rdx.utils.is_defined(c.view_params)){d.view_properties[rdx.view_constants.DYNAMIC_VIEW_PROPERTIES]=c.view_params}};this.get_dynamic_view_properties=function(b){if(rdx.utils.is_defined(b.view_properties)){return b.view_properties[rdx.view_constants.DYNAMIC_VIEW_PROPERTIES]}return null};this.get_tree_key=function(b){if(rdx.utils.is_defined(b)){return b.__tree_key}return null};this.remove_dynamic_view_properties=function(b){if(rdx.utils.is_defined(b.view_properties)&&rdx.utils.is_defined(b.view_properties[rdx.view_constants.DYNAMIC_VIEW_PROPERTIES])){b.view_properties[rdx.view_constants.DYNAMIC_VIEW_PROPERTIES]=null;delete b.view_properties[rdx.view_constants.DYNAMIC_VIEW_PROPERTIES]}};this.get_model_method=function(f,e){var g=true;if(rdx.utils.is_defined(e)){g=e}var h=null;if(g){h=rdx.model_constants.ADD}return rdx.utils.is_not_defined(f.view_properties)?h:rdx.utils.is_not_defined(f.view_properties.submit_operation)?h:f.view_properties.submit_operation.method};this.get_action=function(d){var c=null;if(rdx.utils.is_defined(d.view_properties)&&rdx.utils.is_defined(d.view_properties.submit_operation)){c=d.view_properties.submit_operation.action;if(rdx.utils.is_not_defined(c)){c=null}}return c};this.is_view_active=function(d){var c=d.get_view_state();if(c>=rdx.view_constants.view_state.ACTIVE){return true}return false};this.is_view_initialized=function(d){var c=d.get_view_state();if(c>=rdx.view_constants.view_state.INITIALIZED){return true}return false};this.is_view_created=function(d){var c=d.get_view_state();if(c>=rdx.view_constants.view_state.CREATED){return true}return false};this.get_title=function(f){var g=f.get_view_definition();var m=g.view_properties;var l=f.get_resource();if(rdx.utils.is_defined(m)&&rdx.utils.is_defined(m.title)){return rdx.i18n.get_string(m.title)}if(rdx.utils.is_defined(l)&&rdx.utils.is_not_empty(l.obj_type)){var h=rdx.i18n.get_string(l.obj_type);if(g.type==rdx.view_constants.CONFIGURE_VIEW){if(rdx.utils.is_not_defined(m)||rdx.utils.is_not_defined(m.submit_operation)){return rdx.i18n.get_string("rdx.view_configure_title_add",{obj_type:h})}if(rdx.utils.is_defined(m.submit_operation.method)&&m.submit_operation.method==rdx.model_constants.ADD){return rdx.i18n.get_string("rdx.view_configure_title_add",{obj_type:h})}else{return rdx.i18n.get_string("rdx.view_configure_title_modify",{obj_type:h})}}else{return h}}return""};this.create_modify_view=function(m,g,o){var l=$.extend(true,{},rdx.views[m]);if(rdx.utils.is_defined(l.resource_name)){var h=rdx.utils.get_resource(l.resource_name).primary_keys;h=rdx.utils.is_defined(h)?h:[]}else{throw m+": Resource Name is not defined"}if(rdx.utils.is_not_defined(o)||!o){for(var n=0;n<h.length;n++){if(rdx.utils.is_array(l.resource_properties)){if(rdx.utils.is_not_defined(g)){g=0}l.resource_properties[g].form_fields[h[n]].read_only=true}else{if(rdx.utils.is_defined(l.resource_properties[h[n]])){l.resource_properties[h[n]].read_only=true}}}}if(rdx.utils.is_defined(l.view_properties)){if(rdx.utils.is_defined(l.view_properties.submit_operation)){l.view_properties.submit_operation.method="set"}else{l.view_properties.submit_operation={method:"set"}}}else{l.view_properties={submit_operation:{method:"set"}}}return l};this.create_full_edit_view=function(d){var c=rdx.view_utils.create_modify_view(d,0,true);c.view_properties.callback_before_operation=new rdx.callback(neo.view_callbacks.do_edit_op_with_delete_add);return c};this.get_model_change_response_formatted=function(e,h){if(rdx.utils.is_not_defined(h)||rdx.utils.is_not_defined(e)){return null}h=rdx.utils.get_formatted_response(h);if(rdx.utils.is_not_defined(h)){return null}if(rdx.utils.is_not_defined(e.response_formatter)||rdx.utils.is_object_empty(e.response_formatter)){return[h]}var f={};for(var g in e.response_formatter){f[g]=h[e.response_formatter[g]];if(g!=e.response_formatter[g]){delete f[e.response_formatter[g]]}}return[f]};this.show_view_in_slider=function(u,o,s,n,w,q,t){var v=null;if(!rdx.page.is_slider_visible()){if(rdx.utils.is_defined(q)){v=rdx.page.show_slider(q,null,u)}else{v=rdx.page.show_slider({},null,u)}}var p=new rdx.base_view(rdx.page.get_slider_crumb().get_handler(),u);p.set_crumb_handler(rdx.page.get_slider_crumb().get_handler());var x=p.get_view_context();if(rdx.utils.is_not_defined(s)){s={}}if(rdx.utils.is_defined(n)){x.set_url_params(n,s)}else{x.set_url_params({is_data_set:true},s)}if(rdx.utils.is_not_defined(w)||w==true){p.prepare_view()}$(p).bind(rdx.events.BEFORE_VIEW_DESTROYED,{callback:t},function(a,b){if(rdx.utils.is_defined(a.data.callback)){a.data.callback.call_back([b])}});$(p).bind(rdx.events.VIEW_DESTROYED,{callback:o},function(a,b){if(rdx.utils.is_defined(a.data.callback)){a.data.callback.call_back()}if(rdx.page.get_slider_crumb().get_current_crumb().index<0){rdx.page.hide_slider()}});return p};this.show_view_in_full_page=function(e,d){var f=null;if(rdx.utils.is_not_defined(e.add_to_bread_crumb)||e.add_to_bread_crumb==false){f=new rdx.base_view(rdx.page.get_content(),e);f.set_toggle_view(true)}else{f=new rdx.base_view(d.get_parent(),e);f.set_crumb_handler(d.get_crumb_handler())}return f};this.create_top_panel=function(f){var e=$("<div>");if(rdx.utils.is_defined(f)){e.addClass("rdx_top_panel configure_view_top_panel");var d=$("<div>").addClass("rdx_title_panel");d.append(rdx.i18n.get_string(f));e.append(d)}return e};this.show_export_report_panel=function(e,g,h){if(rdx.utils.is_defined(h)&&h==false){g.call_back()}else{rdx.view_object_get_callback=g;if(rdx.utils.is_defined(g)&&rdx.utils.is_defined(rdx.EXPORT_VIEW_NAME)){var f=rdx.utils.get_view(rdx.EXPORT_VIEW_NAME);if(rdx.utils.is_defined(f)){rdx.view_utils.show_view_in_slider(f,null,null,null,true,{show_bread_crumb:false})}}}};this.get_parameters_open_view_from_query_string=function(){rdx.view_object_from_query_string=null;rdx.view_selection_from_query_string=null;if(rdx.utils.is_defined(rdx.view_constants.EXPORT_PROPERTIES.query_string_view_object_property_name)&&rdx.utils.is_defined(rdx.view_constants.EXPORT_PROPERTIES.query_string_view_selection_property_name)){var b=JSON.parse(decodeURI(rdx.utils.get_url_query_param(rdx.view_constants.EXPORT_PROPERTIES.query_string_view_object_property_name)));rdx.view_object_from_query_string=b;if(rdx.utils.is_defined(b)&&rdx.utils.is_defined(b[rdx.view_constants.EXPORT_PROPERTIES.query_string_view_and_get_url_selection_property_name])){rdx.query_string_view_and_get_url_selection_property_name=b[rdx.view_constants.EXPORT_PROPERTIES.query_string_view_and_get_url_selection_property_name]}if(rdx.utils.is_defined(b)&&rdx.utils.is_defined(b[rdx.view_constants.EXPORT_PROPERTIES.query_string_view_selection_property_name])){rdx.view_selection_from_query_string=b[rdx.view_constants.EXPORT_PROPERTIES.query_string_view_selection_property_name]}}};this.hide_tree_pane=function(){var d=$(".tree_pane");if(rdx.utils.is_defined(d)){var c=$(".tree_pane").parent();if(rdx.utils.is_defined(c)){c.css("display","none")}}};this.hide_header_pane=function(){var b=$(".ns_header");if(rdx.utils.is_defined(b)){b.hide()}};this.add_report_header=function(w,o,q){if(rdx.utils.is_defined(w)){var s=$("<div>").addClass("export_report_header_div");var n=$("<span>").addClass("export_report_product_name_span").append(rdx.i18n.get_string("rdx.report_generated_by")).append(w);var v=$("<span>").addClass("export_report_entity_name_span");if(rdx.utils.is_defined(o)){v.append("&nbsp;").append(rdx.i18n.get_string("rdx.for")).append(o)}var t=$("<span>").addClass("export_report_user_name_and_time_span");if(rdx.utils.is_defined(q)){var p=$("<span>").append(rdx.i18n.get_string("rdx.by")).append(q).append("&nbsp;");t.append(p)}var x=$("<span>").append(Highcharts.dateFormat("%d %b %Y, %l:%M %P",(new Date).getTime()));t.append(x);s.append(n).append(v).append(t);var u=$(".ns_content").first();if(rdx.utils.is_defined(u)){u.prepend(s)}}};this.add_formfield_at_the_beginning_of_resource_properties=function(f,d,e){if(rdx.utils.is_not_defined(f,d,e)){return null}if(rdx.utils.is_defined(f.resource_properties)){if(rdx.utils.is_array(f.resource_properties)){f.resource_properties[0]=$.extend(true,{form_field_key:e},f.resource_properties[0])}else{f.resource_properties=$.extend(true,{form_field_key:e},f.resource_properties)}}return f};this.add_time_selection_bar=function(H,z,u,G){var F=new Object();if(rdx.utils.is_defined(H)){if(z.enabled||u.enabled){if(u.enabled){var D=$("<div>").addClass("time_selection_bar_picker_container");H.append(D);var A=new rdx.form_field({input_type:rdx.form_constants.CALENDAR,display_label:false,properties:u});var x=new rdx.calendar_component(D,A);x.render();if(rdx.utils.is_defined(rdx.SELECTED_DURATION_OBJECT)){x.set_data(rdx.SELECTED_DURATION_OBJECT,false,!rdx.SELECTED_DURATION_OBJECT.time_range)}F.picker=x}if(z.enabled){var B=$("<div>").addClass("time_selection_bar_slider_container");var C=$("<div>").addClass("time_selection_bar_slider_time_display");F.time_display_div=C;var t=$("<div>");B.append(C).append(t);H.append(B);var w=new rdx.form_field({input_type:rdx.form_constants.TIME_SLIDER,display_label:false,properties:z});var E=new rdx.time_slider(t,w);E.render();if(rdx.utils.is_defined(rdx.SELECTED_DURATION_OBJECT)){E.set_data({default_min:rdx.SELECTED_DURATION_OBJECT.start_epoch,default_max:rdx.SELECTED_DURATION_OBJECT.end_epoch,min:rdx.utils.is_defined(x)?x.get_data().start_epoch:rdx.SELECTED_DURATION_OBJECT.start_epoch,max:rdx.utils.is_defined(x)?x.get_data().end_epoch:rdx.SELECTED_DURATION_OBJECT.end_epoch})}else{E.set_data({default_min:rdx.utils.is_defined(x)?x.get_data().start_epoch:(new Date).getTime(),default_max:rdx.utils.is_defined(x)?x.get_data().end_epoch:(new Date).getTime(),min:rdx.utils.is_defined(x)?x.get_data().start_epoch:(new Date).getTime(),max:rdx.utils.is_defined(x)?x.get_data().end_epoch:(new Date).getTime()})}F.slider=E;if(rdx.utils.is_defined(G)){if(rdx.utils.is_defined(G.button_text)&&rdx.utils.is_defined(G.click_handler_callback)){var y=$("<div>").addClass("time_selection_bar_go_button_container");var v=$("<input type = 'button'>").attr("value",rdx.i18n.get_string(G.button_text));v.bind(rdx.events.CLICK,{callback:G.click_handler_callback,slider:E},function(b){var a=b.data.callback;var c=b.data.slider;a.call_back([c.get_data(),true])});y.append(v);H.append(y)}}}}}return F};this.print_view_details=function(d,e){$(".print_view_iframe").remove();var f='<iframe class="print_view_iframe" name="print_frame" width="0" height="0" frameborder="0" src="about:blank"></iframe>';$("body").append($(f));window.frames.print_frame.document.body.innerHTML=e.html();window.frames.print_frame.window.focus();window.frames.print_frame.window.print()};this.render_info_on_chart=function(t,p){var v=$(".highcharts-container",t.renderTo);var z=$(".info-on-chart",v);var u=(z.length==1?$(z[0]):null);if(!u){var w=t.plotLeft+(t.plotWidth*0.5);var x=t.plotTop+(t.plotHeight*0.5);v.css({position:"relative"});var q='<span style="text-align:center;min-height:20px;display:inline-block;visibility:hidden"></span>';var o=$('<span class="donut-chart-text">'+p+"</span>");u=$(q).addClass("info-on-chart").append(o);$(document.body).append(u);var y=parseInt(w+(u.width()*-0.5));var s=parseInt(x+(u.height()*-0.5));u.remove();v.append(u);u.css({left:y,top:s,position:"absolute",visibility:"visible"})}else{$(".tab-stat-data",u).text(p)}};this.get_modified_view_defn_for_entity_choose=function(f,d){d=d||{};var e=$.extend(true,{},rdx.utils.get_view(f));e.view_properties=rdx.utils.is_not_defined(e.view_properties)?{}:e.view_properties;e.dialog_properties=rdx.utils.is_not_defined(e.dialog_properties)?{}:e.dialog_properties;e.dialog_properties.view_properties=$.extend(true,{resource_name:e.resource_name},e.dialog_properties.view_properties);e.view_properties.submit_operation={method:"no_op"};if(d.multi_selection==true){e.view_properties.show_select_component=rdx.form_constants.CHECK_BOX;e.dialog_properties.multi_selection=true}else{e.view_properties.show_select_component=rdx.form_constants.RADIO_BUTTON;e.dialog_properties.single_selection=true}e.view_properties.pagination=true;e.view_properties.is_tool_bar_required=false;e.view_properties.search=true;e.view_properties.append_data_to_first=false;e.view_properties.add_create_button=false;e.view_properties.add_close_button=false;delete e.add_to_bread_crumb;e.dialog_properties.blue_button_label=rdx.i18n.get_string("rdx.message_box_ok_button");e.resource_properties=rdx.utils.is_not_defined(e.resource_properties)?{}:e.resource_properties;return e}};rdx.download_util=function(f,d,e){this._parent=f;this._DEFAULT_PROPERTIES={header_title:"Downloads",header_title_class_name:"ns_wp_header",header_description:"Use this page to download resources for building custom management tools for the device or integration with the third party tools"};this._properties=$.extend({},this._DEFAULT_PROPERTIES,e);this._view_definition=d};rdx.download_util.prototype.render=function(){var n=$(document.createElement("table")).attr("width","75%").attr("align","center").attr("cellpadding",0).attr("cellspacing",0);n.addClass("smooth_all_corner").addClass("layout_border").addClass("download_custom_theme_class");if(!n.html().match(/<tbody>/i)){n.append(document.createElement("tbody"))}var q=$(n[0].tBodies[0].insertRow(-1));$(q[0].insertCell(-1)).attr("colspan",3).attr("height","10px");var m=$(n[0].tBodies[0].insertRow(-1));m.addClass(this._properties.header_title_class_name).css("font-size","150%");$(m[0].insertCell(-1)).attr("colspan",3).append(this._properties.header_title);var o=$(n[0].tBodies[0].insertRow(-1));$(o[0].insertCell(-1)).attr("colspan",3).append("<br>"+this._properties.header_description);$(n[0].tBodies[0].insertRow(-1)).attr("colspan",3).attr("height",10);for(var p in this._view_definition){var h=this._view_definition[p];this._add_node_header(h,p,n);for(var l=0;l<h.length;l++){this._add_child_nodes(h[l],n);this._add_spacer_row(n,11)}}this._parent.append(n)};rdx.download_util.prototype._add_spacer_row=function(f,e){var d=$(f[0].tBodies[0].insertRow(-1));$(d[0].insertCell(-1)).attr("colspan",3).attr("height",e)};rdx.download_util.prototype._add_node_header=function(h,n,o){var m=h.header_class_name?h.header_class_name:"ns_small_header";var g=$(o[0].tBodies[0].insertRow(-1));$(g[0].insertCell(-1)).attr("colspan",3).addClass("ns_small_header").append(n);var l=$(o[0].tBodies[0].insertRow(-1));$(l[0].insertCell(-1)).attr("colspan",3).attr("height",5)};rdx.download_util.prototype._add_child_nodes=function(s,q){var o=rdx.i18n.get_string(s.href_short_description);var l=$(document.createElement("img")).attr("src",rdx.images.get_app_url(s.img_url)).attr("title",rdx.i18n.get_string(s.img_title));var m=$(document.createElement("a")).attr("href",s.href).attr("target",this._get_href_target(o,s.href_target)).append(l);var p=$(q[0].tBodies[0].insertRow(-1));$(p[0].insertCell(-1)).append(m).width(40);var n=$(document.createElement("a")).attr("href",s.href).attr("target",this._get_href_target(o,s.href_target)).append(o);var t=$(document.createElement("br"));$(p[0].insertCell(-1)).append(n).append(t).append(rdx.i18n.get_string(s.href_description))};rdx.download_util.prototype._get_href_target=function(m,n){if(n){return rdx.i18n.get_string(n)}var o=m.toUpperCase();var l="";var h=o.split(" ");for(var g=0;g<h.length;g++){l+=h[g]+"_"}l=l.substring(0,n.length-1);return l};rdx.title_bar=function(d,f,e){this.navigation_div=d;this.navigation_div.addClass("title_tool_bar_table");this._tool_bar_table=$("<table>").addClass("tool_bar_table").attr("cellPadding",0).attr("cellSpacing",0);this._tool_bar_row=$("<tr>");this._tool_bar_table.append(this._tool_bar_row);this._crumb_div=$("<td>").addClass("title");this._title_div=null;this._title=$("<td>").addClass("title");this._back_button=$("<td>");this._added_crumb=false;this.crumb=new rdx.bread_crumb(this._crumb_div,f,e);this._is_global_filter_added=false;this._global_filter=[];this._global_filter_list=null;this._current_global_filter=null;this._is_title_bar_shown=true;this._DEFAULT_PROPERTIES={add_toolbar:true,add_help_id:false,add_back_button:false,add_title:false};this._properties=$.extend(true,{},this._DEFAULT_PROPERTIES,e);if(rdx.utils.is_defined(this._properties.persist_view)&&this._properties.persist_view==true){this._tool_bar_row.append(this._crumb_div)}if(this._properties.add_toolbar==true){if(this.is_add_back_button()==true){this._tool_bar_row.prepend(this._back_button);this._back_button.addClass("back_button_toolbar");if(this.is_add_help_id()==true){this._tool_bar_div=$("<td>").addClass("custom_help_link_container")}}else{this._tool_bar_div=$("<td>").addClass("top_links_container")}if(this._properties.add_title==true){this._tool_bar_row.append(this._title)}this._custom_component_container=$("<td>");this._global_filter_container=$("<td>");this._tool_bar_row.append(this._custom_component_container);this._tool_bar_row.append(this._global_filter_container);if(rdx.help.show_help()==true){this._tool_bar_row.append(this._tool_bar_div)}}this.navigation_div.append(this._tool_bar_table);this._properties=$.extend(true,this._DEFAULT_PROPERTIES,e)};rdx.title_bar.prototype.height=function(){return this.navigation_div.outerHeight(true)};rdx.title_bar.prototype.add_toolbar_items=function(d,c){this.clear_toolbar_items();new rdx.ribbon($(this._tool_bar_div),d,c).render()};rdx.title_bar.prototype.add_title=function(c,d){if(rdx.utils.is_defined(this._title_div)){this._title.empty()}if(rdx.utils.is_defined(d)){this._title_div=$("<div>").addClass("page_title").append(d).append(rdx.i18n.get_string(c))}else{this._title_div=$("<div>").addClass("page_title").text(rdx.i18n.get_string(c))}this._title.append(this._title_div)};rdx.title_bar.prototype.add_back_button_toolbar=function(d,c){this._custom_component_container.empty();$(this._back_button).addClass("ribbon_back_button");new rdx.ribbon($(this._back_button),d,c).render()};rdx.title_bar.prototype.add_custom_component=function(b){if(rdx.utils.is_defined(b)){b.call_back([this._custom_component_container])}};rdx.title_bar.prototype.add_crumb=function(c,d){if(!this._added_crumb){this._added_crumb=true;if(this._tool_bar_row.find("td").length==0){this._tool_bar_row.append(this._crumb_div)}else{this._tool_bar_row.find("td").eq(0).after(this._crumb_div)}}return this.crumb.add_view(c,d)};rdx.title_bar.prototype.clear_all=function(){this.crumb.clear_all()};rdx.title_bar.prototype.clear_toolbar_items=function(){$(this._tool_bar_div).children().remove();this._custom_component_container.empty();this._custom_component_container.removeClass();if(!this.is_global_filter_added()){this._global_filter_container.empty();this._global_filter_container.removeClass()}};rdx.title_bar.prototype.get_current_crumb=function(){return this.crumb.get_current_crumb()};rdx.title_bar.prototype.update_current_crumb_title=function(b){return this.crumb.update_current_crumb_title(b)};rdx.title_bar.prototype.remove_all_crumbs=function(){this.crumb.remove_all_crumbs()};rdx.title_bar.prototype.remove_current_crumb=function(){return this.crumb.go_back_to_previous_crumb()};rdx.title_bar.prototype.get_handler=function(){return this.crumb.get_handler()};rdx.title_bar.prototype.is_add_back_button=function(){return this._properties.add_back_button};rdx.title_bar.prototype.is_add_help_id=function(){return this._properties.add_help_id};rdx.title_bar.prototype.register_global_filter_change_event=function(b){this._global_filter_list.add_event_handler(rdx.events.CHANGE,b)};rdx.title_bar.prototype.remove_global_filter_change_event=function(b){this._global_filter_list.remove_event_handler(rdx.events.CHANGE,b)};rdx.title_bar.prototype.is_global_filter_added=function(){return this._is_global_filter_added};rdx.title_bar.prototype.get_current_global_filter=function(){return this._current_global_filter};rdx.title_bar.prototype.set_current_global_filter=function(b){this._current_global_filter=b};rdx.title_bar.prototype.get_global_filter_options=function(){return this._global_filter};rdx.title_bar.prototype.add_global_filter=function(m,l,h){this._is_global_filter_added=true;this._global_filter=m;var g=this._global_filter_container;var o=new Array();if(m.length==0){return}for(var n in m){o.push(m[n].label)}g.addClass("global_operations_separator");this._global_filter_list=new rdx.dropdown_menu(g,new rdx.form_field({formatter:{map:o},mandatory:true,properties:{size:1,set_current:true}}));this._global_filter_list.render();if(rdx.utils.is_defined(h)&&h){this.register_global_filter_change_event(l)}};rdx.title_bar.prototype.remove_global_filter=function(){this._global_filter_container.empty();this._global_filter_container.removeClass();this._is_global_filter_added=false;this._current_global_filter=null};rdx.title_bar.prototype.show_title_bar=function(){this.navigation_div.show();this._is_title_bar_shown=true};rdx.title_bar.prototype.hide_title_bar=function(){this.navigation_div.hide();this._is_title_bar_shown=false};rdx.title_bar.prototype.get_crumb_length=function(){return this.crumb.get_crumb_length()};rdx.title_bar.prototype.update_crumb_title=function(c){var d=this.crumb.get_current_crumb().crumb_container.find("span");if(rdx.utils.is_defined(d)){d.text(c)}};rdx.title_bar.prototype.get_navigation_div=function(){return this.navigation_div};rdx.title_bar.prototype.is_title_bar_shown=function(){return this._is_title_bar_shown};rdx.bread_crumb=function(f,d,e){this.crumb_div=f;this._head_crumb=this._current_crumb={next_crumb:null,prev_crumb:null,crumb_container:null,crumb_title:null,crumb_link:null,tree_key:null,view_info:null,index:-1,slider:false};this._crumb_length=0;this._DEFAULT_PROPERTIES={persist_view:false,render_crumb_from_tree_key:true,add_slider:false};this._views_list=[];this._properties=$.extend(true,{},this._DEFAULT_PROPERTIES,e);this._bread_crumb_handler=new rdx.bread_crumb_handler(this);this._parent_container=d;this._crumb_link=null};rdx.bread_crumb.prototype._handle_bread_crumb_event=function(c,d){this.add_view(c,d)};rdx.bread_crumb.prototype.clear_all=function(){this._views_list=[];$(this.crumb_div).children().remove();this._crumb_length=0;this._head_crumb=this._current_crumb={next_crumb:null,prev_crumb:null,crumb_container:null,crumb_title:null,crumb_link:null,tree_key:null,view_info:null,index:-1,slider:false}};rdx.bread_crumb.prototype._remove_crumb=function(b){if(rdx.utils.is_not_defined(b)){return}this._remove_crumb(b.next_crumb);this._views_list.splice(b.index,1);b.crumb_container.remove();if(this._crumb_length>0){this._crumb_length--}};rdx.bread_crumb.prototype.remove_crumb=function(d,e){var f=d;if(e){this._remove_crumb(d.next_crumb);if(rdx.utils.is_defined(d.next_crumb)){d.next_crumb=null}this._current_crumb=d}else{this._remove_crumb(d);if(rdx.utils.is_defined(d.prev_crumb)){d.prev_crumb.next_crumb=null;this._current_crumb=d.prev_crumb}}if(this._properties.slider==true&&e==false){rdx.page.update_slider_title(this._current_crumb.title)}};rdx.bread_crumb.prototype._handle_tree_view_addition=function(l){if(rdx.utils.is_not_defined(l._view_definition.__tree_key)){return}if(l._view_definition.__tree_key){this.remove_crumb(this._head_crumb,true);var m=l._view_definition.__tree_key.indexOf("^");var q=this._head_crumb;this.clear_all();this._current_crumb=this._head_crumb;while((m=l._view_definition.__tree_key.indexOf("^",m+1))>0){var o=l._view_definition.__tree_key.substr(0,m);var h=rdx.get_tree().get_view_definition(o);if(rdx.utils.is_defined(h)){var n={prev_crumb:q,tree_key:o};q.next_crumb=n;this._add_new_crumb(h.view_properties.title,n,true);q=n}else{var p=rdx.get_tree().get_view_title(o);var n={prev_crumb:q,tree_key:o,is_not_link:true};q.next_crumb=n;this._add_new_crumb(p,n,false);q=n}}}};rdx.bread_crumb.prototype._add_new_crumb=function(m,l,g){var h=$("<div>").addClass("current");if(g){this._crumb_link=$("<a>").attr("href","#noAnchor").append(rdx.i18n.get_string(m));if(rdx.utils.is_instrumentation_enabled()){var n=rdx.utils.get_view_title();inner_text=rdx.i18n.get_string(m);if(inner_text){this._crumb_link.attr("id",n+"-brd-crmb-"+inner_text.replace(/\ /g,"_"))}}}else{this._crumb_link=$("<span>").append(rdx.i18n.get_string(m))}if(this._crumb_length==0){h.append(this._crumb_link);if((!rdx.page.is_slider_visible())&&rdx.utils.is_defined(rdx.global_title_bar)){rdx.global_title_bar.hide_title_bar()}else{if(rdx.utils.is_defined(rdx.page.get_slider_crumb)&&rdx.page.is_slider_visible()){rdx.page.get_slider_crumb().hide_title_bar();rdx.page.update_slider_bread_crumb(false)}}this._head_crumb=l}else{if((!rdx.page.is_slider_visible())&&rdx.utils.is_defined(rdx.global_title_bar)){rdx.global_title_bar.show_title_bar()}else{if(rdx.utils.is_defined(rdx.page.get_slider_crumb)&&rdx.page.is_slider_visible()){rdx.page.get_slider_crumb().show_title_bar();rdx.page.update_slider_bread_crumb(true)}}var o=$("<img>").attr("src",rdx.images.BREAD_CRUMB_IMG);h.append(o).append(this._crumb_link)}if(rdx.utils.is_defined(this._current_crumb.crumb_container)){this._current_crumb.crumb_container.removeClass("current")}h.addClass("bread_crumb_container");this.crumb_div.append(h);l.crumb_title=m;l.crumb_container=h;l.crumb_link=this._crumb_link;this._current_crumb=l;this._crumb_length++;if(g){this._register_click_event(this._crumb_link,l)}};rdx.bread_crumb.prototype._register_click_event=function(c,d){c.bind(rdx.events.CLICK,{crumb:d,bread_crumb:this},function(b){var f=b.data.crumb;if(rdx.utils.is_not_defined(f.next_crumb)){return}var a=b.data.bread_crumb;f.crumb_container.addClass("current");a._current_crumb.crumb_container.removeClass("current");if(a._properties.persist_view==false){a._handle_tree_based_link(f)}else{a._handle_view_persist_link(f)}})};rdx.bread_crumb.prototype._handle_view_persist_link=function(e){var g=e.index;if(this._views_list.length==1&&g==0){var f=this._views_list[0].crumb;if(rdx.utils.is_defined(f.view_info)&&rdx.utils.is_defined(f.view_info.is_view)&&f.view_info.is_view===false){$(f.view_info.parent).trigger(rdx.events.VIEW_DESTROYED,{slider_clicked:this._properties.slider});f.view_info.parent.remove()}else{f.view_info.base_view.destroy_view({slider_clicked:this._properties.slider});f.view_info.base_view.get_parent().remove()}this.remove_crumb(f,true)}else{for(var h=this._views_list.length-1;h>g;h--){var f=this._views_list[h].crumb;if(rdx.utils.is_defined(f.view_info)&&rdx.utils.is_defined(f.view_info.is_view)&&f.view_info.is_view===false){$(f.view_info.parent).trigger(rdx.events.VIEW_DESTROYED,{slider_clicked:this._properties.slider});f.view_info.parent.remove()}else{f.view_info.base_view.destroy_view({slider_clicked:this._properties.slider});f.view_info.base_view.get_parent().remove()}this.remove_crumb(f,true)}}this._current_crumb=e;e.next_crumb=null;if(rdx.utils.is_defined(e.view_info)){e.view_info.parent.show();this._add_parent_specefic_class(e.view_info.parent,e.view_info.base_view)}this._make_link_crumb_as_text(e);if(this._current_crumb.index==0){rdx.page.update_slider_bread_crumb(false)}else{rdx.page.update_slider_bread_crumb(true)}};rdx.bread_crumb.prototype._handle_tree_based_link=function(l){var m=this._current_crumb.view_info.view_definition;if(rdx.utils.is_defined(l.tree_key)){rdx.get_tree().select_node(l.tree_key);return}else{if(rdx.utils.is_defined(l.view_info.base_view._view_definition.__tree_key)){if(rdx.utils.is_defined(m.add_to_bread_crumb)&&m.add_to_bread_crumb===true&&rdx.utils.is_not_defined(m.__tree_key)){this._current_crumb.view_info.base_view.destroy_view()}if(l.view_info.view_definition.type===rdx.view_constants.TABBED_VIEW){var h=l.view_info.base_view.get_view();var g=h._current_view.get_view_definition().view_properties.title;rdx.view_utils.add_dynamic_view_properties(l.view_info.base_view._view_definition,{view_params:{default_tab:g}})}rdx.get_tree().select_node(l.view_info.base_view._view_definition.__tree_key);return}else{this._current_crumb.view_info.base_view.destroy_view();this._current_crumb=l;this.remove_crumb(l,true);l.next_crumb=null;var f=new rdx.base_view(l.view_info.parent,l.view_info.view_definition);f.set_view_context(l.view_info.view_context);f.prepare_view(true);l.view_info.base_view=f}}};rdx.bread_crumb.prototype._add_parent_specefic_class=function(h,f){if(this._properties.persist_view==false){return}if(rdx.utils.is_not_defined(f)){h.addClass("op_wizard_form_panel");return}var g=f.get_view_definition()["type"];var e=f.get_view_definition()["view_properties"];if(this._crumb_length>=1){if(g==rdx.view_constants.CONFIGURE_VIEW){h.addClass("op_wizard_form_panel")}else{if(g==rdx.view_constants.ONE_PAGE_WIZARD_PAGE_VIEW||g==rdx.view_constants.ONE_PAGE_WIZARD_VIEW){h.removeClass("op_wizard_form_panel")}else{h.addClass("op_wizard_form_panel")}}}else{if(g==rdx.view_constants.CONFIGURE_VIEW){h.addClass("op_wizard_form_panel")}else{h.removeClass("op_wizard_form_panel")}}};rdx.bread_crumb.prototype.add_view=function(h,e){var f=e.get_parent();if(rdx.utils.is_empty(h)){h=rdx.view_utils.get_title(e)}if(this._properties.persist_view==true){f=$("<div>").css("width","100%");if(this._views_list.length>0){$(this._views_list[this._views_list.length-1].container).hide()}if(rdx.utils.is_defined(this._parent_container)){if(this._properties.slider==true){f.css("width","0px").css("position","absolute");f.animate({right:0});f.css("width","100%")}this._parent_container.append(f);this._add_parent_specefic_class(f,e)}}else{if(rdx.utils.is_defined(this._current_crumb.view_info)){if(rdx.utils.is_not_defined(this._current_crumb.view_info.base_view._view_definition.container_view)){this._current_crumb.view_info.base_view.destroy_view({bread_crumb:"NO_REMOVE"})}}}if(this._properties.render_crumb_from_tree_key==true){this._handle_tree_view_addition(e)}var g={title:h,index:this._views_list.length,prev_crumb:this._current_crumb,view_info:{base_view:e,parent:f,view_definition:e.get_view_definition(),resource_name:rdx.utils.is_defined(e.get_resource())?e.get_resource().name:null,view_context:$.extend(true,{},e.get_view_context())}};this._current_crumb.next_crumb=g;this._make_text_crumb_as_link(this._current_crumb);this._views_list.push({crumb:g,container:f});this._add_new_crumb(h,g,false);$(e).bind(rdx.events.VIEW_DESTROYED,{bc:this,crumb:g},function(b,c){var a=b.data.bc;var d=b.data.crumb;if(rdx.utils.is_not_defined(c.bread_crumb)||c.bread_crumb!="NO_REMOVE"){if(a._properties.slider==true&&rdx.utils.is_defined(a._current_crumb.prev_crumb)&&a._current_crumb.prev_crumb.index>=0){if(rdx.utils.is_function(a._current_crumb.prev_crumb.view_info.base_view.get_view().is_help_rendered)&&a._current_crumb.prev_crumb.view_info.base_view.get_view().is_help_rendered()==true){rdx.page.update_slider_help()}else{if((rdx.utils.is_defined(a._current_crumb.prev_crumb.view_info.base_view.get_view()))&&(rdx.utils.is_defined(a._current_crumb.prev_crumb.view_info.base_view.get_view()._view_definition))){rdx.page.update_slider_help(a._current_crumb.prev_crumb.view_info.base_view.get_view()._view_definition.view_properties.help_id)}}}a.remove_crumb(d,false);if(a._properties.persist_view==true){if(rdx.utils.is_defined(a._current_crumb)){if(rdx.utils.is_defined(a._current_crumb.view_info)){a._current_crumb.view_info.parent.show();a._add_parent_specefic_class(a._current_crumb.view_info.parent,a._current_crumb.view_info.base_view)}a._make_link_crumb_as_text(a._current_crumb)}}}});if(this._properties.slider==true){rdx.page.update_slider_title(h);if(rdx.utils.is_function(e.get_view().is_help_rendered)&&e.get_view().is_help_rendered()==true){rdx.page.update_slider_help()}else{rdx.page.update_slider_help(e._view_definition.view_properties.help_id)}}return f};rdx.bread_crumb.prototype.add_container=function(h,e){rdx.page.update_slider_title(h);var f=$("<div>").css("width","100%");if(this._views_list.length>0){$(this._views_list[this._views_list.length-1].container).hide()}if(rdx.utils.is_defined(this._parent_container)){if(this._properties.slider==true){f.css("width","0px").css("position","absolute");f.animate({width:"100%",right:0})}this._parent_container.append(f.append(e));f.addClass("op_wizard_form_panel")}var g={title:h,index:this._views_list.length,prev_crumb:this._current_crumb,view_info:{parent:f,is_view:false}};this._current_crumb.next_crumb=g;this._make_text_crumb_as_link(this._current_crumb);this._views_list.push({crumb:g,container:f});this._add_new_crumb(h,g,false);$(f).bind(rdx.events.VIEW_DESTROYED,{bc:this,crumb:g},function(b,c){var a=b.data.bc;var d=b.data.crumb;a.remove_crumb(d,false);if(a._properties.persist_view==true){if(rdx.utils.is_defined(a._current_crumb)){if(rdx.utils.is_defined(a._current_crumb.view_info)){a._current_crumb.view_info.parent.show();a._current_crumb.view_info.parent.addClass("op_wizard_form_panel")}a._make_link_crumb_as_text(a._current_crumb)}}});return f};rdx.bread_crumb.prototype._make_text_crumb_as_link=function(g){var h=g.crumb_container;if(rdx.utils.is_defined(h)){var n=h.children("span");if(n.size()==0||(rdx.utils.is_defined(g.is_not_link)&&g.is_not_link)){return}else{var o={};if(rdx.utils.is_defined(g.view_info.view_context)){o=rdx.utils.get_formatted_response(g.view_info.view_context.get_data())}var m=rdx.i18n.get_string(g.crumb_title).match(/{/)?rdx.i18n.get_string(g.view_info.view_definition.view_properties.title,o):rdx.i18n.get_string(g.crumb_title);var l=$("<a>").attr("href","#noAnchor").append(m);n.replaceWith(l);this._register_click_event(l,g)}}};rdx.bread_crumb.prototype._make_link_crumb_as_text=function(e){var f=e.crumb_container;if(rdx.utils.is_defined(f)){var h=f.children("a");if(h.size()>0){var g=$("<span>").append(rdx.i18n.get_string(e.crumb_title));h.replaceWith(g)}}};rdx.bread_crumb.prototype.get_current_crumb=function(){return this._current_crumb};rdx.bread_crumb.prototype.update_current_crumb_title=function(b){this._crumb_link.empty();this._crumb_link.append(rdx.i18n.get_string(b))};rdx.bread_crumb.prototype.go_back_to_previous_crumb=function(){if(rdx.utils.is_defined(this._current_crumb.prev_crumb)){var d=this._current_crumb.prev_crumb;var c=this;c._current_crumb.crumb_container.removeClass("current");if(rdx.utils.is_defined(d.crumb_container)){d.crumb_container.addClass("current");if(rdx.utils.is_not_defined(d.next_crumb)){return}}if(this._properties.persist_view==false){this._handle_tree_based_link(d)}else{this._handle_view_persist_link(d)}}else{return}};rdx.bread_crumb.prototype.remove_all_crumbs=function(){while(true){if(rdx.utils.is_not_defined(this._current_crumb)||rdx.utils.is_not_defined(this._current_crumb.crumb_container)){break}this.go_back_to_previous_crumb();if(rdx.utils.is_not_defined(this._current_crumb.prev_crumb)){break}}this.clear_all()};rdx.bread_crumb.prototype.get_handler=function(){return this._bread_crumb_handler};rdx.bread_crumb.prototype.get_crumb_length=function(){return this._crumb_length};rdx.bread_crumb.prototype.get_crumb_data=function(){return this._current_crumb.view_info.view_context.get_data()};rdx.bread_crumb_handler=function(b){this._bread_crumb=b};rdx.bread_crumb_handler.prototype.add_view=function(c,d){return this._bread_crumb.add_view(c,d)};rdx.slider=function(d){this._DEFAULT_PROPERTIES={slide_time:1000,show_bread_crumb:true,help_slider:false,mask_custom_class:"slider_mask",title:null,slider_width:"75%"};this._DEFAULT_PROPERTIES.slider_mask=rdx.mask.SLIDER_MASK;this._properties=$.extend(true,{},this._DEFAULT_PROPERTIES,d);this._parent=rdx.page.get_content();this._slider_container=$("<div>").addClass("rdx_slider");this._container=$("<div>").addClass("rdx_slider_container");this._slider_top_container=null;this._bread_crumb_container=$("<div>").addClass("rdx_slider_bread_crumb_container");this._title_bar=new rdx.title_bar(this._bread_crumb_container,this._container,{render_crumb_from_tree_key:false,slider:true,persist_view:true,add_toolbar:false});rdx.page.add_event_handler(rdx.events.PAGE_RESIZED,new rdx.callback(this,this._handle_resize));this._click_function=null;this._scroll_function=null;this._mask_container=null;this._is_slider_shown=false;this._title_container=null;this._is_help_shown=false;this._slider_id=null;this._hidden=false;this._slider_id=rdx.mask.SLIDER_MASK;this._HELP_SLIDER_DEFAULT_PROPERTIES={mask_custom_class:"help_slider_mask",slider_width:"400px"};this._HELP_SLIDER_DEFAULT_PROPERTIES.slider_mask=rdx.mask.SLIDER_HELP_MASK;if(this._properties.help_slider){var c=$.extend(true,{},this._properties,this._HELP_SLIDER_DEFAULT_PROPERTIES);this._properties=c;this._slider_container.addClass("rdx_help_slider");this._slider_id=rdx.mask.SLIDER_HELP_MASK}};rdx.slider.prototype._handle_resize=function(){if(rdx.utils.is_not_defined(this._mask_container)){return}var p=rdx.page.get_header_height();var h=$(document).scrollTop();var m=p-h;var n=m>=0?m:0;var q=$(this._mask_container).children().outerHeight(true);this._slider_container.height((q-n));m=rdx.page.get_header_height()-h;n=m>=0?m:0;this._slider_container.css("top",n);this._bread_crumb_container.css("top",n);var l=this._properties.show_bread_crumb&&this._title_bar.is_title_bar_shown()?this._bread_crumb_container.height():0;var o=l+this._slider_top_container.height();this._slider_top_container.css("top",n+l);this._container.css("top",n+o)};rdx.slider.prototype.get_slider_container=function(){return this._container};rdx.slider.prototype.get_height=function(){return this._slider_container.height()};rdx.slider.prototype.get_title_bar=function(){return this._title_bar};rdx.slider.prototype.show=function(F,D){if(rdx.utils.is_not_defined(F)||rdx.utils.is_not_defined(F.slider_width)){this._properties.slider_width="75%"}this._hidden=false;if(this._is_slider_shown==true){return this}var v=$.extend(true,{},this._properties);if(rdx.utils.is_defined(F)){v=$.extend(true,v,F)}this._properties=v;var z=null;z=rdx.mask.mask_dom_element($(document.body),this._properties.slider_mask,this._properties.mask_custom_class);this._slider_top_container=$("<div>").addClass("rdx_slider_top_container");this._title_container=$("<span>").addClass("rdx_slider_title_container");if(this._properties.title&&(rdx.utils.is_defined(this._properties.title))){this._title_container.append(rdx.i18n.get_string(this._properties.title))}this._slider_top_container.append(this._title_container);var w=$("<div>").addClass("rdx_slider_cross_container");w.bind(rdx.events.CLICK,{slider:this},function(b){var c=b.data.slider;var a=c._title_bar.get_current_crumb();if(rdx.utils.is_defined(a.prev_crumb)&&rdx.utils.is_defined(a.prev_crumb.crumb_container)){c._title_bar.remove_current_crumb(a)}else{b.data.slider.hide()}});if(v.show_bread_crumb==false){this._bread_crumb_container.hide()}else{this._bread_crumb_container.show()}this._slider_container.append(this._bread_crumb_container);this._slider_container.append(this._slider_top_container.append(w));var u=$(document).scrollTop();var B=rdx.page.get_header_height()-u;var t=B>=0?B:0;this._slider_container.css("top",t).append(this._container);this._bread_crumb_container.css("top",t);var C=v.show_bread_crumb?this._bread_crumb_container.height():0;var x=C+this._slider_top_container.height();this._slider_top_container.css("top",t+C);this._container.css("top",t+x);var s=this._properties.slider_width;if(this._properties.help_slider===false){var A=rdx.page.get_content()[0].offsetLeft;if(A>50){var E=$(document.body).width();s=E-A;s=parseInt((s*75)/100)}}if(rdx.utils.is_ie()&&parseInt($.browser.version)<=9){this._slider_container.css("width",s).css("right",0)}else{this._slider_container.animate({width:s,right:0})}$(document.body).append(this._slider_container);if(!v.help_slider){rdx.page.get_content().addClass("rdx_background_opacity")}var y=this;this._click_function=function(a){a.stopPropagation();a.preventDefault();var c=null;var b=null;if(v.help_slider){rdx.mask.unmask_dom_element($(document.body),y._slider_id);b=$(document.elementFromPoint(a.clientX,a.clientY));if(b.is("select")){if(rdx.utils.is_chrome_safari()){rdx.utils.trigger_select_element(b)}}else{b.trigger("focus");b.click()}}a.data.slider.hide()};slider=this;setTimeout(function(){if(rdx.utils.is_defined(z)){z.bind(rdx.events.CLICK,{slider:y,properties:v},y._click_function)}},200);this._scroll_function=function(c){var d=rdx.page.get_header_height();var e=$(document).scrollTop();var a=d-e;var b=a>=0?a:0;y._slider_container.css("top",b)};$(window).bind("scroll",this._scroll_function);this._mask_container=z;$(document.body).addClass("rdx_slider_body");this._handle_resize();this._is_slider_shown=true;return this};rdx.slider.prototype.hide=function(){this._is_help_shown=false;if(!this._hidden){this._hidden=true;this._mask_container=null;$(document.body).removeClass("rdx_slider_body");rdx.mask.unmask_dom_element($(document.body),this._slider_id);this._slider_container.animate({width:"0",right:0});this._title_bar.remove_all_crumbs();this._slider_container.empty();this._container.empty();if(!this._properties.help_slider){rdx.page.get_content().removeClass("rdx_background_opacity")}if(rdx.utils.is_defined(this._click_function)&&rdx.utils.is_defined(rdx.page.get_content())){rdx.page.get_content().unbind(rdx.events.CLICK,this._click_function)}if(rdx.utils.is_defined(this._scroll_function)){$(window).unbind("scroll",this._scroll_function)}this._is_slider_shown=false;$(this).trigger(rdx.events.SLIDER_CLOSE);$(this).unbind(rdx.events.SLIDER_CLOSE)}};rdx.slider.prototype.update_bread_crumb=function(g){if(rdx.utils.is_defined(g)&&g==true){var o=$(document).scrollTop();var l=rdx.page.get_header_height()-o;var m=l>=0?l:0;this._slider_container.css("top",m).append(this._container);this._bread_crumb_container.css("top",m);var h=this._bread_crumb_container.height();var n=h+this._slider_top_container.height();this._slider_top_container.css("top",m+h);this._container.css("top",m+n)}else{var o=$(document).scrollTop();var l=rdx.page.get_header_height()-o;var m=l>=0?l:0;this._slider_container.css("top",m).append(this._container);this._bread_crumb_container.css("top",m);var h=0;var n=h+this._slider_top_container.height();this._slider_top_container.css("top",m+h);this._container.css("top",m+n)}};rdx.slider.prototype.update_title=function(b){if(rdx.utils.is_not_defined(b)||rdx.utils.is_not_defined(this._title_container)){return}b=rdx.i18n.get_string(b);this._title_container.empty();this._title_container.append(b)};rdx.slider.prototype.update_help=function(b){if(rdx.utils.is_not_defined(b)||this._properties.help_slider===true){if(this._is_help_shown){this._help_div.remove();this._is_help_shown=false}}else{if(rdx.utils.is_defined(b)&&!this._is_help_shown){this._help_div=$("<div>").addClass("rdx_slider_help_container");rdx.help.add_help(this._help_div,b);this._is_help_shown=true;this._slider_top_container.append(this._help_div)}else{if(rdx.utils.is_defined(b)&&this._is_help_shown){this._help_div.remove();this._help_div=$("<div>").addClass("rdx_slider_help_container");rdx.help.add_help(this._help_div,b);this._slider_top_container.append(this._help_div)}}}};rdx.slider.prototype.add_close_event_handler=function(b){$(this).bind(rdx.events.SLIDER_CLOSE,{callback:b},function(a){a.data.callback.call_back()})};rdx.slider.prototype.destroy=function(){this.hide();this._slider_container.remove()};rdx.slider.prototype.is_slider_shown=function(){return this._is_slider_shown};rdx.slider.prototype.set_title=function(b){this._properties.title=b};rdx.view_callback_on_response_arrived_params=function(b){this._DEFAULT_PROPERTIES={return_call_back:null,response:null,unformatted_response:null,app_context_data:null,inherited_data:null,inherited_init_data:null,additional_params:{},refresh_relevant:false,search_params:null,view_context:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b);this._intermediate_callback=null};rdx.view_callback_on_response_arrived_params.prototype.get_search_params=function(){return this._properties.search_params};rdx.view_callback_on_response_arrived_params.prototype.get_refresh_relevant=function(){return this._properties.refresh_relevant};rdx.view_callback_on_response_arrived_params.prototype.get_response=function(){return this._properties.response};rdx.view_callback_on_response_arrived_params.prototype.get_app_context_data=function(){return this._properties.app_context_data};rdx.view_callback_on_response_arrived_params.prototype.get_inherited_data=function(){return this._properties.inherited_data};rdx.view_callback_on_response_arrived_params.prototype.get_inherited_init_data=function(){return this._properties.inherited_init_data};rdx.view_callback_on_response_arrived_params.prototype.get_unformatted_response=function(){return this._properties.unformatted_response};rdx.view_callback_on_response_arrived_params.prototype.set_intermediate_callback=function(b){return this._intermediate_callback=b};rdx.view_callback_on_response_arrived_params.prototype.resume=function(e,d){var f=rdx.utils.is_defined(this._intermediate_callback)?this._intermediate_callback:this._properties.return_call_back;return f.call_back([(e)?e:this.get_response(),d])};rdx.view_callback_on_response_arrived_params.prototype.force_resume=function(d,c){return this._properties.return_call_back.call_back([(d)?d:this.get_response(),c])};rdx.view_callback_on_response_arrived_params.prototype.set_is_not_configured=function(){if(rdx.utils.is_not_defined(this._properties.additional_params)){this._properties.additional_params={}}this._properties.additional_params.is_configured=false};rdx.view_callback_on_response_arrived_params.prototype.is_configured=function(){if(rdx.utils.is_not_defined(this._properties.additional_params)){return true}if(rdx.utils.is_not_defined(this._properties.additional_params.is_configured)){return true}return this._properties.additional_params.is_configured==true};rdx.view_callback_on_response_arrived_params.prototype.set_additional_params=function(b){return this._properties.additional_params=b};rdx.view_callback_on_response_arrived_params.prototype.get_additional_params=function(b){return this._properties.additional_params};rdx.view_callback_on_response_arrived_params.prototype.get_view_context=function(){return this._properties.view_context};rdx.view_callback_on_response_arrived_params.prototype.get_pagination=function(b){return this._properties.pagination};rdx.base_view=function(v,B){if(rdx.utils.is_defined(B)&&rdx.utils.is_defined(B.view_properties)&&rdx.utils.is_defined(B.view_properties.advertisement_view)){this._base_view_advertisement_div=$("<div>").addClass("advertisement_div");this._base_view_parent_div=$("<div>");v.append(this._base_view_advertisement_div).append(this._base_view_parent_div);var x=new rdx.base_view(this._base_view_advertisement_div,rdx.utils.get_view(B.view_properties.advertisement_view));x.prepare_view();v=this._base_view_parent_div}if(rdx.utils.is_defined(rdx.query_string_view_and_get_url_selection_property_name)&&B.type!==rdx.view_constants.INFO_VIEW&&!$.isEmptyObject(rdx.query_string_view_and_get_url_selection_property_name)&&B.type!==rdx.view_constants.HEADER_VIEW){var F=null;var D=null;for(var z in rdx.query_string_view_and_get_url_selection_property_name){this._from_query_view_name=z;F=rdx.utils.get_view(z);D=rdx.query_string_view_and_get_url_selection_property_name[z];this._from_query_get_url_param=D}}this._view_definition=rdx.utils.is_defined(F)?F:B;this._view_definition.view_properties=rdx.utils.is_defined(this._view_definition.view_properties)?this._view_definition.view_properties:{};this._view_context=new rdx.view_context();this._view_context.set_base_view(this);this._added_global_filter=false;this._view_logo_title_description_container=null;this._toolbar_parent=null;this._global_filter_change_event_callback=null;this._show_settings=false;this._settings=null;this._bread_crumb_handler=null;this._show_hide_builtin_policies_from_cookie="hide_builtin_policies";this._detail_summary_view_map={};if(rdx.SHOW_VIEW_SETTINGS==true&&rdx.utils.is_settings_implemented(this._view_definition.type)&&rdx.utils.is_defined(rdx.resources[rdx.SETTINGS_RESOURCE_NAME])){var C=true;if(rdx.utils.is_defined(this._view_definition.view_properties.show_view_settings)&&this._view_definition.view_properties.show_view_settings==false){C=false}if(C&&rdx.utils.is_defined(rdx.utils.get_cookie(rdx.view_constants.LOGGED_IN_USER_COOKIE_NAME))){this._settings_key=rdx.utils.create_settings_key(rdx.utils.get_cookie(rdx.view_constants.LOGGED_IN_USER_COOKIE_NAME),this._view_definition.name);this._get_stored_settings();this._show_settings=true}}if(this._view_definition.view_context){this._view_context.set_url_params(this._view_definition.view_context,{})}if(rdx.utils.is_defined(this._view_definition.resource_defn)&&rdx.utils.is_object(this._view_definition.resource_defn)){this._resource=this._view_definition.resource_defn}else{if(this._view_definition.resource_name){this._resource=rdx.utils.get_resource(this._view_definition.resource_name);this._job_id=this._view_definition.auto_refresh?this._resource.name+rdx.utils.random():null}}this._view_state=rdx.view_constants.view_state.NEW;this._action_bar=null;this._tool_bar_table=null;this._disable_bread_crumb=false;this._is_bread_crumb_added_from_tree=false;this._view_div=$("<div>").addClass("view_div_decorator");this._view_container=$("<div>");this._view_div.append(this._view_container);this._graphical_search_handler=null;if(rdx.utils.is_defined(this._view_definition.view_properties.search_properties)){this._view_div.addClass("clearfix");this._graphical_search_handler=new rdx.graphical_summary_handler(this._view_div,this._view_definition.view_properties.search_properties,this._view_context);this._graphical_search_handler.register_graphical_summary_change_listener(this,new rdx.callback(this._graphical_search_handler.detail_search_handler));this._graphical_search_handler.register_graphical_summary_refresh(this)}this._title_ribbon_cell=null;this._title_div=null;this._description_div=null;if(rdx.utils.is_defined(this._view_definition.view_properties.message_container_callback)){this._view_definition.view_properties.message_container_callback.call_back([v])}if(rdx.utils.is_defined(this._view_definition.message_container)&&(this._view_definition.message_container!=null)){var u=this._view_definition.message_container;var H=u.message_title;var t=u.message;var G=u.resource_name;var E=u.resource_key;var A=rdx.utils.is_not_defined(u.fire_resource_call)?true:u.fire_resource_call;if(A==true){rdx.model.get_all(rdx.utils.get_resource(G),null,new rdx.callback(null,function(a){if(!a[G][E]){rdx.message_container.warning(v,H,t,u)}}))}else{rdx.message_container.success(v,t,u,H)}}this._view=this._get_view();if(rdx.utils.is_defined(this._settings)&&this._show_settings==true){if(rdx.utils.is_defined(this._view.set_settings)&&rdx.utils.is_function(this._view.set_settings)){this._view.set_settings(this._settings)}else{this._view._settings=this._settings}}if(rdx.utils.is_defined(this._view.set_settings_key)&&rdx.utils.is_function(this._view.set_settings_key)){this._view.set_settings_key(this._settings_key)}else{this._view._settings_key=this._settings_key}this._DEFAULT_PROPERTIES={is_tool_bar_required:false,force_get_all:false};this._implementing_view_properties={is_tool_bar_required:rdx.utils.is_function(this._view.is_tool_bar_required)?this._view.is_tool_bar_required():this._DEFAULT_PROPERTIES.is_tool_bar_required,force_get_all:rdx.utils.is_function(this._view.force_get_all)?this._view.force_get_all():this._DEFAULT_PROPERTIES.force_get_all};this._properties=$.extend({},this._implementing_view_properties,this._view_definition.view_properties);this._is_view_in_slider=false;if(rdx.utils.is_defined(v)&&(v instanceof rdx.bread_crumb_handler)){this._parent=v.add_view(rdx.i18n.get_string(this._properties.title),this);this._bread_crumb_handler=v;this._is_view_in_slider=true}else{this._parent=v;if(this._show_view_in_dialog()){this._parent=$("<div>")}else{if(this._is_toggle_view(true)==true){this._parent=rdx.page.get_content()}}if(rdx.utils.is_not_defined(this._parent)){this._parent=$("<div>")}}if(rdx.utils.is_defined(this._view_definition.calendar_properties)){this._timeline_slider_parent=$("<div>");this._parent.append(this._timeline_slider_parent);this._timeline_slider=new rdx.timeline_slider(this._timeline_slider_parent,this._view_definition,this);this._timeline_slider.render()}if(rdx.utils.is_not_defined(this._view_definition[rdx.mask.MASK_KEY])){var w=rdx.mask.get_id();this._view_definition[rdx.mask.MASK_KEY]=w}this._parent.append(this._view_div);if(rdx.utils.is_defined(this._view_definition.on_view_destroyed_callback)){rdx.page.add_event_handler(rdx.events.PAGE_UNLOAD,this._view_definition.on_view_destroyed_callback)}var y=this;this._default_dialog_properties={modal:true,resizable:false,dialogClass:"configure_view",title:rdx.i18n.get_string(this._view_definition.view_properties.title)};this._is_tool_bar_required=this._properties.is_tool_bar_required;this._force_get_all=this._properties.force_get_all;this._is_resize_required=true;if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.height)&&rdx.utils.is_function(this._view.set_height)){this._is_resize_required=false}this._DEFAULT_TOGGLE_VIEW_PROPERTIES={view:null,link:null,parent_div:this._parent,view_context:null,details_mode:false,toggle_link:null};this._DEFAULT_TOGGLE_VIEW_PROPERTIES._is_toggled=false;this._DEFAULT_TOGGLE_VIEW_PROPERTIES._toggle_view=this._view_definition;this._DEFAULT_TOGGLE_VIEW_PROPERTIES._toggle_view_context=null;this._DEFAULT_TOGGLE_VIEW_PROPERTIES._toggle_parent_div=this._parent;this._toggle_properties=$.extend({},this._DEFAULT_TOGGLE_VIEW_PROPERTIES,this._view_definition.view_toggle_link);this._toggle_container=null;this._top_right_container=null;this._crumb_handler=null;this.load_all=true;this._bread_crumb_processing_data=null;this._show_in_slider=false;this._toggle_view=false;this._inherited_data_callback=null;this._inherited_init_data=null;this._add_entity_select_btn=false;this._hide_global_toolbar=rdx.utils.is_defined(this._view_definition.view_properties.hide_global_toolbar)?this._view_definition.view_properties.hide_global_toolbar:false};rdx.base_view.prototype._show_view_in_dialog=function(){if(rdx.utils.is_defined(this._crumb_handler)){return false}return((rdx.utils.is_function(this._view.is_dialog)&&this._view.is_dialog())||(this._view_definition.view_properties.dialog==true)&&rdx.utils.is_not_defined(this._view_definition.add_to_bread_crumb))};rdx.base_view.prototype.get_view_context=function(){return this._view_context};rdx.base_view.prototype.set_view_context=function(b){this._view_context=b;this._view_context.set_base_view(this)};rdx.base_view.prototype.get_parent=function(){return this._parent};rdx.base_view.prototype.get_view_container=function(){return this._view_div};rdx.base_view.prototype.get_view_definition=function(){return this._view_definition};rdx.base_view.prototype._check_and_add_bread_crumb=function(o){if((rdx.view_utils.is_view_created(this))||o){return}if(rdx.utils.is_defined(rdx.global_title_bar)&&rdx.utils.is_defined(this._view_definition.add_to_bread_crumb)&&this._view_definition.add_to_bread_crumb&&!this._disable_bread_crumb&&!this._is_bread_crumb_added_from_tree){rdx.global_title_bar.clear_toolbar_items();var m="";if(rdx.utils.is_defined(this._view_definition.view_properties.title)){m=rdx.i18n.get_string(this._view_definition.view_properties.title)}else{m=rdx.i18n.get_string(this._view_definition.title)}var h="";var n=rdx.global_title_bar.get_current_crumb();if(rdx.utils.is_defined(n)){if(rdx.utils.is_defined(n.view_info)&&rdx.utils.is_defined(n.view_info.base_view)){if(rdx.utils.is_defined(this._view_definition.bread_crumb_formatter)){this._bread_crumb_processing_data=n.view_info.base_view.get_view_context().get_data();var p=new rdx.formatter(this._view_definition.bread_crumb_formatter);p.map_data_items(this._bread_crumb_processing_data);var l=p.get_map_values();if(rdx.utils.is_defined(l)&&(l.length)>0){h=l[0]}m=m+" : "+h}}}this._bread_crumb_title=this._view_definition.view_properties.title;if(rdx.utils.is_defined(m)){var q=rdx.i18n.get_string(m).match(/{/)?m:rdx.i18n.get_string(m)}rdx.global_title_bar.add_crumb(q,this)}if(this._is_bread_crumb_added_from_tree){this._is_bread_crumb_added_from_tree=false}};rdx.base_view.prototype.disable_bread_crumb=function(){return this._disable_bread_crumb=true};rdx.base_view.prototype.bread_crumb_added=function(b){return this._is_bread_crumb_added_from_tree=b};rdx.base_view.prototype.refresh_view=function(d,c){if(rdx.utils.is_not_defined(c)){this.get_view_context().invalidate_data()}if(rdx.utils.is_function(this._view.refresh_view)){this._view.refresh_view(d)}else{this.prepare_view()}};rdx.base_view.prototype.prepare_view=function(o,h){if(this._should_preprare_view()===false){return}if(rdx.utils.is_defined(rdx.get_test_framework)&&rdx.get_test_framework().is_test_mode){rdx.get_test_framework().view_stack.push(this)}if(rdx.utils.is_defined(h)){this.load_all=h}o=rdx.utils.is_not_defined(o)?false:o;this.add_global_filter_to_view();if(this._view_definition.view_properties.advertisement_view){o=true}this._check_and_add_bread_crumb(o);if(rdx.utils.is_defined(rdx.global_title_bar)){if(this._hide_global_toolbar){rdx.global_title_bar.hide_title_bar()}else{}}if(!rdx.view_utils.is_view_created(this)&&(rdx.ELEMENTS_READONLY==false)){this._is_action_bar_required=rdx.utils.is_function(this._view.is_action_bar_required)?this._view.is_action_bar_required():false}if(!rdx.view_utils.is_view_created(this)){this._make_view()}else{this._view_state=rdx.view_constants.view_state.CREATED;if(rdx.utils.is_function(this._view.reset_view_before_refresh)){this._view.reset_view_before_refresh()}}if(this._is_toggle_view()==true){rdx.page.toggle_view(true)}if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.is_prototyped_view)&&this._view_definition.view_properties.is_prototyped_view===true){$(".prototyped").show()}this.mask();var n=(rdx.utils.is_defined(this._view_definition.auto_refresh)&&this._view_definition.auto_refresh==true);if(!n&&rdx.utils.is_defined(this._view_context)&&((this._view_context.is_url_params_set()&&rdx.utils.is_defined(this._resource)&&this._force_get_all==false)||(rdx.utils.is_function(this._view_context.is_data_set)&&this._view_context.is_data_set()))){if(this._view_context.is_url_params_set()){var g=new rdx.callback(this,this._response_arrived);rdx.model.get(this._resource,rdx.utils.is_defined(this._from_query_get_url_param)?this._from_query_get_url_param:this._view_context.get_url_params(),new rdx.callback(this,this._get_resource_response_arrived),this._view._parent,g)}else{if((rdx.utils.is_function(this._view_context.is_data_set)&&this._view_context.is_data_set())){var m=this._view_context.get_data();var l=null;if(rdx.utils.is_defined(this._resource)){l={};l[this._resource.name]=m}else{l=m}this._get_resource_response_arrived(l)}}}else{this._initialize_view()}rdx.view_utils.remove_dynamic_view_properties(this._view_definition);if(rdx.utils.is_defined(rdx.get_debugger)){rdx.get_debugger().activate_view(this._view_definition,this._view_div)}if(rdx.utils.is_defined(rdx.app_search)){rdx.app_search.update_active_view_list(this._view_definition)}};rdx.base_view.prototype.mask=function(){if(rdx.utils.is_function(this._view.handle_mask)){return}if(rdx.utils.is_function(this._view.add_mask)&&this._view.add_mask()==true){rdx.mask.mask_component(this._view_div,this.get_mask_id())}};rdx.base_view.prototype.unmask=function(){if(rdx.utils.is_function(this._view.handle_unmask)){return}if(rdx.utils.is_function(this._view.add_mask)&&this._view.add_mask()==true){rdx.mask.unmask_component(this._view_div,this.get_mask_id())}};rdx.base_view.prototype.get_mask_id=function(){return("__base_view_mask"+this._view_definition[rdx.mask.MASK_KEY])};rdx.base_view.prototype.set_default_dialog_properties=function(b){b=b==null?{}:b;this._default_dialog_properties=b};rdx.base_view.prototype.resize_view=function(){if(!rdx.view_utils.is_view_created(this)||!this.is_resize_required()){return}if(rdx.utils.is_function(this._view.resize_view)){this._view.resize_view()}};rdx.base_view.prototype.get_form=function(){if(rdx.utils.is_function(this._view.get_form)){return this._view.get_form()}return null};rdx.base_view.prototype.pause_view=function(){if(this._view_definition.auto_refresh){rdx.scheduler.pause_job(this._job_id)}if(rdx.utils.is_defined(rdx.get_debugger)){rdx.get_debugger().pause_view(this._view_definition)}};rdx.base_view.prototype.resume_view=function(){if(this._view_definition.auto_refresh){rdx.scheduler.resume_job(this._job_id)}if(rdx.utils.is_defined(rdx.get_debugger)){rdx.get_debugger().activate_view(this._view_definition,this._view_div)}if(rdx.utils.is_defined(rdx.app_search)){rdx.app_search.update_active_view_list(this._view_definition)}};rdx.base_view.prototype.set_toggle_view=function(b){this._toggle_view=b};rdx.base_view.prototype._is_toggle_view=function(b){if(b==true){return((this._view_definition.view_properties.toggle_view==true||this._toggle_view==true)||(rdx.utils.is_function(this._view.do_toggle_view)&&this._view.do_toggle_view()==true))}return((rdx.utils.is_defined(this._view_definition.view_properties.toggle_view)||this._toggle_view==true)||(rdx.utils.is_function(this._view.do_toggle_view)&&this._view.do_toggle_view()==true))};rdx.base_view.prototype.destroy_view=function(e,f){var g=true;if(rdx.utils.is_defined(f)){g=f}if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.is_prototyped_view)&&this._view_definition.view_properties.is_prototyped_view===true){$(".prototyped").hide()}if(this._added_global_filter){rdx.global_title_bar.remove_global_filter()}else{if(rdx.utils.is_defined(this._global_filter_change_event_callback)){rdx.global_title_bar.remove_global_filter_change_event(this._global_filter_change_event_callback)}}var h={base_view:this};if(rdx.utils.is_defined(e)){h=$.extend(h,e)}$(this).trigger(rdx.events.BEFORE_VIEW_DESTROYED,h);this._view_state=rdx.view_constants.view_state.DESTROYED;this._view_div.remove();this._view_div.empty();if(rdx.utils.is_defined(this._view_logo_title_description_container)){this._view_logo_title_description_container.remove()}if(rdx.utils.is_defined(this._graphical_search_handler)){this._graphical_search_handler.destroy()}if(rdx.utils.is_defined(this._button_bar_div)){this._button_bar_div.remove()}if(rdx.utils.is_function(this._view.destroy_view)){this._view.destroy_view(f)}if(this._is_toggle_view()==true){rdx.page.toggle_view(false)}$(this).trigger(rdx.events.VIEW_DESTROYED,h);if(this._view_definition.auto_refresh){rdx.scheduler.remove_job(this._job_id)}if(rdx.status_bar&&g==true){rdx.page.hide_notification_bar();rdx.status_bar.clear_status()}if(rdx.utils.is_defined(this._view_definition.on_view_destroyed_callback)){this._view_definition.on_view_destroyed_callback.call_back()}if(this._show_view_in_dialog()){if(rdx.utils.is_not_defined(h)||(rdx.utils.is_defined(h)&&rdx.utils.is_not_defined(h.close_event))){this._parent.dialog("close")}this._parent.remove()}if(rdx.utils.is_defined(this._timeline_slider)){this._timeline_slider.destroy_timeline_slider();this._timeline_slider_parent.remove()}if(g==true){rdx.page.hide_notification_bar()}if(rdx.utils.is_defined(this._search_collapse_arrow)){this._search_collapse_arrow.remove()}if(rdx.utils.is_defined(rdx.get_debugger)){rdx.get_debugger().destroy_view(this._view_definition)}if(rdx.utils.is_defined(rdx.app_search)){rdx.app_search.update_active_view_list(this._view_definition,true)}};rdx.base_view.prototype._make_view=function(){if(this.is_resize_required()){rdx.page.add_event_handler(rdx.events.PAGE_RESIZED,new rdx.callback(this,this.resize_view))}var G=$("<div>").addClass("view_top_container");var z=$("<div>").addClass("ribbon");var P=false;var F=rdx.position.TOP;this._render_title_for_view();var O=$("<div>");var M=this.get_toolbar_parent_elem();if(rdx.utils.is_defined(M)){M.empty();M.prepend(O)}else{if(rdx.utils.is_defined(this._view.is_title_required)&&this._view.is_title_required()&&rdx.utils.is_defined(this._view_desc_block)){this._view_logo_title_description_container.append(O)}}O.empty();if(this.is_tool_bar_required()&&rdx.utils.is_defined(O)){O.addClass("toolbar_buttons");this._add_toolbar(O)}else{if((rdx.utils.is_not_defined(this._view_definition.view_properties.add_back_button)||this._view_definition.view_properties.add_back_button==true)&&rdx.utils.is_function(this._view.get_is_back_button_required)&&(this._view.get_is_back_button_required()==true)&&(this._view._base_view.is_show_in_slider()==false)&&rdx.utils.is_not_defined(this._view._base_view.get_crumb_handler())&&!this._back_button_rendered){this.add_back_button_toolbar()}else{if(rdx.utils.is_defined(O)&&this._add_to_global_toolbar()){var H=rdx.utils.is_function(this._view.get_toolbar_items)?this._view.get_toolbar_items():[];if(H.length!=0){this._add_app_toolbar_item(H)}this._add_export_toolbar_item(H);var C=this;if(rdx.utils.is_defined(this._view._view_definition)&&rdx.utils.is_defined(this._view._view_definition.view_properties.title_properties)&&this._view._view_definition.view_properties.title_properties.print_view===true){H.push(new rdx.action({tooltip:"print",image_url:rdx.images.PRINTER_IMAGE,click_handler_callback:new rdx.callback(null,rdx.view_utils.print_view_details,[C._parent])}))}O.addClass("toolbar_buttons");this.add_view_toolbar_items(O,H,this.get_top_tool_bar_properties())}}}if(rdx.utils.is_defined(this._view._view_definition)&&rdx.utils.is_defined(this._view._view_definition.view_properties.action_bar_position)){F=this._view._view_definition.view_properties.action_bar_position}if(this._is_action_bar_required&&rdx.utils.is_function(this._view.get_action_items)&&rdx.utils.is_defined(this._view.get_action_items())){var N=this._get_buttons(rdx.position.LEFT);if(rdx.utils.is_defined(this._add_entity_select_btn)&&this._add_entity_select_btn==true){var D={label:rdx.i18n.get_string("rdx.select"),tooltip:rdx.i18n.get_string("rdx.select"),no_selection:false,single_selection:true,multiple_selection:true,button_type:rdx.BLUE_BUTTON,click_handler_callback:new rdx.callback(this,this._handle_button_click)};var x=new rdx.action(D);N.unshift(x)}var I=$.extend(true,{},this.get_action_bar_properties(N));I.align=rdx.position.LEFT;if(rdx.utils.is_defined(this._properties.action_label)){I.action_label=rdx.i18n.get_string(this._properties.action_label)}if(I.link_bar==true){G.removeClass("view_top_container").addClass("links_action_bar")}this._action_bar=new rdx.ribbon(z,N,I).render();if(N.length>0||I.link_bar==true){P=true}}this._hide_default_policies=rdx.utils.get_cookie(this._show_hide_builtin_policies_from_cookie);if(rdx.utils.is_not_defined(this._hide_default_policies)){this._hide_default_policies=true}if(this._properties.show_hide_link==true){this._top_mid_container=$("<div>").addClass("rdx_float_right hide_show_padding");var K=$("<a>");var L="entity";if(rdx.utils.is_defined(this._resource.obj_type)){L=rdx.i18n.get_string(this._resource.obj_type)}var J=L.charAt(L.length-1);if(J=="y"){L=L.substring(0,L.length-1);L+="ies"}else{L+="s"}var B=$("<span>").text((this._hide_default_policies==false||this._hide_default_policies=="false")?"Hide built-in "+L:"Show built-in "+L);K.append(B);K.bind(rdx.events.CLICK,{base_view:this,show_hide_anchor_link_span:B,entity_name:L},function(a){if(a.data.base_view._hide_default_policies==true||a.data.base_view._hide_default_policies=="true"){rdx.utils.set_cookie(a.data.base_view._show_hide_builtin_policies_from_cookie,false);a.data.show_hide_anchor_link_span.text("Hide built-in "+a.data.entity_name);a.data.base_view._hide_default_policies=false;a.data.base_view._initialize_view()}else{rdx.utils.set_cookie(a.data.base_view._show_hide_builtin_policies_from_cookie,true);a.data.show_hide_anchor_link_span.text("Show built-in "+a.data.entity_name);a.data.base_view._hide_default_policies=true;a.data.base_view._initialize_view()}});P=true;z.prepend(this._top_mid_container.append(K))}var E=[];if(rdx.utils.is_function(this._view.get_action_items)&&this._is_action_bar_required){E=this._get_buttons(rdx.position.RIGHT)}if((this._properties.pagination==true&&this._properties.search==true)||E.length>0||this._show_settings){this._top_right_container=$("<div>").addClass("rdx_float_right");if(E.length>0){var I=$.extend(true,{},this.get_action_bar_properties(E));I.align=rdx.position.RIGHT;if(I.link_bar==true){G.removeClass("view_top_container").addClass("links_action_bar")}new rdx.ribbon(this._top_right_container,E,I).render()}P=true;z.prepend(this._top_right_container)}if(P==true&&F==rdx.position.TOP){G.append(z);this._view_container.append(G)}else{if(rdx.utils.is_not_defined(this._crumb_handler)){this._view_div.addClass("base_view_no_view_top_container")}}var A=this._get_buttons("title_buttons");if(A.length>0){var I=$.extend(true,{},this.get_action_bar_properties(A));if(rdx.utils.is_function(this._view.get_button_bar)){this._title_ribbon_cell=this._view.get_button_bar()}else{this._title_ribbon_cell=$("<div>").addClass("button_div").css("float","right");if(rdx.utils.is_defined(this._view_logo_title_description_container)){this._view_logo_title_description_container.append(this._title_ribbon_cell)}else{this._view_container.prepend(this._title_ribbon_cell)}}this._action_bar=new rdx.ribbon(this._title_ribbon_cell,A,I).render();if(rdx.utils.is_defined(this._custom_title_bar)){var y=this._custom_title_bar.get_navigation_div();$(y).addClass("rdx_small_width_title_bar")}}if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.search_properties)){this._graphical_search_handler.render()}this._view.make_view();if(P==true&&F==rdx.position.BOTTOM){G.append(z);this._view_container.append(G)}else{if(rdx.utils.is_not_defined(this._crumb_handler)){this._view_div.addClass("base_view_no_view_top_container")}}if(this._show_view_in_dialog()){if(rdx.utils.is_function(this._view.show_dialog)){this._view.show_dialog()}else{this.show_dialog()}}if(rdx.utils.is_function(this._view.make_view_finalize)){this._view.make_view_finalize()}this._view_state=rdx.view_constants.view_state.CREATED;if(rdx.utils.is_function(this._view.register_event_handlers)){this._view.register_event_handlers()}if(this.is_toggle_link_present()){this._set_toggle_link()}if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.add_button_bar)){if(rdx.utils.is_defined(this._view_definition.dialog_properties)&&rdx.utils.is_defined(this._view_definition.dialog_properties.view_properties)){this._render_button_bar(false)}else{if(rdx.utils.is_not_defined(this.get_form())){this._render_button_bar(true)}}}if(this.is_resize_required()){this.resize_view()}else{this._view.set_height(this._view_definition.view_properties.height)}if(this._show_settings==true){this._add_settings_icon(z)}if(rdx.utils.is_defined(this._from_query_get_url_param)){rdx.view_utils.hide_tree_pane();rdx.view_utils.hide_header_pane();rdx.global_title_bar.navigation_div.hide()}};rdx.base_view.prototype.is_custom_search_present=function(){return rdx.utils.is_defined(this._graphical_search_handler)};rdx.base_view.prototype.refresh_custom_search=function(b){$(this._view_div).trigger(rdx.events.GRAPHICAL_SUMMARY_REFRESH,[{type:"REFRESH"},b])};rdx.base_view.prototype.data_to_custom_search=function(b){$(this._view_div).trigger(rdx.events.GRAPHICAL_SUMMARY_REFRESH,[{type:"ADD_DATA"},null,b])};rdx.base_view.prototype._render_title_for_view=function(){if(rdx.utils.is_function(this._view.is_title_required)&&this._view.is_title_required()&&(rdx.utils.is_not_defined(this._view_definition.view_properties.add_back_button))&&!(rdx.page.is_slider_visible())){this._view_logo_title_description_container=$("<div>").addClass("title_description_toolbar_container");var f=$("<div>");var m=$("<div>");var g=$("<div>");var h=false;var l="";if(rdx.utils.is_defined(this._view._view_definition)&&rdx.utils.is_defined(this._view._view_definition.view_properties.title)){l=rdx.i18n.get_string(this._view._view_definition.view_properties.title)}if(rdx.utils.is_not_empty(l)&&rdx.utils.is_defined(this._view._view_definition)&&(rdx.utils.is_not_defined(this._view._view_definition.view_properties._dont_show_title)||!this._view._view_definition.view_properties._dont_show_title)){if(!l.match(/{/)){m.addClass("page_title no_padding_page_title").text(l);this._view_logo_title_description_container.append(m);h=true}}if(rdx.utils.is_defined(this._view._view_definition)&&rdx.utils.is_defined(this._view._view_definition.view_properties.title_properties)){if(rdx.utils.is_defined(this._view._view_definition.view_properties.title_properties.title_class)){m.addClass(this._view._view_definition.view_properties.title_properties.title_class)}if(rdx.utils.is_defined(this._view._view_definition.view_properties.title_properties.title_image_class_name)){f.addClass("page_title_logo").addClass(this._view._view_definition.view_properties.title_properties.title_image_class_name);this._view_logo_title_description_container.prepend(f);h=true}if(rdx.utils.is_defined(this._view._view_definition.view_properties.title_properties.description)){g.addClass("page_description");if(rdx.utils.is_string(this._view._view_definition.view_properties.title_properties.description)){g.text(rdx.i18n.get_string(this._view._view_definition.view_properties.title_properties.description))}else{if(rdx.utils.is_object(this._view._view_definition.view_properties.title_properties.description)){g.append(this._view._view_definition.view_properties.title_properties.description)}}this._view_logo_title_description_container.append(g);h=true}}if(h||this._is_tool_bar_required){this._parent.prepend(this._view_logo_title_description_container)}this._view_desc_block=g}};rdx.base_view.prototype.add_global_filter_to_view=function(){var f=this.get_view_definition();if(rdx.utils.is_defined(rdx.global_title_bar)){var e=true;if(f.type==rdx.view_constants.TABBED_VIEW||f.type==rdx.view_constants.COMPOSITE_VIEW){e=false}if(rdx.global_title_bar.is_global_filter_added()){if(e){if(rdx.utils.is_not_defined(this._global_filter_change_event_callback)){this._global_filter_change_event_callback=new rdx.callback(this,this._handle_global_filter_change_event,[rdx.global_title_bar.get_global_filter_options()]);rdx.global_title_bar.register_global_filter_change_event(this._global_filter_change_event_callback)}}this.set_current_global_filter_context()}else{if(rdx.utils.is_defined(f.global_filter)){rdx.global_title_bar.add_global_filter(f.global_filter,new rdx.callback(this,this._handle_global_filter_change_event,[f.global_filter]),e);this._added_global_filter=true;for(var d in f.global_filter){rdx.global_title_bar.set_current_global_filter(f.global_filter[d]);break}this.set_current_global_filter_context()}}}};rdx.base_view.prototype._render_button_bar=function(l){this._button_bar_div=$("<div>").addClass("base_view_button_bar form_buttons");var m={add_blue_button:!l,add_grey_button:true,blue_button_label:"rdx.button_insert",blue_button_tooltip:null,grey_button_label:"rdx.form_close_button_label",grey_button_tooltip:null,blue_button_click_handler_callback:new rdx.callback(this,this._handle_button_click),grey_button_click_handler_callback:new rdx.callback(this,this.destroy_view),button_bar_positon:"BOTTOM",destroy_parent_view:false};var f=this.get_form();if(rdx.utils.is_defined(f)){f.set_keyboard_handler_callback(new rdx.callback(this,this._handle_button_click))}if(rdx.utils.is_defined(this._view_definition.view_properties.help_id)){var h=$("<div>").addClass("rdx_right");rdx.help.add_help(h,this._view_definition.view_properties.help_id);this._button_bar_div.append(h)}m=$.extend(true,m,this._view_definition.dialog_properties);if(m.destroy_parent_view===true&&rdx.utils.is_defined(this.get_parent_base_view())){m.grey_button_click_handler_callback=new rdx.callback(this.get_parent_base_view(),this.get_parent_base_view().destroy_view,[null,false])}var g=$("<div>");this._button_bar=new rdx.button_bar(g,new rdx.form_field({properties:m})).render();this._button_bar_div.append(g);if(m.button_bar_positon.toUpperCase()=="TOP"){this._button_bar_div.addClass("top_positioned_button_bar");this._view_container.before(this._button_bar_div)}else{this._view_container.after(this._button_bar_div)}};rdx.base_view.prototype._handle_button_click=function(){if(!rdx.utils.is_function(this._get_view().get_data)){this.destroy_view();return}var B=this.get_form();if(rdx.utils.is_defined(B)){var s=B.validate();if(!s){return}}var v=this._view_definition.dialog_properties.view_properties;v=rdx.utils.is_not_defined(v)?{}:v;var w=rdx.utils.is_not_defined(v.submit_operation)?{}:v.submit_operation;var z=rdx.utils.is_not_defined(w.method)?rdx.model_constants.NOOP:w.method;var y=rdx.utils.is_not_defined(w.action)?null:w.action;var C=rdx.utils.is_not_defined(v.resource_context)?{refresh_action:rdx.view_constants.REFRESH_RELEVANT_OR_ADD_NEW}:v.resource_context;if(rdx.utils.is_not_defined(v.resource_name)){throw"'resource_name' argument should be passed in the dialog_properties.view_properties object of the view dfn."}var t=rdx.utils.get_resource(v.resource_name);var x={resource_defn:t,resource_context:C,resource_for_operation:{},model_method:z,action:y};var u=new rdx.configure_view_operation_params(x);var D=[];var A=new rdx.view_component_adapter_data(this);A.process_inner_view_data(u,D);if(rdx.utils.is_defined(this._view_definition.dialog_properties.data_formatter_callback)){this._view_definition.dialog_properties.data_formatter_callback.call_back([u])}var q=new rdx.callback(this,this.destroy_view);if(this._view_definition.dialog_properties.destroy_parent_view===true&&rdx.utils.is_defined(this.get_parent_base_view())){q=new rdx.callback(this.get_parent_base_view(),this.get_parent_base_view().destroy_view)}new rdx.form_controller(this).submit_standalone_view_data(u,D,q,q)};rdx.base_view.prototype._get_buttons=function(h){var l=[];if(rdx.utils.is_function(this._view.get_action_items)&&rdx.utils.is_defined(this._view.get_action_items())){for(var f=0,g=this._view.get_action_items().length;f<g;f++){var m=this._view.get_action_items()[f];if(m.get_align()==h){l.push(m)}}}return l};rdx.base_view.prototype.get_top_right_container=function(){return this._top_right_container};rdx.base_view.prototype.get_bread_crumb_processing_data=function(){return this._bread_crumb_processing_data};rdx.base_view.prototype.show_dialog=function(){if(rdx.utils.is_not_defined(this._view_definition.add_to_bread_crumb)){this._parent.dialog($.extend(true,{},this._default_dialog_properties,this._view_definition.dialog_properties))}};rdx.base_view.prototype._swap_properties=function(e,g,h){var f=e[g];e[g]=e[h];e[h]=f};rdx.base_view.prototype._set_toggle_link=function(){this._toggle_container=$("<span>").addClass("toggle_base_view_container");this._toggle_properties.link=rdx.i18n.get_string(this._toggle_properties.link);var b=$("<a>").attr("href","#noAnchor").append(this._toggle_properties.link);this._toggle_container.append(b);b.bind(rdx.events.CLICK,{view:this,toggle_properties:this._toggle_properties},function(a){a.data.view.handle_toggle_view()});if(this._toggle_properties._is_toggled&&this._toggle_properties.details_mode){this._view_container.prepend(this._toggle_container)}else{b.css("float","right");this._view_container.append(this._toggle_container)}};rdx.base_view.prototype.handle_toggle_view=function(){if(this._toggle_properties.details_mode){if(this._toggle_properties._is_toggled){rdx.page.get_content().children("div").show()}else{rdx.page.get_content().children("div").hide()}this._toggle_properties.parent_div.show();this._toggle_properties._toggle_parent_div.hide()}this._toggle_properties.parent_div.empty();var e=$.extend(true,{},this._toggle_properties);this._swap_properties(e,"view","_toggle_view");this._swap_properties(e,"link","toggle_link");this._swap_properties(e,"view_context","_toggle_view_context");this._swap_properties(e,"parent_div","_toggle_parent_div");e._is_toggled=(!(e._is_toggled));var d=$.extend(true,{},this._toggle_properties.view);d.view_toggle_link=e;var f=new rdx.base_view(this._toggle_properties.parent_div,d);if(rdx.utils.is_defined(this._toggle_properties.view_context)){f.get_view_context().set_url_params(null,this._toggle_properties.view_context)}f.prepare_view()};rdx.base_view.prototype.get_crumb=function(){return this._crumb};rdx.base_view.prototype.is_add_global_actions=function(){return rdx.utils.is_defined(this._view_definition.global_resource_operations)};rdx.base_view.prototype._add_toolbar=function(p){var n=this.is_add_global_actions()?new rdx.callback(this,this._populate_global_actions):null;if(this._add_to_global_toolbar()){var l=rdx.utils.is_function(this._view.get_toolbar_items)?this._view.get_toolbar_items():[];this._add_help_toolbar_item(l);this._add_export_toolbar_item(l);this._add_app_toolbar_item(l);this.add_view_toolbar_items(p,l,this.get_top_tool_bar_properties());if(rdx.utils.is_defined(n)){rdx.global_title_bar.add_custom_component(n)}}else{this._tool_bar_table=$(document.createElement("table")).addClass("tool_bar_table_no_border").attr("cellPadding",0).attr("cellSpacing",0);if(!this._tool_bar_table.html().match(/<tbody>/i)){this._tool_bar_table.append(document.createElement("tbody"))}var q=$(this._tool_bar_table[0].tBodies[0].insertRow(-1));var t="";if(rdx.utils.is_defined(this._resource)){t=rdx.i18n.get_string(t)}var s=rdx.i18n.get_string("rdx.refresh_tooltip",{obj_type:t});var l=rdx.utils.is_function(this._view.get_toolbar_items)?this._view.get_toolbar_items():[];this._add_help_toolbar_item(l);this._add_export_toolbar_item(l);this._add_app_toolbar_item(l);var o=this.get_top_tool_bar_properties();if(rdx.utils.is_defined(n)){var m=$(q[0].insertCell(-1));n.call_back([m])}new rdx.ribbon($(q[0].insertCell(-1)).addClass("top_links_container"),l,o).render();p.append(this._tool_bar_table)}};rdx.base_view.prototype.get_top_tool_bar_properties=function(){return{spacing:0,align:"right",add_separator:true,add_scroller:false}};rdx.base_view.prototype.get_action_bar_properties=function(m){var n=false;var o={class_names:"ribbon ribbon_bottom",add_buttons:true,link_bar:false};if(m.length>0){o.link_bar=true;for(var g=0,h=m.length;g<h;g++){var l=m[g];if(l.get_button_type()!=rdx.LINK){o.link_bar=false;break}}}return o};rdx.base_view.prototype._add_help_toolbar_item=function(h){if(!rdx.help.show_help()){return}if(rdx.utils.is_not_defined(this._view_definition.view_properties)||rdx.utils.is_not_defined(this._view_definition.view_properties.help_id)){return}var e=false;for(var f=0;f<h.length;f++){var g=h[f].get_image_url();if(g===rdx.images.HELP_IMG){e=true}}if(!e){h.push(new rdx.action({tooltip:rdx.help.HELP_TOOLTIP,image_url:rdx.images.HELP_IMG,click_handler_callback:new rdx.callback(this,this._handle_help_click,[this._view_definition.view_properties.help_id])}))}};rdx.base_view.prototype._add_export_toolbar_item=function(f){if(!this.show_export()){return}if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.show_export)&&this._view_definition.view_properties.show_export==false){return}var e=null;var d=true;if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.export_callback)){e=this._view_definition.view_properties.export_callback;d=false}else{if(rdx.utils.is_defined(this._view.get_view_object_for_export)){e=this._view.get_view_object_for_export}else{e=this.get_view_object_for_export}}f.push(new rdx.action({tooltip:rdx.i18n.get_string("rdx.click_to_export"),image_url:rdx.images.EXPORT_IMAGE,click_handler_callback:new rdx.callback(this,rdx.view_utils.show_export_report_panel,[new rdx.callback(this,e),d,this._view_definition.d_name])}))};rdx.base_view.prototype._add_app_toolbar_item=function(b){if(rdx.utils.is_not_defined(rdx.APP_TOOL_BAR_ACTIONS)||(!rdx.utils.is_array(rdx.APP_TOOL_BAR_ACTIONS))||((rdx.utils.is_defined(this._view_definition.view_properties.add_app_tool_bar_actions)&&!this._view_definition.view_properties.add_app_tool_bar_actions))){return}$.merge(b,rdx.APP_TOOL_BAR_ACTIONS)};rdx.base_view.prototype._populate_global_actions=function(g){if(!rdx.utils.is_function(this._view.get_global_actions)){return}var m=new Array();var h=this._view.get_global_actions();if(h.length==0){return}g.addClass("global_operations_separator");for(var f=0;f<h.length;f++){m.push(h[f].get_label())}var l=false;if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.global_resource_operations_set_current)){l=this._view_definition.view_properties.global_resource_operations_set_current}new rdx.dropdown_menu(g,new rdx.form_field({formatter:{map:m},mandatory:true,properties:{set_current:l}})).render().add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._handle_global_action_click,[h]))};rdx.base_view.prototype._handle_global_action_click=function(o,m,h,l){for(var g=0;g<l.length;g++){var n=l[g];if(n.get_label()==m){n.perform_action();h.val("");return}}};rdx.base_view.prototype._handle_help_click=function(d,c){rdx.help.handle_help_click_event(c)};rdx.base_view.prototype._initialize_view=function(){if(this._resource){if(this._view_definition.auto_refresh){if(rdx.utils.is_defined(this._view_definition.auto_refresh_handler_callback)){rdx.scheduler.schedule_job(new rdx.job(this._job_id,this._view_definition.auto_refresh_handler_callback,new rdx.callback(this,this._get_resource)),true)}else{rdx.scheduler.schedule_job(new rdx.job(this._job_id,this._view_definition.auto_refresh_delay,new rdx.callback(this,this._get_resource)),true)}}else{this._get_resource()}}else{if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.standalone_mode)&&this._view_definition.view_properties.standalone_mode&&this._view_definition.response_callback){this._get_resource_response_arrived([])}else{this._view_state=rdx.view_constants.view_state.ACTIVE;if(rdx.utils.is_defined(rdx.get_debugger)){rdx.get_debugger().activate_view(this._view_definition,this._view_div)}if(rdx.utils.is_defined(rdx.app_search)){rdx.app_search.update_active_view_list(this._view_definition)}}}};rdx.base_view.prototype._get_resource=function(){var g=null;var o=this.get_view_context();var m=$.extend(true,{},o.get_properties());var l={};var h={};if(rdx.utils.is_defined(this._properties.show_hide_link_filter)){h=this._properties.show_hide_link_filter}else{h={static_filter:{isdefault:"false"}}}if(rdx.utils.is_defined(this._properties.show_hide_link)&&this._properties.show_hide_link==true){if(this._hide_default_policies==false||this._hide_default_policies=="false"){if(rdx.utils.is_defined(m)&&rdx.utils.is_defined(m.static_filter)&&rdx.utils.is_object_not_empty(m.static_filter)){for(var n in m.static_filter){delete m.static_filter[n]}}if(rdx.utils.is_defined(l.custom)&&rdx.utils.is_defined(l.custom.pageno)){l.custom.pageno=1}o.set_context_data(o.get_data(),m)}else{l=$.extend(true,m,h);if(rdx.utils.is_defined(l.custom)&&rdx.utils.is_defined(l.custom.pageno)){l.custom.pageno=1}o.set_context_data(o.get_data(),l)}}if(o.is_url_params_set()){g=rdx.utils.is_defined(this._from_query_get_url_param)?this._from_query_get_url_param:o.get_url_params()}else{if(rdx.utils.is_defined(this._view_definition.get_view_context_callback)){g=this._view_definition.get_view_context_callback.call_back()}}rdx.model.get_all(this._resource,g,new rdx.callback(this,this._get_resource_response_arrived),this._view_div,new rdx.callback(this,this._response_arrived))};rdx.base_view.prototype._add_to_global_toolbar=function(){return(rdx.utils.is_defined(rdx.global_title_bar)&&this._view_definition.add_to_bread_crumb&&!this._disable_bread_crumb)};rdx.base_view.prototype._get_resource_response_arrived=function(h){if(!rdx.view_utils.is_view_created(this)){return}var m=[];if(rdx.utils.is_defined(this._resource)){if(rdx.utils.is_defined(h[this._resource.name])){if(rdx.utils.is_array(h[this._resource.name])){m=h[this._resource.name]}else{if(rdx.utils.is_not_empty(h[this._resource.name])){m=[h[this._resource.name]]}}}else{if(rdx.utils.is_pure_rest_api(this._resource)){m.push(h)}}this.get_view_context().set_data(m)}this._view_state=rdx.view_constants.view_state.INITIALIZED;var n=rdx.utils.is_not_empty(this._view_definition.view_properties.title)?this._view_definition.view_properties.title:rdx.view_utils.get_title(this);if((rdx.i18n.get_string(n)).indexOf("{")!=-1){if(rdx.utils.is_defined(this._custom_title_bar)){this._custom_title_bar.add_title(rdx.i18n.get_string(n,(m.length>0?m[0]:{})))}else{var o=$("<div>");o.addClass("page_title no_padding_page_title").text(rdx.i18n.get_string(n,(m.length>0?m[0]:{})));if(rdx.utils.is_defined(this._view_logo_title_description_container)){this._view_logo_title_description_container.prepend(o)}}}if(rdx.utils.is_defined(this._bread_crumb_title)&&rdx.i18n.get_string(this._bread_crumb_title).match(/{/)){rdx.global_title_bar.update_crumb_title(rdx.i18n.get_string(this._bread_crumb_title,(m.length>0?m[0]:{})))}if(this._description_div!=null){this._description_div.empty();this._description_div.append(rdx.i18n.get_string(this._view_definition.view_properties.description,(m.length>0?m[0]:{})))}if(this._view_definition.response_callback){var q=this;var l={return_call_back:new rdx.callback(function(b,a){if(rdx.utils.is_defined(a)){q._view_context.set_app_context_data(a)}else{q._view_context.set_app_context_data(b)}if(rdx.utils.is_function(q._view.get_resource_response_arrived)){q._view.get_resource_response_arrived(b)}q._response_arrived()}),response:m,inherited_data:rdx.utils.is_defined(q.get_inherited_data_callback())?q.get_inherited_data_callback().call_back():null,inherited_init_data:q._inherited_init_data,app_context_data:q._view_context.get_app_context_data(),unformatted_response:h,view_context:q.get_view_context()};if(q._view_definition.type=="DETAIL_VIEW"&&rdx.utils.is_defined(q._view._pagination)){l.pagination={page_size:q._view._pagination.get_page_size(),page_number:q._view._pagination.get_page_number()}}var p=new rdx.view_callback_on_response_arrived_params(l);this._view_definition.response_callback.call_back([p])}else{if(rdx.utils.is_object_empty(m)&&!rdx.utils.is_array(m)){return}if(rdx.utils.is_function(this._view.get_resource_response_arrived)){this._view.get_resource_response_arrived(m);if(rdx.utils.is_not_defined(this._view_context.get_app_context_data())){this._view_context.set_app_context_data(m)}}this._response_arrived()}};rdx.base_view.prototype.show_notification_bar=function(g,n){var h=rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.submit_operation)&&rdx.utils.is_defined(this._view_definition.view_properties.submit_operation.method)?this._view_definition.view_properties.submit_operation.method:"add";var l=(rdx.utils.is_defined(this._view_definition.view_properties.notification_status)&&rdx.utils.is_defined(this._view_definition.view_properties.notification_status.formatter))?this._view_definition.view_properties.notification_status.formatter:null;var m=(rdx.utils.is_defined(rdx.i18n.get_string(this._view_definition.view_properties.notification_status))&&rdx.utils.is_defined(rdx.i18n.get_string(this._view_definition.view_properties.notification_status.message)))?rdx.i18n.get_string(this._view_definition.view_properties.notification_status.message):rdx.utils.get_status({},rdx.utils.get_resource(this._view_definition.resource_name),h,g);if(rdx.utils.is_defined(rdx.i18n.get_string(this._view_definition.view_properties.notification_status))&&rdx.utils.is_defined(this._view_definition.view_properties.notification_status.message_renderer_callback)){m=this._view_definition.view_properties.notification_status.message_renderer_callback.call_back([this._view_definition.view_properties.notification_status.message,g])}else{if(rdx.utils.is_defined(l)&&rdx.utils.is_defined(l.resource_keys)){l.format=m;var o=new rdx.formatter(l);m=o.get_formatted_message(g)}}rdx.page.show_notification(m,n)};rdx.base_view.prototype._response_arrived=function(h){this.unmask();if(rdx.utils.is_not_defined(this._resource)){return}if(h){var e=rdx.i18n.get_string("rdx.view_base_error",{obj_type:rdx.i18n.get_string(this._resource.obj_type),error:rdx.utils.get_detailed_error_message(h)});var f=this;rdx.message_box.error(e,new rdx.callback(this,function(){if(f._view_definition.auto_refresh){rdx.scheduler.job_completed(f._job_id)}}));rdx.status_bar.update_status(e,rdx.ERROR)}else{if(this._view_definition.auto_refresh){rdx.scheduler.job_completed(this._job_id)}}if(!rdx.utils.is_function(this._view.get_resource_response_arrived)){this._view_state=rdx.view_constants.view_state.ACTIVE;if(rdx.utils.is_defined(rdx.get_debugger)){rdx.get_debugger().activate_view(this._view_definition,this._view_div)}if(rdx.utils.is_defined(rdx.app_search)){rdx.app_search.update_active_view_list(this._view_definition)}}if(this._view_state==rdx.view_constants.view_state.ACTIVE){this.get_view_context().set_initial_data()}this.get_view_container().trigger(rdx.events.VIEW_PREPARATION_COMPLETED);if(rdx.utils.is_instrumentation_enabled()){var g=rdx.utils.get_view_title();$("button").each(function(){if(rdx.utils.is_function($(this).text)){inner_text=$.trim($(this).text())}$(this).attr("id",g+"-btn-"+inner_text.replace(/\ /g,"_"))})}};rdx.base_view.prototype._get_view=function(){var view_obj=null,view_title;switch(this._view_definition.type){case rdx.view_constants.HEADER_VIEW:view_obj=new rdx.header_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.ACCORDION_LIST_VIEW:view_obj=new rdx.ext.analytics.accordion_list_view(this._view_container,this._view_definition,this);break;case rdx.view_constants.CLOUDNET_HEADER_VIEW:view_obj=new rdx.cloudnet_header_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.INFO_VIEW:view_obj=new rdx.info_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.DETAIL_VIEW:view_obj=new rdx.list_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.CHART_VIEW:view_obj=new rdx.chart_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.CONFIGURE_VIEW:view_obj=new rdx.configure_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.OVERVIEW_VIEW:view_obj=new rdx.overview_view(this._view_container,this._view_definition,this);break;case rdx.view_constants.TABBED_VIEW:view_obj=new rdx.tabbed_view(this._view_container,this._view_definition,this);break;case rdx.view_constants.URL_VIEW:view_obj=new rdx.url_view(this._view_container,this._view_definition,this);break;case rdx.view_constants.THREE_PANE_DASHBOARD:view_obj=new rdx.three_pane_dashboard(this._view_container,this._view_definition,this);break;case rdx.view_constants.COMPOSITE_VIEW:view_obj=new rdx.composite_view(this._view_container,this._view_definition,this);break;case rdx.view_constants.SYSLOG_VIEW:view_obj=new rdx.syslog_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.SYSTEMLOG_VIEW:view_obj=new rdx.systemlog_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.SEARCH_FILTER_DETAILS_VIEW:view_obj=new rdx.search_filter_details_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.WIZARD_VIEW:view_obj=new rdx.wizard_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.ONE_PAGE_WIZARD_VIEW:view_obj=new rdx.op_wizard_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.ONE_PAGE_WIZARD_PAGE_VIEW:view_obj=new rdx.op_wizard_page(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.DASHBOARD_VIEW:view_obj=new rdx.dashboard_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.GETTING_STARTED_VIEW:view_obj=new rdx.getting_started_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.APPS_VIEW:view_obj=new rdx.apps_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.VISUALIZER_VIEW:view_obj=new rdx.visualizer_view(this._view_container,this._view_definition,this);break;case rdx.view_constants.AUTHENTICATION_VISUALIZER_VIEW:view_obj=new rdx.authentication_visualizer_view(this._view_container,this._view_definition,this);break;case rdx.view_constants.NETWORK_VISUALIZER_VIEW:view_obj=new rdx.network_visualizer_view(this._view_container,this._view_definition,this);break;case rdx.view_constants.RESOURCE_VISUALIZER_VIEW:view_obj=new rdx.resource_visualizer(this._view_container,this._view_definition,this);break;case rdx.view_constants.APP_FW_VISUALIZER:view_obj=new rdx.app_fw_visualizer_view(this._view_container,this._view_definition,this);break;case rdx.view_constants.ENTITY_VISUALIZER_VIEW:view_obj=new rdx.entity_visualizer_view(this._view_container,this._view_definition,this);break;case rdx.view_constants.FEATURE_WELCOME_VIEW:view_obj=new rdx.feature_welcome_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.GEO_MAP_VIEW:view_obj=new rdx.geo_map_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.GEO_VECTOR_MAP_VIEW:view_obj=new rdx.geo_vector_map_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.APPS_VIEW:view_obj=new rdx.apps_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.LINKS_VIEW:view_obj=new rdx.links_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.DOWNLOADS_VIEW:view_obj=new rdx.downloads_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.TOPOLOGY_DIAGRAM_VIEW:view_obj=new rdx.topology_diagram_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.CONFIGURATION_DIFF_VIEW:view_obj=new rdx.configuration_diff_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.ANALYTICS_DASHBOARD_VIEW:view_obj=new rdx.analytics_dashboard_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.SUMMARY_CHART_DETAIL_VIEW:view_obj=new rdx.summary_chart_detail_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.TABULAR_PAGE_VIEW:view_obj=new rdx.tabular_page_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.OFFLINE_VISUALIZER_VIEW:view_obj=new rdx.offline_visualizer_view(this._view_container,this._view_definition,this._resource,this);break;case rdx.view_constants.VISUALIZER:view_obj=new rdx.visualizer(this._view_container,this._view_definition,this);break;case rdx.view_constants.CUSTOM_VIEW:var args="this._view_container, this._view_definition, this._resource, this";view_obj=eval("new "+this._view_definition.view_class_name+"("+args+");");break;default:throw"Invalid view definition found"}var view_title=rdx.i18n.get_string(this._view_definition.view_properties.title)||"Others";if(rdx.utils.is_instrumentation_enabled()&&typeof _caq!=="undefined"){_caq("setPage",view_title)}return view_obj};rdx.base_view.prototype.get_view=function(){return this._view};rdx.base_view.prototype.get_item_info=function(){if(rdx.utils.is_function(this.get_view().get_item_info)){return this.get_view().get_item_info()}else{return{action_item_data:[],total_item_count:null}}};rdx.base_view.prototype.get_action_items=function(){if(rdx.utils.is_function(this.get_view().get_action_items)){return this.get_view().get_action_items()}return[]};rdx.base_view.prototype.get_action_bar_height=function(){return rdx.utils.is_defined(this._action_bar)?this._action_bar.get_height():0};rdx.base_view.prototype.is_tool_bar_required=function(){return this._is_tool_bar_required==true};rdx.base_view.prototype.is_toggle_link_present=function(){return rdx.utils.is_defined(this._toggle_properties.view)};rdx.base_view.prototype.get_toggle_link_height=function(){if(this.is_toggle_link_present()&&rdx.utils.is_defined(this._toggle_container)){return this._toggle_container.outerHeight(true)}return 0};rdx.base_view.prototype.get_toolbar_height=function(){if(this._add_to_global_toolbar()){return rdx.global_title_bar.height()+rdx.view_constants.VIEW_TOOLBAR_PADDING}else{if(rdx.utils.is_defined(this._tool_bar_table)){return this._tool_bar_table.outerHeight(true)+rdx.view_constants.VIEW_TOOLBAR_PADDING}else{return 0}}};rdx.base_view.prototype.get_toolbar=function(){return this._tool_bar_table};rdx.base_view.prototype.is_resize_required=function(){return this._is_resize_required==true};rdx.base_view.prototype.remove_decorator=function(){if(this.is_tool_bar_required()){return}this._view_div.removeClass("view_div_decorator")};rdx.base_view.prototype.refresh_action_bar_state=function(b){if(rdx.utils.is_defined(this._action_bar)){this._action_bar.refresh_state(b)}if(rdx.utils.is_defined(this._button_bar)){this._button_bar.refresh_state(b)}};rdx.base_view.prototype.get_resource=function(){return this._resource};rdx.base_view.prototype.get_view_state=function(){return this._view_state};rdx.base_view.prototype.set_view_state=function(b){this._view_state=b;if(rdx.utils.is_defined(rdx.get_debugger)){if(this._view_state==rdx.view_constants.view_state.ACTIVE){rdx.get_debugger().activate_view(this._view_definition,this._view_div)}else{if(this._view_state==rdx.view_constants.view_state.DESTROYED){rdx.get_debugger().destroy_view(this._view_definition)}}}if(rdx.utils.is_defined(rdx.app_search)){if(this._view_state==rdx.view_constants.view_state.ACTIVE){rdx.app_search.update_active_view_list(this._view_definition)}else{if(this._view_state==rdx.view_constants.view_state.DESTROYED){rdx.app_search.update_active_view_list(this._view_definition,true)}}}if(rdx.utils.is_defined(rdx.get_test_framework)&&rdx.get_test_framework().is_test_mode&&this._view_state>=rdx.view_constants.view_state.ACTIVE){if(this._is_view_in_slider){setTimeout(function(){rdx_ut_executor_deferred.view_is_active_in_slider(rdx_ut_executor_deferred)},rdx_ut_executor_deferred.timeout)}else{setTimeout(function(){rdx_ut_executor_deferred.view_is_active(rdx_ut_executor_deferred)},rdx_ut_executor_deferred.timeout)}}};rdx.base_view.prototype.set_add_entity_select_btn=function(b){this._add_entity_select_btn=b};rdx.base_view.prototype.set_crumb_handler=function(b){this._crumb_handler=b;if(rdx.utils.is_not_defined(this._properties.is_tool_bar_required)){this._is_tool_bar_required=false}};rdx.base_view.prototype.get_crumb_handler=function(){return this._crumb_handler};rdx.base_view.prototype.get_event_obj=function(){return this._event_obj};rdx.base_view.prototype.get_settings=function(){return this._settings};rdx.base_view.prototype.get_settings_key=function(){return this._settings_key};rdx.base_view.prototype._get_stored_settings=function(){if(rdx.utils.is_defined(rdx.settings_object)){var b=rdx.settings_object[this._settings_key];if(rdx.utils.is_defined(b)){this._settings=JSON.parse(rdx.utils.html_decode(b))}}};rdx.base_view.prototype._add_settings_icon=function(h){var g=this.get_top_right_container();if(rdx.utils.is_defined(g)){var e=$("<div>").addClass("settings_container");if(this.no_left_and_right_buttons()==true){e.addClass("small_settings_container")}g.prepend(e);var f=$("<span>").addClass("settings_span");f.bind(rdx.events.CLICK,{view:this._view,settings_span:f},function(a){if(rdx.utils.is_defined(a.data.view)&&rdx.utils.is_defined(a.data.settings_span)){var b=a.data.view;var c=a.data.settings_span;if(!c.hasClass("settings_active_span")){c.addClass("settings_active_span")}if(rdx.utils.is_defined(b.show_settings_pane)&&rdx.utils.is_function(b.show_settings_pane)){b.show_settings_pane(c)}}});e.append(f)}};rdx.base_view.prototype.show_action_in_slider=function(b){this._show_in_slider=b};rdx.base_view.prototype.is_show_in_slider=function(){return this._show_in_slider};rdx.base_view.prototype.set_render_mode=function(b){this._render_mode=b};rdx.base_view.prototype.set_inherited_data_callback=function(b){this._inherited_data_callback=b};rdx.base_view.prototype.get_inherited_data_callback=function(){return this._inherited_data_callback};rdx.base_view.prototype.set_inherited_init_data=function(b){this._inherited_init_data=b};rdx.base_view.prototype.get_inherited_init_data=function(){return this._inherited_init_data};rdx.base_view.prototype.add_back_button_toolbar=function(){var p=$("<div>").addClass("back_button_title_bar");var o=(this._view instanceof rdx.op_wizard_view||this._view instanceof rdx.op_wizard_page);this._view_container.prepend(p);var q=false;if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.help_id)&&!(o)){q=true}this._custom_title_bar=new rdx.title_bar(p,this._view._parent,{add_help_id:q,add_back_button:true,add_title:true});var l=[];this._add_help_toolbar_item(l);if(q==true){this._custom_title_bar.add_toolbar_items(l,this.get_top_tool_bar_properties(false))}var m={spacing:0,align:"right",add_separator:false,add_scroller:false,class_names:"ribbon ribbon_back_button"};this._custom_title_bar.add_back_button_toolbar(this._add_back_button_toolbar(),m);var n=rdx.utils.is_not_empty(this._view_definition.view_properties.title)?this._view_definition.view_properties.title:rdx.view_utils.get_title(this);var h=rdx.utils.is_defined(this._view_definition.view_properties.title_image)?this._view_definition.view_properties.title_image:null;if(n.indexOf("{")==-1){this._custom_title_bar.add_title(rdx.i18n.get_string(n),h)}};rdx.base_view.prototype._add_back_button_toolbar=function(){return[new rdx.action({tooltip:"rdx.back",click_handler_callback:new rdx.callback(this._view,this._view.close_view,[false])})]};rdx.base_view.prototype.show_export=function(){if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.export_enabled)){return this._view_definition.view_properties.export_enabled}else{return rdx.EXPORT_ENABLED}};rdx.base_view.prototype.get_view_object_for_export=function(g){var h=rdx.i18n.get_string("rdx.view_details");if(rdx.utils.is_defined(this._view._view_definition)&&rdx.utils.is_defined(this._view._view_definition.title)){h=rdx.i18n.get_string(this._view._view_definition.title)}else{if(rdx.utils.is_defined(this._view._view_definition)&&rdx.utils.is_defined(this._view._view_definition.view_properties.title)){h=rdx.i18n.get_string(this._view._view_definition.view_properties.title)}}var e=new Object();if(g==="csv"){if(rdx.utils.is_defined(this._view._view_definition.export_csv_callback)){e=this._view._view_definition.export_csv_callback()}else{e[h]=new Object();e[h]["resource_name"]=this._view_definition.resource_name;if(rdx.utils.is_function(this._view.get_export_context_for_csv)){this._view.get_export_context_for_csv(e)}}}else{if(rdx.utils.is_defined(this._view._view_definition.export_callback)){e=this._view._view_definition.export_callback()}else{if(rdx.utils.is_defined(rdx.view_constants.EXPORT_PROPERTIES.query_string_view_and_get_url_selection_property_name)){var f=rdx.view_constants.EXPORT_PROPERTIES.query_string_view_and_get_url_selection_property_name;e[f]=new Object();e[f][this._view_definition.name]=this.get_view_context().get_url_params()}}}return e};rdx.base_view.prototype._should_preprare_view=function(){var b=true;if(rdx.utils.is_defined(this._from_query_view_name)&&this._view_definition.name!=this._from_query_view_name){b=false}return b};rdx.base_view.prototype._handle_global_filter_change_event=function(m,l,g,n){var h={};for(var o in n){if(n[o]["label"]==l){h=n[o];rdx.global_title_bar.set_current_global_filter(h)}}this.refresh_view(h)};rdx.base_view.prototype.set_current_global_filter_context=function(){var d=rdx.global_title_bar.get_current_global_filter();if(rdx.utils.is_defined(d)){var c=d.view_context;if(rdx.utils.is_defined(d)){rdx.utils.merge_and_set_url_params(this,c)}}};rdx.base_view.prototype.get_export_context_for_csv=function(){return rdx.url_utils.get_url(this._resource.get_url,this._view_context.get_url_params())};rdx.base_view.prototype.add_view_toolbar_items=function(d,e,f){new rdx.ribbon($(d),e,f).render()};rdx.base_view.prototype.set_toolbar_parent_elem=function(b){this._toolbar_parent=b};rdx.base_view.prototype.get_toolbar_parent_elem=function(){return this._toolbar_parent};rdx.base_view.prototype.set_parent_base_view=function(b){this._parent_base_view=b};rdx.base_view.prototype.get_parent_base_view=function(){return this._parent_base_view};rdx.base_view.prototype._render_heading=function(){return((this._get_buttons("title_buttons").length>0)||(rdx.utils.is_defined(this._view_definition.view_properties,this._view_definition.view_properties.heading))||(rdx.utils.is_defined(this._view_definition.view_properties,this._view_definition.view_properties.description)))};rdx.base_view.prototype.no_left_and_right_buttons=function(){return((this._get_buttons(rdx.position.LEFT).length==0)&&(this._get_buttons(rdx.position.RIGHT).length==0))};rdx.abstract_view=function(){};rdx.abstract_view.prototype.get_base_view=function(){return null};rdx.abstract_view.prototype.get_data=function(){return null};rdx.abstract_view.prototype.make_view=function(){return null};rdx.abstract_view.prototype.get_view_context=function(){return null};rdx.abstract_view.prototype.destroy_view=function(){return null};rdx.abstract_view.prototype.resize_view=function(){return null};rdx.abstract_view.prototype.get_resource_response_arrived=function(){return null};rdx.header_view=function(h,e,g,f){this._parent=h;this._view_definition=e;this._resource=g;this._base_view=f;this._MAX_NO_OF_CHARS_IN_WELCOME_TEXT=50;this._logout_url=null;this._brand_key=null;this._platform_key=null;this._platform_div=null;this._host_key=null;this._host_name=null;this._build_key=null;this._build_version=null;this._user_name_key=null;this._user_name_value=null;this._application_key=null;this._ip_address_key=null;this._application_names=new Object();this._global_options_key=null;this._global_options_default_value_key=null;this._menu_table=null;this._info_table=null;this._ns_logo_tr=null;this._on_mouse_hover=false;this._system_drop_down={options:[],selected_option:""};this._system_drop_down_change_callback=null;this._build_info_renderer=null;this._host_item_label=null;this._info_link_array={};this._menu_div_container=null;this._status_key=null;this._server_time_renderer=null;this._version_key=null;this._system_upgarde_notifier=null};rdx.header_view.prototype.make_view=function(){this._base_view.remove_decorator();var A=this._view_definition.view_properties.stand_alone;if(!A){this._brand_key=this._view_definition.view_properties.brand_key;this._build_key=this._view_definition.view_properties.build_key;this._user_name_key=this._view_definition.view_properties.user_name_key;this._host_key=this._view_definition.view_properties.host_key;this._ip_address_key=this._view_definition.view_properties.ip_address_key;this._logout_url=this._view_definition.view_properties.logout_url;this._platform_key=this._view_definition.view_properties.platform_key;this._application_key=this._view_definition.view_properties.application_key;this._system_drop_down_change_callback=this._view_definition.view_properties.system_drop_down_change_callback;this._build_info_renderer=this._view_definition.view_properties.build_info_renderer;this._global_options_key=this._view_definition.view_properties.global_options_key;this._global_options_default_value_key=this._view_definition.view_properties.global_options_default_value_key;this._status_key=this._view_definition.view_properties.status_key;this._server_time_renderer=this._view_definition.view_properties.server_time_renderer;this._version_key=this._view_definition.view_properties.version_key;this._system_upgarde_notifier=this._view_definition.view_properties.system_upgarde_notifier}this._info_table=$(document.createElement("table")).addClass("full_width_table ns_banner_table rdx_page_center_align header_info").attr("cellPadding",0).attr("cellSpacing",0);if(!this._info_table.html().match(/<tbody>/i)){this._info_table.append(document.createElement("tbody"))}var H=$(this._info_table[0].tBodies[0].insertRow(-1));var Q=$(H[0].insertCell(-1));var D=$(H[0].insertCell(-1));if(!A||rdx.utils.is_defined(this._view_definition.view_properties.brand_value)){var E=$("<table>");this._ns_logo_tr=$("<tr>");var z=$("<td>").addClass("ns_logo");var P=$(document.createElement("a")).attr("href",rdx.BRAND_LOGO_LINK).attr("target","PRODUCT_LINK");this._platform_div=$(document.createElement("div")).addClass("ns_logo_version ns_company_logo");if(rdx.utils.is_defined(this._view_definition.view_properties.brand_value)){this._platform_div.append(this._view_definition.view_properties.brand_value)}P.append(this._platform_div);E.append($("<tbody>").append(this._ns_logo_tr.append(z.append(P))));Q.append(E)}var N=$(document.createElement("div")).addClass("header_info_right");var C=$(document.createElement("ul"));if(rdx.utils.is_defined(rdx.app_search)){var J=$("<li>").addClass("header_view_menu_settings_link_app_search header_view_menu_settings_link");var I;var M=$("<a>").bind(rdx.events.CLICK,function(a){rdx.app_search.show_search_toolbar(a)});$(M).addClass("app_search_button_in_header_hide");J.append(M);C.append(J)}if(!A){if(rdx.utils.is_defined(this._view_definition.view_properties.notification_bar_properties)){var K=$("<div>");var L=$("<li>").addClass("header_notification_bar");L.append(K);var G=new rdx.page_notification_bar(K,this._view_definition.view_properties.notification_bar_properties).render();C.append(L)}this._status_container_ul=$("<li>").addClass("header_info_container");C.append(this._status_container_ul);this._system_dropdown_ul=$("<li>").addClass("header_info_container");C.append(this._system_dropdown_ul);var y=null;if(rdx.utils.is_defined(this._server_time_renderer)){var F=$("<li>").addClass("rdx_header_user_info_container");this._time_div=$("<div>").addClass("rdx_header server_time");F.append(this._time_div);C.append(F)}var O=$("<li>").addClass("rdx_header_user_info_container").append(this._build_user_info_dropdown_menu());C.append(O)}N.append(C);D.append(N);var B=$("<div>").addClass("header_parent_div");var R=$(document.createElement("div")).addClass("ns_header ns_header_view_panel").append(this._info_table);if(rdx.utils.is_not_defined(A)||A==false){this._menu_table=$(document.createElement("table")).addClass("full_width_table header_menu rdx_page_center_align").attr("cellPadding",0).attr("cellSpacing",0);if(!this._menu_table.html().match(/<tbody>/i)){this._menu_table.append(document.createElement("tbody"))}$(this._menu_table[0].tBodies[0].insertRow(-1));this._create_menu_table();this._menu_div_container=$("<div>").addClass("full_width_table header_menu_center");if(this._view_definition.info_links||this._view_definition.app_links){R=R.append(this._menu_div_container.append(this._menu_table))}}B.append(R);this._parent.append(B);rdx.page.add_event_handler(rdx.events.PAGE_RESIZED,new rdx.callback(this,this._resize))};rdx.header_view.prototype._handle_show_hide_container=function(c){var d=c.data.container;rdx.utils.slide_up_down(d,true,new rdx.callback(function(b){var a=b.data.main_cont;if(rdx.utils.is_defined(a)){a.addClass("rdx_header_info_container")}},[c]),400);d.removeClass("rdx_header_dropdown_collapsed");$(window).unbind(rdx.events.CLICK,this._handle_show_hide_container)};rdx.header_view.prototype._build_user_info_dropdown_menu=function(){var v=$("<div>").addClass("rdx_header dropdown_container");this._user_name_value=$("<span>");v.append(this._user_name_value);var m=$("<div>").addClass("rdx_header_dropdown_options_container");var p=rdx.i18n.get_string("rdx.view_header_logout");var t=$("<div>").addClass("header_info_item_value rdx_header_info_logout_label").append(p);t.bind(rdx.events.CLICK,{ns_view_properties:this._view_definition.view_properties,logout_url:this._logout_url},function(b){var a=b.data.ns_view_properties;if(rdx.utils.is_defined(a.logout_callback)){a.logout_callback.call_back()}if(rdx.utils.is_defined(b.data.logout_url)){window.location=b.data.logout_url}else{rdx.utils.do_logout(false)}});m.append(t);var n=true;if(this._version_key||this._host_key||this._ip_address_key||this._build_key||this._system_upgarde_notifier){var q=$("<div>").addClass("header_more_info");n=false;if(this._version_key){var o=$("<div>").addClass("header_info_item_label").append(rdx.i18n.get_string("Version"));this._build_version_key=$("<div>").addClass("header_info_item_value");q.append(o).append(this._build_version_key)}if(this._host_key){this._host_item_label=$("<div>").addClass("header_info_item_label");this._host_name=$("<div>").addClass("header_info_item_value");q.append(this._host_item_label).append(this._host_name)}if(this._ip_address_key){this._ip_address_item_label=$("<div>").addClass("header_info_item_label");this._ip_address_name=$("<div>").addClass("header_info_item_value");q.append(this._ip_address_item_label).append(this._ip_address_name)}if(this._build_key){var u=$("<div>").addClass("header_info_item_label").append(rdx.i18n.get_string("Release"));this._build_version=$("<div>").addClass("header_info_item_value");q.append(u).append(this._build_version)}if(this._system_upgarde_notifier){var s=$("<div>").addClass("header_info_item_label header_info_system_update_label").append(rdx.i18n.get_string("rdx.chk_update_msg"));q.append(s);if(rdx.utils.is_defined(this._system_upgarde_notifier.system_upgarde_notifier_callback)){s.bind(rdx.events.CLICK,{header_view:this,system_upgarde_notifier_callback:this._system_upgarde_notifier.system_upgarde_notifier_callback},function(a){a.data.system_upgarde_notifier_callback.call_back()})}}m.append(q)}if(n){t.addClass("last_item")}v.append(m);v.bind(rdx.events.CLICK,{container:m,main_cont:v,header_view:this},function(b){var a=b.data.container;a.css("min-width",b.data.main_cont.outerWidth(true));if(!a.hasClass("rdx_header_dropdown_collapsed")){rdx.utils.slide_up_down(a,false,null,400);a.addClass("rdx_header_dropdown_collapsed");$(window).bind(rdx.events.CLICK,{container:m},b.data.header_view._handle_show_hide_container)}else{rdx.utils.slide_up_down(a,true,null,400);a.removeClass("rdx_header_dropdown_collapsed");$(window).unbind(rdx.events.CLICK,b.data.header_view._handle_show_hide_container)}b.stopPropagation()});m.hide();return v};rdx.header_view.prototype._create_global_options=function(){if(this._system_drop_down.options.length===0){this._system_dropdown_ul.empty();return}var w=(this._system_drop_down.selected_option==="")?this._system_drop_down.options[0]:this._system_drop_down.selected_option;this._system_dropdown_ul.empty();var s=$("<span>").addClass("header_info_item_label_status").append(w).css("color","#D3D3D3");var t=$("<span>").addClass("header_info_item_value").append("Partition");var A=$("<div>").addClass("rdx_header_dropdown_container_composite rdx_header_info_container");var u=$("<table>").attr("cellPadding",0).attr("cellSpacing",0);var p=$("<tr>").append($("<td>").append(t));var x=$("<tr>").append($("<td>").append(s));u.append(p).append(x);A.append(u);var q=$("<div>").addClass("rdx_header_dropdown_options_container");var v=$("<div>").addClass("global_more_info").appendTo(q);for(var y=0,z=this._system_drop_down.options.length;y<z;y++){var B=$("<div>").addClass("header_info_item_label");B.append(this._system_drop_down.options[y]);v.append(B);B.bind(rdx.events.CLICK,{header_view:this,selected_option_label:s,selected_item:this._system_drop_down.options[y]},function(a){var b=a.data.selected_option_label.text();a.data.header_view._change_application(a,a.data.selected_item,b,a.data.header_view._system_drop_down_change_callback)})}A.append(q);this._system_dropdown_ul.append(A);A.bind(rdx.events.CLICK,{container:q,main_cont:A,header_view:this},function(b){var c=b.data.container;var a=b.data.main_cont;c.css("min-width",b.data.main_cont.outerWidth(true));if(!c.hasClass("rdx_header_dropdown_collapsed")){rdx.utils.slide_up_down(c,false,null,400);c.addClass("rdx_header_dropdown_collapsed");a.removeClass("rdx_header_info_container");$(window).bind(rdx.events.CLICK,{container:q},b.data.header_view._handle_show_hide_container)}else{rdx.utils.slide_up_down(c,true,new rdx.callback(function(d){if(rdx.utils.is_defined(d)){d.addClass("rdx_header_info_container")}},[a]),400);c.removeClass("rdx_header_dropdown_collapsed");$(window).unbind(rdx.events.CLICK,b.data.header_view._handle_show_hide_container)}b.stopPropagation()});q.hide()};rdx.header_view.prototype._create_menu_table=function(){this._menu_table.children("tbody").children("tr").remove();var aq=$(this._menu_table[0].tBodies[0].insertRow(-1));var at=$(aq[0].insertCell(-1));var ac=location.pathname;if(rdx.utils.is_array(this._view_definition.applications)&&this._view_definition.applications.length>0){var ae=this._view_definition.applications[0];var aw=$(document.createElement("div"));for(var au=0;au<this._view_definition.applications.length;au++){var an=this._view_definition.applications[au];var N=rdx.i18n.get_string(an.name);this._application_names[N]=an;var R=$.merge([],an.app_links);R=$.merge(R,an.info_links);for(var al=0,O=R.length;al<O;al++){if(R[al].url==ac){ae=an;break}}}this._view_definition.app_links=ae.app_links;this._view_definition.info_links=ae.info_links;var aj=rdx.utils.object_keys(this._application_names);var S=new rdx.form_field({key:"dummy_formfield_key",formatter:{map:aj},mandatory:true,properties:{set_current:true,change_handler_callback:new rdx.callback(this,this._change_application)}});var ab=new rdx.dropdown_menu(aw,S).render();ab.set_data(rdx.i18n.get_string(ae.name));var U=$(document.createElement("table")).addClass("applications_table full_width_table").attr("cellPadding",0).attr("cellSpacing",0);if(!U.html().match(/<tbody>/i)){U.append(document.createElement("tbody"))}var aa=$(U[0].tBodies[0].insertRow(-1));var W=$(aa[0].insertCell(-1)).addClass("applications_menu");var ax=$("<td>").append(aw);this._ns_logo_tr.append(ax);at.append(U);at=W}var T=$(document.createElement("ul")).addClass("left_menu");var ah=$(document.createElement("ul")).addClass("right_menu");if(this._view_definition.app_links){for(var al=0,O=this._view_definition.app_links.length;al<O;al++){var ap=$(document.createElement("li"));var ao=$("<a>").attr("href",this._view_definition.app_links[al].url).html(rdx.i18n.get_string(this._view_definition.app_links[al].title));ap.append(ao);if(rdx.utils.is_not_empty(this._view_definition.app_links[al].url)&&this._view_definition.app_links[al].url.indexOf(ac)>=0){if(rdx.utils.is_defined(this._view_definition.header_change_callback)){this._view_definition.header_change_callback.call_back([this._view_definition.app_links[al].url])}ap.addClass("active")}T.append(ap)}}var ad=false;if(this._view_definition.info_links){for(var al=0,O=this._view_definition.info_links.length;al<O;al++){var ar=$(document.createElement("li"));var Q="_self";if(rdx.utils.is_defined(this._view_definition.info_links[al].target)){Q=this._view_definition.info_links[al].target}var ay=$("<a>").attr("href",this._view_definition.info_links[al].url).attr("target",Q);if(rdx.utils.is_defined(this._view_definition.info_links[al].resource)&&rdx.utils.is_defined(rdx.utils.get_resource(this._view_definition.info_links[al].resource))){var ak=rdx.i18n.get_string(this._view_definition.info_links[al].title);var ag=rdx.utils.get_resource(this._view_definition.info_links[al].resource);var Z=this._view_definition.info_links[al].response_key;ay.html(ak+" (0)");if(rdx.utils.is_defined(this._view_definition.info_links[al].hidden)&&this._view_definition.info_links[al].hidden==true){ay.addClass("hide_info_link");ay.hide()}if(!ay.hasClass("hide_info_link")){if(rdx.utils.is_not_defined(Z)){this._invoke_show_with_count(this,ag,ay,ak,true)}else{this._invoke_show_with_get(this,ag,ay,ak,Z)}}if(rdx.utils.is_defined(this._view_definition.info_links[al].refresh_interval)){var V=this._view_definition.info_links[al].refresh_interval;var P=this;var af=function(){if(rdx.utils.is_not_defined(Z)){P._invoke_show_with_count(P,ag,ay,ak,true)}else{P._invoke_show_with_get(P,ag,ay,ak,Z)}ay.show()}();var am=setInterval(function(){if(!ay.hasClass("hide_info_link")){if(rdx.utils.is_not_defined(Z)){P._invoke_show_with_count(P,ag,ay,ak,true)}else{P._invoke_show_with_get(P,ag,ay,ak,Z)}ay.show()}},V)}}else{var ay=$(document.createElement("a")).attr("href",this._view_definition.info_links[al].url).attr("target",Q).html(rdx.i18n.get_string(this._view_definition.info_links[al].title));ay.html(rdx.i18n.get_string(this._view_definition.info_links[al].title))}ar.append(ay);if(rdx.utils.is_not_empty(this._view_definition.info_links[al].url)&&this._view_definition.info_links[al].url.indexOf(ac)>=0){if(rdx.utils.is_defined(this._view_definition.header_change_callback)){this._view_definition.header_change_callback.call_back([this._view_definition.info_links[al].url])}ar.addClass("active")}ad=true;ah.append(ar);this._info_link_array[ak]=ay}}if(rdx.utils.is_defined(this._system_upgarde_notifier)){var ai=new rdx.notifier(ah);ai.render();ai.add_notification(this._system_upgarde_notifier.system_upgarde_notifier_callback)}if(rdx.utils.is_defined(this._view_definition.settings_link_click_handler_callback)){var av=$("<li>").addClass("header_view_menu_settings_link");var ay=$("<a>").attr("href","#noAnchor").bind(rdx.events.CLICK,{callback:this._view_definition.settings_link_click_handler_callback},function(a){a.data.callback.call_back()});av.append(ay.append($("<span>")));ah.append(av)}at.append(T);at.append(ah)};rdx.header_view.prototype.header_view_show_info_links=function(){for(var b in this._info_link_array){this._info_link_array[b].removeClass("hide_info_link")}};rdx.header_view.prototype.header_view_hide_info_links=function(){for(var b in this._info_link_array){this._info_link_array[b].addClass("hide_info_link")}};rdx.header_view.prototype._handle_link_clicked=function(b){this._prevent_logout=true;window.location.href=b};rdx.header_view.prototype._invoke_show_with_get=function(h,g,m,l,f){rdx.model.get(g,null,new rdx.callback(h._show_with_get,[m,l,f]),null,new rdx.callback(h._show_error,[m,l]))};rdx.header_view.prototype._show_error=function(f,l,h){if(rdx.utils.is_defined(f)&&rdx.utils.is_defined(l)&&rdx.utils.is_defined(h)){var m="";if(rdx.utils.is_defined(f)){m=f}var g=$("<img>").attr("src",rdx.images.HELP_IMG);l.empty();l.append($("<span>").append(h+" (").append(g).append(")"))}};rdx.header_view.prototype._show_with_get=function(g,m,l,n){if(rdx.utils.is_defined(g)&&rdx.utils.is_defined(m)&&rdx.utils.is_defined(l)){var h=rdx.utils.get_formatted_response(g[n]);var o=0;if(rdx.utils.is_defined(h.count)){o=h.count}m.empty();m.html(l+" ("+o+")")}};rdx.header_view.prototype._invoke_show_with_count=function(g,f,e,h){rdx.model.get_count(f,null,new rdx.callback(g._show_with_count,[e,h]),null,new rdx.callback(g._show_error,[e,h]))};rdx.header_view.prototype._show_with_count=function(e,d,f){if(rdx.utils.is_defined(e)&&rdx.utils.is_defined(d)&&rdx.utils.is_defined(f)){d.html("");d.html(f+" ("+e+")")}};rdx.header_view.prototype._change_application=function(m,l,g,h){if(rdx.utils.is_defined(h)){h.call_back([l,g])}else{var f=this._application_names[l];window.location.href=f.app_links[0].url}};rdx.header_view.prototype.get_resource_response_arrived=function(x){if(this._view_definition.view_properties.stand_alone){return}var v=false;x=rdx.utils.get_formatted_response(x);if(rdx.utils.is_defined(x[this._brand_key])){var u=rdx.utils.html_decode(x[this._brand_key]);if(rdx.utils.is_not_empty(x[this._platform_key])){u+=" ("+x[this._platform_key]+")"}this._platform_div.text(u)}if(rdx.utils.is_defined(x[this._host_key])){var B=x[this._host_key];if(rdx.utils.is_defined(B)&&B.length>0){var t=B.split(" ").join("");if(t.indexOf("()")>0){var z=B.substr(0,B.indexOf("("));this._host_item_label.text(rdx.i18n.get_string("rdx.header_ip_address_only"));this._host_name.text(z).ellipsis(this._MAX_NO_OF_CHARS_IN_WELCOME_TEXT)}else{if(B.indexOf("(")>0){this._host_item_label.text(rdx.i18n.get_string("rdx.header_ip_address"));this._host_name.text(B).ellipsis(this._MAX_NO_OF_CHARS_IN_WELCOME_TEXT)}else{var s=rdx.i18n.get_string("rdx.header_host_name_only");if(rdx.utils.is_ipv4(B)||rdx.utils.is_ipv6(B)){s=rdx.i18n.get_string("rdx.header_ip_address_only")}this._host_item_label.text(s);this._host_name.text(B).ellipsis(this._MAX_NO_OF_CHARS_IN_WELCOME_TEXT)}}}}if(x[this._ip_address_key]){var y=x[this._ip_address_key];ip_address_label=rdx.i18n.get_string("rdx.header_ip_address_only");this._ip_address_item_label.text(ip_address_label);this._ip_address_name.text(y).ellipsis(this._MAX_NO_OF_CHARS_IN_WELCOME_TEXT)}if(rdx.utils.is_defined(this._version_key)&&rdx.utils.is_not_empty(x[this._version_key])){this._build_version_key.html(x[this._version_key])}if(rdx.utils.is_defined(x[this._build_key])){var w=x[this._build_key];var p=w.split(",");if(rdx.utils.is_defined(p[1])){var q=p[0].concat(", "+p[1])}else{var q=p[0]}if(this._build_info_renderer!=null){w=this._build_info_renderer.call_back([w])}this._build_version.html(w)}if(this._server_time_renderer!=null&&rdx.utils.is_defined(x.current_time_formatted)){var A=[];A.push(x.time_zone_offset);A.push(x.current_time);A.push(x.time_zone);this._server_time_renderer.call_back([A,this._time_div])}if(rdx.utils.is_defined(x[this._user_name_key])){this._user_name_value.text(x[this._user_name_key]).ellipsis(this._MAX_NO_OF_CHARS_IN_WELCOME_TEXT)}if(rdx.utils.is_defined(this._view_definition.application_defn)&&rdx.utils.is_defined(x[this._application_key])){this._view_definition.applications=this._view_definition.application_defn[x[this._application_key]];v=true}if(rdx.utils.is_defined(this._status_key)){if(rdx.utils.is_not_defined(x[this._status_key.response_key])){this._status_container_ul.empty()}else{this._status_container_ul.bind("render_status",{header_view:this,response:x},function(b){var e=b.data.header_view;var a=e._status_key.status_callback;var c=x[e._status_key.response_key];var d=e._status_container_ul;b.data.header_view._change_application(b,c,d,a)});this._status_container_ul.trigger("render_status")}}if(rdx.utils.is_defined(this._global_options_key)){this._system_drop_down={options:[],selected_option:""};if(rdx.utils.is_defined(x[this._global_options_key])){this._system_drop_down={options:x[this._global_options_key]};if(rdx.utils.is_defined(this._global_options_default_value_key)&&rdx.utils.is_defined(x[this._global_options_default_value_key])){this._system_drop_down.selected_option=x[this._global_options_default_value_key]}}this._create_global_options()}if((this._view_definition.info_links||this._view_definition.app_links)&&v){this._create_menu_table()}};rdx.header_view.prototype._resize=function(){if(rdx.utils.is_not_defined(this._menu_table)){return}var e=rdx.page.get_maximum_page_width();var h=rdx.page.get_minimum_page_width();var f=$(window).width();this._menu_div_container.css("width","100%");var g=rdx.page.get_content().width()+20;this._menu_table.width(g);this._info_table.width(g)};rdx.header_view.prototype.hide_navigation=function(){this._menu_div_container.addClass("hide")};rdx.header_view.prototype.show_navigation=function(){this._menu_div_container.removeClass("hide")};rdx.cloudnet_header_view=function(h,e,g,f){this._parent=h;this._view_definition=e;this._resource=g;this._base_view=f;this._MAX_NO_OF_CHARS_IN_WELCOME_TEXT=50;this._logout_url=null;this._brand_key=null;this._platform_key=null;this._platform_div=null;this._host_key=null;this._host_name=null;this._build_key=null;this._build_version=null;this._user_name_key=null;this._user_name_value=null;this._application_key=null;this._application_names=new Object();this._menu_table=null;this._info_table=null;this._ns_logo_tr=null;this._on_mouse_hover=false;this._build_info_renderer=null;this._build_version_dropdown_label=null;this._host_item_label=null;this._info_link_array={};this._prototyped_marker='<div class= "prototyped"></div>'};rdx.cloudnet_header_view.prototype.make_view=function(){this._base_view.remove_decorator();var m=this._view_definition.view_properties.stand_alone;if(!m){this._brand_key=this._view_definition.view_properties.brand_key;this._build_key=this._view_definition.view_properties.build_key;this._user_name_key=this._view_definition.view_properties.user_name_key;this._host_key=this._view_definition.view_properties.host_key;this._logout_url=this._view_definition.view_properties.logout_url;this._platform_key=this._view_definition.view_properties.platform_key;this._application_key=this._view_definition.view_properties.application_key;this._build_info_renderer=this._view_definition.view_properties.build_info_renderer}this._parent.addClass("cloudnet_header_view");var l=$("<div>").addClass("ns_header header clearfix");var n=$("<div>").addClass("branding two-column float-left");this._logo_type=$("<div>").addClass("logo").append("Cloud");this._logo_company=$("<div>").addClass("logo-citrix").append("Citrix");this._logo_product=$("<div>").addClass("logo-legatus");n.append(this._logo_type);n.append(this._logo_company);n.append(this._logo_product);n.bind(rdx.events.CLICK,function(a){var b=rdx.utils.is_defined(rdx.COMPANY_LOGO_LINK)?rdx.COMPANY_LOGO_LINK:rdx.BRAND_LOGO_LINK;window.open(b);a.stopPropagation()});this._version_div=$("<span>");this._main_version_div=$("<div>").addClass("version_info").append($("<span>").addClass("version_info_container").append(rdx.i18n.get_string("rdx.header_build_version")).append(" : "));this._main_version_div.append(this._version_div);var o=$("<div>").addClass("secondary-section two-column float-right");this._services_arrow=$("<span>").addClass("arrow");this._services_div=$("<div>").addClass("services").append("Services ").append(this._services_arrow);this._user_div=$("<div>").addClass("user");this._icon_span=$("<span>").addClass("icon");this._icon_user_name=$("<span>").append("");this._user_arrow_span=$("<span>").addClass("arrow");this._user_dropdown_list=$("<div>").addClass("dropdownlist");this._profile_link=$("<a>").append("Profile").addClass("disable_link");this._user_profile=$("<div>").append(this._profile_link);this._settings_link=$("<a>").append("Account Settings").addClass("disable_link");this._user_settings=$("<div>").append(this._settings_link);this._logout_link=$("<a>").append("Logout").addClass("pointer-link");this._user_logout=$("<div>").append(this._logout_link);this._user_dropdown_list.append(this._user_logout);this._notification_div=$("<div>").addClass("notification");this._user_div.append(this._icon_span);this._user_div.append(this._icon_user_name);this._user_div.append(this._user_arrow_span);this._user_div.append(this._user_dropdown_list);if(rdx.utils.is_defined(this._build_info_renderer)){o.append(this._main_version_div)}o.append(this._services_div);o.append(this._user_div);o.append(this._notification_div);var p=this._view_definition.view_properties.notification_bar_properties;var q=new rdx.page_notification_bar(this._notification_div,p).render();l.append(n);l.append(o);this._parent.append(l);if($(".dropdown-overlay").length<1){this._dropdown_overlay=$("<div>").addClass("dropdown-overlay");this._dropdown_overlay.hide();$("body").prepend(this._dropdown_overlay)}else{this._dropdown_overlay=$(".dropdown-overlay")}var h=this;this._user_div.bind(rdx.events.CLICK,function(a){if(h._user_dropdown_list.is(":hidden")){h._user_dropdown_list.show();h._user_div.addClass("selected");h._dropdown_overlay.show()}else{h._user_dropdown_list.hide();h._user_div.removeClass("selected");h._dropdown_overlay.hide()}});this._logout_link.bind(rdx.events.CLICK,function(a){rdx.utils.do_logout(false)});this._services_div.bind(rdx.events.CLICK,{that:this},function(d){var a=d.data.that;if($(".service-dropdown").length==0){}if($(this).hasClass("selected")){$(".service-dropdown").slideUp(200,function(){});$(this).removeClass("selected");$("body").removeAttr("style");$(".prototyped").hide();a._options_view.destroy_view();a._mask_pane.remove();a._options_pane.remove()}else{$(".service-dropdown").slideDown(200,{that:a},function(){$(this).css("overflow","auto")});var b=$("<div>").addClass("mask slider_mask");b.css("position","absolute").css("top",rdx.page.get_header_height());var c=$("<div>").addClass("rdx_options_div");a._options_pane=c;b.bind(rdx.events.CLICK,{that:a},function(){a._services_div.trigger(rdx.events.CLICK)});c.css("height",$(window).height()-rdx.page.get_header_height()).css("top",rdx.page.get_header_height()-2);a._options_view=new rdx.base_view(c,rdx.utils.get_view(a._view_definition.view_properties.options_view_name));a._options_view.prepare_view();a._mask_pane=b;$("body").append(c);$("body").append(b);$(this).addClass("selected");$("body").css("overflow","hidden")}c.hide();c.slideDown(600)});this._dropdown_overlay.bind(rdx.events.CLICK,function(a){h._dropdown_overlay.hide();h._user_dropdown_list.hide();h._user_div.removeClass("selected")})};rdx.cloudnet_header_view.prototype.get_resource_response_arrived=function(d){var e=rdx.utils.get_formatted_response(d);var f="";if(rdx.utils.is_defined(e)){f=e.username;this._icon_user_name.empty();this._icon_user_name.append(f);this._logo_product.empty().append(e[this._brand_key]);if(rdx.utils.is_defined(this._build_info_renderer)){this._version_div.append(this._build_info_renderer.call_back([e]))}}};rdx.cloudnet_header_view.prototype.hide_details=function(){this._services_div.hide();this._notification_div.hide()};rdx.cloudnet_header_view.prototype.show_details=function(){this._services_div.show();this._notification_div.show()};rdx.info_view=function(h,e,g,f){this._parent=h;this._view_definition=e;this._resource=g;this._base_view=f;this._form_parent=null;this._form=null;this._info_controller=new rdx.info_controller(this,this._parent);this._action_properties=null;this._toolbar_items=null;this._is_tool_bar_required=(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.title)&&rdx.utils.is_not_defined(this._view_definition.view_properties._dont_show_title));this._is_action_bar_required=rdx.utils.is_defined(this._view_definition.resource_operations);this._display_title=(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.display_title)&&this._view_definition.view_properties.display_title==true);if(this._display_title==true&&rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.title)){this._title_div=$("<div>").addClass("info_view_title_panel");this._title_span=$("<span>");this._title_div.append(this._title_span)}this._form_parent=$("<div>")};rdx.info_view.prototype=new rdx.abstract_view();rdx.info_view.prototype.make_view=function(){this._parent.append(this._form_parent);var f=this._base_view.get_view_context().get_data();var d=$.extend({},this._view_definition.view_properties);var e="";if((rdx.utils.is_defined(d.two_row_layout_for_fields))&&(d.two_row_layout_for_fields==true)){e="form form_cell_decoration info_view two_row_layout_info_view"}else{if((rdx.utils.is_defined(d.two_row_layout_info_summary))&&(d.two_row_layout_info_summary==true)){e="form form_cell_decoration info_view two_row_layout_info_summary";d.two_row_layout_for_fields=true}else{e="form form_cell_decoration info_view"}}if(rdx.utils.is_defined(d.layout)){if(d.layout==rdx.SUMMARY){e="op_wizard_summary_page_form_panel"}}d.read_only=true;d.class_names=e+" "+d.class_names;d.add_border=false;if(rdx.utils.is_not_defined(d.two_row_layout_for_fields)){d.two_row_layout_for_fields=false}this._form=new rdx.form(this._form_parent,this._view_definition.resource_properties,this._resource.properties,d);this._form.set_resource(this._resource);if(rdx.utils.is_defined(f)&&rdx.utils.is_object_not_empty(f)){this._form.set_form_data(rdx.utils.get_formatted_response(f))}if(this.is_action_bar_required()&&this.is_link_bar()==false){this._form_parent.addClass("table_form_parent_div").addClass("smooth_all_corner")}this._form.render()};rdx.info_view.prototype.add_mask=function(){if(rdx.utils.is_defined(this._view_definition.view_properties.add_mask)){return this._view_definition.view_properties.add_mask}return true};rdx.info_view.prototype.is_tool_bar_required=function(){return false};rdx.info_view.prototype.is_action_bar_required=function(){return this._is_action_bar_required};rdx.info_view.prototype.is_link_bar=function(){var b=this._base_view.get_action_bar_properties(this.get_action_items());return b.link_bar};rdx.info_view.prototype.register_event_handlers=function(){rdx.model.add_model_change_listener(this._resource,new rdx.callback(this._base_view,this._base_view.refresh_view))};rdx.info_view.prototype.destroy_view=function(){rdx.model.remove_model_change_listener(this._resource)};rdx.info_view.prototype.get_view_context=function(){return this.get_base_view().get_view_context()};rdx.info_view.prototype._add_tool_bar=function(){var d=rdx.i18n.get_string(this._resource.obj_type);var f=rdx.i18n.get_string("rdx.refresh_tooltip",{obj_type:d});var e=[new rdx.action({tooltip:f,image_url:rdx.images.REFRESH_IMG,click_handler_callback:new rdx.callback(this._base_view,this._base_view.refresh_view)})];this._toolbar_items=e};rdx.info_view.prototype._add_action_bar=function(h){if(rdx.utils.is_not_defined(h)){return}var n=rdx.i18n.get_string(this._resource.obj_type);var m=[];for(var g in h){var l=h[g];switch(g){case"remove":var o={label:"rdx.button_delete",tooltip:rdx.i18n.get_string("rdx.button_delete_tooltip",{obj_type:n}),action:"remove",single_selection:true,multiple_selection:true,prompt:"rdx.table_data_action_confirm_single",expression_mode:"ALL"};this._add_button(o,l,m,this._info_controller._do_remove,g);break;case"custom_operations":this._add_custom_operations(m,n,h);break;default:this._add_custom_button(l,m,n,g);break}}this._action_properties=m};rdx.info_view.prototype._add_custom_operations=function(l,m,g){if(rdx.utils.is_not_defined(g.custom_operations)){return}for(var f in g.custom_operations){var h=g.custom_operations[f];this._add_custom_button(h,l,m,f)}};rdx.info_view.prototype._add_custom_button=function(h,l,m,f){var g={label:"Do Custom Operation",tooltip:"Do Custom Operation on "+m,action_type:rdx.EXTRA_ACTION};this._add_button(g,h,l,this._info_controller._do_generic_custom_operation,f)};rdx.info_view.prototype._view_handler=function(o,l,g,m){m=rdx.utils.is_not_defined(m)?{}:m;var h=new rdx.base_view(l,rdx.utils.get_view(g));var n=h.get_view_context();n.set_url_params(m,{});h.prepare_view()};rdx.info_view.prototype._add_button=function(t,l,q,o,s){var m=$.extend({},t,l);if(rdx.utils.is_defined(m)){m.prompt_data_callback=new rdx.callback(this,this._get_prompt_data)}if(l.view){var n=new rdx.callback(this._view_handler,[this._base_view.get_parent(),l.view,l.view_context]);m.click_handler_callback=n}else{if(l.click_handler_callback){m.click_handler_callback=new rdx.callback(this._info_controller,this._info_controller._do_custom_operation,[l.click_handler_callback])}else{m.click_handler_callback=new rdx.callback(this._info_controller,o,[])}}var p=new rdx.action(m);q.push(p)};rdx.info_view.prototype._get_prompt_data=function(d){var c=rdx.i18n.get_string(this._resource.obj_type);return{action:rdx.i18n.get_string(d.label.toLowerCase()).toLowerCase(),obj_type:c}};rdx.info_view.prototype.get_action_items=function(){if(rdx.utils.is_defined(this._action_properties)){return this._action_properties}this._add_action_bar(this._view_definition.resource_operations);return this._action_properties};rdx.info_view.prototype.get_resource_response_arrived=function(e){var g=rdx.utils.is_array(e)?e[0]:e;if(this._display_title==true&&rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.title)){var h=rdx.i18n.get_string(this._view_definition.view_properties.title,g);if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.title_renderer_callback)){var f=this._view_definition.view_properties.title_renderer_callback.call_back([h,g]);if(rdx.page.is_slider_visible()){rdx.page.update_slider_title(f);rdx.page.get_slider_crumb().update_current_crumb_title(f)}else{this._form_parent.prepend(this._title_div);this._title_span.append(f)}}else{if(rdx.page.is_slider_visible()){rdx.page.update_slider_title(h);rdx.page.get_slider_crumb().update_current_crumb_title(h)}else{this._form_parent.prepend(this._title_div);this._title_span.append(h)}}}this._form.initialize(rdx.utils.is_array(e)?e[0]:e);this._form.get_form_holder().set_form_data(e)};rdx.info_view.prototype.get_form=function(){return this._form};rdx.info_view.prototype.get_base_view=function(){return this._base_view};rdx.info_view.prototype.close_view=function(b){this._base_view.destroy_view({submit_called:(rdx.utils.is_defined(b)&&b)},false)};rdx.info_view.prototype.get_button_bar=function(){this._ribbon_div=$("<span>").addClass("info_ribon_span");this._title_div.append(this._ribbon_div);this._form_parent.addClass("info_form_parent");return this._ribbon_div};rdx.info_view.prototype.is_title_required=function(){return true};rdx.info_controller=function(c,d){this._info_view=c;this._parent=d};rdx.info_controller.prototype._do_generic_custom_operation=function(d,c){this._perform_operation(rdx.model.post,d)};rdx.info_controller.prototype._perform_operation=function(n,s,o,t){var p=(s.action)?s.action:s.label.toLowerCase();var q=rdx.utils.get_formatted_response(this._info_view.get_form().get_form_holder().get_form_data());var l={action_properties:s,resource_defn:this._info_view._resource,activity:o,status:t,refresh_action:s.refresh_action};var m=this._info_view.get_base_view();n.apply(rdx.model,[this._info_view._resource,new rdx.callback(),this._get_resource_for_operation(q),null,p,l,this._parent])};rdx.info_controller.prototype._get_resource_for_operation=function(h){var l={};var g=rdx.utils.is_defined(this._info_view._resource.primary_keys)?this._info_view._resource.primary_keys:[];for(var m=0,f=g.length;m<f;m++){l[g[m]]=h[g[m]]}return l};rdx.info_controller.prototype._do_custom_operation=function(e,f){var d=this._info_view.get_form().get_form_holder().get_form_data();f.call_back([new rdx.callback_params({resource_data:d,info_view:this._info_view})])};rdx.info_controller.prototype._do_remove=function(d){var c=rdx.utils.get_formatted_response(this._info_view.get_form().get_form_holder().get_form_data());rdx.model.remove(this._info_view._resource,new rdx.callback(rdx.global_title_bar.crumb,rdx.global_title_bar.crumb.go_back_to_previous_crumb),this._get_resource_for_operation(c),null,null,null,this._parent)};rdx.form_controller=function(f,m,l,h,g){this._parent=m;this._base_view=f;this._resume_from_point_of_failure=rdx.utils.is_not_defined(l)?false:l;this._success_callback=rdx.utils.is_defined(h)?h:new rdx.callback();this._failure_callback=rdx.utils.is_defined(g)?g:new rdx.callback();this._model_executor_service=null;this._mask_id=rdx.mask.get_id()};rdx.form_controller.prototype.get_resource_for_operation=function(b){b=(rdx.utils.is_defined(b))?b:false;this._view=this._base_view.get_view();this._form=this._view.get_form();if(rdx.utils.is_defined(this._base_view.get_view_context())&&rdx.utils.is_defined(this._base_view.get_view_context().get_app_context_data())){this._form.set_app_context_data(this._base_view.get_view_context().get_app_context_data())}this._resource=this._base_view.get_resource();return rdx.form_utils.get_resource_for_operation(this._form,this._resource,null,b)};rdx.form_controller.prototype._start_operation=function(h,l,g,m){var f=new rdx.file_upload_controller(new rdx.callback(this,this._start_model_operation,[h,l,g,m]),this._view);f.add_form(this._view.get_form());f.do_operation()};rdx.form_controller.prototype._start_model_operation=function(g,h,f,e){this._do_operation(g,h,f,e)};rdx.form_controller.prototype._process_inner_views_data=function(l){var g=l.get_resource_for_operation();var m=[];for(var f in g){if(rdx.utils.is_not_defined(g[f])){continue}if(!(g[f] instanceof rdx.view_component_adapter_data)){continue}var h=g[f];delete g[f];h.process_inner_view_data(l,m,f)}return m};rdx.form_controller.prototype._get_operation_param=function(n,o,t,q,l,s,m){var p={resource_defn:l,resource_for_operation:s,callback_on_success:n,callback_on_failure:o,model_method:t,action:q,resource_context:{view_definition:this._view._view_definition,view:this._view},return_call_back:new rdx.callback(this,this._resume_callback_after_operation,[null,true,true]),app_context_data:this._base_view.get_view_context().get_app_context_data(),show_field_error_callback:new rdx.callback(this,this._show_field_error),form_data:m,activate_view_state:new rdx.callback(this,this._activate_view_state),unmask_view:(rdx.utils.is_defined(this._view._view_definition.view_properties)&&this._view._view_definition.view_properties.standalone_mode==true)?new rdx.callback(this,this._unmask):null,mask_view:(rdx.utils.is_defined(this._view._view_definition.view_properties)&&this._view._view_definition.view_properties.standalone_mode==true)?new rdx.callback(this,this._mask):null};return new rdx.configure_view_operation_params(p)};rdx.form_controller.prototype._show_field_error=function(b){this._base_view.set_view_state(rdx.view_constants.view_state.ACTIVE);this._form.show_field_errors(b)};rdx.form_controller.prototype._unmask=function(){rdx.mask.unmask_component(this._parent,this._mask_id)};rdx.form_controller.prototype._mask=function(){rdx.mask.mask_component(this._parent,this._mask_id)};rdx.form_controller.prototype._activate_view_state=function(){this._base_view.set_view_state(rdx.view_constants.view_state.ACTIVE)};rdx.form_controller.prototype._do_operation=function(V,R,D,I){var Q=new Array();var E=this._resource;var H=this.get_resource_for_operation(true);var J=H.result;var N=H.complete_form_data;if(rdx.utils.is_defined(J.multiple_resource)){var L=J.result;for(var W in L){var M=rdx.utils.get_resource(W);var C=this._get_operation_param(V,R,D,I,M,L[W],N);var G=this._process_inner_views_data(C);Q.push(C);Q=Q.concat(G)}}else{var T=this._view.get_form().get_embedded_views();for(var S=0;S<T.length;S++){var O=T[S];if(rdx.utils.is_not_defined(O)||O.get_component_type()!=rdx.form_constants.CARD){continue}if(O.get_current_card_component().get_component_type()!=rdx.form_constants.VIEW){continue}var P="Card_Component_inner_view"+S;var B=O.get_current_card_component().get_data();J[P]=B}var C=this._get_operation_param(V,R,D,I,E,J,N);var G=this._process_inner_views_data(C);Q.push(C);Q=Q.concat(G)}if(rdx.utils.is_defined(this._view._view_definition.view_properties)&&rdx.utils.is_defined(this._view._view_definition.view_properties.callback_before_operation)){Q=this._view._view_definition.view_properties.callback_before_operation.call_back([Q]);if(Q===false){this._base_view.set_view_state(rdx.view_constants.view_state.ACTIVE);return}}if(rdx.utils.is_defined(this._view._view_definition.view_properties)&&this._view._view_definition.view_properties.standalone_mode){return}this._resume_from_point_of_failure=rdx.utils.is_defined(this._view._view_definition.view_properties)&&rdx.utils.is_defined(this._view._view_definition.view_properties.resume_from_point_of_failure)?this._view._view_definition.view_properties.resume_from_point_of_failure:this._resume_from_point_of_failure;if(this._resume_from_point_of_failure==false||rdx.utils.is_not_defined(this._model_executor_service)){var K=null;if(rdx.utils.is_defined(this._base_view.get_view_definition().view_properties.continue_on_error)){K=this._base_view.get_view_definition().view_properties.continue_on_error}var F=null;if(rdx.utils.is_defined(this._view._view_definition.view_properties.progress_bar)){F=this._view._view_definition.view_properties.progress_bar}this._model_executor_service=new rdx.model_executor_service(V,R,K,F);this.create_executor_service_objects(this._model_executor_service,Q,0)}else{var U=this._model_executor_service.pending_requests_count();this._model_executor_service.reset_queue();var Z=(Q.length>0)?Q.length-U:0;this.create_executor_service_objects(this._model_executor_service,Q,Z)}this._model_executor_service.execute()};rdx.form_controller.prototype.create_executor_service_objects=function(n,p,q,l){if(rdx.utils.is_not_defined(p)){return}for(var o=q;o<p.length;o++){var m=p[o];if(rdx.utils.is_defined(m.get_resource_context())){var h=m.get_resource_context();if(rdx.utils.is_defined(h.view_definition)&&rdx.utils.is_defined(h.view_definition.view_properties)&&rdx.utils.is_defined(h.view_definition.view_properties.submit_operation)){h.timeout=h.view_definition.view_properties.submit_operation.refresh_delay}}if(m.get_model_method()!=rdx.model_constants.REMOVE&&(rdx.utils.is_not_defined(l)&&rdx.utils.is_object_empty(m.get_resource_for_operation()))&&rdx.utils.is_empty(m.get_action())){continue}n.add(m.get_model_method(),m.get_resource_defn(),m.get_resource_for_operation(),m.get_action(),m.get_param(),this._parent,m.get_resource_context(),m.get_continue_on_error())}};rdx.form_controller.prototype.submit_standalone_view_data=function(m,l,h,g){if(rdx.utils.is_defined(this._base_view.get_view_definition().view_properties.callback_before_operation)){l=this._base_view.get_view_definition().view_properties.callback_before_operation.call_back([m,l])}if(l===false){this._base_view.set_view_state(rdx.view_constants.view_state.ACTIVE);return}var f=new rdx.model_executor_service(h,g);if(rdx.utils.is_object_not_empty(m.get_resource_for_operation())){this.create_executor_service_objects(f,[m],0,true)}this.create_executor_service_objects(f,l,0,true);f.execute()};rdx.form_controller.prototype.do_model_operation=function(q){var n=false;if(rdx.utils.is_defined(this._base_view._view_definition.view_properties)&&this._base_view._view_definition.view_properties.standalone_mode){n=true}if(!rdx.view_utils.is_view_active(this._base_view)&&n==false){return}this._mask();this._base_view.set_view_state(rdx.view_constants.view_state.PASSIVE);this._view=this._base_view.get_view();this._form=this._view.get_form();this._resource=this._base_view.get_resource();var h=rdx.view_utils.get_model_method(this._view._view_definition);var p=rdx.view_utils.get_action(this._view._view_definition);var o=true;if(rdx.utils.is_defined(this._view._view_definition.view_properties.destroy_on_success)){o=this._view._view_definition.view_properties.destroy_on_success}if(rdx.utils.is_defined(q)&&q==false){o=false}var m=new rdx.callback(this,this.model_operation_callback,[true,o]);var l=new rdx.callback(this,this.model_operation_callback,[false,false]);this._start_operation(m,l,h,p)};rdx.form_controller.prototype.model_operation_callback=function(e,h,f){this._base_view.set_view_state(rdx.view_constants.view_state.ACTIVE);this._unmask();if(rdx.utils.is_defined(this._base_view.get_view_definition().view_properties.callback_after_operation)){var g=new rdx.configure_view_operation_params({return_call_back:new rdx.callback(this,this._resume_callback_after_operation,[e,h,f])});this._base_view.get_view_definition().view_properties.callback_after_operation.call_back([{status:h,params:g,result:e}])}else{this._finish_model_operation(e,h,f)}};rdx.form_controller.prototype._resume_callback_after_operation=function(g,e,h,f){this._finish_model_operation(e,h,f)};rdx.form_controller.prototype._finish_model_operation=function(d,f,e){if(f){this._success_callback.call_back([d])}else{this._failure_callback.call_back([d])}if(e&&rdx.utils.is_function(this._view.close_view)){this._view.close_view(f)}if(f){this._view._base_view.show_notification_bar(this._view.get_data())}if(!f&&rdx.utils.is_defined(this._view._view_definition.view_properties.notification_status)){rdx.page.hide_notification_bar()}};rdx.form_controller.prototype.set_callback=function(c,d){this._success_callback=rdx.utils.is_defined(c)?c:new rdx.callback();this._failure_callback=rdx.utils.is_defined(d)?d:new rdx.callback()};rdx.list_view_action_callback_params=function(b){this._DEFAULT_PROPERTIES={selected_rows_data:null,selected_rows_primary_keys:null,resource_context:null,list_view:null,all_rows_data:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b)};rdx.list_view_action_callback_params.prototype.get_selected_rows_data=function(){return this._properties.selected_rows_data};rdx.list_view_action_callback_params.prototype.get_all_rows_data=function(){return this._properties.all_rows_data};rdx.list_view_action_callback_params.prototype.get_selected_rows_primary_keys=function(){return this._properties.selected_rows_primary_keys};rdx.list_view_action_callback_params.prototype.get_resource_context=function(){return this._properties.resource_context};rdx.list_view_action_callback_params.prototype.is_response_callback_defined=function(){return rdx.utils.is_defined(this._properties.list_view._view_definition.response_callback)};rdx.list_view=function(h,e,g,f){this._parent=h;this._view_definition=e;this._resource=g;this._base_view=f;this._table_parent=null;this._component=null;this._list_controller=new rdx.list_controller(this,this._parent);this._pagination_table_parent=null;this._pagination=null;this._action_items=null;this._action_menu_items=null;this._toolbar_items=null;this._is_done_clicked=false;this._DEFAULT_PROPERTIES={details:false,pagination:false,search:false,standalone_search:false,append_data_to_first:true,layout:rdx.view_constants.GRID_LAYOUT,no_rows_show_table:true,show_context_menu_on_click:true};this._properties=$.extend({},this._DEFAULT_PROPERTIES,e.view_properties);this._details_view_rendered=false;this._update_count_from_search_filter=false;if(this._properties.pagination==true&&this._properties.search==true){this._properties.search=true}else{this._properties.search=false}if(rdx.utils.is_defined(this._view_definition.resource_operations)){this._properties.show_select_component=(e.view_properties.show_select_component)?(e.view_properties.show_select_component):rdx.form_constants.CHECK_BOX;this._properties.add_show_component_column=true;if(rdx.utils.is_defined(e.view_properties.add_show_component_column)){this._properties.add_show_component_column=e.view_properties.add_show_component_column}if(this._properties.show_select_component=="none"){this._properties.show_select_component=null}}this._table_mask_id=rdx.utils.generate_unique_id("list_view");this._row_click_handler_callback=null;this._row_remove_click_handler_callback=null};rdx.list_view.prototype=new rdx.abstract_view();rdx.list_view.prototype.make_view=function(){this._current_number_of_columns=0;this._initialize_all_columns();if(this._is_done_clicked==true){if(rdx.utils.is_not_defined(this._settings)){this._settings={};this._settings.columns=[]}this._settings.columns=this._visible_columns}if(rdx.utils.is_defined(this._settings)&&rdx.utils.is_defined(this._settings.columns)){this._initialize_visible_columns_from_settings()}else{this._visible_columns=this._all_columns}var b=rdx.utils.get_object_length(this._all_columns);if(b<=rdx.view_constants.MINIMUM_COLUMNS_FOR_TABLE_CUSTOMIZATION){this._base_view._show_settings=false}this._inline_view_parent=$("<div>").addClass("list_view_inline_view");this._parent.append(this._inline_view_parent);this._table_parent=$(document.createElement("div")).addClass("table_form_parent_div");this._parent.append(this._table_parent);this._add_table();if(!this.is_action_bar_required()){this._table_parent.addClass("add_table_bottom_border");if(!this._properties.search){this._parent.addClass("remove_div_top_border");if(this._base_view._show_settings==false){this._parent.addClass("hide_header")}}}this._add_pagination();this._add_search_filter();if(rdx.utils.is_defined(this._parent)){rdx.utils.set_focus_on_first_clickable_component(this._parent.get(0))}};rdx.list_view.prototype.get_tool_bar=function(){return this._base_view.get_toolbar()};rdx.list_view.prototype.get_base_view=function(){return this._base_view};rdx.list_view.prototype.is_tool_bar_required=function(){var b=rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.is_tool_bar_required)?this._view_definition.view_properties.is_tool_bar_required:null;if(rdx.utils.is_defined(this._base_view.get_crumb_handler())||(rdx.utils.is_defined(b)&&b==false)){return false}return true};rdx.list_view.prototype.force_get_all=function(){return true};rdx.list_view.prototype.is_action_bar_required=function(){return rdx.utils.is_defined(this._view_definition.resource_operations)};rdx.list_view.prototype._add_tool_bar=function(){var f=rdx.i18n.get_string(this._resource.obj_type);var l=rdx.i18n.get_string("rdx.refresh_tooltip",{obj_type:f});var g=[];if(rdx.utils.is_defined(this._view_definition)&&rdx.utils.is_defined(this._view_definition.view_properties)&&(rdx.utils.is_not_defined(this._view_definition.view_properties.hide_refresh_button)||this._view_definition.view_properties.hide_refresh_button==false)){g.push(new rdx.action({tooltip:l,image_url:rdx.images.REFRESH_IMG,click_handler_callback:new rdx.callback(this,this._do_refresh)}))}else{g=[]}if(rdx.utils.is_defined(this._view_definition.view_properties.custom_toolbar_actions)){for(var m in this._view_definition.view_properties.custom_toolbar_actions){var h=this._view_definition.view_properties.custom_toolbar_actions[m];g.push(new rdx.action(h))}}this._toolbar_items=g};rdx.list_view.prototype.get_toolbar_items=function(){if(rdx.utils.is_defined(this._toolbar_items)){return this._toolbar_items}this._add_tool_bar();return this._toolbar_items};rdx.list_view.prototype._add_search_filter=function(){if(!this._properties.pagination||!this._properties.search){return}var m=[];for(var n in this._view_definition.resource_properties){var o=this._resource.properties[n];var h=$.extend({},this._view_definition.resource_properties[n]);if(rdx.utils.is_defined(o)){h.key=o.key;if(rdx.utils.is_not_defined(h.label)){h.label=o.label}if(o.type){h.type=o.type}}if(rdx.utils.is_defined(h.hidden)&&h.hidden==true){if(rdx.utils.is_not_defined(h.search)||h.search==false){continue}}if(rdx.utils.is_defined(h.search)&&h.search==false){continue}var g=h.label;if(rdx.utils.is_defined(h.search_label)&&rdx.utils.is_not_empty(h.search_label)){g=h.search_label}m.push({key:h.key,label:g,type:h.type})}if(m.length>0){var l=this._base_view.get_top_right_container();if(rdx.utils.is_not_defined(l)){return}this._search_element=$("<span>").addClass("search_filter_action").append($("<span>").append(rdx.i18n.get_string("rdx.search")));if(this._base_view.no_left_and_right_buttons()){this._search_element.addClass("small_search_filter_action")}this._search_element.bind(rdx.events.CLICK,{pagination:this._pagination,list_view:this},function(a){var b=$(this).hasClass("search_filter_active");if(!b){$(this).addClass("search_filter_active")}else{$(this).removeClass("search_filter_active")}a.data.list_view._search_action(b);a.preventDefault()});l.append(this._search_element);this._search=new rdx.search(this._table_parent,{search_dropdown_map:m,pre_searched_object:this._get_searched_object(),do_append:false,standalone_search:this._properties.standalone_search,search_filter_action:this._search_element});this._search.render();this._search.add_search_listner(new rdx.callback(this,this._search_filter_action))}};rdx.list_view.prototype._toggle_search=function(){var b=$(this._search_element).hasClass("search_filter_active");if(!b){$(this._search_element).addClass("search_filter_active")}else{$(this._search_element).removeClass("search_filter_active")}this._search_action(b)};rdx.list_view.prototype._get_searched_object=function(){var w=null;var z=this.get_view_context();if(rdx.utils.is_defined(z)){var o=z.get_url_params();if(rdx.utils.is_defined(o)){var x=o.filter;if(rdx.utils.is_defined(x)&&x.length){if(rdx.utils.is_defined(this._view_definition)&&rdx.utils.is_defined(this._view_definition.view_properties)&&(rdx.utils.is_defined(this._view_definition.view_properties.search))&&(this._view_definition.view_properties.search)){var v=this._view_definition.resource_properties;if(rdx.utils.is_defined(v)){for(var u=0,s=x.length;u<s;u++){var y=x[u]["name"];var p=x[u]["value"];if(rdx.utils.is_defined(y)&&rdx.utils.is_defined(v[y])){var q=v[y];var t=q.search;if(rdx.utils.is_not_defined(t)||t==true){if(rdx.utils.is_not_defined(w)){w=new Array()}w.push({key:y,value:p})}}}}}}}}return w};rdx.list_view.prototype._add_pagination=function(){if(!this._properties.pagination){return}this._pagination_table_parent=$("<div>").addClass("pagination_div");this._parent.append(this._pagination_table_parent);this._pagination=new rdx.pagination(this._pagination_table_parent,this._properties.search).render();if(this._base_view.load_all==true){this.get_view_context().set_url_params({custom:{pageno:this._pagination.get_page_number(),pagesize:this._pagination.get_page_size()}})}};rdx.list_view.prototype.get_pagination=function(){return this._pagination};rdx.list_view.prototype.reset_view_before_refresh=function(){if(!this._properties.pagination){return}this.get_view_context().set_url_params({custom:{pageno:this._pagination.get_page_number(),pagesize:this._pagination.get_page_size()}})};rdx.list_view.prototype._update_total_count=function(){var b=null;if(rdx.utils.is_defined(this.get_view_context().get_url_params())){b=$.extend(true,{},this.get_view_context().get_url_params());rdx.url_utils.remove_from_url_object(b,"pagesize",rdx.url_utils.GET_CUSTOM_TYPE);rdx.url_utils.remove_from_url_object(b,"pageno",rdx.url_utils.GET_CUSTOM_TYPE)}rdx.model.get_count(this._resource,b,new rdx.callback(this._pagination,this._pagination.update_total_count,[true]),this._parent,new rdx.callback(this._pagination,this._pagination.update_total_count,[false]))};rdx.list_view.prototype.get_view_context=function(){return this._base_view.get_view_context()};rdx.list_view.prototype.set_view_context=function(b){return this._base_view.set_view_context(b)};rdx.list_view.prototype._search_action=function(d){var c=this;rdx.utils.slide_up_down(this._search.get_component(),d)};rdx.list_view.prototype._search_filter_action=function(o,m){switch(this._properties.standalone_search){case true:this._refresh_view(m,rdx.model_constants.NOOP,{refresh_action:rdx.view_constants.STANDALONE_SEARCH});break;default:this._toggle_search();this.get_view_context().remove_url_type(rdx.url_utils.GET_FILTER_TYPE);this.get_view_context().set_is_query_param(o);var n=null;if(o){n={};var h={};for(var g in m){n[g]=m[g];h[g]=g}this._filter_data={key:h,value:n}}this._update_count_from_search_filter=o;if(!this._update_count_from_search_filter){this._filter_data=null;this._pagination.reset_page_number()}if(this._pagination.get_page_number()>1){this._pagination.reset_page_number()}var l={custom:{pageno:this._pagination.get_page_number()}};if(o){l.filter=h}this.get_view_context().set_url_params(l,n);this._update_total_count();this._base_view.refresh_view();rdx.mask.mask_component(this._table_parent,this._table_mask_id,{position:"absolute",top:"0",bottom:"0",right:"0",left:"0",margin:"auto"});break}};rdx.list_view.prototype._pagination_action=function(e,h){var g=null,f=this.get_view_context();if(rdx.utils.is_defined(f)&&rdx.utils.is_defined(f._url_params)&&rdx.utils.is_defined(f._url_params.get_by_name)){g=f._url_params.get_by_name}f.set_url_params({custom:{pageno:e,pagesize:h}});if(g!==null){f._url_params.get_by_name=g;f._properties.get_by_name=g}this.set_view_context(f);if(rdx.utils.is_defined(this._filter_data)){this._apply_filter();this._update_total_count()}this._base_view.refresh_view()};rdx.list_view.prototype._sort_table_action=function(c,d){if(rdx.utils.is_defined(this._properties.sort_update_callback)){this._properties.sort_update_callback.call_back([this.get_view_context(),c,d])}else{d=(d==true)?"yes":"no";this.get_view_context().set_url_params({custom:{order_by:c,asc:d}})}this._base_view.refresh_view()};rdx.list_view.prototype._add_table=function(){this.add_theme_specific_class(this);var p=[];var n=false;var l=this._view_definition.resource_properties;if(rdx.utils.is_defined(this._visible_columns)){if(this._is_setting_back_to_default==true){this._visible_columns=this._all_columns}l=this._visible_columns}for(var q in l){var h=this._resource.properties[q];var o=$.extend({},this._view_definition.resource_properties[q]);if(h){o.key=h.key;if(rdx.utils.is_not_defined(o.label)){o.label=h.label}if(h.tooltip){o.tooltip=h.tooltip}if(h.type){o.type=h.type}}if(rdx.utils.is_defined(this._settings)&&rdx.utils.is_defined(this._settings.columns)&&this._is_setting_back_to_default!=true){this._apply_sort_order_from_settings(o,q);this._apply_size_from_settings(o,q)}o.store_data=true;n=true;p.push(new rdx.table_column(o))}this._read_table_properties_set_to_view(p);if(rdx.utils.is_defined(this._settings_key)){if(rdx.utils.is_defined(this._component)){if(rdx.utils.is_defined(this._component.get_table())){var m=this;if(!this._properties.details){this._component.get_table().dragtable({dragaccept:".dummy_header",persistState:function(d){if(rdx.utils.is_defined(d)){var a=d.startIndex-1;var e=d.endIndex-1;if(a!=e){m._update_settings_with_new_order(a,e);m._save_new_settings();if(rdx.utils.is_function(m._component.move_column_from_start_to_end_index)){m._component.move_column_from_start_to_end_index(a,e)}}else{m._component.sort_column_of_index(a);if(rdx.utils.is_defined(m._component._columns[a])){var b=m._component._columns[a].get_key();var c=m._component._get_sort_order();m._update_settings_with_new_sort_key(b,c);if(!(m._all_columns[b].sortable===false)){m._save_new_settings()}}}}},containment:this._parent})}}}}};rdx.list_view.prototype.onSampleResized=function(b){this._component._table=$(b.currentTarget)};rdx.list_view.prototype._read_table_properties_set_to_view=function(b){if(rdx.utils.is_not_defined(this._properties)){return}if(this._properties.details){this._properties.details_renderer_callback=new rdx.callback(this,this._details_renderer)}if(rdx.utils.is_defined(this._properties.drilldown_renderer_callback)){this._drilldown_renderer_callback=new rdx.callback(this,this._drilldown_renderer)}if(this._properties.layout==rdx.view_constants.MAP_ICON_LAYOUT){this._component=new rdx.map(this._table_parent,b,this._properties).render()}else{this._component=new rdx.table(this._table_parent,b,this._properties);if(rdx.utils.is_defined(this._row_click_handler_callback)){this._component.set_row_click_handler_callback(this._row_click_handler_callback)}if(rdx.utils.is_defined(this._row_remove_click_handler_callback)){this._component.set_row_remove_click_handler_callback(this._row_remove_click_handler_callback)}if(rdx.utils.is_defined(this._settings_key)){this._component.set_resize_event_callback(new rdx.callback(this,this._update_settings_with_new_column_sizes))}if(rdx.utils.is_defined(this._drilldown_renderer_callback)){this._component.set_drilldown_renderer_callback(this._drilldown_renderer_callback)}this._component.render()}};rdx.list_view.prototype.get_component=function(){return this._component};rdx.list_view.prototype.add_theme_specific_class=function(b){if(!b.is_action_bar_required()){b._table_parent.addClass("table_no_border")}};rdx.list_view.prototype.get_global_actions=function(){if(rdx.utils.is_not_defined(this._view_definition.global_resource_operations)){return new Array()}var g=new Array();for(var e in this._view_definition.global_resource_operations){var f={label:"",tooltip:"",image_url:rdx.images.DOCUMENT_DISABLE_IMG};var h=this._view_definition.global_resource_operations[e];h.independent_of_selection=true;this._add_button(f,h,g,this._list_controller._do_generic_custom_operation,e,false)}return g};rdx.list_view.prototype._add_action_bar=function(B,I){if(rdx.utils.is_not_defined(B)){return}var C=rdx.i18n.get_string(this._resource.obj_type);var y=[];for(var A in B){var G=B[A];if(rdx.utils.is_defined(B[A]["operation"])){A=B[A]["operation"]}switch(A){case"add":var K={label:"rdx.button_add",tooltip:rdx.i18n.get_string("rdx.button_add_tooltip",{obj_type:C}),no_selection:true,single_selection:true};this._add_button(K,G,y,this._list_controller._do_add,A);break;case"insert":var H={label:"rdx.button_insert",tooltip:rdx.i18n.get_string("rdx.button_insert_tooltip",{obj_type:C}),no_selection:true,single_selection:true,multiple_selection:true,action_type:rdx.EXTRA_ACTION};this._add_button(H,G,y,this._list_controller._do_insert,A);break;case"set":var w={label:"rdx.button_modify",tooltip:rdx.i18n.get_string("rdx.button_modify_tooltip",{obj_type:C}),double_click:true,single_selection:true,table_row_click:true};this._add_button(w,G,y,this._list_controller._do_set,A);break;case"remove":var z={label:"rdx.button_delete",tooltip:rdx.i18n.get_string("rdx.button_delete_tooltip",{obj_type:C}),action:"remove",single_selection:true,multiple_selection:true,prompt:"rdx.table_data_action_confirm",refresh_action:rdx.view_constants.REMOVE_SELECTED,expression_mode:"ALL"};this._add_button(z,G,y,this._list_controller._do_remove,A);break;case"delet":var v={label:"rdx.button_delete",tooltip:rdx.i18n.get_string("rdx.button_delete_tooltip",{obj_type:C}),action:"delete",single_selection:true,multiple_selection:true,prompt:"rdx.table_data_action_confirm",refresh_action:rdx.view_constants.REMOVE_SELECTED,expression_mode:"ALL"};this._add_button(v,G,y,this._list_controller._do_delet,A);break;case"enable":var J={label:"rdx.button_enable",tooltip:rdx.i18n.get_string("rdx.button_enable_tooltip",{obj_type:C}),single_selection:true,prompt:"rdx.table_data_action_confirm",refresh_action:rdx.view_constants.REFRESH_RELEVANT,action_type:rdx.EXTRA_ACTION};this._add_button(J,G,y,this._list_controller._do_enable,A);break;case"disable":var L={label:"rdx.button_disable",tooltip:rdx.i18n.get_string("rdx.button_disable_tooltip",{obj_type:C}),single_selection:true,prompt:"rdx.table_data_action_confirm",refresh_action:rdx.view_constants.REFRESH_RELEVANT,action_type:rdx.EXTRA_ACTION};this._add_button(L,G,y,this._list_controller._do_disable,A);break;case"reboot":var F={label:"rdx.button_reboot",tooltip:rdx.i18n.get_string("rdx.button_reboot_tooltip",{obj_type:C}),prompt:"rdx.table_data_action_confirm_single",single_selection:true,action_type:rdx.EXTRA_ACTION};this._add_button(F,G,y,this._list_controller._do_reboot,A);break;case"rename":var D={label:"rdx.button_rename",tooltip:rdx.i18n.get_string("rdx.button_rename_tooltip",{obj_type:C}),single_selection:true,refresh_action:rdx.view_constants.REFRESH_ALL,action_type:rdx.EXTRA_ACTION,fetch_resrc_name_from_view:false};this._add_button(D,G,y,this._list_controller._do_rename,A);break;case"separator":var E={label:rdx.SEPARATOR,multiple_selection:false,single_selection:true,separator:true};var x=$.extend(E,G);this._add_custom_button(x,y,C,A);break;case"custom_operations":this._add_custom_operations(y,C,B);break;default:this._add_custom_button(G,y,C,A);break}}if(!I){this._action_items=y}else{this._action_menu_items=y}};rdx.list_view.prototype.get_action_items=function(){if(rdx.utils.is_defined(this._action_items)){return this._action_items}if(rdx.utils.is_defined(this._view_definition.resource_operations)){this._add_action_bar(this._view_definition.resource_operations,false)}if(rdx.utils.is_defined(this._view_definition.resource_menu_operations)){this._add_action_bar(this._view_definition.resource_menu_operations,true)}if(rdx.utils.is_not_defined(this._action_items)){return[]}return this._action_items};rdx.list_view.prototype.make_view_finalize=function(){if(rdx.utils.is_not_defined(this._view_definition.resource_menu_operations)){this._component.set_menu_properties(this._action_items)}else{this._component.set_menu_properties(this._action_menu_items)}};rdx.list_view.prototype.get_inline_view_parent=function(){return this._inline_view_parent};rdx.list_view.prototype._get_prompt_data=function(c){var d=rdx.utils.is_defined(c.selected_rows_for_action)?c.selected_rows_for_action.length:this._component.get_selected_items_data().length;obj_label=(d===1)?rdx.i18n.get_string(this._resource.obj_type):rdx.i18n.get_string(this._resource.obj_type).concat("(s)");return{action:rdx.i18n.get_string(c.label.toLowerCase()).toLowerCase(),obj_type:obj_label,number_of_selected:d}};rdx.list_view.prototype._add_button=function(q,h,o,m,p){if(!this._can_render_action(h)){return}var l=$.extend({},q,h);if(h.click_handler_callback){l.click_handler_callback=new rdx.callback(this._list_controller,this._list_controller._do_custom_operation,[h.click_handler_callback])}else{l.click_handler_callback=new rdx.callback(this._list_controller,m,[])}if(rdx.utils.is_defined(l)){l.prompt_data_callback=new rdx.callback(this,this._get_prompt_data)}var n=new rdx.action(l);if(l.add_row_editor==true){this._row_click_handler_callback=new rdx.callback(this,this._handle_row_editor_click,[n]);return}else{if(l.add_row_remove==true){this._row_remove_click_handler_callback=new rdx.callback(this,this._handle_row_remove_click,[n]);return}}o.push(n)};rdx.list_view.prototype._handle_row_remove_click=function(c,d){d.get_properties().selected_rows_for_action=c;d.perform_action()};rdx.list_view.prototype._handle_row_editor_click=function(c,d){d.get_properties().selected_rows_for_action=c;d.perform_action()};rdx.list_view.prototype._add_custom_operations=function(l,m,g){if(rdx.utils.is_not_defined(g.custom_operations)){return}for(var f in g.custom_operations){var h=g.custom_operations[f];this._add_custom_button(h,l,m,f)}};rdx.list_view.prototype._can_render_action=function(b){if(rdx.utils.is_defined(b)){if(rdx.utils.is_defined(b.render)&&rdx.utils.is_defined(b.render.evaluate)&&rdx.utils.is_function(b.render.evaluate)){return b.render.evaluate()}}return true};rdx.list_view.prototype._add_custom_button=function(h,l,m,f){if(!this._can_render_action(h)){return}var g={label:"Do Custom Operation",action_type:rdx.EXTRA_ACTION};this._add_button(g,h,l,this._list_controller._do_generic_custom_operation,f)};rdx.list_view.prototype._get_data_for_menu=function(){return this._component.get_selected_items_data()};rdx.list_view.prototype.get_item_info=function(){return this._component.get_item_info()};rdx.list_view.prototype.register_event_handlers=function(){rdx.model.add_model_change_listener(this._resource,new rdx.callback(this,this._refresh_view));this._component.add_event_handler(rdx.events.ROW_SELECTION_CHANGED,new rdx.callback(this,this._row_selection_changed));this._component.add_event_handler(rdx.events.COLUMN_CONTEXT_CHANGED,new rdx.callback(this,this._refresh_view_on_changed_column_context));this._row_selection_changed();if(this._properties.pagination){if(rdx.utils.is_function(this._component.table_sort_handler)){this._component.table_sort_handler(new rdx.callback(this,this._sort_table_action))}this._pagination.add_event_handler(new rdx.callback(this,this._pagination_action))}};rdx.list_view.prototype.destroy_view=function(){if(rdx.utils.is_defined(this._view_definition.dialog_properties)&&(rdx.utils.is_defined(this._view_definition.dialog_properties.unbind_resource_event_listener)&&this._view_definition.dialog_properties.unbind_resource_event_listener===false)){return}else{rdx.model.remove_model_change_listener(this._resource)}$(".column-filter-wrapper").remove()};rdx.list_view.prototype._refresh_view_on_changed_column_context=function(h,e,f){var g=this._base_view.get_view_context();if(rdx.utils.is_object_not_empty(h)){rdx.url_utils.add_to_url_object(g.get_url_params(),[f],e,h)}else{rdx.url_utils.remove_from_url_object(g.get_url_params(),[f],e)}this.refresh_view()};rdx.list_view.prototype.set_height=function(b){this._table_parent.height(b)};rdx.list_view.prototype._row_selection_changed=function(){this._base_view.refresh_action_bar_state(this.get_item_info())};rdx.list_view.prototype.get_resource_response_arrived=function(c){this._response=c;rdx.mask.unmask_component(this._table_parent,this._table_mask_id);if(this._properties.pagination&&!this._update_count_from_search_filter){this._update_total_count();this._update_count_from_search_filter=false}this._component.add_items(c,null,true);this._row_selection_changed();this._parent.trigger(rdx.events.VIEW_COUNT_CHANGED,c.length);this._base_view.set_view_state(rdx.view_constants.view_state.ACTIVE);if(rdx.utils.is_defined(this._properties.set_height_of_table_callback)){var d=this._properties.set_height_of_table_callback.call_back();this._component.set_table_height(d)}};rdx.list_view.prototype._match_update=function(e,f,g,h){if(h===rdx.view_constants.CHECK_IF_EXISTS_AND_ADD_NEW){return this._component.check_if_data_exist(e,this._resource.primary_keys,f,g)}return this._component.update_item_data(e,this._resource.primary_keys,f,g)};rdx.list_view.prototype._refresh_view=function(A,v,I){if(this._base_view._is_view_destroyed){return}if(rdx.utils.is_function(this._base_view.is_custom_search_present)&&this._base_view.is_custom_search_present()){this._base_view.refresh_custom_search()}if(I&&rdx.utils.is_defined(I.refresh_action)){A=rdx.view_utils.get_model_change_response_formatted(this._view_definition,A);var C=this._get_model_change_operation(v);var w=this._is_progressive_update(C,A);switch(I.refresh_action){case rdx.view_constants.REFRESH_ALL:this.refresh_view();break;case rdx.view_constants.REMOVE_SELECTED:var D=this._resource.primary_keys;if(rdx.utils.is_defined(this._resource.bind_unbind_keys)){D=this._resource.bind_unbind_keys}this._component.delete_item(A[0],D);this._parent.trigger(rdx.events.VIEW_COUNT_CHANGED,this._component.get_item_count());if(this._properties.pagination){this._pagination.decrease_data_range();E=this._pagination.get_total_count()}else{E=this._component.get_rows_data().length}var L=$(this._base_view.get_resource());L.trigger(rdx.events.MODEL_COUNT_CHANGED,E);break;case rdx.view_constants.REFRESH_RELEVANT:case rdx.view_constants.REFRESH_RELEVANT_OR_ADD_NEW:case rdx.view_constants.CHECK_IF_EXISTS_AND_ADD_NEW:var K=I.refresh_action==rdx.view_constants.REFRESH_RELEVANT;if(this._view_definition.response_callback){var B=this;var F=false;var J=I.refresh_action;var H=new rdx.view_callback_on_response_arrived_params({return_call_back:new rdx.callback(function(a){F=B._match_update(a[0],w,K,I.refresh_action);if(F==false&&(J==rdx.view_constants.REFRESH_RELEVANT_OR_ADD_NEW||J==rdx.view_constants.CHECK_IF_EXISTS_AND_ADD_NEW)){B._component.add_item(a[0],null,B._properties.append_data_to_first,null,null,true);B._parent.trigger(rdx.events.VIEW_COUNT_CHANGED,B._component.get_item_count());if(B._properties.pagination){B._pagination.increase_data_range()}}B._row_selection_changed()}),response:A});this._view_definition.response_callback.call_back([H])}else{F=this._match_update(A[0],w,K,I.refresh_action)}if(I.refresh_action==rdx.view_constants.CHECK_IF_EXISTS_AND_ADD_NEW&&(F==true||(F==false&&rdx.utils.is_defined(this._view_definition.response_callback)))){break}if(I.refresh_action==rdx.view_constants.REFRESH_RELEVANT||(I.refresh_action==rdx.view_constants.REFRESH_RELEVANT_OR_ADD_NEW&&(F==true||(F==false&&rdx.utils.is_defined(this._view_definition.response_callback))))){break}case rdx.view_constants.ADD_NEW:this._component.add_item(A[0],null,this._properties.append_data_to_first,null,null,true,true);var L=$(this._base_view.get_resource());var E=0;if(this._properties.pagination){this._pagination.increase_data_range();E=this._pagination.get_total_count()}else{E=this._component.get_rows_data().length}L.trigger(rdx.events.MODEL_COUNT_CHANGED,E);break;case rdx.view_constants.REFRESH_RELEVANT_OR_ADD_MULTIPLE:var x=[];var G=[];$.each(A[0],function(b,a){x.push(a)});var F;for(var y=0;y<x.length;y++){F=false;F=this._match_update(x[y],w,false,I.refresh_action);if(F==false){G.push(x[y])}}this._component.add_items(G,null,null,true);this._parent.trigger(rdx.events.VIEW_COUNT_CHANGED,this._component.get_item_count());if(this._properties.pagination){this._pagination.increase_data_range()}break;case rdx.view_constants.REFRESH_NONE:break;case rdx.view_constants.STANDALONE_SEARCH:if(this._view_definition.response_callback){var z=this;var H=new rdx.view_callback_on_response_arrived_params({return_call_back:new rdx.callback(function(b,a){if(rdx.utils.is_defined(z._base_view.app_context_data)){z.get_view_context().set_app_context_data(z._base_view.app_context_data)}else{z.get_view_context().set_app_context_data(b)}if(rdx.utils.is_function(z.get_resource_response_arrived)){z.get_resource_response_arrived(b)}z._base_view._response_arrived()}),response:A,search_params:this._search.get_search_filter_map()});this._view_definition.response_callback.call_back([H])}else{throw"Response Callback is not defined"}break}this._check_and_evaluate_for_request_reprocess(A,v,I,C,w);this._row_selection_changed();return}this.refresh_view()};rdx.list_view.prototype._is_progressive_update=function(d,e){var f=false;if(rdx.utils.is_defined(d)&&rdx.utils.is_defined(d.expression)&&rdx.utils.is_defined(d.refresh_interval)){f=d.expression.evaluate(e)}return f};rdx.list_view.prototype._get_model_change_operation=function(b){if(rdx.utils.is_not_defined(this._view_definition.model_change_operations)){return null}return this._view_definition.model_change_operations[b]};rdx.list_view.prototype._check_and_evaluate_for_request_reprocess=function(h,m,g,f,l){if(rdx.utils.is_defined(f)&&l){g.timeout=f.refresh_interval;g.refresh_action=rdx.view_constants.REFRESH_RELEVANT;g.operation_object=rdx.utils.is_array(h)?h[0]:h;rdx.model.trigger_resource_get(g,this._resource,h,m)}};rdx.list_view.prototype.refresh_view=function(d){this._component.delete_all_items();if(rdx.utils.is_function(this._component.get_header_checkbox)){var c=this._component.get_header_checkbox();if(rdx.utils.is_defined(c)){c.attr("checked",false)}}this.get_view_context().invalidate_data();if(rdx.utils.is_defined(d)){this.get_view_context().set_url_params(d);this._base_view.set_view_context(this.get_view_context())}this._parent.trigger(rdx.events.VIEW_COUNT_CHANGED,this._component.get_item_count());this._base_view.prepare_view()};rdx.list_view.prototype._update_view=function(b){this._component.update_item_data(b,this._resource.primary_keys)};rdx.list_view.prototype._details_renderer=function(h){var m=$("<div>").addClass("detail_view_details").addClass("smooth_all_corner");var g;if(this._view_definition.details_view){g=rdx.utils.get_view(this._view_definition.details_view)}else{g={type:rdx.view_constants.INFO_VIEW,view_properties:{number_of_columns:2},resource_name:this._resource.name};g.resource_properties=$.extend({},this._resource.properties)}var l=rdx.utils.get_resource(g.resource_name);if(g.type==rdx.view_constants.DETAIL_VIEW){details_view_context={get_by_name:l.primary_keys}}else{details_view_context={is_data_set:true}}if(rdx.utils.is_not_defined(this._details_view_rendered)||this._details_view_rendered==false){var f=rdx.view_utils.show_view_in_slider(g,new rdx.callback(function(a){a._details_view_rendered=false},[this]),h,details_view_context,null,{slider_width:"50%"});this._details_view_rendered=true}};rdx.list_view.prototype.handle_dependency=function(b){this._refresh_view(b.get_value(),null,b.get_resource_context())};rdx.list_view.prototype.get_data=function(b){if(rdx.utils.is_not_defined(b)||b==rdx.view_constants.data_selection_param.SELECTED){return this.get_component().get_selected_items_data()}return this.get_component().get_rows_data()};rdx.list_view.prototype.get_properties=function(){return this._properties};rdx.list_view.prototype.get_resource_name=function(){return this._view_definition.resource_name};rdx.list_view.prototype._do_refresh=function(){if(this._properties.pagination==true){if(this._update_count_from_search_filter&&this._properties.search==true){this._apply_filter()}this._pagination.reset_page_number();this.get_view_context().set_url_params({custom:{pageno:this._pagination.get_page_number(),pagesize:this._pagination.get_page_size()}});this._update_total_count()}if(rdx.utils.is_function(this._base_view.is_custom_search_present)&&this._base_view.is_custom_search_present()){this._base_view.refresh_custom_search(true)}else{this.refresh_view()}};rdx.list_view.prototype._apply_filter=function(){if(rdx.utils.is_defined(this._filter_data)){this.get_view_context().remove_url_type(rdx.url_utils.GET_FILTER_TYPE);this.get_view_context().set_is_query_param(true);var b={filter:this._filter_data.key};this.get_view_context().set_url_params(b,this._filter_data.value)}};rdx.list_view.prototype.set_settings=function(b){this._settings=b};rdx.list_view.prototype.get_settings=function(){return this._settings};rdx.list_view.prototype.get_settings_key=function(){return this._settings_key};rdx.list_view.prototype.set_settings_key=function(b){this._settings_key=b};rdx.list_view.prototype.show_settings_pane=function(d){if($(".options_container_columns").length==0){var e=$("<div>").addClass("options_container_columns");d.after(e)}var f=null;$(".ns_body").mouseup(function(a){f=a;if(!($.contains(e[0],a.target))){e.remove();$(".ns_body").unbind(a)}a.preventDefault()});this._fill_columns_container(e,d,f)};rdx.list_view.prototype._fill_columns_container=function(A,G,F){if(rdx.utils.is_defined(this._all_columns_for_selection_panel)&&rdx.utils.is_defined(A)){A.empty();this._column_checkboxes=null;var N=rdx.utils.get_resource(this._view_definition.resource_name);if(rdx.utils.is_defined(N)){var O=null;var I=null;var L=true;for(var M in this._all_columns_for_selection_panel){var K=N.properties[M];if((rdx.utils.is_defined(K)&&K.label)||rdx.utils.is_defined(this._all_columns_for_selection_panel[M]["label"])){var x=rdx.utils.is_defined(this._all_columns_for_selection_panel[M]["label"])?rdx.i18n.get_string(this._all_columns_for_selection_panel[M]["label"]):rdx.i18n.get_string(K.label);var E=M;if(rdx.utils.is_not_defined(O)){O=$("<table>").addClass("columns_table");var D=$("<div>").addClass("columns_table_div");D.append(O);A.append(D)}if(rdx.utils.is_not_defined(I)){I=$("<div>").addClass("add_columns_div");A.append(I);var J=$("<input type = 'button'>").addClass("rdx_button rdx_blue_button").attr("value",(rdx.i18n.get_string("rdx.op_wizard_done_button")));I.append(J);J.bind(rdx.events.CLICK,{_this:this,column_container:A,settings_pane:G},function(a){a.data.settings_pane.removeClass("settings_active_span");if(rdx.utils.is_defined(a.data.column_container)){a.data.column_container.remove();if(rdx.utils.is_defined(F)){$(".ns_body").unbind(F)}a.preventDefault()}a.data._this._persist_column_selection()});var B=$("<input type = 'button'>").addClass("rdx_button rdx_grey_button").attr("value",(rdx.i18n.get_string("rdx.op_wizard_cancel_button")));I.append(B);B.bind(rdx.events.CLICK,{column_container:A,settings_pane:G},function(a){a.data.settings_pane.removeClass("settings_active_span");if(rdx.utils.is_defined(a.data.column_container)){a.data.column_container.remove();if(rdx.utils.is_defined(F)){$(".ns_body").unbind(F)}a.preventDefault()}});var C=$("<a>").attr("href","#noAnchor").addClass("defaults_link").append(rdx.i18n.get_string("rdx.go_back_to_default"));C.bind(rdx.events.CLICK,{_this:this,column_container:A,settings_pane:G},function(a){a.data.settings_pane.removeClass("settings_active_span");if(rdx.utils.is_defined(a.data._this)){a.data._this._go_back_to_default_column_selection();a.data.column_container.remove();if(rdx.utils.is_defined(F)){$(".ns_body").unbind(F)}a.preventDefault()}});I.append(C)}if(rdx.utils.is_not_defined(this._column_checkboxes)){this._column_checkboxes=new Array()}var P=$("<tr>");var y=$("<td>");var z=$("<td>");O.append(P);P.append(y).append(z);var H=null;if(this._is_column_visible(E)){H=$("<input type = 'checkbox' checked>")}else{H=$("<input type = 'checkbox'>")}if(!this._is_removable(M)||L==true){if(H.attr("checked")==""){H.attr("disabled",false)}else{H.attr("disabled",true)}}L=false;H.bind(rdx.events.CLICK,{},function(a){});H.attr("label",x).attr("value",E);y.append(H);z.append(x);this._column_checkboxes.push(H)}}}}};rdx.list_view.prototype._initialize_all_columns=function(){var d=this._view_definition.resource_properties;if(rdx.utils.is_defined(d)){this._all_columns=new Object();this._all_columns_for_selection_panel=new Object();for(var c in d){if(rdx.utils.is_defined(d[c].render)&&!d[c].render.evaluate()){continue}if(rdx.utils.is_defined(d[c]["is_default_property"])&&d[c]["is_default_property"]==false){this._all_columns_for_selection_panel[c]=d[c];continue}if(rdx.utils.is_not_defined(d[c].hidden)||d[c].hidden!=true){this._all_columns[c]=d[c];this._all_columns_for_selection_panel[c]=d[c]}}}};rdx.list_view.prototype._initialize_visible_columns_from_settings=function(){var s=this._view_definition.resource_properties;var o=this.get_settings();var t=o.columns;if(rdx.utils.is_defined(t)){this._visible_columns=new Object();var n=new Array();for(var p in t){if(rdx.utils.is_not_empty(p)){var q=s[p];if(rdx.utils.is_defined(q)){if(rdx.utils.is_not_defined(q.hidden)||!q.hidden){n[t[p]["index"]]=p}}}}for(var l=0,m=n.length;l<m;l++){if(rdx.utils.is_defined(n[l])){this._visible_columns[n[l]]=l}}}};rdx.list_view.prototype._is_column_visible=function(c){var d=false;if(rdx.utils.is_defined(this._settings)&&rdx.utils.is_defined(this._settings.columns)){d=rdx.utils.is_defined(this._settings.columns[c])}else{if(rdx.utils.is_defined(this._visible_columns)){d=rdx.utils.is_defined(this._visible_columns[c])}}return d};rdx.list_view.prototype._persist_column_selection=function(){var E=new Array();var D=new Array();var C=new Array();var u=this._visible_columns;var w=(rdx.utils.is_defined(this._settings)&&rdx.utils.is_defined(this._settings.columns))?this._settings:this._visible_columns;if(rdx.utils.is_defined(this._settings)&&rdx.utils.is_defined(this._settings.columns)){w=w.columns;for(var B in w){if(rdx.utils.is_defined(u[B])){E[this._settings.columns[B]["index"]]=B}}}else{for(var B in w){E.push(B)}}for(var z=0,t=this._column_checkboxes.length;z<t;z++){var x=this._column_checkboxes[z];var H=x.attr("value");var v=x.attr("checked");if(rdx.utils.is_defined(v)&&v==true){D.push(H)}else{C.push(H)}}for(var z=0,t=D.length;z<t;z++){var A=D[z];if(jQuery.inArray(A,E)==-1){E.push(A)}}for(var z=0,t=C.length;z<t;z++){var y=C[z];if(jQuery.inArray(y,E)!=-1){E.splice($.inArray(y,E),1)}}this._visible_columns=null;if(rdx.utils.is_defined(this._all_columns_for_selection_panel)&&rdx.utils.is_defined(E)&&E.length){this._visible_columns=new Object();for(var z=0,t=E.length;z<t;z++){var F=E[z];if(rdx.utils.is_defined(F)){this._visible_columns[F]=this._all_columns_for_selection_panel[F];this._visible_columns[F]["index"]=z}}if(rdx.utils.is_defined(this._base_view._view._action_items)&&this._base_view._view._action_items.length>0){this._base_view._view_container.empty();this._base_view.destroy_view();this._is_done_clicked=true;if(rdx.utils.is_defined(this._base_view._view._toolbar_items)&&this._base_view._view._toolbar_items.length>=2){this._base_view._view._toolbar_items.pop()}this._base_view._parent.append(this._base_view._view_div);this._base_view._view_div.append(this._base_view._view_container);var G=this.get_view_context();G.invalidate_data();this._base_view.set_view_context(G);this._base_view.prepare_view()}else{this._table_parent.find(".table_table_div").empty();this._add_table()}this._component.add_items(this._response,null,true);this._update_settings();this._update_settings_with_new_column_sizes();this._save_new_settings();this._is_done_clicked=false}};rdx.list_view.prototype._update_settings=function(){if(rdx.utils.is_defined(this._visible_columns)){this._settings=null;var e=1;for(var d in this._visible_columns){if(rdx.utils.is_not_defined(this._settings)){this._settings=new Object();this._settings.columns=new Object()}var f=new Object();f.index=e++;this._settings.columns[d]=f}this._current_number_of_columns=e}};rdx.list_view.prototype._save_new_settings=function(){if(rdx.utils.is_defined(this._settings)){var d=JSON.stringify(this._settings);var f=rdx.utils.get_resource(rdx.SETTINGS_RESOURCE_NAME);if(rdx.utils.is_defined(f)){if(rdx.utils.is_defined(this._settings_key)){var e=new Object();e[rdx.SETTINGS_RESOURCE_KEY_PROPERTY_NAME]=this._settings_key;e[rdx.SETTINGS_RESOURCE_VALUE_PROPERTY_NAME]=d;rdx.model.set(f,new rdx.callback(null,function(){}),e);if(rdx.utils.is_defined(rdx.settings_object)){rdx.settings_object[this._settings_key]=d}}}}};rdx.list_view.prototype._update_settings_with_new_order=function(h,o){if(rdx.utils.is_not_defined(this._settings)||rdx.utils.is_not_defined(this._settings.columns)){this._update_settings()}if(h>o){var m=null;for(var n in this._settings.columns){var g=this._settings.columns[n]["index"];if(g<h&&g>=o){this._settings.columns[n]["index"]=parseInt(this._settings.columns[n]["index"])+1}if(g==h){m=n}}}if(h<o){var m=null;for(var n in this._settings.columns){var g=this._settings.columns[n]["index"];if(g>h&&g<=o){this._settings.columns[n]["index"]=parseInt(this._settings.columns[n]["index"])-1}if(g==h){m=n}}}if(rdx.utils.is_defined(m)){var l=this._settings.columns[m];if(rdx.utils.is_not_defined(l)){l=new Object()}l.index=o;this._settings.columns[m]=l}};rdx.list_view.prototype._is_removable=function(n){var m=true;var o=this._resource;var p=false;var q=this._view_definition.resource_properties;if(rdx.utils.is_defined(o.primary_keys)&&rdx.utils.is_array(o.primary_keys)&&o.primary_keys.length){for(var s=0,t=o.primary_keys.length;s<t;s++){var l=o.primary_keys[s];if(n==l){p=true;break}}}if(p==false){if(!(rdx.utils.is_not_defined(q[n].removable)||q[n].removable==true)){m=false}}else{m=false}return m};rdx.list_view.prototype.add_mask=function(){return true};rdx.list_view.prototype._go_back_to_default_column_selection=function(){this._visible_columns=this._all_columns;this._is_setting_back_to_default=true;if((rdx.utils.is_defined(this._base_view._view._action_items)&&this._base_view._view._action_items.length>0)){this._base_view._view_container.empty();this._base_view.destroy_view();if((rdx.utils.is_defined(this._base_view._view._toolbar_items)&&this._base_view._view._toolbar_items.length>=2)){this._base_view._view._toolbar_items.pop()}this._base_view._parent.append(this._base_view._view_div);this._base_view._view_div.append(this._base_view._view_container);var b=this.get_view_context();b.invalidate_data();this._base_view.set_view_context(b);this._base_view.prepare_view()}else{this._table_parent.find(".table_table_div").empty();this._add_table()}this._component.add_items(this._response,null,true);this._update_settings();this._update_settings_with_new_column_sizes();this._save_new_settings();this._is_setting_back_to_default=false};rdx.list_view.prototype._update_settings_with_new_sort_key=function(h,e){if(rdx.utils.is_not_defined(this._settings)||rdx.utils.is_not_defined(this._settings.columns)){this._update_settings()}if(rdx.utils.is_defined(h)&&rdx.utils.is_defined(e)&&rdx.utils.is_defined(this._settings)&&rdx.utils.is_defined(this._settings.columns)){for(var g in this._settings.columns){var f=this._settings.columns[g];if(g==h){f.default_sort=e;break}else{f.default_sort=null}}}};rdx.list_view.prototype._apply_sort_order_from_settings=function(h,g){if(rdx.utils.is_defined(this._settings)&&rdx.utils.is_defined(this._settings.columns)&&rdx.utils.is_defined(g)&&rdx.utils.is_defined(h)){for(var f in this._settings.columns){var e=this._settings.columns[f];if(rdx.utils.is_defined(e)){if(f==g){if(e.default_sort!=null){h.default_sort=e.default_sort;return}}}}h.default_sort=null}};rdx.list_view.prototype._update_settings_with_new_column_sizes=function(){var o=this._component;if(rdx.utils.is_defined(o)){var w=o.get_headers();if(rdx.utils.is_defined(w)&&rdx.utils.is_array(w)&&w.length){if(rdx.utils.is_not_defined(this._settings)||rdx.utils.is_not_defined(this._settings.columns)){this._update_settings()}for(var u=0,s=w.length;u<s;u++){var t=w[u];var p=t.key;var x=t.value;var q=$(x).width();var v=screen.width;var n=q/v;if(rdx.utils.is_defined(this._settings.columns)&&rdx.utils.is_defined(this._settings.columns[p])){this._settings.columns[p]["size_factor"]=n}else{if(rdx.utils.is_not_defined(this._settings.columns[p])){this._settings.columns[p]=new Object();this._settings.columns[p]["index"]=this._current_number_of_columns++}this._settings.columns[p]["size_factor"]=null}}this._save_new_settings()}}};rdx.list_view.prototype._apply_size_from_settings=function(h,g){if(rdx.utils.is_defined(this._settings)&&rdx.utils.is_defined(this._settings.columns)&&rdx.utils.is_defined(g)&&rdx.utils.is_defined(h)){for(var f in this._settings.columns){var e=this._settings.columns[f];if(rdx.utils.is_defined(e)){if(f==g){if(e.size_factor!=null){h.width=parseFloat(e.size_factor)*screen.width;return}}}}}};rdx.list_view.prototype.refresh_view_with_resrc_context=function(d,f,e){this._refresh_view(d,f,e)};rdx.list_view.prototype.is_title_required=function(){return true};rdx.list_view.prototype.collapse_searched_div=function(){this._search.collapse_searched_div()};rdx.list_view.prototype._drilldown_renderer=function(h){var g=this._properties.drilldown_renderer_callback.get_params();var f=[h[0],this.get_base_view()];if(rdx.utils.is_defined(g)&&(g.length>0)){for(var e=0;e<g.length;e++){f.push(g[e])}}this._properties.drilldown_renderer_callback.call_back(f)};rdx.list_controller=function(c,d){this._list_view=c;this._parent=d;this._active_view=null};rdx.list_controller.prototype._get_resource_for_operation=function(l){var h={};var g=this._list_view._resource.primary_keys;for(var m=0,f=g.length;m<f;m++){h[g[m]]=l[g[m]]}return h};rdx.list_controller.prototype._get_modified_data=function(d){if(rdx.utils.is_not_defined(this._list_view.get_base_view().get_inherited_data_callback())){return d}var c=d;if(rdx.utils.is_array(c)){return c[0]=$.extend(true,c[0],this._list_view.get_base_view().get_inherited_data_callback().call_back())}else{c=$.extend(true,c,this._list_view.get_base_view().get_inherited_data_callback().call_back())}return c};rdx.list_controller.prototype._do_add=function(f){if(!rdx.view_utils.is_view_active(this._list_view.get_base_view())){return}var g=this._list_view.get_view_context();data=g.get_data();if(data.length==0){data.push({})}var h=this._get_view(rdx.utils.get_view(f.view));var e=h.get_view_context();e.set_url_params({is_data_set:true},this._get_modified_data(data));h.prepare_view()};rdx.list_controller.prototype._do_insert=function(b){b.independent_of_selection=true;this._do_generic_custom_operation(b,true)};rdx.list_controller.prototype._do_set=function(h){if(!rdx.view_utils.is_view_active(this._list_view.get_base_view())){return}var g=(rdx.utils.is_defined(h.selected_rows_for_action))?h.selected_rows_for_action:this._list_view._component.get_selected_items_data();if(g.length==0){return}var m=this._list_view.get_view_context();var o=this._get_view(rdx.utils.get_view(h.view));var l=o.get_view_context();var n=rdx.utils.is_defined(h.selected_rows_for_action)?h.selected_rows_for_action:m.get_data();l.set_url_params({get_by_name:this._list_view._resource.primary_keys},n);rdx.set_view_context=l;o.prepare_view()};rdx.list_controller.prototype._do_delet=function(b){this._perform_operation(rdx.model.no_op,b)};rdx.list_controller.prototype._do_remove=function(b){this._perform_operation(rdx.model.remove,b)};rdx.list_controller.prototype._do_enable=function(b){this._perform_operation(rdx.model.post,b,"rdx.ajax_status_enabling","rdx.ajax_status_enabling_completed")};rdx.list_controller.prototype._do_disable=function(b){this._perform_operation(rdx.model.post,b,"rdx.ajax_status_disabling","rdx.ajax_status_disabling_completed")};rdx.list_controller.prototype._do_reboot=function(b){this._perform_operation(rdx.model.post,b,"rdx.ajax_status_rebooting","rdx.ajax_status_rebooting_completed")};rdx.list_controller.prototype._do_rename=function(s){if(!rdx.view_utils.is_view_active(this._list_view.get_base_view())){return}var B=this._list_view._component.get_selected_items_data();if(B.length==0){return}var v=this._list_view._resource;var u=v.primary_keys[0];var y="newname";if(rdx.utils.is_not_defined(v.properties[y])){v.properties[y]={key:"newname",type:"VALNAME",validation_type:"VALNAME",label:v.properties[u].label,mandatory:true}}if(rdx.utils.is_defined(v.properties[u].tooltip)){v.properties[y]["tooltip"]=v.properties[u].tooltip}var A=this._list_view._view_definition.resource_properties[u];if(rdx.utils.is_defined(A)&&rdx.utils.is_defined(A.label)){v.properties[y].label=A.label}var q=rdx.i18n.get_string(v.obj_type);var w=rdx.i18n.get_string("rdx.view_configure_title_rename",{obj_type:q});var z={type:rdx.view_constants.CONFIGURE_VIEW,resource_properties:{},view_properties:{submit_operation:{method:"post",action:"rename"},title:w}};z.resource_name=(s.fetch_resrc_name_from_view)?this._list_view.get_resource_name():v.name;z.resource_properties[u]={hidden:"true"};z.resource_properties[y]={};var C=$.extend({},B[0]);C[y]=C[u];var x=this._get_view(z);var t=this._list_view.get_view_context();var D=x.get_view_context();D.set_url_params({is_data_set:true},C);x.prepare_view()};rdx.list_controller.prototype._perform_operation=function(v,m,s,p){if(!rdx.view_utils.is_view_active(this._list_view.get_base_view())){return}var q=(m.action)?m.action:(rdx.i18n.get_string(m.label)).toLowerCase();var u=(rdx.utils.is_defined(m.selected_rows_for_action))?m.selected_rows_for_action:this._list_view._component.get_selected_items_data();var t={action_properties:m,resource_defn:this._list_view._resource,activity:s,status:p,refresh_action:m.refresh_action};if(m.no_selection&&u.length==0||m.independent_of_selection){t.view_resource_data={};v.apply(rdx.model,[this._list_view._resource,new rdx.callback(),{},null,q,t,this._parent])}else{for(var o=0,n=u.length;o<n;o++){t.view_resource_data=u[o];v.apply(rdx.model,[this._list_view._resource,new rdx.callback(),this._get_resource_for_operation(u[o]),null,q,t,this._parent])}}};rdx.list_controller.prototype._do_generic_custom_operation=function(L,K){var J=rdx.utils.is_defined(L.state)&&(L.state==rdx.OPEN);if(!rdx.view_utils.is_view_active(this._list_view.get_base_view())&&J==false){return}var P=this._list_view.get_base_view();if(rdx.utils.is_defined(L.view)||rdx.utils.is_defined(L.view_dfn)){if(rdx.utils.is_defined(L.state)&&(L.state==rdx.CLOSE)&&rdx.utils.is_defined(this._active_view)&&this._active_view!=null){if(rdx.utils.is_function(this._active_view.destroy_view)){this._active_view.destroy_view();this._list_view.get_inline_view_parent().empty();return}}var G=rdx.utils.is_defined(L.view_dfn)?L.view_dfn:rdx.utils.get_view(L.view);G=$.extend(true,{},G);var H=this._list_view.get_base_view().get_parent();if(rdx.utils.is_defined(L.dialog_properties)){G.dialog_properties=$.extend(true,{width:500},L.dialog_properties);G.view_properties=rdx.utils.is_not_defined(G.view_properties)?{}:G.view_properties;G.dialog_properties.view_properties=$.extend(true,{resource_name:this._list_view.get_base_view().get_resource().name},G.dialog_properties.view_properties);G.view_properties.show_select_component=rdx.form_constants.CHECK_BOX;G.view_properties.add_create_button=false;G.view_properties.add_close_button=false;G.view_properties.add_button_bar=true;delete G.add_to_bread_crumb}if(rdx.utils.is_defined(L.dynamic_view_properties)){G.view_properties=rdx.utils.is_not_defined(G.view_properties)?{}:G.view_properties;G.view_properties=$.extend(true,G.view_properties,L.dynamic_view_properties)}var F=this._get_view(G);if(rdx.utils.is_defined(L.reset_action_callback)){$(F).bind(rdx.events.VIEW_DESTROYED,{action_properties:L},function(a){a.data.action_properties.reset_action_callback.call_back()})}var B=this._list_view.get_view_context();var y=F.get_view_context();var D=rdx.utils.is_defined(K)?null:B.get_data();var A=this._list_view.get_base_view();if(rdx.utils.is_defined(this._list_view.get_component())&&this._list_view.get_component() instanceof rdx.table&&!(this._list_view.get_component().get_selected_row_count())){if(rdx.utils.is_defined(A.get_view_definition().bread_crumb_formatter)){var z={};if(rdx.utils.is_defined(A.get_bread_crumb_processing_data())){var x=A.get_bread_crumb_processing_data()[0];var M=A.get_view_definition().bread_crumb_data_formatter;if(rdx.utils.is_defined(M)&&rdx.utils.is_defined(x)){for(var N in M){if(rdx.utils.is_defined(x[N])){x[M[N]]=x[N];D=x}}}}}}var I=new Object();var O=rdx.utils.get_cookie("hide_builtin_policies");if(rdx.utils.is_empty(O)){O="true"}var E={};if(rdx.utils.is_defined(G.view_properties.show_hide_link_filter)){E=G.view_properties.show_hide_link_filter}else{E={static_filter:{isdefault:"false"}}}if(rdx.utils.is_not_defined(L.view_context)){if(rdx.utils.is_defined(G.view_properties.show_hide_link)&&G.view_properties.show_hide_link&&(O==true||O=="true")){I.static_filter=E.static_filter}if(rdx.utils.get_view(L.view).resource_name&&rdx.utils.is_not_defined(K)){I.get_by_name=rdx.utils.get_resource(G.resource_name).primary_keys}y.set_url_params(I,this._get_modified_data(D))}else{if(rdx.utils.is_defined(G.view_properties.show_hide_link)&&G.view_properties.show_hide_link&&(O==true||O=="true")){I=$.extend(true,L.view_context,E)}else{I=L.view_context}y.set_url_params(I,this._get_modified_data(D))}if(L.is_app_context_data_set){var C=this._list_view._component.get_selected_items_data();y.set_app_context_data(C)}F.prepare_view();this._active_view=F}else{this._perform_operation(rdx.model.post,L)}};rdx.list_controller.prototype._get_view=function(f){var e=null;var d=rdx.utils.is_defined(f.view_properties)?f.view_properties:{};f.view_properties=d;if(rdx.utils.is_not_defined(this._list_view.get_base_view().get_crumb_handler())&&this._list_view.get_base_view().is_show_in_slider()==false){e=rdx.view_utils.show_view_in_full_page(f,this._list_view.get_base_view())}else{if(rdx.utils.is_not_defined(this._list_view.get_base_view().get_crumb_handler())&&this._list_view.get_base_view().is_show_in_slider()==true&&(rdx.utils.is_not_defined(d.render_mode)||(rdx.utils.is_defined(d.render_mode)&&d.render_mode!=rdx.INLINE))){e=rdx.view_utils.show_view_in_slider(f,null,null,null,false)}else{e=new rdx.base_view(this._get_view_container(f),f);e.set_crumb_handler(this._list_view.get_base_view().get_crumb_handler())}}return e};rdx.list_controller.prototype._get_view_container=function(f){var d=false;if(rdx.utils.is_defined(f.view_properties)){if(rdx.utils.is_defined(f.view_properties.toggle_view)){d=f.view_properties.toggle_view}if(rdx.utils.is_defined(f.view_properties.render_mode)&&f.view_properties.render_mode==rdx.INLINE){return this._list_view.get_inline_view_parent()}}var e=this._list_view.get_base_view().get_crumb_handler();e=rdx.utils.is_not_defined(e)?this._list_view.get_base_view().get_parent():e;if(d==true){e=rdx.page.get_content()}return e};rdx.list_controller.prototype._do_custom_operation=function(l,n){if(!rdx.view_utils.is_view_active(this._list_view.get_base_view())){return}var p=(rdx.utils.is_defined(l.selected_rows_for_action))?l.selected_rows_for_action:this._list_view._component.get_selected_items_data();var o=(this._list_view.get_component() instanceof rdx.table)?this._list_view._component.get_all_rows_data():null;var t=new Array();if(rdx.utils.is_not_defined(l.independent_of_selection)||!l.independent_of_selection){for(var q=0,s=p.length;q<s;q++){t.push(this._get_resource_for_operation(p[q]))}}var m={action_properties:l,resource_defn:this._list_view._resource,refresh_action:l.refresh_action};n.call_back([new rdx.list_view_action_callback_params({selected_rows_primary_keys:t,selected_rows_data:p,all_rows_data:o,resource_context:m,list_view:this._list_view,inherit_data:this._get_modified_data(p)})])};rdx.graphical_summary_handler=function(d,e,f){this._view_div=d;this._base_view_context=f;this._search_properties=e;this._detail_summary_view_map={};this._resource_key_map=null;this._dropdown=null;this._view_div_children=this._view_div.children();this._custom_search=$("<div>").addClass("detail_search_view hide");this._view_div.prepend(this._custom_search);this._selected_key=null};rdx.graphical_summary_handler.prototype.render=function(){var f=[];for(var m=0;m<this._search_properties.length;m++){this._detail_summary_view_map[this._search_properties[m]["resource_property"]]=new rdx.graphical_summary_component(this._custom_search,this._search_properties[m],this._base_view_context);f.push(this._search_properties[m]["resource_property"]);if(m!=0){this._detail_summary_view_map[this._search_properties[m]["resource_property"]].get_search_dom().addClass("hide")}this._detail_summary_view_map[this._search_properties[m]["resource_property"]].render();this._detail_summary_view_map[this._search_properties[m]["resource_property"]].add_search_listner(new rdx.callback(this,this.graphical_handler_callback))}if(this._search_properties.length>1){this._resource_key_map=this._get_resource_key_map(f);var g=$("<div>").addClass("graphical_search_list");this._custom_search.prepend(g);this._dropdown=new rdx.list(g,new rdx.form_field({formatter:{map:this._resource_key_map},mandatory:true,properties:{size:1}}));this._dropdown.render();this._dropdown.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._handle_dropdown_change));this._selected_key=f[0]}else{this._detail_summary_view_map[this._search_properties[0]["resource_property"]].render();this._selected_key=this._search_properties[0]["resource_property"]}this._search_collapse_arrow=$("<div>").addClass("search_collapse_arrow search_show");var h=$(".rdx_second_pane_cell");$(h).append(this._search_collapse_arrow);var l=this._view_div.offset().top-rdx.page.get_header_height();this._search_collapse_arrow.css({right:-10+"px",top:l+"px"});this._search_collapse_arrow.bind(rdx.events.CLICK,{view:this._view_div_children,search_icon:this._search_collapse_arrow,search_top_offset:l,graphical_search_handler:this},this._show_hide_graphical_search)};rdx.graphical_summary_handler.prototype._show_hide_graphical_search=function(g){var n=g.data.search_icon;var m=g.data.view;var h=g.data.search_top_offset;var o=g.data.graphical_search_handler;if(rdx.utils.is_defined(n)){var l=o.get_search_dom();l.css("position","relative");if(n.hasClass("search_show")){n.detach();$(m).animate({"margin-right":"300px"});setTimeout(function(){l.append(n);l.addClass("detail_search_show");l.css({display:"block",width:"278px"});n.css({display:"block",right:0,top:0});n.removeClass("search_show");n.addClass("search_hide")},300)}else{$(m).animate({"margin-right":"0"});n.detach();$(".rdx_second_pane_cell").append(n);l.addClass("detail_search_hide");l.css({display:"none",width:"0"});n.css({right:"-10px",top:h+"px"});n.addClass("search_show");n.removeClass("search_hide")}}};rdx.graphical_summary_handler.prototype._handle_dropdown_change=function(e){var h=e.data.list_get_data_callback.call_back();var g=this._detail_summary_view_map[this._selected_key];g.get_search_dom().addClass("hide");var f=this._resource_key_map[h];this._detail_summary_view_map[f].refresh_search(true);this._detail_summary_view_map[f].get_search_dom().removeClass("hide");this._selected_key=f};rdx.graphical_summary_handler.prototype.detail_search_handler=function(l,n,q,m,p){var s=n._detail_summary_view_map[q];var o=l.get_view_context();var t=new rdx.view_context();l.set_view_context(t);if(rdx.utils.is_defined(p)&&p){rdx.utils.merge_and_set_url_params(l,o)}rdx.utils.merge_and_set_url_params(l,m);if(rdx.utils.is_function(l.get_view().refresh_view)){l.refresh_view(m)}};rdx.graphical_summary_handler.prototype.refresh_search=function(d){for(var c in this._detail_summary_view_map){this._detail_summary_view_map[c].refresh_search(d)}};rdx.graphical_summary_handler.prototype.data_to_custom_search=function(c){for(var d in this._detail_summary_view_map){if(rdx.utils.is_defined(c[d])){this._detail_summary_view_map[d].set_option_key(c[d])}}};rdx.graphical_summary_handler.prototype.destroy=function(){for(var d in this._detail_summary_view_map){var c=this._detail_summary_view_map[d];c.get_parent().remove()}if(rdx.utils.is_defined(this._search_collapse_arrow)){this._search_collapse_arrow.remove()}$(this._custom_search).unbind(rdx.events.GRAPHICAL_SUMMARY_EVENT);$(this._view_div).unbind(rdx.events.GRAPHICAL_SUMMARY_EVENT)};rdx.graphical_summary_handler.prototype.get_search_dom=function(){return this._custom_search};rdx.graphical_summary_handler.prototype._get_resource_key_map=function(h){var l={};for(var o=0;o<h.length;o++){var m=rdx.utils.get_resource(this._detail_summary_view_map[h[o]].get_resource_name())["properties"];var n=m[h[o]];if(rdx.utils.is_defined(n)){var g=rdx.utils.is_defined(n.label)?rdx.i18n.get_string(n.label):h[o];l[g]=h[o]}else{l[h[o]]=h[o]}}return l};rdx.graphical_summary_handler.prototype.register_graphical_summary_change_listener=function(d,c){$(this._custom_search).bind(rdx.events.GRAPHICAL_SUMMARY_EVENT,{object:d,callback:c,graphical_summary_handler:this},this.trigger_graphical_summary_change)};rdx.graphical_summary_handler.prototype.trigger_graphical_summary_change=function(e,h,f,g){e.data.callback.call_back([e.data.object,e.data.graphical_summary_handler,h,f,g])};rdx.graphical_summary_handler.prototype.graphical_handler_callback=function(d,e,f){$(this._custom_search).trigger(rdx.events.GRAPHICAL_SUMMARY_EVENT,[d,e,f])};rdx.graphical_summary_handler.prototype.register_graphical_summary_refresh=function(b){$(this._view_div).bind(rdx.events.GRAPHICAL_SUMMARY_REFRESH,{object:b,graphical_summary_handler:this},this.refresh_graphical_search)};rdx.graphical_summary_handler.prototype.refresh_graphical_search=function(m,f,g,l){var h=m.data.graphical_summary_handler;switch(f.type){case"REFRESH":h.refresh_search(g);break;case"ADD_DATA":h.data_to_custom_search(l);break}};rdx.graphical_summary_params=function(d,c){this._DEFAULT_PROPERTIES={graphic_view_name:null,resource_name:null,response_handler_callback:null,response_properties:null,resource_property:null,render_filters:true,static_view_context:{All:{label:"All",color:"#FFF",inherit_context:true}},view_name:null,title:null};this._base_view_context=c;this._properties=$.extend(true,{},this._DEFAULT_PROPERTIES,d)};rdx.graphical_summary_params.prototype.get_graphic_view_name=function(){return this._properties.graphic_view_name};rdx.graphical_summary_params.prototype.is_filter_needed=function(){return this._properties.render_filters};rdx.graphical_summary_params.prototype.get_resource_name=function(){if(rdx.utils.is_defined(this._properties.graphic_view_name)){var b=rdx.utils.get_view(this._properties.graphic_view_name).resource_name;return b}else{return this._properties.resource_name}};rdx.graphical_summary_params.prototype.get_response_properties=function(){if(rdx.utils.is_defined(this._properties.graphic_view_name)){var b=rdx.utils.get_view(this._properties.graphic_view_name);return rdx.utils.object_keys(b.resource_properties)}else{return this._properties.response_properties}};rdx.graphical_summary_params.prototype.get_response_handler_callback=function(){return this._properties.response_handler_callback};rdx.graphical_summary_params.prototype.get_resource_property=function(){return this._properties.resource_property};rdx.graphical_summary_params.prototype.get_static_view_context=function(){return this._properties.static_view_context};rdx.graphical_summary_params.prototype.get_title=function(){return this._properties.title};rdx.graphical_summary_params.prototype.get_view_name=function(){return this._properties.view_name};rdx.graphical_summary_params.prototype.get_single_context=function(b){if(rdx.utils.is_empty(b)||rdx.utils.is_not_defined(this._properties.static_view_context)||rdx.utils.is_not_defined(this._properties.static_view_context[b])){return null}return this._properties.static_view_context[b]};rdx.graphical_summary_params.prototype.get_color_for_key=function(b){if(rdx.utils.is_empty(b)||rdx.utils.is_not_defined(this._properties.static_view_context)||rdx.utils.is_not_defined(this._properties.static_view_context[b])){return null}return rdx.utils.is_defined(this._properties.static_view_context[b]["color"])?this._properties.static_view_context[b]["color"]:"#FFF"};rdx.graphical_summary_params.prototype.get_label_for_key=function(b){if(rdx.utils.is_empty(b)||rdx.utils.is_not_defined(this._properties.static_view_context)||rdx.utils.is_not_defined(this._properties.static_view_context[b])){return null}return rdx.utils.is_defined(this._properties.static_view_context[b]["label"])?this._properties.static_view_context[b]["label"]:null};rdx.graphical_summary_params.prototype.get_view_context_for_key=function(e){if(rdx.utils.is_empty(e)||rdx.utils.is_not_defined(this._properties.static_view_context)||rdx.utils.is_not_defined(this._properties.static_view_context[e])){return null}var d=rdx.utils.is_defined(this._properties.static_view_context[e]["view_context"])?$.extend(true,{},this._properties.static_view_context[e]["view_context"]):null;if(rdx.utils.is_defined(d)){var f=this._base_view_context.get_properties();if(rdx.utils.is_defined(f.static_filter)){d.static_filter=$.extend({},f.static_filter,d.static_filter)}}return d};rdx.graphical_summary_params.prototype.get_inherit_context=function(b){if(rdx.utils.is_empty(b)||rdx.utils.is_not_defined(this._properties.static_view_context)||rdx.utils.is_not_defined(this._properties.static_view_context[b])){return false}return rdx.utils.is_defined(this._properties.static_view_context[b]["inherit_context"])?this._properties.static_view_context[b]["inherit_context"]:false};rdx.graphical_summary_params.prototype.get_filters=function(){return rdx.utils.object_keys(this._properties.static_view_context)};rdx.graphical_summary_component=function(d,e,f){this._parent=d;this._search_properties=e;this._detail_summary_params=new rdx.graphical_summary_params(e,f);this._main_div=$("<div>").addClass("white_bkg");if(rdx.utils.is_defined(this._detail_summary_params.get_graphic_view_name())){this._chart_div=$("<div>").addClass("detail_search_chart");this._main_div.append(this._chart_div)}if(this._detail_summary_params.is_filter_needed()){this._filter_types=$("<div>").addClass("chart_options filter-types-container");this._main_div.append(this._filter_types)}this._parent.append(this._main_div);this._filters=this._detail_summary_params.get_filters();this._graphic_view=null;this._search_callback=null;this._prev_selected_option=null;this._search_is_rendered=false;this._view_definition=null;this._count_dom_holder=new Object();this._option_div_holder=new Object();this._arrow_span=null};rdx.graphical_summary_component.prototype.render=function(){if(rdx.utils.is_defined(rdx.query_string_view_and_get_url_selection_property_name)){rdx.query_string_view_and_get_url_selection_property_name={}}var c=this._detail_summary_params.get_resource_name();var d=this;rdx.model.get_all(rdx.utils.get_resource(c),null,new rdx.callback(function(h){if(!d._search_is_rendered){d._render();d._search_is_rendered=true}var a=rdx.utils.get_resource(d._detail_summary_params.get_resource_name());var g=d._detail_summary_params.get_response_handler_callback();if(rdx.utils.is_defined(g)){var b=new rdx.view_callback_on_response_arrived_params({return_call_back:new rdx.callback(function(f,e){d.get_resource_response_arrived(f)}),response:h[a.name],unformatted_response:h});g.call_back([b])}else{d.get_resource_response_arrived(h[a.name])}},[d]))};rdx.graphical_summary_component.prototype._render=function(){if(rdx.utils.is_defined(this._detail_summary_params.get_title())){var m=$("<div>").addClass("title_label_div");m.append(this._detail_summary_params.get_title());this._parent.append(m)}if(rdx.utils.is_defined(this._detail_summary_params.get_graphic_view_name())){this._view_definition=$.extend(true,{},rdx.utils.get_view(this._detail_summary_params.get_graphic_view_name()));this._view_definition.view_properties.point_select_callback=new rdx.callback(this,this._handle_point_click)}if(this._detail_summary_params.is_filter_needed()){if(rdx.utils.is_not_defined(this._detail_summary_params.get_graphic_view_name())){this._filter_types.addClass("option_border_top_no_graphic")}var n=this._filters;for(var o=0;o<this._filters.length;o++){var g=$("<div>").css("border-left","6px solid "+this._detail_summary_params.get_color_for_key(n[o])).addClass("clearfix");this._option_div_holder[n[o]]=g;var h=$("<span>").addClass("label_div").append(this._detail_summary_params.get_label_for_key(n[o]));var l=$("<span>").addClass("count_span").append("0");if(n[o]!="All"){l.css("color",this._detail_summary_params.get_color_for_key(n[o]))}this._count_dom_holder[n[o]]=l;g.append(h).append(l);this._filter_types.append(g);if(n[o]=="All"){this._handle_dom_changes_on_option_click(n[o],this._prev_selected_option)}g.bind(rdx.events.CLICK,{detail_chart:this,key:n[o]},function(a){a.data.detail_chart._handle_dom_changes_on_option_click(a.data.key,a.data.detail_chart._prev_selected_option);a.data.detail_chart._handle_option_click(a.data.key,true)})}}};rdx.graphical_summary_component.prototype._render_chart_view=function(d){if(rdx.utils.is_defined(this._detail_summary_params.get_graphic_view_name())){if(rdx.utils.is_defined(d)){this._view_definition.view_properties.selected_data=d}this._chart_div.empty();this._graphic_view=new rdx.base_view(this._chart_div,this._view_definition);var c=this._graphic_view.get_view_context();c.set_url_params({is_data_set:true},this._response);this._graphic_view.set_view_context(c);this._graphic_view.prepare_view()}};rdx.graphical_summary_component.prototype._handle_option_click=function(c,d){this._search_callback.call_back([this._detail_summary_params.get_resource_property(),this._detail_summary_params.get_view_context_for_key(c),this._detail_summary_params.get_inherit_context(c)]);if(rdx.utils.is_defined(this._detail_summary_params.get_graphic_view_name())&&rdx.utils.is_defined(d)&&d==true){this._render_chart_view(c)}};rdx.graphical_summary_component.prototype._handle_point_click=function(d){var c=d.name;this._search_callback.call_back([this._detail_summary_params.get_resource_property(),this._detail_summary_params.get_view_context_for_key(c),this._detail_summary_params.get_inherit_context(c)]);this._handle_dom_changes_on_option_click(c,this._prev_selected_option)};rdx.graphical_summary_component.prototype._handle_dom_changes_on_option_click=function(m,h){if(!this._detail_summary_params.is_filter_needed()){return}var q=this._option_div_holder[m];var o=this._detail_summary_params.get_single_context(m);if(!q.hasClass("selected")){if(rdx.utils.is_defined(h)){var l=this._option_div_holder[h];var p=this._count_dom_holder[h];if(this._detail_summary_params.get_label_for_key(h)!="All"){p.css("color",this._detail_summary_params.get_color_for_key(h));$(l).removeClass("selected")}$(l).css("background-color","transparent");this._arrow_span.remove()}if(o.label!="All"){q.addClass("selected");this._count_dom_holder[m].css("color","#FFF");q.css("background-color",o.color);var n=$("<span>").addClass("selected_arrow_span");n.css("border-right","9px solid "+o.color)}else{var n=$("<span>").addClass("selected_arrow_span");n.css("border-right","8px solid #ECECEC")}q.prepend(n);this._arrow_span=n;this._prev_selected_option=m}};rdx.graphical_summary_component.prototype.add_search_listner=function(b){this._search_callback=b};rdx.graphical_summary_component.prototype.get_resource_response_arrived=function(u){var w=0;var n=[];var x=this._detail_summary_params.get_response_properties();for(var s=0;s<u.length;s++){var t={};var o=u[s][x[0]];var p=u[s][x[1]];t[x[0]]=o;t[x[1]]=p;n.push(t);w+=parseInt(p);if(this._detail_summary_params.is_filter_needed()){var q=this._count_dom_holder[o];q.empty();q.append(p);if(this._prev_selected_option!=o){q.css("color",this._detail_summary_params.get_color_for_key(o))}}}if(this._detail_summary_params.is_filter_needed()){var v=this._count_dom_holder.All;v.empty();v.append(w)}this._response=n;if(rdx.utils.is_defined(this._detail_summary_params.get_graphic_view_name())){if(w!=0){this._render_chart_view(this._prev_selected_option)}else{this._chart_div.empty();this._chart_div.addClass("top_border_no_chart")}}};rdx.graphical_summary_component.prototype.get_parent=function(){return this._parent};rdx.graphical_summary_component.prototype.get_search_dom=function(){return this._main_div};rdx.graphical_summary_component.prototype.refresh_search=function(b){this.render();if(rdx.utils.is_defined(b)&&b==true){this._handle_dom_changes_on_option_click("All",this._prev_selected_option);this._handle_option_click("All")}};rdx.graphical_summary_component.prototype.set_option_key=function(b){this._handle_dom_changes_on_option_click(b,this._prev_selected_option);this.render()};rdx.graphical_summary_component.prototype.get_resource_name=function(){return this._detail_summary_params.get_resource_name()};rdx.configure_view_operation_params=function(b){this._DEFAULT_PROPERTIES={resource_defn:null,resource_for_operation:null,callback_on_success:null,callback_on_failure:null,continue_on_error:false,model_method:null,param:null,return_call_back:null,app_context_data:null,show_field_error_callback:null,action:null,resource_context:null,dom_element:null,form_data:null,activate_view_state:null,unmask_view:null,mask_view:null};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b)};rdx.configure_view_operation_params.prototype.get_resource_defn=function(){return this._properties.resource_defn};rdx.configure_view_operation_params.prototype.show_error=function(b){if(rdx.utils.is_not_defined(this._properties.show_field_error_callback)){return}this._properties.show_field_error_callback.call_back([b])};rdx.configure_view_operation_params.prototype.activate_view_state=function(){if(rdx.utils.is_not_defined(this._properties.activate_view_state)){return}this._properties.activate_view_state.call_back()};rdx.configure_view_operation_params.prototype.get_resource_for_operation=function(){return this._properties.resource_for_operation};rdx.configure_view_operation_params.prototype.get_callback_on_success=function(){return this._properties.callback_on_success};rdx.configure_view_operation_params.prototype.get_callback_on_failure=function(){return this._properties.callback_on_failure};rdx.configure_view_operation_params.prototype.get_model_method=function(){return this._properties.model_method};rdx.configure_view_operation_params.prototype.get_action=function(){return this._properties.action};rdx.configure_view_operation_params.prototype.get_dom_element=function(){return this._properties.dom_element};rdx.configure_view_operation_params.prototype.set_resource_defn=function(b){return this._properties.resource_defn=b};rdx.configure_view_operation_params.prototype.set_resource_for_operation=function(b){return this._properties.resource_for_operation=b};rdx.configure_view_operation_params.prototype.set_callback_on_success=function(b){return this._properties.callback_on_success=b};rdx.configure_view_operation_params.prototype.set_model_method=function(b){return this._properties.model_method=b};rdx.configure_view_operation_params.prototype.set_action=function(b){return this._properties.action=b};rdx.configure_view_operation_params.prototype.set_resource_context=function(b){return this._properties.resource_context=b};rdx.configure_view_operation_params.prototype.get_resource_context=function(){return this._properties.resource_context};rdx.configure_view_operation_params.prototype.set_param=function(b){return this._properties.param=b};rdx.configure_view_operation_params.prototype.get_continue_on_error=function(){return this._properties.continue_on_error};rdx.configure_view_operation_params.prototype.set_continue_on_error=function(b){return this._properties.continue_on_error=b};rdx.configure_view_operation_params.prototype.get_param=function(){return this._properties.param};rdx.configure_view_operation_params.prototype.get_app_context_data=function(){return this._properties.app_context_data};rdx.configure_view_operation_params.prototype.resume=function(){return this._properties.return_call_back.call_back([this])};rdx.configure_view_operation_params.prototype.get_form_data=function(){return this._properties.form_data};rdx.configure_view_operation_params.prototype.unmask_present_view=function(){if(rdx.utils.is_not_defined(this._properties.unmask_view)){return}this._properties.unmask_view.call_back()};rdx.configure_view_operation_params.prototype.mask_present_view=function(){if(rdx.utils.is_not_defined(this._properties.mask_view)){return}this._properties.mask_view.call_back()};rdx.configure_view=function(h,e,g,f){this._base_view=f;this._view_definition=e;this._parent=h;this._resource=g;this._form=null;this._form_controller=new rdx.form_controller(this._base_view,this._parent,false);this._field_dependencies=null;this._custom_submit_handler_callback=null;this._custom_cancel_handler_callback=null;this.is_back_button_required=true};rdx.configure_view.prototype=new rdx.abstract_view();rdx.configure_view.prototype.make_view=function(){this._base_view.remove_decorator();this._DEFAULT_PROPERTIES={standalone_mode:false};var p=$.extend({},this._DEFAULT_PROPERTIES,this._view_definition.view_properties);var m=p.standalone_mode?{}:this._resource.properties;if(rdx.utils.is_not_defined(p.submit_operation)||rdx.utils.is_not_defined(p.submit_operation.method)){p.submit_operation={method:rdx.model_constants.ADD,action:null}}if(rdx.utils.is_not_defined(this._custom_submit_handler_callback)){p.submit_handler_callback=new rdx.callback(this._form_controller,this._form_controller.do_model_operation)}else{p.submit_handler_callback=this._custom_submit_handler_callback}if(rdx.utils.is_not_defined(this._custom_cancel_handler_callback)){p.cancel_handler_callback=new rdx.callback(this,this.configure_view_close)}else{p.cancel_handler_callback=this._custom_cancel_handler_callback}if(this.is_dialog()==false){p.add_border=false}this._form=new rdx.form(this._parent,this._view_definition.resource_properties,m,p);this._form.get_form_holder().set_is_dialog(this._is_dialog_mode());var q=p.title;if((q==null||q=="")&&rdx.utils.is_defined(this._resource)){var n=rdx.i18n.get_string(this._resource.obj_type);var o=rdx.i18n.get_string("rdx.view_configure_title_add",{obj_type:n});var h=rdx.i18n.get_string("rdx.view_configure_title_modify",{obj_type:n});q=this._form.get_form_holder().is_add_mode()?o:h}else{if(rdx.utils.is_defined(this._resource)){var n=rdx.i18n.get_string(this._resource.obj_type);q=rdx.i18n.get_string(q,{obj_type:n})}else{q=rdx.i18n.get_string(q)}}if(this._is_dialog_mode()==false){this._parent.addClass("op_wizard_form_panel form_inline smooth_all_corner");if(this.get_is_back_button_required()==true){this._parent.addClass("custom_view_title_bar");this._form.set_add_help_id(false)}}if(this._view_definition.view_properties.from_wizard==true){this._parent.removeClass("op_wizard_form_panel")}if(rdx.utils.is_defined(this._view_definition.view_properties.custom_view_class_name)){this._parent.addClass(this._view_definition.view_properties.custom_view_class_name)}if(this._view_definition.view_properties.add_title==false){this._parent.removeClass("form_inline")}this._form.set_crumb_handler(this._base_view.get_crumb_handler());this._form.render();this._form.set_resource(this._resource);this._form.get_form_holder().set_app_context_data(this._base_view.get_view_context().get_app_context_data());this._form.add_form_initialized_event(new rdx.callback(this,this._form_initialized));rdx.form_utils.prefill_form_data(this._parent,this._form,this._form,this._form._get_field_resource_response_arrived);var l={minHeight:50,width:350,modal:true,resizable:false,title:q,dialogClass:"configure_view"};this._base_view.set_default_dialog_properties(l)};rdx.configure_view.prototype.add_mask=function(){return true};rdx.configure_view.prototype.do_toggle_view=function(){if(this._view_definition.view_properties.toggle_view==false){return false}return true};rdx.configure_view.prototype.make_view_finalize=function(){this._form.finalize()};rdx.configure_view.prototype.handle_unmask=function(){rdx.mask.unmask_component(this._parent,this._base_view.get_mask_id())};rdx.configure_view.prototype.get_resource_response_arrived=function(c){var d=rdx.utils.get_formatted_response(c);if(rdx.utils.is_not_defined(d)){this._form.initialize();this._form_initialized(this._form);return}this._form.initialize(d)};rdx.configure_view.prototype._form_initialized=function(b){if(rdx.utils.is_defined(this._view_definition.field_dependencies)){this._field_dependencies=new rdx.dependency(this._form,this._view_definition.field_dependencies)}this.handle_unmask();if(rdx.utils.is_defined(this._field_dependencies)){this._field_dependencies.trigger_dependencies()}if(rdx.utils.is_defined(this._parent)){rdx.utils.set_focus_on_first_editable_component(this._parent.get(0))}this._base_view.set_view_state(rdx.view_constants.view_state.ACTIVE);this._base_view.get_view_context().set_initial_data()};rdx.configure_view.prototype._is_dialog_mode=function(){if(rdx.utils.is_defined(this._base_view.get_crumb_handler())){return false}if(rdx.utils.is_not_defined(this._view_definition.view_properties.dialog_mode)){return false}return this._view_definition.view_properties.dialog_mode};rdx.configure_view.prototype.get_form=function(){return this._form};rdx.configure_view.prototype.is_dialog=function(){return this._is_dialog_mode()};rdx.configure_view.prototype.configure_view_close=function(b){this.close_view(false)};rdx.configure_view.prototype.close_view=function(d,c){if(rdx.utils.is_not_defined(c)){c=d}this._base_view.destroy_view({submit_called:(rdx.utils.is_defined(c)&&c)},false)};rdx.configure_view.prototype.destroy_view=function(c){var d=this._form.destroy_form(c)};rdx.configure_view.prototype._is_add_mode=function(){if(rdx.utils.is_not_defined(this._view_definition.view_properties)||rdx.utils.is_not_defined(this._view_definition.view_properties.submit_operation)){return true}var b=this._view_definition.view_properties.submit_operation.method;if(rdx.utils.is_defined(b)&&b==rdx.model_constants.ADD){return true}return false};rdx.configure_view.prototype.get_form_controller=function(){return this._form_controller};rdx.configure_view.prototype.get_data=function(){return this.get_form_controller().get_resource_for_operation()};rdx.configure_view.prototype.set_custom_submit_handler_callback=function(b){this._custom_submit_handler_callback=b};rdx.configure_view.prototype.set_custom_cancel_handler_callback=function(b){this._custom_cancel_handler_callback=b};rdx.configure_view.prototype.get_is_back_button_required=function(){if(this._view_definition.view_properties.is_back_button_required===false){return false}return this.is_back_button_required};rdx.configure_view.prototype.set_is_back_button_required=function(b){this.is_back_button_required=b};rdx.configure_view.prototype.is_title_required=function(){return false};rdx.overview_view=function(f,d,e){this._parent=f;this._view_definition=d;this._base_view=e;this._toolbar_items=null;this._entity_count_requests=[]};rdx.overview_view.prototype=new rdx.abstract_view();rdx.overview_view.prototype.make_view=function(){this._parent.removeClass("view_div_decorator");var c=$(document.createElement("div")).addClass("overview_div");this._parent.append(c);this.create_top_level_border_boxes(c,this._view_definition.nodes);if(rdx.utils.is_defined(this._view_definition.common_links)){var d=$("<div>");d.addClass("overview_common_links");this.process_links(d,this._view_definition.common_links,true);c.append(d)}};rdx.overview_view.prototype.create_top_level_border_boxes=function(o,g){for(var h=0,m=g.length;h<m;h++){var n=g[h];var l=$("<table>").attr("cellSpacing",0).addClass("overview_table_border").addClass("smooth_all_corner");if(rdx.utils.is_defined(this._view_definition.view_properties.add_border)&&!this._view_definition.view_properties.add_border){l.css("border","none")}o.append(l);this.create_link_groups(l,n)}};rdx.overview_view.prototype.create_link_groups=function(m,n){var o=null;for(var h=0,p=n.length;h<p;h++){if(h%2==0){o=$("<tr>");m.append(o)}var q=n[h];var l=$("<td>");l.append(this.create_link_group(q));if(q.name&&q.name.length>0){l.addClass("overview_table_cell_non_empty");if((h%2!=0&&n.length>1)||n.length==1){l.addClass("overview_table_cell_last_child")}o.append(l)}}};rdx.overview_view.prototype.create_link_group=function(f){var g=$("<table>").addClass("overview_table_no_border");var h=$("<tr>");g.append(h);var m=$("<td>");h.append(m);var l=$("<div>").addClass("overview_table_title_cell");l.text(rdx.i18n.get_string(f.name));m.append(l);if(f.name&&f.name.length>0){this.process_links(m,f.links)}return g};rdx.overview_view.prototype.process_links=function(N,V,D){var S;for(var C=0,H=V.length;C<H;C++){if(!V[C]){continue}var P=V[C];if(!this._can_render(P)){continue}var L=(D)?$("<span>"):$("<div>");N.append(L);var J=P.title;var U=P.tooltip;U=rdx.utils.is_not_empty(U)?rdx.i18n.get_string(U):rdx.i18n.get_string("rdx.view_render_open_link_text");if(rdx.utils.is_defined(P.is_valid_callback)){var T=P.is_valid_callback;if(T.call_back()==false){continue}}if(!J){if(P.entitytype){J=P.entitytype}else{J="No Data"}}if(P.entitytype){entity_types=P.entitytype.split("^");var M=false;var E;if(entity_types.length==1){E=rdx.utils.get_resource(P.entitytype)}else{M=true;E=rdx.utils.get_resource(P.entitytype.replace(/\^/g,"_"))}count_img_cell=$(document.createElement("img")).attr("src",rdx.images.IN_PROGRESS_SMALL_IMG).attr("alt","in_progress").addClass("overview_link_img");rdx.utils.add_image_error_handler(count_img_cell);L.append(count_img_cell);var R=rdx.utils.is_defined(P.title)?P.title:E.obj_type;S=$(document.createElement("a")).attr("href","#noAnchor").attr("title",U).append(" "+rdx.i18n.get_string(R));if(M){for(var F=0;F<entity_types.length;F++){var K=rdx.utils.get_resource(entity_types[F]);var Q={html_text:S,resrc:K,img_cell:count_img_cell,success_callback:new rdx.callback(this,this._get_entity_count_response_arrived,[K.name,S,E,count_img_cell,true,M,R,P]),dom_object:this._parent,error_callback:new rdx.callback(this,this._get_entity_count_response_arrived,[K.name,S,E,count_img_cell,false,M,R,P])};count_img_cell.show();rdx.model.get_count(Q.resrc,null,Q.success_callback,Q.dom_object,Q.error_callback);this._entity_count_requests.push(Q)}}else{var Q={html_text:S,resrc:E,img_cell:count_img_cell,success_callback:new rdx.callback(this,this._get_entity_count_response_arrived,[E.name,S,E,count_img_cell,true,M,R,P]),dom_object:this._parent,error_callback:new rdx.callback(this,this._get_entity_count_response_arrived,[E.name,S,E,count_img_cell,false,M,R,P])};count_img_cell.show();rdx.model.get_count(Q.resrc,null,Q.success_callback,Q.dom_object,Q.error_callback);this._entity_count_requests.push(Q)}S.bind(rdx.events.CLICK,{link:P},function(c){var a=rdx.get_tree();if(rdx.utils.is_defined(a)){if(rdx.utils.is_defined(c.data.link.tree_node_path)){var d=a.get_node(c.data.link.tree_node_path);if(rdx.utils.is_defined(d)){rdx.view_utils.add_dynamic_view_properties(d.data.ns_view_definition,c.data.link)}a.select_node(c.data.link.tree_node_path)}else{if(rdx.utils.is_defined(c.data.link.view)&&rdx.utils.is_defined(c.data.link.view.__tree_key)){var b=rdx.view_utils.get_tree_key(c.data.link.view);var d=a.get_view_definition(b);if(rdx.utils.is_defined(d)){rdx.view_utils.add_dynamic_view_properties(d,c.data.link)}a.select_node(b)}}}})}else{if(P.click_handler_callback){S=$(document.createElement("a")).attr("href","#noAnchor").attr("title",U).append(J);S.html(rdx.i18n.get_string(J));L.addClass("overview_link_without_img");S.bind(rdx.events.CLICK,{ns_click_handler_callback:P.click_handler_callback},function(a){a.data.ns_click_handler_callback.call_back()})}else{if(P.view){S=$(document.createElement("a")).attr("href","#noAnchor").attr("title",U).append(J);S.html(rdx.i18n.get_string(J));var I=null;if(P.multiple_count==true){var R=P.title;var O=this;var W=new rdx.model_executor_service(new rdx.callback(null,function(a){var b=a.get_collated_response();var c=a.get_collated_resource_for_operation()[0];O._update_count_response(c,b[0],b[1])}));for(var m=0;m<P.resources.length;m++){W.add(rdx.model_constants.GET_COUNT,rdx.utils.get_resource(P.resources[m]),{html_text:S,link_title:R})}W.execute()}if(typeof(P.view)=="string"){I=rdx.utils.get_view(P.view)}else{I=P.view}L.addClass("overview_link_without_img");S.bind(rdx.events.CLICK,{view_definition:I,overview_view:this,link:P},function(b){var a=rdx.get_tree();var c=b.data.view_definition;rdx.view_utils.add_dynamic_view_properties(c,b.data.link);if(rdx.utils.is_defined(a)&&rdx.utils.is_defined(c.__tree_key)){a.select_node(c.__tree_key)}else{var e=rdx.view_utils.show_view_in_full_page(c,b.data.overview_view._base_view);var d=e.get_view_context();if(rdx.utils.is_defined(P.view_context)){d.set_url_params(P.view_context,{})}e.prepare_view()}});if(rdx.utils.is_defined(rdx.get_test_framework)&&rdx.get_test_framework().is_test_mode){rdx.get_test_framework().overview_view_link_stack.push({clickable:S,title:rdx.i18n.get_string(J)})}}else{if(P.link){var G=new rdx.link(P.link);S=$("<a>").attr("href","#noAnchor").attr("title",U).append(J);S.bind(rdx.events.CLICK,{link_defn:G},function(a){a.data.link_defn.fire()});L.addClass("overview_link_without_img")}else{S=$(document.createElement("div")).html(J);L.addClass("overview_link_without_img")}}}}if(P.class_name){L.addClass(P.class_name)}if(rdx.utils.is_instrumentation_enabled()&&S&&S.context&&S.context.tagName=="A"){var Z=rdx.utils.get_view_title();inner_text=$.trim(S.text());S.attr("id",Z+"-anc-"+inner_text.replace(/\ /g,"_"))}L.append(S);if(rdx.utils.is_defined(rdx.get_test_framework)&&rdx.get_test_framework().is_test_mode){rdx.get_test_framework().overview_view_link_stack.push({clickable:S,title:J})}}};rdx.overview_view.prototype._can_render=function(b){if(rdx.utils.is_defined(b)){if(rdx.utils.is_defined(b.render)&&rdx.utils.is_defined(b.render.evaluate)&&rdx.utils.is_function(b.render.evaluate)){return b.render.evaluate()}}return true};rdx.overview_view.prototype.is_tool_bar_required=function(){return true};rdx.overview_view.prototype.is_action_bar_required=function(){return true};rdx.overview_view.prototype.is_title_required=function(){return true};rdx.overview_view.prototype._add_tool_bar=function(){var b=[new rdx.action({image_url:rdx.images.REFRESH_IMG,click_handler_callback:new rdx.callback(this,this._refresh_view)})];this._toolbar_items=b};rdx.overview_view.prototype.get_toolbar_items=function(){if(rdx.utils.is_defined(this._toolbar_items)){return this._toolbar_items}this._add_tool_bar();return this._toolbar_items};rdx.overview_view.prototype._refresh_view=function(){for(var f=0,d=this._entity_count_requests.length;f<d;f++){var e=this._entity_count_requests[f];e.html_text.text(" "+rdx.i18n.get_string(e.resrc.obj_type))}for(var f=0,d=this._entity_count_requests.length;f<d;f++){var e=this._entity_count_requests[f];e.img_cell.show();e.img_cell.attr("src",rdx.images.IN_PROGRESS_SMALL_IMG).attr("alt","in_progress");rdx.model.get_count(e.resrc,null,e.success_callback,e.dom_object,e.error_callback)}};rdx.overview_view.prototype._update_count_response=function(e,f,g){var h=rdx.i18n.get_string(e.link_title,{count_0:f,count_1:g});e.html_text.text(h);if(f==0){e.html_text.addClass("link_disabled").attr("title","").unbind("click")}};rdx.overview_view.prototype._get_entity_count_response_arrived=function(C,Q,L,D,P,y,G,K,J){if(D.image_url){if(D.image_url.indexOf("+")>0){D.image_url=D.image_url.substring(0,D.image_url.indexOf("+"))}}P.attr("src",rdx.images.SPACER_IMG);P.show();if(y){P.hide();var F=C;var z=rdx.i18n.get_string(K);var H=L.html().match(/(?:<b>)?(.+?)(?:\<)/i);var N;if(L.html().indexOf(" ")==0){N=F}else{if(L.html().indexOf("<b>No</b>")==0||G==false){N=F}else{if(G==true){N=parseInt(H[1])+parseInt(F)}}}if(N==0){N="No"}if(isNaN(F)){N=""}try{var R=parseInt(N);if(R>1){var A=z;var O=A.charAt(A.length-1);var E=A.charAt(A.length-2);var I=["a","e","i","o","u"];if(O=="y"&&$.inArray(E,I)==-1){A=A.substring(0,A.length-1);A+="ies"}else{if(O=="x"){A+="es"}else{A+="s"}}z=A}}catch(M){}if(rdx.utils.is_defined(J.response_renderer_callback)){var B=J.response_renderer_callback.call_back([F,true]);L.html(B)}else{L.html("<b>"+N+"</b> "+z)}}else{P.hide();if(rdx.utils.is_defined(J.response_renderer_callback)){var B=J.response_renderer_callback.call_back([C,false]);L.html(B)}else{L.replaceWith(rdx.i18n.get_string(D.obj_type)+" : "+C)}}};rdx.tabbed_view=function(f,d,e){this._parent=f;this._view_definition=d;this._base_view=e;this._title_div=null;this._tabs_div=null;this._view_div=null;this._view_definition.container_view=true;this._DEFAULT_PROPERTIES={add_border:true,content_border_width:"0",extra_info_renderer_callback:null,add_extra_info:false,destroy_view_on_tab_change:true,refresh_all_views:false,open_all_tabs:false,tab_class:null,expand_all_tabs:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,d.view_properties);this._tab_items_container=new Object();this._current_view=null;this._all_views={};this._is_vertical_tab=rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.align_vertically)?this._view_definition.view_properties.align_vertically:false;this._render_in_same_parent=rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.render_in_same_parent)?this._view_definition.view_properties.render_in_same_parent:false;this._render_title_for_tabs=rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.render_title_for_tabs)?this._view_definition.view_properties.render_title_for_tabs:false;this._tab_titles_map={}};rdx.tabbed_view.prototype=new rdx.abstract_view();rdx.tabbed_view.prototype.get_base_view=function(){return this._base_view};rdx.tabbed_view.prototype.get_view_context=function(){return this._base_view.get_view_context()};rdx.tabbed_view.prototype.make_view=function(){if(rdx.utils.is_defined(rdx.query_string_view_and_get_url_selection_property_name)){rdx.query_string_view_and_get_url_selection_property_name={}}if(rdx.utils.is_not_defined(rdx.global_navigation_bar)){this._title_div=$(document.createElement("div"));this._parent.append(this._title_div)}this._tabs_div=$(document.createElement("div"));this._tabs_div.addClass("tabs");if(rdx.utils.is_defined(this._properties.tab_class)){this._tabs_div.addClass(this._properties.tab_class)}this._parent.append(this._tabs_div);if(!this._properties.add_border){this._tabs_div.css("border","none")}this._view_div=$(document.createElement("div")).addClass("tabbed_view_div");this._view_div.css("border-width",this._properties.content_border_width);if(this._is_vertical_tab){this._parent.addClass("clearfix vertical_tabs_parent");this._parent.addClass(this._view_definition.name);this._tabs_div.addClass("vertical_tabs");if(this._render_title_for_tabs){this._tabs_div.addClass("vertical_tabs_title")}this._view_div.addClass("vertical_tabs_view")}this._parent.append(this._view_div);var D;var I;var ad=true;if(rdx.utils.is_defined(this._view_definition.add_to_bread_crumb)){ad=this._view_definition.add_to_bread_crumb}this._properties.is_tool_bar_required=false;for(var H=0,L=this._view_definition.tabs.length;H<L;H++){var S=this._view_definition.tabs[H];var R=rdx.utils.is_defined(S.hide_values)?S.hide_values:[];var P=$.extend({},S.view);P.view_properties=$.extend(true,P.view_properties,{_dont_show_title:true});var N="Tab "+H;if(S.title){N=S.title}else{if(P.view_properties.title){N=P.view_properties.title}}P.add_to_bread_crumb=rdx.utils.is_defined(P.add_to_bread_crumb)?P.add_to_bread_crumb:ad;P.view_properties.title=N;var K=$(document.createElement("li")).addClass("each_tab");if(rdx.utils.is_defined(this._properties.current_value)){if(R.length>0){if($.inArray(this._properties.current_value,R)!=-1){continue}}}if(rdx.utils.is_not_defined(D)){D=N}if(H==0){var J=N}var Q=N;N=rdx.i18n.get_string(N);this._tabs_div.append(K);var G=$(document.createElement("a")).attr("href","#noAnchor").attr("title",N);if(rdx.utils.is_instrumentation_enabled()){var ac=rdx.utils.get_view_title();inner_text=$.trim(N);G.attr("id",ac+"-tab-"+inner_text.replace(/\ /g,"_"))}K.append(G);var ab=$(document.createElement("span"));if(rdx.utils.is_defined(S.image)){ab.append($("<img>").attr("src",S.image))}ab.append(N);G.append(ab);this._tab_items_container[Q]={tabbed_view:this,li:K,view_definition:P,inherit_context:(rdx.utils.is_defined(S.inherit_context)&&S.inherit_context?true:false),count:null,i18n_title:Q,extra_tabbed_info_dom:rdx.utils.is_defined(Z)?Z:null};if(S.view.type==rdx.view_constants.DETAIL_VIEW||(rdx.utils.is_defined(this._properties.add_extra_info)&&this._properties.add_extra_info)){var aa=$("<span>").addClass("data-count");this._tab_items_container[Q]["count"]=aa;if(rdx.utils.is_defined(this._properties.extra_info_renderer_callback)){var V=this;if(this._is_vertical_tab){aa.addClass("vertical-data-count")}var Z=$("<span>").addClass("extra_info_span");this._tab_items_container[Q]["extra_tabbed_info_dom"]=Z;K.append(Z);this._call_extra_info_renderer_callback(Q)}else{var W=this._get_row_count(S,aa,Q);W=W?W:0;aa.text(W);G.append(aa)}}var O=rdx.utils.is_defined(S.inherit_context)&&S.inherit_context?true:false;K.bind(rdx.events.CLICK,{tabbed_view:this,a1:K,a2:P,a3:O,a4:Q},function(a){a.preventDefault();a.data.tabbed_view._tab_clicked(a.data.a1,a.data.a2,a.data.a3,a.data.a4);return false});if(rdx.utils.is_defined(rdx.get_test_framework)&&rdx.get_test_framework().is_test_mode){rdx.get_test_framework().tabbed_view_tab_stack.push({clickable:K,title:N})}if(this._properties.open_all_tabs===true){K.trigger(rdx.events.CLICK)}}this.toolbar_div=$("<div>").addClass("tabs_toolbar_container");this._tabs_div.append(this.toolbar_div);var E=rdx.view_utils.get_dynamic_view_properties(this._view_definition);if(rdx.utils.is_defined(E)&&rdx.utils.is_defined(E.default_tab)&&rdx.utils.is_defined(this._tab_items_container[E.default_tab])){D=this._properties[rdx.view_constants.DYNAMIC_VIEW_PROPERTIES]["default_tab"]}if((rdx.utils.is_defined(this._view_definition.view_properties.opened_tabs)&&this._view_definition.view_properties.opened_tabs!=null)&&rdx.utils.is_not_empty(this._view_definition.view_properties.opened_tabs)){var T=new Array();T=this._view_definition.view_properties.opened_tabs;for(var U=0;U<T.length;U++){this._tab_clicked(this._tab_items_container[T[U]].li,this._tab_items_container[T[U]].view_definition,this._tab_items_container[T[U]].inherit_context,T[U])}}else{this._tab_clicked(this._tab_items_container[D].li,this._tab_items_container[D].view_definition,this._tab_items_container[D].inherit_context,J)}this.resize_view();var F=(this._is_vertical_tab)?"."+this._view_definition.name+" .current_tabs":".current_tabs";var M=this._tabs_div.children(F);if(M.length>0){M.data("ns_view").resize_view()}};rdx.tabbed_view.prototype._call_extra_info_renderer_callback=function(e){var d=this;var f=new rdx.view_callback_on_response_arrived_params({return_call_back:new rdx.callback(function(a,b){if(rdx.utils.is_defined(b)){var c=d._tab_items_container[b].extra_tabbed_info_dom;if(rdx.utils.is_defined(c)){c.empty();c.append(a)}}})});this._properties.extra_info_renderer_callback.call_back([f,e])};rdx.tabbed_view.prototype._get_row_count=function(q,o,p){var h=null;var l=new rdx.base_view(null,q.view).get_view();var m=l.get_resource_name();var n=rdx.utils.get_resource(m);if(rdx.utils.is_defined(l.get_view_context().get_url_params())){h=$.extend(true,{},l.get_view_context().get_url_params())}rdx.model.get_count(n,h,new rdx.callback(function(a){o.text(a)},[m,o]))};rdx.tabbed_view.prototype._tab_clicked=function(s,A,u,v){var z=(this._is_vertical_tab)?"."+this._view_definition.name+" .current_tabs":".current_tabs";var B=this._tabs_div.children(z);if(rdx.utils.is_defined(this._properties.max_selection)){if($(z).length==1&&s.hasClass("current_tabs")){return}else{if($(z).length<=2&&s.hasClass("current_tabs")){this._view_div.empty()}else{if($(z).length<=2&&!s.hasClass("current_tabs")){this._view_div.empty()}else{return}}}if(rdx.utils.is_not_defined(this._tab_titles_map[v])){this._tab_titles_map[v]={is_clicked:true,view_definition:A}}else{if(rdx.utils.is_not_defined(this._tab_titles_map[v].is_clicked)){this._tab_titles_map[v].is_clicked=true}else{delete this._tab_titles_map[v].is_clicked}}}if(B.length>0){if(this._render_in_same_parent==true){if(this._render_title_for_tabs==true&&s.hasClass("current_tabs")){if(B.length==1){return}else{if(rdx.utils.is_defined(this._properties.onchange_callback)){this._properties.onchange_callback.call_back([this._view_definition,v,true])}s.removeClass("current_tabs");s.data("ns_view").destroy_view();s.data("ns_view").header_div.remove();this.calculate_height();return}}}else{if(this._properties.destroy_view_on_tab_change===true){B.data("ns_view").destroy_view();B.data("ns_view",null);this._view_div.children().remove()}else{B.data("ns_view")._view_div.hide()}if(this._properties.expand_all_tabs===true){B.data("ns_view")._view_div.show()}B.removeClass("current_tabs")}}if(rdx.utils.is_defined(this._properties.max_selection)&&$(z).length>=2){$(event.target).parents(z).removeClass("current_tabs");delete this._tab_titles_map[v].is_clicked;this._view_div.empty()}else{s.addClass("current_tabs")}if(this._properties.destroy_view_on_tab_change===false&&rdx.utils.is_defined(s.data("ns_view"))){s.data("ns_view")._view_div.show()}else{var q=$.extend(true,{},A);if(rdx.utils.is_not_defined(q.view_properties)){q.view_properties={}}q.view_properties.hide_refresh_button=true;if(this._render_in_same_parent!=true){var w=new rdx.base_view(this._view_div,q)}else{this._view_div_individual=$(document.createElement("div")).addClass("view_div_individual");this._view_div.append(this._view_div_individual);var w=new rdx.base_view(this._view_div_individual,q)}var D=w.get_view_container();var t=w.get_resource();$(t).bind(rdx.events.MODEL_COUNT_CHANGED,{tab:this._tab_items_container[v]},function(a,b){if(rdx.utils.is_defined(a.data.tab.count)&&a.data.tab.li.hasClass("current_tabs")){a.data.tab.count.text(b)}});if(u&&rdx.utils.is_defined(this.get_view_context().get_app_context_data())){w.get_view_context().set_url_params(A.view_context,this.get_view_context().get_app_context_data())}var x=this;$(D).bind(rdx.events.VIEW_PREPARATION_COMPLETED,{tab:this._tab_items_container[v]},function(d){if(x._is_vertical_tab){var b=x._tab_items_container;var a=0;for(var e in b){var c=b[e]["li"].outerHeight();a+=c}var f=x._view_div.outerHeight();if(a<f){x._tabs_div.css("height",f)}else{x._tabs_div.css("height",a)}}});w.set_toolbar_parent_elem(this._base_view._view_desc_block);w.set_parent_base_view(this._base_view);if(this._render_title_for_tabs==true){var C=$("<div>").addClass("header_tabbed_view_title").append(v);var y=$("<span>").addClass("header_tabbed_view_close");C.append(y);this._view_div_individual.prepend(C);y.bind(rdx.events.CLICK,{info_click:this,tab_title:v},function(a){if($(".header_tabbed_view").length!=1){a.data.info_click._tab_items_container[a.data.tab_title].li.removeClass("current_tabs");w.destroy_view();C.remove();a.data.info_click.calculate_height();if(rdx.utils.is_defined(a.data.info_click._properties.onchange_callback)){a.data.info_click._properties.onchange_callback.call_back([a.data.info_click._view_definition,v,true])}}});w.header_div=C}if(rdx.utils.is_defined(this._properties.multi_selection)&&this._properties.multi_selection==true){this._tab_titles_map[v]["ns_view"]=w;if(rdx.utils.is_defined(this._properties.multi_selection)&&this._properties.multi_selection==true){this._properties.multi_select_callback.call_back([this._tab_titles_map,w]);if(B.length>0){if(rdx.utils.is_defined(this._properties.onchange_callback)){this._properties.onchange_callback.call_back([this._view_definition,v,null,this._tab_titles_map])}w.prepare_view(true)}else{if(rdx.utils.is_defined(q.add_to_bread_crumb)&&q.add_to_bread_crumb===false){if(rdx.utils.is_defined(this._properties.onchange_callback)){this._properties.onchange_callback.call_back([this._view_definition,v,null,this._tab_titles_map])}w.prepare_view(true)}else{if(rdx.utils.is_defined(this._properties.onchange_callback)){this._properties.onchange_callback.call_back([this._view_definition,v])}w.prepare_view()}}}}else{if(rdx.utils.is_defined(q.add_to_bread_crumb)&&q.add_to_bread_crumb===false){if(rdx.utils.is_defined(this._properties.onchange_callback)){this._properties.onchange_callback.call_back([this._view_definition,v])}w.prepare_view(true)}else{if(rdx.utils.is_defined(this._properties.onchange_callback)){this._properties.onchange_callback.call_back([this._view_definition,v])}w.prepare_view()}}this._current_view=w;this._all_views[w._view_definition.view_properties.title]=w;if(rdx.utils.is_defined(this._title_div)){this._title_div.children().remove();if(rdx.utils.is_function(w.get_view().get_tool_bar)&&rdx.utils.is_defined(w.get_view().get_tool_bar())){this._title_div.append(w.get_view().get_tool_bar().removeClass("tool_bar_table_no_border"))}}s.data("ns_view",w);if($(".tree_pane").length>0){if(rdx.utils.is_defined(rdx.get_tree())&&rdx.utils.is_defined(rdx.get_tree().reinit_tree_menu)){rdx.get_tree().reinit_tree_menu()}}}};rdx.tabbed_view.prototype.calculate_height=function(){if(this._is_vertical_tab){var l=this._tab_items_container;var h=0;for(var f in l){var m=l[f]["li"].outerHeight();h+=m}var g=this._view_div.outerHeight();if(h<g){this._tabs_div.css("height",g)}else{this._tabs_div.css("height",h)}}};rdx.tabbed_view.prototype._add_tool_bar=function(){var b=[new rdx.action({tooltip:rdx.i18n.get_string("rdx.refresh"),image_url:rdx.images.REFRESH_IMG,click_handler_callback:new rdx.callback(this,this._refresh_view)})];this._toolbar_items=b};rdx.tabbed_view.prototype.get_toolbar_items=function(){if(rdx.utils.is_defined(this._toolbar_items)){return this._toolbar_items}this._add_tool_bar();return this._toolbar_items};rdx.tabbed_view.prototype.is_action_bar_required=function(){return rdx.utils.is_defined(this._view_definition.resource_operations)};rdx.tabbed_view.prototype._add_action_bar=function(){this._action_properties=rdx.view_utils.get_action_bar_items(this._view_definition,this._base_view.get_parent())};rdx.tabbed_view.prototype.get_action_items=function(){if(rdx.utils.is_defined(this._action_properties)){return this._action_properties}this._add_action_bar();return this._action_properties;return[]};rdx.tabbed_view.prototype.refresh_view=function(b){this._refresh_view(b)};rdx.tabbed_view.prototype._refresh_view=function(f){var m=new Object();if(rdx.utils.is_defined(f)&&rdx.utils.is_defined(f.view_context)){m=f.view_context}if(this._properties.refresh_all_views===true){for(var g in this._all_views){var g=this._all_views[g];if(!(g.get_view_definition().view_properties.auto_refresh===false)){if(rdx.utils.is_defined(g._view.refresh_view)){g._view.refresh_view(f)}else{g.prepare_view()}}}}else{if(rdx.utils.is_defined(this._current_view._view)){var g=this._current_view._view;rdx.utils.merge_and_set_url_params(g,m);g._refresh_view(f)}if(rdx.utils.is_defined(this._properties.extra_info_renderer_callback)){var l=this;for(var h in this._tab_items_container){this._call_extra_info_renderer_callback(h)}}}};rdx.tabbed_view.prototype.destroy_view=function(){this._current_view.destroy_view()};rdx.tabbed_view.prototype.is_title_required=function(){return true};rdx.tabbed_view.prototype.get_tabbed_element=function(c){for(var d in this._tab_items_container){if(rdx.i18n.get_string(d).toLowerCase()==rdx.i18n.get_string(c).toLowerCase()){return this._tab_items_container[d].li}}return null};rdx.tabbed_view.prototype.get_tabbed_view_definition=function(c){for(var d in this._tab_items_container){if(rdx.i18n.get_string(d).toLowerCase()==rdx.i18n.get_string(c).toLowerCase()){return this._tab_items_container[d].view_definition}}return null};rdx.url_view=function(f,d,e){this._parent=f;this._view_definition=d;this._base_view=e;this._iframe=null;this._DEFAULT_PROPERTIES={border:true,full_page_view:false};this._properties=$.extend({},this._DEFAULT_PROPERTIES,this._view_definition.view_properties)};rdx.url_view.prototype=new rdx.abstract_view();rdx.url_view.prototype.make_view=function(){if(this._properties.border===false){this._base_view.remove_decorator()}var c=this._view_definition.url;var d=this._base_view.get_view_context();if(rdx.utils.is_defined(d)&&rdx.utils.is_object_not_empty(d.get_url_params())){c=rdx.url_utils.get_url(this._view_definition.url,d.get_url_params())}this._iframe=$(document.createElement("iframe")).attr("src",c).attr("frameborder",0).addClass("iframe");if(rdx.utils.is_defined(this._view_definition.view_properties)){if(rdx.utils.is_defined(this._view_definition.view_properties.class_names)){this._iframe.addClass(this._view_definition.view_properties.class_names)}}if(rdx.utils.is_defined(this._view_definition.height)){this._iframe.height(this._view_definition.height)}this._parent.append(this._iframe);this.resize_view()};rdx.url_view.prototype.resize_view=function(){if(rdx.utils.is_defined(this._view_definition.height)){return}if(this._properties.full_page_view===false){var f=this._base_view.get_toolbar_height();var d=this._base_view.get_action_bar_height();var e=($(window).height()-rdx.page.get_header_height()-f-40);this._iframe.height(e)}else{var e=($(window).height()+40);this._iframe.height(e)}};rdx.url_view.prototype.refresh_view=function(){if(rdx.utils.is_defined(this._iframe)&&rdx.utils.is_defined(this._iframe.attr("src"))){this._iframe.attr("src",this._iframe.attr("src"))}};rdx.chart_view=function(v,C,A,t){this._parent=v;this._view_definition=C;this._resource=A;this._base_view=t;var u={type:rdx.chart_constants.LINE,show_current_values:false,show_peak_values:false,show_average_values:false,multiple_input_data_array:false,xaxis:null,yaxis:null,stackSeriesKey:null,is_data_stacked:false,colors_enum:[],title:null,x_axis_label_spacing:150,y_axis_label_renderer_callback:null,x_axis_label_enabled:true,x_axis_label_rotation:0,dynamic_number_of_arrays:false,is_response_array_of_objects:false,information_note:null,selected_data:null,overridden_colors:null,is_cdf_chart:false};this._view_properties=$.extend({},u,this._view_definition.view_properties);if(rdx.utils.is_defined(this._view_properties)){this._view_properties.title=rdx.i18n.get_string(this._view_properties.title);this._view_properties.header_title=rdx.i18n.get_string(this._view_properties.header_title)}if(rdx.utils.is_defined(this._view_properties._dont_show_title)&&(this._view_properties._dont_show_title==true)){this._view_properties.title=null}if(rdx.utils.is_defined(this._view_properties.is_date_time_xaxis)&&this._view_properties.is_date_time_xaxis==false){this._view_properties.show_current_values=false}if(rdx.utils.is_defined(this._view_properties.plot_two_axis)&&this._view_properties.plot_two_axis==true){this._view_properties.plot_two_axis=true}this._series=new Array();this._dummy_data_plotted=false;var B=typeof(this._view_properties.secondary_y_axis)=="undefined"?null:this._view_properties.secondary_y_axis;var w=0;var E=this._view_definition.resource_properties;for(var x in E){var s=E[x];var D=(typeof(s.percentage_axis)=="undefined"?false:s.percentage_axis);var z={name:this._get_resource_prop_label(x),percentage_axis:D,data:[]};var F=this._view_properties.type;var y=(typeof(s.type)=="undefined"?null:s.type);if(y!=null){z.type=y;F=y}if(F==rdx.chart_constants.AREA||F==rdx.chart_constants.STACKED_AREA||F==rdx.chart_constants.AREA_SPLINE||F==rdx.chart_constants.STACKED_AREA_SPLINE){z.data.push({y:0,x:new Date().getTime()});this._dummy_data_plotted=true}if(B!=null&&this._view_properties.type!=rdx.chart_constants.PIE){if(B==x){this._view_properties.secondary_y_axis=w}}this._series.push(z);w++;if(this._view_properties.type==rdx.chart_constants.PIE){break}}this._view_properties.timezone_offset=this._view_definition.view_properties.timezone_offset_callback?this._view_definition.view_properties.timezone_offset_callback.call_back():0;this._chart=new rdx.chart(this._parent.addClass("chart_view"),this._view_properties);this._multiple_series=null;this._current_values_parents={};this._information_note_div=null;this._current_values_div=null;this._context_selector=C.context_selector||null};rdx.chart_view.prototype=new rdx.abstract_view();rdx.chart_view.prototype.make_view=function(){this._render_summary_values();this._chart.render(this._series);this._render_more_info()};rdx.chart_view.prototype._get_resource_prop_label=function(b){if(this._view_definition.categorize_by_filter&&this._view_definition.category_resource_props&&this._view_definition.category_resource_props[b]){return this._view_definition.category_resource_props[b].label}else{if(this._view_definition.resource_properties[b]&&this._view_definition.resource_properties[b].label){return rdx.i18n.get_string(this._view_definition.resource_properties[b].label)}else{if(this._view_definition.more_info_properties&&this._view_definition.more_info_properties[b]&&this._view_definition.more_info_properties[b].label){return rdx.i18n.get_string(this._view_definition.more_info_properties[b].label)}}}return rdx.i18n.get_string(this._resource.properties[b].label)};rdx.chart_view.prototype.set_property=function(d,c){this._view_properties[d]=c;this._chart.set_property(d,c)};rdx.chart_view.prototype._render_summary_values=function(){if(this._view_properties.show_current_values==false&&this._view_properties.show_peak_values==false&&this._view_properties.show_average_values==false){return}this._current_values_div=$("<div>").addClass("current_values smooth_all_corner");this._parent.append(this._current_values_div);if(this._view_properties.multiple_input_data_array==false){for(var E=0,x=this._series.length;E<x;E++){var D=this._series[E].name;var F=$("<td>").append(rdx.i18n.get_string("rdx.chart_current_series_name",{series_name:D}));var M=$("<span>").append("&nbsp;");var I=$("<td>").addClass("value").append(M);if(this._series[E].percentage_axis==true){I.addClass("hidden").append("%")}var O=$("<tr>");var z=$("<tr>");this._current_values_div.append($("<table>").addClass("label_value_table").append(O.append(F)).append(z.append(I)));this._current_values_parents[D]=M}}else{var O=$("<tr>");var z=$("<tr>");var K=0;if(this._view_properties.show_current_values==true){++K}if(this._view_properties.show_average_values==true){++K}if(this._view_properties.show_peak_values==true){++K}var G=100/K;if(this._view_properties.show_current_values==true){var M=$("<span>").append("&nbsp;");var J=$("<td>").append(rdx.i18n.get_string(rdx.chart_constants.CURRENT)).width(G);var H=$("<td>").addClass("value").append(M);O.append(J);z.append(H);this._current_values_parents[rdx.chart_constants.CURRENT]=M}if(this._view_properties.show_average_values==true){var L=$("<td>").append(rdx.i18n.get_string(rdx.chart_constants.AVERAGE)).width(G);var y=$("<span>").append("&nbsp;");var P=$("<td>").addClass("value").append(y);O.append(L);z.append(P);this._current_values_parents[rdx.chart_constants.AVERAGE]=y}if(this._view_properties.show_peak_values==true){var A=$("<td>").append(rdx.i18n.get_string(rdx.chart_constants.PEAK)).width(G);var B=$("<span>").append("&nbsp;");var N=$("<td>").addClass("value").append(B);O.append(A);z.append(N);this._current_values_parents[rdx.chart_constants.PEAK]=B}var C=$("<table>").addClass("current_value_table").addClass("label_value_table");this._current_values_div.append(C.append(O).append(z))}};rdx.chart_view.prototype.form_data_by_category=function(x){var F=this._view_definition.categorize_by_filter;var M=this._view_definition.resource_properties;var B=[];var N=[];var y={};var A=0;for(var H in M){if(M.hasOwnProperty(H)){A++}}for(var D=0,z=x.length;D<z;D++){var C=x[D];var G=C[F]?C[F]:null;if(!G){continue}var I={};for(var w in M){I[G+"_"+w]=C[w]}if(C.timestamp){I.timestamp=C.timestamp}N.push(I);if($.inArray(G,B)===-1){B.push(G)}}for(var E=0;E<B.length;E++){var L=B[E];for(var J in M){if(!y[L+"_"+J]){var K=this._get_resource_prop_label(J);if(A>1&&B.length>1){K=L+"_"+K}else{if(A===1&&B.length>1){K=L}}y[L+"_"+J]={label:K}}}}return[N,y]};rdx.chart_view.prototype.get_resource_response_arrived=function(aL){if(this._view_definition.view_properties.title=="L7 Client-side Latency"){this._view_definition=rdx.views.timeline_tabbed_chart_views.tabs[11].view}if(this._view_definition.view_properties.title=="L7 Server-side Latency"){this._view_definition=rdx.views.timeline_tabbed_chart_views.tabs[12].view}var aZ=this._view_definition.resource_properties;if(rdx.utils.is_defined(this._view_definition.categorize_by_filter)){var bb=this.form_data_by_category(aL);aL=bb[0];aZ=bb[1];this._view_definition.category_resource_props=aZ}if(rdx.utils.is_defined(aL)){if(aL.length<=0){if(rdx.utils.is_defined(this._parent)){this._chart._chart_div.hide();this._chart._no_data_div.show();return}}else{this._chart._no_data_div.hide();this._chart._chart_div.show()}}if(rdx.utils.is_defined(this._view_properties.update_chart_properties_dynamically)){var ax=this._view_properties.update_chart_properties_dynamically.call_back([this._view_properties]);if(rdx.utils.is_defined(ax)){this._view_properties=$.extend(true,this._view_properties,ax)}}if(this._view_properties.multiple_input_data_array===false){var ba=rdx.utils.is_array(aL)?aL[0]:aL;if(typeof(ba)=="undefined"){return}var aD=new Array();var aE=new Date().getTime();for(var a2 in aZ){var a3=this._get_resource_prop_label(a2);var ar=new Object();ar.name=a3;if(this._view_properties.type!=rdx.chart_constants.PIE){ar.x=aE}var aG=aZ[a2].formatter_callback;if(typeof(aG)!="undefined"){ar.y=aG.call_back([ba])}else{ar.y=parseFloat(ba[a2])}aD.push(ar)}var a5=null;if(rdx.utils.is_defined(this._view_properties.title_resource_key)&&rdx.utils.is_defined(ba[this._view_properties.title_resource_key])){a5=ba[this._view_properties.title_resource_key]}this._chart.set_title_response_str(a5);if(aD.length>0){this._update_current_values(aD);if(this._view_properties.type!=rdx.chart_constants.PIE){this._chart.add_points(aD,this._dummy_data_plotted?true:null);if(this._dummy_data_plotted){this.resize_view();this._dummy_data_plotted=false}}else{var bd=new Object();bd.data=aD;var a8=new Array();a8.push(bd);this._chart.set_data(a8)}}}else{if(this._view_properties.is_date_time_xaxis==true){if(rdx.utils.is_defined(this._view_properties.leave_old_data_intact)&&this._view_properties.leave_old_data_intact){if(rdx.utils.is_not_defined(this._multiple_series)){this._multiple_series=new Array()}}else{if(rdx.utils.is_defined(this._view_properties.reload_data_on_refresh)&&this._view_properties.reload_data_on_refresh){this._multiple_series=new Array()}}var a8=this._multiple_series;var a1=0;var aU=0;for(var a2 in aZ){aU++;a8[a1]={name:this._get_resource_prop_label(a2),data:(rdx.utils.is_defined(this._multiple_series)&&a1<this._multiple_series.length&&rdx.utils.is_defined(this._multiple_series[a1].data))?this._multiple_series[a1].data:new Array()};if(rdx.utils.is_defined(this._view_properties.update_sereis_callback)){var a4=this._view_properties.update_sereis_callback.call_back([a8[a1]["name"],rdx.utils.get_formatted_response(aL)]);if(rdx.utils.is_defined(a4)){a8[a1]=$.extend(true,a8[a1],a4)}}for(var aJ=0,aA=aL.length;aJ<aA;aJ++){if(!rdx.utils.is_defined(aL[aJ][a2])){continue}var ar=new Object();if(this._view_properties.type!=rdx.chart_constants.PIE){if(rdx.utils.is_defined(this._view_properties.xaxis)){ar.x=aL[aJ][this._view_properties.xaxis]}else{ar.x=aE}}var aG=aZ[a2].formatter_callback;if(typeof(aG)!="undefined"){ar.y=aG.call_back([aL[aJ]])}else{ar.y=parseFloat(aL[aJ][a2])}if(rdx.utils.is_defined(a8[a1].store_custom_data)){ar.custom_data=aL[aJ][a8[a1].store_custom_data]}a8[a1].data.push(ar)}a1++}if(aU>1&&this._view_properties.plot_two_axis==true){a8[0].yAxis=1}this._update_current_values(a8);this._multiple_series=a8;this._chart.render(a8)}else{if(this._view_definition.view_properties.type==rdx.chart_constants.SPLINE&&rdx.utils.is_defined(this._view_definition.view_properties.is_cdf_chart)&&this._view_definition.view_properties.is_cdf_chart){var a8=new Array();var aD=new Array();if(rdx.utils.is_defined(aL)){var aW=new Array();var at=0;for(var aJ=0,aA=aL.length;aJ<aA;aJ++){at=at+parseFloat(aL[aJ][this._view_properties.yaxis]);aW.push(at)}for(var aJ=0,aA=aL.length;aJ<aA;aJ++){var aK=0;if(at>0){aK=(aW[aJ]/at)*100}aD.push({x:parseInt(aL[aJ][this._view_properties.xaxis]),y:aK})}}if(aD.length>0){var bd=new Object();bd.data=aD;bd.name=rdx.i18n.get_string(this._resource.properties[this._view_properties.xaxis].label);a8.push(bd)}this._update_current_values(a8);this._chart.render(a8)}else{if(this._view_definition.view_properties.is_response_array_of_objects&&((this._view_definition.view_properties.type==rdx.chart_constants.STACKED_AREA_SPLINE)||(this._view_definition.view_properties.type==rdx.chart_constants.AREA)||(this._view_definition.view_properties.type==rdx.chart_constants.AREA_SPLINE)||(this._view_definition.view_properties.type==rdx.chart_constants.SPLINE)||(this._view_definition.view_properties.type==rdx.chart_constants.LINE)||(this._view_definition.view_properties.type==rdx.chart_constants.BAR)||(this._view_definition.view_properties.type==rdx.chart_constants.COLUMN))){var ay=rdx.utils.is_defined(this._view_definition.view_properties.dynamic_number_of_arrays)&&this._view_definition.view_properties.dynamic_number_of_arrays;var a9=[];if(rdx.utils.is_defined(aL)){if(rdx.utils.is_defined(aL[0])){a9=aL[0]}}var a8=new Array();var aM=new Array();if(ay){aM=a9}else{aM=aZ}for(var aY in aM){if(ay){aL=a9[aY]}else{if(rdx.utils.is_defined(a9[this._resource.properties[aY].key])){aL=a9[this._resource.properties[aY].key]}}var aD=new Array();var aI=new Array();if(rdx.utils.is_defined(aL)){if((this._view_definition.view_properties.type==rdx.chart_constants.BAR)||(this._view_definition.view_properties.type==rdx.chart_constants.COLUMN)){for(var aJ=0,aA=aL.length;aJ<aA;aJ++){aD.push(parseInt(aL[aJ][this._view_properties.yaxis]));aI.push(aL[aJ][this._view_properties.xaxis])}}else{for(var aJ=0,aA=aL.length;aJ<aA;aJ++){aD.push({x:aL[aJ][this._view_properties.xaxis],y:parseInt(aL[aJ][this._view_properties.yaxis])});aI.push(aL[aJ][this._view_properties.xaxis])}}}if(aD.length>0){var bd=new Object();bd.data=aD;if(ay){bd.name=rdx.i18n.get_string(aY)}else{bd.name=this._get_resource_prop_label(a2)}a8.push(bd)}else{var bd=new Object();var a8=new Array();a8.push(bd)}}this._update_current_values(a8);if((this._view_definition.view_properties.type==rdx.chart_constants.STACKED_AREA_SPLINE)||(this._view_definition.view_properties.type==rdx.chart_constants.AREA_SPLINE)||(this._view_definition.view_properties.type==rdx.chart_constants.SPLINE)||(this._view_definition.view_properties.type==rdx.chart_constants.LINE)){this._chart.render(a8)}else{this._chart.set_data(a8,true,aI)}}else{var az=(this._view_definition.view_properties.type==rdx.chart_constants.PIE);var aD=new Array();aI=new Array();var aN=new Array();var u=new Array();var aq=0;for(var aX=0,aA=aL.length;aX<aA;aX++){var aQ=aL[aX][this._view_properties.xaxis];if(aq>=this._chart._properties.colors.length){aq=0}var aO=this._chart._properties.colors[aq];if(rdx.utils.is_defined(this._view_properties.colors_enum)&&this._view_properties.colors_enum.length>0){aO=this._view_properties.colors_enum[0][aQ];this._chart._properties.colors[aq]=aO}aq++;var a6={name:aQ,color:aO,y:parseFloat(aL[aX][this._view_properties.yaxis])};if(rdx.utils.is_defined(this._view_properties.selected_data)&&this._view_properties.selected_data==aQ){a6.selected=true;a6.sliced=true}if(az){aD.push(a6)}else{if(this._view_definition.view_properties.type==rdx.chart_constants.STACKED_COLUMN||(this._view_definition.view_properties.type==rdx.chart_constants.STACKED_BAR)){var bf=this._view_properties.stackSeriesKey;if(rdx.utils.is_not_defined(bf)){break}if(!this._view_properties.is_data_stacked){aN.push({name:aL[aX][bf]})}}else{aD.push({name:aQ,color:aO,y:parseInt(aL[aX][this._view_properties.yaxis])})}}aI.push(aL[aX][this._view_properties.xaxis])}if(this._view_definition.view_properties.type==rdx.chart_constants.STACKED_COLUMN||(this._view_definition.view_properties.type==rdx.chart_constants.STACKED_BAR)){var bc=this._view_properties.is_data_stacked;if(bc){aN=this._view_properties.stackSeriesKey}else{aN=rdx.utils.remove_duplicates_in_json_array(aN,"name")}aI=rdx.utils.remove_duplicates_in_array(aI);var aV=new Array();for(var aT=0;aT<aN.length;aT++){var aP=new Array();var ao=aI.length;for(var aC=0;aC<ao;aC++){var a7=aI[aC];aP.push({name:a7,y:null,color:this._chart._properties.colors[aC]});aV[a7]=aC}var ap=bc?aN[aT]:aN[aT].name;var a0={};for(var aS=0;aS<aL.length;aS++){var aF=aL[aS];var aw=this._view_properties.stackSeriesKey;var c=bc?ap:aF[aw];var s=bc?ap:this._view_properties.yaxis;if(c==ap){var aH=parseInt(aF[s]);var aB=aF[this._view_properties.xaxis];var aR=this._chart._properties.colors[aT];if(rdx.utils.is_defined(this._view_properties.colors_enum)&&this._view_properties.colors_enum.length>0){aR=this._view_properties.colors_enum[0][c];this._chart._properties.colors[aT]=aR}var av=aV[aB];var au=aP[av].y;if(au!==null){aH+=au}aP[av]={name:aB,y:aH,color:aR}}}a0.name=bc?this._resource.properties[ap].label:ap;a0.data=aP;u.push(a0)}}else{if(aD.length>0){var bd=new Object();bd.data=aD;bd.name=rdx.i18n.get_string(this._resource.properties[this._view_properties.yaxis].label);var a8=new Array();a8.push(bd);this._chart.set_data(a8,true,aI)}else{var bd=new Object();bd.data=[];var a8=new Array();a8.push(bd);this._chart.set_data(a8,true,aI)}}}}}if((this._view_definition.view_properties.type==rdx.chart_constants.STACKED_COLUMN)||(this._view_definition.view_properties.type==rdx.chart_constants.STACKED_BAR)){this._chart._properties.categories=aI;this._chart._redraw_and_avoid_negatives(true);var bg=this._view_definition.view_properties.width;if(rdx.utils.is_not_defined(bg)){bg=this._chart._properties.width}var be=this._view_definition.view_properties.height;if(rdx.utils.is_not_defined(be)){be=this._chart._properties.height}this._chart.set_size(bg,be);this._chart.render(u)}}this._render_information_note();if(this._view_properties.resize_view==true){this.resize_view()}this._show_more_info(aL);if(rdx.utils.is_defined(this._view_properties.on_data_update)){this._view_properties.on_data_update.call_back([this._chart._chart,aL])}};rdx.chart_view.prototype.get_stack_data_object=function(h,f,g){var e=new Array();return e};rdx.chart_view.prototype._render_more_info=function(){if(rdx.utils.is_not_defined(this._view_definition.more_info_properties)){return}if(rdx.utils.is_defined(this._more_chart_info)){this._more_chart_info.empty()}else{this._more_chart_info=$("<ul>").addClass("chart-more-info");if(rdx.utils.is_defined(this._view_properties.more_info)&&this._view_properties.more_info.layout==="TABLE"){this._more_chart_info.addClass("table-layout")}this._parent.append(this._more_chart_info)}};rdx.chart_view.prototype._show_more_info=function(t){if(rdx.utils.is_defined(this._view_definition.more_info_properties)){if(rdx.utils.is_defined(this._more_chart_info)){this._more_chart_info.empty()}if(this._view_properties.multiple_input_data_array===true){var o=[];if(rdx.utils.is_defined(this._view_properties.more_info)&&rdx.utils.is_defined(this._view_properties.more_info.exclude_list)){o=this._view_properties.more_info.exclude_list}var z=this._view_definition.more_info_properties;for(var p=0;p<t.length;p++){var w=t[p];if($.inArray(w[z.key],o)==-1){var q=w[z.value];var v=(this._view_properties.colors&&this._view_properties.colors[p])?this._view_properties.colors[p]:null;var x=this._get_more_info_row(z.key,w[z.key],q,v);if(x){this._more_chart_info.append(x)}}}}else{if(this._view_properties.multiple_input_data_array===false){var u=0;for(var s in this._view_definition.more_info_properties){var z=this._view_definition.more_info_properties[s];var y=this._get_resource_prop_label(s);var q=rdx.utils.is_array(t)?t[0][s]:t[s];var v=this._view_properties.colors?this._view_properties.colors[u]:null;var x=this._get_more_info_row(s,y,q,v);if(x){this._more_chart_info.append(x)}u++}}}}};rdx.chart_view.prototype._get_more_info_row=function(s,x,q,u){var w=$("<span>");w.addClass("row-lbl").text(x);var v=true;if(rdx.utils.is_defined(this._view_properties.more_info)&&rdx.utils.is_defined(this._view_properties.more_info.row_renderer)){v=this._view_properties.more_info.row_renderer.call_back([q])}var y=null;if(v){y=$("<li>").addClass("chart-info-row");if(!this._view_properties.multiple_input_data_array&&rdx.utils.is_defined(this._view_definition.more_info_properties[s].renderer_callback)){q=this._view_definition.more_info_properties[s].renderer_callback.call_back([q])}var t=$("<span>").addClass("row-data").attr("key",s).text(q);var o=this;if(rdx.utils.is_defined(this._view_definition.view_properties.point_select_callback)){y.addClass("details_from_chart");var p={key:s,name:x,value:q};y.bind(rdx.events.CLICK,{point_data:p},function(a){o._view_definition.view_properties.point_select_callback.call_back([a.data.point_data])})}y.append(w).append(t);if(rdx.utils.is_defined(this._view_properties.more_info)&&this._view_properties.more_info.layout==="TABLE"){if(u){y.css("border-left","5px solid "+u)}if(this._view_properties.colors_enum.length>0){var z=rdx.utils.is_array(this._view_properties.colors_enum)?this._view_properties.colors_enum[0]:this._view_properties.colors_enum;y.css("border-left","5px solid "+z[x])}}}return y};rdx.chart_view.prototype._update_current_values=function(v){if(this._view_properties.show_current_values==false&&this._view_properties.show_peak_values==false&&this._view_properties.show_average_values==false){return}if(this._view_properties.multiple_input_data_array==false){for(var u=0,q=v.length;u<q;u++){var y=this._current_values_parents[v[u].name];y.parent().removeClass("hidden");y.text(rdx.chart_utils.format_number(v[u].y))}}else{var p=true;if(rdx.utils.is_object_not_empty(v)&&rdx.utils.is_object_not_empty(v[0])){p=false}if(rdx.utils.is_defined(this._view_definition.view_properties.y_axis_label_renderer_callback)){var o=this._view_definition.view_properties.y_axis_label_renderer_callback}if(rdx.utils.is_defined(this._current_values_parents[rdx.chart_constants.CURRENT])){var y=this._current_values_parents[rdx.chart_constants.CURRENT];if(p){y.text("-")}else{var s=this.get_current_value(v);if(rdx.utils.is_defined(o)){y.text(o.call_back([{key:s},"key"]))}else{y.text(rdx.chart_utils.format_number(s))}}}if(rdx.utils.is_defined(this._current_values_parents[rdx.chart_constants.AVERAGE])){var w=this._current_values_parents[rdx.chart_constants.AVERAGE];if(p){w.text("-")}else{var z=this.get_average_value(v);if(rdx.utils.is_defined(o)){w.text(o.call_back([{key:z},"key"]))}else{w.text(rdx.chart_utils.format_number(z))}}}if(rdx.utils.is_defined(this._current_values_parents[rdx.chart_constants.PEAK])){var t=this._current_values_parents[rdx.chart_constants.PEAK];if(p){t.text("-")}else{var x=this.get_peak_value(v);if(rdx.utils.is_defined(o)){t.text(o.call_back([{key:x},"key"]))}else{t.text(rdx.chart_utils.format_number(x))}}}}};rdx.chart_view.prototype.resize_view=function(){this._chart.set_size()};rdx.chart_view.prototype.get_base_view=function(){return this._base_view};rdx.chart_view.prototype.get_view_context=function(){return this.get_base_view().get_view_context()};rdx.chart_view.prototype.get_current_value=function(m){var l=0;if(rdx.utils.is_array(m)){var h=m.length;for(var f=0;f<h;f++){if(rdx.utils.is_defined(m[f]["data"])&&rdx.utils.is_array(m[f]["data"])){var g=m[f]["data"].length;if(rdx.utils.is_defined(m[f]["data"][g-1].y)){l+=m[f]["data"][g-1].y}else{if(rdx.utils.is_num(m[f]["data"][g-1])){l+=m[f]["data"][g-1]}}}}}return l};rdx.chart_view.prototype.get_average_value=function(s){var v=0;if(rdx.utils.is_array(s)){var n=0;var t=0;var m=0;var u=s.length;for(var q=0;q<u;q++){if(rdx.utils.is_defined(s[q]["data"])&&rdx.utils.is_array(s[q]["data"])){var p=s[q]["data"].length;t+=p;m=p;for(var o=0;o<p;o++){if(rdx.utils.is_defined(s[q]["data"][o].y)){n+=s[q]["data"][o].y}else{if(rdx.utils.is_num(s[q]["data"][o])){n+=s[q]["data"][o]}}}}}if(this.is_stacked_chart()){if(m>0){v=Math.round(n/m)}}else{if(t>0){v=Math.round(n/t)}}}return v};rdx.chart_view.prototype.get_peak_value=function(d){var c=0;if(rdx.utils.is_array(d)){if(this.is_stacked_chart()){c=this.get_stacked_peak_value(d)}else{c=this.get_series_peak_value(d)}}return c};rdx.chart_view.prototype.get_series_peak_value=function(q){var o=0;var n=q.length;var s=[];for(var t=0;t<n;t++){var l=[];if(rdx.utils.is_defined(q[t]["data"])&&rdx.utils.is_array(q[t]["data"])){var m=q[t]["data"].length;for(var p=0;p<m;p++){if(rdx.utils.is_defined(q[t]["data"][p].y)){l.push(q[t]["data"][p].y)}else{if(rdx.utils.is_num(q[t]["data"][p])){l.push(q[t]["data"][p])}}}}if(l.length!=0){s[t]=Math.max.apply(Math,l)}}if(s.length!=0){o=Math.max.apply(Math,s)}return o};rdx.chart_view.prototype.get_stacked_peak_value=function(q){var o=0;var n=[];var m=q.length;for(var h=0;h<m;h++){if(rdx.utils.is_defined(q[h]["data"])&&rdx.utils.is_array(q[h]["data"])){var l=q[h]["data"].length;if(n.length==0){for(var p=0;p<l;p++){n[p]=0}}for(var p=0;p<l;p++){if(rdx.utils.is_defined(q[h]["data"][p].y)){n[p]+=q[h]["data"][p].y}else{n[p]+=q[h]["data"][p]}}}}if(n.length!=0){o=Math.max.apply(Math,n)}return o};rdx.chart_view.prototype.is_stacked_chart=function(){if(rdx.utils.is_defined(this._view_definition)){var b=this._view_definition.view_properties.type;return((b==rdx.chart_constants.STACKED_AREA_SPLINE)||(b==rdx.chart_constants.STACKED_AREA)||(b==rdx.chart_constants.STACKED_BAR)||(b==rdx.chart_constants.STACKED_COLUMN))}return false};rdx.chart_view.prototype._render_information_note=function(){if(rdx.utils.is_defined(this._view_properties.information_note)){if(rdx.utils.is_defined(this._information_note_div)){this._information_note_div.remove()}this._information_note_div=$("<div>").addClass("chart_view_label_title").text("Note: "+rdx.i18n.get_string(this._view_properties.information_note));this._chart._parent.after(this._information_note_div)}};rdx.chart_view.prototype.add_mask=function(){if(rdx.utils.is_defined(this._view_properties.add_mask)){return this._view_properties.add_mask}return true};rdx.chart_view.prototype.get_resource_name=function(){return this._view_definition.resource_name};rdx.chart_view.prototype.destroy=function(){this.get_base_view().destroy_view()};rdx.composite_view=function(f,d,e){this._parent=f;this._view_definition=d;this._DEFAULT_VIEW_PROPERTIES={layout:rdx.view_constants.GRID_LAYOUT,columns_width:[],destoy_view_on_inner_view_destroy:false,theme:"default",class_names:null,add_border:true,add_header:true,cell_gap:0,border_radius:0,is_common_data_resource:false,accordion:false};this._toolbar_items=null;this._container=null;this._table=null;this._view_properties=$.extend({},this._DEFAULT_VIEW_PROPERTIES,d.view_properties);this._views=[];this._base_view=e;this._views_table=null;this._parent_child_view_map={};this._views_map={};this._view_dependencies=null;this._currently_destroyed_view_index=-1;this._inner_view_already_destroyed=false};rdx.composite_view.prototype=new rdx.abstract_view();rdx.composite_view.prototype.make_view=function(){if(rdx.utils.is_defined(rdx.query_string_view_and_get_url_selection_property_name)){rdx.query_string_view_and_get_url_selection_property_name={}}this._base_view.remove_decorator();switch(this._view_properties.layout){case rdx.view_constants.GRID_LAYOUT:this._make_grid_view();break}if(rdx.utils.is_defined(this._view_definition.view_dependencies)){this._view_dependencies=new rdx.dependency(this,this._view_definition.view_dependencies,false);this._view_dependencies.trigger_dependencies()}};rdx.composite_view.prototype._add_tool_bar=function(){var b=[new rdx.action({tooltip:rdx.i18n.get_string("rdx.refresh"),image_url:rdx.images.REFRESH_IMG,click_handler_callback:new rdx.callback(this,this._refresh_view)})];this._toolbar_items=b};rdx.composite_view.prototype._add_action_bar=function(){this._action_properties=rdx.view_utils.get_action_bar_items(this._view_definition,this._base_view.get_parent(),this._base_view.get_view_context())};rdx.composite_view.prototype.get_toolbar_items=function(){if(rdx.utils.is_defined(this._view_properties.is_tool_bar_required)&&!this._view_properties.is_tool_bar_required){return[]}if(rdx.utils.is_defined(this._toolbar_items)){return this._toolbar_items}this._add_tool_bar();return this._toolbar_items};rdx.composite_view.prototype.get_action_items=function(){if(rdx.utils.is_defined(this._action_properties)){return this._action_properties}this._add_action_bar();return this._action_properties};rdx.composite_view.prototype.is_tool_bar_required=function(){return true};rdx.composite_view.prototype.is_action_bar_required=function(){return rdx.utils.is_defined(this._view_definition.resource_operations)};rdx.composite_view.prototype.get_tool_bar=function(){return this._base_view.get_toolbar()};rdx.composite_view.prototype.get_is_back_button_required=function(){if(rdx.utils.is_not_defined(this._view_properties.add_back_button)){return false}return this._view_properties.add_back_button};rdx.composite_view.prototype.close_view=function(){this._base_view.destroy_view()};rdx.composite_view.prototype._make_grid_view=function(){var B=0;var t=0;var v={};for(var C in this._view_definition.views){var y=this._view_definition.views[C];if(rdx.utils.is_defined(y.show_view)){if(!y.show_view.evaluate()){continue}}v[C]=y;var z=y.row_index;var D=y.column_index;var H=y.row_span;var w=y.column_span;var A=z+1+(rdx.utils.is_defined(H)?(H-1):0);if(B<A){B=A}var E=D+1+(rdx.utils.is_defined(w)?(w-1):0);if(t<E){t=E}}var F=rdx.utils.create_2D_array(B,t);for(var C in v){var y=v[C];F[y.row_index][y.column_index]=C}this._views_table=F;var G=null;var u=null;if(this._container===null){u=$("<table>").addClass("composite_view").attr("cellPadding",0).attr("cellSpacing",0);if(rdx.utils.is_defined(this._view_properties.class_names)){u.addClass(this._view_properties.class_names)}G=$("<div>");G.append(u);G.addClass("composite_view_container");if(this._view_properties.theme=="light"){G.addClass("composite_view_light")}if(this.is_action_bar_required()){G.addClass("composite_view_container_separator")}this._container=G;this._table=u}if(!this._view_properties.is_common_data_resource){this._render_views(F)}if(rdx.utils.is_defined(this._view_properties.view_title)){var x=$("<div>").addClass("composite_view_title_cont");x.append(rdx.i18n.get_string(this._view_properties.view_title));this._parent.append(x)}this._parent.append(G);if(this._view_properties.add_border===false){this._parent.css("border-width",0)}this._operation_after_dom_render()};rdx.composite_view.prototype._render_views=function(aq,ai){var S=0;var ap=this._base_view.get_view_context();for(var ab=0,ac=aq.length;ab<ac;ab++){var U=$("<tr>").appendTo(this._table);for(var ao=0,M=aq[ab].length;ao<M;ao++){var O=aq[ab][ao];if(rdx.utils.is_not_defined(O)){continue}var aj=$.extend(true,{separator:false,separator_title:"",add_border:true,add_title_decoration:true},this._view_definition.views[O]);var ad=aj.row_span;var R=aj.column_span;var af=aj.separator;var T=aj.seperator_title;if(af===false){var aa;if(rdx.utils.is_defined(this._view_definition.views[O]["view_definition"])){aa=this._view_definition.views[O]["view_definition"]}else{aa=rdx.utils.get_view(O)}var an=$("<td>").addClass("composite_view_cell").appendTo(U);if(rdx.utils.is_not_defined(aq[ab+1])){an.addClass("last_row")}if(rdx.utils.is_not_defined(aq[ab][ao+1])){an.addClass("last_column")}var Z=$("<div>").addClass("cell_content").appendTo(an);if(rdx.utils.is_defined(this._view_properties.row_gap)){Z.css("margin-bottom",this._view_properties.row_gap)}if(rdx.utils.is_defined(this._view_properties.columns_width[ao])){an.width(this._view_properties.columns_width[ao])}if(!aj.add_border||aj.add_border&&this._view_properties.cell_gap>0){an.addClass("rdx_no_border")}if(aj.add_border&&this._view_properties.cell_gap>0){Z.addClass("add_border");if(this._view_properties.border_radius>0){Z.css("border-radius",this._view_properties.border_radius)}}if(this._view_properties.cell_gap>0){if((ao<(M-1)&&rdx.utils.is_not_defined(R))||(rdx.utils.is_defined(R)&&(M-ao-R)>0)){Z.css("margin-right",this._view_properties.cell_gap)}if((ab<(ac-1)&&rdx.utils.is_not_defined(ad))||(rdx.utils.is_defined(ad)&&(ac-ab-ad)>0)){Z.css("margin-bottom",this._view_properties.cell_gap)}}if(aj.height){Z.css("height",aj.height)}if(rdx.utils.is_defined(aj.class_name)){Z.addClass(aj.class_name)}if(rdx.utils.is_defined(aa.view_properties)&&rdx.utils.is_defined(aa.view_properties.title)){aa=$.extend({},aa);aa.view_properties=$.extend({},aa.view_properties);aa.view_properties._dont_show_title=true;var ak=(aa.view_properties.title);var ag=null;ag=$(document.createElement("div")).addClass("composite_view_title").append(rdx.i18n.get_string(ak));if(rdx.utils.is_defined(aa.view_properties.title_render_callback)){aa.view_properties.title_render_callback.call_back([ag])}if(rdx.utils.is_defined(aa.view_properties.title_properties)&&rdx.utils.is_defined(aa.view_properties.title_properties.title_class_name)){ag.addClass(aa.view_properties.title_properties.title_class_name)}if(aj.add_title_decoration===false){ag.addClass("composite_view_no_decoration")}if(rdx.utils.is_defined(aa.view_properties.title_text_align)){ag.css("text-align",aa.view_properties.title_text_align)}if(rdx.utils.is_defined(aa.show_detail_link)){var W=rdx.i18n.get_string(aa.show_detail_link.link_title);var ah=aa.show_detail_link.on_click_view;var Q=$("<a>").attr("href","#noAnchor").css("float","right").append(W);Q.bind(rdx.events.CLICK,{view_def:ah},function(a){var b=a.data.view_def;rdx.view_utils.show_view_in_slider(b,null,null,null)});ag.append(Q)}if(this._view_properties.add_header===true){Z.append(ag)}}if(rdx.utils.is_defined(aa.view_properties)){aa.view_properties.is_tool_bar_required=false}var ar=$("<div>").appendTo(Z);if(this._view_properties.accordion===true){ar.css("display","none");var P=this;ag.bind(rdx.events.CLICK,{dom:ar,header:ag},function(b){$(".expanded.composite_view_title",P._container).siblings().slideUp();$(".expanded.composite_view_title",P._container).removeClass("expanded");if($(b.data.header).hasClass("expanded")){$(b.data.header).removeClass("expanded");$(b.data.dom).slideUp(400)}else{$(b.data.header).addClass("expanded");$(b.data.dom).slideDown(600)}var a=$(b.target).position().top;window.scrollTo(0,a)});if(ao==0&&ab==0){ag.trigger(rdx.events.CLICK)}}if(rdx.utils.is_defined(ad)){an.attr("rowspan",ad)}if(rdx.utils.is_defined(R)){an.attr("colspan",R)}if(rdx.utils.is_defined(aa.view_properties)){aa.view_properties.toggle_view=false}else{var V={toggle_view:false};aa.view_properties=V}var al=new rdx.base_view(ar,aa);if(this._view_properties.destoy_view_on_inner_view_destroy===true){$(al).bind(rdx.events.VIEW_DESTROYED,{composite_view:this,index:S},function(b,a){if(b.data.composite_view._inner_view_already_destroyed===true){return}b.data.composite_view._inner_view_already_destroyed=true;b.data.composite_view._currently_destroyed_view_index=b.data.index;b.data.composite_view._base_view.destroy_view()})}if(rdx.utils.is_function(al.get_view().set_is_back_button_required)){al.get_view().set_is_back_button_required(false)}if(this._view_properties.is_common_data_resource===true){al.get_view_context().set_data(ap.get_data())}else{if(rdx.utils.is_defined(this._view_properties.pass_common_context_to_children)&&this._view_properties.pass_common_context_to_children&&rdx.utils.is_defined(this._base_view.get_view_context())){al.set_view_context(ap);al.prepare_view(true)}else{if(rdx.utils.is_defined(aa.view_context)&&rdx.utils.is_defined(ap.get_app_context_data())){var ae=al.get_view_context();ae.set_url_params(aa.view_context,ap.get_app_context_data());ae.set_app_context_data(ap.get_app_context_data())}al.prepare_view()}}this._views.push(al);this._parent_child_view_map[S]={parent:Z,child:al};this._views_map[O]=al.get_view();S++}if(af===true){var am=$("<div>");var N=$("<div>").html("<H2>"+T+"</H2>").css("float","left").css("position","relative").css("top","0px").css("z-index","999").css("background-color","white").css("padding-right","20px");var L=$(document.createElement("div"));L.css("border-width","0px 0px 1px 0px").css("border-style","solid").css("border-color","black").css("float","right").css("width","100%");L.css("position","relative").css("top","30px");am.append(L).append(N);var K=$("<td>").attr("colspan",R).append(am);this._table.append($("<tr>").append(K))}}}if(this._view_properties.is_common_data_resource===true){this._render_child_views()}};rdx.composite_view.prototype.get_resource_response_arrived=function(c,d){if(this._view_properties.is_common_data_resource){this._render_views(this._views_table)}};rdx.composite_view.prototype.destroy_view=function(){for(var b=0;b<this._views.length;b++){if(b==this._currently_destroyed_view_index){continue}this._views[b].destroy_view()}this._currently_destroyed_view_index=-1};rdx.composite_view.prototype._render_child_views=function(){for(var b=0;b<this._views.length;b++){this._views[b].prepare_view(true)}};rdx.composite_view.prototype.get_base_view=function(){return this._base_view};rdx.composite_view.prototype.get_view_context=function(){return this.get_base_view().get_view_context()};rdx.composite_view.prototype.refresh_view=function(b){this._refresh_view(b)};rdx.composite_view.prototype._refresh_view=function(e){if(rdx.utils.is_defined(this._view_properties.refresh_handler_callback)){this._view_properties.refresh_handler_callback.call_back()}var g={};if(rdx.utils.is_defined(e)){if(rdx.utils.is_defined(e.view_context)){g=e.view_context}else{g=e}}if(this._view_properties.is_common_data_resource===false&&rdx.utils.is_defined(this._views)){var f=null;for(var h=0;h<this._views.length;h++){f=this._views[h];if(rdx.utils.is_defined(g)){rdx.utils.merge_and_set_url_params(f,g)}if(!(f.get_view_definition().view_properties.auto_refresh===false)){if(rdx.utils.is_defined(e)){f.refresh_view(e,false)}else{f.refresh_view()}}}}else{if(this._view_properties.is_common_data_resource){this.destroy_view();this._table.empty();this.get_view_context().invalidate_data();this._base_view.prepare_view()}}};rdx.composite_view.prototype.get_global_actions=function(){if(rdx.utils.is_not_defined(this._view_definition.global_resource_operations)){return[]}var l=[];for(var o in this._view_definition.global_resource_operations){var g={label:"",tooltip:"",image_url:rdx.images.DOCUMENT_DISABLE_IMG,independent_of_selection:true,click_handler_callback:new rdx.callback(this,this._refresh_view)};var m=this._view_definition.global_resource_operations[o];var h=$.extend(true,g,m);var n=new rdx.action(h);l.push(n)}return l};rdx.composite_view.prototype.get_view=function(b){return this._views_map[b]};rdx.composite_view.prototype.get_parent_child_view_map=function(){return this._parent_child_view_map};rdx.composite_view.prototype.recalculate_widths_and_heights=function(c){for(var d=0;d<this._views.length;d++){if(rdx.utils.is_defined(this._views[d].get_view().recalculate_widths_and_heights)){this._views[d].get_view().recalculate_widths_and_heights(c)}}};rdx.composite_view.prototype._operation_after_dom_render=function(){for(var b=0;b<this._views.length;b++){if(rdx.utils.is_defined(this._views[b].get_view().execute_after_dom_render)){this._views[b].get_view().execute_after_dom_render()}}};rdx.composite_view.prototype.is_title_required=function(){return true};rdx.syslog_view=function(g,h,e,f){this._parent=g;this._view_definition=h;this._resource_definition=e;this._base_view=f;this._DEFAULT_VIEW_PROPERTIES={resource_detail_properties:null,dialog_mode:false,show_files:{file_name:null,directory_name:null,resource_name:null,resource_properties:null}};this._view_properties=$.extend(true,{},this._DEFAULT_VIEW_PROPERTIES,this._view_definition.view_properties);this._show_files=(this._view_properties.show_files.resource_name==null&&this._view_properties.show_files.file_name==null)?false:true;this._files=null;this._file_selector_div=null;this._file_resource=null;this._top_bar_height=0;this._refresh_button=null;this._component=null;this._message_details_div=null;this._search=null;this.is_back_button_required=true};rdx.syslog_view.prototype.make_view=function(){var y={minHeight:400,width:600,modal:true,resizable:false,dialogClass:"configure_view",title:""};if(rdx.utils.is_not_defined(this._view_definition.dialog_properties)){this._view_definition.dialog_properties={}}this._view_definition.dialog_properties=$.extend({},y,this._view_definition.dialog_properties);if(this._view_properties.dialog_mode){this._parent.dialog(this._view_definition.dialog_properties)}this._create_files_div();var q=[];var w=[];var v;for(var p in this._view_definition.resource_properties){var o=this._view_definition.resource_properties[p];v=$.extend({},this._resource_definition.properties[p],o);if(q.length==0){v.store_data=true}q.push(new rdx.table_column(v));if(rdx.utils.is_defined(o.search)){if(o.search==true){w.push({key:v.key,label:v.label})}}else{w.push({key:v.key,label:v.label})}}if(q.length>0){this._search=new rdx.search(this._parent,{search_dropdown_map:w,pre_searched_object:null});this._search.render();this._search.add_search_listner(new rdx.callback(this,this._search_filter_action))}this._message_details_div=$("<div>");var t=$("<div>").append($("<hr>").attr("size","8")).append($("<div>").addClass("detail_message_text").append(rdx.i18n.get_string("rdx.syslog_view.detail_message"))).append(this._message_details_div.addClass("detail_message"));this._table_parent=$("<div>").addClass("table_div");this._parent.append(this._table_parent);this._parent.append(t);var u=this._top_bar_height;var s=t.height();var x=this._view_definition.dialog_properties.minHeight-(s+u);var z={height:x};this._component=new rdx.table(this._table_parent,q,z).render()};rdx.syslog_view.prototype.get_is_back_button_required=function(){if(this._view_definition.view_properties.is_back_button_required===false){return false}return this.is_back_button_required};rdx.syslog_view.prototype._search_filter_action=function(p,o){if(p){var q={};for(var l in o){q[l]=o[l]}var t=[];for(var s in q){t.push(s)}var m=this.get_view_context().get_url_params();rdx.url_utils.remove_type_from_url_object(m,rdx.url_utils.GET_FILTER_TYPE);if(this._view_properties.show_files.resource_name){rdx.url_utils.add_to_url_object(m,["name"],rdx.url_utils.GET_BY_NAME_TYPE,{name:this._response[this._files.data("selected_position")][this._file_resource.primary_keys]})}this.get_view_context().set_is_query_param(p);rdx.url_utils.add_to_url_object(m,t,rdx.url_utils.GET_FILTER_TYPE,q)}var n=new rdx.callback(this,this._on_success,[true]);rdx.model.get(this._resource_definition,m,n)};rdx.syslog_view.prototype._on_file_list_fetch_success=function(d){d=d[this._file_resource.name];var e=new Array(d.length);this._files.append(d[0][this._file_resource.primary_keys]).data("selected_position",0);for(var f=0;f<d.length;f++){e[f]=$("<div>").addClass("drop_down_list_div_selected").append(d[f][this._file_resource.primary_keys]).bind(rdx.events.CLICK,{log_file_list:e,primary_key:this._file_resource.primary_keys,response:d,position:f,syslog:this},function(a){var m=a.data.syslog;var c=a.data.response;var o=a.data.position;var n=a.data.log_file_list;var b=a.data.primary_key;$(this).empty();m._files.empty();n[m._files.data("selected_position")].text(c[m._files.data("selected_position")][b]);m._files.data("selected_position",o);m._files.append(c[o][b]);m._file_selector_div.hide();m._on_refresh_button_click(c)});this._file_selector_div.append(e[f])}e[0].empty();this._default_file_object=d[0];this._response=d;this._populate_table()};rdx.syslog_view.prototype.get_resource_response_arrived=function(d){if(this._show_files&&this._view_properties.show_files.resource_name!=null){this._file_resource=rdx.utils.get_resource(this._view_properties.show_files.resource_name);var c=new rdx.callback(this,this._on_file_list_fetch_success);rdx.model.get(this._file_resource,null,c)}else{this._on_success(d,false)}};rdx.syslog_view.prototype._populate_table=function(){if(!this._show_files){return}this._append_file_to_url(this._default_file_object,true)};rdx.syslog_view.prototype._on_success=function(c,d){if((this._show_files||(rdx.utils.is_defined(d)&&d==true))&&rdx.utils.is_defined(c[this._view_definition.resource_name])){c=c[this._view_definition.resource_name]}this._message_details_div.empty();this._component.add_items(c,null,true)};rdx.syslog_view.prototype._on_failure=function(){alert("Syslog viewer failed")};rdx.syslog_view.prototype.register_event_handlers=function(){this._component.add_event_handler(rdx.events.ROW_SELECTION_CHANGED,new rdx.callback(this,this._row_selection_changed));this._refresh_button.bind(rdx.events.CLICK,{syslog:this},function(c){var d=c.data.syslog;d._on_refresh_button_click(d._response)});if(this._show_files.resource_name){this._files.bind(rdx.events.CLICK,{syslog:this},function(c){var d=c.data.syslog;d._file_selector_div.toggle()})}this._search_button.bind(rdx.events.CLICK,{syslog:this},function(d){var f=$(this).hasClass("search_close");$(this).toggleClass("search_close",!f);var e=d.data.syslog;rdx.utils.slide_up_down(e._search.get_component(),!f)})};rdx.syslog_view.prototype._row_selection_changed=function(){var n=this._component.get_selected_items_data()[0];if(rdx.utils.is_defined(n)){this._message_details_div.empty();var m,l,g="";var h=this._view_properties.resource_detail_properties;for(var o=0;o<h.length;o++){m=h[o];l=rdx.i18n.get_string(this._resource_definition.properties[h[o]]["label"]);g+=(l+": "+n[m]+"<br>")}this._message_details_div.append(g)}};rdx.syslog_view.prototype._on_refresh_button_click=function(b){if(this._show_files&&rdx.utils.is_defined(b)){this._append_file_to_url(b[this._files.data("selected_position")])}else{this._base_view.prepare_view()}};rdx.syslog_view.prototype._create_files_div=function(){var l=$("<table>").addClass("table_border");var h=$("<tr>");this._refresh_button=$("<div>").addClass("refresh_button");this._search_button=$("<div>").addClass("syslog_search_button").addClass("search_close");l.append(h);if(this._show_files){if(this._view_properties.show_files.file_name){this._files=$("<div>").addClass("file_cell_padding").append(this._view_properties.show_files.file_name);var m=$("<div>").append(rdx.i18n.get_string("rdx.syslog_view.file")).append(this._files);h.append($("<td>").addClass("table_border_cell").append(m));var n=$("<div>");var o=$("<div>").append(rdx.i18n.get_string("rdx.syslog_view.directory")).append(n.append(this._view_properties.show_files.directory_name));h.append($("<td>").addClass("table_border_cell").append(o))}else{this._files=$("<div>").addClass("selector_div_dimension").addClass("selector_div").addClass("file_cell_padding");var m=$("<div>").append(rdx.i18n.get_string("rdx.syslog_view.file")).append(this._files);h.append($("<td>").addClass("table_border_cell").append(m));var n=$("<div>");var o=$("<div>").append(rdx.i18n.get_string("rdx.syslog_view.directory")).append(n.append(this._view_properties.show_files.directory_name));h.append($("<td>").addClass("table_border_cell").append(o));this._file_selector_div=$("<div>");this._parent.append(this._file_selector_div.addClass("logs_file_div"));this._file_selector_div.hide()}h.append($("<td>").addClass("table_border_cell").attr("width","98%").attr("align","right").append(this._search_button));h.append($("<td>").attr("width","90%").attr("align","right").append(this._refresh_button))}else{h.append($("<td>").addClass("table_border_cell").attr("width","98%").attr("align","right").append(this._search_button));h.append($("<td>").attr("width","90%")).append($("<td>").attr("width","90%")).append($("<td>").attr("width","90%").attr("align","right").append(this._refresh_button))}var g=$("<div>").addClass("file_directory_div");g.append(l);this._parent.append(g);this._top_bar_height=l.height()};rdx.syslog_view.prototype._append_file_to_url=function(f,h){var e=rdx.url_utils.construct_url_params(e,rdx.url_utils.GET_BY_NAME_TYPE,this._file_resource.primary_keys,f);var g;if(rdx.utils.is_defined(h)){g=new rdx.callback(this,this._on_success,[h])}else{g=new rdx.callback(this,this._on_success)}rdx.model.get(this._resource_definition,e,g)};rdx.syslog_view.prototype.get_view_context=function(){return this._base_view.get_view_context()};rdx.wizard_view=function(d,e,f){if(rdx.utils.is_not_defined(e.view_properties)){e.view_properties={}}this._parent=$(document.createElement("div"));this._view_definition=e;this._view_properties=this._view_definition.view_properties;this._resource_map=null;this._wizard=new rdx.wizard(this._parent,e,f);this._wizard_controller=new rdx.wizard_controller(this,this._parent);this._wizard.add_submit_handler_callback(new rdx.callback(this._wizard_controller,this._wizard_controller.submit_changes));this._wizard.add_resource_data_fetch_callback(new rdx.callback(this._wizard_controller,this._wizard_controller.get_resource_data));this._wizard_save_complete=false};rdx.wizard_view.prototype=new rdx.abstract_view();rdx.wizard_view.prototype.make_view=function(){};rdx.wizard_view.prototype.show_dialog=function(){var b=rdx.utils.is_defined(this._view_definition.dialog_properties)?this._view_definition.dialog_properties:{};this._wizard.render(b);this._wizard_controller.initialize()};rdx.wizard_view.prototype.get_resource_response_arrived=function(s){if(rdx.utils.is_defined(this._view_definition.resource_name)||rdx.utils.is_defined(this._view_definition.view_properties.fetch_data)){var l=rdx.utils.is_array(s)?s[0]:s;var m=rdx.utils.is_not_defined(this._view_definition.view_properties.fetch_data)?false:this._view_definition.view_properties.fetch_data;if(rdx.utils.is_not_defined(l)&&!m){return}if(rdx.utils.is_defined(l)&&rdx.utils.is_object_not_empty(l)){var n=this._get_resource_map()[this._view_definition.resource_name].pages;this._get_resource_map()[this._view_definition.resource_name].response=l;for(var q=0;q<n.length;q++){var o=n[q];o.get_form().initialize(l);o.set_original_resource_data(l)}}else{if(m){this._fetch_data_for_every_view()}}}else{var t=this._wizard.get_pages_info();for(var q in t){var p=t[q].get_form();p.initialize({})}}};rdx.wizard_view.prototype._fetch_data_for_every_view=function(){var e=this._get_resource_map();for(var f in e){var d=e[f].resource;if(this._is_add_mode(e[f].pages)){continue}rdx.model.get_all(d,null,new rdx.callback(this,this._handle_response,[f]),this._parent)}};rdx.wizard_view.prototype._is_add_mode=function(g){for(var h=0;h<g.length;h++){var e=g[h].get_view();var f=rdx.view_utils.get_model_method(e);if(f==rdx.model_constants.ADD){return true}}return false};rdx.wizard_view.prototype._handle_response=function(g,l){var m=this._get_resource_map()[l].pages;var h=rdx.utils.get_formatted_response(g[l]);for(var o=0;o<m.length;o++){var n=m[o];n.get_form().initialize(h);n.set_original_resource_data(h)}};rdx.wizard_view.prototype.get_wizard=function(){return this._wizard};rdx.wizard_view.prototype.get_view_properties=function(){return this._view_properties};rdx.wizard_view.prototype.on_success=function(b){this._wizard.set_save_complete(b)};rdx.wizard_view.prototype.is_dialog=function(){return true};rdx.wizard_view.prototype._destroy_view=function(){this._wizard.close()};rdx.wizard_view.prototype._get_resource_map=function(){return this._wizard_controller.get_resource_map()};rdx.dashboard_view=function(m,f,l,g){this._parent=m;this._view_definition=f;this._base_view=g;var h={center_view:{},right_view:{},welcome_view:null,add_configure_view:null,link_text:null};this._view_properties=$.extend({},h,this._view_definition.view_properties);this._center_view=null;this._right_view=null};rdx.dashboard_view.prototype=new rdx.abstract_view();rdx.dashboard_view.prototype.make_view=function(){};rdx.dashboard_view.prototype.get_resource_response_arrived=function(d){var c=(rdx.utils.is_defined(d)&&d.length>0)?parseInt(d[0]["__count"]):0;if(rdx.utils.is_defined(this._view_properties.welcome_view)&&c==0){this._load_view("welcome_view")}else{this._render_view()}};rdx.dashboard_view.prototype.get_view_context=function(){var b=this._base_view.get_view_context();b.set_url_params({count:true},{});return b};rdx.dashboard_view.prototype._load_view=function(c){var d=this._base_view.get_parent();this._base_view.destroy_view();new rdx.base_view(d,rdx.utils.get_view(this._view_properties[c])).prepare_view()};rdx.dashboard_view.prototype.destroy_view=function(){if(rdx.utils.is_defined(this._center_view)){this._center_view.destroy_view()}if(rdx.utils.is_defined(this._right_view)){this._right_view.destroy_view()}};rdx.dashboard_view.prototype._handle_new_link_click_handler_callback=function(b){if(rdx.utils.is_defined(this._view_properties.add_configure_view)){this._load_view("add_configure_view")}else{if(rdx.utils.is_defined(this._view_properties.add_click_handler_callback)){this._base_view.destroy_view();this._view_properties.add_click_handler_callback.call_back()}}};rdx.dashboard_view.prototype._render_view=function(){var m=$("<td>");var t=$("<td>").addClass("right");var l=$("<tr>").append(m);if(rdx.utils.is_defined(this._view_properties.right_view)){l.append(t)}var n=rdx.utils.is_defined(this._view_properties.title)?this._view_properties.title:"rdx.dashboard";if(rdx.utils.is_not_defined(this._base_view.get_crumb_handler())&&(rdx.utils.is_not_defined(this._view_properties._dont_show_title)||this._view_properties._dont_show_title==false)){var n=rdx.i18n.get_string(n);var q=$("<div>");q.addClass("op_wizard_title");q.append(n);this._parent.append($("<div>").addClass("dashboard_title").append(q))}var o=$("<table>").addClass("layout_table").attr("align","center").attr("cellPadding",0).attr("cellSpacing",0).append(l);this._parent.removeClass("view_div_decorator").addClass("dashboard_view clearfix");if(rdx.utils.is_defined(this._view_properties.add_configure_view)||rdx.utils.is_defined(this._view_properties.add_click_handler_callback)){if(rdx.utils.is_defined(this._view_properties.link_text)){var s={add_blue_button:true,blue_button_click_handler_callback:new rdx.callback(this,this._handle_new_link_click_handler_callback),blue_button_label:this._view_properties.link_text};var p=$("<div>").addClass("add_button");new rdx.button_bar(p,new rdx.form_field({properties:s})).render();this._parent.append(p)}}this._parent.append(o);this._center_view=new rdx.base_view(m,rdx.utils.get_view(this._view_properties.center_view));if(rdx.utils.is_function(this._center_view.get_view().set_is_back_button_required)){this._center_view.get_view().set_is_back_button_required(false)}this._center_view.prepare_view();if(rdx.utils.is_defined(this._view_properties.right_view)||rdx.utils.is_defined(this._view_properties.add_configure_view)||rdx.utils.is_defined(this._view_properties.add_click_handler_callback)){this._right_view=new rdx.base_view(t,rdx.utils.get_view(this._view_properties.right_view));if(rdx.utils.is_function(this._right_view.get_view().set_is_back_button_required)){this._right_view.get_view().set_is_back_button_required(false)}this._right_view.prepare_view()}};rdx.dashboard_view.prototype._add_action_bar=function(){this._action_properties=rdx.view_utils.get_action_bar_items(this._view_definition,this._base_view.get_parent(),this._base_view.get_view_context())};rdx.dashboard_view.prototype.get_action_items=function(){if(rdx.utils.is_defined(this._action_properties)){return this._action_properties}this._add_action_bar();return this._action_properties};rdx.analytics_dashboard_view=function(s,A,z,p){this._parent=s;this._view_definition=A;this._resource=z;this._base_view=p;this._view_context=null;this._view_name=rdx.utils.is_defined(this._view_definition.d_name)?this._view_definition.d_name:this._view_definition.name;var q={time_slider_properties:{enabled:true},time_picker_dropdown_properties:{enabled:true,time_picker_options_get_callback:null,change_handler_callback:null,oldest_date:(12).months().ago(),newest_date:Date.today()},search_view_properties:{enabled:true,placeholder_text:"rdx.enter_text_to_search",submit_handler_callback:null,view_name_to_show:null,searched_context_callback:null},main_view_list:null,main_dashboard_view_list:null,refresh_enabled:false,export_enabled:false,title:"rdx.dashboard",time_panel_update_handler_callback:null,time_convertor_callback:null};if(rdx.utils.is_defined(this._view_definition.view_properties.resources)){var t=this._view_definition.view_properties.resources;this._resources=new Object();for(var x=0;x<t.length;x++){this._resources[rdx.utils.get_resource(t[x]).name]=rdx.utils.get_resource(t[x])}this._all_resources=rdx.utils.object_keys(this._resources)}this._show_home_view=rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.show_home_view)?this._view_definition.view_properties.show_home_view:false;this._show_refresh_button=rdx.utils.is_defined(this._view_definition.view_properties.show_refresh_button)?this._view_definition.view_properties.show_refresh_button:true;this._show_help_button=rdx.utils.is_not_defined(this._view_definition.view_properties.show_help_button)?false:this._view_definition.view_properties.show_help_button;this._show_export_button=rdx.utils.is_not_defined(rdx.EXPORT_ENABLED)?false:rdx.EXPORT_ENABLED;this._auto_refresh_interval=rdx.utils.is_not_defined(this._view_definition.view_properties.auto_refresh_interval)?null:this._view_definition.view_properties.auto_refresh_interval;this._is_inner_view=rdx.utils.is_defined(this._view_definition.view_properties._is_inner_view)?this._view_definition.view_properties._is_inner_view:false;this._view_properties=$.extend({},q,this._view_definition.view_properties);this._main_container_div=null;this._search_container_div=null;this._search_results_div=null;this._time_container_main_div=null;this._go_button_div=null;this._main_view_list_container=null;this._main_dashboard_view_container=null;this._right_side_view_list_container=null;this._tabbed_detail_views_container=null;this._tabbed_chart_views_container=null;this._summary_pane_block_container=null;this._tabbed_extra_detail_views_container=null;this._search_bar=null;this._picker_slider=null;this._main_views=null;this._right_views=null;this._search_results_view=null;this._picked_date=new Object();if(rdx.utils.is_defined(this._view_definition)&&rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.type)){rdx.current_view_type=this._view_definition.view_properties.type}rdx.ext.analytics.schedule_current_view_properties=new Object();if(rdx.utils.is_defined(this._view_definition.view_context.view_context_url)){if(rdx.utils.is_defined(this._view_definition.view_context.view_context_url.duration)&&this._view_definition.view_context.view_context_url.duration!=null){rdx.SELECTED_DURATION_OBJECT.duration_value=this._view_definition.view_context.view_context_url.duration;this.update_duration()}else{if(rdx.utils.is_defined(this._view_definition.view_context.view_context_url.report_start_time)&&rdx.utils.is_defined(this._view_definition.view_context.view_context_url.report_end_time)){rdx.SELECTED_DURATION_OBJECT.start_epoch=this._view_definition.view_context.view_context_url.report_start_time;rdx.SELECTED_DURATION_OBJECT.end_epoch=this._view_definition.view_context.view_context_url.report_end_time;this.get_slider().reset_bounds(new Date(rdx.SELECTED_DURATION_OBJECT.start_epoch),new Date(rdx.SELECTED_DURATION_OBJECT.end_epoch));this.go_button_handler(rdx.SELECTED_DURATION_OBJECT)}else{rdx.SELECTED_DURATION_OBJECT.duration_value="last_1_hour";this.update_duration()}}if(rdx.utils.is_defined(this._view_definition.view_context.view_context_url.username)){var u=this._view_definition.view_context.view_context_url.username;var y={name:u};rdx.ext.analytics.set_export_data(y)}else{if(rdx.utils.is_defined(this._view_definition.view_context.view_context_url.app_name&&this._view_definition.view_context.view_context_url.app_type)){var w=this._view_definition.view_context.view_context_url.app_name;var B=this._view_definition.view_context.view_context_url.app_type;var y={app_name:w,app_type:B};rdx.ext.analytics.set_export_data(y)}else{if(rdx.utils.is_defined(this._view_definition.view_context.view_context_url.gateway_fqdn)){var v=this._view_definition.view_context.view_context_url.gateway_fqdn;var y={gateway_fqdn:v};rdx.ext.analytics.set_export_data(y)}}}}};rdx.analytics_dashboard_view.prototype=new rdx.abstract_view();rdx.analytics_dashboard_view.prototype.make_view=function(){this._base_view.remove_decorator();this.breadcrumb_executed=false;if(!(rdx.utils.is_defined(this._view_definition.view_properties.render_breadcrumb)&&this._view_definition.view_properties.render_breadcrumb==false)){if($(".analytics_breadcrumb").length==0){var s=$("<td>").addClass("title_tool_bar_table");var v=new rdx.ext.analytics.breadcrumb(s,this._show_home_view,this._all_resources,this._resources).render();v.add_event_handler(rdx.ext.analytics.events.CRUMB_CLICKED,new rdx.callback(this,this._crumb_clicked,[this._view_definition]));if(this._is_inner_view==false){rdx.ext.analytics.set_breadcrumb(v)}var x=$("<td>").addClass("title_tool_bar_table");var u=$("<div>").addClass("refresh_button");x.append(u);x.bind(rdx.events.CLICK,{refresh_div:u},function(a){a.data.refresh_div.addClass("refresh_button_rotating");setTimeout(function(){a.data.refresh_div.removeClass("refresh_button_rotating")},300);rdx.global_title_bar.get_current_crumb().view_info.base_view.refresh_view()});this._top_table=$("<table>").addClass("tool_bar_table tool_bar_table_no_border");var n=$("<tr>");this._top_table.append(n);this.breadcrumb_executed=true;n.append(s)}}this._main_container_div=$("<div>").addClass("analytics_dashboard_view_main_container");if(this.is_search_enabled()){this._add_search_section()}if(this._view_definition.view_properties.add_title==true){this._add_dashboard_title_section()}if(this.is_time_slider_enabled()||this.is_time_picker_enabled()){this._add_time_slider_picker_section()}if(this.breadcrumb_executed==true){this.breadcrumb_executed=false;if(this._show_export_button){var t=$("<td>").addClass("title_tool_bar_table").attr("title",rdx.i18n.get_string("rdx.click_to_export"));rdx.ext.analytics.export_button=t;n.append(t);this.create_export_icon(t,new rdx.callback(this,this.get_export_post_object))}if(this._show_refresh_button){n.append(x)}if(this._show_help_button){var o=$("<td>").addClass("title_tool_bar_table");var w=this._view_definition.view_properties.help_id;if(rdx.utils.is_defined(w)){var q=$("<div>").addClass("help_column");rdx.help.add_help(q,w);o.append(q);n.append(o)}}if(this._is_inner_view==false){this._parent.append(this._top_table)}if(this._is_inner_view==false){var p=new rdx.ext.analytics.crumb({selected_object:this._resource,is_analytics_dashboard_view:true,view_definition:this._view_definition});v.add(p)}}this._parent.addClass("analytics_dashboard_view_css").append(this._main_container_div)};rdx.analytics_dashboard_view.prototype.create_export_icon=function(e,d){var f=$("<div>").addClass("export_div");e.append(f);f.bind(rdx.events.CLICK,{_this:this,export_div:f,view_object_get_callback:d},function(a){rdx.view_utils.show_export_report_panel(null,a.data.view_object_get_callback)})};rdx.analytics_dashboard_view.prototype.update_duration=function(){var b=null;if(rdx.utils.is_defined(rdx.SELECTED_DURATION_OBJECT)&&rdx.utils.is_defined(rdx.SELECTED_DURATION_OBJECT.duration_value)){if(rdx.SELECTED_DURATION_OBJECT.duration_value=="last_week"){b="last_1_week"}else{if(rdx.SELECTED_DURATION_OBJECT.duration_value=="last_month"){b="last_1_month"}else{if(rdx.SELECTED_DURATION_OBJECT.duration_value=="last_1_quarter"){duartion="last_3_months"}else{if(rdx.SELECTED_DURATION_OBJECT.duration_value=="last_half_year"){duartion="last_6_months"}else{if(rdx.SELECTED_DURATION_OBJECT.duration_value=="last_1_year"){duartion="last_1_year"}else{if(rdx.SELECTED_DURATION_OBJECT.duration_value=="last_5_years"){b="last_5_years"}else{if(rdx.SELECTED_DURATION_OBJECT.duration_value=="last_10_years"){duartion="last_10_years"}}}}}}}}rdx.ext.analytics.view_utils.set_duration(b)};rdx.analytics_dashboard_view.prototype._crumb_clicked=function(e){$(".rdx_second_pane_container > div:last-child .analytics_dashboard_view_main_container").empty();var f;if(rdx.utils.is_defined(e.get_view())){f=rdx.utils.get_view(e.get_view())}else{f=this._view_definition}var d=new rdx.base_view($(".rdx_second_pane_container > div:last-child .analytics_dashboard_view_main_container"),f);d.prepare_view()};rdx.analytics_dashboard_view.prototype.get_resource_response_arrived=function(b){};rdx.analytics_dashboard_view.prototype.resize_view=function(){};rdx.analytics_dashboard_view.prototype.refresh_view=function(){this.go_button_handler(rdx.SELECTED_DURATION_OBJECT)};rdx.analytics_dashboard_view.prototype._add_search_section=function(){this._search_container_div=$("<div>").addClass("search_container_div");this._search_results_div=$("<div>").addClass("search_results_div");this._main_container_div.append(this._search_container_div).append(this._search_results_div);var b={placeholder_text:this.get_search_placeholder_text(),search_submit_handler_callback:this.get_search_submit_handler_callback(),cancel_search_handler_callback:this.get_search_cancel_handler_callback()};this._search_bar=new rdx.search_bar(this._search_container_div,b);this._search_bar.render()};rdx.analytics_dashboard_view.prototype._add_dashboard_title_section=function(){var b=$("<div>").append(this.get_title()).addClass("analytics_dashboard_view_title");this._main_container_div.append(b)};rdx.analytics_dashboard_view.prototype._add_refresh_button=function(){var b=$("<div>").attr("title",rdx.i18n.get_string("rdx.click_to_refresh")).addClass("analytics_dashboard_refresh_div");b.bind(rdx.events.CLICK,{that:this},function(a){a.data.that.refresh_view()});this._main_container_div.append(b)};rdx.analytics_dashboard_view.prototype.get_export_post_object=function(J){if(J=="csv"){var T=new Object();var V,S,R=this.get_main_view_map();if(rdx.utils.is_not_empty(R)){for(var U in R){S=new rdx.base_view(null,rdx.utils.get_view(U));if(rdx.utils.is_function(S._view_definition.export_csv_payload_callback)){var G=S._view_definition.export_csv_payload_callback();var D=new Object();var I=G._view_context._url_params.args;var Z="";for(var L=0;L<I.length;L++){Z+=I[L].name+":"+I[L].value+","}var O=G._view_context._url_params.query_params;D.args=Z.slice(0,-1);for(var N=0;N<O.length;N++){if(O[N].name=="cr_enabled"){D.cr_enabled=O[N].value}else{if(O[N].name=="sla_enabled"){D.sla_enabled=O[N].value}else{if(O[N].name=="type"){D.type=O[N].value}else{if(O[N].name=="duration"){D.duration=O[N].value}else{if(O[N].name=="asc"){D.asc=O[N].value}else{if(O[N].name=="order_by"){D.order_by=O[N].value}}}}}}}if(rdx.utils.is_defined(rdx.SELECTED_DURATION_OBJECT)&&rdx.utils.is_not_defined(rdx.SELECTED_DURATION_OBJECT.duration_value)){var ab=rdx.ext.analytics.start_epoch;var P=rdx.ext.analytics.end_epoch;if(rdx.utils.is_defined(ab)&&rdx.utils.is_defined(P)){D.report_start_time=ab;D.report_end_time=P}}var H=G._view_definition.resource_name;D.resource_name=H;var aa=rdx.utils.get_resource(H);D.section_title=rdx.i18n.get_string(G._view_definition.title);T[D.section_title]=D}T[D.section_title]=D}}else{var D=new Object();if(rdx.utils.is_defined(this._view_definition)){D.resource_name=this._view_definition.resource_name;this.update_duration();D.duration=rdx.ext.analytics.view_utils.get_duration();var K=rdx.utils.is_defined(this._view_definition.view_properties.title)?this._view_definition.view_properties.title:"CSV Report";D.section_title=rdx.i18n.get_string(K);if(rdx.utils.is_defined(rdx.SELECTED_DURATION_OBJECT)&&rdx.utils.is_not_defined(rdx.SELECTED_DURATION_OBJECT.duration_value)){var ab=rdx.ext.analytics.start_epoch;var P=rdx.ext.analytics.end_epoch;if(rdx.utils.is_defined(ab)&&rdx.utils.is_defined(P)){D.report_start_time=ab;D.report_end_time=P}}T[D.section_title]=D;T[D.section_title]=D}}return T}else{var C=new Object();if(rdx.utils.is_defined(rdx.SELECTED_DURATION_OBJECT)){var F={duration:rdx.SELECTED_DURATION_OBJECT.duration_value}}else{var F={duration:rdx.ext.analytics.view_utils.get_duration()}}C.resource_name=this._resource.name;var Q=rdx.ext.analytics.get_breadcrumb()._get_last_added_crumb().get_view_definition();C.view_name=rdx.utils.is_defined(Q.d_name)?Q.d_name:Q.name;if(rdx.utils.is_defined(rdx.ext.analytics.get_breadcrumb()._get_last_added_crumb().get_objects()[0])){if(rdx.utils.is_defined(rdx.ext.analytics.get_breadcrumb()._get_last_added_crumb().get_objects()[0].name)){F.username=rdx.ext.analytics.get_breadcrumb()._get_last_added_crumb().get_objects()[0].name}if(rdx.utils.is_defined(rdx.ext.analytics.get_breadcrumb()._get_last_added_crumb().get_objects()[0].app_name)){F.app_name=rdx.ext.analytics.get_breadcrumb()._get_last_added_crumb().get_objects()[0].app_name}if(rdx.utils.is_defined(rdx.ext.analytics.get_breadcrumb()._get_last_added_crumb().get_objects()[0].gateway_fqdn)){F.gateway_fqdn=rdx.ext.analytics.get_breadcrumb()._get_last_added_crumb().get_objects()[0].gateway_fqdn}}if(rdx.utils.is_defined(rdx.ext.analytics.get_breadcrumb()._get_last_added_crumb().get_selected_object().app_type)){F.app_type=rdx.ext.analytics.get_breadcrumb()._get_last_added_crumb().get_selected_object().app_type}var Z=null;var V,S,R=this.get_main_view_map();for(var U in R){S=new rdx.base_view(null,rdx.utils.get_view(U));if(rdx.utils.is_function(S._view_definition.export_payload_callback)){Z=S._view_definition.export_payload_callback();for(var M in Z){F[M]=Z[M]}}}C.extra_params=F;var E=rdx.ext.analytics.utils.get_report_export_view_context_by_view_name(C);var W=new Object();W.view_context_url=E;W.view_selection=new Object();return W}};rdx.analytics_dashboard_view.prototype._add_time_slider_picker_section=function(){this.set_time_picker_changed_update_range_callback(new rdx.callback(this,this._handle_time_picker_change_callback));this._time_container_main_div=$("<div>").addClass("time_container_main_div").addClass("clearfix");this._main_container_div.append(this._time_container_main_div);this._picker_slider=rdx.view_utils.add_time_selection_bar(this._time_container_main_div,this.get_time_slider_properties(),this.get_time_picker_properties(),this.get_go_button_properties());if(rdx.utils.is_defined(this.get_time_convertor_callback())){var b=this.converted_picked_date(this.get_picker().get_data());this.get_slider().reset_bounds(new Date(b.start_epoch),new Date(b.end_epoch));if(rdx.utils.is_not_defined(rdx.SELECTED_DURATION_OBJECT)||!rdx.SELECTED_DURATION_OBJECT.time_range){this.get_slider().reset_default_bounds(new Date(b.start_epoch),new Date(b.end_epoch))}}this._handle_time_picker_change_callback(this.get_picker().get_data())};rdx.analytics_dashboard_view.prototype._add_main_view_list_container=function(){if(rdx.utils.is_defined(this._main_view_list_container)){this._main_view_list_container.empty()}else{if(rdx.utils.is_not_defined(this.get_right_view_map())){this._main_view_list_container=$("<div>").addClass("main_view_list_container").addClass("hundred_percent_width")}else{this._main_view_list_container=$("<div>").addClass("main_view_list_container")}}this._add_main_view_sections()};rdx.analytics_dashboard_view.prototype._add_main_dashboard_view_container=function(){if(rdx.utils.is_defined(this._main_dashboard_view_container)){this._main_dashboard_view_container.empty()}else{this._main_dashboard_view_container=$("<div>").addClass("main_dashboard_view_container")}this._add_main_dashboard_view_sections()};rdx.analytics_dashboard_view.prototype._add_main_dashboard_view_sections=function(){var e,f,g=this.get_dashboard_view();if(rdx.utils.is_defined(this.get_dashboard_view())){this._main_container_div.append(this._main_dashboard_view_container)}if(rdx.utils.is_defined(this.get_dashboard_view())){if(this._view_definition.view_properties.add_title==true){this._main_dashboard_title=$("<div>").addClass("main_dashboard_view_container_title").append("General Summary");this._main_dashboard_view_container.append(this._main_dashboard_title)}for(var h in g){e=$("<div>").addClass("dashboard_summary_view_container");this._main_dashboard_view_container.append(e);var f=new rdx.base_view(e,rdx.utils.get_view(h));f.prepare_view(true)}}};rdx.analytics_dashboard_view.prototype._add_main_view_sections=function(){this._main_view_list_container.empty();var n,h,l=this.get_main_view_map();if(rdx.utils.is_defined(this.get_main_view_map())){this._main_container_div.append(this._main_view_list_container)}for(var m in l){if(rdx.utils.is_not_defined(this.get_main_views())){this._main_views=new Array()}n=$("<div>").addClass("main_individual_view_container");this._main_view_list_container.append(n);h=new rdx.base_view(n,rdx.utils.get_view(m));h.remove_decorator();var o=h.get_view_context();l[m].call_back([o]);this._main_views.push(h);if(rdx.utils.is_defined(this._view_definition.view_context.view_context_url)){var g=this._view_definition.view_context.view_context_url;h._view_definition.export_populate_callback=function(){return g}}h.prepare_view(true)}};rdx.analytics_dashboard_view.prototype._add_right_side_view_container=function(){if(rdx.utils.is_defined(this._right_side_view_list_container)){this._right_side_view_list_container.empty()}else{this._right_side_view_list_container=$("<div>").addClass("right_side_view_container")}this._add_right_side_view_sections()};rdx.analytics_dashboard_view.prototype._add_right_side_view_sections=function(){this._right_side_view_list_container.empty();var e,f,g=this.get_right_view_map();if(rdx.utils.is_defined(this.get_right_view_map())){this._main_container_div.append(this._right_side_view_list_container)}for(var h in g){if(rdx.utils.is_not_defined(this.get_right_views())){this._right_views=new Array()}e=$("<div>").addClass("right_individual_view_container");this._right_side_view_list_container.append(e);f=new rdx.base_view(e,rdx.utils.get_view(h));f.remove_decorator();g[h].call_back([f.get_view_context()]);this._right_views.push(f);f.prepare_view(true)}};rdx.analytics_dashboard_view.prototype._add_summary_pane_block_container=function(){if(rdx.utils.is_defined(this._summary_pane_block_container)){this._summary_pane_block_container.empty()}else{this._summary_pane_block_container=$("<div>").addClass("summary_pane_view_container")}this._add_summary_pane_block_sections()};rdx.analytics_dashboard_view.prototype._add_summary_pane_block_sections=function(){this._summary_pane_block_container.empty();var e,f,g=this.get_summary_pane_view_map();if(rdx.utils.is_defined(this.get_summary_pane_view_map())){this._main_container_div.append(this._summary_pane_block_container)}for(var h in g){e=$("<div>").addClass("summary_pane_individual_view_container");this._summary_pane_block_container.append(e);f=new rdx.base_view(e,rdx.utils.get_view(h));f.remove_decorator();g[h].call_back([f.get_view_context()]);f.prepare_view(true)}};rdx.analytics_dashboard_view.prototype._add_tabbed_chart_views_container=function(){if(rdx.utils.is_defined(this._tabbed_chart_views_container)){this._tabbed_chart_views_container.empty()}else{this._tabbed_chart_views_container=$("<div>").addClass("tabbed_chart_view_container")}this._add_tabbed_chart_views_sections()};rdx.analytics_dashboard_view.prototype._add_tabbed_chart_views_sections=function(){this._tabbed_chart_views_container.empty();var e,f,g=this.get_tabbed_chart_view_map();if(rdx.utils.is_defined(this.get_tabbed_chart_view_map())){this._main_container_div.append(this._tabbed_chart_views_container)}for(var h in g){e=$("<div>").addClass("tabbed_chart_individual_view_container");this._tabbed_chart_views_container.append(e);f=new rdx.base_view(e,rdx.utils.get_view(h));g[h].call_back([f.get_view_context()]);f.prepare_view(true)}};rdx.analytics_dashboard_view.prototype._add_tabbed_detail_views_container=function(){if(rdx.utils.is_defined(this._tabbed_detail_views_container)){this._tabbed_detail_views_container.empty()}else{this._tabbed_detail_views_container=$("<div>").addClass("tabbed_detail_view_container")}this._add_tabbed_detail_views_sections()};rdx.analytics_dashboard_view.prototype._add_tabbed_detail_views_sections=function(){this._tabbed_detail_views_container.empty();var e,f,g=this.get_tabbed_detail_view_map();if(rdx.utils.is_defined(this.get_tabbed_detail_view_map())){this._main_container_div.append(this._tabbed_detail_views_container)}for(var h in g){e=$("<div>").addClass("tabbed_detail_individual_view_container");this._tabbed_detail_views_container.append(e);f=new rdx.base_view(e,rdx.utils.get_view(h));g[h].call_back([f.get_view_context()]);f.prepare_view(true)}};rdx.analytics_dashboard_view.prototype._add_tabbed_extra_detail_views_container=function(){if(rdx.utils.is_defined(this._tabbed_extra_detail_views_container)){this._tabbed_extra_detail_views_container.empty()}else{this._tabbed_extra_detail_views_container=$("<div>").addClass("tabbed_extra_detail_view_container")}this._add_tabbed_extra_detail_views_sections()};rdx.analytics_dashboard_view.prototype._add_tabbed_extra_detail_views_sections=function(){this._tabbed_extra_detail_views_container.empty();var e,f,g=this.get_tabbed_extra_detail_view_map();if(rdx.utils.is_defined(this.get_tabbed_extra_detail_view_map())){this._main_container_div.append(this._tabbed_extra_detail_views_container)}for(var h in g){e=$("<div>").addClass("tabbed_extra_detail_individual_view_container");this._tabbed_extra_detail_views_container.append(e);f=new rdx.base_view(e,rdx.utils.get_view(h));g[h].call_back([f.get_view_context()]);f.prepare_view(true)}};rdx.analytics_dashboard_view.prototype._handle_time_picker_change_callback=function(e,f){if(f){var d=this.converted_picked_date(e);rdx.SELECTED_DURATION_OBJECT=$.extend({},rdx.SELECTED_DURATION_OBJECT,d,{time_range:false});if(rdx.utils.is_defined(this.get_picker())){rdx.SELECTED_DURATION_OBJECT.duration_value=this.get_picker().get_data().duration_value}if(rdx.utils.is_defined(this.get_slider())){this.get_slider().reset_bounds(new Date(d.start_epoch),new Date(d.end_epoch));this.get_slider().reset_default_bounds(new Date(d.start_epoch),new Date(d.end_epoch))}}this.go_button_handler(e)};rdx.analytics_dashboard_view.prototype.get_search_submit_handler_callback=function(){var e=null;var d=this._view_properties.search_view_properties.view_name_to_show;if(rdx.utils.is_defined(this._view_properties.search_view_properties.submit_handler_callback)){e=this._view_properties.search_view_properties.submit_handler_callback}else{if(rdx.utils.is_defined(d)&&rdx.utils.is_defined(rdx.utils.get_view(d))){var f=rdx.utils.get_view(d);e=new rdx.callback(this,this._show_search_results_in_view,[f])}else{}}return e};rdx.analytics_dashboard_view.prototype.get_search_cancel_handler_callback=function(){return new rdx.callback(this,function(){if(rdx.utils.is_defined(this.get_search_results_view())){this.get_search_results_view().destroy_view()}},[])};rdx.analytics_dashboard_view.prototype._show_search_results_in_view=function(f,d){this._search_results_div.empty();this._search_results_view=new rdx.base_view(this._search_results_div,d);var e=this._search_results_view.get_view_context();if(rdx.utils.is_defined(this.get_searched_context_callback())){this.get_searched_context_callback().call_back([e,f])}this._search_results_view.prepare_view(true)};rdx.analytics_dashboard_view.prototype.is_search_enabled=function(){return this._view_properties.search_view_properties.enabled};rdx.analytics_dashboard_view.prototype.get_search_placeholder_text=function(){return this._view_properties.search_view_properties.placeholder_text};rdx.analytics_dashboard_view.prototype.get_searched_context_callback=function(){return this._view_properties.search_view_properties.searched_context_callback};rdx.analytics_dashboard_view.prototype.get_title=function(){return rdx.i18n.get_string(this._view_properties.title)};rdx.analytics_dashboard_view.prototype.is_time_slider_enabled=function(){return this._view_properties.time_slider_properties.enabled};rdx.analytics_dashboard_view.prototype.time_slider_enabled=function(){return this._view_properties.time_slider_properties.enabled};rdx.analytics_dashboard_view.prototype.get_time_slider_properties=function(){return this._view_properties.time_slider_properties};rdx.analytics_dashboard_view.prototype.is_time_picker_enabled=function(){return this._view_properties.time_picker_dropdown_properties.enabled};rdx.analytics_dashboard_view.prototype.get_time_picker_properties=function(){this._view_properties.time_picker_dropdown_properties.drop_down_options=this._view_properties.time_picker_dropdown_properties.time_picker_options_get_callback.call_back();return this._view_properties.time_picker_dropdown_properties};rdx.analytics_dashboard_view.prototype.time_picker_options_get_callback=function(){return this._view_properties.time_picker_dropdown_properties.time_picker_options_get_callback};rdx.analytics_dashboard_view.prototype.get_search_bar=function(){return this._search_bar};rdx.analytics_dashboard_view.prototype.get_time_picker_changed_update_range_callback=function(){return this._view_properties.time_picker_dropdown_properties.change_handler_callback};rdx.analytics_dashboard_view.prototype.set_time_picker_changed_update_range_callback=function(b){this._view_properties.time_picker_dropdown_properties.change_handler_callback=b};rdx.analytics_dashboard_view.prototype.get_picked_date=function(){return this._picked_date};rdx.analytics_dashboard_view.prototype.set_picked_date=function(b){this._picked_date=b};rdx.analytics_dashboard_view.prototype.get_picker_slider=function(){return this._picker_slider};rdx.analytics_dashboard_view.prototype.get_go_button_properties=function(){var b={button_text:"rdx.go",click_handler_callback:new rdx.callback(this,this.go_button_handler,[])};return b};rdx.analytics_dashboard_view.prototype.get_picker=function(){var b=null;if(rdx.utils.is_defined(this.get_picker_slider())){b=this._picker_slider.picker}return b};rdx.analytics_dashboard_view.prototype.get_slider=function(){var b=null;if(rdx.utils.is_defined(this.get_picker_slider())){b=this._picker_slider.slider}return b};rdx.analytics_dashboard_view.prototype.get_time_display_div=function(){var b=null;if(rdx.utils.is_defined(this.get_picker_slider())){b=this._picker_slider.time_display_div}return b};rdx.analytics_dashboard_view.prototype.set_time_in_time_display_div=function(b){if(rdx.utils.is_defined(this.get_time_display_div())){this.get_time_display_div().empty();this.get_time_display_div().append(b)}};rdx.analytics_dashboard_view.prototype.get_search_results_view=function(){return this._search_results_view};rdx.analytics_dashboard_view.prototype.get_main_view_map=function(){return this._view_properties.main_view_list};rdx.analytics_dashboard_view.prototype.get_right_view_map=function(){return this._view_properties.right_view_list};rdx.analytics_dashboard_view.prototype.get_dashboard_view=function(){return this._view_properties.main_dashboard_view_list};rdx.analytics_dashboard_view.prototype.get_summary_pane_view_map=function(){return this._view_properties.summary_pane_block};rdx.analytics_dashboard_view.prototype.get_tabbed_chart_view_map=function(){return this._view_properties.tabbed_chart_views};rdx.analytics_dashboard_view.prototype.get_tabbed_detail_view_map=function(){return this._view_properties.tabbed_detail_views};rdx.analytics_dashboard_view.prototype.get_tabbed_extra_detail_view_map=function(){return this._view_properties.tabbed_extra_detail_views};rdx.analytics_dashboard_view.prototype.get_main_views=function(){return this._main_views};rdx.analytics_dashboard_view.prototype.get_right_views=function(){return this._right_views};rdx.analytics_dashboard_view.prototype.go_button_handler=function(e,f){if(f){var d=this.converted_picked_date(e);rdx.SELECTED_DURATION_OBJECT=$.extend({},rdx.SELECTED_DURATION_OBJECT,d,{time_range:true});if(rdx.utils.is_defined(this.get_picker())){rdx.SELECTED_DURATION_OBJECT.duration_value=this.get_picker().get_data().duration_value}if(rdx.utils.is_defined(rdx.SELECTED_DURATION_OBJECT)){this.set_time_in_time_display_div(rdx.utils.format_data_dd_m_yyyy_hh_mm_ss(new Date(rdx.SELECTED_DURATION_OBJECT.start_epoch))+" - "+rdx.utils.format_data_dd_m_yyyy_hh_mm_ss(new Date(rdx.SELECTED_DURATION_OBJECT.end_epoch)));if(rdx.utils.is_defined(this.get_time_panel_update_handler_callback())){this.get_time_panel_update_handler_callback().call_back([rdx.SELECTED_DURATION_OBJECT.start_epoch,rdx.SELECTED_DURATION_OBJECT.end_epoch])}}}else{this.set_time_in_time_display_div(rdx.utils.format_data_dd_m_yyyy_hh_mm_ss(new Date(this.get_slider().get_data().start_epoch))+" - "+rdx.utils.format_data_dd_m_yyyy_hh_mm_ss(new Date(this.get_slider().get_data().end_epoch)));if(rdx.utils.is_defined(this.get_time_panel_update_handler_callback())){this.get_time_panel_update_handler_callback().call_back([this.get_slider().get_data().start_epoch,this.get_slider().get_data().end_epoch])}}this._add_summary_pane_block_container();if(this.get_main_view_map()){this.destroy_main_views();this._add_main_view_list_container();this._add_right_side_view_container()}this._add_tabbed_chart_views_container();this._add_tabbed_detail_views_container();this._add_tabbed_extra_detail_views_container();this._add_main_dashboard_view_container()};rdx.analytics_dashboard_view.prototype.destroy_main_views=function(){if(rdx.utils.is_defined(this.get_main_views())){for(var c=0,d=this.get_main_views().length;c<d;c++){this.get_main_views()[c].destroy_view()}}};rdx.analytics_dashboard_view.prototype.get_time_panel_update_handler_callback=function(){return this._view_properties.time_panel_update_handler_callback};rdx.analytics_dashboard_view.prototype.converted_picked_date=function(d){var c=this.get_time_convertor_callback();if(rdx.utils.is_defined(c)){return c.call_back([d])}return d};rdx.analytics_dashboard_view.prototype.get_time_convertor_callback=function(b){return this._view_properties.time_convertor_callback};rdx.summary_chart_detail_view=function(m,f,l,g){this._parent=m;this._view_definition=f;this._resource=l;this._base_view=g;var h={summary_item_renderer_callback:null,key_chart_view_map:null,key_detail_view_map:null,summary_item_click_view_context_for_chart_callback:null,summary_item_click_view_context_for_detail_view_callback:null};this._view_properties=$.extend({},h,this._view_definition.view_properties);this._resource_properties=this._view_definition.resource_properties;this._main_container_div=null;this._summary_strip_container=null;this._chart_view_container=null;this._detail_view_container=null;this._show_detail_view=this._view_properties.show_detail_view;this._selected_summary_item=null;this._summary_items=null;this._chart_view=null;this._detail_view=null;this._summary_response=null;this._selected_key=null;this._currently_selected_item=null;this._any_non_zero_item=false;this._currently_selected_item_index=0};rdx.summary_chart_detail_view.prototype=new rdx.abstract_view();rdx.summary_chart_detail_view.prototype.make_view=function(){this._main_container_div=$("<div>").addClass("summary_chart_detail_view");if(rdx.utils.is_defined(this._view_definition.export_populate_callback)){var b=this._view_definition.export_populate_callback();if(rdx.utils.is_defined(b.selected_index)){this._currently_selected_item_index=b.selected_index}}this._add_summary_strip_container();if(this.get_key_chart_view_map()){this._add_chart_view_section()}if(this.get_key_detail_view_map()&&this.is_show_detail_view()!=false){this._add_detail_view_section()}this._parent.append(this._main_container_div)};rdx.summary_chart_detail_view.prototype.get_resource_response_arrived=function(b){this._summary_response=b;if(this.get_summary_response().length>0){this._main_container_div.removeClass("no_data_to_show");this._add_summary_strip_items()}else{this._add_no_data_to_show()}};rdx.summary_chart_detail_view.prototype.resize_view=function(){};rdx.summary_chart_detail_view.prototype.refresh_view=function(){};rdx.summary_chart_detail_view.prototype._add_summary_strip_container=function(){this._summary_strip_container=$("<div>").addClass("strip_container clearfix");this._main_container_div.append(this._summary_strip_container)};rdx.summary_chart_detail_view.prototype._add_chart_view_section=function(){this._chart_view_container=$("<div>").addClass("chart_view_container");this._main_container_div.append(this._chart_view_container)};rdx.summary_chart_detail_view.prototype._add_detail_view_section=function(){this._detail_view_container=$("<div>").addClass("summary_chart_detail_view_container");this._main_container_div.append(this._detail_view_container)};rdx.summary_chart_detail_view.prototype._add_no_data_to_show=function(){this._summary_strip_container.empty();this._main_container_div.addClass("no_data_to_show");this._summary_strip_container.append(rdx.i18n.get_string("rdx.no_data_to_show"))};rdx.summary_chart_detail_view.prototype.render_vpn_error_counts_call=function(){var m=this;var l=new rdx.model_executor_service(new rdx.callback(function(b){var a=b.get_collated_response()[0].vpn_error_counts;m._summary_response=a;m.render_summary_with_response(a)}));var n=new rdx.view_context();var g=n.get_url_params();var o=g.query_params;var h=rdx.url_utils.construct_url_params({is_query_param:true,use_args:true},rdx.url_utils.GET_ARGS_TYPE,["flag"],{flag:"3"});if(rdx.utils.is_defined(this._view_definition.view_properties.breadcrumb_key)){if(this._view_definition.view_properties.breadcrumb_key=="name"){if(rdx.utils.is_defined(rdx.ext.analytics.get_export_data().name)){var h=rdx.url_utils.construct_url_params({is_query_param:true,use_args:true},rdx.url_utils.GET_ARGS_TYPE,["ica_user_name"],{ica_user_name:rdx.ext.analytics.get_export_data().name})}else{var h=rdx.url_utils.construct_url_params({is_query_param:true,use_args:true},rdx.url_utils.GET_ARGS_TYPE,["ica_user_name"],{ica_user_name:rdx.ext.analytics.get_breadcrumb()._get_last_added_crumb().get_objects()[0].name})}}else{if(this._view_definition.view_properties.breadcrumb_key=="app_name"){if(rdx.utils.is_defined(rdx.ext.analytics.get_export_data().app_name)){var h=rdx.url_utils.construct_url_params({is_query_param:true,use_args:true},rdx.url_utils.GET_ARGS_TYPE,["appname","flag"],{appname:rdx.ext.analytics.get_export_data().app_name,flag:"3"})}else{var h=rdx.url_utils.construct_url_params({is_query_param:true,use_args:true},rdx.url_utils.GET_ARGS_TYPE,["appname","flag"],{appname:rdx.ext.analytics.get_breadcrumb()._get_last_added_crumb().get_objects()[0].app_name,flag:"3"})}}else{if(this._view_definition.view_properties.breadcrumb_key=="gateway"){if(rdx.utils.is_defined(rdx.ext.analytics.get_export_data().gateway_fqdn)){var h=rdx.url_utils.construct_url_params({is_query_param:true,use_args:true},rdx.url_utils.GET_ARGS_TYPE,["vpn_fqdn"],{vpn_fqdn:rdx.ext.analytics.get_export_data().gateway_fqdn})}else{var h=rdx.url_utils.construct_url_params({is_query_param:true,use_args:true},rdx.url_utils.GET_ARGS_TYPE,["vpn_fqdn"],{vpn_fqdn:rdx.ext.analytics.get_breadcrumb()._get_last_added_crumb().get_objects()[0].gateway_fqdn})}}}}}n._url_params=h;insight.hdx_dashboard_common_view_context_callback(n);n._url_params.use_args=true;l.add(rdx.model_constants.GET,rdx.utils.get_resource("vpn_error_counts"),null,null,n.get_url_params());l.execute()};rdx.summary_chart_detail_view.prototype._add_summary_strip_items=function(){this._summary_strip_container.empty();if(rdx.utils.is_defined(this._view_definition.view_properties.fire_vpn_error_counts_call)&&this._view_definition.view_properties.fire_vpn_error_counts_call==true){this.render_vpn_error_counts_call()}else{this.render_summary_with_response(this.get_summary_response())}};rdx.summary_chart_detail_view.prototype.render_summary_with_response=function(s){var q=this._get_summary_item_width();if(rdx.utils.is_empty(s)){var z=new Object();z.error_counts="0";z.error_type="Application Launch";s.push(z)}else{var u=new Object();var v=new Object();var p=new Object();var w=new Object();var o=new Object();for(var x=0;x<s.length;x++){if(s[x].error_type=="Authentication"){v=s[x]}else{if(s[x].error_type=="SSO (Single Sign On)"){p=s[x]}else{if(s[x].error_type=="EPA (End Point Analysis)"){u=s[x]}else{if(s[x].error_type=="Application Launch"){w=s[x]}else{if(s[x].error_type=="Authorization Failure"){o=s[x]}}}}}}s=[];if(!($.isEmptyObject(u))){s.push(u)}if(!($.isEmptyObject(v))){s.push(v)}if(!($.isEmptyObject(o))){s.push(o)}if(!($.isEmptyObject(p))){s.push(p)}if(!($.isEmptyObject(w))){s.push(w)}}for(var x=0,t=s.length;x<t;x++){var y=$("<div>").addClass("summary_chart_summary_item").css("width",q);y.bind(rdx.events.CLICK,{_type:s[x][this.get_summary_key_property()],_this:this,item:y,currently_selected_item_index:x},function(b){var a=b.data._this;var c=b.data.item;a._currently_selected_item_index=b.data.currently_selected_item_index;if(rdx.utils.is_defined(a.get_currently_selected_item())){$(a.get_currently_selected_item()).removeClass("active-tab")}a.set_currently_selected_item(c);c.addClass("active-tab");a._handle_summary_item_click(b.data._type);var d={selected_index:a._currently_selected_item_index};a._view_definition.export_payload_callback=function(){return d}});if(rdx.utils.is_defined(this.get_summary_item_renderer_callback())){this.get_summary_item_renderer_callback().call_back(y)}else{this._render_summary_strip_item(y,s[x])}this._summary_strip_container.append(y);if(x==0){this._summary_items=new Array()}if(x==this._currently_selected_item_index){y.click()}this._summary_items.push(y)}};rdx.summary_chart_detail_view.prototype._render_summary_strip_item=function(o,h){if(rdx.utils.is_defined(this.get_summary_key_property()&&rdx.utils.is_defined(this.get_summary_value_property()))){var m=h[this.get_summary_value_property()];var n="";if(m==0){if(this.get_any_non_zero_item()==false){this.set_any_non_zero_item(true)}n="summary_item_value_div_all_ok"}else{n="summary_item_value_div"}var g=$("<div>").addClass("summary_item_key_div").append(h[this.get_summary_key_property()]);var l=$("<div>").addClass(n);if(n=="summary_item_value_div"){l.append(h[this.get_summary_value_property()])}o.append(g).append(l)}};rdx.summary_chart_detail_view.prototype._handle_summary_item_click=function(b){this._render_chart_view(b);if(this.is_show_detail_view()!=false){this._render_detail_view(b)}};rdx.summary_chart_detail_view.prototype._render_chart_view=function(c){this._chart_view_container.empty();if(rdx.utils.is_defined(this._chart_view)){this._chart_view.destroy_view()}if(rdx.utils.is_defined(c)){if(rdx.utils.is_defined(this.get_key_chart_view_map())){if(rdx.utils.is_defined(this.get_key_chart_view_map()[c])){if(rdx.utils.is_defined(rdx.utils.get_view(this.get_key_chart_view_map()[c]))){this._chart_view=new rdx.base_view(this._chart_view_container,rdx.utils.get_view(this.get_key_chart_view_map()[c]));if(rdx.utils.is_defined(this.get_summary_item_click_view_context_for_chart_callback())){var d=this.get_summary_item_click_view_context_for_chart_callback().call_back([c,this._chart_view.get_view_context()]);this._chart_view.set_view_context(d)}this._chart_view.prepare_view(true)}}}}};rdx.summary_chart_detail_view.prototype._render_detail_view=function(f){this._detail_view_container.empty();if(rdx.utils.is_defined(this._detail_view)){this._detail_view.destroy_view()}if(rdx.utils.is_defined(f)){if(rdx.utils.is_defined(this.get_key_detail_view_map())){if(rdx.utils.is_defined(this.get_key_detail_view_map()[f])){if(rdx.utils.is_defined(rdx.utils.get_view(this.get_key_detail_view_map()[f]))){this._detail_view=new rdx.base_view(this._detail_view_container,rdx.utils.get_view(this.get_key_detail_view_map()[f]));if(rdx.utils.is_defined(this.get_summary_item_click_view_context_for_detail_view_callback())){var e=this.get_summary_item_click_view_context_for_detail_view_callback().call_back([f,this._detail_view.get_view_context()]);this._detail_view.set_view_context(e)}var d=this._detail_view;this._view_definition.export_csv_payload_callback=function(){return d};this._detail_view.prepare_view(true)}}}}};rdx.summary_chart_detail_view.prototype.get_summary_item_renderer_callback=function(){return this._view_properties.summary_item_renderer_callback};rdx.summary_chart_detail_view.prototype.get_key_chart_view_map=function(){return this._view_properties.key_chart_view_map};rdx.summary_chart_detail_view.prototype.get_key_detail_view_map=function(){return this._view_properties.key_detail_view_map};rdx.summary_chart_detail_view.prototype.get_summary_item_click_view_context_for_chart_callback=function(){return this._view_properties.summary_item_click_view_context_for_chart_callback};rdx.summary_chart_detail_view.prototype.get_summary_item_click_view_context_for_detail_view_callback=function(){return this._view_properties.summary_item_click_view_context_for_detail_view_callback};rdx.summary_chart_detail_view.prototype.get_summary_response=function(){return this._summary_response};rdx.summary_chart_detail_view.prototype.get_resource_properties=function(){return this._resource_properties};rdx.summary_chart_detail_view.prototype.get_summary_key_property=function(){return rdx.utils.is_defined(this.get_resource_properties())?this.get_resource_properties().summary_key_property:null};rdx.summary_chart_detail_view.prototype.get_summary_value_property=function(){return rdx.utils.is_defined(this.get_resource_properties())?this.get_resource_properties().summary_value_property:null};rdx.summary_chart_detail_view.prototype._get_summary_item_width=function(){return this.get_summary_response().length>0?parseInt(100/this.get_summary_response().length)+"%":"100%"};rdx.summary_chart_detail_view.prototype.get_currently_selected_item=function(){return this._currently_selected_item};rdx.summary_chart_detail_view.prototype.set_currently_selected_item=function(b){this._currently_selected_item=b};rdx.summary_chart_detail_view.prototype.get_any_non_zero_item=function(){return this._any_non_zero_item};rdx.summary_chart_detail_view.prototype.set_any_non_zero_item=function(b){this._any_non_zero_item=b};rdx.summary_chart_detail_view.prototype.is_show_detail_view=function(){return this._show_detail_view};rdx.getting_started_view=function(h,e,g,f){this._parent=h;this._view_definition=e;this._base_view=f;this._DEFAULT_PROPERTIES={add_custom_brand:false,add_border:true,product_for_info:null,brand_info:null,brand_class_name:"",title:null,title_brand:null,add_getting_started_button:true,short_desc:null,add_intro:true,detailed_desc:null,start_with_option:null,expand:false,title_height:null,section_height:null,prerequisites_render_mode:"tile",prerequisites:null};this._properties=$.extend(true,this._DEFAULT_PROPERTIES,this._view_definition);this._list=null};rdx.getting_started_view.prototype=new rdx.abstract_view();rdx.getting_started_view.prototype.make_view=function(){this._base_view.remove_decorator();var e=$("<div>").addClass("getting_started_view");var d=$("<div>").addClass("img_div");var f=$("<div>");if(this._properties.add_custom_brand===false){f.addClass("content_div")}this._add_content(f);e.append(d);e.append(f);this._parent.append(e)};rdx.getting_started_view.prototype._add_content=function(M){if(this._properties.add_intro===true){var J=$("<div>");if(rdx.utils.is_defined(this._properties.intro_class_name)){M.addClass(this._properties.intro_class_name)}if(this._properties.add_custom_brand===true){J.addClass("getting_started_intro_container");var S=$("<table>").addClass("product_brand_container").addClass(this._properties.brand_class_name);if(this._properties.add_border===false){S.css({border:"none"});J.css({border:"none"})}var Q=$("<tr>");S.append(Q);var T=$("<td>");Q.append(T);T.append($("<div>").addClass("product_container_text").append(this._properties.product_for_info));T.append($("<div>").addClass("brand_container_text").append(this._properties.brand_info));M.append(S);var L=$("<div>").addClass("title title_for_brand");var D=rdx.utils.is_defined(this._properties.custom_welcome_message)?this._properties.custom_welcome_message:"rdx.welcome";this._add_paragraph(L,rdx.i18n.get_string(D),"title_brand");J.append(L)}else{var B=$("<div>").addClass("welcome_info").append(rdx.i18n.get_string("rdx.welcome_to"));M.append(B);var L=$("<div>").addClass("title");this._add_paragraph(L,this._view_definition.title);this._add_paragraph(L,this._view_definition.title_brand,"title_brand");J.append(L)}var R=$("<div>").addClass("small_desc");this._add_paragraph(R,this._view_definition.short_desc);J.append(R);var z=$("<div>").addClass("large_desc");this._add_paragraph(z,this._view_definition.detailed_desc);J.append(z);if(!(rdx.utils.is_empty(this._view_definition.detailed_desc)&&rdx.utils.is_empty(this._view_definition.short_desc))){M.append(J)}}var K=null;if(rdx.utils.is_defined(this._properties.start_with_option)){var P=$("<div>").addClass("start_with_container");var H=$("<div>").addClass("small_desc").append(rdx.i18n.get_string(this._properties.start_with_option.content));var G=new rdx.form_field(this._properties.start_with_option.list_option);var I=$("<div>").addClass("ribbon");var E=$("<div>").addClass("ribbon_label_div ribbon_list_wrapper");this._list=new rdx.list(E,G);this._list.render();var N=$("<span>").addClass("ribbon_dropdown_list");this._list.add_event_handler(rdx.events.CHANGE,new rdx.callback(this,this._handle_list_click,[N]));E.append(N);I.append(E);P.append(H).append(I);M.append(P);var O=this;setTimeout(function(){O._list.select_item(0,true)},100);K=P}if(rdx.utils.is_defined(this._properties.prerequisites)){var C=this._add_checklist_content();K=C;M.append(C)}if(this._properties.add_getting_started_button===true){var A=$("<div>").addClass("image_container");var F={add_blue_button:true,blue_button_label:"rdx.get_started",blue_button_click_handler_callback:new rdx.callback(this,this._handle_get_started_click)};new rdx.button_bar(A,new rdx.form_field({properties:F})).render();if(rdx.utils.is_not_defined(K)){M.append(A)}else{K.append(A)}}};rdx.getting_started_view.prototype._handle_list_click=function(d,f){var e=this;setTimeout(function(){f.empty();f.append(e._list.get_data())},100)};rdx.getting_started_view.prototype._handle_get_started_click=function(){if(rdx.utils.is_defined(this._view_definition.click_handler_callback)){if(rdx.utils.is_defined(this._properties.start_with_option)){this._view_definition.click_handler_callback.call_back([this._base_view,this._list.get_data()])}else{this._view_definition.click_handler_callback.call_back([this._base_view])}}else{if(rdx.utils.is_defined(this._view_definition.on_click_view)){this._parent.empty();new rdx.base_view(this._parent,rdx.utils.get_view(this._view_definition.on_click_view)).prepare_view()}}};rdx.getting_started_view.prototype._add_paragraph=function(e,h,g){var f=$("<span>").append(rdx.i18n.get_string(h));if(rdx.utils.is_defined(g)){f.addClass(g)}e.append(f)};rdx.getting_started_view.prototype.get_resource_response_arrived=function(){};rdx.getting_started_view.prototype._add_prerequites=function(E,G){var N=$("<div>").addClass("checklist_title_container");var F=$("<div>").addClass("checklist_title_wrapper_container");var L=$("<div>").addClass("checklist_title_content");if(rdx.utils.is_defined(this._properties.title_height)){N.css("height",this._properties.title_height)}var M=$("<div>").addClass("checklist_title").append(rdx.i18n.get_string(E.title));var D=$("<div>").addClass("checklist_description").append(rdx.i18n.get_string(E.description));L.append(M);L.append(D);F.append(L);if(rdx.utils.is_defined(E.action_button)){var B=$("<div>").addClass("checklist_button_container");var I=E.action_button.click_handler_callback;E.action_button.blue_button_click_handler_callback=new rdx.callback(this,this._handle_prerequisite_button_click,[I]);var z=new rdx.form_field({properties:E.action_button});new rdx.button_bar(B,z).render();F.append(B)}N.append(F);var A=$("<div>").addClass("checklist_content");if(rdx.utils.is_defined(this._properties.section_height)){A.css("height",this._properties.section_height)}var x=$("<table>").attr("cellPadding",0).attr("cellSpacing",10);var J=null;if(rdx.utils.is_defined(E.renderer_callback)){J=$("<tr>");var H=$("<td>");H.append(E.renderer_callback.call_back([E]));J.append(H);x.append(J)}else{if(rdx.utils.is_defined(E.checklists)){for(i=0;i<E.checklists.length;i++){if((i%2==0&&this._properties.prerequisites_render_mode=="tile")||(this._properties.prerequisites_render_mode=="row")){J=$("<tr>");x.append(J)}var C=$("<td>").addClass("checklist_item");var y=$("<div>").addClass("checklist_item_title");var w=$("<ul>").addClass("checklist_items");if(E.expand==true){var K=$("<span>");if(E.checklists[i].expand==true){y.addClass("checklist_item_title_collapse");w.show()}else{y.addClass("checklist_item_title_expand");w.hide()}w.addClass("checklist_items_list_expand_collapse");y.append(K);y.bind(rdx.events.CLICK,{getting_started_view:this,container:w,title_container:y},function(a){if(a.data.title_container.hasClass("checklist_item_title_collapse")){a.data.title_container.removeClass("checklist_item_title_collapse");a.data.title_container.addClass("checklist_item_title_expand");a.data.container.hide()}else{a.data.title_container.removeClass("checklist_item_title_expand");a.data.title_container.addClass("checklist_item_title_collapse");a.data.container.show(200)}})}if(rdx.utils.is_defined(E.checklists[i].title)){y.append(rdx.i18n.get_string(E.checklists[i].title));C.append(y)}if(rdx.utils.is_defined(E.checklists[i].list)){this._append_checklist_items(E.checklists[i].list,w,true)}C.append(w);J.append(C)}}}A.append(x);G.append(N).append(A);return A};rdx.getting_started_view.prototype._handle_prerequisite_button_click=function(d,c){c.call_back([this._base_view,{}])};rdx.getting_started_view.prototype._add_checklist_content=function(){var g=$("<table>").addClass("checklist_main_container").attr("cellSpacing",0).attr("cellPadding",0);var h=$("<tr>");g.append(h);if(rdx.utils.is_array(this._view_definition.prerequisites)){g.addClass("checklist_main_table_container");for(var e=0;e<this._view_definition.prerequisites.length;e++){var f=$("<td>").attr("valign","top").attr("width",(""+parseInt(100/this._view_definition.prerequisites.length)+"%"));h.append(f);this._add_prerequites(this._view_definition.prerequisites[e],f)}}else{var f=$("<td>");h.append(f);this._add_prerequites(this._view_definition.prerequisites,f)}return g};rdx.getting_started_view.prototype._append_checklist_items=function(p,l,m){for(var q=0;q<p.length;q++){if(rdx.utils.is_string(p[q])){var s=$("<li />").append(p[q]);l.append(s)}else{var t=p[q]["bullet"];var s=$("<li />").append(t);l.append(s);var o=m==true?"circle":"disc";var n=$("<ul>").attr("type",o);l.append(n);this._append_checklist_items(p[q]["sublinks"],n,!m)}}};rdx.getting_started_view.prototype.is_title_required=function(){return true};rdx.feature_welcome_view=function(h,e,g,f){this._parent=h;this._view_definition=e;this._resource=g;this._base_view=f;this._totalcount=0;this.carousel_properties=rdx.utils.is_defined(this._view_definition.carousel_properties)?this._view_definition.carousel_properties:null;this._DEFAULT_PROPERTIES={custom_view_toggle_handler:null,add_back_button:false,welcome_note:"rdx.welcome_to",class_names:null};this._properties=$.extend(true,{},this._DEFAULT_PROPERTIES,this._view_definition.view_properties)};rdx.feature_welcome_view.prototype=new rdx.abstract_view();rdx.feature_welcome_view.prototype.make_view=function(){if(rdx.utils.is_defined(this._properties.custom_view_toggle_handler)){var g=new rdx.callback_params({return_callback:new rdx.callback(this,this.toggle_view_on_resource_count,[true])});this._properties.custom_view_toggle_handler.call_back([g])}else{if(rdx.utils.is_defined(this._resource)){var e=null;rdx.model.get_count(this._resource,e,new rdx.callback(this,this.toggle_view_on_resource_count,[true]),this._parent,new rdx.callback(this,this.toggle_view_on_resource_count,[false]))}else{this._base_view.remove_decorator();var f=$("<div>").addClass("feature_welcome_view");if(rdx.utils.is_defined(this._properties.class_names)){f.addClass(this._properties.class_names)}var h=$("<div>").addClass("content_div");if(rdx.utils.is_defined(this._view_definition.view_properties.addpadding)&&this._view_definition.view_properties.addpadding==true){f.addClass("feature_welcome_padding")}this._add_content(h);f.append(h);this._parent.append(f);if(rdx.utils.is_defined(this.carousel_properties)){this.init_carousel(h)}}}};rdx.feature_welcome_view.prototype._add_content=function(v){var u=$("<div>").addClass("welcome_info").append(rdx.i18n.get_string(this._properties.welcome_note));v.append(u);var s=$("<div>").addClass("title");this._add_paragraph(s,this._view_definition.title);v.append(s);var o=$("<div>").addClass("large_desc");this._add_paragraph(o,this._view_definition.description);v.append(o);for(var q=0;q<this._view_definition.body.length;q++){var m=$("<div>").addClass("small_desc");this._add_paragraph(m,this._view_definition.body[q]["subtitle"]);v.append(m);var n=$("<div>").addClass("large_desc");this._add_paragraph(n,this._view_definition.body[q]["description"]);v.append(n)}if(rdx.utils.is_defined(this.carousel_properties)){this._render_carousel(v)}if(this._properties.add_back_button){var p=$("<button>").addClass("rdx_button rdx_grey_button").append($("<span>").append("Back"));p.bind(rdx.events.CLICK,{view_dfn:this._view_definition,base_view:this._base_view},function(b){var a=b.data.view_dfn;if(rdx.utils.is_defined(a.view_properties.back_handler_callback)){a.view_properties.click_handler_callback.call_back([b.data.base_view])}else{if(rdx.utils.is_defined(a.view_properties.back_click_view)){b.data.base_view.destroy_view(null,false);new rdx.base_view(b.data.base_view.get_parent(),rdx.utils.get_view(a.view_properties.back_click_view)).prepare_view()}}});v.append(p)}var t=$("<button>").addClass("rdx_button rdx_blue_button").append($("<span>").append(rdx.i18n.get_string(this._view_definition.view_properties.button_label)));t.bind(rdx.events.CLICK,{view_dfn:this._view_definition,base_view:this._base_view},function(b){var a=b.data.view_dfn;if(rdx.utils.is_defined(a.view_properties.click_handler_callback)){a.view_properties.click_handler_callback.call_back([b.data.base_view])}else{if(rdx.utils.is_defined(a.view_properties.on_click_view)){new rdx.base_view(b.data.base_view.get_parent(),rdx.utils.get_view(a.view_properties.on_click_view)).prepare_view()}}});v.append(t);if(rdx.utils.is_defined(this._view_definition.view_properties.nowelcome)&&this._view_definition.view_properties.nowelcome==true){u.hide();s.hide();t.hide()}};rdx.feature_welcome_view.prototype._add_paragraph=function(e,h,g){var f=$("<span>").append(rdx.i18n.get_string(h));if(rdx.utils.is_defined(g)){f.addClass(g)}e.append(f)};rdx.feature_welcome_view.prototype.get_resource_response_arrived=function(){};rdx.feature_welcome_view.prototype.toggle_view_on_resource_count=function(e,g){if(!g){this._totalcount=0}else{this._totalcount=e}if(this._totalcount>0&&rdx.utils.is_defined(this._view_definition.view_properties.detail_view)){this._base_view.destroy_view(null,false);new rdx.base_view(this._base_view.get_parent(),rdx.utils.get_view(this._view_definition.view_properties.detail_view)).prepare_view()}else{this._base_view.remove_decorator();var f=$("<div>").addClass("feature_welcome_view");if(rdx.utils.is_defined(this._properties.class_names)){f.addClass(this._properties.class_names)}var h=$("<div>").addClass("content_div");this._add_content(h);f.append(h);this._parent.append(f);if(rdx.utils.is_defined(this.carousel_properties)){this.init_carousel(h)}}};rdx.feature_welcome_view.prototype._render_carousel=function(C){var B=this.carousel_properties.carousel_items;var s=rdx.i18n.get_string(this.carousel_properties.title);var z=$("<div>").addClass("carousel_ct");z.append($("<h3>").addClass("carousel_title").append(s));var w=$("<div>").addClass("carousel_body").appendTo(z);var A=$("<div>").addClass("carousel_prev").appendTo(w);var y=$("<div>").addClass("carousel_next").appendTo(w);var t=$("<div>").addClass("carousel_items_wrapper").appendTo(w);var q=$("<div>").addClass("carousel_item_ct").appendTo(t);q.css("width",(B.length+2)*100+"%");var D=this.carousel_properties.interval?this.carousel_properties.interval:2000;var x=B.length-1;var u=parseInt(100/(B.length+2));$.each(B,function(e,a){var f=a.image_class_name;var c=a.image_description;var h=rdx.i18n.get_string(c.title);var b=rdx.i18n.get_string(c.description);var g=$("<div>").addClass("carousel_item").attr("slide_index",e).appendTo(q);g.append($("<div>").addClass(f));var d=$("<div>").addClass("image_dsc_container").appendTo(g);d.append($("<h3>").addClass("image_dsc_title").append(h));d.append($("<p>").append(b));g.css("width",u+"%")});q.append($(q.find(".carousel_item[slide_index='0']")[0]).clone());q.prepend($(q.find(".carousel_item[slide_index="+x+"]")[0]).clone());C.append(z);var v=this;y.bind(rdx.events.CLICK,{carousel_item_ct:q,slide_length:B.length,feature_welcome_view:this,slide_delay:D},function(a){v.rotate_carousel(a,true)});A.bind(rdx.events.CLICK,{carousel_item_ct:q,slide_length:B.length,feature_welcome_view:this,slide_delay:D},function(a){v.rotate_carousel(a,false)});w.bind(rdx.events.MOUSE_OVER,{carousel_next:y},function(a){clearInterval(v.carousel_rotation_interval);v.carousel_rotation_interval=null});w.bind(rdx.events.MOUSE_OUT,{carousel_next:y},function(a){if(rdx.utils.is_not_defined(v.carousel_rotation_interval)){v.carousel_rotation_interval=setInterval(function(){y.trigger(rdx.events.CLICK,[true])},D)}})};rdx.feature_welcome_view.prototype.init_carousel=function(f){var e=f.find(".carousel_item_ct");var d="-"+(e.find(".carousel_item").width())+"px";e.css("left",d)};rdx.feature_welcome_view.prototype.rotate_carousel=function(g,h){slide_delay=g.data.slide_delay;var f=g.data.carousel_item_ct;var e=f.css("left");carousel_items=f.find(".carousel_item");carousel_item_width=carousel_items.width();max_width=carousel_item_width*(g.data.slide_length);if(!h){carousel_calculated_left=parseFloat(e)+carousel_item_width+"px";if(e=="-"+carousel_item_width+"px"){f.animate({left:carousel_calculated_left},slide_delay/3,function(){f.css("left","-"+max_width+"px")})}else{f.animate({left:carousel_calculated_left},slide_delay/3)}}else{carousel_calculated_left=parseFloat(e)-carousel_item_width+"px";if(parseFloat(e)==-max_width){f.animate({left:carousel_calculated_left},slide_delay/3,function(){f.css("left","-"+carousel_item_width+"px")})}else{f.animate({left:carousel_calculated_left},slide_delay/3)}}};rdx.op_wizard_view=function(h,e,g,f){this._parent=h;this._base_view=f;if(rdx.utils.is_not_defined(e.view_properties)){e.view_properties={}}this._DEFAULT_PROPERTIES={title:null,finish_handler_callback:null,finish_view:null,cancel_handler_callback:null,cancel_view:null,submit_operation:{model_method:rdx.model_constants.ADD},cancel_prompt:"rdx.op_wizard_cancel_prompt",introduction_message_renderer_callback:null,done_button_label:"rdx.op_wizard_done_button",custom_class_names:null,done_button_toltip:"rdx.op_wizard_done_button_tooltip",help_id:null,show_back_button:true,show_flow:false,destroy_subsequent_views:true,render_subsequest_view:true,render_view_on_edit:false,show_finish_button:true,advance_settings_title:rdx.i18n.get_string("rdx.advanced")};this._view_definition=e;this._view_properties=$.extend({},this._DEFAULT_PROPERTIES,this._view_definition.view_properties);this._pages_div=null;this._pages_div_info=new Array();this._pages_info=new Array();this._page_navigation=null;this._wizard_save_complete=false;this._page_failed_index=-1;this._introduction_message_container=null;this._current_page_index=-1;this._advanced_section_map={};this._flow_container=null;this._current_flow_section_container=null;this._advanced_section_container=null;this._advanced_sections_containers=null;this._main_page_resource_data=null;this._scroll_function=null;this._right_section=null;this._total_advanced_section_calls=0;this._is_advanced_section_evaluated=false;this._pages_info_is_defined=false;this.is_back_button_required=true;this._title_div=null;this._set_formatted_response=null;this._is_initialized=false};rdx.op_wizard_view.prototype=new rdx.abstract_view();rdx.op_wizard_view.prototype.make_view=function(){this._base_view.remove_decorator();this._container=$("<table>").addClass("op_wizard").attr("cellpadding",0).attr("cellspacing",0);if(rdx.utils.is_defined(this._view_properties.custom_class_names)){this._container.addClass(this._view_properties.custom_class_names)}if(rdx.utils.is_defined(this._view_properties.introduction_message_renderer_callback)){var E=$("<tr>");this._container.append(E);var y=$("<td>");E.append(y);this._introduction_message_container=$("<div>").addClass("op_wizard_introduction_message");this._introduction_message_container.append(this._view_properties.introduction_message_renderer_callback.call_back());y.append(this._introduction_message_container)}this._container_row=$("<tr>");this._container.append(this._container_row);this._wizard_container=$("<td>").addClass("op_wizard_left_container");this._container_row.append(this._wizard_container);this._parent.append(this._container);this._pages_div=$("<div>").attr("id","pages_div").addClass("op_wizard_pages");this._wizard_container.append(this._pages_div);this._page_navigation=new rdx.op_wizard_page_navigation(this);var I=$("<td>").addClass("op_wizard_right_container");this._right_section=$("<div>").addClass("op_wizard_right_section");I.append(this._right_section);if(this._view_properties.show_flow==true){this._flow_container=$("<div>").addClass("op_flow_settings_container");var D=$("<div>").addClass("op_flow_settings_header rdx_border rdx_background smooth_all_corner");D.append(rdx.i18n.get_string("rdx.basic_settings"));var w=$("<span>").addClass("rdx_grey_arrow rdx_grey_arrow_expanded op_flow_setting_ex_coll_cont");D.append(w);this._flow_container.append(D);this._sections_container=$("<div>").addClass("op_sections_container");this._flow_container.append(this._sections_container);this._right_section.append(this._flow_container);if(rdx.utils.is_not_defined(this._view_properties.help_id)){this._container_row.append(I.append(this._right_section))}$(D).bind(rdx.events.CLICK,{sections_container:this._sections_container,arrow_container:w},function(b){var a=b.data.arrow_container;var c=b.data.sections_container;if(a.hasClass("rdx_grey_arrow_expanded")){a.removeClass("rdx_grey_arrow_expanded");a.addClass("rdx_grey_arrow_collapsed");rdx.utils.slide_up_down(c,true,null,400)}else{a.removeClass("rdx_grey_arrow_collapsed");a.addClass("rdx_grey_arrow_expanded");rdx.utils.slide_up_down(c,false,null,400)}})}var B=rdx.view_utils.get_model_method(this._view_definition);this._is_initialized=B!=rdx.model_constants.SET?true:false;var J=0;if(rdx.utils.is_defined(this._view_definition.pages)){this._fill_page_info(this._view_definition.pages,0,false);J=this._view_definition.pages.length}if(rdx.utils.is_defined(this._view_definition.optional_pages)){this._fill_page_info(this._view_definition.optional_pages,J,true)}if(B==rdx.model_constants.ADD){var H=this._base_view.get_view_context();var x={};if(H.is_data_set()){x=H.get_data()}this._page_navigation.navigate_to_page(new rdx.model_executor_service_result({}),x,true,true,false,0,true)}var v=this;this._isScrolledIntoView=function(b){var e=$(window).scrollTop();var a=e+$(window).height();var d=$(b).offset().top;var c=d+$(b).height();return((c>=e)&&(d<=a)&&(c<=a)&&(d>=e)||(c<$(window).height())&&(c-d)<(a-e))};this._scroll_function=function(l){var b=rdx.page.get_header_height();var d=$(document).scrollTop();var g=b-d;var c=d>=0?0:20;if(rdx.utils.is_not_defined(v._view_properties.help_id)){c=c-15}var h=v._right_section.height();var a=v._pages_div.height();var f=v._pages_div.offset().top;var e="0px";if(rdx.utils.is_defined(v._title_div)){var e=v._title_div.outerHeight(true);c="0px"}if(g>=0||(a<h)||((d+10)<=f)){v._right_section.css("position","relative");v._right_section.css("margin-top",e)}else{if(v._isScrolledIntoView(v._right_section)){v._right_section.css("position","fixed");v._right_section.css("margin-top","10px")}}v._right_section.css("top",c)};if(rdx.utils.is_not_defined(this._base_view.get_crumb_handler())){$(window).bind(rdx.events.SCROLL,this._scroll_function);rdx.page.add_event_handler(rdx.events.PAGE_RESIZED,new rdx.callback(this,this._scroll_function));this._scroll_function()}else{this._right_section.css("position","relative");this._right_section.css("margin-top","0px")}if(rdx.utils.is_defined(this._view_properties.help_id)){var F=$("<div>").addClass("op_wizard_help_container op_wizard_page_border rdx_border rdx_background smooth_all_corner").append($("<span>").append(rdx.i18n.get_string("rdx.help")));this._container_row.append(I.append(this._right_section.append(F)));F.bind(rdx.events.CLICK,{help_id:this._view_properties.help_id},function(a){var c=a.data.help_id;var b=new rdx.link({url:rdx.help.get_help_url(c),target_window:"RDXHELP",width:800,height:500});b.fire()})}if(rdx.utils.is_defined(this._view_definition.advanced_pages)){this._advanced_section_container=$("<div>");this._advanced_section_container.hide();this._advanced_title_container=$("<div>").addClass("op_wizard_advanced_section op_wizard_page_border rdx_border rdx_background ").append($("<span>").append(this._view_properties.advance_settings_title));this._advanced_section_container.append(this._advanced_title_container);this._right_section.append(this._advanced_section_container);this._advanced_sections_containers=$("<div>");this._advanced_section_container.append(this._advanced_sections_containers);this._total_advanced_section_calls=this._view_definition.advanced_pages.length;for(var C=0;C<this._view_definition.advanced_pages.length;C++){var z=this._view_definition.advanced_pages[C];var u=$("<div>").append($("<span>").addClass("op_adv_text_container").append(rdx.i18n.get_string(z.title)));var G=$("<div>").addClass("op_wizard_adv_view_container");G.append(u);this._advanced_sections_containers.append(G);this._advanced_section_map[z.view]={page_obj:z,view_name:z.view,summary_view_name:z.summary_view,container:G,index:C,hide_section:false};G.bind(rdx.events.CLICK,{view_name:z.view,callback:new rdx.callback(this,this._handle_add_advanced_page)},function(a){if(rdx.utils.is_defined(rdx.app_search)&&($(a.target.parentElement).hasClass("op_wizard_disabled_advanced_section")||$(a.target.parentElement.parentElement).hasClass("op_wizard_disabled_advanced_section"))){return}a.data.callback.call_back([a.data.view_name,false,true])})}if(rdx.utils.is_not_defined(this._view_properties.help_id)){this._container_row.append(I);this._advanced_sections_containers.hide();this._advanced_title_container.addClass("op_wizard_disabled_advanced_section")}else{if(rdx.utils.is_not_defined(rdx.app_search)||(rdx.utils.is_defined(rdx.app_search)&&rdx.app_search.current_state==rdx.app_search.states.IDLE)){this._advanced_section_container.hide()}else{var A=$(".op_wizard_adv_view_container");A.addClass("op_wizard_disabled_advanced_section")}}}this._resize()};rdx.op_wizard_view.prototype._handle_add_advanced_page=function(A,v,t){var B=this._advanced_section_map[A];B.container.hide();var D="adv_index";if(v){D="summ"+D}var y=$("<div>");if(rdx.utils.is_defined(B.parent_page_div)){y=B.parent_page_div}var s=D+B.index;var x=$("<div>").attr("id",s);y.append(x);if(v===true){x.addClass("view_no_decorator");A=B.summary_view_name}var E=$.extend(true,{},rdx.utils.get_view(A));if(rdx.utils.is_defined(E.view_properties)&&v===false&&rdx.utils.is_defined(E.view_properties.edit_click_params)&&rdx.utils.is_not_defined(t)){var w=E.view_properties.submit_operation;if(rdx.utils.is_defined(E.view_properties.edit_click_params.method)){if(rdx.utils.is_not_defined(w)){w={method:E.view_properties.edit_click_params.method}}else{w.method=E.view_properties.edit_click_params.method}}if(rdx.utils.is_defined(E.view_properties.edit_click_params.edit_view_name)){E=$.extend(true,{},rdx.utils.get_view(E.view_properties.edit_click_params.edit_view_name))}E.view_properties.submit_operation=w}E.__add_remove_link=true;E.__change_link_handler_callback=new rdx.callback(this,this._handle_view_toggle,[{},x,y,false,B.view_name,true]);var u=new rdx.base_view(x,E);var z=this._main_page_resource_data;var C=E.resource_name;if(rdx.utils.is_defined(C)&&rdx.utils.is_defined(z[C])){z=z[C]}var F=u.get_view_context();F.set_url_params({is_data_set:true},z);u.set_crumb_handler(this._base_view.get_crumb_handler());if(rdx.utils.is_function(u.get_view().set_parent_view)){u.get_view().set_parent_view(rdx.view_constants.ONE_PAGE_WIZARD_VIEW)}u.prepare_view();if(rdx.utils.is_not_defined(B.parent_page_div)){this._pages_div.append(y);B.parent_page_div=y}$(u).bind(rdx.events.VIEW_DESTROYED,{op_wizard_view:this,page_div:x,page_parent_div:y,view_name:B.view_name,load_summary_view:v},function(a,b){a.data.op_wizard_view._handle_view_toggle(b,a.data.page_div,a.data.page_parent_div,a.data.load_summary_view,a.data.view_name,false)});if(rdx.utils.is_defined(t)&&t===true){this._scroll_to_the_end(s)}B.hide_section=true;this._handle_show_hide_advanced_panel()};rdx.op_wizard_view.prototype._scroll_to_the_end=function(e){var d=(rdx.utils.is_defined(this._base_view.get_crumb_handler()))?rdx.page.show_slider():$("html,body");var f=$("#"+e).get(0);$(d).animate({scrollTop:$(f).offset().top-[40]},500)};rdx.op_wizard_view.prototype._handle_show_hide_advanced_panel=function(){var e=true;for(var f=0;f<this._view_definition.advanced_pages.length;f++){var d=this._view_definition.advanced_pages[f];if(this._advanced_section_map[d.view]["hide_section"]==false){e=false;break}}if(e==false){this._advanced_title_container.show()}else{this._advanced_title_container.hide()}};rdx.op_wizard_view.prototype._handle_view_toggle=function(o,h,m,g,n,l){if(g==true||(rdx.utils.is_defined(o)&&rdx.utils.is_defined(o.view_destroyed_on_click))){if(rdx.utils.is_not_defined(this._view_properties.help_id)){this._advanced_title_container.removeClass("op_wizard_disabled_advanced_section")}this._advanced_section_map[n]["container"].show();delete this._advanced_section_map[n]["parent_page_div"];this._advanced_section_map[n]["hide_section"]=false;this._handle_show_hide_advanced_panel()}else{g=(l==true)?false:true;this._handle_add_advanced_page(n,g)}h.remove()};rdx.op_wizard_view.prototype._fill_page_info=function(E,L,v){for(var x=0;x<E.length;x++){var F=rdx.utils.get_view(E[x].view);var w=$("<div>").attr("id","index"+L).hide();var z=null;if(rdx.utils.is_defined(E[x].summary_view)){z=(E[x].summary_view=="NONE")?"NONE":rdx.utils.get_view(E[x].summary_view)}var J={};var G={wizard_view:this,view_dfn:F,summary_view_dfn:z,dom_object:w,base_view:null,resource_for_operation:null,exec_service_result:null,page_navigate_callback:E[x].page_navigate_callback,optional:v,flow_section_obj:J};if(this._pages_info_is_defined==false){this._pages_info[L]=new rdx.op_wizard_pages_info(G)}this._pages_div.append(w);this._pages_div_info[L]=w;this._page_navigation.register_wizard_events(w,L);L++;if(v!=true&&this._view_properties.show_flow==true){var H=E[x]["flow_properties"];if(rdx.utils.is_defined(H)){var D=x+1;var A=$("<div>").addClass("rdx_down_flow_arrow");var y=$("<div>").addClass("op_flow_section_container rdx_border smooth_all_corner");var C=$("<span>").addClass("op_flow_num_container").append(D);y.append(C);var K=rdx.utils.is_defined(F.view_properties)&&rdx.utils.is_defined(F.view_properties.title)?rdx.i18n.get_string(F.view_properties.title):"";var B=$("<span>").addClass("op_flow_sec_title_contaner").addClass(H.image_class_name).append(K);y.append(B);var I=$("<span>").addClass("rdx_green_tick_background op_flow_state_container");I.hide();y.append(I);J.arrow_container=A;J.section_container=y;J.state_container=I;this._sections_container.append(A).append(y)}}}};rdx.op_wizard_view.prototype.update_pages_info=function(o,q){var n=[];var m=[];q=q+1;for(var t=0;t<o.length;t++){var u=rdx.utils.get_view(o[t].view);var p=$("<div>").attr("id","index"+t).hide();var s=null;if(rdx.utils.is_defined(o[t].summary_view)){s=(o[t].summary_view=="NONE")?"NONE":rdx.utils.get_view(o[t].summary_view)}var v={wizard_view:this,view_dfn:u,summary_view_dfn:s,dom_object:p,base_view:null,resource_for_operation:null,exec_service_result:null,page_navigate_callback:o[t].page_navigate_callback,optional:false};n.push(new rdx.op_wizard_pages_info(v));this._pages_div.append(p);m.push(p);this._page_navigation.register_wizard_events(p,(t+q))}this._pages_info=rdx.utils.merge_array_at_index(this._pages_info,n,q);this._pages_div_info=rdx.utils.merge_array_at_index(this._pages_div_info,m,q)};rdx.op_wizard_view.prototype.get_view_properties=function(){return this._view_properties};rdx.op_wizard_view.prototype.get_resource_response_arrived=function(m){var g=rdx.utils.get_formatted_response(m);var f=rdx.view_utils.get_model_method(this._view_definition);var h=0;if(f==rdx.model_constants.SET){if(this._view_properties.show_flow!=true){if(rdx.utils.is_defined(this._view_definition.pages)){for(var l=0;l<this._view_definition.pages.length;l++){this._page_navigation.navigate_to_page(new rdx.model_executor_service_result({}),g,false,true,false,l,null,false)}h=this._view_definition.pages.length}this._finalize_set_flow_load(g)}else{this._set_formatted_response=g;var l=0;this._page_navigation.navigate_to_page(new rdx.model_executor_service_result({}),g,false,true,false,l,null,false)}}};rdx.op_wizard_view.prototype._render_next_page=function(b){this._page_navigation.navigate_to_page(new rdx.model_executor_service_result({}),this._set_formatted_response,false,true,false,b,null,false);if(b+1>=this._view_definition.pages.length){this._finalize_set_flow_load(this._set_formatted_response)}};rdx.op_wizard_view.prototype._finalize_set_flow_load=function(d){if(rdx.utils.is_defined(this._view_definition.optional_pages)){for(var c=pages_length;c<this._view_definition.optional_pages.length;c++){this._page_navigation.navigate_to_page(new rdx.model_executor_service_result({}),d,false,true,false,c,false)}}this._is_initialized=true};rdx.op_wizard_view.prototype.destroy_view=function(){for(var c=0;c<this._pages_div_info.length;c++){this._page_navigation.unregister_wizard_events(this._pages_div_info[c]);var d=this._pages_info[c].get_base_view();if(rdx.utils.is_defined(d)){d.destroy_view();this._pages_info[c].set_base_view(null);this._pages_info[c].set_resource_for_operation(null);this._pages_info[c].set_exec_service_result(null)}}if(rdx.utils.is_defined(this._scroll_function)&&rdx.utils.is_not_defined(this._base_view.get_crumb_handler())){$(window).unbind("scroll",this._scroll_function)}this._wizard_container.remove()};rdx.op_wizard_view.prototype._resize=function(){};rdx.op_wizard_view.prototype.get_pages_info=function(){return this._pages_info};rdx.op_wizard_view.prototype.get_pages_div_info=function(){return this._pages_div_info};rdx.op_wizard_view.prototype.create_wizard_summary_page_view=function(p,t,o,q){if(p==0){this._main_page_resource_data=t}var n=this._pages_info[p];if(rdx.utils.is_not_defined(n.get_summary_view_dfn())){return}var m=n.get_base_view();if(rdx.utils.is_defined(m)){m.destroy_view();this._pages_div_info[p].hide()}var v=n.get_summary_view_dfn();if(v=="NONE"){return}this._update_resp_callback(v,p,false);if(n.is_page_optional()&&rdx.utils.is_not_defined(this._view_definition.pages)){v=$.extend(true,{},v);v.view_properties.__index=p+1}m=new rdx.base_view(this._pages_div_info[p],v);m.set_crumb_handler(this._base_view.get_crumb_handler());m.remove_decorator();view_context=m.get_view_context();var s=t;var u=v.resource_name;if(rdx.utils.is_defined(u)&&rdx.utils.is_defined(t[u])){s=t[u]}view_context.set_url_params({is_data_set:true},s);if(rdx.utils.is_function(m.get_view().set_parent_view)){m.get_view().set_parent_view(rdx.view_constants.ONE_PAGE_WIZARD_VIEW)}m.prepare_view();this._pages_div_info[p].show();n.set_base_view(m);n.set_exec_service_result(o);n.set_resource_for_operation(t);if(this._view_properties.show_flow==true){if(rdx.utils.is_defined(this._current_flow_section_container)){this._current_flow_section_container.removeClass("op_flow_section_selected")}n.get_flow_state_container().show()}};rdx.op_wizard_view.prototype._get_button=function(e,f){var d=$(document.createElement("input"));d.attr("type","button");d.attr("value",rdx.i18n.get_string(e));d.attr("title",rdx.i18n.get_string(f));return d};rdx.op_wizard_view.prototype.show_final_information=function(o){if(rdx.utils.is_defined(this._view_properties.final_view)){var m=$("<div>").addClass("final_info_div");var l=rdx.utils.get_view(this._view_properties.final_view);var h=new rdx.base_view(m,l);var n=o;var g=h.get_view_context();g.set_url_params({is_data_set:true},n);h.set_crumb_handler(this._base_view.get_crumb_handler());this._pages_div.append(m);h.prepare_view()}};rdx.op_wizard_view.prototype._show_advanced_options=function(){if(rdx.utils.is_not_defined(this._advanced_section_container)){return}if(this._is_advanced_section_evaluated==true){return}var e=rdx.mask.get_id();if(rdx.utils.is_object_not_empty(this._advanced_section_map)){rdx.mask.mask_component(this._advanced_sections_containers,e)}for(var h in this._advanced_section_map){var f=this._advanced_section_map[h]["page_obj"];this._advanced_section_map[h]["mask_id"]=e;if(rdx.utils.is_defined(f.show_hide_handler_callback)){var g={return_callback:new rdx.callback(this,this._show_hide_advanced_option,[h]),resource_data:this._main_page_resource_data};f.show_hide_handler_callback.call_back([g])}else{this._show_hide_advanced_option(false,false,h)}}this._is_advanced_section_evaluated=true;if(rdx.utils.is_not_defined(this._view_properties.help_id)){this._advanced_title_container.removeClass("op_wizard_disabled_advanced_section");if(rdx.utils.is_object_not_empty(this._advanced_section_map)){this._advanced_sections_containers.show()}else{this._advanced_sections_containers.hide()}}};rdx.op_wizard_view.prototype._check_and_unmask_advanced_section=function(b){this._total_advanced_section_calls=this._total_advanced_section_calls-1;if(this._total_advanced_section_calls<=0){rdx.mask.unmask_component(this._advanced_sections_containers,b);this.handle_unmask();this._advanced_section_container.show()}};rdx.op_wizard_view.prototype._show_hide_advanced_option=function(e,f,d){this._check_and_unmask_advanced_section(this._advanced_section_map[d]["mask_id"]);if(e==true){this._advanced_section_map[d]["container"].hide();if(f==true){this._handle_add_advanced_page(d,true)}else{this._advanced_section_map[d]["hide_section"]=true;this._handle_show_hide_advanced_panel()}}};rdx.op_wizard_view.prototype.render_last_page=function(o,m,g){if(o>=this._pages_info.length||(o==this._pages_info.length-1&&this._pages_info[o].is_skip_page()==true)){if(rdx.utils.is_defined(this._pages_info[o-1].get_summary_view_dfn())){if(this._view_properties.show_finish_button===true){var l=this._get_button(this._view_properties.done_button_label,this._view_properties.done_button_tooltip);l.addClass("finish_button");l.addClass("rdx_grey_button");l.bind(rdx.events.CLICK,{op_wizard_page:this,parent:this._parent},function(a){a.data.op_wizard_page.finish_view_operation()})}this._wizard_container.append(l);for(var n=0;n<this._pages_info.length;n++){var h=this._pages_info[n];if(h.is_page_optional()){continue}h.set_is_edit_clicked(true)}if(rdx.utils.is_defined(this._view_properties)&&rdx.utils.is_defined(this._view_properties.notification_status)){this._base_view.show_notification_bar(this._get_data_from_all_views_for_finish_callback())}if(rdx.utils.is_defined(rdx.get_test_framework)&&rdx.get_test_framework().is_test_mode){rdx.get_test_framework().op_wizard_view_buttons[rdx.i18n.get_string(this._view_properties.done_button_label)]=l}}if(this._view_properties.show_flow==true){this._current_flow_section_container=null}if(rdx.utils.is_defined(this._advanced_section_container)&&!this._is_advanced_section_evaluated){this.handle_mask()}this._show_advanced_options();this.show_final_information(g);return}};rdx.op_wizard_view.prototype.create_wizard_page_view=function(x,C,v,B){if(rdx.utils.is_defined(this._introduction_message_container)&&x>0){this._introduction_message_container.empty();var z=this._view_properties.introduction_message_renderer_callback.call_back([{index:x,resource_data:C}]);if(rdx.utils.is_defined(z)){this._introduction_message_container.append(z)}}if(x>=this._pages_info.length||(x==this._pages_info.length-1&&this._pages_info[x].is_skip_page()==true)){this.render_last_page(x,v);return}var J=this._pages_info[x];var I=J.get_base_view();if(rdx.utils.is_defined(I)){I.destroy_view();this._pages_div_info[x].hide();if(this._view_properties.render_view_on_edit==true&&x==0){this._container.remove();this._is_advanced_section_evaluated=false;this._pages_info_is_defined=true;this.make_view()}}var G=J.get_view_dfn();G=$.extend(true,{},G);if(J.is_page_optional()){G.view_properties.__optional=true;if(rdx.utils.is_not_defined(this._view_definition.pages)){G.view_properties.__index=x+1}}if(rdx.utils.is_not_defined(v)||v==false){if(!J.is_page_optional()&&J.is_edit_clicked()==true){v=true}J.set_is_edit_clicked(false)}else{if(v==true&&this._current_page_index!=-1){for(var E=x+1;E<this._current_page_index;E++){var D=this._pages_info[E];if(D.is_page_optional()){continue}D.set_is_edit_clicked(true)}}}if(rdx.utils.is_defined(G.view_properties)&&v&&rdx.utils.is_defined(G.view_properties.edit_click_params)){var w=G.view_properties.submit_operation;if(rdx.utils.is_defined(G.view_properties.edit_click_params.method)){if(rdx.utils.is_not_defined(w)){w={method:G.view_properties.edit_click_params.method}}else{w.method=G.view_properties.edit_click_params.method}}if(rdx.utils.is_defined(G.view_properties.edit_click_params.edit_view_name)){G=$.extend(true,{},rdx.utils.get_view(G.view_properties.edit_click_params.edit_view_name))}G.view_properties.submit_operation=w}this._update_resp_callback(G,x,true);var A=rdx.utils.is_defined(C)?C:{};if(x==(this._pages_info.length-1)&&rdx.utils.is_not_defined(J.get_summary_view_dfn())){var u={add_continue_button:false,add_done_button:true};G.view_properties=$.extend({},u,G.view_properties)}this._pages_div_info[x].show();I=new rdx.base_view(this._pages_div_info[x],G);var F=G.resource_name;if(rdx.utils.is_defined(F)&&rdx.utils.is_defined(A[F])){A=A[F]}if(rdx.utils.is_function(I.get_view().set_parent_view)){I.get_view().set_parent_view(rdx.view_constants.ONE_PAGE_WIZARD_VIEW)}var H=I.get_view_context();var y={};if(rdx.utils.is_defined(B)&&rdx.utils.is_object_not_empty(B)){y=$.extend(true,{},B,{is_data_set:true})}else{y={is_data_set:true}}H.set_url_params(y,A);J.set_wizard_page(I.get_view());J.set_base_view(I);J.set_view_dfn(G);I.set_crumb_handler(this._base_view.get_crumb_handler());I.prepare_view();if(v&&this._pages_info[x].is_page_optional()){$(I.get_view()).trigger(rdx.events.PAGE_EXPAND)}if(this._view_properties.show_flow==true){J.get_flow_section_container().addClass("op_flow_section_selected");if(rdx.utils.is_defined(this._current_flow_section_container)){this._current_flow_section_container.removeClass("op_flow_section_selected")}this._current_flow_section_container=J.get_flow_section_container()}this._current_page_index=x};rdx.op_wizard_view.prototype.destroy_all_subsequent_views=function(e){if(this._view_properties.destroy_subsequent_views===false){return}if(!this._pages_info[e].is_page_optional()){for(var h=e+1;h<this._pages_info.length;h++){var f=this._pages_info[h].get_base_view();if(rdx.utils.is_defined(f)){f.destroy_view();this._pages_info[h].set_base_view(null);this._pages_info[h].set_resource_for_operation(null);this._pages_info[h].set_exec_service_result(null);this._pages_div_info[h].hide()}}var g=this._wizard_container.find("input.finish_button");if(rdx.utils.is_defined(g)){g.hide()}}};rdx.op_wizard_view.prototype._get_data_from_all_views_for_finish_callback=function(){var h=[];for(var o=0;o<this._pages_info.length;o++){var m=this._pages_info[o].get_wizard_page();if(rdx.utils.is_defined(m)&&rdx.utils.is_function(m.get_callback_data)){var n=m.get_callback_data();if(rdx.utils.is_defined(n)&&rdx.utils.is_defined(n.resource_for_operation)&&rdx.utils.is_defined(n.model_executor_service_result)){if(rdx.utils.is_not_defined(n.model_executor_service_result.get_collated_resource()[0])){h.push(n);continue}var l=n.model_executor_service_result.get_collated_resource()[0].name;if(rdx.utils.is_object_not_empty(n.resource_for_operation)&&rdx.utils.is_defined(n.resource_for_operation[l])){for(var g in n.resource_for_operation[l]){if(n.resource_for_operation[l][g] instanceof rdx.view_component_adapter_data){n.resource_for_operation[l][g]=n.resource_for_operation[l][g].get_view().get_view_context().get_data(1)}}}}h.push(n)}}return h};rdx.op_wizard_view.prototype.finish_view_operation=function(){var c=this._get_data_from_all_views_for_finish_callback();if(rdx.utils.is_defined(this._view_properties.finish_handler_callback)){if(this._view_properties.finish_handler_callback.call_back([c])!==false){this._destroy_all_inner_views();this._base_view.destroy_view({},false)}return}this._destroy_all_inner_views();this._base_view.destroy_view({},false);if(rdx.utils.is_defined(this._view_properties.finish_view)){var d=rdx.utils.get_view(this._view_properties.finish_view);this._base_view.get_parent().empty();new rdx.base_view(this._base_view.get_parent(),d).prepare_view()}};rdx.op_wizard_view.prototype._destroy_all_inner_views=function(){if(rdx.utils.is_defined(this._pages_info)&&rdx.utils.is_not_empty(this._pages_info)){for(var c=0;c<this._pages_info.length;c++){var d=this._pages_info[c].get_base_view();if(rdx.utils.is_defined(d)){if(rdx.utils.is_function(d.get_view().destroy_view)){d.get_view().destroy_view()}else{d.destroy_view()}this._pages_info[c].set_base_view(null);this._pages_info[c].set_resource_for_operation(null);this._pages_info[c].set_exec_service_result(null);this._pages_div_info[c].hide()}}}};rdx.op_wizard_view.prototype.cancel_view_operation=function(){var b=rdx.view_utils.get_model_method(this._view_definition);if(rdx.utils.is_defined(this._view_properties.cancel_prompt)&&(this._current_page_index!=0&&b==rdx.model_constants.ADD)){rdx.message_box.confirm(rdx.i18n.get_string(this._view_properties.cancel_prompt),new rdx.callback(this,this._cancel_view))}else{this._cancel_view()}};rdx.op_wizard_view.prototype._cancel_view=function(){if(rdx.utils.is_defined(this._view_properties.cancel_handler_callback)){this._view_properties.cancel_handler_callback.call_back();this._base_view.destroy_view({},false);return}this._base_view.destroy_view({},false);if(rdx.utils.is_defined(this._view_properties.cancel_view)){var b=rdx.utils.get_view(this._view_properties.cancel_view);this._base_view.get_parent().empty();new rdx.base_view(this._base_view.get_parent(),b).prepare_view()}};rdx.op_wizard_view.prototype._update_resp_callback=function(g,l,f){if(rdx.utils.is_defined(g.response_callback)){var h=g.response_callback;var m=new rdx.callback(function(a,o,d,e,c){var b=a.get_additional_params();b.op_wizard_page_index=d;b.op_wizard_pages_info=e;if(c._view_properties.show_flow==true){a.set_intermediate_callback(new rdx.callback(c,c._handle_intermediate_response,[a,d,f]))}o.call_back([a])},[h,l,this._pages_info,this]);g.response_callback=m}else{if(this._view_properties.show_flow==true&&this._is_initialized==false){this._handle_intermediate_response({},{},null,l,f)}}};rdx.op_wizard_view.prototype._handle_intermediate_response=function(h,n,m,q,l){var o=rdx.utils.is_defined(m)?m.is_configured():true;if(rdx.utils.is_defined(this._pages_info[q])&&o==true){this._pages_info[q].get_flow_state_container().show()}if(rdx.utils.is_defined(m)){m.force_resume(h,n)}if(this._is_initialized==false&&l==true&&o==true){var p=this;setTimeout(function(){p._render_next_page(q)},100)}else{if(this._is_initialized==false&&l==true&&o==false){this._is_initialized=true;this._scroll_to_the_end("index"+q)}}};rdx.op_wizard_view.prototype.get_page_navigate_callback=function(d){var c=this._pages_info[d];if(rdx.utils.is_defined(c)){return c.get_page_navigate_callback()}return null};rdx.op_wizard_view.prototype.get_data=function(){return null};rdx.op_wizard_view.prototype.create_message_container=function(b){rdx.message_container.success(this._wizard_container,b)};rdx.op_wizard_view.prototype.get_is_back_button_required=function(){if(this._view_properties.show_back_button===false){return false}return this.is_back_button_required};rdx.op_wizard_view.prototype.set_is_back_button_required=function(b){this.is_back_button_required=b};rdx.op_wizard_view.prototype.close_view=function(b){this._cancel_view()};rdx.op_wizard_view.prototype.is_help_rendered=function(){return rdx.utils.is_defined(this._view_properties.help_id)};rdx.op_wizard_view.prototype.handle_mask=function(){rdx.mask.mask_component(this._parent,this._base_view.get_mask_id())};rdx.op_wizard_view.prototype.handle_unmask=function(){rdx.mask.unmask_component(this._parent,this._base_view.get_mask_id())};rdx.links_view=function(h,e,g,f){this._base_view=f;this._view_definition=e;this._parent=h;this._resource=g;this._form=null;this._form_controller=new rdx.form_controller(this._base_view,this._parent,false);this._field_dependencies=null;this._custom_submit_handler_callback=null;this._custom_cancel_handler_callback=null;this.is_back_button_required=true;this._DEFAULT_PROPERTIES={title_image_url_class_name:null,title_str:null,title_desc:null};this._properties=$.extend(true,this._DEFAULT_PROPERTIES,this._view_definition.view_properties)};rdx.links_view.prototype=new rdx.abstract_view();rdx.links_view.prototype.make_view=function(){this._base_view.disable_bread_crumb();var b=$("<div>").addClass("rdx_links_view_container");this._render_links(b);this._parent.append(b);this._base_view.remove_decorator()};rdx.links_view.prototype._render_welcome_text=function(g){if(rdx.utils.is_not_defined(this._properties.title_str,this._properties.title_desc)){return}var l=$("<div>").addClass("rdx_links_title_container");if(rdx.utils.is_defined(this._properties.title_str)){var h=$("<div>").addClass("rdx_link_header_container");if(rdx.utils.is_defined(this._properties.title_image_url_class_name)){h.addClass(this._properties.title_image_url_class_name)}var n=rdx.i18n.get_string(this._properties.title_str);h.append(n);l.append(h)}if(rdx.utils.is_defined(this._properties.title_desc)){var m=rdx.i18n.get_string(this._properties.title_desc);var o=$("<div>").addClass("rdx_link_header_container rdx_link_header_desc_container");o.append(m);l.append(o)}g.append(l)};rdx.links_view.prototype._render_links=function(F){var v=$("<table>").attr("cellpadding",0).attr("cellSpacing",0).addClass("rdx_links_container");var z=$("<tr>");v.append(z);var w=$("<td>").addClass("rdx_link_main_container");z.append(w);var u=this._view_definition.links;for(var A=0;A<u.length;A++){var C=u[A];var s=$("<table>").addClass("rdx_link_container smooth_all_corner").attr("cellpadding",0).attr("cellspacing",0);var B=$("<tr>");s.append(B);var D=$("<td>").addClass("rdx_link_node_cell");B.append(D);var y=$("<div>").addClass("rdx_link_node_cell_container rdx_link_node_title_container");if(rdx.utils.is_defined(C.image_class_name)){y.addClass(C.image_class_name)}y.append(rdx.i18n.get_string(C.title));D.append(y);var x=$("<tr>");s.append(x);var E=$("<td>").addClass("rdx_link_node_cell");x.append(E);var t=$("<div>").addClass("rdx_link_node_cell_container rdx_link_node_desc_container");t.append(rdx.i18n.get_string(C.desc));E.append(t);s.bind(rdx.events.CLICK,{link_node:C,container:this._base_view.get_parent()},function(b){var a=rdx.utils.get_view(b.data.link_node.view_name);var c=new rdx.base_view(b.data.container,a).prepare_view()});w.append(s)}F.append(v)};rdx.links_view.prototype.add_mask=function(){return false};rdx.links_view.prototype.destroy_view=function(b){};rdx.links_view.prototype.get_is_back_button_required=function(){return false};rdx.links_view.prototype.set_is_back_button_required=function(b){this.is_back_button_required=b};rdx.links_view.prototype.is_title_required=function(){return true};rdx.apps_view=function(h,e,g,f){this._parent=h;this._view_definition=e;this._resource=g;this._base_view=f;this._DEFAULT_PROPERTIES={block_width:"75px",block_height:"75px",button_label:"rdx.subscribe",cancel_button_label:"rdx.unsubscribe",response_renderer_callback:null,node_click_handler_callback:null,remove_node_click_handler_callback:null,render_mode:"app"};this._properties=$.extend(true,this._DEFAULT_PROPERTIES,this._view_definition.view_properties);this._color_ind=1;this._MAX_COLORS=7};rdx.apps_view.prototype=new rdx.abstract_view();rdx.apps_view.prototype.make_view=function(){this._container=$("<div>").addClass("rdx_apps_view");this._apps_block_container=$("<div>");this._container.append(this._apps_block_container);this._parent.append(this._container)};rdx.apps_view.prototype.refresh_view=function(c){this._color_ind=1;rdx.mask.mask_component(this._base_view.get_parent(),this._base_view.get_mask_id());var d=new rdx.callback_params({return_callback:new rdx.callback(this,this._handle_refresh),resource_data:this._base_view._inherited_init_data});this._properties.response_renderer_callback.call_back([d])};rdx.apps_view.prototype._handle_refresh=function(u){this._apps_block_container.empty();if(rdx.utils.is_not_defined(u)||u.length==0){var m=rdx.utils.is_defined(this._view_definition.view_properties.no_data_message)?this._view_definition.view_properties.no_data_message:"rdx.link_select_msg";var t=$("<div>").addClass("rdx_no_data_row").append(rdx.i18n.get_string(m));this._apps_block_container.append(t);rdx.mask.unmask_component(this._base_view.get_parent(),this._base_view.get_mask_id());return}for(var s=0;s<u.length;s++){var v=u[s];if(rdx.utils.is_defined(v.nodes)){var p=v.title;var q=$("<div>").addClass("app_node_container");if(rdx.utils.is_defined(p)){q.append(rdx.view_utils.create_top_panel(p))}for(var o=0;o<v.nodes.length;o++){var n=v.nodes[o];this._render_node(q,n)}this._apps_block_container.append(q)}else{this._render_node(this._apps_block_container,v)}}rdx.mask.unmask_component(this._base_view.get_parent(),this._base_view.get_mask_id())};rdx.apps_view.prototype._render_node=function(c,d){if(this._properties.render_mode=="app"){this._render_app_block(c,d)}else{c.addClass("rdx_app_feature_node_parent_container");this._render_feature_node_block(c,d)}};rdx.apps_view.prototype._render_app_block=function(o,n){var w=$("<div>").addClass("rdx_app_block").css("width",this._properties.block_width).css("height",this._properties.block_height);w.bind(rdx.events.CLICK,{container:w,that:this,app_block:n},function(a){a.data.that._handle_app_node_click(a.data.container,a.data.app_block)});var x=$("<div>").addClass("app_image_holder smooth_all_corner").addClass(n.image_class_name);if(n.add_letter==true){x.addClass("color"+this._color_ind);this._color_ind=this._color_ind+1;if(this._color_ind>this._MAX_COLORS){this._color_ind=1}}if(rdx.utils.is_defined(this._properties.remove_node_click_handler_callback)){var p=$("<div>").addClass("remove_icon_cont");x.append($("<div>").addClass("app_remove_holder").append(p));p.bind(rdx.events.CLICK,{that:this,app_block:n,container:x},function(a){a.stopPropagation();rdx.utils.prevent_default(a);var b=rdx.i18n.get_string("rdx.remove_app_node",{name:a.data.app_block.name});rdx.message_box.confirm(b,new rdx.callback(function(c){c.data.that._handle_app_node_remove(c.data.app_block,c.data.container)},[a]))})}x.css("width",this._properties.block_width).css("height",this._properties.block_height);var u=rdx.i18n.get_string(n.name);var q=$("<div>").addClass("app_text_holder").attr("title",u);var v=parseInt(this._properties.block_width);var s=(v*12)/75;if(u.length>s){u=u.substring(0,s)+"..."}q.append(u);w.append(x);w.append(q);if(n.add_letter==true&&rdx.utils.is_not_empty(n.name)){var t=n.name[0]+"";t=t.toUpperCase();x.append($("<div>").addClass("app_first_letter").append(t))}o.append(w)};rdx.apps_view.prototype._handle_app_node_remove=function(e,f){var g=new rdx.callback_params({data:e,return_callback:new rdx.callback(this,this._handle_post_remove_resume,[f])});this._properties.remove_node_click_handler_callback.call_back([g]);var h=$("<div>").addClass("app_text_holder").append(rdx.i18n.get_string(e.name));app_block_cont.append(image_holder);app_block_cont.append(h)};rdx.apps_view.prototype._handle_post_remove_resume=function(f,e){var g=this;e.fadeOut(800,function(){g.refresh_view()});if(app_block.add_letter==true&&rdx.utils.is_not_empty(app_block.name)){var h=app_block.name[0]+"";h=h.toUpperCase();image_holder.append($("<div>").addClass("app_first_letter").append(h));parent.append(app_block_cont)}};rdx.apps_view.prototype._render_feature_node_block=function(o,n){var w=$("<div>").addClass("rdx_app_block rdx_app_feature_block").css("width",this._properties.block_width).css("height",this._properties.block_height);var x=$("<div>").addClass("app_image_holder smooth_all_corner");if(n.add_coming_soon==true){var u=$("<div>").addClass("rdx_app_block_coming_soon");x.append(u)}var q=$("<div>").addClass("app_icon_holder_container");q.addClass(n.image_class_name);x.append(q);var t=$("<div>").addClass("app_text_holder").append(rdx.i18n.get_string(n.name));x.append(t);if(rdx.utils.is_defined(n.background_color)){q.css("background-color",n.background_color);t.css("background-color",n.background_color)}var p=$("<div>").addClass("app_node_desc_container").append(rdx.i18n.get_string(n.description));x.append(p);if(rdx.utils.is_defined(this._properties.node_click_handler_callback)&&n.add_coming_soon!=true){var s=$("<div>").addClass("app_node_action_container");var v=$("<div>").addClass("app_node_action_label_container");this._update_label_action_container(v,n.read_only);s.append(v);x.append(s);s.bind(rdx.events.CLICK,{container:v,node:n,that:this},function(a){a.data.that._handle_app_node_click(a.data.container,a.data.node)})}x.css("width",this._properties.block_width).css("height",this._properties.block_height);w.append(x);o.append(w)};rdx.apps_view.prototype._update_label_action_container=function(e,d){var f="";e.removeClass("app_node_action_label_active").removeClass("app_node_action_label_inactive");if(d==true){f=rdx.i18n.get_string("rdx.unsubscribe");e.addClass("app_node_action_label_active")}else{f=rdx.i18n.get_string("rdx.subscribe");e.addClass("app_node_action_label_inactive")}e.empty();e.append(f)};rdx.apps_view.prototype._handle_app_node_remove=function(d,e){var f=new rdx.callback_params({data:d,return_callback:new rdx.callback(this,this._handle_post_remove_resume,[e])});this._properties.remove_node_click_handler_callback.call_back([f])};rdx.apps_view.prototype._handle_post_remove_resume=function(e,d){var f=this;d.fadeOut(800,function(){f.refresh_view()})};rdx.apps_view.prototype._handle_app_node_click=function(e,d){if(this._view_definition.view_properties.skip_drilldown){if(rdx.utils.is_defined(this._properties.node_click_handler_callback)){this._properties.node_click_handler_callback.call_back([{node_defn:d}])}}else{var f=new rdx.callback_params({return_callback:new rdx.callback(this,this._post_add_action,[!d.read_only,d,e])});if(rdx.utils.is_defined(this._properties.node_click_handler_callback)){this._properties.node_click_handler_callback.call_back([{element:e,node_defn:d,do_add:!d.read_only,return_callback:f}])}}};rdx.apps_view.prototype._post_add_action=function(f,h,g,e){g.read_only=h;this._update_label_action_container(e,g.read_only)};rdx.apps_view.prototype.get_resource_response_arrived=function(b){this.refresh_view()};rdx.apps_view.prototype.register_event_handlers=function(){if(rdx.utils.is_defined(this._resource)){rdx.model.add_model_change_listener(this._resource,new rdx.callback(this,this.refresh_view))}};rdx.downloads_view=function(h,e,g,f){this._base_view=f;this._view_definition=e;this._parent=h;this._resource=g;this._form=null;this._form_controller=new rdx.form_controller(this._base_view,this._parent,false);this._field_dependencies=null;this._custom_submit_handler_callback=null;this._custom_cancel_handler_callback=null;this.is_back_button_required=true;this._DEFAULT_PROPERTIES={title_image_url_class_name:null,title_str:null,title_desc:null};this.image_map={SAP:"legatus_sap","Lync 2014":"legatus_lync","Microsoft SharePoint":"legatus_sharepoint","Microsoft Exchange":"legatus_exchange"};this._properties=$.extend(true,this._DEFAULT_PROPERTIES,this._view_definition.view_properties)};rdx.downloads_view.prototype=new rdx.abstract_view();rdx.downloads_view.prototype.make_view=function(){this._base_view.remove_decorator();var b=$("<div>").addClass("rdx_downloads_view_container");this._render_welcome_text(b);rdx.model.get(rdx.utils.get_resource(this._view_definition.resource),null,new rdx.callback(this._render_links,[b,this.image_map]));this._parent.append(b)};rdx.downloads_view.prototype._render_welcome_text=function(g){if(rdx.utils.is_not_defined(this._properties.title_str,this._properties.title_desc)){return}var l=$("<div>").addClass("rdx_links_title_container");if(rdx.utils.is_defined(this._properties.title_str)){var h=$("<div>").addClass("rdx_link_header_container");if(rdx.utils.is_defined(this._properties.title_image_url_class_name)){h.addClass(this._properties.title_image_url_class_name)}var n=rdx.i18n.get_string(this._properties.title_str);h.append(n);l.append(h)}if(rdx.utils.is_defined(this._properties.title_desc)){var m=rdx.i18n.get_string(this._properties.title_desc);var o=$("<div>").addClass("rdx_link_header_container rdx_link_header_desc_container");o.append(m);l.append(o)}g.append(l)};rdx.downloads_view.prototype._render_links=function(L,J,G){var U=$("<table>").attr("cellpadding",0).attr("cellSpacing",0).addClass("rdx_links_container").attr("background","");var P=$("<tr>");U.append(P);var Q=$("<td>").addClass("rdx_link_main_container");P.append(Q);for(var O=0;O<L.app_template_info.length;O++){var T=L.app_template_info[O];var V=$("<table>").addClass("rdx_link_container rdx_download_container smooth_all_corner").attr("cellpadding",0).attr("cellspacing",0);var M=$("<tr>");V.append(M);var S=$("<td>").addClass("rdx_link_node_cell");M.append(S);var R=$("<div>").addClass("rdx_link_node_cell_container rdx_link_node_title_container");R.addClass(G[L.app_template_info[O]["name"]]);var W=$("<div>").append(rdx.i18n.get_string(T.name));R.append(W);if(T.updated_on||T.version){var E=$("<div>").addClass("legatus_update_details");var B="";if(T.updated_on){B+="<span> Updated On: "+T.updated_on+"</span>"}if(T.version){B+="  |  ";B+="<span> Supported Version: "+T.version+"</span>"}E.html(B);R.append(E)}var D=$('<a href="http://www.citrix.com/static/appexpert/appexpert-template.html" target="_blank"/>').addClass("legatus_download_link");S.append(R,D);var N=$("<tr>");V.append(N);var I=$("<td>").addClass("rdx_link_node_cell");N.append(I);var F=$("<div>").addClass("rdx_link_node_cell_container rdx_link_node_desc_container");F.append(rdx.i18n.get_string(T.desc));I.append(F);var C=$("<tr>");V.append(C);var I=$("<td>").addClass("rdx_link_node_cell");C.append(I);var K=$("<div>").addClass("rdx_link_node_cell_container");var Z=$("<div>").append(T.downloads+" Downloads").addClass("legatus_download_counts");K.append(Z);var H=$("<div>").append("Ratings: "+T.rating).addClass("legatus_ratings");K.append(H);I.append(K);Q.append(V)}J.append(U)};rdx.downloads_view.prototype.add_mask=function(){return false};rdx.downloads_view.prototype.destroy_view=function(b){};rdx.downloads_view.prototype.get_is_back_button_required=function(){return false};rdx.downloads_view.prototype.set_is_back_button_required=function(b){this.is_back_button_required=b};rdx.downloads_view.prototype.is_title_required=function(){return true};rdx.offline_visualizer_view=function(h,e,g,f){this._base_view=f;this._view_definition=e;this._entity_resource_name=this._view_definition.entity_resource_name;this._binding_resource_name=this._view_definition.binding_resource_name;this._parent=h;this._resource=g;this._DEFAULT_PROPERTIES={};this._properties=$.extend(true,this._DEFAULT_PROPERTIES,this._view_definition.view_properties);this._file_name="";this.data={errorcode:0,message:"Done",additionalInfo:{cert_present:"false"},lbvserver:[{name:"lbv1"},{name:"lbv2"},{name:"lbv3"},{name:"lbv4"},{name:"lbv5"},{name:"lbv6"},{name:"lbv7"},{name:"lbv8"}]}};rdx.offline_visualizer_view.prototype.make_view=function(){if(rdx.utils.is_defined(this._view_definition.online)&&this._view_definition.online==true){this._container_div=$("<div>").addClass("config_advice_view");this._online_ns_ip=this._view_definition.ip_address;this._online_lb_name=this._view_definition.entity_name;var b=this._view_definition.resource;rdx.resources[b].get_url="/nitro/v1/config/"+b;rdx.model.post(rdx.resources[b],new rdx.callback(this,this._construct_visualizer),{name:this._view_definition.entity_name,ip_address:this._view_definition.ip_address},new rdx.callback(this,this._error_occured),null,null,null)}else{this._create_dom();this._file_input.jFile()}this._base_view.remove_decorator();return};rdx.offline_visualizer_view.prototype._create_dom=function(){this._container_div=$("<div>").addClass("config_advice_view");var q=$("<div>").addClass("description");var s="Scan your NetScaler Configuration by selecting a registered NetScaler or by uploading the ns.conf file and get the highlights of common mistakes and best practices.";q.append(s);this.tab_panel=$("<div>").addClass("tab-panel");this._upload_tab=$("<div>").addClass("tab selected");this._upload_radio=$("<input />").attr({type:"radio",checked:"true",name:"upload"});this._upload_tab.append(this._upload_radio).append("Upload Configuration File");this._device_tab=$("<div>").addClass("tab");this._device_radio=$("<input />").attr({type:"radio",name:"device"});this._device_tab.append(this._device_radio).append("Select Device");this._upload_file_div=$("<div>").addClass("tab-container bottom-corners top-right-corner upload-file");this._config_form_elem=$("<form>").addClass("config-file-upload-form").attr({enctype:"multipart/form-data",method:"post",action:"/nitro/v1/config/visualizer_conf_file"});var p=$("<input />").attr({type:"hidden",name:"NITRO_WEB_APPLICATION",value:"true"});var m=$("<input />").attr({type:"hidden",name:"is_main",value:"true"});this._config_form_elem.append(p);this._config_form_elem.append(m);var n=$("<div>").addClass("label");n.text("NetScaler Configuration File");var l=$("<div>").addClass("field");this._file_input=$("<input />").attr({type:"file",name:"visualizer_conf_file"});l.append(this._file_input);var t=$("<div>").addClass("button-group");this._input_file_button=$("<input />").addClass("button-blue").attr({type:"button",value:"Upload"});t.append(this._input_file_button);this._config_form_elem.append(n);this._config_form_elem.append(l);this._config_form_elem.append(t);this._upload_file_div.append(this._config_form_elem);this.tab_panel.append(this._upload_file_div);this._progress_div=$("<div>").addClass("progressing");var o=$("<span>").addClass("loader");this._progress_div.append(o);this._progress_div.append(" Getting list of Virtual Servers...");this._container_div.append(this.tab_panel);this._container_div.append(this._progress_div);this._parent.append(this._container_div)};rdx.offline_visualizer_view.prototype.destroy_view=function(b){};rdx.offline_visualizer_view.prototype.get_is_back_button_required=function(){return false};rdx.offline_visualizer_view.prototype.set_is_back_button_required=function(b){this.is_back_button_required=b};rdx.offline_visualizer_view.prototype.register_event_handlers=function(){var b=this;if(rdx.utils.is_defined(this._input_file_button)){this._input_file_button.bind(rdx.events.CLICK,{configadvice:this},function(a){b._upload_configuration_file(a)})}if(rdx.utils.is_defined(this._device_tab)){this._device_tab.bind(rdx.events.CLICK,{configadvice:this},function(a){b._show_select_device_option(a)})}if(rdx.utils.is_defined(this._upload_tab)){this._upload_tab.bind(rdx.events.CLICK,{configadvice:this},function(a){b._show_upload_file_option(a)})}};rdx.offline_visualizer_view.prototype._visualize_per_entity=function(c){c.preventDefault();var d=this;this._file_name=$.trim($(".config-file-upload-form .custom-file-input").text());this._selected_lb=d.select_lb_dropdown.val();if(rdx.utils.is_defined(this._parent_container)){this._parent_container.remove()}rdx.resources[this._binding_resource_name].get_url="/nitro/v1/config/"+this._binding_resource_name+"/"+this._selected_lb;rdx.model.get(rdx.resources[this._binding_resource_name],null,new rdx.callback(this,this._construct_visualizer),null,new rdx.callback(this,this._error_occured),null)};rdx.offline_visualizer_view.prototype._upload_configuration_file=function(c){c.preventDefault();var d=this;this._file_name=$.trim($(".config-file-upload-form .custom-file-input").text());if(this._file_name===rdx.i18n.get_string("rdx.no_file_selected")){rdx.message_box.error(rdx.i18n.get_string("rdx.please_enter_config_file"));return false}else{this._progress_div.show();this._config_form_elem.ajaxSubmit({success:function(){d._get_lb_list(c)},error:function(a){d._error_occured(a)}})}};rdx.offline_visualizer_view.prototype._error_occured=function(b){if(rdx.utils.is_defined(this._progress_div)){this._progress_div.hide()}rdx.message_box.error(b)};rdx.offline_visualizer_view.prototype._get_lb_list=function(d){var c=this._entity_resource_name;rdx.model.get(rdx.resources[c],null,new rdx.callback(this,this._process_list),null,new rdx.callback(this,this._error_occured),null)};rdx.offline_visualizer_view.prototype._process_list=function(h){this._progress_div.hide();this._select_lbvserver_div=$("<div>").addClass("tab-container bottom-corners top-right-corner");var o=$("<div>").addClass("field");var m=$("<div>").addClass("label");if(this._view_definition.view_properties.type=="GSLB Visualizer"){m.text("Select GSLB Domain")}else{m.text("Select Virtual Server")}m.css("padding-bottom","10px");this.select_lb_dropdown=$("<select />");this.select_lb_dropdown.addClass("visualizer_lb_dropdown");this.tab_panel.hide();for(var g=0;g<h[this._entity_resource_name].length;g++){var l=$("<option />").append(h[this._entity_resource_name][g]["name"]);this.select_lb_dropdown.append(l)}o.append(m).append(this.select_lb_dropdown);var n=$("<div>").addClass("button-group");this._input_visualize_lb_button=$("<input />").addClass("button-blue").attr({type:"button",value:"View in Visualizer"});n.append(this._input_visualize_lb_button);this._select_lbvserver_div.append(o);this._input_visualize_lb_button.bind(rdx.events.CLICK,{configadvice:this},function(a){var b=a.data.configadvice;b._visualize_per_entity(a)});this._select_lbvserver_div.append(n);this._container_div.append(this._select_lbvserver_div)};rdx.offline_visualizer_view.prototype._construct_visualizer=function(e){this._binding_response=e[this._binding_resource_name][0];for(var g in this._binding_response){if(rdx.utils.is_array(this._binding_response[g])){if(this._binding_response[g].length==0){delete this._binding_response[g]}else{for(var h=0;h<this._binding_response[g].length;h++){this._binding_response[g][h]=JSON.parse(this._binding_response[g][h])}}}}this._visualizer_title=null;this._block_count=0;this.refresh_div=null;this._block_object={};this._count=0;this._level_tree={};this.to_be_drawn_count=0;this.to_be_drawn=[];this._parent_height="1250";this._label_to_type_obj={};this.lb_request_policies=["lbvserver_cmppolicy_binding","lbvserver_rewritepolicy_binding","lbvserver_appflowpolicy_binding","lbvserver_responderpolicy_binding","lbvserver_auditsyslogpolicy_binding","lbvserver_authorizationpolicy_binding","lbvserver_appfwpolicy_binding","lbvserver_scpolicy_binding","lbvserver_pqpolicy_binding","lbvserver_filterpolicy_binding","lbvserver_tmtrafficpolicy_binding","lbvserver_dnspolicy64_binding","lbvserver_spilloverpolicy_binding","lbvserver_feopolicy_binding","lbvserver_appqoepolicy_binding","lbvserver_transformpolicy_binding","lbvserver_cachepolicy_binding"];this.lb_response_policies=["lbvserver_cmppolicy_binding","lbvserver_rewritepolicy_binding","lbvserver_cachepolicy_binding"];this.lb_res_click_view_map=["lbvserver_cmppolicy_response_binding_op_page","lbvserver_rewritepolicy_response_binding_op_page","lbvserver_cachepolicy_response_binding_op_page"];this.lb_req_click_view_map=["lbvserver_cmppolicy_request_binding_op_page","lbvserver_rewritepolicy_request_binding_op_page","lbvserver_appflowpolicy_request_binding_op_page","lbvserver_responderpolicy_request_binding_op_page","lbvserver_auditsyslogpolicy_request_binding_op_page","lbvserver_authorizationpolicy_request_binding_op_page","lbvserver_appfwpolicy_request_binding_op_page","lbvserver_scpolicy_request_binding_op_page","lbvserver_pqpolicy_request_binding_op_page","lbvserver_filterpolicy_request_binding_op_page","lbvserver_tmtrafficpolicy_request_binding_op_page","lbvserver_dnspolicy64_request_binding_op_page","lbvserver_spilloverpolicy_request_binding_op_page","lbvserver_copolicy_request_binding_op_page","lbvserver_appqoepolicy_request_binding_op_page","lbvserver_transformpolicy_request_binding_op_page","lbvserver_cachepolicy_request_binding_op_page"];this._parent_view_definition=this._view_definition;this._parent_container=$("<div></div>").css("height",this._parent_height).css("border-bottom","1px solid #ccc");this._visualizer_title="LB Visualizer";if(rdx.utils.is_defined(this._view_definition.view_properties.description)){if(rdx.utils.is_defined(this._selected_lb)){var f="Visualizer: "+this._selected_lb}else{var f="Visualizer: "+this._parent_view_definition.lb_name}this.description_div=$("<div>").addClass("visualizer_title").append(f);this.description_div.append(this.refresh_div)}this._initialize_visualizer_view(false)};rdx.offline_visualizer_view.prototype._initialize_visualizer_view=function(e){this._parent_container.addClass("topology_formation_diagram_parent_container");var h={add_grey_button:true,grey_button_label:"rdx.form_close_button_label",grey_button_click_handler_callback:new rdx.callback(this,this.close_view)};this.close_button_container=$("<div>").addClass("visualizer_title");this._parent_container.append(this.description_div);this._container_div.append(this._parent_container);new rdx.button_bar(this.close_button_container,new rdx.form_field({properties:h})).render();for(var g in this._view_definition.diagram_properties){var f=this._view_definition.diagram_properties[g];if(rdx.utils.is_defined(this._level_tree[f.level])){this._level_tree[f.level].push(g)}else{this._level_tree[f.level]=[g]}this._block_count++}this._last_level=f.level;for(var g in this._view_definition.diagram_properties){this.make_block(g,false,this._binding_response)}};rdx.offline_visualizer_view.prototype.make_block=function(g,f,e){var h=this._view_definition.diagram_properties[g];if(g=="node_1"){if(this._view_definition.view_properties.type=="GSLB Visualizer"){e={gslbdomain:{name:e.name}}}else{if(this._view_definition.view_properties.type=="LB Visualizer"){e={lbvserver:{name:e.name,ipv46:e.ipaddress,port:e.port,servicetype:e.type}}}else{if(this._view_definition.view_properties.type=="CSvserver Visualizer"){e={csvserver:{name:e.name}}}}}}else{if(g=="node_3"||g=="node_5"){e==null}}this._render_block(e,h,g,true,false)};rdx.offline_visualizer_view.prototype._render_block=function(ag,ad,G,ae,Z){var T=0;var V="";if(ad.connector_block==true){var M=$("<div />").addClass("visualizer_connectorblock");T=(this._parent_container.height()/(this._block_count-1))*(ad.level-1);if(G=="node_10"){M.css("top",-160)}if(G=="node_5"){M.css("top",510)}else{M.css("top",T-75)}}else{if(rdx.utils.is_defined(ad.scrollable_single_block)){var Q=ag;var aa="";var W=0;for(var I=0;I<ad.resource_name.length;I++){if(Q[ad.resource_name[0]]){var L=Q[ad.resource_name[0]];for(var H=0;H<L.length;H++){if(rdx.utils.is_defined(L[H][ad.key[I]])&&rdx.utils.is_not_empty(L[H][ad.key[I]])){var P=L[H][ad.key[I]];W++;if(W==2||(L.length==1&&rdx.utils.is_not_defined(Q[ad.resource_name[1]]))){aa=aa+"<div class = 'visualizer_slide' data-center = 'true'>"+P+"</div>"}else{if(ad.key[I]=="lbvserver"){aa=aa+"<div class = 'visualizer_slide-deffault-blue'>"+P+"</div>"}else{aa=aa+"<div class = 'visualizer_slide'>"+P+"</div>"}}}}}}if(W>0){var M=$("<div />").html('						<div class="visualizer_toolbar">							<div class="visualizer_prev"></div>							<div class="visualizer_next"></div>						</div>						<div class="visualizer_view-port">							<div class="visualizer_scrollable-panel">'+aa+"</div>");var ab=$(".visualizer_scrollable-panel").width(W*250);M.addClass("visualizer_slider")}else{var M=$("<div></div>").addClass("zero_count_message");var R=ad.zero_count_message;M.text(R);M.css("top",150);M.css("left",351);M.css("padding-left",50);M.addClass("visualizer_singleblock")}}else{var ah=ag;if(ad.resource_name.length==1||ad.single_block==false){var M=$("<div />").addClass("visualizer_block_container");if(ad.direction=="left"){M.css("left",121)}else{if(ad.direction=="right"){M.css("left",561)}}if(ad.level==1){T="60px"}else{if(ad.level==2){T=200}else{if(ad.level==3){T=390}else{if(ad.level==5){T=1180}else{T=1000}}}}M.css("top",T);var K=$("<div />").addClass("visualizer_basic_node");var U=$("<div />");M.append(K);if(rdx.utils.is_not_defined(ah[ad.resource_name])){V=ad.zero_count_message}else{if(ad.key&&rdx.utils.is_array(ad.key)){for(var J=0;J<ad.key.length;J++){if(rdx.utils.is_not_empty(ad.label[J])){V=V+"<br/><span>"+ad.label[J]+" : "+ah[ad.resource_name][ad.key[J]]+"</span>"}else{if(rdx.utils.is_not_defined(ah[ad.resource_name][ad.key[J]])){V=V+ah[ad.key[J]]}else{V=V+ah[ad.resource_name][ad.key[J]]}}}}else{if(ad.key){if(ad.key=="vservername"){V=ah[ad.resource_name][0][ad.key]}else{V=ah[ad.resource_name][ad.key]}if(ad.label){V=V+" "+ad.label}}else{if(ad.count){V=ah[ad.resource_name].length+" "+ad.label}}}}if(ad.display_data){if(ad.display_data.data_renderer_callback){var O=ah[0][ad.resource_name][0];var af=ad.display_data.data_renderer_callback.call_back([O])}V=V+"<br/><span>"+af+"<span/>"}K.html(V);if(rdx.utils.is_defined(ad.click_view_name)){this.add_click_view_map(M,K,this._view_definition,G,ad.click_view_name[0])}this._block_object[G]=M}else{ah=ag;if(ad.direction=="left"){var S="REQUEST";var M=$("<div />").addClass("visualizer_block_container_left")}else{if(ad.direction=="right"){var S="RESPONSE";var M=$("<div />").addClass("visualizer_block_container_right")}else{var M=$("<div />").addClass("visualizer_block_container")}}T=((this._parent_container.height())/(this._block_count-1))*(ad.level-1);M.css("top",T-125);var ac=0;for(var I=0;I<ad.resource_name.length;I++){if(rdx.utils.is_defined(ah[ad.resource_name[I]])){ac=ah[ad.resource_name[I]].length;if(ac>0){var K=$("<div></div>").addClass("visualizer_singleblock");var N=$("<span />").addClass("node_child_number").text(ac);if(ad.click_view_name){this.add_click_view_map(M,K,this._view_definition,G,ad.click_view_name[H])}var F=ad.label[I];K.text(F).prepend(N);M.append(K)}}}if(rdx.utils.is_not_defined(F)){var K=$("<div></div>").addClass("zero_count_message");var F=ad.zero_count_message;K.text(F);M.append(K);K.addClass("visualizer_singleblock")}}}}this._parent_container.append(M);this._count++;this._block_object[G]=M;this.render_visualizer();if(rdx.utils.is_defined(ad.scrollable_single_block)){$(".visualizer_prev").bind(rdx.events.CLICK,{obj:this},function(a){if($(this).hasClass("visualizer_disabled")){return false}a.data.obj._move_divs("visualizer_prev",true);a.stopPropagation()});$(".visualizer_next").bind(rdx.events.CLICK,{obj:this},function(a){if($(this).hasClass("visualizer_disabled")){return false}a.data.obj._move_divs("visualizer_next",true);a.stopPropagation()});$(".visualizer_view-port").bind(rdx.events.CLICK,{obj:this,parent_view:this._view_definition},function(l){var e=l.target;if($(e).hasClass("visualizer_slide-bound_vpnvserver")){var d=rdx.utils.get_view("sslvpn_vserver_set_view");var a=rdx.view_utils.show_view_in_slider(d,null,{name:e.textContent});return}else{if(($(e).hasClass("visualizer_slide")||$(e).hasClass("visualizer_slide-deffault-blue"))&&($(e).hasClass("cs_visualizer_box_selected")==false)){if(rdx.utils.is_defined(l.data.obj._container_div.children()[1])){l.data.obj._container_div.children()[1].remove()}if(rdx.utils.is_defined(l.data.obj._parent_container)){l.data.obj._parent_container.css("border-bottom-width","none");l.data.obj._parent_container.css("border-bottom-style","none")}var b=$.extend(true,{},rdx.views.offline_lb_visualizer_view);b.entity_name=$(e).html();delete b.diagram_properties.node_1;b.diagram_properties.node_10={};b.diagram_properties.node_10.connector_block=true;b.diagram_properties.node_10.child="node_3";b.diagram_properties.node_10.connect_top=true;b.view_properties={};b.add_to_bread_crumb=false;b.ip_address=l.data.parent_view.ip_address;b.online=true;var g=$(".visualizer_scrollable-panel div.cs_visualizer_box_selected");g.removeClass("cs_visualizer_box_selected");$(e).addClass("cs_visualizer_box_selected");var f=$(e).prev();var c=$(e).next();if(rdx.utils.is_defined(f.attr("data-center"))){l.data.obj._move_divs("visualizer_next",false)}else{l.data.obj._move_divs("visualizer_prev",false)}var h=new rdx.base_view(l.data.obj._container_div,b);h.prepare_view();l.stopPropagation()}else{return}}})}};rdx.offline_visualizer_view.prototype.render_visualizer=function(){if(this._count==this._block_count){this._parent.append(this._container_div);this.rearrange_elements();this.connect_block_elements();this._add_connection_overlays()}if(rdx.utils.is_defined(this._view_definition.view_properties.connect_defaults)){var h=$(".visualizer_scrollable-panel");if(h.children().length==1){if(rdx.utils.is_defined(this._parent_container)){this._parent_container.css("border-bottom-width","none");this._parent_container.css("border-bottom-style","none")}$(".visualizer_scrollable-panel").addClass("visualizer_move_center");var f=$(".visualizer_scrollable-panel");f.children()[0];var g=$.extend(true,{},rdx.views.offline_lb_visualizer_view);target_div=$(".visualizer_scrollable-panel div[data-center=true]");g.entity_name=$(target_div).html();delete g.diagram_properties.node_1;g.diagram_properties.node_10={};g.diagram_properties.node_10.connector_block=true;g.diagram_properties.node_10.child="node_3";g.diagram_properties.node_10.connect_top=true;g.view_properties={};g.add_to_bread_crumb=false;g.ip_address=this._view_definition.ip_address;g.online=true;var m=new rdx.base_view(this._container_div,g);m.prepare_view();event.stopPropagation()}else{if(h.length==0){return}else{var l=$(".visualizer_scrollable-panel div[data-center=true]");if(l.length>=1){if(rdx.utils.is_defined(this._parent_container)){this._parent_container.css("border-bottom-width","none");this._parent_container.css("border-bottom-style","none")}var g=$.extend(true,{},rdx.views.offline_lb_visualizer_view);target_div=$(".visualizer_scrollable-panel div[data-center=true]");g.entity_name=$(target_div).html();delete g.diagram_properties.node_1;g.diagram_properties.node_10={};g.diagram_properties.node_10.connector_block=true;g.diagram_properties.node_10.child="node_3";g.diagram_properties.node_10.connect_top=true;g.view_properties={};g.add_to_bread_crumb=false;g.ip_address=this._view_definition.ip_address;g.online=true;var m=new rdx.base_view(this._container_div,g);m.prepare_view();event.stopPropagation()}else{return}}}}if(rdx.utils.is_defined(this._view_definition.view_properties.connect_defaults)){var h=$(".visualizer_scrollable-panel");if(h.children().length==1){$(".visualizer_scrollable-panel").addClass("visualizer_move_center")}else{if(h.length==0){return}}}};rdx.offline_visualizer_view.prototype._move_divs=function(m,n){var l=$(".visualizer_scrollable-panel");if(l.children().length<4){$(".visualizer_next").addClass("visualizer_disabled");$(".visualizer_prev").addClass("visualizer_disabled");return}if(n){var p=$(".visualizer_scrollable-panel div.cs_visualizer_box_selected");p.removeClass("cs_visualizer_box_selected")}var q=parseInt(l.css("left"));var h=0;if(m=="visualizer_prev"){var o=$(".visualizer_scrollable-panel div[data-center=true]");o.prev().attr("data-center","true");o.removeAttr("data-center");if(q==0){h=q}else{h=q+250}}else{var o=$(".visualizer_scrollable-panel div[data-center=true]");o.next().attr("data-center","true");o.removeAttr("data-center");if(q<-(250*($(".visualizer_slide").length-3))){h=q}else{h=q-250}}l.animate({left:h},150,function(){if(h==0){$(".visualizer_prev").addClass("visualizer_disabled")}else{if(h<-(250*($(".visualizer_slide").length-3))){$(".visualizer_next").addClass("visualizer_disabled")}else{$(".visualizer_prev,.visualizer_next").removeClass("visualizer_disabled")}}})};rdx.offline_visualizer_view.prototype._add_connection_overlays=function(){for(var f in this._view_definition.diagram_properties){var e=this._view_definition.diagram_properties[f];if(rdx.utils.is_defined(e.connection_img)){var d=$("<div />");d.css("left",this._block_object[f].position().left);if(e.direction=="left"){d.css("left",this._block_object[f].position().left+53);d.css("top",this._block_object[f].position().top-58);d.addClass("connection_div_req")}else{if(e.direction=="right"){d.css("left",this._block_object[f].position().left+53);d.css("top",this._block_object[f].position().top+this._block_object[f].height()+29);d.addClass("connection_div_res")}}}this._parent_container.append(d)}};rdx.offline_visualizer_view.prototype.rearrange_elements=function(){for(var g=1;g<=5;g++){var h=this._level_tree[g];if(rdx.utils.is_not_defined(h)){continue}var l=this._block_object[h[0]].position().top;var n=this.find_largest_element(h);var o=this._level_tree[g+1];if(o){this._set_top_offset(o,n.position,l)}if(g==3&&rdx.utils.is_defined(this._block_object.node_7)){if(this._block_object.node_4.height()!=this._block_object.node_7.height()){var m=n.element[0].offsetTop+(n.element.height()/2);if(this._block_object.node_7.height()>100){this._block_object.node_7.css("top",m-50)}else{this._block_object.node_7.css("top",m)}}}else{this._parent_container.css("height",l+70)}}return};rdx.offline_visualizer_view.prototype.find_largest_element=function(l){var q=[];var n=0;var h=null;for(var o=0;o<l.length;o++){var p=this._block_object[l[o]].height();var m=$(this._block_object[l[o]]).position().top;if(n<(p+m)){n=p+m;h=this._block_object[l[o]]}}return{element:h,position:n}};rdx.offline_visualizer_view.prototype._set_top_offset=function(g,h,m){for(var n=0;n<g.length;n++){var o=this._block_object[g[n]];var l=o.position()["top"];o.css("top",h+75)}return};rdx.offline_visualizer_view.prototype.create_add_new_link=function(l,f,h,m){var g=$('<a href="javascript:void(0);" class="add_new_block" title="Add New"><img src="'+rdx.images.PLUS_WHITE+'" />Add New</a>').bind(rdx.events.CLICK,{object:this,node:l,view_definition:f,block_id:h,add_view_name:m},function(a){var b=rdx.utils.get_view(a.data.add_view_name);var c=a.data.view_definition;var d=rdx.view_utils.show_view_in_slider(b,null,{name:c.selected_entity});$(d).bind(rdx.events.VIEW_DESTROYED,{node:l,block_id:h,obj:a.data.object},function(q){var p=q.data.block_id;var e=q.data.node;e.empty();q.data.obj.make_block(p)});a.stopPropagation()});if(rdx.utils.is_defined(g)){l.append(g)}this._parent_container.append(l)};rdx.offline_visualizer_view.prototype.add_click_view_map=function(g,l,m,h,f){l.bind(rdx.events.CLICK,{obj:this,lb_name:this._online_lb_name,ns_ip:this._online_ns_ip},function(v){if($(v.target).hasClass("visualizer_singleblock")||$(v.target).hasClass("visualizer_basic_node")){var u=[];var b={};var d=v.target.textContent;d=d.replace(/[0-9]/g,"");var a=v.data.obj;for(var s=0;s<a._view_definition.diagram_properties.node_4["label"].length;s++){a._label_to_type_obj[a._view_definition.diagram_properties.node_4["label"][s]]=a.lb_request_policies[s]}for(var s=0;s<a._view_definition.diagram_properties.node_7["label"].length;s++){a._label_to_type_obj[a._view_definition.diagram_properties.node_7["label"][s]]=a.lb_response_policies[s]}a._label_to_type_obj[" Services"]="lbvserver_service_binding";a._label_to_type_obj["No Services"]="lbvserver_servicegroup_binding";if(d!=" Services"&&d!="No Services"){var e=rdx.utils.get_view("policy_click_detail_view");e.view_properties.title=d}else{var e=rdx.utils.get_view("service_click_detail_view")}var t=a._label_to_type_obj[d];b[t]=a._binding_response[t];if(rdx.utils.is_defined(t)){b[t][0]["name"]=a._binding_response.name}var c=rdx.view_utils.show_view_in_slider(e,null,b[t])}else{return}})};rdx.offline_visualizer_view.prototype.close_view=function(){this._base_view.destroy_view()};rdx.offline_visualizer_view.prototype.connect_block_elements=function(){for(var c in this._block_object){var d=this._view_definition.diagram_properties[c];if(rdx.utils.is_defined(d.child)&&rdx.utils.is_defined(this._block_object[d.child])){this._connect_block_elements(c,d.child,d)}continue}};rdx.offline_visualizer_view.prototype._connect_block_elements=function(F,x,w){var E={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Top","Bottom"],connector:["Straight"]};var t={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Top"],connector:["Straight",{stub:[236,0]}]};var A={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Top"],connector:["Straight",{stub:[231,0]}]};var u={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Bottom"],connector:["Straight",{stub:[0,236]}]};var v={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Bottom"],connector:["Straight",{stub:[0,231]}]};var z={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Bottom"],connector:["Straight",{stub:[203,0]}]};var s={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Bottom"],connector:["Straight",{stub:[234,0]}]};var D={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Top"],connector:["Straight",{stub:[0,203],cornerRadius:10}]};var B={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Top"],connector:["Straight",{stub:[0,234],cornerRadius:1}]};if(rdx.utils.is_array(x)){for(var C=0;C<x.length;C++){this._connect_block_elements(F,x[C])}}else{this._jsPlumb=jsPlumb.getInstance();var y={};if(rdx.utils.is_defined(w.connect_top)){y=t}else{if(rdx.utils.is_defined(w.connect_bottom)){y=z;if(((this._block_object.node_5.height()+this._block_object.node_5.offset().top)-(this._block_object.node_7.height()+this._block_object.node_7.offset().top))>200){y.connector[1].stub=[0,((this._block_object.node_5.height()+this._block_object.node_5.offset().top)-(this._block_object.node_7.height()+this._block_object.node_7.offset().top))]}}else{if((rdx.utils.is_defined(w.direction)&&w.direction=="right")&&rdx.utils.is_not_defined(w.single_connect)){y=D;if(this._block_object.node_4.height()>265){y.connector[1].stub=[this._block_object.node_7.offset().top-this._block_object.node_3.offset().top,0]}}else{if((rdx.utils.is_defined(w.direction)&&w.direction=="left")){y=u}else{y=E}}}}if(rdx.utils.is_defined(w.connect_bottom)){this._jsPlumb.connect({source:this._block_object[F],target:this._block_object[x]},y)}else{if(rdx.utils.is_defined(w.connect_top)){this._jsPlumb.connect({source:this._block_object[F],target:this._block_object[x]},y)}else{if(rdx.utils.is_defined(w.direction)&&w.direction=="left"){this._jsPlumb.connect({source:this._block_object[F],target:this._block_object[x]},y)}else{this._jsPlumb.connect({source:this._block_object[F],target:this._block_object[x]},y)}}}}};rdx.offline_visualizer_view.prototype.is_title_required=function(){return true};rdx.op_wizard_page=function(h,e,g,f){this._parent=h;this._page_container=null;this._DEFAULT_PROPERTIES={standalone_mode:false,add_create_button:false,add_close_button:false,dialog_mode:false,add_to_bread_crumb:false,add_border:false,add_page_border:true,add_continue_button:true,add_done_button:false,add_cancel_button:true,cancel_button_callback:null,two_row_layout_for_fields:true,ok_button_label:null,cancel_button_label:null,continue_button_label:null,resume_from_failue_step_on_next_submit:true,add_index_to_page:true,add_skip_button:false,skip_button_label:"rdx.do_it_later",skip_button_handler_callback:null,center_align:true,custom_page_navigation_handler_field:null,add_view_link_name:null,resource_data_massage_callback:null,custom_form_validator_callback:null,skip_current:false};this._base_view=f;this._view_definition=e;this._resource=g;this._properties=$.extend({},this._DEFAULT_PROPERTIES,this._view_definition.view_properties);this._form=null;this._field_dependencies=null;this._form_panel=$("<div>");this._title_panel=null;this._title=null;this._model_executor_service=null;this._panels_holder=new Object();this.TOP_PANEL="top_panel";this.CENTER_PANEL="center_panel";this.CONTENT_PANEL="content_panel";this.CENTER_LEFT_PANEL="center_left_panel";this.CENTER_RIGHT_PANEL="center_right_panel";this.BUTTON_BAR_PANEL="button_bar_panel";this.TITLE_PANEL="title_panel";this.DESCRIPTION_PANEL="description_panel";this.NEXT_BUTTON="next_button";this.FINISH_BUTTON="finish_button";this.BUTTON_BAR_TABLE="buttons_panel";this.CANCEL_BUTTON="cancel_button";this.SKIP_BUTTON="skip_button";this._optional_page_flag=true;this._form_controller=new rdx.form_controller(f,h,true);this._resource_for_operation=null;this._model_exec_service_result=null;this._custom_view_handler=null;this._parent_view=null};rdx.op_wizard_page.prototype=new rdx.abstract_view();rdx.op_wizard_page.prototype.make_view=function(){if(rdx.utils.is_not_defined(this._view_definition.view_properties.cancel_button_callback)&&(rdx.utils.is_not_defined(this._parent_view)||this._parent_view!=rdx.view_constants.ONE_PAGE_WIZARD_VIEW)){this._properties.cancel_button_callback=new rdx.callback(function(b){b._base_view.destroy_view()},[this])}this._base_view.remove_decorator();this.render();this._form.finalize()};rdx.op_wizard_page.prototype.render=function(){this._page_container=$("<div>").addClass("smooth_all_corner form_inline");this._page_container.addClass("op_wizard_page");this._page_container.addClass("op_wizard_page_border rdx_border");if(this._properties.add_page_border==false){this._page_container.addClass("op_wizard_no_border")}this._parent.append(this._page_container);this._add_top_panel();this._add_center_panel();this._check_for_optional_page();this._title_bar=null};rdx.op_wizard_page.prototype.add_mask=function(){return true};rdx.op_wizard_page.prototype.handle_unmask=function(){rdx.mask.unmask_component(this._parent,this._base_view.get_mask_id())};rdx.op_wizard_page.prototype._add_top_panel=function(){var d=null;if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.title)){if(rdx.utils.is_not_defined(this._base_view.get_crumb_handler())||(rdx.utils.is_defined(this._parent_view)&&this._parent_view==rdx.view_constants.ONE_PAGE_WIZARD_VIEW)){if(rdx.utils.is_not_defined(this._view_definition.view_properties.show_title)||this._view_definition.view_properties.show_title==true){d=this._view_definition.view_properties.title}}}if(rdx.utils.is_defined(d)){var e=$("<div>");e.addClass("rdx_top_panel rdx_background");this._add_to_panel_holder(this.TOP_PANEL,e);this._title_panel=$("<div>").addClass("rdx_title_panel");this._add_to_panel_holder(this.TITLE_PANEL,this._title_panel);e.append(this._title_panel);this._page_container.append(e);this._title_panel.append(rdx.i18n.get_string(d));if(this._view_definition.__add_remove_link==true){var f=$("<span>").addClass("op_wizard_link_panel op_wizard_cross_link");f.bind(rdx.events.CLICK,{wizard:this},function(a){a.data.wizard._base_view.destroy_view({view_destroyed_on_click:true})});e.append(f)}if(rdx.utils.is_defined(this._properties.add_view_link_name)||rdx.utils.is_defined(this._properties.add_view_link_name_callback)){var f=$("<div>").addClass("op_wizard_link_panel op_wizard_view_link");f.bind(rdx.events.CLICK,{wizard:this},function(b){var l=b.data.wizard._properties;var c=b.data.wizard._form;var m=function(p,q,g){var h=rdx.utils.get_view(p);rdx.view_utils.show_view_in_slider(h,new rdx.callback(function(n){if(rdx.utils.is_defined(n)&&rdx.utils.is_function(n.refresh)){n.refresh()}},[q]),g)};if(rdx.utils.is_defined(l.add_view_link_name)){m(l.add_view_link_name,c,b.data.wizard._get_resource_for_operation())}else{if(rdx.utils.is_defined(l.add_view_link_name_callback)){var a=new rdx.callback_params({return_callback:new rdx.callback(function(h,q,s){var t=h.view_name;var g=rdx.utils.is_defined(h.resource_data)?h.resource_data:s.data.wizard._get_resource_for_operation();m(t,q,g)},[c,b]),resource_data:b.data.wizard._get_resource_for_operation()});l.add_view_link_name_callback.call_back([a])}}});this._add_to_panel_holder(this.BUTTON_BAR_PANEL,f);e.append(f)}this._title=d}};rdx.op_wizard_page.prototype._add_center_panel=function(){var s=$("<div>");var p=null;var t=null;if(this._properties.center_align){s.addClass("op_wizard_center_panel_border rdx_border_color")}if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.title)){if(rdx.utils.is_not_defined(this._base_view.get_crumb_handler())||(rdx.utils.is_defined(this._parent_view)&&this._parent_view==rdx.view_constants.ONE_PAGE_WIZARD_VIEW)){s.addClass("op_wizard_center_panel_top_border")}}this._add_to_panel_holder(this.CENTER_PANEL,s);if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.description)){p=this._view_definition.view_properties.description}if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.image_url)){t=this._view_definition.view_properties.image_url}if(rdx.utils.is_defined(p)){var q=$("<div>");q.append(p);q.addClass("op_wizard_description_panel");this._add_to_panel_holder(this.DESCRIPTION_PANEL,q);s.append(q)}if(rdx.utils.is_defined(t)){var v=$("<div>").addClass("op_wizard_center_left_panel op_wizard_image_panel");var n=$("<div>").addClass("op_wizard_center_right_panel");var x=$("<td>").attr("valign","top").append(v);var u=$("<td>").append(n);var o=$("<table>").append($("<tr>").append(x).append(u));o.addClass("op_wizard_center_panel_table");var w=$("<img>").addClass("op_wizard_image").attr("src",rdx.images.get_app_url(t)).attr("alt",t);v.append(w);this._add_to_panel_holder(this.CENTER_LEFT_PANEL,v);s.append(o);this._add_content_panel(n,s);this._add_to_panel_holder(this.CENTER_RIGHT_PANEL,n)}else{this._add_content_panel(s,s)}this._page_container.append(s)};rdx.op_wizard_page.prototype._add_content_panel=function(e,d){var f=$("<div>");if(this._properties.center_align){f.addClass("op_wizard_content_panel")}e.append(f);this._add_form_content(f);this._add_bottom_navigation_bar(d);this._add_to_panel_holder(this.CONTENT_PANEL,f)};rdx.op_wizard_page.prototype._add_form_content=function(e){e.append(this._form_panel);var h=this._properties;var g=h.standalone_mode?{}:this._resource.properties;if(rdx.utils.is_not_defined(h.submit_operation)||rdx.utils.is_not_defined(h.submit_operation.method)){h.submit_operation={method:rdx.model_constants.ADD,action:null}}var f=$("<div>");if(rdx.utils.is_defined(this._title_bar)){f=this._title_bar.add_crumb(this._title,this._base_view)}else{this._form_panel.append(f)}if(this._properties.center_align){f.addClass("op_wizard_form_panel")}this._form=new rdx.form(f,this._view_definition.resource_properties,g,h);if(rdx.utils.is_defined(this._base_view.get_crumb_handler())){this._form.set_crumb_handler(this._base_view.get_crumb_handler())}this._form.set_form_button_update_callback(new rdx.callback(this,this._handle_button_label_update));this._form.set_keyboard_handler_callback(new rdx.callback(this,this.do_submit));this._form.render();this._form.set_resource(this._resource);this._form.add_form_initialized_event(new rdx.callback(this,this._form_initialized));rdx.form_utils.prefill_form_data(this._form_panel,this._form,this._form,this._form._get_field_resource_response_arrived)};rdx.op_wizard_page.prototype.do_submit=function(){if(!this._form.validate()){return}this._do_submit()};rdx.op_wizard_page.prototype._do_submit=function(){this._base_view.set_view_state(rdx.view_constants.view_state.ACTIVE);var b=this._properties.add_done_button==false;this.handle_submit_button_click(b)};rdx.op_wizard_page.prototype._handle_button_label_update=function(h,p,l){if(this._properties.add_continue_button){var o=this._get_panel("button_bar");if(rdx.utils.is_defined(p)&&rdx.utils.is_defined(p.is_update_label)&&p.is_update_label==true){o.change_blue_button_label(rdx.i18n.get_string(l))}else{var m=rdx.utils.is_defined(this._properties.continue_button_label)?this._properties.continue_button_label:"rdx.op_wizard_continue_button";o.change_blue_button_label(rdx.i18n.get_string(m))}}if(this._properties.add_done_button){var o=this._get_panel("button_bar");if(rdx.utils.is_defined(p)&&rdx.utils.is_defined(p.is_update_label)&&p.is_update_label==true){o.change_grey_button_label(dx.i18n.get_string(l))}else{var n=rdx.utils.is_defined(this._properties.ok_button_label)?this._properties.ok_button_label:"rdx.op_wizard_done_button";o.change_grey_button_label(rdx.i18n.get_string(n))}}if(rdx.utils.is_defined(p)&&rdx.utils.is_defined(p.hide_button)&&p.hide_button==true){var q=this._get_panel("button_bar");q.hide_grey_button()}};rdx.op_wizard_page.prototype._add_bottom_navigation_bar=function(z){if(this._properties.add_continue_button==false&&this._properties.add_cancel_button==false&&this._properties.add_done_button==false){var x=this._form.get_parent().find("div.form");x.addClass("form_no_button_bar");return}var J=this._form.get_form_holder();var B=J.get_field(this._properties.custom_page_navigation_handler_field);if(rdx.utils.is_defined(this._properties.custom_page_navigation_handler_field)&&rdx.utils.is_defined(B)){if(rdx.utils.is_function(B.field.get_component)){var y=B.field.get_component();if(rdx.utils.is_function(y.get_view)&&rdx.utils.is_function(y.get_view().handle_page_navigation)){this._custom_view_handler=y.get_view()}}}var H=$("<table>").addClass("op_wizard_button_panel").attr("cellpadding",0).attr("cellspacing",0);var C=$("<tr>");H.append(C);var D=$("<td>").addClass("op_wizard_navigation_bar").attr("colspan",2);C.append(D);var K=rdx.utils.is_defined(this._properties.continue_button_label)?this._properties.continue_button_label:"rdx.op_wizard_continue_button";var L=rdx.utils.is_defined(this._properties.custom_form_validator_callback)?this._properties.custom_form_validator_callback:null;var A=rdx.utils.is_defined(this._properties.ok_button_label)?this._properties.ok_button_label:"rdx.op_wizard_done_button";var E=rdx.utils.is_defined(this._properties.cancel_button_label)?this._properties.cancel_button_label:"rdx.op_wizard_cancel_button";var G=rdx.utils.is_defined(this._properties.cancel_button_callback)?this._properties.cancel_button_callback:null;if(this._properties.add_skip_button==true){var I=this._properties.skip_button_label;var F=rdx.utils.is_defined(this._properties.skip_button_handler_callback)?this._properties.skip_button_handler_callback:null}this._button_bar_div=$("<div>").addClass("base_view_button_bar form_buttons");var w={add_blue_button:this._properties.add_continue_button,add_grey_button:true,blue_button_label:K,blue_button_tooltip:null,grey_button_label:E,grey_button_tooltip:null,blue_button_click_handler_callback:new rdx.callback(this.handle_submit_button_click_form_validation,[true,this,L]),grey_button_click_handler_callback:new rdx.callback(this.handle_cancel_button_click,[this,G]),custom_class_names:"form_buttons"};if(!this._properties.add_cancel_button){w.add_grey_button=false}if(this._properties.add_done_button){w.add_blue_button=true;w.blue_button_label=A;w.blue_button_click_handler_callback=new rdx.callback(this.handle_submit_button_click_form_validation,[false,this,L])}if(this._properties.add_skip_button){w.add_grey_button=true;w.grey_button_label=I;w.grey_button_click_handler_callback=new rdx.callback(this.handle_skip_button_click,[this,F])}var v=$("<div>");w=$.extend(true,w,this._properties);this._button_bar=new rdx.button_bar(v,new rdx.form_field({properties:w})).render();this._add_to_panel_holder("button_bar",this._button_bar);this._button_bar_div.append(v);z.append(this._button_bar_div)};rdx.op_wizard_page.prototype.handle_submit_button_click_form_validation=function(o,l,g,n){if($(g).attr("disabled")){return}if(!g.get_form().validate()){return}if(rdx.utils.is_defined(n)){var m=g.get_form();var h=n.call_back([m]);if(!h){return}}g._base_view.set_view_state(rdx.view_constants.view_state.ACTIVE);g.handle_submit_button_click(l);if(rdx.utils.is_ie()){$(window).trigger(rdx.events.SCROLL)}};rdx.op_wizard_page.prototype.handle_cancel_button_click=function(f,e,d){if(rdx.utils.is_defined(d)){d.call_back()}else{e._parent.trigger(rdx.events.OP_WIZARD_PAGE_CANCELLED)}};rdx.op_wizard_page.prototype.handle_skip_button_click=function(l,m,g){if(rdx.utils.is_defined(g)){var h=new rdx.callback_params({return_callback:new rdx.callback(function(c,a){if(a._properties.skip_current==true){var b=a._get_resource_for_operation();a._parent.trigger(rdx.events.OP_WIZARD_PAGE_CHANGED,[{},b,false,true,false])}else{a._parent.trigger(rdx.events.OP_WIZARD_PAGE_CANCELLED)}},[m])});g.call_back([h])}else{if(m._properties.skip_current==true){var f=m._get_resource_for_operation();m._parent.trigger(rdx.events.OP_WIZARD_PAGE_CHANGED,[{},f,false,true,false])}else{m._parent.trigger(rdx.events.OP_WIZARD_PAGE_CANCELLED)}}};rdx.op_wizard_page.prototype.get_resource_response_arrived=function(c){var d=rdx.utils.get_formatted_response(c);if(rdx.utils.is_not_defined(d)){this._form.initialize();this._form_initialized(this._form);return}this._form.initialize(d)};rdx.op_wizard_page.prototype._form_initialized=function(b){if(rdx.utils.is_defined(this._view_definition.field_dependencies)){this._field_dependencies=new rdx.dependency(this._form,this._view_definition.field_dependencies)}this.handle_unmask();if(rdx.utils.is_defined(this._field_dependencies)){this._field_dependencies.trigger_dependencies()}if(rdx.utils.is_defined(this._form_panel)){rdx.utils.set_focus_on_first_editable_component(this._form_panel.get(0))}this._base_view.set_view_state(rdx.view_constants.view_state.ACTIVE)};rdx.op_wizard_page.prototype.get_form=function(){return this._form};rdx.op_wizard_page.prototype.destroy_view=function(){this._form.destroy_form();this._page_container.remove()};rdx.op_wizard_page.prototype._is_add_mode=function(){if(rdx.utils.is_not_defined(this._view_definition.view_properties)||rdx.utils.is_not_defined(this._view_definition.view_properties.submit_operation)){return true}var b=this._view_definition.view_properties.submit_operation.method;if(rdx.utils.is_defined(b)&&b==rdx.model_constants.ADD){return true}return false};rdx.op_wizard_page.prototype._expand_collapse_page=function(){if(this._optional_page_flag){if(!(this._properties.add_index_to_page)){((this._panels_holder[this.TITLE_PANEL]).prev()).addClass("expand")}this._expand_page()}else{if(!(this._properties.add_index_to_page)&&(((this._panels_holder[this.TITLE_PANEL]).prev()).hasClass("expand"))){((this._panels_holder[this.TITLE_PANEL]).prev()).removeClass("expand")}this._collapse_page()}};rdx.op_wizard_page.prototype._expand_page=function(){this._panels_holder[this.CENTER_PANEL].slideDown();if(this._properties.add_continue_button==true||this._properties.add_cancel_button==true){$(this._panels_holder.button_bar).slideDown()}this._optional_page_flag=false;if(rdx.utils.is_defined(this._form_panel)){rdx.utils.set_focus_on_first_editable_component(this._form_panel.get(0))}};rdx.op_wizard_page.prototype._collapse_page=function(){this._panels_holder[this.CENTER_PANEL].slideUp();if(this._properties.add_continue_button==true||this._properties.add_cancel_button==true){$(this._panels_holder.button_bar).slideUp()}this._optional_page_flag=true};rdx.op_wizard_page.prototype._add_close_button=function(){var e=this._panels_holder[this.BUTTON_BAR_PANEL];var f=rdx.utils.is_defined(this._properties.close_button_label)?this._properties.close_button_label:"rdx.op_wizard_close_button";var d=this._get_button(rdx.i18n.get_string(f));d.addClass("cancel_button");this._add_to_panel_holder(this.CLOSE_BUTTON,d);d.bind(rdx.events.CLICK,{op_wizard_page:this},function(a){a.data.op_wizard_page._collapse_page()});e.append(d)};rdx.op_wizard_page.prototype._add_index_to_title=function(){if(rdx.utils.is_defined(this._properties.__index)){var d=this._properties.__index.toString();var c=$("<div>").addClass("optional_page_index");this._panels_holder[this.TOP_PANEL].prepend(c);if(this._properties.add_index_to_page){c.append(d)}else{c.addClass("op_wizard_collapsable_header")}this._panels_holder[this.TITLE_PANEL].addClass("title_border")}};rdx.op_wizard_page.prototype._collapse_other_pages=function(){this._parent.trigger(rdx.events.OP_WIZARD_PAGE_COLLAPSE)};rdx.op_wizard_page.prototype._check_for_optional_page=function(){if(rdx.utils.is_defined(this._properties.__optional)&&this._properties.__optional){this._panels_holder[this.TOP_PANEL].addClass("optional_page_class");this._add_index_to_title();if(this._properties.add_close_button){this._add_close_button()}this._panels_holder[this.CENTER_PANEL].hide();if(rdx.utils.is_defined(this._panels_holder[this.CANCEL_BUTTON])){this._panels_holder[this.CANCEL_BUTTON].hide()}if(rdx.utils.is_defined(this._panels_holder[this.BUTTON_BAR_TABLE])){this._panels_holder[this.BUTTON_BAR_TABLE].hide()}$(this).bind(rdx.events.PAGE_COLLAPSE,{op_wizard_page:this},function(b){if(!b.data.op_wizard_page._optional_page_flag){b.data.op_wizard_page._expand_collapse_page()}});$(this).bind(rdx.events.PAGE_EXPAND,{op_wizard_page:this},function(b){b.data.op_wizard_page._collapse_other_pages();b.data.op_wizard_page._expand_collapse_page()});this._panels_holder[this.TOP_PANEL].bind(rdx.events.CLICK,{op_wizard_page:this},function(b){b.data.op_wizard_page._collapse_other_pages();b.data.op_wizard_page._expand_collapse_page()})}};rdx.op_wizard_page.prototype.handle_submit_button_click=function(l){var g=this._get_resource_for_operation();var h=null;if(rdx.utils.is_defined(this._custom_view_handler)){var f=this;var m=new rdx.callback_params({return_callback:new rdx.callback(f,f.trigger_page_change_event,[false,l,true])});h=new rdx.callback(this._custom_view_handler,this._custom_view_handler.handle_page_navigation,[m,this._form])}else{h=new rdx.callback(this,this.trigger_page_change_event,[g,false,l])}this._form_controller.set_callback(h);this._form_controller.do_model_operation()};rdx.op_wizard_page.prototype.trigger_page_change_event=function(n,o,m,l,g){this._model_exec_service_result=n;if(rdx.utils.is_defined(this._properties.resource_data_massage_callback)){var h=new rdx.callback_params({return_callback:new rdx.callback(this,this._trigger_page_change_event,[n,m,l,g]),response:rdx.utils.is_defined(n)?n.get_collated_response():null,resource_data:o});this._properties.resource_data_massage_callback.call_back([h])}else{this._trigger_page_change_event(o,n,m,l,g)}};rdx.op_wizard_page.prototype._trigger_page_change_event=function(g,o,n,l,h){var m={};if(this._properties.standalone_mode==false){m[this._resource.name]=g}this._resource_for_operation=m;this._parent.trigger(rdx.events.OP_WIZARD_PAGE_CHANGED,[o,g,n,l,false]);if(rdx.utils.is_defined(h)&&h==true){this._custom_view_handler=null;this.close_view(true)}};rdx.op_wizard_page.prototype._get_resource_for_operation=function(){return rdx.form_utils.get_resource_for_operation(this._form,this._resource,null)};rdx.op_wizard_page.prototype._hide_button=function(b){b.hide();b.removeClass("wizard_show_button")};rdx.op_wizard_page.prototype._show_button=function(b){b.show();b.addClass("wizard_show_button")};rdx.op_wizard_page.prototype._get_button=function(d){var c=$(document.createElement("input"));c.attr("type","button");c.attr("value",d);if(rdx.utils.is_defined(rdx.get_test_framework)&&rdx.get_test_framework().is_test_mode){rdx.get_test_framework().button_bar_stack.push(c)}return c};rdx.op_wizard_page.prototype._add_to_panel_holder=function(c,d){this._panels_holder[c]=d};rdx.op_wizard_page.prototype._get_panel=function(b){return this._panels_holder[b]};rdx.op_wizard_page.prototype.get_form_controller=function(){return this._form_controller};rdx.op_wizard_page.prototype.get_data=function(){return this.get_form_controller().get_resource_for_operation()};rdx.op_wizard_page.prototype.get_callback_data=function(){return{model_executor_service_result:this._model_exec_service_result,resource_for_operation:this._resource_for_operation,app_context_data:this._base_view.get_view_context().get_app_context_data()}};rdx.op_wizard_page.prototype.close_view=function(b){if(rdx.utils.is_defined(this._custom_view_handler)){return}this._base_view.destroy_view({submit_called:(rdx.utils.is_defined(b)&&b)},false)};rdx.op_wizard_page.prototype.set_parent_view=function(b){this._parent_view=b};rdx.systemlog_view=function(g,h,e,f){this._parent=g;this._view_definition=h;this._resource_definition=e;this._base_view=f;this._view_properties=this._view_definition.view_properties;this._file_name=null;this._directory_name=null;this._container_div=null;this._left_div=null;this._right_div=null;this._content_box=null;this._dir_box=null;this._file_box=null;this._filter_box=null;this._content_box_header=null;this._search_div=null;this._search_properties_div=null;this._pagination_div=null;this._prev_span=null;this._next_span=null;this._match_any_span=null;this._match_any_input=null;this._match_all_span=null;this._match_all_input=null;this._case_sensitive_span=null;this._case_sensitive_input=null;this._regex_span=null;this._regex_input=null;this._file_resource=null;this._refresh_div=null;this._log_container=null;this._no_mesg_container=null;this._content_box_logs_container=null;this._result_count=null;this._reload_div=null;this._select_sort_div=null;this._sort_span_div=null;this._sort_dropdown=null;this._sort_dropdown_label=null;this._sort_dropdown_arrow=null;this._sort_dropdown_list=null;this._dropdown_overlay=null;this._search_component=null;this._search_input=null;this._clear_block=null;this._search_button=null;this._more_div=null;this._dir_box_div=null;this._dir_content=null;this._file_box_div=null;this._file_div=null;this._file_content=null;this._filter_header=null;this._clear_filter=null;this._filter_content=null;this._filter_footer=null;this._filter_components=null;this._filter_button=null;this._filter_properties=null;this._elements=null;this._tags=null;this._time_property=null;this._severity_property=null;this._saved_parsed_component=null;this._sort_order="descending";this._message_source="file";this._removed_search_query="";this._selected_component=null;this.is_back_button_required=true;this._filter_previously_performed=false;this._clear_all_search=false;this._function_call_from_search=false;this._function_call_from_filter=false;this._double_click_search="";this._count_of_messages=0;this._result_elements=[];this._search_query=[];this._filter_components_type={};this._dependendee_context={};this._filter_context_objects={};this._filter_on={};this._systemlog_resource_properties={};this._view_properties_array=[];this._resource_properties_array=[];this._properties_of_number_type=[];this._prev_index=-1;this._next_index=-1;this._start_index=0;this._pageno=1;this._pagesize=50;this._buffer_overflow_pattern="length\\((\\d+)\\)";this._msg_field_pattern="failed for field ([^=]+)=";this._cookie_pattern="failed for (.+)$";this._appfw_regex_field=null;this._context_data=null;this._appfw_deploy_counter=0;this._appfw_profiles_for_bufferoverflow=[];this._appfw_profile_resources={};this._prefilled_data=null;this._title="Syslog Viewer"};rdx.systemlog_view.prototype.make_view=function(){this._populate_view_properties();this._populate_resource_properties();this._create_dom();this._preload_images();this._refresh_div.show();this._populate_sort_components();this._populate_filter_components();this._populate_deploy_dropdown_components()};rdx.systemlog_view.prototype._create_dom=function(){this._parent.removeClass("view_div_decorator");this._parent.removeClass("rdx_auto_cursor");this._parent.addClass("systemlog_view base_view_no_view_top_container op_wizard_form_panel form_inline smooth_all_corner custom_view_title_bar");this._container_div=$("<div>").addClass("page-content-syslog clearfix");this._left_div=$("<div>").addClass("section float-left seventy-five-width");this._content_box=$("<div>").addClass("box-container all-border all-round");this._content_box_header=$("<div>").addClass("box-title top-round is-relative content-header");this._search_div=$("<div>").addClass("action-bar is-relative action-bar-shadow search-div");this._search_properties_div=$("<div>").addClass("action-bar is-relative hide search-properties-div");this._pagination_div=$("<div>").addClass("action-bar is-relative adv-search-shadow pagination-div");this._content_box_logs_container=$("<div>").addClass("box-content log_box_container");var n=$("<img />").addClass("loading").attr("src",rdx.images.IN_PROGRESS_IMG);this._refresh_div=$("<div>");this._refresh_div.append(n);this._refresh_div.hide();this._no_mesg_container=$("<div>").addClass("no-matching-record");this._log_container=$("<div>").addClass("log-container");this._content_box_logs_container.append(this._refresh_div);this._content_box_logs_container.append(this._no_mesg_container);this._content_box_logs_container.append(this._log_container);var x=$("<div>").addClass("log-title");var t=$("<span>").append(this._title);this._result_count=$("<span>").addClass("record-count");x.append(t);x.append(this._result_count);this._reload_div=$("<div>").addClass("page-reload").attr("title","Refresh syslogs");this._select_sort_div=$("<div>").addClass("sort-div");this._sort_span_div=$("<span>").append(rdx.i18n.get_string("rdx.sort_label")+" ");this._select_sort_div.append(this._sort_span_div);this._content_box_header.append(x);this._content_box_header.append(this._reload_div);this._content_box_header.append(this._select_sort_div);this._deploy_action_div=$("<div>").addClass("deploy-div");this._deploy_span_div=$("<span>").append(rdx.i18n.get_string("rdx.action_label")+" ");this._deploy_action_div.append(this._deploy_span_div);this._content_box_header.append(this._deploy_action_div);this._search_component=$("<div>").addClass("search-component");this._search_input=$("<input />").attr({type:"text",placeholder:rdx.i18n.get_string("rdx.search")}).addClass("mshandler");this._search_component.append(this._search_input);this._clear_block=$("<span>").addClass("clear-search").append(rdx.i18n.get_string("rdx.clear"));this._search_component.append(this._clear_block);var s=$("<div>").addClass("search-button");this._search_button=$("<input />").addClass("rdx_button rdx_blue_button mini").attr({type:"button",value:rdx.i18n.get_string("rdx.go_button_label"),title:"Click to search"});s.append(this._search_button);this._more_div=$("<div>").addClass("more-options").attr("title","Click to view more search options");this._search_div.append(this._search_component);this._search_div.append(this._more_div);this._search_div.append(s);var u=$("<div>").addClass("adv-search-div");this._match_any_span=$("<span>").addClass("adv-search-span");this._match_any_input=$("<input />").attr({type:"checkbox",name:"match_any",value:"match_any"});var q=$("<span>").addClass("adv-search-label").append(rdx.i18n.get_string("rdx.match_any"));this._match_any_span.append(this._match_any_input);this._match_any_span.append(q);u.append(this._match_any_span);this._match_all_span=$("<span>").addClass("adv-search-span");this._match_all_input=$("<input />").attr({type:"checkbox",name:"match_all",value:"match_all"});var o=$("<span>").addClass("adv-search-label").append(rdx.i18n.get_string("rdx.match_all"));this._match_all_span.append(this._match_all_input);this._match_all_span.append(o);u.append(this._match_all_span);this._match_all_input.attr("checked",true);if(rdx.utils.is_defined(this._view_definition.view_properties.features.search)&&rdx.utils.is_defined(this._view_definition.view_properties.features.search.advanced_search_type)&&this._view_definition.view_properties.features.search.advanced_search_type.length){if($.inArray("case_sensitive",this._view_definition.view_properties.features.search.advanced_search_type)!==-1){this._case_sensitive_span=$("<span>").addClass("adv-search-span");this._case_sensitive_input=$("<input />").attr({type:"checkbox",name:"case_sensitive",value:"case_sensitive"});var p=$("<span>").addClass("adv-search-label").append(rdx.i18n.get_string("rdx.case_sensitive"));this._case_sensitive_span.append(this._case_sensitive_input);this._case_sensitive_span.append(p);u.append(this._case_sensitive_span)}if($.inArray("regular_expression",this._view_definition.view_properties.features.search.advanced_search_type)!==-1){this._regex_span=$("<span>").addClass("adv-search-span");this._regex_input=$("<input />").attr({type:"checkbox",name:"regular_expression",value:"regular_expression"});var w=$("<span>").addClass("adv-search-label").append(rdx.i18n.get_string("rdx.regular_expression"));this._regex_span.append(this._regex_input);this._regex_span.append(w);u.append(this._regex_span)}}this._search_properties_div.append(u);this._prev_span=$("<span>").addClass("pagination-button nav-prev").attr("data-start","-1").append(rdx.i18n.get_string("rdx.prev_page"));this._next_span=$("<span>").addClass("pagination-button nav-next").attr("data-start","-1").append(rdx.i18n.get_string("rdx.table_pagination_next"));this._page_number_span=$("<span>").addClass("page-number");this._pagination_div.append(this._prev_span);this._pagination_div.append(this._next_span);this._pagination_div.append(this._page_number_span);this._content_box.append(this._content_box_header);this._content_box.append(this._search_div);this._content_box.append(this._search_properties_div);this._content_box.append(this._pagination_div);this._content_box.append(this._content_box_logs_container);this._left_div.append(this._content_box);this._container_div.append(this._left_div);if(this._enable_filters){this._right_div=$("<div>").addClass("aside float-left twenty-five-width");this._filter_box=$("<div>").addClass("box-container filter-section all-border all-round")}else{this._left_div.removeClass("float-left seventy-five-width")}if(this._message_source==="file"){this._file_box=$("<div>").addClass("box-container file-block all-border all-round");var v=$("<div>").addClass("box-title top-round aside-font").append(rdx.i18n.get_string("rdx.file"));this._file_box_div=$("<div>").addClass("file-box-content");this._dir_div=$("<div>").addClass("directory-ns-log");this._file_div=$("<div>").addClass("file-ns-log");this._file_box_div.append(this._dir_div);this._file_box_div.append(this._file_div);this._file_box.append(v);this._file_box.append(this._file_box_div);this._right_div.append(this._dir_box);this._right_div.append(this._file_box)}if(this._enable_filters){this._filter_header=$("<div>").addClass("box-title top-round aside-font filter-header").append(rdx.i18n.get_string("rdx.filter_by_label"));this._clear_filter=$("<span>").addClass("clear-all-filters").append(rdx.i18n.get_string("rdx.clear"));this._filter_header.append(this._clear_filter);this._filter_content=$("<div>").addClass("box-content list");this._filter_box.append(this._filter_header);this._filter_box.append(this._filter_content);this._right_div.append(this._filter_box);this._container_div.append(this._right_div)}this._parent.append(this._container_div);if($(".dropdown-overlay").length<1){this._dropdown_overlay=$("<div>").addClass("dropdown-overlay");this._dropdown_overlay.hide();$("body").prepend(this._dropdown_overlay)}else{this._dropdown_overlay=$(".dropdown-overlay")}};rdx.systemlog_view.prototype._preload_images=function(){if($(".preload-filter-cross").length<1){$("<img />").attr("src",rdx.images.FILTER_CROSS_IMG).addClass("preload-filter-cross").appendTo("body").hide()}if($(".preload-checkmark").length<1){$("<img />").attr("src",rdx.images.CHECKMARK_IMG).addClass("preload-checkmark").appendTo("body").hide()}if($(".preload-checkbox").length<1){$("<img />").attr("src",rdx.images.CHECKBOX_IMG).addClass("preload-checkbox").appendTo("body").hide()}};rdx.systemlog_view.prototype._populate_view_properties=function(){this._message_source=this._view_definition.message_source||"file";this.is_back_button_required=$.extend(true,this._view_definition.is_back_button_required);this._message_resource_name=(this._message_source==="file")?this._view_definition.message_resource_name:this._view_definition.resource_name;if(rdx.utils.is_defined(this._view_definition.view_context)){this._pagesize=this._view_definition.view_context.custom.pagesize||50}this._enable_filters=rdx.utils.is_defined(this._view_definition.enable_filters)?this._view_definition.enable_filters:true;var d=this._message_source==="file"?this._view_definition.message_resource_properties:this._view_definition.resource_properties;for(var e=0;e<d.length;e++){var f=d[e];if(rdx.utils.is_defined(f.type)){if(f.type==="time"){this._time_property=f.key}if(f.type==="severity"){this._severity_property=f.key}}if(rdx.utils.is_defined(f.display)&&f.display){this._view_properties_array.push(f.key)}if(rdx.utils.is_defined(f.data_type)){this._properties_of_number_type.push(f.key)}}};rdx.systemlog_view.prototype._populate_resource_properties=function(){this._file_resource=rdx.utils.get_resource(this._message_resource_name);var d=this._file_resource.properties;for(var e in d){if(d.hasOwnProperty(e)){var f=d[e];this._systemlog_resource_properties[e]=rdx.i18n.get_string(f.label);this._resource_properties_array.push(e)}}};rdx.systemlog_view.prototype._populate_sort_components=function(){this._sort_dropdown=$("<div>").addClass("custom-dropdown-container custom-dropdown-width");this._sort_dropdown_label=$("<div>").addClass("dropdown-label");this._sort_dropdown_arrow=$("<div>").addClass("dropdown-arrow");this._sort_dropdown_list=$("<div>").addClass("dropdown-list");var c=$("<div>").addClass("dropdown-option sort-order-option");c.text(rdx.i18n.get_string("rdx.oldest_first"));c.attr("data-sort_order","ascending");var d=$("<div>").addClass("dropdown-option sort-order-option selected");d.text(rdx.i18n.get_string("rdx.newest_first"));d.attr("data-sort_order","descending");this._sort_dropdown_list.append(d);this._sort_dropdown_list.append(c);this._sort_dropdown_label.text(rdx.i18n.get_string("rdx.newest_first"));this._sort_dropdown.append(this._sort_dropdown_label).append(this._sort_dropdown_arrow).append(this._sort_dropdown_list);this._sort_dropdown.insertBefore(this._sort_span_div)};rdx.systemlog_view.prototype._populate_deploy_dropdown_components=function(){this._deploy_dropdown=$("<div>").addClass("custom-dropdown-container custom-deploy-dropdown-width");this._deploy_dropdown_label=$("<div>").addClass("deploy-dropdown-label deploy-label-position");this._deploy_dropdown_arrow=$("<div>").addClass("deploy-dropdown-arrow");this._deploy_dropdown_list=$("<div>").addClass("deploy-dropdown-list");this._edit_and_deploy_option=$("<div>").addClass("deploy-dropdown-option deploy-disabled");this._edit_and_deploy_option.text(rdx.i18n.get_string("rdx.edit_and_deploy"));this._edit_and_deploy_option.attr("data-deploy_type","edit");this._deploy_option=$("<div>").addClass("deploy-dropdown-option deploy-disabled");this._deploy_option.text(rdx.i18n.get_string("rdx.deploy_label"));this._deploy_option.attr("data-deploy_type","deploy");this._deploy_all_option=$("<div>").addClass("deploy-dropdown-option");this._deploy_all_option.text(rdx.i18n.get_string("rdx.deploy_all_label"));this._deploy_all_option.attr("data-deploy_type","deploy_all");this._deploy_dropdown_list.append(this._edit_and_deploy_option);this._deploy_dropdown_list.append(this._deploy_option);this._deploy_dropdown_list.append(this._deploy_all_option);this._deploy_dropdown_label.text("");this._deploy_dropdown.append(this._deploy_dropdown_label).append(this._deploy_dropdown_arrow).append(this._deploy_dropdown_list);this._deploy_dropdown.insertBefore(this._deploy_span_div)};rdx.systemlog_view.prototype._populate_filter_components=function(){if(!this._enable_filters){return}if(rdx.utils.is_defined(this._view_definition.view_properties.features.filter.filter_on)){this._filter_components=this._view_definition.view_properties.features.filter.filter_on}if(rdx.utils.is_defined(this._view_definition.view_properties.features.filter.filter_properties)){this._filter_properties=this._view_definition.view_properties.features.filter.filter_properties;var K=null;for(var H=0;H<this._filter_components.length;H++){var ag=this._filter_components[H];var M=this._filter_properties[ag];if(rdx.utils.is_defined(M.dependent_on)){K=M.dependent_on;if(rdx.utils.is_not_defined(M.dependent_data)){rdx.message_box.error(rdx.i18n.get_string("rdx.no_dependent_data_error",{filter_component:ag}));return}}if(rdx.utils.is_defined(M.input_type)){this._filter_components_type[ag]=M.input_type}else{rdx.message_box.error(rdx.i18n.get_string("rdx.input_type_not_specified_error",{filter_component:ag}));return}}if(rdx.utils.is_defined(K)&&(this._filter_properties[K]["input_type"]==="multiple_checkbox")){rdx.message_box.error(rdx.i18n.get_string("rdx.input_type_not_specified_error",{dependent_prop:K}));return}}this._filter_footer=$("<div>").addClass("box-footer");this._filter_button=$("<input />").addClass("rdx_button rdx_blue_button").attr({type:"button",value:rdx.i18n.get_string("rdx.apply_label"),title:"Click to apply filters"});var N=this._message_source==="file"?"("+rdx.i18n.get_string("rdx.in_the_current_page")+")":"";this._filter_info_span=$("<span>").addClass("filter-info").append(N);this._filter_footer.append(this._filter_button);this._filter_footer.append(this._filter_info_span);this._filter_box.append(this._filter_footer);for(var H=0;H<this._filter_components.length;H++){var Z=this._filter_components[H];var M=this._filter_properties[Z];var L=this._systemlog_resource_properties[Z];if(rdx.utils.is_defined(M.dependent_on)){var P=$("<div>").addClass("filter-expandable collapsed disable-div").attr("data-filter_component",Z);this._dependendee_context[M.dependent_on]=P}else{var P=$("<div>").addClass("filter-expandable collapsed").attr("data-filter_component",Z)}this._filter_context_objects[Z]=P;var ac=$("<div>").addClass("components-selected-name");var U=$("<div>").addClass("component-name").append(L);ac.append(U);var W=$("<div>").addClass("filter-title").append(ac);if(this._filter_components_type[Z]==="check_list"||this._filter_components_type[Z]==="text_box"){var ah=$("<div>").addClass("filter-content")}else{var ah=$("<div>").addClass("multiple-filter-content no-padding")}P.append(W);P.append(ah);this._filter_content.append(P);var M=this._filter_properties[Z];var Q=rdx.utils.is_defined(M.dependent_on)&&this._filter_properties[M.dependent_on].data.length>1;var G=rdx.utils.is_defined(M.dependent_on)&&this._filter_properties[M.dependent_on].data.length===1;if(this._filter_components_type[Z]==="multiple_checkbox"){var R=$("<ul />").addClass("dependent-type-filters");var O=rdx.utils.is_defined(M.data)?M.data:null;if(!Q&&O){if(rdx.utils.is_defined(M.sort)&&M.sort){O=O.sort()}for(var J=0;J<O.length;J++){var T=$("<li />");var aa=$("<div>").addClass("filter-checkbox").append(O[J]);var ad=$("<div>").addClass("filter-check").attr("data-filter_name",O[J]);aa.append(ad);T.append(aa);R.append(T)}}else{if(G){P.removeClass("disable-div");var V=this._filter_properties[M.dependent_on].data[0];this._render_dependant_filters(M,V,Z,R)}}ah.append(R)}else{if(this._filter_components_type[Z]==="check_list"){var ab=$("<div>").addClass("filter-dropdown-container");var S=$("<div>").addClass("filter-dropdown-label").appendTo(ab);ah.append(ab);var O=rdx.utils.is_defined(M.data)?M.data:null;if(!Q){if(O.length===1){S.text(O[0]);P.addClass("expanded disable-div").removeClass("collapsed");ah.css({display:"block"})}else{if(O.length>1){var ae=$("<div>").addClass("filter-dropdown-arrow").appendTo(ab);var af=$("<div>").addClass("filter-dropdown-list").appendTo(ab);$("<div>").addClass("dropdown-option filter-option empty-filter").append("").appendTo(af);O=O.sort();for(var J=0;J<O.length;J++){$("<div>").addClass("dropdown-option filter-option").append(O[J]).appendTo(af)}}}}else{if(G){var af=$("<div>").addClass("filter-dropdown-list").appendTo(ab);var V=this._filter_properties[M.dependent_on].data[0];this._render_dependant_filters(M,V,Z,af)}}}else{if(this._filter_components_type[Z]==="text_box"){var F=$("<div>");var I=$('<input name="source">').appendTo(F);ah.append(F)}}}}};rdx.systemlog_view.prototype.get_resource_response_arrived=function(b){if(this._message_source==="db"){this._handle_log_messages(b)}else{this._populate_response(b)}};rdx.systemlog_view.prototype._handle_log_messages=function(o){var p=null;var q=this;if(rdx.utils.is_defined(q._view_definition.view_context)){q._pageno=q._view_definition.view_context.custom.pageno}if(q._message_source==="db"){var n=this._message_resource_name;var h=o[n]?o[n]:o;var m=(h.length==q._pagesize)?q._pageno+1:-1;var l=(q._pageno>1)?q._pageno-1:-1;p={messages:h,prev:l,next:m,count:h.length}}else{p=o}this._display_log_messages(p)};rdx.systemlog_view.prototype._populate_response=function(b){b=rdx.utils.get_formatted_response(b);this._directory_name=b.log_directory;this._default_file_name=b.default_log_file;this._prefilled_data=this._base_view.get_view_context().get_app_context_data();if(rdx.utils.is_defined(this._prefilled_data)&&rdx.utils.is_defined(this._prefilled_data.syslog_filter)&&rdx.utils.is_defined(this._prefilled_data.syslog_filter.file_name)){if(rdx.utils.is_not_defined(this._file_name)){this._file_name=this._prefilled_data.syslog_filter.file_name}}else{if(rdx.utils.is_defined(this._view_definition.default_file_name)){if(rdx.utils.is_not_defined(this._file_name)){this._file_name=this._view_definition.default_file_name}}else{if(rdx.utils.is_not_defined(this._file_name)){this._file_name=this._default_file_name}}}this._dir_div.empty();this._dir_div.append(this._directory_name);this._display_files(b.files);this._get_syslog_messages([this._file_name,this._start_index])};rdx.systemlog_view.prototype._display_files=function(t){this._file_div.empty();var u=$("<div>").addClass("filelist-dropdown-container");var q=$("<div>").addClass("filelist-dropdown-label").appendTo(u);var p=$("<div>").addClass("filelist-dropdown-arrow").appendTo(u);var x=$("<div>").addClass("filelist-dropdown-list").appendTo(u);this._file_div.append(u);for(var s=0;s<t.length;s++){var v=t[s];var w=v.name;if(w===this._default_file_name){var o=w+" ["+rdx.i18n.get_string("rdx.current_label")+"]"}else{var o=w+" ["+v.file_last_modified_time+"]"}var n=$("<div>").addClass("dropdown-option file-option").attr("data-file_name",w).append(o).appendTo(x);if(w===this._file_name){n.addClass("selected")}}q.append(this._file_name)};rdx.systemlog_view.prototype._get_syslog_messages=function(n){var p=this;this._file_resource=rdx.utils.get_resource(this._message_resource_name);var s={};var w={};var o=this._view_definition.message_resource_url_params;var q=this._file_resource.primary_keys;if(rdx.utils.is_defined(o)){for(var u=0;u<q.length;u++){w[q[u]]=n[u]}}else{o=this._view_definition.view_context;if(this._view_definition.view_properties.pagination){o.custom={pageno:p._pageno,pagesize:p._pagesize}}if(rdx.utils.is_defined(n)){w=n}}var x=new rdx.context();x.set_context_data(w,o);s=x.get_url_params();var t=new rdx.callback(this,this._handle_log_messages);var v=new rdx.callback(this,this._fetch_error);this._log_container.empty();this._refresh_div.show();if(this._message_source==="db"){this._all_log_elements=[];$(".clear-search",this._search_div).trigger("click")}rdx.model.get(this._file_resource,s,t,null,v)};rdx.systemlog_view.prototype._fetch_error=function(b){if(b===undefined){rdx.message_box.error("Could not process the file. File size is too large.")}else{rdx.message_box.error(b)}this._no_mesg_container.hide();this._refresh_div.hide();return};rdx.systemlog_view.prototype._display_log_messages=function(aV){this._no_mesg_container.hide();this._log_container.empty();this._log_container.hide();this._page_number_span.empty();var av=aV[this._message_resource_name]?aV[this._message_resource_name]:aV;av=rdx.utils.get_formatted_response(av);var aM=av.messages;if(!rdx.utils.is_defined(aM)){return}this._prev_index=parseInt(av.prev);this._next_index=parseInt(av.next);this._count_of_messages=av.count||aM.length;this._appfw_profiles_for_bufferoverflow=[];var aN="";if(this._count_of_messages){this._log_of_appfw_type=false;for(var af=0;af<aM.length;af++){var au=aM[af];var aO="";var aF="";var ao="";var aH="";if(rdx.utils.is_defined(this._time_property)&&rdx.utils.is_defined(au[this._time_property])){var at=au[this._time_property];if(rdx.utils.is_defined(at)&&this._message_source==="db"){at=rdx.view_formatters.seconds_to_date_string_formatter({time:at},"time")}aO="data-"+this._time_property+"='"+au[this._time_property]+"'";aF='<div class="log-timestamp">'+at+"</div>"}else{aF='<div class="log-timestamp"></div>'}var aT="";if(rdx.utils.is_defined(this._severity_property)&&rdx.utils.is_defined(au[this._severity_property])){var aT=this._get_severity_string(au[this._severity_property]);aO=aO+" data-"+this._severity_property+"='"+au[this._severity_property]+"'"}if(rdx.utils.is_defined(au.host_name)){ao+=au.host_name}if(rdx.utils.is_defined(au.source)){ao+=(" ("+au.source+")")}if(rdx.utils.is_defined(au.device_family)){var aG=au.device_family;if(rdx.utils.is_defined(au.device_type)){var aC=au.device_type;aH=('<span class="log-lbl">Device Type:</span><span class="log-data">'+aC+"</span>")}}var al='<div class="log-source"> '+ao+"</div>";var aB='<div class="log-source"> '+aH+"</div>";var ap='<div class="log-info">'+aF+aT+al+aB+"</div>";var ar=rdx.utils.is_defined(au.full_message)?au.full_message:au.message;ar=rdx.utils.is_defined(ar)?this._encode_comparator_symbols(ar):"";var aW=au.module;var aj=au.event_type;var aQ=au.message;var aS=au.profile;var am=false;var ac=false;var aU="";var aI="";if(aj==="APPFW_XSS"||aj==="APPFW_SQL"||aj==="APPFW_FIELDCONSISTENCY"){aI=new RegExp(this._msg_field_pattern,"g");am=true}else{if(aj==="APPFW_BUFFEROVERFLOW_URL"||aj==="APPFW_BUFFEROVERFLOW_COOKIE"||aj==="APPFW_BUFFEROVERFLOW_HDR"){aI=new RegExp(this._buffer_overflow_pattern,"g");if($.inArray(aS,this._appfw_profiles_for_bufferoverflow)===-1&&rdx.utils.is_defined(aS)){this._appfw_profiles_for_bufferoverflow.push(aS)}am=true}else{if(aj==="APPFW_COOKIE"){aI=new RegExp(this._cookie_pattern,"g");am=true}else{if(aj==="APPFW_STARTURL"){ac=true;am=true}else{if(aj==="APPFW_CSRF_TAG"){var az=au.full_message;var aP=new RegExp("cs6=","g");var aq=az.search(aP);if(aq!==-1){var ak=az.substr(aq+4);var ai=ak.split(" ");this._context_data=ai[0];ac=true;am=true}}}}}}var aX=[];if(aI!==""&&aW==="APPFW"&&am&&rdx.utils.is_defined(au.request_url)){aX=aI.exec(aQ)}if(rdx.utils.is_defined(aX)&&aX.length){this._appfw_regex_field=aX[1];var aL=this._appfw_regex_field.length;if(this._appfw_regex_field[aL-1]==="\\"){this._appfw_regex_field=this._appfw_regex_field.substring(0,aL-1)}ac=true}if(aW==="APPFW"&&am&&rdx.utils.is_defined(au.request_url)&&ac){this._log_of_appfw_type=true;var aJ='<div class="log-description appfw-click-to-deploy">'+ar+"</div>";var aE="";if(rdx.utils.is_defined(this._appfw_regex_field)){aE='data-appfw_violation_field="'+this._appfw_regex_field+'"';this._appfw_regex_field=null}else{if(aj==="APPFW_CSRF_TAG"&&rdx.utils.is_defined(this._context_data)){aE='data-appfw_violation_field="'+this._context_data+'"';this._context_data=null}}aU='<div class="appfw-filter-checkbox"><div class="filter-check"></div></div>'}else{var aJ='<div class="log-description">'+ar+"</div>"}var ae="";for(var ag=0;ag<this._view_properties_array.length;ag++){var ax=this._view_properties_array[ag];var ad="data-"+ax;if(rdx.utils.is_defined(au[ax])){var aD=au[ax];if(ax==="session_id"&&(aD===""||aD==="-")){continue}else{ae=ae+'<span class="component-tag" data-prop="'+ax+'">'+this._systemlog_resource_properties[ax]+"</span>"}}}for(var ah=0;ah<this._resource_properties_array.length;ah++){var ax=this._resource_properties_array[ah];var ad="data-"+ax;if(rdx.utils.is_defined(au[ax])){var aD=au[ax];if(typeof aD==="string"){aD=this._encode_special_symbols(aD)}aO=aO+" "+ad+"='"+aD+"'"}}var aA='<div class="property-tags">'+ae+"</div>";if(aW==="APPFW"&&am&&rdx.utils.is_defined(au.request_url)&&ac){var an='<div class="log-detail clearfix">'+aJ+aU+aA+"</div>";aO=aO+" data-appfw_violation_message=1";aO=aO+" "+aE}else{var an='<div class="log-detail">'+aJ+aA+"</div>"}var aK='<div class="log-content clearfix"'+aO+">"+ap+an+"</div>";aN=aN+aK}this._log_container.html(aN);var aR=this;if(this._log_of_appfw_type){this._deploy_action_div.show();$(".appfw-filter-checkbox").bind(rdx.events.MOUSE_OVER,function(a){aR._show_appfw_violation_tooltips(a)});$(".appfw-filter-checkbox").bind(rdx.events.MOUSE_OUT,function(a){aR._remove_appfw_violation_tooltips(a)})}}else{this._no_mesg_container.html(rdx.i18n.get_string("rdx.no_records_found"));this._no_mesg_container.show()}this._remove_overlay();this._all_log_elements=$(".log-content");this._prefilled_data=this._base_view.get_view_context().get_app_context_data();if(rdx.utils.is_defined(this._prefilled_data)&&rdx.utils.is_defined(this._prefilled_data.syslog_filter)){this._refresh_div.show();this._log_container.hide();this._display_with_criteria(this._prefilled_data.syslog_filter)}else{this._refresh_div.hide();this._log_container.show();var ay=this._get_count_string(this._count_of_messages);this._result_count.empty();this._result_count.append(ay)}var aw=this._get_search_placeholder();this._search_input.attr("placeholder",aw);if(this._next_index>=0||this._prev_index>=0){if(this._filter_info_span){this._filter_info_span.show()}this._search_div.removeClass("action-bar-shadow");if(this._prev_index===-1){this._prev_span.removeClass("blue-pagination")}else{this._prev_span.attr("data-start",this._prev_index);this._prev_span.addClass("blue-pagination")}if(this._next_index===-1){this._next_span.removeClass("blue-pagination")}else{this._next_span.attr("data-start",this._next_index);this._next_span.addClass("blue-pagination")}this._pagination_div.show();var aY=this._get_page_number_string();this._page_number_span.append(aY)}else{if(this._next_index===-1&&this._prev_index===-1){if(this._filter_info_span){this._filter_info_span.hide()}this._pagination_div.hide()}}};rdx.systemlog_view.prototype._get_severity_string=function(d){d=this._message_source==="db"?this._get_severity_from_code(d):d;var f=d.toLowerCase();var e=this._to_title_case(f);return'<div class="severity"><span class="'+f+'">'+e+"</span></div>"};rdx.systemlog_view.prototype._get_severity_from_code=function(d){if(rdx.utils.is_defined(this._view_definition.view_properties.features.filter.filter_properties.severity.data)){var f=this._view_definition.view_properties.features.filter.filter_properties.severity.data;var e=parseInt(d);if(rdx.utils.is_defined(f[d])){return f[d]}}return d};rdx.systemlog_view.prototype._to_title_case=function(b){return b.replace(/(?:^|\s)\w/g,function(a){return a.toUpperCase()})};rdx.systemlog_view.prototype._get_search_placeholder=function(){var b=rdx.i18n.get_string("rdx.search");if(this._next_index>=0||this._prev_index>=0){b=b+" "+rdx.i18n.get_string("rdx.in_the_current_page")}return b};rdx.systemlog_view.prototype._get_count_string=function(d){var f=parseInt(d);var e="";if(f<=1){e=" ("+f+" "+rdx.i18n.get_string("rdx.result_text")+")"}else{e=" ("+f+" "+rdx.i18n.get_string("rdx.results_text")+")"}return e};rdx.systemlog_view.prototype._get_page_number_string=function(){var b=this._message_source==="db"?this._pageno:(this._start_index/2000)+1;return"("+rdx.i18n.get_string("rdx.page_label")+" "+b+")"};rdx.systemlog_view.prototype._on_failure=function(){rdx.message_box.error(rdx.i18n.get_string("rdx.syslog_viewer_failed_error"));return};rdx.systemlog_view.prototype.get_view_context=function(){return this._base_view.get_view_context()};rdx.systemlog_view.prototype._clear_data=function(b){this._saved_parsed_component=null;this._selected_component=null;this._search_query=[];this._removed_search_query="";this._double_click_search="";this._filter_previously_performed=false;this._function_call_from_search=false;this._function_call_from_filter=false;this._clear_all_search=false;this._count_of_messages=0;this._filter_on={};if(!b){this._prev_index=-1;this._next_index=-1;this._start_index=0}this._sort_order="descending";this._appfw_deploy_counter=0;this._success_deployment_counter=0;this._failure_deployment_counter=0;this._failure_deployment_messages=[];this._appfw_profiles_for_bufferoverflow=[];this._appfw_profile_resources={};this._appfw_violation_count=0;if(rdx.utils.is_defined(this._log_violation_checkbox_help)){this._log_violation_checkbox_help.remove_tooltip()}if(rdx.utils.is_defined(this._appfw_action_menu_help)){this._appfw_action_menu_help.remove_tooltip()}};rdx.systemlog_view.prototype.close_view=function(d,c){this._clear_data(false);$(window).unbind("resize");$(window).unbind("scroll");this._log_container.unbind("resize");if(rdx.utils.is_not_defined(c)){c=d}this._base_view.destroy_view({submit_called:(rdx.utils.is_defined(c)&&c)},false)};rdx.systemlog_view.prototype.destroy_view=function(b){$(window).unbind("resize");$(window).unbind("scroll");this._log_container.unbind("resize")};rdx.systemlog_view.prototype.set_is_back_button_required=function(b){this.is_back_button_required=b};rdx.systemlog_view.prototype.register_event_handlers=function(){var d=this;var c;this._content_box_logs_container.bind(rdx.events.CLICK,{systemlog:this},function(a){d._log_container_selected(a)});if(d._message_source!=="db"){this._content_box_logs_container.bind(rdx.events.DOUBLE_CLICK,{systemlog:this},function(a){d._search_selected_text(a)})}this._search_component.bind("mouseover",{systemlog:this},function(a){d._change_cursor(a)});this._search_component.bind(rdx.events.CLICK,{systemlog:this},function(a){d._search_component_helper(a)});this._search_button.bind(rdx.events.CLICK,{systemlog:this},function(a){d._perform_search(a)});this._search_input.bind("keydown",{systemlog:this},function(a){d._key_press_event(a)});$(".file-ns-log").bind(rdx.events.CLICK,{systemlog:this},function(a){d._download_selected_file_contents(a)});this._reload_div.bind(rdx.events.CLICK,{systemlog:this},function(a){d._reload_page(a)});this._more_div.bind(rdx.events.CLICK,{systemlog:this},function(a){d._show_advanced_search(a)});this._match_all_input.bind(rdx.events.CLICK,{systemlog:this},function(a){d._toggle_any_or_all_search(a)});this._match_any_input.bind(rdx.events.CLICK,{systemlog:this},function(a){d._toggle_any_or_all_search(a)});this._regex_input.bind(rdx.events.CLICK,{systemlog:this},function(a){d._uncheck_case_sensitive_option(a)});this._case_sensitive_input.bind(rdx.events.CLICK,{systemlog:this},function(a){d._uncheck_regex_option(a)});this._sort_dropdown_label.bind(rdx.events.CLICK,{systemlog:this},function(a){d._show_sorting_options(a)});this._sort_dropdown_arrow.bind(rdx.events.CLICK,{systemlog:this},function(a){d._show_sorting_options(a)});this._dropdown_overlay.bind(rdx.events.CLICK,{systemlog:this},function(a){d._remove_overlay()});this._deploy_dropdown_label.bind(rdx.events.CLICK,{systemlog:this},function(a){d._show_deploy_options(a)});this._deploy_dropdown_arrow.bind(rdx.events.CLICK,{systemlog:this},function(a){d._show_deploy_options(a)});$(".deploy-dropdown-option").bind(rdx.events.CLICK,{systemlog:this},function(a){d._select_option_and_deploy(a)});$(".deploy-dropdown-option").bind(rdx.events.MOUSE_OVER,{systemlog:this},function(a){d._show_appfw_action_menu_tooltips(a)});$(".deploy-dropdown-option").bind(rdx.events.MOUSE_OUT,{systemlog:this},function(a){d._remove_appfw_action_menu_tooltips(a)});$(".sort-order-option").bind(rdx.events.CLICK,{systemlog:this},function(a){d._select_option_and_sort(a)});if(this._enable_filters){this._filter_content.bind(rdx.events.CLICK,{systemlog:this},function(a){d._show_filter_options(a)});$(".filter-dropdown-container").bind(rdx.events.CLICK,{systemlog:this},function(a){d._show_filter_dropdown(a)});$(".filter-dropdown-list").bind(rdx.events.CLICK,{systemlog:this},function(a){d._select_and_display_filters(a)});$(".dependent-type-filters").bind(rdx.events.CLICK,{systemlog:this},function(a){d._check_multiple_filters(a)});this._filter_button.bind(rdx.events.CLICK,{systemlog:this},function(a){d._apply_filters(a)});$(".clear-all-filters").bind(rdx.events.CLICK,{systemlog:this},function(a){d._clear_all_filters(a,true)})}this._pagination_div.bind(rdx.events.CLICK,{systemlog:this},function(a){d._do_pagination(a)});$(window).bind("resize",function(){clearTimeout(c);c=setTimeout(function(){d._calculate_widths()},50)});$(window).bind("scroll",function(){var b=rdx.page.get_sticky_header()?rdx.page.get_header_height():0;if($(this).scrollTop()>=($(".systemlog_view .page-content-syslog").offset().top-b)){if($(".fixed-box-title").length===0){d._content_box_header.addClass("fixed-box-title")}if($(".fixed-action-bar").length===0){d._search_div.addClass("fixed-action-bar")}if($(".fixed-adv-search-bar").length===0){d._search_properties_div.addClass("fixed-adv-search-bar")}if($(".fixed-pagination-bar").length===0){d._pagination_div.addClass("fixed-pagination-bar");if(d._search_properties_div.is(":hidden")){var a=80+b;d._pagination_div.css({top:a+"px"})}else{var a=115+b;d._pagination_div.css({top:a+"px"})}}if(d._message_source==="file"&&d._enable_filters&&$(".fixed-file-section").length===0){d._file_box.addClass("fixed-file-section")}if(d._enable_filters&&$(".fixed-filter-section").length===0){d._filter_box.addClass("fixed-filter-section")}if(d._enable_filters&&d._message_source==="db"){d._filter_box.css("top","0px")}d._calculate_widths()}else{d._content_box_header.removeClass("fixed-box-title");d._search_div.removeClass("fixed-action-bar");d._search_properties_div.removeClass("fixed-adv-search-bar");d._pagination_div.removeClass("fixed-pagination-bar");d._pagination_div.css("top","");if(d._file_box){d._file_box.removeClass("fixed-file-section")}if(d._filter_box){d._filter_box.removeClass("fixed-filter-section")}d._content_box_header.width("auto");d._search_div.width("auto");d._search_properties_div.width("auto");d._pagination_div.width("auto")}})};rdx.systemlog_view.prototype.do_scroll_top=function(){$(window).scrollTop(0)};rdx.systemlog_view.prototype._log_container_selected=function(d){if(!rdx.utils.is_defined(d)){return}var c=this._get_target(d);if(c.hasClass("appfw-filter-checkbox")||c.hasClass("filter-check")){this._process_appfw_operation(d)}else{if(c.hasClass("component-tag")){this._parsed_property_selected(d)}else{return}}};rdx.systemlog_view.prototype._show_appfw_violation_tooltips=function(d){if(!rdx.utils.is_defined(d)){return}var f=this._get_target(d);if(rdx.utils.is_defined(this._log_violation_checkbox_help)){this._log_violation_checkbox_help.remove_tooltip()}this._log_violation_checkbox_help=new rdx.tooltip(f);var e={};e.message=rdx.i18n.get_string("rdx.appfw_checkbox_violation_message");this._log_violation_checkbox_help.render(e)};rdx.systemlog_view.prototype._remove_appfw_violation_tooltips=function(b){if(rdx.utils.is_defined(this._log_violation_checkbox_help)){this._log_violation_checkbox_help.remove_tooltip()}};rdx.systemlog_view.prototype._show_appfw_action_menu_tooltips=function(e){if(!rdx.utils.is_defined(e)){return}var g=this._get_target(e);if(rdx.utils.is_defined(this._appfw_action_menu_help)){this._appfw_action_menu_help.remove_tooltip()}this._appfw_action_menu_help=new rdx.tooltip(g);var f={};var h=g.attr("data-deploy_type");if(h==="edit"){f.message=rdx.i18n.get_string("rdx.appfw_edit_and_deploy_violation_message")}else{if(h==="deploy"){f.message=rdx.i18n.get_string("rdx.appfw_deploy_violation_message")}else{if(h==="deploy_all"){f.message=rdx.i18n.get_string("rdx.appfw_deploy_all_violation_message")}}}this._appfw_action_menu_help.render(f)};rdx.systemlog_view.prototype._remove_appfw_action_menu_tooltips=function(b){if(rdx.utils.is_defined(this._appfw_action_menu_help)){this._appfw_action_menu_help.remove_tooltip()}};rdx.systemlog_view.prototype._process_appfw_operation=function(x){if(!rdx.utils.is_defined(x)){return}var p=this._get_target(x);var w=p;if(p.hasClass("appfw-filter-checkbox")){w=$(p.children(".filter-check"))}while(true){if(p.hasClass("log-content")){break}p=p.parent()}var o=this._deploy_dropdown_list.children(".deploy-dropdown-option");var n=null;var u=null;for(var q=0;q<o.length;q++){if($(o[q]).attr("data-deploy_type")==="edit"){n=$(o[q])}else{if($(o[q]).attr("data-deploy_type")==="deploy"){u=$(o[q])}}}if(w.hasClass("checked")){w.removeClass("checked");this._appfw_deploy_counter--;p.removeAttr("data-appfw_edit_violation");p.removeAttr("data-appfw_deploy_violation");this._last_edit_deploy_target=null;if(this._appfw_deploy_counter===0){if(rdx.utils.is_defined(n)){n.addClass("deploy-disabled")}if(rdx.utils.is_defined(u)){u.addClass("deploy-disabled")}}else{if(this._appfw_deploy_counter===1){if(rdx.utils.is_defined(n)){n.removeClass("deploy-disabled")}var v=$(".log-content:visible");for(var t=0;t<v.length;t++){var s=$(v[t]);if(rdx.utils.is_defined(s.attr("data-appfw_deploy_violation"))){s.attr("data-appfw_edit_violation",1);this._last_edit_deploy_target=s;break}}}}}else{w.addClass("checked");this._appfw_deploy_counter++;if(this._appfw_deploy_counter===1){p.attr("data-appfw_edit_violation",1);p.attr("data-appfw_deploy_violation",1);this._last_edit_deploy_target=p;if(rdx.utils.is_defined(n)){n.removeClass("deploy-disabled")}if(rdx.utils.is_defined(u)){u.removeClass("deploy-disabled")}}else{if(rdx.utils.is_defined(this._last_edit_deploy_target)){this._last_edit_deploy_target.removeAttr("data-appfw_edit_violation");this._last_edit_deploy_target=null}p.attr("data-appfw_deploy_violation",1);if(rdx.utils.is_defined(n)){n.addClass("deploy-disabled")}}}};rdx.systemlog_view.prototype._show_deploy_options=function(b){if(this._dropdown_overlay.is(":hidden")){this._deploy_dropdown_list.show();this._dropdown_overlay.show()}else{this._remove_overlay()}};rdx.systemlog_view.prototype._select_option_and_deploy=function(p){var o=this._get_target(p);if(o.hasClass("deploy-disabled")){return}this._remove_overlay();var s=o.text();var m=o.attr("data-deploy_type");o.parent().children(".deploy-dropdown-option").removeClass("selected");o.addClass("selected");this._deploy_dropdown_label.text(s);var q=$(".log-content:visible");this._appfw_bufferflow_violation_occured=false;this._appfw_violation_count=0;for(var t=0;t<q.length;t++){var l=$(q[t]);var n=l.attr("data-event_type");if((m==="edit"&&rdx.utils.is_defined(l.attr("data-appfw_edit_violation"))||(m==="deploy"&&rdx.utils.is_defined(l.attr("data-appfw_deploy_violation")))||(m==="deploy_all"&&rdx.utils.is_defined(l.attr("data-appfw_violation_message"))))){this._appfw_violation_count++;if(n==="APPFW_BUFFEROVERFLOW_URL"||n==="APPFW_BUFFEROVERFLOW_COOKIE"||n==="APPFW_BUFFEROVERFLOW_HDR"){this._appfw_bufferflow_violation_occured=true}}}if(this._appfw_bufferflow_violation_occured){this._fetch_profile_data_for_bufferoverflow(m,q)}else{this._scan_and_deploy_rules(m,q)}};rdx.systemlog_view.prototype._fetch_profile_data_for_bufferoverflow=function(l,m){var h=this;var n=new rdx.model_executor_service(new rdx.callback(h,h._edit_and_deploy_appfw_violation,[l,m]),null,true,null);if(rdx.utils.is_defined(this._appfw_profiles_for_bufferoverflow)&&this._appfw_profiles_for_bufferoverflow.length){var q="appfwprofile";this._appfw_resource=rdx.utils.get_resource(q);for(var o=0;o<this._appfw_profiles_for_bufferoverflow.length;o++){n.add(rdx.model_constants.GET,this._appfw_resource,null,null,this._appfw_profiles_for_bufferoverflow[o],null,null,true)}}var p=n.pending_requests_count();if(p){n.execute()}};rdx.systemlog_view.prototype._edit_and_deploy_appfw_violation=function(o,m,s){var p=o.get_collated_response();this._appfw_profile_resources={};for(var t=0;t<p.length;t++){if(rdx.utils.is_defined(p[t]["appfwprofile"])){var q=p[t]["appfwprofile"][0];if(rdx.utils.is_defined(q)){for(var l in q){if(q.hasOwnProperty(l)&&l==="name"){var n=q[l];this._appfw_profile_resources[n]=q;break}}}}}this._scan_and_deploy_rules(m,s)};rdx.systemlog_view.prototype._scan_and_deploy_rules=function(v,t){if(this._appfw_violation_count<=5){this._appfw_violation_count=5}var m=this;var n=new rdx.model_executor_service(new rdx.callback(m,m._appfw_deploy_success_from_log),new rdx.callback(m,m._appfw_deploy_failure_from_log),true,{progress_bar:true,display_rows:this._appfw_violation_count});var p=0;for(var s=0;s<t.length;s++){var q=$(t[s]);var u=q.attr("data-event_type");if(v==="edit"&&rdx.utils.is_defined(q.attr("data-appfw_edit_violation"))){this._get_appfw_violation_data(v,q,n);return}else{if((v==="deploy"&&rdx.utils.is_defined(q.attr("data-appfw_deploy_violation")))||(v==="deploy_all"&&rdx.utils.is_defined(q.attr("data-appfw_violation_message")))){this._get_appfw_violation_data(v,q,n)}}}var o=n.pending_requests_count();if(o){n.execute()}};rdx.systemlog_view.prototype._get_appfw_violation_data=function(ad,ah,Z){var ag=ah.attr("data-appfw_violation_field");var O=ah.attr("data-event_type");var N=ah.attr("data-request_url");var ae=ah.attr("data-profile");var Q=ah.attr("data-message");var af=new RegExp(this._cookie_pattern,"g");var M,al,ab,J;if(O==="APPFW_FIELDCONSISTENCY"){M=Q.substr(Q.indexOf("failed for field")+"failed for field ".length);M=M.replace("\\","")}else{if(O==="APPFW_XSS"||O==="APPFW_SQL"){M=Q.substr(Q.indexOf("failed for field")+"failed for field ".length);M=M.substring(0,M.indexOf("\\"))}else{if(O==="APPFW_BUFFEROVERFLOW_URL"||O==="APPFW_BUFFEROVERFLOW_COOKIE"||O==="APPFW_BUFFEROVERFLOW_HDR"){af=new RegExp(this._buffer_overflow_pattern,"g");al=af.exec(Q);M=al&&al[1]}else{if(O==="APPFW_COOKIE"){M=Q.substr(Q.indexOf("failed for")+"failed for ".length);M=M.replace("\\","")}}}}var U="";this._action_key="";var ac="";var S=O;if(O==="APPFW_BUFFEROVERFLOW_URL"||O==="APPFW_BUFFEROVERFLOW_COOKIE"||O==="APPFW_BUFFEROVERFLOW_HDR"){S="APPFW_BUFFEROVERFLOW_"}var I=appfw.profile_action_keys;for(var W=0;W<I.length;W++){var R=I[W];for(var P in R){if(R.hasOwnProperty(P)&&R.filter===S){this._action_key=R.key;ac=R.learn}}}if(rdx.utils.is_defined(ag)){U=ag}if(S==="APPFW_BUFFEROVERFLOW_"){this._deploy_bufferoverflow_violation(ad,Z,ae,this._action_key,O,U);return}var ai=appfw.get_relax_binding_from_action_key(this._action_key);this._relax_resrc=rdx.utils.get_resource(ai);var aa={};var am,aj;if(O==="APPFW_XSS"||O==="APPFW_SQL"){U=Q.substr(Q.indexOf("failed for ")+"failed for ".length);U=U.substring(0,U.indexOf(" "));if(O==="APPFW_XSS"){am=Q.substr(Q.indexOf('="Bad ')+'="Bad '.length);aj=am.split(":");ab=aj[0];J=aj[1];J=J.replace(/"+$/,"");aa.value_type=ab;aa.value=J}else{am=Q.substr(Q.indexOf("SQL ")+"SQL ".length);am=am.substring(0,am.indexOf(" "));if(am=="SpecialStr"){aa.value_type="SpecialString";aa.value=Q.substring((Q.indexOf("("))+1,Q.indexOf(")"))}else{if(am=="Keyword"||am=="Wildchar"){aa.value_type=am;if(Q.indexOf('\\="..')>=0){if(Q.indexOf("(")>=0){aa.value=Q.substring((Q.indexOf('\\="..'))+'\\="..'.length,Q.indexOf("("))}else{aa.value=Q.substring((Q.indexOf('\\="..'))+'\\="..'.length)}}else{if(Q.indexOf("(")>=0){aa.value=Q.substring((Q.indexOf('\\="'))+'\\="'.length,Q.indexOf("("))}else{aa.value=Q.substring((Q.indexOf('\\="'))+'\\="'.length)}}}}}}aa.binding_detail_view={};aa.hits="";aa.loc=U;aa.profilename=ae;aa.securitycheck=ac;aa.name=M;if((S==="APPFW_XSS"||S==="APPFW_SQL")&&N!==""){if(N.indexOf("?")!==-1){var ak=N.split("?");N=ak[0]}}aa.url=N;switch(S){case"APPFW_STARTURL":aa.fieldname="";break;case"APPFW_XSS":aa.fieldname="Field";break;case"APPFW_SQL":aa.fieldname="Field";break;case"APPFW_FIELDCONSISTENCY":aa.fieldname="Field";break;case"APPFW_COOKIE":aa.fieldname="Cookie";aa.url="";break;case"APPFW_CSRF_TAG":aa.fieldname="";aa.action_url=N;aa.url=U;break}aa.f__orig=$.extend(true,{},aa);this._relax_data=appfw.get_learn_data_for_deploy(aa,this._action_key,null);var T="";var V="";switch(S){case"APPFW_STARTURL":T="starturl";break;case"APPFW_XSS":T="formactionurl_xss";break;case"APPFW_SQL":T="formactionurl_sql";break;case"APPFW_FIELDCONSISTENCY":T="formactionurl_ffc";break;case"APPFW_COOKIE":T="cookieconsistency";break;case"APPFW_CSRF_TAG":T="csrfformactionurl";V="csrftag";break}var an=this._relax_data[T];this._relax_data.comment=rdx.i18n.get_string("rdx.deployed_from_syslog_viewer");this._relax_data.state="ENABLED";var K=this;if(ad==="edit"&&rdx.utils.is_defined(this._relax_data)&&this._action_key!==""){this._relax_data.source_for_edit_op="SyslogViewer";var L=appfw.get_learn_edit_deploy_view_name(this._action_key);rdx.view_utils.show_view_in_slider(rdx.utils.get_view(L),new rdx.callback(K,K._restore_deploy_dropdown_options),this._relax_data,{is_data_set:true})}else{if((ad==="deploy"||ad==="deploy_all")&&rdx.utils.is_defined(this._relax_data)&&this._relax_resrc!==""){Z.add(rdx.model_constants.ADD,this._relax_resrc,this._relax_data,null,null,null,{})}}};rdx.systemlog_view.prototype._appfw_deploy_success_from_log=function(b){this._restore_deploy_dropdown_options()};rdx.systemlog_view.prototype._appfw_deploy_failure_from_log=function(b){this._restore_deploy_dropdown_options()};rdx.systemlog_view.prototype._restore_deploy_dropdown_options=function(){this._deploy_dropdown_label.text("");this._deploy_dropdown_list.children(".deploy-dropdown-option").removeClass("selected")};rdx.systemlog_view.prototype._deploy_bufferoverflow_violation=function(u,w,y,B,F,C){var x=this._appfw_profile_resources[y];if(rdx.utils.is_not_defined(x)){return}appfw.set_cur_profile_name(x.name);appfw.set_cur_profile_resrc(x);var D=appfw.get_profile_type_key(x.type);appfw.set_cur_profile_type(D);appfw.set_cur_action_key(B);var E=parseInt(C);var A=false;if(F==="APPFW_BUFFEROVERFLOW_URL"){var H=x.bufferoverflowmaxurllength;if(E>H){A=true;x.bufferoverflowmaxurllength=E}}else{if(F==="APPFW_BUFFEROVERFLOW_COOKIE"){var H=x.bufferoverflowmaxcookielength;if(E>H){A=true;x.bufferoverflowmaxcookielength=E}}else{if(F==="APPFW_BUFFEROVERFLOW_HDR"){var H=x.bufferoverflowmaxheaderlength;if(E>H){A=true;x.bufferoverflowmaxheaderlength=E}}}}var t=this;if((u==="deploy"||u==="deploy_all")&&A){var z={};z[B]=x.action_key;z.name=x.name;z.bufferoverflowmaxurllength=x.bufferoverflowmaxurllength;z.bufferoverflowmaxcookielength=x.bufferoverflowmaxcookielength;z.bufferoverflowmaxheaderlength=x.bufferoverflowmaxheaderlength;w.add(rdx.model_constants.SET,this._appfw_resource,z,null,null,null,{})}else{if(u==="edit"){var v={};v.action_key=B;v.check_name="Buffer Overflow";v.block=x.block;v.log=x.log;v.remove=x.remove;v.stats=x.stats;v.xout=x.xout;v.check_type="Common";v.learn="disabled";v.more=">>";v.name=x.name;var G=appfw.get_check_setting_view_name(B);rdx.view_utils.show_view_in_slider(rdx.utils.get_view(G),new rdx.callback(t,t._restore_deploy_dropdown_options),v,{is_data_set:true})}else{this._restore_deploy_dropdown_options()}}};rdx.systemlog_view.prototype._parsed_property_selected=function(G){if(!rdx.utils.is_defined(G)){return}var D=this._get_target(G);var I=null;if(D.hasClass("component-grey-tag")){D.removeClass("component-grey-tag");while(true){if(D.hasClass("log-detail")){break}D=D.parent()}var y=D.children(":first");var E=y.text();E=this._encode_comparator_symbols(E);E=this._get_complete_pattern(y,E);this._saved_parsed_component=D;y.html(E)}else{var u=D.data("prop");var A=D.siblings("span.component-tag");if(A.hasClass("component-grey-tag")){A.removeClass("component-grey-tag")}else{if(rdx.utils.is_defined(this._saved_parsed_component)){var y=this._saved_parsed_component.children(":first");var E=y.text();E=this._encode_comparator_symbols(E);E=this._get_complete_pattern(y,E);y.html(E);var J=this._saved_parsed_component.children(":nth-child(2)");var w=J.children();for(var F=0;F<w.length;F++){var z=$(w[F]);if(z.hasClass("component-grey-tag")){z.removeClass("component-grey-tag");break}}}}D.addClass("component-grey-tag");while(true){if(D.hasClass("log-content clearfix")){break}if(D.hasClass("log-detail")){I=D}D=D.parent()}var y=I.children(":first");var x=D.data(u);var C=y.text();C=this._encode_comparator_symbols(C);if(typeof x==="string"){x=this._encode_comparator_symbols(x)}var v=x;if(u==="event_id"){v=new RegExp("\\s"+x+"\\s","g");var B=C.search(v);if(B!==-1){C=C.replace(v,' <span class="keyword">'+x+"</span> ")}else{v=new RegExp("cn1="+x,"g");var H=C.search(v);if(H!==-1){C=C.replace(v,'cn1=<span class="keyword">'+x+"</span>")}else{v=new RegExp("\\["+x+"\\]","g");C=C.replace(v,'[<span class="keyword">'+x+"</span>]")}}}else{if(u==="transaction_id"){v=new RegExp("\\s"+x+"-","g");var B=C.search(v);if(B!==-1){C=C.replace(v,' <span class="keyword">'+x+"</span>-")}else{v=new RegExp("cn2="+x,"g");C=C.replace(v,'cn2=<span class="keyword">'+x+"</span>")}}else{C=C.replace(v,'<span class="keyword">'+x+"</span>")}}C=this._get_complete_pattern(y,C);this._saved_parsed_component=I;y.html(C)}};rdx.systemlog_view.prototype._get_target=function(d){var c=d.target||d.srcElement||d.originalTarget;return $(c)};rdx.systemlog_view.prototype._encode_comparator_symbols=function(b){return b.replace(/</g,"&lt;").replace(/>/g,"&gt;")};rdx.systemlog_view.prototype._encode_special_symbols=function(b){return b.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};rdx.systemlog_view.prototype._get_complete_pattern=function(o,n){var p=$(o).find(".search");if(p.length){var l={};for(var q=0;q<p.length;q++){if(!l[$(p[q]).text()]){l[$(p[q]).text()]=true}}for(var h in l){if(l.hasOwnProperty(h)){var m=new RegExp(h,"g");n=n.replace(m,'<span class="search">'+h+"</span>")}}}return n};rdx.systemlog_view.prototype._search_selected_text=function(e){var h=this._get_target(e);if(h.hasClass("property-tags")||h.hasClass("component-tag")||h.hasClass("info")||h.hasClass("err")||h.hasClass("debug")||h.hasClass("emergency")||h.hasClass("alert")||h.hasClass("critical")||h.hasClass("warn")||h.hasClass("notice")){return}var g=this._get_selected_text();var f=$.trim(g);if(!f){return}if(g&&g.removeAllRanges){g.removeAllRanges()}if($.inArray(f,this._search_query)===-1){this._search_query.push(f)}else{return}this._double_click_search=f;this._perform_search(e)};rdx.systemlog_view.prototype._get_selected_text=function(){var b="";if(window.getSelection){b=window.getSelection()}else{if(document.getSelection){b=document.getSelection()}else{if(document.selection){b=document.selection.createRange().text}}}return b};rdx.systemlog_view.prototype._change_cursor=function(b){this._search_component.css("cursor","text")};rdx.systemlog_view.prototype._search_component_helper=function(d){var c=this._get_target(d);if(c.hasClass("clear-search")){this._clear_search_queries(c,d)}else{if(c.hasClass("clear-search-item")){this._remove_search_query(c,d)}else{if(c.hasClass("search-component")){this._search_input.focus()}}}return};rdx.systemlog_view.prototype._clear_search_queries=function(c,d){this._clear_all_search=true;this._search_input.val("");$(c).parent().children(".search-block").remove();this._perform_search(d)};rdx.systemlog_view.prototype._remove_search_query=function(g,h){this._search_input.val("");var f=g.siblings(".search-item").children(".search-value").text();if(this._search_query.length===1){this._removed_search_query=f}else{var e=$.inArray(f,this._search_query);if(e!==-1){this._search_query.splice($.inArray(f,this._search_query),1)}}$(g).parent(".search-block").remove();this._perform_search(h)};rdx.systemlog_view.prototype._perform_search=function(d){if(!rdx.utils.is_defined(d)){this._result_elements=this._all_log_elements;return}var f=$.trim(this._search_input.val());if(!f&&!this._search_query.length){this._result_elements=this._all_log_elements;return}if(f){if($.inArray(f,this._search_query)===-1){this._search_query.push(f)}else{this._search_input.val("");this._result_elements=this._all_log_elements;return}}if(this._function_call_from_filter){this._populate_search_results(f,d)}else{this._no_mesg_container.hide();this._log_container.hide();this._refresh_div.show();var e=this;setTimeout(function(){e._populate_search_results(f,d)},100)}};rdx.systemlog_view.prototype._populate_search_results=function(S,P){if(this._function_call_from_filter||this._message_source==="db"){this._elements=this._all_log_elements}else{this._function_call_from_search=true;this._apply_filters(P);this._function_call_from_search=false;this._elements=this._result_elements}this._result_elements=[];if(this._double_click_search){S=this._double_click_search}if(this._search_query.length&&S){this._search_input.val("");this._search_input.attr("placeholder","");this._create_search_block(S)}var ad={};if(!this._removed_search_query&&!this._clear_all_search){for(var T=0;T<this._search_query.length;T++){var av=null;if(this._case_sensitive_input.length&&this._case_sensitive_input.attr("checked")){av=new RegExp(this._search_query[T],"g")}else{if(this._regex_input.length&&this._regex_input.attr("checked")){av=new RegExp("("+this._search_query[T]+")","gi")}else{var az=this._escapeRegExp(this._search_query[T]);av=new RegExp("("+az+")","gi")}}ad[this._search_query[T]]=av}}var ab=0;if(rdx.utils.is_defined(this._saved_parsed_component)){var ak=this._saved_parsed_component.children(":nth-child(2)");var at=ak.children();for(var U=0;U<at.length;U++){var am=$(at[U]);if(am.hasClass("component-grey-tag")){am.removeClass("component-grey-tag");break}}}for(var T=0;T<this._elements.length;T++){var ar=$(this._elements[T]);var ai=ar.children();var Q=ai[0];var ae=ai[1];var aa=$(Q).children(":first");var ay=aa.text();var au=$(ae).children(":first");var an=$(ae).children(":first").text();if(!this._removed_search_query&&!this._clear_all_search){var aA=false;var R=[];var ao=[];var aw=false;if(this._match_any_input.attr("checked")){for(var U=0;U<this._search_query.length;U++){var V=this._search_query[U];var av=ad[V];var ac=ay.search(av);if(ac!==-1){R.push(V);aw=true}var af=an.search(av);if(af!==-1){ao.push(V);aw=true}}}else{if(this._match_all_input.attr("checked")){for(var U=0;U<this._search_query.length;U++){var l=false;var V=this._search_query[U];var av=ad[V];var ac=ay.search(av);if(ac!==-1){l=true;R.push(V)}var af=an.search(av);if(af!==-1){ao.push(V)}else{if(!l){aw=false;R=[];ao=[];break}}}if(R.length||ao.length){aw=true}}}if(aw){++ab;for(var W=0;W<R.length;W++){var aj=R[W];var ax=ad[aj];if(this._case_sensitive_input.length&&this._case_sensitive_input.attr("checked")){ay=ay.replace(ax,'<span class="search">'+aj+"</span>")}else{if(this._regex_input.length&&this._regex_input.attr("checked")){ay=ay.replace(ax,'<span class="search">$1</span>')}else{ay=ay.replace(ax,'<span class="search">$1</span>')}}}aa.html(ay);an=this._encode_comparator_symbols(an);for(var Z=0;Z<ao.length;Z++){var al=this._encode_comparator_symbols(ao[Z]);var ap=ad[al];if(this._case_sensitive_input.length&&this._case_sensitive_input.attr("checked")){an=an.replace(ap,'<span class="search">'+al+"</span>")}else{if(this._regex_input.length&&this._regex_input.attr("checked")){an=an.replace(ap,'<span class="search">$1</span>')}else{an=an.replace(ap,'<span class="search">$1</span>')}}}au.html(an);ar.show();this._result_elements.push(ar)}else{ar.hide()}}else{++ab;aa.html(ay);an=this._encode_comparator_symbols(an);au.html(an);ar.show();this._result_elements.push(ar)}}var ag=this._get_search_placeholder();this._search_input.attr("placeholder",ag);if((this._removed_search_query&&(this._search_query.length===1))||this._clear_all_search){this._search_query=[];this._removed_search_query="";this._search_input.attr("placeholder",ag);this._clear_block.hide();this._clear_all_search=false}var ah=this._get_count_string(ab);this._double_click_search="";if(!this._function_call_from_filter){this._result_count.empty();this._result_count.append(ah);var aq="";if(!ab){if(this._next_index>=0||this._prev_index>=0){aq=" "+rdx.i18n.get_string("rdx.in_this_page")}this._no_mesg_container.html(rdx.i18n.get_string("rdx.no_records_found")+aq);this._no_mesg_container.show()}this._refresh_div.hide();$("html, body").animate({scrollTop:"0px"},0);this._log_container.show()}};rdx.systemlog_view.prototype._create_search_block=function(m){var f=$("<div>").addClass("search-block rollover");var h=$("<div>").addClass("search-item");var g=$("<div>").addClass("search-value").append(m).appendTo(h);var l=$("<span>").addClass("clear-search-item");f.append(l);f.append(h);f.insertBefore(this._search_input);if(this._clear_block.is(":hidden")){this._clear_block.show()}};rdx.systemlog_view.prototype._escapeRegExp=function(b){return b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};rdx.systemlog_view.prototype._key_press_event=function(b){if(!rdx.utils.is_defined(b)){return}if(b.which===13){this._perform_search(b)}else{if(b.which===8&&!this._search_input.val().length){this._remove_search_phrase(b)}}};rdx.systemlog_view.prototype._remove_search_phrase=function(h){if(!rdx.utils.is_defined(h)){return}var g=this._get_target(h);if(g.prev().hasClass("search-block")){g=g.prev();var f=g.children().find(".search-value").text();if(this._search_query.length===1){this._removed_search_query=f}else{var e=$.inArray(f,this._search_query);if(e!==-1){this._search_query.splice($.inArray(f,this._search_query),1)}}g.remove()}this._perform_search(h)};rdx.systemlog_view.prototype._show_file_list_dropdown=function(d){if(!rdx.utils.is_defined(d)){return}var c=this._get_target(d);if(!(c.hasClass("filelist-dropdown-container")||c.hasClass("filelist-dropdown-label")||c.hasClass("filelist-dropdown-arrow"))){return}$(".filelist-dropdown-list").show();if(this._dropdown_overlay.is(":hidden")){this._dropdown_overlay.show()}else{this._remove_overlay()}};rdx.systemlog_view.prototype._download_selected_file_contents=function(m){if(!rdx.utils.is_defined(m)){return}var l=this._get_target(m);var g=this;if(l.hasClass("filelist-dropdown-container")||l.hasClass("filelist-dropdown-label")||l.hasClass("filelist-dropdown-arrow")){$(".filelist-dropdown-list").show()}else{if(l.hasClass("filelist-dropdown-list")||l.hasClass("file-option")){var o=l.attr("data-file_name");this._file_name=o;var h=l.parent();var n=h.parent().children(".filelist-dropdown-label");h.children(".dropdown-option").removeClass("selected");$(n).text(o);l.addClass("selected");this._start_index=0;this._log_container.hide();this._no_mesg_container.hide();this._refresh_div.show();this._revert_settings(m,false);setTimeout(function(){g._get_syslog_messages([g._file_name,g._start_index])},100)}}if(this._dropdown_overlay.is(":hidden")){this._dropdown_overlay.show()}else{this._remove_overlay()}};rdx.systemlog_view.prototype._reload_page=function(d){if(!rdx.utils.is_defined(d)){return}this._log_container.hide();this._no_mesg_container.hide();this._refresh_div.show();var e=false;if(this._next_index>=0||this._prev_index>=0){e=true}this._revert_settings(d,e);this._log_container.empty();if(this._message_source==="db"){this.get_view_context().invalidate_data();this._get_syslog_messages();return}this._file_resource=rdx.utils.get_resource(this._view_definition.resource_name);var f=new rdx.callback(this,this._construct_response);rdx.model.get(this._file_resource,{},f)};rdx.systemlog_view.prototype._revert_settings=function(m,o){this._deploy_action_div.hide();this._edit_and_deploy_option.addClass("deploy-disabled");this._deploy_option.addClass("deploy-disabled");this._deploy_dropdown_label.text("");this._deploy_dropdown_list.children(".deploy-dropdown-option").removeClass("selected");this._remove_overlay();this._clear_data(o);if(!o){this._pagination_div.hide();if(this._search_properties_div.is(":hidden")){this._search_div.addClass("action-bar-shadow")}this._prev_span.removeClass("blue-pagination");this._prev_span.attr("data-start",this._prev_index);this._next_span.removeClass("blue-pagination");this._next_span.attr("data-start",this._next_index);this._filter_info_span.hide()}this._sort_dropdown_label.text(rdx.i18n.get_string("rdx.newest_first"));var g=this._sort_dropdown_list.children(".dropdown-option");for(var n=0;n<g.length;n++){$(g[n]).removeClass("selected");var h=$(g[n]).attr("data-sort_order");if(h==="descending"){$(g[n]).addClass("selected")}}var l=this._get_search_placeholder();this._search_input.attr("placeholder",l);this._search_component.children(".search-block").remove();this._search_input.attr("placeholder",l);this._clear_block.hide();this._result_count.empty();if(this._enable_filters){this._clear_all_filters(m,false);this._clear_filter.hide()}if(this._case_sensitive_input.length){this._case_sensitive_input.attr("checked",false)}if(this._regex_input.length){this._regex_input.attr("checked",false)}this._match_any_input.attr("checked",false);this._match_all_input.attr("checked",true)};rdx.systemlog_view.prototype._construct_response=function(d){var c=d[this._view_definition.resource_name];this.get_resource_response_arrived(c)};rdx.systemlog_view.prototype._show_advanced_search=function(b){if(!rdx.utils.is_defined(b)){return}if(this._search_properties_div.is(":hidden")){this._search_div.removeClass("action-bar-shadow");if(this._next_index===-1){this._search_properties_div.addClass("adv-search-shadow")}this._search_properties_div.slideDown(100)}else{this._search_properties_div.slideUp(100);this._search_properties_div.removeClass("adv-search-shadow");if(this._next_index===-1){this._search_div.addClass("action-bar-shadow")}}};rdx.systemlog_view.prototype._toggle_any_or_all_search=function(d){var c=this._get_target(d);if(c.attr("value")==="match_any"){this._match_all_input.attr("checked",false);this._match_any_input.attr("checked",true)}else{if(c.attr("value")==="match_all"){this._match_any_input.attr("checked",false);this._match_all_input.attr("checked",true)}}this._perform_search(d)};rdx.systemlog_view.prototype._uncheck_case_sensitive_option=function(b){if(this._case_sensitive_input.attr("checked")){this._case_sensitive_input.attr("checked",false)}};rdx.systemlog_view.prototype._uncheck_regex_option=function(b){if(this._regex_input.attr("checked")){this._regex_input.attr("checked",false)}};rdx.systemlog_view.prototype._show_sorting_options=function(b){if(this._dropdown_overlay.is(":hidden")){this._sort_dropdown_list.show();this._dropdown_overlay.show()}else{this._remove_overlay()}};rdx.systemlog_view.prototype._select_option_and_sort=function(h){this._remove_overlay();this._refresh_div.show();this._log_container.hide();var g=this._get_target(h);var f=this;var e=g.text();this._sort_order=g.attr("data-sort_order");g.parent(".dropdown-list").children(".dropdown-option").removeClass("selected");g.addClass("selected");this._selected_component=this._time_property;this._sort_dropdown_label.text(e);setTimeout(function(){f._sort_log_messages(h)},100)};rdx.systemlog_view.prototype._remove_overlay=function(){this._sort_dropdown_list.hide();this._dropdown_overlay.hide();$(".dropdown-list").hide();$(".filelist-dropdown-list").hide();$(".filter-dropdown-list").hide();this._deploy_dropdown_list.hide()};rdx.systemlog_view.prototype._sort_log_messages=function(f){if(!rdx.utils.is_defined(this._selected_component)){return}var d=$(".log-timestamp");var e=this;d.sort(function(b,c){var a=e._get_content_values(b,c);return e._get_comparison_value(e._sort_order,a[0],a[1])});d=d.map(function(){return $(this).closest(".log-content").get(0)});this._log_container.empty();this._log_container.append(d);this._log_container.show();this._refresh_div.hide()};rdx.systemlog_view.prototype._get_content_values=function(l,m){var h=[];var f=new Date($(l).text());var g=new Date($(m).text());h.push(f,g);return h};rdx.systemlog_view.prototype._get_comparison_value=function(d,f,e){if(d==="descending"){if(f<e){return 1}else{if(f>e){return -1}else{return 0}}}else{if(d==="ascending"){if(f>e){return 1}else{if(f<e){return -1}else{return 0}}}}return 0};rdx.systemlog_view.prototype._show_filter_options=function(y){var q=this._get_target(y);if(!(q.hasClass("filter-title")||q.hasClass("components-selected-name")||q.hasClass("component-name")||q.hasClass("clear-filter-item"))){return}var t=q;while(true){if(t.hasClass("filter-expandable")){break}t=t.parent()}if(t.hasClass("disable-div")){return}var v=t.attr("data-filter_component");var x=this._filter_components_type[v];if(q.hasClass("clear-filter-item")&&x==="multiple_checkbox"){var p=q.parent(".filter-item-block");var s=p.attr("data-filter_value");p.remove();var o=t.children(".multiple-filter-content");var w=$(o).children(".dependent-type-filters").find("div.filter-check");for(var u=0;u<w.length;u++){if(s===$(w[u]).attr("data-filter_name")){$(w[u]).removeClass("checked");break}}var z=t.children(".filter-title").children(".components-selected-name").children(".filter-item-block");$(z).first().css("margin-left","15px");return}if(t.hasClass("collapsed")){t.removeClass("collapsed").addClass("expanded");if(x==="check_list"||x==="text_box"){t.children(".filter-content").slideDown(100)}else{if(x==="multiple_checkbox"){t.children(".multiple-filter-content").slideDown(100)}}}else{t.removeClass("expanded").addClass("collapsed");if(x==="check_list"||x==="text_box"){t.children(".filter-content").slideUp(100)}else{if(x==="multiple_checkbox"){t.children(".multiple-filter-content").slideUp(100)}}}};rdx.systemlog_view.prototype._show_filter_dropdown=function(d){var c=this._get_target(d);if(c.hasClass("filter-dropdown-container")){c.children(".filter-dropdown-list").show()}else{if(c.hasClass("filter-dropdown-label")||c.hasClass("filter-dropdown-arrow")){c.siblings(".filter-dropdown-list").show()}}if(this._dropdown_overlay.is(":hidden")){this._dropdown_overlay.show()}else{this._remove_overlay()}};rdx.systemlog_view.prototype._select_and_display_filters=function(F){var w=this._get_target(F);if(!w.hasClass("filter-option")){return}var y=w.text();var z=w;var J=z;while(true){if(z.hasClass("filter-dropdown-container")){J=z}if(z.hasClass("filter-expandable")){break}z=z.parent()}w.siblings(".dropdown-option").removeClass("selected");$(J).children(".filter-dropdown-label").text(y);var C=z.attr("data-filter_component");if(!w.hasClass("empty-filter")){w.addClass("selected")}if(rdx.utils.is_not_defined(this._dependendee_context[C])){return}var E=$(this._dependendee_context[C]);var G=E.attr("data-filter_component");var x=this._filter_properties[G];var H=null;if(this._filter_components_type[G]==="multiple_checkbox"){var D=E.children(".multiple-filter-content");var H=$(D).children(".dependent-type-filters");var u=E.children(".filter-title").children(".components-selected-name");var I=$(u).children(".filter-item-block");for(var A=0;A<I.length;A++){$(I).remove()}$(H).empty()}else{if(this._filter_components_type[G]==="check_list"){var v=E.children(".filter-content").children(".filter-dropdown-container");var B=$(v).children(".filter-dropdown-label");var H=$(v).children(".filter-dropdown-list");$(H).empty()}}if(w.hasClass("empty-filter")){if(E.hasClass("expanded")){$(D).slideUp(200);E.removeClass("expanded").addClass("collapsed")}E.addClass("disable-div")}else{E.removeClass("disable-div");this._render_dependant_filters(x,y,G,H)}};rdx.systemlog_view.prototype._render_dependant_filters=function(s,t,z,A){if(rdx.utils.is_defined(s.dependent_data)){var v=s.dependent_data;var x=v[t];x=x.sort();if(this._filter_components_type[z]==="multiple_checkbox"){for(var w=0;w<x.length;w++){var p=$("<li />");var u=$("<div>").addClass("filter-checkbox").append(x[w]);var q=$("<div>").addClass("filter-check").attr("data-filter_name",x[w]);u.append(q);p.append(u);$(A).append(p)}}else{if(this._filter_components_type[z]==="check_list"){var B=$("<div>").addClass("dropdown-option filter-option empty-filter").append("");$(A).append(B);for(var w=0;w<x.length;w++){var y=$("<div>").addClass("dropdown-option filter-option").append(x[w]);$(A).append(y)}}}}};rdx.systemlog_view.prototype._check_multiple_filters=function(D){var u=this._get_target(D);if(!(u.hasClass("filter-checkbox")||u.hasClass("filter-check"))){return}var x=u;while(true){if(x.hasClass("filter-expandable")){break}x=x.parent()}var A=u;if(u.hasClass("filter-checkbox")){A=u.children(".filter-check")}var z=x.children(":first");var C=$(z).children(".components-selected-name");var w=A.attr("data-filter_name");var q=$(C).children(".filter-item-block");if($(A).hasClass("checked")){$(A).removeClass("checked");for(var y=0;y<q.length;y++){if(w===$(q[y]).attr("data-filter_value")){$(q[y]).remove();break}}}else{for(var y=0;y<q.length;y++){if(w===$(q[y]).attr("data-filter_value")){return}}$(A).addClass("checked");var t=$("<div>").addClass("filter-item-block").attr("data-filter_value",w);var s=$("<div>").addClass("filter-item");var B=$("<div>").addClass("filter-value").append(w).appendTo(s);var v=$("<span>").addClass("clear-filter-item");t.append(v);t.append(s);if(!q.length){$(t).css("margin-left","15px")}$(C).append(t)}$(q).first().css("margin-left","15px")};rdx.systemlog_view.prototype._apply_filters=function(C){this._filter_on={};var D=this._filter_context_objects;for(var u in D){if(D.hasOwnProperty(u)){var q=D[u];if(this._filter_components_type[u]==="check_list"&&!$(q).hasClass("disable-div")){var x=$(q).children(".filter-content").children(".filter-dropdown-container").find(".filter-dropdown-label");var w=$(x).text();if($.trim(w)){this._filter_on[u]=[w]}}else{if(this._filter_components_type[u]==="multiple_checkbox"){var B=$(q).children(".filter-title").children(".components-selected-name").children(".filter-item-block");if(!B.length){continue}for(var y=0;y<B.length;y++){var w=$(B[y]).attr("data-filter_value");if(!$.trim(w)){continue}if(rdx.utils.is_defined(this._filter_on[u])){this._filter_on[u].push(w)}else{this._filter_on[u]=[w]}}}else{if(this._filter_components_type[u]==="text_box"){var v=$("input[name="+u+"]",q).val();if($.trim(v)){this._filter_on[u]=[v]}}}}}}if(this._message_source==="db"){this._pageno=1;if(this._filter_on.severity){var s=this._filter_on.severity;for(var A=0;A<s.length;A++){s[A]=this._view_definition.view_properties.features.filter.filter_properties.severity.data.indexOf(s[A])}}this._filter_on=rdx.url_utils.convert_filter_object_to_regex_form(this._filter_on);this._get_syslog_messages(this._filter_on);return}if($.isEmptyObject(this._filter_on)&&!this._filter_previously_performed&&!this._search_query.length){this._result_elements=this._all_log_elements;this._refresh_div.hide();this._log_container.show();var z=this._get_count_string(this._count_of_messages);this._result_count.empty();this._result_count.append(z);return}if(this._function_call_from_search){this._populate_filter_results(C)}else{this._no_mesg_container.hide();this._log_container.hide();this._refresh_div.show();var t=this;setTimeout(function(){t._populate_filter_results(C)},100)}};rdx.systemlog_view.prototype._populate_filter_results=function(B){if(this._function_call_from_search){this._elements=this._all_log_elements}else{this._function_call_from_filter=true;this._perform_search(B);this._function_call_from_filter=false;this._elements=this._result_elements}this._result_elements=[];var I=0;if($.isEmptyObject(this._filter_on)){for(var A=0;A<this._elements.length;A++){++I;var L=$(this._elements[A]);if(!this._search_query.length&&L.children().find(".search").length){var K=L.children();var G=K[0];var F=K[1];var y=$(G).children(":first");var w=y.text();var J=$(F).children(":first");var M=$(F).children(":first").text();y.html(w);M=this._encode_comparator_symbols(M);J.html(M)}L.show();this._result_elements.push(L)}this._filter_previously_performed=false;this._clear_filter.hide()}else{this._clear_filter.show();for(var A=0;A<this._elements.length;A++){var L=$(this._elements[A]);var E=false;for(var x in this._filter_on){if(this._filter_on.hasOwnProperty(x)&&rdx.utils.is_defined(L.attr("data-"+x))){var H=false;var z=this._filter_on[x];if(z.length>1){for(var C=0;C<z.length;C++){if(L.attr("data-"+x)===z[C]){H=true;break}}}else{if(z.length===1){if(L.attr("data-"+x)===z[0]){H=true}}}if(H){E=true}else{E=false;break}}else{if(rdx.utils.is_not_defined(L.attr("data-"+x))){E=false;break}}}if(E){++I;L.show();this._result_elements.push(L)}else{L.hide()}}this._filter_previously_performed=true}if(!this._function_call_from_search){var D=this._get_count_string(I);this._result_count.empty();this._result_count.append(D);var N="";if(!I){if(this._next_index>=0||this._prev_index>=0){N=" "+rdx.i18n.get_string("rdx.in_this_page");this._filter_info_span.show()}else{this._filter_info_span.hide()}this._no_mesg_container.html(rdx.i18n.get_string("rdx.no_records_found")+N);this._no_mesg_container.show()}this._refresh_div.hide();$("html, body").animate({scrollTop:"0px"},0);this._log_container.show()}};rdx.systemlog_view.prototype._clear_all_filters=function(n,o){var l=this._filter_context_objects;for(var q in l){if(l.hasOwnProperty(q)){var m=l[q];var p=$(m);if(this._filter_components_type[q]==="check_list"&&!p.hasClass("disable-div")){this._remove_checklist_filter(p);if(rdx.utils.is_not_defined(this._dependendee_context[q])){continue}var h=this._dependendee_context[q];this._remove_multiplecheckbox_filter(h,true);$(h).addClass("disable-div")}else{if(this._filter_components_type[q]==="multiple_checkbox"&&!p.hasClass("disable-div")){this._remove_multiplecheckbox_filter(p,false);if(rdx.utils.is_not_defined(this._dependendee_context[q])){continue}var h=this._dependendee_context[q];this._remove_checklist_filter(h);$(h).addClass("disable-div")}else{if(this._filter_components_type[q]==="text_box"&&!p.hasClass("disable-div")){$("input",m).val("")}}}}}if(o){this._apply_filters(n)}};rdx.systemlog_view.prototype._remove_checklist_filter=function(d){var f=$(d).children(".filter-content").children(".filter-dropdown-container");var e=$(f).children(".filter-dropdown-label");$(e).text("");$(e).siblings(".filter-dropdown-list").children(".filter-option").removeClass("selected");if($(d).hasClass("expanded")){$(d).children(".filter-content").slideUp(200);$(d).removeClass("expanded").addClass("collapsed")}};rdx.systemlog_view.prototype._remove_multiplecheckbox_filter=function(o,m){var p=$(o).children(".multiple-filter-content");var l=$(p).children(".dependent-type-filters");var s=$(o).children(".filter-title").children(".components-selected-name");var n=$(s).children(".filter-item-block");for(var t=0;t<n.length;t++){$(n).remove()}if($(o).hasClass("expanded")){$(p).slideUp(200);$(o).removeClass("expanded").addClass("collapsed")}if(m){$(l).empty()}else{var q=$(l).find("div.filter-check");for(var t=0;t<q.length;t++){if($(q[t]).hasClass("checked")){$(q[t]).removeClass("checked")}}}};rdx.systemlog_view.prototype._do_pagination=function(d){var f=this._get_target(d);if(!f.hasClass("blue-pagination")){return}this._start_index=f.attr("data-start");this._log_container.hide();this._no_mesg_container.hide();this._refresh_div.show();this._page_number_span.empty();if(this._message_source==="db"){this._handle_db_pagination(f);return}this._revert_settings(d,true);var e=this;setTimeout(function(){e._get_syslog_messages([e._file_name,e._start_index])},100)};rdx.systemlog_view.prototype._handle_db_pagination=function(d){if(d.hasClass("nav-next")){this._pageno++}else{if(d.hasClass("nav-prev")){this._pageno--}else{return}}var c=$.isEmptyObject(this._filter_on)?null:this._filter_on;this._get_syslog_messages(c)};rdx.systemlog_view.prototype._calculate_widths=function(){var f=$(".log_box_container").outerWidth()-1;var e=$(".page-content-syslog").outerWidth();var d=((25*e)/100)-10;this._content_box_header.width(f);this._search_div.width(f);this._search_properties_div.width(f);this._pagination_div.width(f);if(this._file_box){this._file_box.width(d)}if(this._filter_box){this._filter_box.width(d)}};rdx.systemlog_view.prototype.get_is_back_button_required=function(){if(this._view_properties.show_back_button===false){return false}return this.is_back_button_required};rdx.systemlog_view.prototype.set_is_back_button_required=function(b){this.is_back_button_required=b};rdx.systemlog_view.prototype._display_with_criteria=function(ao){if(rdx.utils.is_defined(ao.module)&&ao.module!==""){this._appfw_filter_by_module=ao.module}if(rdx.utils.is_defined(ao.profile)&&ao.profile!==""){this._appfw_filter_by_profile=ao.profile;if(this._appfw_filter_by_module==="APPFW"){var m="cs1="+this._appfw_filter_by_profile;if($.inArray(m,this._search_query)===-1){this._search_query.push(m)}this._create_search_block(m)}}if(rdx.utils.is_defined(ao.search)&&ao.search.length){this._appfw_filter_by_search=ao.search;for(var ad=0;ad<this._appfw_filter_by_search.length;ad++){var m=this._appfw_filter_by_search[ad];if($.inArray(m,this._search_query)===-1){this._search_query.push(m)}this._create_search_block(m)}}var ag=this._filter_content.children();for(var p=0;p<ag.length;p++){var aB=$(ag[p]);if(aB.attr("data-filter_component")==="module"&&rdx.utils.is_defined(this._appfw_filter_by_module)){aB.removeClass("collapsed").addClass("expanded");aB.children(".filter-content").slideDown(200);aB.children(".filter-content").children(".filter-dropdown-container").children(".filter-dropdown-label").text(this._appfw_filter_by_module);var au=aB.children(".filter-content").children(".filter-dropdown-container").children(".filter-dropdown-list").children();for(var q=0;q<au.length;q++){var az=$(au[q]).text();if(az==="APPFW"){$(au[q]).addClass("selected")}}}if(aB.attr("data-filter_component")==="event_type"&&rdx.utils.is_defined(ao.event_types)&&ao.event_types!==""){aB.removeClass("collapsed").addClass("expanded");aB.children(".multiple-filter-content").slideDown(200);var ax=aB.children(".multiple-filter-content").children(".dependent-type-filters");this._appfw_filter_by_event_types=ao.event_types.split("|");var aw=this._filter_properties.event_type;$(aB).removeClass("disable-div");if(rdx.utils.is_defined(aw.dependent_data)){var l=aw.dependent_data;var an=l[this._appfw_filter_by_module];an=an.sort()}var ac=aB.children(":first");var ai=$(ac).children(".components-selected-name");var s=[];for(var W=0;W<this._appfw_filter_by_event_types.length;W++){var av=this._appfw_filter_by_event_types[W];for(var Z=0;Z<an.length;Z++){if(an[Z].indexOf(av)!==-1){s.push(an[Z])}}}for(var ab=0;ab<s.length;ab++){var ay=$("<div>").addClass("filter-item-block").attr("data-filter_value",s[ab]);var aA=$("<div>").addClass("filter-item");var aj=$("<div>").addClass("filter-value").append(s[ab]).appendTo(aA);var aq=$("<span>").addClass("clear-filter-item");ay.append(aq);ay.append(aA);if(ab===0){$(ay).css("margin-left","15px")}$(ai).append(ay)}for(var V=0;V<an.length;V++){var at=$("<li />");var am=$("<div>").addClass("filter-checkbox").append(an[V]);if($.inArray(an[V],s)!==-1){var ar=$("<div>").addClass("filter-check checked").attr("data-filter_name",an[V])}else{var ar=$("<div>").addClass("filter-check").attr("data-filter_name",an[V])}am.append(ar);at.append(am);$(ax).append(at)}}if(aB.attr("data-filter_component")==="severity"&&rdx.utils.is_defined(ao.severity)&&ao.severity.length){aB.removeClass("collapsed").addClass("expanded");aB.children(".multiple-filter-content").slideDown(200);this._appfw_filter_by_severities=ao.severity;var aw=this._filter_properties.severity;var n=aw.data;if(rdx.utils.is_defined(n)){var ac=aB.children(":first");var ai=$(ac).children(".components-selected-name");var ak=[];for(var ae=0;ae<this._appfw_filter_by_severities.length;ae++){var aC=this._appfw_filter_by_severities[ae].toUpperCase();if($.inArray(aC,n)!==-1){ak.push(aC)}}for(var af=0;af<ak.length;af++){var aC=ak[af];var ay=$("<div>").addClass("filter-item-block").attr("data-filter_value",aC);var aA=$("<div>").addClass("filter-item");var aj=$("<div>").addClass("filter-value").append(aC).appendTo(aA);var aq=$("<span>").addClass("clear-filter-item");ay.append(aq);ay.append(aA);if(af===0){$(ay).css("margin-left","15px")}$(ai).append(ay)}var ap=aB.children(".multiple-filter-content").children(".dependent-type-filters").children().children(".filter-checkbox").children(".filter-check");for(var ah=0;ah<ap.length;ah++){var aa=$(ap[ah]);var al=aa.attr("data-filter_name");if($.inArray(al,n)!==-1){aa.addClass("checked")}}}}}this._filter_button.trigger("click")};rdx.search_filter_details_view=function(h,e,g,f){this._base_view=f;this._view_definition=e;this._parent=h;this._resource=g;this._DEFAULT_PROPERTIES={add_border:true};this._properties=$.extend(true,this._DEFAULT_PROPERTIES,this._view_definition.view_properties);this._selected_filter_object=null;this._search_query=[];this._removed_search_query="";this._clear_all_search=false;this._regex_search=false};rdx.search_filter_details_view.prototype.make_view=function(){this._create_dom()};rdx.search_filter_details_view.prototype._create_dom=function(){this._container_div=$("<div>").addClass("search_filter_details_view");if(!this._properties.add_border){this._container_div.css({border:"none"})}this._search_box=$("<div>").addClass("search_filter_search_box");this._category_filter_block=$("<div>").addClass("search_filter_category_filter");var v=$("<div>").addClass("search_filter_category_details");this._search_input_text=$("<input>").attr({type:"text",placeholder:"Search"}).addClass("mshandler");this._clear_search=$("<div>").addClass("clear_search");this._search_box.append(this._search_input_text);this._search_box.append(this._clear_search);this._indicator_object=$("<div>").addClass("category_current_indicator");this._category_filter_block.append(this._indicator_object);var o=$("<ul>").addClass("category_filter_list");if(rdx.utils.is_defined(this._properties)&&rdx.utils.is_defined(this._properties.filter_properties)&&rdx.utils.is_defined(this._properties.filter_properties.filter_values)){var t=this._properties.filter_properties.filter_values;for(var s=0;s<t.length;s++){var m=t[s];var n=$("<li>").addClass("filter_category hide");n.attr("data-filter_value",m.value);if(rdx.utils.is_defined(m.selected)&&m.selected){n.addClass("default")}o.append(n);var p=$("<span>").addClass("category_filter_num").text(0);if(rdx.utils.is_defined(m.color)){p.css("background-color",m.color)}n.append(p)}}this._category_filter_block.append(o);if(rdx.utils.is_defined(this._properties)&&rdx.utils.is_defined(this._properties.data_properties)&&rdx.utils.is_defined(this._properties.data_properties.regex_search)&&this._properties.data_properties.regex_search){this._regex_search=true}if(rdx.utils.is_defined(this._properties.filter_properties.show_total)&&this._properties.filter_properties.show_total){var q=$("<div>").addClass("category_info_container");var u=$("<span>").addClass("num_details_label").append("Total: ");this._num_details=$("<span>").addClass("num_details").append(0);q.append(u);q.append(this._num_details);this._category_filter_block.append(q)}else{o.css("margin-right","0px")}this._category_title=$("<div>").addClass("category_title");this._category_title_text=$("<span>").addClass("category_title_text");this._category_title.append(this._category_title_text);this._category_title.append(this._search_box);this._details_list=$("<div>").addClass("details_list");v.append(this._category_title);v.append(this._details_list);v.append(this._show_all);this._container_div.append(this._category_filter_block);this._container_div.append(v);this._parent.append(this._container_div)};rdx.search_filter_details_view.prototype.get_resource_response_arrived=function(N){var B=0;var J=this._properties.filter_properties.count;var I=this._properties.filter_properties.category;if(rdx.utils.is_defined(J)){for(var c=0;c<N.length;c++){var G=N[c][this._properties.filter_properties.category];for(var H=0;H<this._properties.filter_properties.filter_values.length;H++){var m=this._properties.filter_properties.filter_values[H];if(G===m.value){B=B+parseInt(N[c][J])}}}}if(rdx.utils.is_defined(this._properties.filter_properties.show_total)&&this._properties.filter_properties.show_total){this._num_details.empty();this._num_details.append(B)}if(B===0){this._category_title_text.empty();this._category_title.hide();this._details_list.empty();var F=$("<div>").addClass("event_data").append("No data to display");this._details_list.append(F);if(rdx.utils.is_defined(this._properties.data_properties.callback_after_render)){this._properties.data_properties.callback_after_render.call_back()}return}if(rdx.utils.is_defined(N)){this._selected_filter_object=null;var P={};if(rdx.utils.is_defined(I)){if(rdx.utils.is_defined(J)&&rdx.utils.is_defined(I)){var K=$("ul.category_filter_list li",this._container_div);for(var z=0;z<N.length;z++){var E=N[z];for(var A=0;A<K.length;A++){var O=$(K[A]);var M=O.attr("data-filter_value");if(M===E[I]){O.removeClass("hide");$(".category_filter_num",O).text(E[J])}if(O.hasClass("default")&&!O.hasClass("hide")){this._selected_filter_object=O;P.name=I;P.value=M}}}if($.isEmptyObject(P)){for(var D=1;D<K.length;D++){var L=$(K[D]).children(".category_filter_num");if(!$(L).is(":hidden")){this._selected_filter_object=$(K[D]);P.name=I;P.value=$(K[D]).attr("data-filter_value");break}}}}}}if(rdx.utils.is_defined(this._properties)&&rdx.utils.is_defined(this._properties.data_properties)&&rdx.utils.is_defined(this._properties.data_properties.resource_name)){this._static_filter_array=[];var C={};if(!$.isEmptyObject(P)){C[P.name]=P.value}if(rdx.utils.is_defined(this._indicator_object)){this._indicator_object.show()}this._fetch_data(C)}if(rdx.utils.is_defined(this._properties.height)){this._set_detail_list_height()}};rdx.search_filter_details_view.prototype._set_detail_list_height=function(){var c=this._category_filter_block.outerHeight()+this._category_title.outerHeight()+1;var d=this._properties.height-c;this._details_list.css("height",d)};rdx.search_filter_details_view.prototype._fetch_data=function(v){if(this._regex_search&&rdx.utils.is_defined(this._data_resource_property)&&v[this._data_resource_property]){v[this._data_resource_property]="/"+v[this._data_resource_property]+"/"}var y={};var u=[];var p=this._base_view.get_view_context().get_url_params().filter;for(var t=0;t<p.length;t++){var w=p[t];y[w.name]=w.value}if(rdx.utils.is_defined(this._properties.data_properties)&&rdx.utils.is_defined(this._properties.data_properties.view_context)&&rdx.utils.is_defined(this._properties.data_properties.view_context.static_filter)){for(var q in this._properties.data_properties.view_context.static_filter){if(this._properties.data_properties.view_context.static_filter.hasOwnProperty(q)){y[q]=this._properties.data_properties.view_context.static_filter[q]}}}y=$.extend(y,v);for(var q in y){u.push(q)}if(rdx.utils.is_defined(this._properties)&&rdx.utils.is_defined(this._properties.data_properties)&&rdx.utils.is_defined(this._properties.data_properties.resource_name)){this._details_data_resource=rdx.utils.get_resource(this._properties.data_properties.resource_name);var s=new rdx.callback(this,this._display_data_details,[y]);var x=new rdx.callback(this,this._error_occured);if(rdx.utils.is_not_defined(this._properties.show_all)||(rdx.utils.is_defined(this._properties.show_all)&&this._properties.show_all===false)){var o={filter:u,is_query_param:true,custom:{pageno:1,pagesize:10}}}else{var o={filter:u,is_query_param:true}}var z=new rdx.context();z.set_context_data(y,o);url_params=z.get_url_params();rdx.model.get(this._details_data_resource,url_params,s,null,x)}};rdx.search_filter_details_view.prototype._display_data_details=function(D,z){var y=D[this._properties.data_properties.resource_name];if(rdx.utils.is_defined(this._properties.data_properties.response_callback)&&rdx.utils.is_function(this._properties.data_properties.response_callback)){y=this._properties.data_properties.response_callback(y)}this._category_title_text.empty();var B=null;if(rdx.utils.is_defined(this._selected_filter_object)){B=this._selected_filter_object.attr("data-filter_value");this._category_title_text.append(B);this._category_title.show()}this._details_list.empty();if(rdx.utils.is_defined(this._properties)&&rdx.utils.is_defined(this._properties.data_properties)&&rdx.utils.is_defined(this._properties.data_properties.resource_properties)){for(var A in this._properties.data_properties.resource_properties){if(this._properties.data_properties.resource_properties.hasOwnProperty(A)){this._data_resource_property=A}}}var u=0;if(rdx.utils.is_defined(this._data_resource_property)&&rdx.utils.is_defined(y)){for(var x=0;x<y.length;x++){u=u+1;var v=y[x];var s=$("<div>").addClass("event_data").append(v[this._data_resource_property]);this._details_list.append(s)}}else{var s=$("<div>").addClass("event_data").append("No data to display");this._details_list.append(s)}if(rdx.utils.is_defined(this._properties.view_more)&&this._properties.view_more.enabled===true){var C=$("<div>").addClass("event_data");var t=$("<a>").attr("href","#").text(rdx.i18n.get_string("rdx.show_all"));C.append(t);this._details_list.append(C);var q=this;t.bind(rdx.events.CLICK,function(){if(rdx.utils.is_defined(q._properties.view_more)&&rdx.utils.is_defined(q._properties.view_more.click_handler_callback)){q._properties.view_more.click_handler_callback.call_back()}if(rdx.utils.is_defined(q._properties.view_more.view_name)){var b=new rdx.base_view(rdx.page.get_tree_content_pane(),rdx.utils.get_view(q._properties.view_more.view_name));var a=q.get_view_context().get_url_params();if(rdx.utils.is_defined(a)&&a.filter){b.get_view_context()._url_params.filter=$.merge(b.get_view_context()._url_params.filter,a.filter)}b.prepare_view()}})}if(u>=10&&rdx.utils.is_defined(this._properties.show_all)&&this._properties.show_all.show_all===false){this._show_all=$("<div>").addClass("show_all");var w=$("<span>").addClass("show_span").append("Show all");this._show_all.append(w);this._details_list.append(this._show_all)}if(B&&this._selected_filter_object){this._position_selector_indicator(this._selected_filter_object)}};rdx.search_filter_details_view.prototype._position_selector_indicator=function(l){var p=l.outerWidth()-10;var n=this._indicator_object.outerWidth();var o=0;var s=l.prevAll("li");for(var t=0;t<s.length;t++){var q=$(s[t]);if(!q.hasClass("hide")){o+=q.outerWidth()}}var m=10+o+parseInt((p-n)/2);this._indicator_object.css("left",m+"px");this._indicator_object.show()};rdx.search_filter_details_view.prototype._error_occured=function(b){rdx.message_box.error(b)};rdx.search_filter_details_view.prototype.get_is_back_button_required=function(){return false};rdx.search_filter_details_view.prototype.set_is_back_button_required=function(b){this.is_back_button_required=b};rdx.search_filter_details_view.prototype.register_event_handlers=function(){var b=this;this._search_input_text.bind("keydown",function(a){b._key_press_event(a)});this._search_box.bind(rdx.events.CLICK,function(a){b._search_component_helper(a)});this._category_filter_block.bind(rdx.events.CLICK,function(a){var d=b._get_target(a);if(d.hasClass("category_filter_num")){b._filter_data(a)}})};rdx.search_filter_details_view.prototype._search_component_helper=function(d){var c=this._get_target(d);if(c.hasClass("clear_search")){this._clear_search_queries(c,d)}else{if(c.hasClass("clear_search_item")){this._remove_search_query(c,d)}else{if(c.hasClass("search_filter_search_box")){this._search_input_text.focus()}}}return};rdx.search_filter_details_view.prototype._clear_search_queries=function(c,d){this._clear_all_search=true;this._search_input_text.val("");$(c).parent().children(".search_block").remove();this._search_query=[];this._perform_search(d)};rdx.search_filter_details_view.prototype._remove_search_query=function(g,h){this._search_input_text.val("");var f=g.siblings(".search_item").children(".search_value").text();if(this._search_query.length===1){this._removed_search_query=f}var e=$.inArray(f,this._search_query);if(e!==-1){this._search_query.splice($.inArray(f,this._search_query),1)}$(g).parent(".search_block").remove();this._perform_search(h)};rdx.search_filter_details_view.prototype._key_press_event=function(b){if(!rdx.utils.is_defined(b)){return}if(b.which===13){this._perform_search(b)}else{if(b.which===8&&!this._search_input_text.val().length){this._remove_search_phrase(b)}}};rdx.search_filter_details_view.prototype._remove_search_phrase=function(h){if(!rdx.utils.is_defined(h)){return}var g=this._get_target(h);if(g.prev().hasClass("search_block")){g=g.prev();var f=g.children().find(".search_value").text();if(this._search_query.length===1){this._removed_search_query=f}var e=$.inArray(f,this._search_query);if(e!==-1){this._search_query.splice($.inArray(f,this._search_query),1)}g.remove()}this._perform_search(h)};rdx.search_filter_details_view.prototype._perform_search=function(d){if(!rdx.utils.is_defined(d)){return}var c=$.trim(this._search_input_text.val());if(!c&&!this._search_query.length&&!this._removed_search_query&&!this._clear_all_search){return}if(c){if($.inArray(c,this._search_query)===-1){this._search_query.push(c)}else{this._search_input_text.val("");return}}this._fetch_search_results(c,d)};rdx.search_filter_details_view.prototype._fetch_search_results=function(l,m){if(this._search_query.length&&l){if(this._clear_search.is(":hidden")){this._clear_search.show()}}var g={};if(this._search_query.length&&rdx.utils.is_defined(this._data_resource_property)){var h=this._search_query.join("|");if(h){g[this._data_resource_property]=h}}if(rdx.utils.is_defined(this._properties.filter_properties.category)&&rdx.utils.is_defined(this._selected_filter_object)){var f=this._selected_filter_object.attr("data-filter_value");g[this._properties.filter_properties.category]=f}this._fetch_data(g);if(this._removed_search_query||this._clear_all_search){this._removed_search_query="";this._search_input_text.attr("placeholder","Search");this._clear_search.hide();this._clear_all_search=false}};rdx.search_filter_details_view.prototype._filter_data=function(m){if(!rdx.utils.is_defined(m)){return}var l=this._get_target(m);if(!l.hasClass("category_filter_num")){return}this._selected_filter_object=l.parent();var g={};if(this._search_query.length&&rdx.utils.is_defined(this._data_resource_property)){var h=this._search_query.join("|");if(h){g[this._data_resource_property]=h}}if(rdx.utils.is_defined(this._properties.filter_properties.category)&&rdx.utils.is_defined(this._selected_filter_object)){var f=this._selected_filter_object.attr("data-filter_value");g[this._properties.filter_properties.category]=f}this._fetch_data(g)};rdx.search_filter_details_view.prototype._get_target=function(d){var c=d.target||d.srcElement||d.originalTarget;return $(c)};rdx.search_filter_details_view.prototype.get_resource_name=function(){return this._view_definition.resource_name};rdx.search_filter_details_view.prototype.get_view_context=function(){return this._base_view.get_view_context()};rdx.search_filter_details_view.prototype.add_mask=function(){return true};rdx.configuration_diff_view=function(l,f,h,g){this._parent=l;this._view_definition=f;this._DEFAULT_VIEW_PROPERTIES={config_diff_resource:null,response_type:"XML",conf_file_starts_with:"ns.conf",diff_type:"save_running_diff",config_files_fetch_resource:null,batch_command_resrc:null,batch_command_download_url:null,batch_action:null,click_handler_callback:null,resource:null,display_title:null,batch_config_download_callback:null,resource_operations:null,display_columns:{saved_configuration:true,running_configuration:true,correction_configuration:true}};this._properties=$.extend({},this._DEFAULT_VIEW_PROPERTIES,f.view_properties);this._base_view=g;this.is_back_button_required=true;this._resource=rdx.utils.get_resource(this._properties.config_diff_resource);this._container=$("<div>").addClass("config_diff_container form");this._table_container=$("<div>").addClass("config_diff_table_container");this._saved_cmd_key="saved_cmd";this._running_cmd_key="running_cmd";this._corrective_cmd_key="corrective_cmd";this._saved_cmd_label=rdx.utils.is_defined(this._properties.saved_command_title)?rdx.i18n.get_string(this._properties.saved_command_title):"Saved Configuration";this._running_cmd_label=rdx.utils.is_defined(this._properties.running_command_title)?rdx.i18n.get_string(this._properties.running_command_title):"Running Configuration";this._correction_cmd_label="Correction Configuration";this._batch_command_button_label=rdx.i18n.get_string("rdx.export_corrective_commands");this._submit_button_label="Show configuration difference";this._current_node="Current Node";this._peer_node="Peer Node";this._base_file_map={};this._second_file_map={};this._corrective_commands="";this._batch_command_button_bar=null;this._header_row_div=null;this._number_of_columns=0;for(var m in this._properties.display_columns){if(this._properties.display_columns[m]===true){this._number_of_columns++}}this._commands_data=[];this._column_width=(100/this._number_of_columns)+"%"};rdx.configuration_diff_view.prototype=new rdx.abstract_view();rdx.configuration_diff_view.prototype.get_is_back_button_required=function(){return this.is_back_button_required};rdx.configuration_diff_view.prototype.set_is_back_button_required=function(b){this.is_back_button_required=b};rdx.configuration_diff_view.prototype._mask=function(){rdx.mask.mask_component(this._parent,this._base_view.get_mask_id())};rdx.configuration_diff_view.prototype._unmask=function(){rdx.mask.unmask_component(this._parent,this._base_view.get_mask_id())};rdx.configuration_diff_view.prototype.make_view=function(){this._base_view.remove_decorator();this._mask();switch(this._properties.diff_type){case"view_config":case"save_running_diff":case"ha_save_running_diff":var b=this;setTimeout(function(){var h=$("<div>").addClass("config_diff_top_container config_diff_plain_container");b._container.append(h);if(rdx.utils.is_defined(b._properties.display_title)&&rdx.utils.is_not_empty(b._properties.display_title)){var f=$("<p>").append(b._properties.display_title).addClass("config_diff_title");h.append(f).addClass("display_title")}if(b._properties.diff_type=="view_config"){h.remove();b._container.css("padding-top","0")}b._render_export_button(h);b._container.append(b._table_container);var a=null;var g=null;if(b._properties.diff_type=="ha_save_running_diff"){a={display_str:b._current_node};g={display_str:b._peer_node}}b._render_table(a,g);b._render_close_button(b._container);b._parent.append(b._container);if(rdx.utils.is_defined(b._properties.resource_operations)){b.render_operations()}b._start_process()},100);break;case"revision_diff":case"version_diff":this._render_chooser_form();break}$(window).bind(rdx.events.SCROLL,this,this._scroll_function);rdx.page.add_event_handler(rdx.events.PAGE_RESIZED,new rdx.callback(this,this._resize_view))};rdx.configuration_diff_view.prototype._scroll_function=function(c){var d=rdx.utils.is_defined(c)?c.data:this;scrollTop=$(window).scrollTop();scrollLeft=$(window).scrollLeft();if(rdx.utils.is_defined(d._header_row_div)){if(scrollTop>=$(".back_button_title_bar").height()+rdx.page.get_header_height()+$(".config_diff_top_container").height()+40){d._header_row_div.addClass("fixed")}else{if(d._header_row_div.hasClass("fixed")){d._header_row_div.removeClass("fixed")}}if(scrollLeft>0){d._header_row_div.css("left",0-(scrollLeft)+10)}else{d._header_row_div.css("left","")}}};rdx.configuration_diff_view.prototype._resize_view=function(){var d=rdx.utils.is_defined(this._top_container)?this._top_container:this._base_view.get_parent();var f=rdx.utils.is_defined(this._top_container)?10:12;var e=(d.width()/this._number_of_columns)-f;$(".config_diff_cell_text_node").width(e)};rdx.configuration_diff_view.prototype.get_resource_response_arrived=function(){};rdx.configuration_diff_view.prototype.is_tool_bar_required=function(){return false};rdx.configuration_diff_view.prototype.is_action_bar_required=function(){return false};rdx.configuration_diff_view.prototype.close_view=function(){this._base_view.destroy_view()};rdx.configuration_diff_view.prototype.get_base_view=function(){return this._base_view};rdx.configuration_diff_view.prototype.get_view_context=function(){return this.get_base_view().get_view_context()};rdx.configuration_diff_view.prototype.refresh_view=function(b){this._table_container.empty();this._start_process()};rdx.configuration_diff_view.prototype._render_close_button=function(d){var f={add_grey_button:true,grey_button_label:"rdx.form_close_button_label",grey_button_click_handler_callback:new rdx.callback(this,this.close_view)};var e=$("<div>").addClass("config_diff_close_button_container");d.append(e);new rdx.button_bar(e,new rdx.form_field({properties:f})).render()};rdx.configuration_diff_view.prototype._render_table=function(e,g){if(rdx.utils.is_defined(this._table_container)){this._table_container.empty()}var f=rdx.utils.is_defined(e)?e.display_str:this._saved_cmd_label;var h=rdx.utils.is_defined(g)?g.display_str:this._running_cmd_label;if(this._properties.diff_type=="view_config"){f=this._properties.display_title;h=this._properties.display_title}this._add_table_row(f,h,this._correction_cmd_label,true)};rdx.configuration_diff_view.prototype._render_chooser_form=function(){var B=this._base_view._view_context.get_app_context_data();var q=null;var C=null;this._top_container=$("<div>").addClass("config_diff_top_container");if(rdx.utils.is_defined(this._properties.display_title)&&rdx.utils.is_not_empty(this._properties.display_title)){var t=$("<p>").append(this._properties.display_title).addClass("config_diff_title");var u=$("<div>").addClass("config_diff_plain_container").append(t).addClass("display_title");this._top_container.append(u)}var y=$("<div>").addClass("config_diff_form op_wizard_form_panel");var v={base_file:{label:"Base File",input_type:rdx.form_constants.LIST,mandatory:false,properties:{size:1,mandatory:true}},second_file:{label:"Second File",input_type:rdx.form_constants.LIST,mandatory:false,properties:{size:1,mandatory:true}}};var z={add_close_button:false,add_create_button:false,add_border:false};var A=new rdx.form(y,v,{base_file:{key:"base_file"},second_file:{key:"second_file"}},z).render();var x=$("<div>").addClass("config_diff_button_bar");var s={add_blue_button:true,blue_button_label:this._submit_button_label,blue_button_click_handler_callback:rdx.utils.is_defined(this._properties.click_handler_callback)?new rdx.callback(this,this._properties.click_handler_callback,[A]):new rdx.callback(this,this._handle_form_button_click,[A])};var w=$("<div>").addClass("config_diff_submit_button_container");x.append(w);new rdx.button_bar(w,new rdx.form_field({properties:s})).render();this._top_container.append(y).append(x);this._render_export_button(x);this._container.append(this._top_container);this._container.append(this._table_container);this._render_close_button(this._container);this._parent.append(this._container);var D="config_files";if(rdx.utils.is_not_empty(B)){C=B.ns_ip_address;q=rdx.url_utils.construct_url_params(q,rdx.url_utils.GET_BY_NAME_TYPE,{ns_ip_address:"ns_ip_address"},{ns_ip_address:C});D=this._resource.name}rdx.model.get(rdx.utils.get_resource(D),q,new rdx.callback(this,this._handle_form_response,[A,C]))};rdx.configuration_diff_view.prototype._render_export_button=function(e){if(rdx.utils.is_defined(this._properties.batch_command_resrc)){var d=$("<div>").addClass("config_diff_batch_button_container");e.append(d);var f={add_grey_button:true,grey_button_label:this._batch_command_button_label,grey_button_click_handler_callback:rdx.utils.is_defined(this._properties.batch_config_download_callback)?new rdx.callback(this,this._properties.batch_config_download_callback):new rdx.callback(this,this._handle_batch_configuration_button_click)};this._batch_command_button_bar=new rdx.button_bar(d,new rdx.form_field({properties:f})).render();this._batch_command_button_bar.disable();e.append(d)}return null};rdx.configuration_diff_view.prototype.render_operations=function(m){var g=this._properties.resource_operations;var l=$("<div>").addClass("resource_operations").appendTo($(".config_diff_top_container")).css("float","right");for(var n in g){if(g.hasOwnProperty(n)){var h=$("<div>").addClass("operation");var o={add_grey_button:true,grey_button_label:g[n]["label"],grey_button_click_handler_callback:g[n]["click_handler_callback"]};o.grey_button_click_handler_callback.params[0]=this._commands_data;this.resource_operations_button_bar=new rdx.button_bar(h,new rdx.form_field({properties:o})).render();this.resource_operations_button_bar.disable();l.append(h)}}};rdx.configuration_diff_view.prototype._handle_form_response=function(q,v,s){var n=v.get_form_holder();var p=q[this._resource.name];p=rdx.utils.is_defined(p)?p:q.remotefiledir;if(rdx.utils.is_not_defined(p)){return}this._base_file_map={};this._second_file_map={};this._base_file_map.RunningConfiguration={file_name:"runningconfig",display_str:"Running Configuration"};this._base_file_map.SavedConfiguration={file_name:"ns.conf",display_str:"Saved Configuration"};for(var u=0;u<p.length;u++){var o=p[u];if(rdx.utils.is_defined(this._properties.resource)){o=p[u][this._properties.resource];this._base_file_map[o]={display_str:o};this._second_file_map[o]={display_str:o};continue}if(o.is_dir=="true"){continue}if(!rdx.utils.starts_with(o.name,this._properties.conf_file_starts_with)){continue}if(this._properties.diff_type=="revision_diff"){this._add_revision_diff_to_map(o)}else{if(this._properties.diff_type=="version_diff"){this._add_version_diff_to_map(o)}}}var n=v.get_form_holder();var m=n.get_field("base_file");var t=n.get_field("second_file");this._add_to_list("base_file",this._base_file_map,v);this._add_to_list("second_file",this._second_file_map,v);this._unmask()};rdx.configuration_diff_view.prototype._add_to_list=function(m,h,l){var g=l.get_form_holder().get_field(m).field;for(var f in h){g.add_item(h[f]["display_str"])}};rdx.configuration_diff_view.prototype._handle_batch_configuration_button_click=function(d){this._mask();var c={commands:this._corrective_commands};rdx.model.post(rdx.utils.get_resource(this._properties.batch_command_resrc),new rdx.callback(this,this._iframe_loader),c,new rdx.callback(this,this._unmask),this._properties.batch_action)};rdx.configuration_diff_view.prototype._iframe_loader=function(){this._unmask();var e=this._properties.batch_command_download_url;e+="?filter=path:%2Ftmp%2Fbatch_commands&rand_key="+window.rand;var f={file_url:e};if(rdx.utils.is_defined(this._download_iframe_holder)){this._download_iframe_holder.remove()}this.DEFAULT_PROPERTIES={file_url:null,error_message:null,failure_callback:null,success_callback:null};var h=$.extend({},this.DEFAULT_PROPERTIES,f);if(rdx.utils.is_not_defined(h.file_url)){return}if(rdx.utils.is_defined(this._download_iframe_holder)){this._download_iframe_holder.remove()}var g=$("<iframe>").attr("frameborder",0).attr("width","0px").attr("height","0px");g.attr("src",h.file_url);$(document.body).append(g);this._download_iframe_holder=g;g.bind(rdx.events.LOAD,{iframe:g,properties:h},function(c){var b=null;try{b=c.data.iframe.contents().text()}catch(d){rdx.message_box.error("File not found");return}if(rdx.utils.is_not_defined(b)){return}var a=c.data.iframe;try{var p=JSON.parse(b);var q=c.data.properties.failure_callback;if(p[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD]!=0){var s=new rdx.callback();if($.inArray(p[rdx.ajax_handler_constants.RESPONSE_TYPE_JSON_ERROR_CODE_FIELD],rdx.ajax_handler_constants.RESPONSE_SESSION_EXPIRY_ERROR_CODES)!=-1){s=new rdx.callback(rdx.utils,rdx.utils.do_logout,[true])}if(rdx.utils.is_defined(q)){q.call_back();s.call_back()}else{rdx.message_box.error(p.message,s)}return}var t=c.data.properties.success_callback;if(rdx.utils.is_defined(t)){t.call_back()}}catch(d){}})};rdx.configuration_diff_view.prototype._handle_form_button_click=function(l,m){this._mask();var g=m.get_form_holder();var f=g.get_field("base_file").field.get_data()+"";f=f.replace(/\s+/g,"");var h=rdx.utils.trim(g.get_field("second_file").field.get_data())+"";h=h.replace(/\s+/g,"");if(f==h){rdx.message_box.error("Base File and Second File are same.");return}this._start_process(this._base_file_map[f],this._second_file_map[h])};rdx.configuration_diff_view.prototype._add_revision_diff_to_map=function(n){var m=n.name;var p="ns.conf.NS";if(rdx.utils.starts_with(m,p)){return}if(m==this._properties.conf_file_starts_with){return}else{try{var l=parseInt(m.substring((this._properties.conf_file_starts_with.length+1)));if(isNaN(l)==true){return}var q="Configuration Revision - "+(l+1)+" ( "+n.modified_timestamp+" ) ";var h=q.replace(/\s+/g,"");this._base_file_map[h]={file_name:m,display_str:q};this._second_file_map[h]={file_name:m,display_str:q}}catch(o){}}};rdx.configuration_diff_view.prototype._add_version_diff_to_map=function(m){var l=m.name;var n="ns.conf.NS";if(!rdx.utils.starts_with(l,n)){return}var h=l.substring(n.length);var o="Configuration Release - "+(h)+" ( "+m.modified_timestamp+" ) ";var g=o.replace(/\s+/g,"");this._base_file_map[g]={file_name:l,display_str:o};this._second_file_map[g]={file_name:l,display_str:o}};rdx.configuration_diff_view.prototype._start_process=function(d,c){this._corrective_commands="";switch(this._properties.response_type){case"XML":this._handle_xml_payload(d,c);break}};rdx.configuration_diff_view.prototype._add_table_row=function(p,o,h,m){row_div=$("<div>").addClass("config_diff_row");var q="config_diff_cell";if(m===true){row_div.addClass("config_diff_header_row");q+=" header_cell";this._header_row_div=row_div;var l=rdx.utils.is_defined(this._top_container)?this._top_container:this._base_view.get_parent();var n=l.width()-parseInt(l.css("padding-left"))-parseInt(l.css("padding-right"));this._column_width=parseInt(n/this._number_of_columns)}if(this._properties.display_columns.saved_configuration===true){row_div.append($("<div>").addClass(q).css("width",this._column_width).append($("<span>").addClass("config_diff_cell_text_node").append(p)))}if(this._properties.display_columns.running_configuration===true){row_div.append($("<div>").addClass(q).css("width",this._column_width).append($("<span>").addClass("config_diff_cell_text_node").append(o)))}if(this._properties.display_columns.correction_configuration===true){row_div.append($("<div>").addClass(q).css("width",this._column_width).append($("<span>").addClass("config_diff_cell_text_node").append(h)))}this._table_container.append(row_div)};rdx.configuration_diff_view.prototype._handle_xml_payload=function(q,o){var m=null;if(rdx.utils.is_defined(q)||rdx.utils.is_defined(o)){var p={};if(rdx.utils.is_defined(q)){var s=q.file_name;if(s=="runningconfig"){p.base_file=s}else{p.base_file=encodeURIComponent("/nsconfig/"+s)}}if(rdx.utils.is_defined(o)){var n=o.file_name;if(n=="runningconfig"){p.second_file=n}else{p.second_file=encodeURIComponent("/nsconfig/"+n)}}var t=new rdx.context({static_get_by_name:p,use_args:true});t.set_context_data();m=t.get_url_params()}else{if(this._properties.diff_type=="ha_save_running_diff"){var t=new rdx.context({static_get_by_name:{base_file:"ha_mode",second_file:"ha_mode"},use_args:true});t.set_context_data();m=t.get_url_params()}}var l=rdx.url_utils.get_url(this._resource.get_url,m);rdx.utils.ajax(rdx.ajax_handler_constants.GET,l,m,new rdx.callback(this,this._handle_xml_get,[q,o]),true,null,null,this._properties.response_type)};rdx.configuration_diff_view.prototype._handle_xml_get=function(f,e,d){if(rdx.utils.is_not_defined(f)||(rdx.utils.is_defined(f)&&rdx.utils.is_defined(f.childNodes)&&f.childNodes.length==0)||(rdx.utils.is_defined(f)&&rdx.utils.is_defined(f.childNodes)&&rdx.utils.is_defined(f.childNodes[0])&&rdx.utils.is_defined(f.childNodes[0].childNodes)&&f.childNodes[0].childNodes.length<1)){if(rdx.utils.is_string(e)&&rdx.utils.is_not_empty(e)&&e.toLowerCase().indexOf("not authorized")!=-1){rdx.message_box.error("Not authorized to execute this command")}else{rdx.message_box.error("Error in fetching the configuration")}return}if(rdx.utils.is_defined(f.childNodes)&&f.childNodes.length>0&&(rdx.utils.is_defined(f.childNodes[0].childNodes)&&f.childNodes[0].childNodes.length>=1)&&(rdx.utils.is_defined(f.childNodes[0].childNodes[0])&&f.childNodes[0].childNodes[0].childNodes.length>=1)){this._render_table(e,d);this._process_xml(f.childNodes[0].childNodes[0].childNodes);if(rdx.utils.is_defined(this._batch_command_button_bar)){this._batch_command_button_bar.enable()}}else{rdx.message_box.info("No difference found")}this._unmask()};rdx.configuration_diff_view.prototype._process_xml=function(m){var p=0;var o=1;for(var t=0;t<m.length;t++){var q=m[t];if(q.tagName!="AuditCommand"){continue}if(q.childNodes.length<=1){continue}var n={};var l=q.childNodes[p];var s=q.childNodes[o];n[this._saved_cmd_key]=rdx.utils.is_not_empty($(l).text())?$(l).text():"";this._process_operation_param(n,s);this._add_data_row(n)}};rdx.configuration_diff_view.prototype._process_operation_param=function(m,n){m.params_obj=[];for(var q=0;q<n.childNodes.length;q++){var h=n.childNodes[q].tagName;switch(h){case"CommandInTarget":m[this._running_cmd_key]=rdx.utils.is_not_empty($(n.childNodes[q]).text())?$(n.childNodes[q]).text():"";break;case"CommandToExecute":m[this._corrective_cmd_key]=rdx.utils.is_not_empty($(n.childNodes[q]).text())?$(n.childNodes[q]).text():"";break;case"params":var o={};for(var p=0;p<n.childNodes[q].childNodes.length;p++){var l=n.childNodes[q].childNodes[p];o[l.tagName]=rdx.utils.is_not_empty($(l).text())?$(l).text():""}m.params_obj.push(o);break}}};rdx.configuration_diff_view.prototype._add_data_row=function(l){this._commands_data.push(l);for(var m=0;m<l.params_obj.length;m++){var o=l.params_obj[m];var g=rdx.utils.is_not_empty(o.name)?o.name:"";var n=rdx.utils.is_not_empty(o.value)?o.value:"";var h=rdx.utils.is_not_empty(o.targetvalue)?o.targetvalue:"";this._decorate_command(l,"saved_cmd",g,n,false);this._decorate_command(l,"running_cmd",g,h,true)}if(rdx.utils.is_defined(l[this._corrective_cmd_key])){this._corrective_commands+=l[this._corrective_cmd_key]+"\n"}this._add_table_row(l[this._saved_cmd_key],l[this._running_cmd_key],l[this._corrective_cmd_key],false)};rdx.configuration_diff_view.prototype.add_data_row=function(b){this._add_data_row(b)};rdx.configuration_diff_view.prototype._decorate_command=function(z,y,D,t,B){if(rdx.utils.is_empty(t)||t=='""'){return}if(rdx.utils.is_empty(z[y])){z[y]=" - "}else{var v=z[y].indexOf("-"+D);var s=z[y].indexOf(D);if(v!=-1){var E=z[y].substring(0,v);D="-"+D;var u=E.length+D.length+1+t.length;var x=z[y].substring(u,z[y].length);var w="<span class='config_diff_decorator'>"+D+" "+t+"</span>";z[y]=E+w+x}else{if(v==-1&&s==-1&&B==true){var w="<span class='config_diff_decorator'>"+D+" "+t+"</span>";z[y]=z[y]+" "+w}else{if(s!=-1){var E=z[y].substring(0,s);var x=z[y].substring(s+D.length,z[y].length);var C=x.indexOf(t);var A=D+x.substring(0,C+t.length);var F=x.substring(C+t.length);var w="<span class='config_diff_decorator'>"+A+"</span>";z[y]=E+w+F}}}}};rdx.op_wizard_summary_page=function(h,e,g,f){this._parent=h;this._page_container=null;this._DEFAULT_PROPERTIES={standalone_mode:false,read_only:true,add_create_button:false,add_close_button:false,dialog_mode:false,add_to_bread_crumb:false,add_border:false,two_row_layout_for_fields:true,add_change_link:true,custom_class_names:null,add_view_link_name:null};this._base_view=f;this._view_definition=e;this._parent=h;this._resource=g;this._properties=$.extend({},this._DEFAULT_PROPERTIES,this._view_definition.view_properties);this._form=null;this._panels_holder=new Object();this.TOP_PANEL="top_panel";this.CENTER_PANEL="center_panel";this.CONTENT_PANEL="content_panel";this.CENTER_LEFT_PANEL="center_left_panel";this.CENTER_RIGHT_PANEL="center_right_panel";this.BUTTON_BAR_PANEL="button_bar_panel";this.TITLE_PANEL="title_panel"};rdx.op_wizard_summary_page.prototype=new rdx.abstract_view();rdx.op_wizard_summary_page.prototype.make_view=function(){this.render()};rdx.op_wizard_summary_page.prototype.render=function(){this._page_container=$("<div>").addClass("op_wizard_page").addClass("op_custom_summary_view").addClass("op_wizard_page_border rdx_border").addClass("smooth_all_corner");if(rdx.utils.is_defined(this._properties.custom_class_names)){this._page_container.addClass(this._properties.custom_class_names)}this._parent.append(this._page_container);this._add_top_panel();this._add_center_panel();this._set_optional_page_index()};rdx.op_wizard_summary_page.prototype.add_mask=function(){return true};rdx.op_wizard_summary_page.prototype.handle_unmask=function(){rdx.mask.unmask_component(this._parent,this._base_view.get_mask_id())};rdx.op_wizard_summary_page.prototype._add_top_panel=function(){var h=null;if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.title)){h=this._view_definition.view_properties.title}var f=$("<div>");f.addClass("rdx_top_panel rdx_background");this._add_to_panel_holder(this.TOP_PANEL,f);if(rdx.utils.is_defined(h)||this._properties.add_change_link==true){if(rdx.utils.is_defined(h)){var e=$("<div>").addClass("rdx_title_panel");e.append(rdx.i18n.get_string(h));this._add_to_panel_holder(this.TITLE_PANEL,e)}if(this._view_definition.__add_remove_link==true||this._properties.add_remove_link==true){var g=$("<span>").addClass("op_wizard_link_panel op_wizard_cross_link");if(rdx.utils.is_defined(this._properties.remove_link_text)){g.removeClass("op_wizard_cross_link").addClass("op_wizard_text_button").text(this._properties.remove_link_text)}g.bind(rdx.events.CLICK,{wizard:this},function(a){if(rdx.utils.is_defined(a.data.wizard._properties.remove_link_callback)){a.data.wizard._properties.remove_link_callback.call_back([a.data.wizard._base_view,a.data.wizard._get_resource_for_operation()])}else{a.data.wizard._base_view.destroy_view()}});f.append(g);if(rdx.utils.is_defined(rdx.get_test_framework)&&rdx.get_test_framework().is_test_mode){rdx.get_test_framework().op_summary_view_buttons.push([h.concat("_cross_button"),g])}}if(this._properties.add_change_link==true){var g=$("<span>").addClass("op_wizard_link_panel op_wizard_change_link");if(rdx.utils.is_defined(this._properties.change_link_text)){g.removeClass("op_wizard_change_link").addClass("op_wizard_text_button").text(this._properties.change_link_text)}g.bind(rdx.events.CLICK,{wizard:this},function(a){var b=new Object();if(rdx.utils.is_defined(a.data.wizard._resource)){b[a.data.wizard._resource.name]=a.data.wizard._get_resource_for_operation()}if(rdx.utils.is_defined(a.data.wizard._properties.change_link_callback)){a.data.wizard._properties.change_link_callback.call_back([a.data.wizard._base_view,a.data.wizard._get_resource_for_operation()])}else{if(rdx.utils.is_defined(a.data.wizard._view_definition.__change_link_handler_callback)){a.data.wizard._view_definition.__change_link_handler_callback.call_back();return}a.data.wizard._parent.trigger(rdx.events.OP_WIZARD_PAGE_CHANGED,[new rdx.model_executor_service_result({}),b,true,true,true])}});this._add_to_panel_holder(this.BUTTON_BAR_PANEL,g);f.append(g);if(rdx.utils.is_defined(rdx.get_test_framework)&&rdx.get_test_framework().is_test_mode){rdx.get_test_framework().op_summary_view_buttons.push([h.concat("_edit_button"),g])}}if(rdx.utils.is_defined(this._properties.add_view_link_name)){var g=$("<span>").addClass("op_wizard_link_panel op_wizard_view_link");g.bind(rdx.events.CLICK,{wizard:this},function(a){var b=rdx.utils.get_view(a.data.wizard._properties.add_view_link_name);rdx.view_utils.show_view_in_slider(b,a.data.wizard._get_resource_for_operation())});this._add_to_panel_holder(this.BUTTON_BAR_PANEL,g);f.append(g)}f.append(e)}this._page_container.append(f)};rdx.op_wizard_summary_page.prototype._add_center_panel=function(){var m=$("<div>");var n=null;m.addClass("op_wizard_center_panel").addClass("op_wizard_center_panel_border rdx_border_color");this._add_to_panel_holder(this.CENTER_PANEL,m);if(rdx.utils.is_defined(this._view_definition.view_properties)&&rdx.utils.is_defined(this._view_definition.view_properties.image_url)){n=this._view_definition.view_properties.image_url}if(rdx.utils.is_defined(n)){var q=$("<div>").addClass("op_wizard_center_left_panel op_wizard_image_panel");var o=$("<div>").addClass("op_wizard_center_right_panel");var l=$("<td>").attr("valign","top").append(q);var s=$("<td>").append(o);var t=$("<table>").append($("<tr>")).append(l).append(s);t.addClass("op_wizard_center_panel_table");var p=$("<img>").addClass("op_wizard_image").attr("src",rdx.images.get_app_url(n)).attr("alt",n);q.append(p);this._add_to_panel_holder(this.CENTER_LEFT_PANEL,q);m.append(t);this._add_content_panel(o);this._add_to_panel_holder(this.CENTER_RIGHT_PANEL,o)}else{this._add_content_panel(m)}this._page_container.append(m)};rdx.op_wizard_summary_page.prototype._add_content_panel=function(d){var c=$("<div>");if(this._properties.center_align){c.addClass("op_wizard_content_panel")}d.append(c);this._add_form_content(c);this._add_to_panel_holder(this.CONTENT_PANEL,c)};rdx.op_wizard_summary_page.prototype._add_form_content=function(e){var f=$("<div>").addClass("op_wizard_summary_page_form_panel");if(this._properties.center_align){f.addClass("op_wizard_form_panel")}e.append(f);var h=this._properties;var g=h.standalone_mode?{}:this._resource.properties;if(rdx.utils.is_not_defined(h.submit_operation)||rdx.utils.is_not_defined(h.submit_operation.method)){h.submit_operation={method:rdx.model_constants.ADD,action:null}}h.fixed_column_width=true;this._form=new rdx.form(f,this._view_definition.resource_properties,g,h).render();if(this._form.get_form_holder().get_embedded_views().length>0){this._page_container.addClass("op_wizard_summary_view_page")}if(this._form.get_form_holder().is_two_row_layout_for_fields()==true){this._page_container.addClass("op_two_column_summary_view")}this._form.set_resource(this._resource);this._form.add_form_initialized_event(new rdx.callback(this,this._form_initialized));rdx.form_utils.prefill_form_data(f,this._form,this._form,this._form._get_field_resource_response_arrived);this._form.finalize()};rdx.op_wizard_summary_page.prototype.get_resource_response_arrived=function(c){var d=rdx.utils.get_formatted_response(c);if(rdx.utils.is_not_defined(d)){this._form_initialized(this._form);return}this._form.initialize(d);this.is_message_container()};rdx.op_wizard_summary_page.prototype._form_initialized=function(b){if(rdx.utils.is_defined(this._view_definition.field_dependencies)){this._field_dependencies=new rdx.dependency(this._form,this._view_definition.field_dependencies)}this.handle_unmask();if(rdx.utils.is_defined(this._field_dependencies)){this._field_dependencies.trigger_dependencies()}this._base_view.set_view_state(rdx.view_constants.view_state.ACTIVE)};rdx.op_wizard_summary_page.prototype.get_form=function(){return this._form};rdx.op_wizard_summary_page.prototype.destroy_view=function(b){this._form.destroy_form(b);this._parent.remove()};rdx.op_wizard_summary_page.prototype._is_add_mode=function(){if(rdx.utils.is_not_defined(this._view_definition.view_properties)||rdx.utils.is_not_defined(this._view_definition.view_properties.submit_operation)){return true}var b=this._view_definition.view_properties.submit_operation.method;if(rdx.utils.is_defined(b)&&b==rdx.model_constants.ADD){return true}return false};rdx.op_wizard_summary_page.prototype._add_to_panel_holder=function(c,d){this._panels_holder[c]=d};rdx.op_wizard_summary_page.prototype._get_panel=function(b){return this._panels_holder[b]};rdx.op_wizard_summary_page.prototype._get_resource_for_operation=function(){return rdx.form_utils.get_resource_for_operation(this._form,this._resource,null)};rdx.op_wizard_summary_page.prototype.get_data=function(){return this._get_resource_for_operation()};rdx.op_wizard_summary_page.prototype._set_optional_page_index=function(){if(rdx.utils.is_defined(this._properties.__index)){var d=this._properties.__index;var e=d.toString();var f=$("<div>").addClass("optional_page_index");this._panels_holder[this.TOP_PANEL].prepend(f);f.append(e);this._panels_holder[this.TITLE_PANEL].addClass("title_border")}};rdx.op_wizard_summary_page.prototype.is_message_container=function(){if(rdx.utils.is_defined(this._properties.message_container)){var l=rdx.i18n.get_string(this._properties.message_container);var h=l.split(" ");var n=l;for(var o=0;o<h.length;o++){if(h[o][0]=="{"){var g=h[o].substring(1,h[o].length-1);var m=this._form.get_field_value(g);n=n.replace(h[o],'<span style = "color:#2A2723 ">'+m+"</span>")}}this._parent.trigger(rdx.events.OP_WIZARD_MESSAGE_CONTAINER,[n])}};rdx.op_wizard_summary_page.prototype.is_title_required=function(){return false};rdx.wizard_controller=function(d,c){this._wizard_view=d;this._parent=c;this._resource_map=null};rdx.wizard_controller.prototype.initialize=function(){this._initialize_resource_map()};rdx.wizard_controller.prototype.submit_changes=function(){var l=this.get_resource_map();var o=new rdx.file_upload_controller(new rdx.callback(this,this._start_model_operation,[l]),this._wizard_view);for(var n in l){for(var t in l[n].pages){var p=l[n].pages[t];var q=p.get_form();o.add_form(q);var m=q.get_embedded_views();for(var t=0;t<m.length;t++){if(rdx.utils.is_not_defined(m[t].get_component())||!rdx.utils.is_function(m[t].get_component().get_form)){continue}var s=m[t].get_component().get_form();if(rdx.utils.is_not_defined(s)){continue}o.add_form(s)}}}o.do_operation()};rdx.wizard_controller.prototype._start_model_operation=function(b){this._submit_form_field_changes(b)};rdx.wizard_controller.prototype._submit_form_field_changes=function(e){var f=this._wizard_view._view_definition.pre_submit_callback;if(rdx.utils.is_defined(this._wizard_view._view_definition)&&rdx.utils.is_defined(f)){var h=this;var g=new rdx.view_callback_on_response_arrived_params({return_call_back:new rdx.callback(function(b,a,c){h._start_submit_form_field_changes(c,b)},[e])});f.call_back([g])}else{this._start_submit_form_field_changes(e)}};rdx.wizard_controller.prototype._process_inner_views_data=function(l){var g=l.get_resource_for_operation();var m=new Array();for(var f in g){if(rdx.utils.is_not_defined(g[f])){continue}if(!(g[f] instanceof rdx.view_component_adapter_data)){continue}var h=g[f];delete g[f];h.set_force_merge_to_same_resource();h.process_inner_view_data(l,m)}return m};rdx.wizard_controller.prototype._get_operation_param=function(m,n,h,p,l,q){var o={resource_defn:l,resource_for_operation:q,callback_on_success:m,callback_on_failure:n,model_method:h,action:p,resource_context:{view_definition:this._wizard_view._view_definition,view:this._view},return_call_back:null};return new rdx.configure_view_operation_params(o)};rdx.wizard_controller.prototype._start_submit_form_field_changes=function(P,E){var D=false;if(rdx.utils.is_defined(this._wizard_view._view_definition.view_properties)){if(rdx.utils.is_defined(this._wizard_view._view_definition.view_properties.model_executor_continue_on_error)){D=true}}var F=new rdx.model_executor_service(new rdx.callback(this._wizard_view,this._wizard_view.on_success),new rdx.callback(this,this._on_failure),D);for(var A in P){var C=null;var O=rdx.utils.get_resource(A);var L={view_definition:this._wizard_view._view_definition};var M=null;var x=null;var B=null;var z=new Array();for(var I in P[A].pages){M=P[A].pages[I];var N=M.get_form();var G=M.get_view();x=rdx.view_utils.get_model_method(G);B=rdx.view_utils.get_action(G);C=rdx.form_utils.get_resource_for_operation(N,M.get_resource(),C);var H=this._get_operation_param(null,null,x,B,O,C);var y=this._process_inner_views_data(H);z=z.concat(y)}if(rdx.utils.is_defined(M.get_callback_before_operation())){M.get_callback_before_operation().call_back([A,C,L,z,E]);this._enable_finish_button()}M.set_modified_resource_data(C);var J=true;if(rdx.utils.is_defined(M.get_view())){if(rdx.utils.is_defined(x)&&x==rdx.model_constants.NONE){J=false}}if(J&&rdx.utils.is_object_not_empty(C)){F.add(x,O,C,B,null,this._parent,L)}for(var I=0;I<z.length;I++){var K=z[I];F.add(K.get_model_method(),K.get_resource_defn(),K.get_resource_for_operation(),K.get_action(),null,this._parent,K.get_resource_context())}}if(rdx.utils.is_object_not_empty(C)||z.length>0){F.execute()}};rdx.wizard_controller.prototype.get_resource_data=function(){var t={};var s=this.get_resource_map();for(var x in s){var o=null;var u=rdx.utils.get_resource(x);var n=new Array();t[x]=new Object();for(var q in s[x].pages){var p=s[x].pages[q];o=rdx.form_utils.get_resource_for_operation(p.get_form(),p.get_resource(),o);t[x][rdx.wizard_constants.ORIGINAL]=p.get_original_resource_data();var w=this._get_operation_param(null,null,null,null,u,o);var v=this._process_inner_views_data(w);n=n.concat(v)}t[x][rdx.wizard_constants.MODIFIED]=o;if(n.length>0){t[x][rdx.wizard_constants.MODIFIED_CHILDREN]=n}}return t};rdx.wizard_controller.prototype._on_failure=function(g){var h=g.get_error_resource();var e=g.get_error_message();var f=parseInt(this.get_resource_map()[h.name].page_index);this._wizard_view.get_wizard().goto_page(f)};rdx.wizard_controller.prototype._initialize_resource_map=function(){var e=new Object();var f=this._get_wizard_view().get_wizard().get_pages_info();for(var h in f){if(rdx.utils.is_not_defined(e[f[h].get_resource_name()])){var g=new Array();g.push(f[h]);e[f[h].get_resource_name()]={page_index:h,response:null,pages:g,resource:f[h].get_resource()}}else{e[f[h].get_resource_name()].pages.push(f[h])}}this._resource_map=e};rdx.wizard_controller.prototype.get_resource_map=function(){return this._resource_map};rdx.wizard_controller.prototype._get_wizard_view=function(){return this._wizard_view};rdx.wizard_controller.prototype._enable_finish_button=function(){if(rdx.utils.is_defined(this._get_wizard_view().get_wizard()._get_panel("finish_button"))){this._get_wizard_view().get_wizard()._get_panel("finish_button").removeAttr("disabled")}};rdx.file_upload_controller=function(c,d){this._success_callback=c;this._view=d;this._request_count=0;this._file_upload_components=[]};rdx.file_upload_controller.prototype.add_form=function(g){var f=g.get_embedded_views();this._file_upload_components=this._file_upload_components.concat(rdx.utils.clone_array(g.get_form_holder().get_file_upload_components()));this._file_upload_components=rdx.form_utils.validate_file_upload_send_to_server(this._file_upload_components,g);for(var e=0;e<f.length;e++){if(rdx.utils.is_not_defined(f[e].get_component())||!rdx.utils.is_function(f[e].get_component().get_form)){continue}var h=f[e].get_component().get_form();if(rdx.utils.is_defined(h)){this._file_upload_components=this._file_upload_components.concat(rdx.utils.clone_array(h.get_form_holder().get_file_upload_components()))}}};rdx.file_upload_controller.prototype.do_operation=function(){this._request_count=this._file_upload_components.length;if(this._request_count==0){this._success_callback.call_back();this._do_trigger_event();return}this._trigger_file_upload()};rdx.file_upload_controller.prototype._do_trigger_event=function(){if(rdx.utils.is_defined(this._view)&&rdx.utils.is_defined(this._view._view_definition.view_properties)&&this._view._view_definition.view_properties.standalone_mode==true){if(rdx.utils.is_defined(this._view)&&rdx.model.is_event_registered_in_model(this._view,rdx.events.MODEL_CHANGED)){$(this._view).trigger(rdx.events.MODEL_CHANGED,[[{}],null,null])}}};rdx.file_upload_controller.prototype._trigger_file_upload=function(){if(this._request_count<=0){this._success_callback.call_back();this._do_trigger_event();return}var d=this._file_upload_components.shift();if(d.get_field().is_part_of_resource()===false){this._handle_file_upload_success();return}var c=new rdx.callback(this,this._handle_file_upload_success);if(!rdx.utils.is_empty(d.get_data())&&d.is_local_selected()&&!d.is_direct_upload()){d.submit(c);this._show_progress_for_upload(d._element)}else{this._handle_file_upload_success()}};rdx.file_upload_controller.prototype._handle_file_upload_success=function(){this._request_count=this._request_count-1;this._trigger_file_upload()};rdx.file_upload_controller.prototype._show_progress_for_upload=function(t){var q=t;var n=q._file_element[0];var o=n.getAttribute("name");var s=new FormData();var l=rdx.utils.is_defined(window.rand)?window.rand:"";t._file_details=n.files[n.files.length-1];s.append("NITRO_WEB_APPLICATION",true);s.append("rand_key",l);s.append(o,t._file_details);this._progress_bar=new rdx.progress_bar($(document.body),{mode:rdx.PROGRESS_BAR});this._progress_bar.show_time_remaining(true);this._progress_bar.show_cancel_button(true);this._progress_bar.show_close_button(false);var m=new Date();this._ajax_request=new rdx.ajax_handler(t._properties.url,new rdx.callback(t,t._handle_success,[this._progress_bar]),"POST",s);this._ajax_request._error_callback=new rdx.callback(this,function(a){this._progress_bar.remove_progress_percent_dialog();if(rdx.utils.is_not_empty(a)){error_message=rdx.utils.html_encode(a)}rdx.message_box.error(a);rdx.status_bar.update_status(a,rdx.ERROR);this.base_view.set_view_state(rdx.view_constants.view_state.ACTIVE)});this._progress_bar.cancel_upload_callback=new rdx.callback(this,this._cancel_callback,[t]);this._ajax_request.set_content_type_header(false);this._ajax_request._progress_bar=this._progress_bar;this._ajax_request.start_time=m.getTime();this._ajax_request._file_upload_params=t;this._progress_bar.handle_percent_progress_bar();this._ajax_request.attach_events_for_upload();t.request_status=this._ajax_request;t.progress_bar=this._progress_bar;if(t._properties.dialog_mode==false&&t._properties.inline_upload==false){if(rdx.utils.is_defined(this._view)&&rdx.utils.is_defined(this._view._base_view)){this.base_view=this._view._base_view;var p=this.base_view.get_view();this._ajax_request._parent_component=p._parent;this._ajax_request._parent_mask_id=this._view._base_view._view._form?this._view._base_view._view._form._mask_id:null}}};rdx.file_upload_controller.prototype._cancel_callback=function(h){this._ajax_request._req.abort();var l=h._file_details.name;if(h._properties.resource_name==null&&h._properties.remote==true){var m=h._properties.remote_dir_path+"/"+l;var o=rdx.utils.get_resource(h._properties.remote_resource);if(rdx.utils.ends_with(h._properties.remote_dir_path,"/")){m=h._properties.remote_dir_path+l}rdx.model.post(o,null,{name:m},new rdx.callback(this,function(a){this._progress_bar.remove_progress_percent_dialog();rdx.mask.unmask_all_components()}),"delete")}else{var g=rdx.resources[h._properties.resource_name].get_url+"/"+l;var n=new rdx.ajax_handler(g,new rdx.callback(this,function(a){this._progress_bar.remove_progress_percent_dialog();rdx.mask.unmask_all_components()}),"DELETE",null);n._error_callback=new rdx.callback(this,function(a){rdx.mask.unmask_all_components();this._progress_bar.remove_progress_percent_dialog()});n._send();if(rdx.utils.is_defined(h._properties.resource_name)){rdx.model.trigger_model_changed_event({},null,rdx.utils.get_resource(h._properties.resource_name))}}if(rdx.utils.is_defined(this.base_view)){this._view._base_view.set_view_state(rdx.view_constants.view_state.ACTIVE)}};rdx.view_renderers=new function(){this._state_up_values=["up","running","enabled","clear","finished","success","completed","active","regex"];this._state_down_values=["down","halted","critical","failed","inactive","down when going out of service"];this._state_outofservice_values=["out of service","disabled","minor","in progress","notregex","partial-up","going out of service"];this._state_major_values=["major"];this._state_warning_values=["warning"];this._state_information_values=["information"];this._state_unknown_values=["unknown"];this.state_renderer=function(v,n,w,x,s){if(rdx.utils.is_not_defined(v[n])){return v[n]}var p=v[n];var u=rdx.view_renderers._get_state_image(p);if(u==null){return p}var o=null;if(rdx.utils.is_defined(x)){var q;var t=x.properties;if(rdx.utils.is_defined(t.display_key_label)){q=rdx.utils.get_resource_key_label(t.resource_name,t.resource_key)}else{if(rdx.utils.is_defined(t.display_key_value)){q=v[t.resource_key]}}o=$(document.createElement("span")).append(q)}else{if(s==true){o=$(document.createElement("span")).append("")}else{o=$(document.createElement("span")).append(p)}}if(w){u.attr("title",p);o.css("display","none")}else{if(s==true){u.addClass("left")}else{u.addClass("right")}}return u.after(o)};this._get_state_image=function(g){var h=g.toLowerCase();if(h!="-na-"){g=g.substring(0,1).toUpperCase()+g.substring(1).toLowerCase()}var e=null;if($.inArray(h,rdx.view_renderers._state_up_values)>=0){e=rdx.images.GREEN_IMG}else{if($.inArray(h,rdx.view_renderers._state_down_values)>=0){e=rdx.images.RED_IMG}else{if($.inArray(h,rdx.view_renderers._state_outofservice_values)>=0){e=rdx.images.YELLOW_IMG}else{if($.inArray(h,rdx.view_renderers._state_major_values)>=0){e=rdx.images.MAJOR_IMG}else{if($.inArray(h,rdx.view_renderers._state_warning_values)>=0){e=rdx.images.YELLOW_IMG}else{if($.inArray(h,rdx.view_renderers._state_information_values)>=0){e=rdx.images.INFORMATION_IMG}else{if($.inArray(h,rdx.view_renderers._state_unknown_values)>=0){e=rdx.images.STATUS_UNKNOWN}}}}}}}if(e==null){return null}var f=$(document.createElement("img")).attr("src",e);return f};this.field_state_renderer=function(l,o,p,n){var s=l[p];var q=l[o];var m=rdx.view_renderers._get_state_image(s);if(m==null){return q}if(rdx.utils.is_defined(n)){m.attr("title",n)}var t=$("<span>").append(m).append($('<span style="padding:0px 4px;  vertical-align: middle;">').text(q));return t};this.alert_field_renderer=function(l,p,n){var o=l[p];var m=$("<img>");m.attr("src",rdx.images.ALERT_IMG);var s=$("<span>");s.append($('<span style="padding:0px 4px;  vertical-align: middle;">').text(o)).append(m);var t={message:n,hide_more:true,remove_tooltip_mouse_leave:true};var q=new rdx.tooltip(m,t);m.bind(rdx.events.MOUSE_OVER,function(){q.render()});m.bind(rdx.events.MOUSE_LEAVE,function(a){q.remove_tooltip(a)});return s};this.add_state_up_value=function(b){rdx.view_renderers._state_up_values.push(b)};this.add_state_down_value=function(b){rdx.view_renderers._state_down_values.push(b)};this.add_state_outofservice_value=function(b){rdx.view_renderers._state_outofservice_values.push(b)};this.add_state_major_value=function(b){rdx.view_renderers._state_major_values.push(b)};this.add_state_warning_value=function(b){rdx.view_renderers._state_warning_values.push(b)};this.add_state_information_value=function(b){rdx.view_renderers._state_information_values.push(b)};this.add_state_unknown_value=function(b){rdx.view_renderers._state_unknown_values.push(b)};this.link_renderer=function(f,m,h){if(rdx.utils.is_not_defined(f[m])){return f[m]}var l=f[m];var g=rdx.utils.is_defined(h)?rdx.i18n.get_string(h):rdx.i18n.get_string("rdx.view_render_open_link_text");return $(document.createElement("a")).attr("href","http://"+l).attr("title",g).attr("target",l.replace(/\./g,"_")).append(l).bind(rdx.events.CLICK,function(a){a.stopPropagation()})};this.bar_chart_renderer=function(e,d,f){if(rdx.utils.is_not_defined(e[d])){return e[d]}return new rdx.bar_chart(null,{value:e[d],class_names:f}).render()};this.rate_in_bps_renderer=function(d,c){return value=rdx.view_formatters.rate_in_bps_formatter(d,c)};this.size_in_bytes_renderer=function(d,c){return value=rdx.view_formatters.size_in_bytes_formatter(d,c)};this.seconds_to_date_string_renderer=function(d,c){return value=rdx.view_renderers.date_string_renderer(d,c,rdx.view_formatters.SECOND)};this.date_string_renderer=function(e,f,d){return value=rdx.view_formatters.date_string_formatter(e,f,d)};this.onoff_renderer=function(d,c){return value=rdx.view_formatters.onoff_formatter(d,c)};this.seconds_to_day_hour_min_sec_renderer=function(e,d,f){return rdx.view_formatters.seconds_to_day_hour_min_sec_formatter(e,d,f)};this.trimmed_url_renderer=function(e,h,g){var f="";if(rdx.utils.is_defined(e)&&rdx.utils.is_defined(h)&&rdx.utils.is_defined(e[h])){f=rdx.view_formatters.trimmed_url_formatter(e,h,g)}return f};this.trimmed_url_renderer_with_tooltip=function(f,e,g){var h="";if(rdx.utils.is_defined(f)&&rdx.utils.is_defined(e)&&rdx.utils.is_defined(f[e])){h=$(document.createElement("span")).attr("title",f[e]).append(rdx.view_formatters.trimmed_url_formatter(f,e,g))}return h};this.percent_label_renderer=function(e,d){if(rdx.utils.is_defined(e[d])){var f=e[d];return f+" %"}return e[d]};this.ellipsis_renderer=function(e,d,f){if(rdx.utils.is_not_defined(e[d])){return e[d]}return($("<span>").append(e[d]).ellipsis(f))};this.allcaps_renderer=function(d,c){if(rdx.utils.is_not_defined(d[c])||typeof(d[c])!="string"){return d[c]}return d[c].toUpperCase()};this.seconds_renderer=function(e,d,f){return rdx.view_formatters.seconds_formatter(e,d,f)};this.number_comma_kilo_renderer=function(d,c){return rdx.view_formatters.number_comma_kilo_formatter(d,c)};this.edit_remove_link_renderer=function(B,u,x,C,y,A,q,D){if(rdx.utils.is_not_defined(x)&&rdx.utils.is_not_defined(C)){return B[u]}var s=rdx.utils.is_not_defined(D)?$("<div>"):D;s.addClass("view_edit_remove_link_row");if(rdx.utils.is_defined(C)){var w=rdx.utils.is_defined(A)?rdx.i18n.get_string(A):rdx.i18n.get_string("rdx.button_remove");var z=$("<span>").addClass("view_renderer_link").addClass("view_remove_link").attr("title",w).bind(rdx.events.CLICK,{row_obj:B,click_handler_callback:C},function(a){a.stopPropagation();rdx.utils.prevent_default(a);var b=a.data.click_handler_callback;if(rdx.utils.is_defined(b)){rdx.message_box.confirm(rdx.i18n.get_string("rdx.table_data_action_confirm_single_row"),new rdx.callback(function(c,d){b.call_back([d])},[b,B]));return}});s.append(z)}if(rdx.utils.is_defined(x)){var t=rdx.utils.is_defined(y)?rdx.i18n.get_string(y):rdx.i18n.get_string("rdx.edit");var v=$("<span>").addClass("view_renderer_link").addClass("view_edit_link").attr("title",t).bind(rdx.events.CLICK,{row_obj:B,click_handler_callback:x},function(a){var b=a.data.click_handler_callback;if(rdx.utils.is_defined(b)){b.call_back([B]);return}});s.append(v)}if(rdx.utils.is_defined(u,B[u])){s.append($("<span>").addClass("view_link_text").append(B[u]).attr("title",B[u]))}return s};this.seconds_to_hh_mm_ss_renderer=function(e,d,f){return rdx.view_formatters.seconds_to_hh_mm_ss_formatter(e,d,f)};this.edit_remove_link_renderer_copy=function(C,u,x,D,z,B,q){if(rdx.utils.is_not_defined(x)&&rdx.utils.is_not_defined(D)){return C[u]}var s=$("<div>").addClass("view_edit_remove_link_row_copy");if(rdx.utils.is_defined(D)){var w=rdx.utils.is_defined(B)?rdx.i18n.get_string(B):rdx.i18n.get_string("rdx.button_remove");var A=$("<span>").addClass("view_renderer_link_copy").addClass("view_remove_link_copy").attr("title",w).bind(rdx.events.CLICK,{row_obj:C,click_handler_callback:D},function(a){var b=a.data.click_handler_callback;if(rdx.utils.is_defined(b)){rdx.message_box.confirm(rdx.i18n.get_string("rdx.table_data_action_confirm_single_row"),new rdx.callback(function(c,d){b.call_back([d])},[b,C]));return}});s.append(A)}if(rdx.utils.is_defined(x)){var t=rdx.utils.is_defined(z)?rdx.i18n.get_string(z):rdx.i18n.get_string("rdx.edit");var v=$("<span>").addClass("view_renderer_link_copy").addClass("view_edit_link_copy").attr("title",t).bind(rdx.events.CLICK,{row_obj:C,click_handler_callback:x},function(a){var b=a.data.click_handler_callback;if(rdx.utils.is_defined(b)){b.call_back([C]);return}});if(rdx.utils.is_not_defined(q)){q="More"}var y=$("<a>").attr("href","#noAnchor").addClass("more_label_style").html(q);v.append(y);s.append(v)}return s};this.render_notification_views=function(m,h,l){if(rdx.utils.is_not_defined(m)){return""}var g=rdx.utils.get_view(m);var n=rdx.utils.is_not_empty(h)?rdx.i18n.get_string(h):rdx.i18n.get_string("rdx.click_here_to_view");var o=$("<a>").append(n).addClass("notification_view_link").bind(rdx.events.CLICK,{resource_data:rdx.utils.is_defined(l)?l:null,view:m},function(b){var a=b.data.resource_data;rdx.view_utils.show_view_in_slider(rdx.utils.get_view(b.data.view),null,a)});return o};this.trimmed_data_renderer=function(e,d,f){return rdx.view_formatters.trimmed_data_formatter(e,d,f)};this.help_details_renderer=function(D){var t={messages:null};var w=$("<div>").addClass("rdx_help_details_container");var v=$.extend(true,{},t,D);if(rdx.utils.is_not_defined(v.messages)){return w}var x=[];for(var z=0;z<v.messages.length;z++){var C=v.messages[z];var s=$("<div>").addClass("rdx_help_block_container");var u=$("<div>").addClass("rdx_help_block_title rdx_background rdx_border");u.append($("<span>").addClass("rdx_help_blick_title_container").append(C.title));var A=$("<span>").addClass("rdx_help_expand_collapse rdx_help_collapse");u.append(A);s.append(u);var q=$("<div>").addClass("rdx_help_message_container");q.append(rdx.i18n.get_string(C.message));s.append(q);q.hide();w.append(s);x.push({message_container:q,title_container:u,icon_container:A,message_obj:C,ind:z})}var B={current:{}};for(var z=0;z<x.length;z++){var y=x[z];if(y.message_obj.expand==true){y.icon_container.removeClass("rdx_help_collapse").addClass("rdx_help_expand");rdx.utils.slide_up_down(y.message_container,false);B.current=y}y.title_container.bind(rdx.events.CLICK,{current_obj:B,containers_list:x,ind:z},function(a){if(a.data.current_obj.current.ind==a.data.ind){return}a.data.current_obj.current.icon_container.removeClass("rdx_help_expand").addClass("rdx_help_collapse");a.data.current_obj.current.message_container.hide();rdx.utils.slide_up_down(a.data.containers_list[a.data.ind]["message_container"],false);a.data.current_obj.current=a.data.containers_list[a.data.ind];a.data.containers_list[a.data.ind]["icon_container"].removeClass("rdx_help_collapse").addClass("rdx_help_expand")})}return w}};rdx.view_formatters=new function(){this.GIGA_BYTES="GB";this.MEGA_BYTES="MB";this.KILO_BYTES="KB";this.BYTES="bytes";this.GBPS="gbps";this.MBPS="mbps";this.KBPS="kbps";this.BPS="bps";this.MILLI_SECOND="milli_second";this.SECOND="second";this.MINUTE="minute";this.HOUR="hour";this.KILO_BYTES_VALUE=1024;this.MEGA_BYTES_VALUE=this.KILO_BYTES_VALUE*1024;this.GIGA_BYTES_VALUE=this.MEGA_BYTES_VALUE*1024;this.MICRO_SECOND_UNIT="\u00B5s";this.MILLI_SECOND_UNIT="ms";this.SECOND_UNIT="s";this.list_formatter=function(h,n,o){if(rdx.utils.is_not_defined(o)){o=new Array()}if(!rdx.utils.is_array(h)){return h}var l=[];for(var p=0,q=h.length;p<q;p++){var m=h[p][n];if($.inArray(m,o)==-1){l.push(m)}}return l.sort()};this.rate_in_bps_formatter=function(t,s){if(rdx.utils.is_not_defined(t[s])){return t[s]}var o=t[s];var q=o;var p=rdx.view_formatters.BPS;var m=o/(rdx.view_formatters.GIGA_BYTES_VALUE);if(m>=1){q=m;p=rdx.view_formatters.GBPS}else{var l=o/(rdx.view_formatters.MEGA_BYTES_VALUE);if(l>=1){q=l;p=rdx.view_formatters.MBPS}else{var n=o/rdx.view_formatters.KILO_BYTES_VALUE;if(n>=1){q=n;p=rdx.view_formatters.KBPS}}q=parseFloat(q).toFixed(2)}return rdx.view_formatters.decimal_formatter({decimal_formatter:q},"decimal_formatter")+" "+rdx.i18n.get_string("rdx.view_format_units_"+p)};this.size_in_bytes_formatter=function(t,s,o){if(rdx.utils.is_not_defined(o)){if(rdx.utils.is_not_defined(t[s])){return t[s]}var o=t[s]}if((typeof(o)=="string")&&(o.indexOf("bytes")>-1||o.indexOf("MB")>-1||o.indexOf("KB")>-1||o.indexOf("GB")>-1)){return o}var q=o;var p=rdx.view_formatters.BYTES;var m=o/(rdx.view_formatters.GIGA_BYTES_VALUE);if(m>=1){q=m;p=rdx.view_formatters.GIGA_BYTES}else{var l=o/(rdx.view_formatters.MEGA_BYTES_VALUE);if(l>=1){q=l;p=rdx.view_formatters.MEGA_BYTES}else{var n=o/rdx.view_formatters.KILO_BYTES_VALUE;if(n>=1){q=n;p=rdx.view_formatters.KILO_BYTES}}}if(q==1){p=p.replace(/s$/,"")}return rdx.view_formatters.decimal_formatter({decimal_formatter:q},"decimal_formatter")+" "+rdx.i18n.get_string("rdx.view_format_units_"+p)};this.bytes_converter=function(g,f,l){if(rdx.utils.is_not_defined(g[f])){return g[f]}var h=parseFloat(g[f]);var m=h;switch(l){case rdx.view_formatters.GIGA_BYTES:m=h/(rdx.view_formatters.GIGA_BYTES_VALUE);break;case rdx.view_formatters.MEGA_BYTES:m=h/(rdx.view_formatters.MEGA_BYTES_VALUE);break;case rdx.view_formatters.KILO_BYTES:m=h/rdx.view_formatters.KILO_BYTES_VALUE;break;default:m=h}return rdx.view_formatters.decimal_formatter({decimal_formatter:m},"decimal_formatter")};this.convert_to_bytes=function(g,f,l){if(rdx.utils.is_not_defined(g[f])){return g[f]}var h=parseFloat(g[f]);var m=h;switch(l){case rdx.view_formatters.GIGA_BYTES:m=h*(rdx.view_formatters.GIGA_BYTES_VALUE);break;case rdx.view_formatters.MEGA_BYTES:m=h*(rdx.view_formatters.MEGA_BYTES_VALUE);break;case rdx.view_formatters.KILO_BYTES:m=h*rdx.view_formatters.KILO_BYTES_VALUE;break;default:m=h}return m+""};this.decimal_formatter=function(e,d){if(rdx.utils.is_not_defined(e[d])){return e[d]}var f=e[d];if(rdx.utils.is_defined(f)){if((""+f).indexOf(rdx.i18n.get_decimal_separator())>=0){f=new Number(f).toFixed(2);if((""+f).indexOf(rdx.i18n.get_decimal_separator()+"00")>0){f=Math.round(f)}}return f}};this.days_to_years_days_formatter=function(h){var l="";var f={" year":365.25," day":1};for(var g in f){var m=Math.floor(h/f[g]);if(m>=1){l+=m+g+(m>1?"s":"")+" ";h-=m*f[g]}}return l};this.seconds_to_date_string_formatter=function(d,c){return this.date_string_formatter(d,c,rdx.view_formatters.SECOND)};this.date_string_formatter=function(f,h,m){if(rdx.utils.is_not_defined(f[h])||f[h]==""){return f[h]}var l=parseInt(f[h]);if(l<0){return""}if(rdx.utils.is_not_defined(m)){m=rdx.view_formatters.SECOND}switch(m){case rdx.view_formatters.SECOND:l=l*1000;break;default:l=l}var g=new Date(l);return g.toGMTString()};this.seconds_to_day_hour_min_sec_formatter=function(u,o,s){if(rdx.utils.is_not_defined(u[o])){return u[o]}var p=u[o];if(rdx.utils.is_not_defined(s)){s=rdx.view_formatters.SECOND}var q=p;if(s==rdx.view_formatters.MILLI_SECOND){q=p/1000}else{if(s==rdx.view_formatters.MINUTE){q=p*60}else{if(s==rdx.view_formatters.HOUR){q=p*60*60}}}var v=Math.floor(q/86400);var x=Math.floor((q%86400)/3600);var t=Math.floor(((q%86400)%3600)/60);var w=Math.floor(((q%86400)%3600)%60);var n="";if(v>0){n+=v+rdx.i18n.get_string("rdx.formatter_day_separator")+" "}if(x>0){n+=x+rdx.i18n.get_string("rdx.formatter_hour_separator")+" "}n+=t+rdx.i18n.get_string("rdx.formatter_mininute_separator")+" ";n+=w+rdx.i18n.get_string("rdx.formatter_second_separator");return n};this.minutes_to_age_formatter=function(s,p,q,n){var o=parseInt(s[p]);if(rdx.utils.is_not_defined(q)){q={day:24*60,hour:60,minute:1}}var m=[];for(var v in q){var u=Math.floor(o/q[v]);if(u==1){m.push(u+" "+v)}if(u>=2){m.push(u+" "+v+"s")}o%=q[v]}var t=m.toString().replace(/,/g,", ");if(t.length>0){if(rdx.utils.is_defined(n)){t+=(" "+n)}}else{t="--"}return t};this.onoff_formatter=function(e,d){if(rdx.utils.is_not_defined(e[d])){return e[d]}var f=e[d];if(f=="true"){return rdx.i18n.get_string("rdx.on_status")}return rdx.i18n.get_string("rdx.off_status")};this.yesno_formatter=function(e,d){if(rdx.utils.is_not_defined(e[d])){return e[d]}var f=e[d];if(f){return rdx.i18n.get_string("rdx.yes")}return rdx.i18n.get_string("rdx.no")};this.truefalse_formatter=function(e,d){if(rdx.utils.is_not_defined(e[d])){return e[d]}var f=e[d];if(f&&f==="true"){return rdx.i18n.get_string("rdx.yes")}return rdx.i18n.get_string("rdx.no")};this.yesno_for_enable_disable_formatter=function(e,d){if(rdx.utils.is_not_defined(e[d])){return e[d]}var f=e[d];if(rdx.utils.is_defined(f)){if(f=="ENABLED"||f=="YES"){return rdx.i18n.get_string("rdx.yes")}}return rdx.i18n.get_string("rdx.no")};this.trimmed_url_formatter=function(q,p,m){if(rdx.utils.is_not_defined(q[p])){return q[p]}var h,o=q[p];var l=o.lastIndexOf("/");var n=o.indexOf("?");if(n!=-1||l!=-1){if(n!=-1){h=o.substring(l==-1?0:l,n)}else{h=o.substring(l==-1?0:l)}}else{h=o}if(rdx.utils.is_defined(m)&&h.length>m){return h.substr(0,m)+"..."}return h};this.time_from_to_formatter=function(s,q,l,t){if(rdx.utils.is_not_defined(s[q])||(typeof s[q]!="number")||s[q]<0){return s[q]}try{var n=parseInt(s[q]);var o=n;if(rdx.utils.is_defined(l,t)){if(l!=t){var m=t;switch(l+"->"+t){case rdx.view_formatters.MICRO_SECOND_UNIT+"->"+rdx.view_formatters.MILLI_SECOND_UNIT:o=o/1000;break;case rdx.view_formatters.MICRO_SECOND_UNIT+"->"+rdx.view_formatters.SECOND_UNIT:o=o/1000000;break;case rdx.view_formatters.MILLI_SECOND_UNIT+"->"+rdx.view_formatters.MICRO_SECOND_UNIT:o=o*1000;break;case rdx.view_formatters.MILLI_SECOND_UNIT+"->"+rdx.view_formatters.SECOND_UNIT:o=o/1000;break;case rdx.view_formatters.SECOND_UNIT+"->"+rdx.view_formatters.MILLI_SECOND_UNIT:o=o*1000;break;case rdx.view_formatters.SECOND_UNIT+"->"+rdx.view_formatters.SECOND_UNIT:o=o*1000000;break;default:m=l;break}o=o+" "+m}else{o=o+" "+l}}}catch(p){}return o};this.seconds_formatter=function(g,f,l){if(rdx.utils.is_not_defined(g)||rdx.utils.is_not_defined(f)||rdx.utils.is_not_defined(g[f])){return g[f]}var h=g[f];var m=h;if(l==this.MICRO_SECOND_UNIT){if(h>=1000){if(h<(1000*1000)){m=h/1000;l=this.MILLI_SECOND_UNIT}else{m=h/(1000*1000);l=this.SECOND_UNIT}}}else{if(l==this.MILLI_SECOND_UNIT){if(h>=1000){m=h/1000;l=this.SECOND_UNIT}}else{}}return m+" "+l};this.number_comma_kilo_formatter=function(g,f){var m="",h="",l=false;if(rdx.utils.is_defined(g)&&rdx.utils.is_defined(f)&&rdx.utils.is_defined(g[f])){m=g[f];if(m<1000){}else{m=parseFloat(m/1000).toFixed(2);l=true}h=rdx.chart_utils.format_number(m)+((l==true)?" K":"")}return h};this.seconds_to_hh_mm_ss_formatter=function(l,q,p){var o="",s="",n="",t="";if(rdx.utils.is_defined(l)&&rdx.utils.is_defined(q)&&rdx.utils.is_defined(l[q])){o=l[q];if(rdx.utils.is_defined(p)){if(p==this.SECOND_UNIT||p==this.MILLI_SECOND_UNIT||p==this.MICRO_SECOND_UNIT){if(p==this.MILLI_SECOND_UNIT){o=o/1000}else{if(p==this.MICRO_SECOND_UNIT){o=o/(1000*1000)}}}else{return o}}var m=parseInt(o/(60*60));s=(m>=24)?m:(m%24);n=parseInt(o/60)%60;t=parseInt(o%60);o=s+" h: "+n+" m: "+t+"s"}return o};this.days_to_years_days_formatter=function(h){var l="";var f={" year":365.25," day":1};for(var g in f){var m=Math.floor(h/f[g]);if(m>=1){l+=m+g+(m>1?"s":"")+" ";h-=m*f[g]}}return l};this.long_int_formatter=function(f,e,g){var h=f[e];if(rdx.utils.is_not_defined(h)){return""}h=h.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return(g?h+" "+g:h)};this.trimmed_data_formatter=function(g,f,m){var h="";if(rdx.utils.is_defined(g)&&rdx.utils.is_defined(f)){var l=g[f];h=l;if(rdx.utils.is_defined(m)){if(l.length>m){h=$("<span>").append(l.substring(0,m)+"...").attr("title",l)}}}return h}};rdx.view_dependency_component=function(d,c){this._view=d;this._dependency_defn=c};rdx.view_dependency_component.prototype.get_component=function(c){if(!rdx.utils.is_function(this._view.get_view)){throw"Dependency configuration is not supported for this type of view "+c}var d=this._view.get_view(c);return d};rdx.view_dependency_component.prototype.set_dependent_info=function(f){if(!rdx.utils.is_function(this._view.get_view)){throw"Dependency configuration is not supported for this type of view "+property_key}var e=this._view.get_view(f.get_property());var d=f.is_parent_dependent();if(rdx.utils.is_defined(d)&&d){e=this._view}f.set_view(e);f.set_component(e._parent);this._set_action_and_container(f)};rdx.view_dependency_component.prototype._set_action_and_container=function(d){var c=null;switch(d.get_action()){case rdx.form_constants.field_actions.SHOW:case rdx.form_constants.field_actions.HIDE:c=this.toggle_show_hide;break;case rdx.view_constants.view_actions.DATA_REFRESH:view=d.get_view();component=d.get_component();c=this.do_data_refresh;break;default:throw"Dependency configuration is in-correct for "+dependent_fields[i]+" does not have an action set"}d.set_action_fn(c)};rdx.view_dependency_component.prototype.event_handling_callback=function(A,w,I,J,L){var E=J.property_key;if(!rdx.utils.is_function(this._view.get_view)){throw"Dependency configuration is not supported for this type of view "+E}var v=this._view.get_view(E)+"";for(var z=0,F=L.length;z<F;z++){var x=L[z];var v=x.get_view();var H=x.get_component();var y=x.get_action_fn();var B=x.get_action();var C=x.get_resource();var G=x.get_trigger_values();var K=x.get_dependency_determinant();if(rdx.utils.is_function(J.component.get_dependency_determinant_value)){if(K!=rdx.form_constants.dependency_determinant.VALUE){A=J.component.get_dependency_determinant_value(K)}}x.set_value(rdx.utils.get_formatted_response(A));x.set_resource_context(I);if(rdx.utils.is_defined(component,y,G)){var D=false;if(!rdx.utils.is_array(G)){if($.inArray(field_value,G.values)==-1){D=true}}else{if($.inArray(field_value,G)==-1){D=true}}x.set_reverse_action(D);y.apply(this,[x])}else{y.apply(this,[x])}}};rdx.view_dependency_component.prototype.toggle_show_hide=function(n){var g=false;var h=n.get_view();var l=n.get_action();var m=n.get_reverse_action();var o=n.get_component();if(rdx.utils.is_function(field.get_field)){field.get_field().set_hidden(true)}if((l==rdx.form_constants.field_actions.HIDE&&m)||(l==rdx.form_constants.field_actions.SHOW&&!m)){g=true;if(rdx.utils.is_function(field.get_field)){field.get_field().set_hidden(false)}}if(g){o.show()}else{o.hide()}return null};rdx.view_dependency_component.prototype.do_data_refresh=function(u){var s=u.get_view();var v=u.get_action();var t=u.get_pass_context();var w=u.get_view_to_open();if(rdx.utils.is_defined(t)&&t&&rdx.utils.is_defined(u.get_value())&&rdx.utils.is_defined(s._base_view)){var n=u.get_value();var x=n.view_context;if(rdx.utils.is_defined(x)){if(rdx.utils.is_defined(w)){var p=$.extend(true,p,rdx.utils.get_view(w));var q=n.new_view_title;if(rdx.utils.is_defined(q)){p.view_properties.title=q}var o=new rdx.base_view(s._base_view.get_parent(),p);o.set_view_context(x);o.prepare_view()}else{s._base_view.set_view_context(x);s._base_view.destroy_view();s._base_view.prepare_view()}}}else{if(rdx.utils.is_defined(u.get_view_context())&&rdx.utils.is_defined(u.get_value())&&rdx.utils.is_defined(s._base_view)){var x=s._base_view.get_view_context();x.set_url_params(u.get_view_context(),u.get_value());s._base_view.set_view_context(x);s._base_view.prepare_view()}else{if(rdx.utils.is_function(s.handle_dependency)){s.handle_dependency(u)}}}};rdx.view_dependency_component.prototype.trigger_dependencies=function(m){if(rdx.utils.is_defined(this._view._view_definition.trigger_depedency_on_load)&&this._view._view_definition.trigger_depedency_on_load==false){return}for(var g=0,f=m.length;g<f;g++){var h=m[g].callback;var l=m[g].event;if(rdx.utils.is_defined(h,l)){h.call_back([{},null,{}])}}};rdx.geo_map_view=function(m,f,l,g){this._parent=m;this._view_definition=f;this._resource=l;this._parent_id=null;this._attach_unique_id_for_parent();var h={backgroundColor:{fill:"#FFFFFF",stroke:"#666",strokeWidth:0},colorAxis:{minValue:0,colors:["#66FF66","#003300"]},datalessRegionColor:"F5F5F5",displayMode:"auto",enableRegionInteractivity:"auto",keepAspectRatio:true,region:"world",magnifyingGlass:{enable:true,zoomFactor:5},resolution:"countries",width:this._parent.width(),data:[["Country","Users"],["United States",0]],legend:"none",tooltip:{showColorCode:true},geo_level:rdx.view_constants.WORLD};this._view_properties=$.extend({},h,this._view_definition.view_properties);if(this._view_properties.geo_level==rdx.view_constants.GEO_LEVEL.COUNTRY||this._view_properties.geo_level==rdx.view_constants.GEO_LEVEL.STATE){this._view_properties.resolution="provinces"}if(this._view_properties.geo_level==rdx.view_constants.GEO_LEVEL.STATE){this._view_properties.displayMode="markers"}this._options=null;this._chart=null;this._data=null;this._geo_level=this._view_properties.geo_level;this._response=null;this._resource_properties=this._view_definition.resource_properties;this._location_resource_properties_object={continent_property:null,continent_code_property:null,country_property:null,country_code_property:null,region_property:null,region_code_property:null,city_property:null,city_latitude_property:null,city_longitude_property:null};this._data_resource_property=null;this._select_handler_callback=this._view_properties.select_handler_callback};rdx.geo_map_view.prototype.make_view=function(){$(".title_tool_bar_table").first().show();this._set_location_and_data_resource_properties_object();this._set_geo_chart_options()};rdx.geo_map_view.prototype.get_resource_response_arrived=function(b){this._response=b;this._initialize_geo_chart_and_process_response()};rdx.geo_map_view.prototype.resize_view=function(){if(rdx.utils.is_defined(this._chart,this._data)){this._options.height=this._parent.height();this._options.width=this._parent.width();this._chart.draw(this._data,this._options)}};rdx.geo_map_view.prototype.destroy_view=function(){if(rdx.utils.is_defined(this._chart)){this._chart.clearChart();this._parent.empty()}};rdx.geo_map_view.prototype._set_location_and_data_resource_properties_object=function(){for(var d in this._view_definition.resource_properties){var c=this._view_definition.resource_properties[d];if(rdx.utils.is_defined(c,c.is_continent)&&c.is_continent){this._location_resource_properties_object.continent_property=d}else{if(rdx.utils.is_defined(c,c.is_continent_code)&&c.is_continent_code){this._location_resource_properties_object.continent_code_property=d}else{if(rdx.utils.is_defined(c,c.is_country)&&c.is_country){this._location_resource_properties_object.country_property=d}else{if(rdx.utils.is_defined(c,c.is_country_code)&&c.is_country_code){this._location_resource_properties_object.country_code_property=d}else{if(rdx.utils.is_defined(c,c.is_region)&&c.is_region){this._location_resource_properties_object.region_property=d}else{if(rdx.utils.is_defined(c,c.is_region_code)&&c.is_region_code){this._location_resource_properties_object.region_code_property=d}else{if(rdx.utils.is_defined(c,c.is_city)&&c.is_city){this._location_resource_properties_object.city_property=d}else{if(rdx.utils.is_defined(c,c.is_city_latitude)&&c.is_city_latitude){this._location_resource_properties_object.city_latitude_property=d}else{if(rdx.utils.is_defined(c,c.is_city_longitude)&&c.is_city_longitude){this._location_resource_properties_object.city_longitude_property=d}else{if(rdx.utils.is_defined(c,c.is_data)&&c.is_data){this._data_resource_property=d;if(rdx.utils.is_defined(c.renderer_callback)){this._data_renderer_callback=c.renderer_callback}else{this._data_renderer_callback=null}}else{continue}}}}}}}}}}}};rdx.geo_map_view.prototype._load_geo_chart_library=function(){var d=document.createElement("script");d.src=window.location.protocol+"//www.google.com/jsapi";d.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(d);var c=this;d.onload=function(a){c._load_geo_chart()}};rdx.geo_map_view.prototype._load_geo_chart=function(){var b=this;google.load("visualization","1",{callback:function(a){b._load_map()},packages:["geochart"]})};rdx.geo_map_view.prototype._load_map=function(){if(rdx.utils.is_defined(this._response)&&this._response.length){this._data=this._create_geo_chart_data();if(rdx.utils.is_defined(this._response)){if(this._geo_level==rdx.view_constants.GEO_LEVEL.COUNTRY||this._geo_level==rdx.view_constants.GEO_LEVEL.STATE){this._options.region=this._response[0][this._location_resource_properties_object.country_code_property]}}this._chart=new google.visualization.GeoChart(this._parent[0]);this._chart.draw(this._data,this._options);var b=this;google.visualization.events.addListener(this._chart,"select",function(){b._location_select_handler()});this.resize_view()}};rdx.geo_map_view.prototype._attach_unique_id_for_parent=function(){this._parent_id=rdx.utils.generate_unique_id("geo_map");this._parent.attr("id",this._parent_id)};rdx.geo_map_view.prototype._create_geo_chart_data=function(){this._data=new google.visualization.DataTable();this._create_first_data_element();for(var c=0,d=this._response.length;c<d;c++){this._create_data_element(this._response[c])}return this._data};rdx.geo_map_view.prototype._create_first_data_element=function(){var b=new Array();if(this._geo_level==rdx.view_constants.GEO_LEVEL.WORLD){this._data.addColumn("string","Country");this._data.addColumn("number",rdx.i18n.get_string(this._resource.properties[this._data_resource_property].label));if(rdx.utils.is_defined(this._data_renderer_callback)){this._data.addColumn({type:"string",role:"tooltip"})}}else{if(this._geo_level==rdx.view_constants.GEO_LEVEL.COUNTRY){this._data.addColumn("string","Region");this._data.addColumn("number",rdx.i18n.get_string(this._resource.properties[this._data_resource_property].label));if(rdx.utils.is_defined(this._data_renderer_callback)){this._data.addColumn({type:"string",role:"tooltip"})}}else{this._data.addColumn("string","City");this._data.addColumn("string","Description");this._data.addColumn("number",rdx.i18n.get_string(this._resource.properties[this._data_resource_property].label));if(rdx.utils.is_defined(this._data_renderer_callback)){this._data.addColumn({type:"string",role:"tooltip"})}}}return b};rdx.geo_map_view.prototype._create_data_element=function(e){var f=new Array();if(this._geo_level==rdx.view_constants.GEO_LEVEL.WORLD){if(rdx.utils.is_defined(e[this._location_resource_properties_object.country_property],e[this._data_resource_property])){if(rdx.utils.is_defined(this._data_renderer_callback)){var d=new Object();d[this._data_resource_property]=parseInt(e[this._data_resource_property]);this._data.addRow([e[this._location_resource_properties_object.country_property],parseInt(e[this._data_resource_property]),rdx.i18n.get_string(this._resource.properties[this._data_resource_property].label)+" : "+this._data_renderer_callback.call_back([d,this._data_resource_property,this._resource.properties[this._data_resource_property].unit])])}else{this._data.addRow([e[this._location_resource_properties_object.country_property],parseInt(e[this._data_resource_property])])}}}else{if(this._geo_level==rdx.view_constants.GEO_LEVEL.COUNTRY){if(rdx.utils.is_defined(this._data_renderer_callback)){var d=new Object();d[this._data_resource_property]=parseInt(e[this._data_resource_property]);this._data.addRow([e[this._location_resource_properties_object.region_property],parseInt(e[this._data_resource_property]),rdx.i18n.get_string(this._resource.properties[this._data_resource_property].label)+" : "+this._data_renderer_callback.call_back([d,this._data_resource_property,this._resource.properties[this._data_resource_property].unit])])}else{this._data.addRow([e[this._location_resource_properties_object.region_property],parseInt(e[this._data_resource_property])])}}else{if(rdx.utils.is_defined(this._data_renderer_callback)){var d=new Object();d[this._data_resource_property]=parseInt(e[this._data_resource_property]);this._data.addRow([e[this._location_resource_properties_object.city_property],e[this._location_resource_properties_object.city_property],parseInt(e[this._data_resource_property]),rdx.i18n.get_string(this._resource.properties[this._data_resource_property].label)+" : "+this._data_renderer_callback.call_back([d,this._data_resource_property,this._resource.properties[this._data_resource_property].unit])])}else{this._data.addRow([e[this._location_resource_properties_object.city_property],e[this._location_resource_properties_object.city_property],parseInt(e[this._data_resource_property])])}if(rdx.utils.is_defined(e[this._location_resource_properties_object.city_latitude_property],e[this._location_resource_properties_object.city_longitude_property],e[this._location_resource_properties_object.city_property],parseInt(e[this._data_resource_property]))){f.push(e[this._location_resource_properties_object.city_property],e[this._location_resource_properties_object.city_property],parseInt(e[this._data_resource_property]))}}}return f};rdx.geo_map_view.prototype._initialize_geo_chart_and_process_response=function(){this._load_geo_chart_library()};rdx.geo_map_view.prototype._location_select_handler=function(){if(rdx.utils.is_defined(this._select_handler_callback)&&!(this._view_properties.displayMode=="markers")){var d=this._chart.getSelection();if(rdx.utils.is_defined(d)){var c=this._data.getValue(d[0].row,0);if(rdx.utils.is_defined(c)){this._select_handler_callback.call_back([this._get_selected_object(c)])}}}else{return}};rdx.geo_map_view.prototype._get_selected_object=function(c){var d=new Object();if(this._geo_level==rdx.view_constants.GEO_LEVEL.WORLD){d[this._location_resource_properties_object.country_property]=c}else{if(this._geo_level==rdx.view_constants.GEO_LEVEL.COUNTRY){d[this._location_resource_properties_object.region_property]=c;d[this._location_resource_properties_object.country_property]=this._get_country_for_region(c)}else{}}return d};rdx.geo_map_view.prototype._get_country_for_region=function(h){var f=null;if(rdx.utils.is_defined(this._response)&&this._response.length){for(var l=0,m=this._response.length;l<m;l++){var g=this._response[l];if(g[this._location_resource_properties_object.region_property]==h){f=g[this._location_resource_properties_object.country_property];break}}}return f};rdx.geo_map_view.prototype._set_geo_chart_options=function(){this._options={backgroundColor:this._view_properties.backgroundColor,colorAxis:this._view_properties.colorAxis,datalessRegionColor:this._view_properties.datalessRegionColor,displayMode:this._view_properties.displayMode,enableRegionInteractivity:this._view_properties.enableRegionInteractivity,keepAspectRatio:this._view_properties.keepAspectRatio,region:this._view_properties.region,magnifyingGlass:this._view_properties.magnifyingGlass,resolution:this._view_properties.resolution,width:this._view_properties.width,legend:this._view_properties.legend}};rdx.geo_map_view.prototype.set_data_property=function(b){this._data_resource_property=b};rdx.geo_map_view.prototype.set_select_handler_callback=function(b){this._select_handler_callback=b};rdx.geo_map_view.prototype.set_data_renderer_callback=function(b){this._data_renderer_callback=b};rdx.topology_diagram_view=function(m,f,l,g){this._is_dialog=(rdx.utils.is_defined(f.view_properties.is_dialog)&&f.view_properties.is_dialog)?true:false;this._is_slider=(rdx.utils.is_defined(f.view_properties.is_slider)&&f.view_properties.is_slider)?true:false;this._parent=this._is_dialog?$("<div>"):m;this._view_definition=f;this._view_properties=f.view_properties;this._resource=l;this._base_view=g;this.diagram_type=this._get_diagram_type();this._jsPlumb=null;this._parent_container=null;this._formation_diagram_container=null;this.services_id={};this.networks_id={};this.network_bar={};this._entity_type=null;this._entity_name=null;this._switch=null;this._connection=null;this._ip=null;this._diagram=null;this._entity_id=null;this._source_property_name=null;this._target_property_name=null;this._source_property_view=null;this._target_property_view=null;this._source_type_property_resource_type=null;this._target_type_property_resource_type=null;this._source_type_property_name=null;this._target_type_property_name=null;this._source_type_property_view=null;this._target_type_property_view=null;this._source_type_property_resource=null;this._target_type_property_resource=null;this._link_data_property_name=null;this._hop_property_name=null;this._source_id=null;this._destination_id=null;this._response=null;this.elementsLevel={};this.elementsAtLevel={};this.currentCountAtLevel={};this._number_of_levels=0;this._source=null;this._current_segment_index=0;this._new_item_index=0;var h={is_dialog:false,is_editable:false,height:300,width:300,icons:{client:rdx.images.CLIENT_IMAGE,cloud:rdx.images.CLOUD_IMAGE,netscaler:rdx.images.NETSCALER_IMAGE,repeater:rdx.images.REPEATER_IMAGE,server:rdx.images.SERVER_IMAGE,device:rdx.images.NETSCALER_IMAGE,network:rdx.images.CLOUD_IMAGE,br:rdx.images.CB_IMAGE,sdwanvw:rdx.images.CB_IMAGE}};this._view_properties=$.extend({},h,this._view_definition.view_properties);if(rdx.utils.is_defined(this._view_properties)&&rdx.utils.is_defined(this._view_properties.title)){this._view_properties.title=rdx.i18n.get_string(this._view_properties.title)}if(rdx.utils.is_defined(this._view_properties._dont_show_title)&&(this._view_properties._dont_show_title==true)){this._view_properties.title=null}this._get_resource_properties();this._is_editable=rdx.utils.is_defined(this._view_properties.is_editable)&&this._view_properties.is_editable;this._available_items_resource=rdx.utils.is_defined(this._view_properties.available_items_resource)?this._view_properties.available_items_resource:null;this._click_view_map=this._view_properties.click_view_map};rdx.topology_diagram_view.prototype._get_diagram_type=function(){if(rdx.utils.is_defined(this._view_properties)){var d=this._view_properties;if(rdx.utils.is_defined(d.diagram_type)){var c=d.diagram_type;if(c==rdx.view_constants.HOP_DIAGRAM){return"hop_diagram"}else{if(c==rdx.view_constants.FORMATION_DIAGRAM){return"formation_diagram"}else{return null}}}}return null};rdx.topology_diagram_view.prototype._get_resource_properties=function(){if(this.diagram_type=="hop_diagram"){for(var d in this._view_definition.resource_properties){var c=this._view_definition.resource_properties[d];if(rdx.utils.is_defined(c)){if(rdx.utils.is_defined(c.is_source)&&c.is_source){this._source_property_name=d;this._source_property_view=c;this._source_property_resource=this._resource.properties[d]}if(rdx.utils.is_defined(c.is_target)&&c.is_target){this._target_property_name=d;this._target_property_view=c;this._target_property_resource=this._resource.properties[d]}if(rdx.utils.is_defined(c.is_source_type)&&c.is_source_type){this._source_type_property_name=d;this._source_type_property_view=c;this._source_type_property_resource=this._resource.properties[d]}if(rdx.utils.is_defined(c.is_target_type)&&c.is_target_type){this._target_type_property_name=d;this._target_type_property_view=c;this._target_type_property_resource=this._resource.properties[d]}if(rdx.utils.is_defined(c.is_hop)&&c.is_hop){this._hop_property_name=d}if(rdx.utils.is_defined(c.is_source_text)&&c.is_source_text){this._source_text_property_name=d}if(rdx.utils.is_defined(c.is_target_text)&&c.is_target_text){this._target_text_property_name=d}if(rdx.utils.is_defined(c.is_source_top)&&c.is_source_top){this._source_top_property_name=d}if(rdx.utils.is_defined(c.is_source_left)&&c.is_source_left){this._source_left_property_name=d}if(rdx.utils.is_defined(c.is_target_top)&&c.is_target_top){this._target_top_property_name=d}if(rdx.utils.is_defined(c.is_target_left)&&c.is_target_left){this._target_left_property_name=d}if(rdx.utils.is_defined(c.is_source_icon_path)&&c.is_source_icon_path){this._source_icon_path_property_name=d}if(rdx.utils.is_defined(c.is_target_icon_path)&&c.is_target_icon_path){this._target_icon_path_property_name=d}if(rdx.utils.is_defined(c.is_link_data)&&c.is_link_data){this._link_data_property_name=d}}}}else{if(this.diagram_type==="formation_diagram"){for(var d in this._view_definition.resource_properties){var c=this._view_definition.resource_properties[d];if(rdx.utils.is_defined(c)){if(rdx.utils.is_defined(c.is_entity_type)&&c.is_entity_type){this._entity_type=d}if(rdx.utils.is_defined(c.is_entity_name)&&c.is_entity_name){this._entity_name=d}if(rdx.utils.is_defined(c.is_switch)&&c.is_switch){this._switch=d}if(rdx.utils.is_defined(c.is_connection)&&c.is_connection){this._connection=d}if(rdx.utils.is_defined(c.is_ip)&&c.is_ip){this._ip=d}if(rdx.utils.is_defined(c.is_diagram)&&c.is_diagram){this._diagram=d}if(rdx.utils.is_defined(c.is_entity_id)&&c.is_entity_id){this._entity_id=d}}}}}};rdx.topology_diagram_view.prototype.make_view_hop_diagram=function(){this._parent.empty();this._diagram_title=rdx.utils.is_defined(this._view_properties.title)?rdx.i18n.get_string(this._view_properties.title):null;var o=$("<table>").addClass("diagram_table_container");this._parent.append(o);if(this._diagram_title){var p=$("<tr>");var x=$("<td>").attr("colspan","2").addClass("topology_hop_diagram_title").hide();x.append(this._diagram_title);p.append(x);o.append(p)}var w=$("<tr>");this._td_diagram=$("<td>").css("width",(this._is_editable&&this._available_items_resource)?"80%":"100%");this._td_available_items=$("<td>").css("width",(this._is_editable&&this._available_items_resource)?"20%":"0%");w.append(this._td_diagram);if(this._is_editable){w.append(this._td_available_items)}o.append(w);if(rdx.utils.is_defined(this._click_view_map)){this._click_detail_row=$("<tr>");this._click_detail_column=$("<td>");this._click_detail_row.append(this._click_detail_column);o.append(this._click_detail_row)}this._diagram_container=this._td_diagram;if(this._is_editable&&this._available_items_resource){var s=rdx.utils.get_resource(this._available_items_resource);var v=this;rdx.model.get(s,null,new rdx.callback(this,function(a){if(rdx.utils.is_defined(a)){v._create_available_items_pane(a)}}),null,new rdx.callback(this,function(){rdx.message_box.info("appflow.cannot_get_available_items")}));var u=$("<tr>");var y=$("<td>").attr("colspan","2").addClass("topology_hop_action_pane");var t=$("<button>").addClass("topology_hop_save_button").append(rdx.i18n.get_string("rdx.save")).bind(rdx.events.CLICK,{_this:this},function(a){a.data._this._save_diagram()});var q=$("<button>").addClass("topology_hop_cancel_button").append(rdx.i18n.get_string("rdx.cancel"));y.append(t).append(q);u.append(y);o.append(u)}else{this._td_available_items.css("display","none")}this._diagram_container.addClass("topology_hop_diagram_container");if(this._view_properties.is_dialog){var z={minHeight:550,width:800,modal:true,resizable:true,title:this._view_properties.title};this._parent.dialog($.extend({},z,this._view_definition.dialog_properties))}if(rdx.utils.is_defined(this._view_properties.height)){this._diagram_container.css("height",this._view_properties.height)}else{this._diagram_container.css("height","550")}this._configure_jsPlumb_defaults_hop_diagram()};rdx.topology_diagram_view.prototype.make_view_formation_diagram=function(){this._parent.empty();var d=$("<div></div>");d.addClass("topology_formation_diagram_parent_container");var c=$("<div></div>");c.addClass("topology_formation_diagram_container");this._parent.append(d);this._parent_container=d;this._parent_container.append(c);this._formation_diagram_container=c;this._jsPlumb=jsPlumb.getInstance();this._configure_jsPlumb_defaults_formation_diagram(this._jsPlumb)};rdx.topology_diagram_view.prototype.make_view=function(){if(this.diagram_type==="hop_diagram"){this.make_view_hop_diagram()}else{if(this.diagram_type==="formation_diagram"){this.make_view_formation_diagram()}else{}}};rdx.topology_diagram_view.prototype.get_resource_response_arrived_hop=function(o){var t=o;this._parent_top_offset=$(this._parent).offset().top;this._parent_left_offset=$(this._parent).offset().left;this._response=t;this._is_saved_diagram=this._view_properties.is_saved_diagram;if(rdx.utils.is_defined(this._source_property_name)&&rdx.utils.is_defined(this._target_property_name)){if(rdx.utils.is_not_defined(this._is_saved_diagram)||!this._is_saved_diagram){for(var q=0,s=t.length;q<s;q++){var p=t[q];var m=0;if(rdx.utils.is_defined(p[this._hop_property_name])){m=parseInt(p[this._hop_property_name])}if(rdx.utils.is_defined(p[this._source_property_name])){if(!rdx.utils.is_defined(this.elementsLevel[p[this._source_property_name]])){this.elementsLevel[p[this._source_property_name]]=m}else{if(this.elementsLevel[p[this._source_property_name]]<m){this.elementsLevel[p[this._source_property_name]]=m}}}if(rdx.utils.is_defined(p[this._target_property_name])){if(!rdx.utils.is_defined(this.elementsLevel[p[this._target_property_name]])){this.elementsLevel[p[this._target_property_name]]=m+1}else{if(this.elementsLevel[p[this._target_property_name]]<(m+1)){this.elementsLevel[p[this._target_property_name]]=m+1}}}}for(var l in this.elementsLevel){var n=this.elementsLevel[l];if(rdx.utils.is_defined(this.elementsAtLevel[n])){this.elementsAtLevel[n]++}else{this.elementsAtLevel[n]=1;this._number_of_levels++}}for(var q=0,s=t.length;q<s;q++){this._create_segment_hop_diagram(t[q])}}else{this._create_segment_saved_diagram(t[this._current_segment_index])}}};rdx.topology_diagram_view.prototype.get_resource_response_arrived_formation=function(U){var O=this._entity_type;var D=this._ip;var K=this._connection;var Z=this._update_response_with_formation_element_positions(U);if(O){for(var E=0;E<Z.length;E++){var V=Z[E];if(V[O]=="container_height"){var G=V.height;this._formation_diagram_container.css({height:G});break}}if(Z.length>2){for(var E=0;E<Z.length;E++){var V=Z[E];if(V[O]==="service"){this._draw_service_elements(V)}else{if(V[O]==="network"){this._draw_network_elements(V)}else{if(V[O]==="footer"){this.drawFooter(V)}}}}}for(var E=0;E<Z.length;E++){var V=Z[E];if(V[O]==="service"){var T=[],S=[];var M=[],J=[];M=[V.left,V.top];J=[V.width,V.height];var L=V.anchors;var P=[];var W=V[K];var Q=V[D];var H=this.services_id[Q];var R=H.id_service;for(var F=0;F<(V[K].length);F++){var I="topology_formation"+W[F]+"vertical_bar";var B=$("."+R);var N=$("."+I);var C=this.network_bar[W[F]];if(rdx.utils.is_defined(N)&&rdx.utils.is_defined(B)&&rdx.utils.is_defined(C)){T=[C.left,C.top];S=[C.width,C.height];P[F]=this.anchorFinder(T,S,M,J,L[F]);this.connect_elements(N,B,[P[F],L[F]],{strokeStyle:C.color})}}}}}};rdx.topology_diagram_view.prototype.get_resource_response_arrived=function(b){if(this.diagram_type==="hop_diagram"){this.get_resource_response_arrived_hop(b)}else{if(this.diagram_type==="formation_diagram"){this.get_resource_response_arrived_formation(b)}}};rdx.topology_diagram_view.prototype._configure_jsPlumb_defaults_hop_diagram=function(b){jsPlumb.importDefaults({PaintStyle:{lineWidth:3,strokeStyle:"#1172b9"},Endpoint:["Dot",{radius:4,cssClass:"topology_hop_endpoint"}],EndpointStyle:{fillStyle:"#1172b9"},Connector:["Straight"],DragOptions:{cursor:"pointer",zIndex:2000},DropOptions:{tolerance:"touch",hoverClass:"dropHover",activeClass:"dragActive"},ConnectionsDetachable:true,ReattachConnections:true,Scope:"x"});_this=this;this._end_point_options={isSource:this._is_editable,isTarget:this._is_editable,maxConnections:10,beforeDrop:function(v){var x=$(document.getElementById(v.sourceId));var t=$(document.getElementById(v.targetId));var o=x.attr(_this._source_icon_path_property_name);var p=t.attr(_this._target_icon_path_property_name);var q=x.offset().left/screen.width;var u=x.offset().top/screen.height;var a=t.offset().left/screen.width;var s=t.offset().top/screen.height;var w={source:v.sourceId,source_text:"",source_icon_path:o,source_left_offset:q,source_top_offset:u,target:v.targetId,target_text:"",target_icon_path:p,target_left_offset:a,target_top_offset:s};_this._to_save_response.push(w);return true},scope:"x"};if(this._is_editable){jsPlumb.bind("click",function(d,a){if(confirm("Delete connection from "+d.sourceId+" to "+d.targetId+"?")){jsPlumb.detach(d)}})}else{jsPlumb.bind("click",function(d,a){})}};rdx.topology_diagram_view.prototype._configure_jsPlumb_defaults_formation_diagram=function(b){b.importDefaults({Connector:["Straight",{gap:[0,5]}]})};rdx.topology_diagram_view.prototype._draw_network_elements=function(D){var w=this._entity_type;var q=this._entity_name;var B=this._switch;var C=this._entity_id;var v=D[C];var y=D[w];var z=$("<div></div>");if(rdx.utils.is_defined(this._click_view_map)&&rdx.utils.is_defined(this._click_view_map[y])&&rdx.utils.is_defined(rdx.utils.get_view(this._click_view_map[y]))){z.css("cursor","pointer").bind(rdx.events.CLICK,{ID:v,view_definition:this._click_view_map[y]},function(c){var h=c.data.ID;var d=rdx.utils.get_view(c.data.view_definition);var a=null;if(rdx.utils.is_defined(d.resource_name)){a=rdx.utils.get_resource(d.resource_name)}if(rdx.utils.is_defined(a)&&rdx.utils.is_defined(a.primary_keys)){var f=a.primary_keys[0];if(rdx.utils.is_defined(h)&&rdx.utils.is_defined(d)){var e=rdx.page.show_slider();var b=new Object();b[f]=h;var g=new rdx.base_view(e,d);rdx.url_utils.add_to_url_object(g.get_view_context().get_url_params(),[f],rdx.url_utils.GET_BY_NAME_TYPE,b);g.prepare_view()}}})}var A=$("<div></div>").addClass("topology_formation_network_name_container");var u=$("<div></div>");z.append(A);z.append(u);z.addClass("topology_formation_ntw_container");this._formation_diagram_container.append(z);if(q){var t=$("<p>"+D[q]+"</p>").addClass("topology_formation_network_element_name");A.append(t)}if(B){var x=$("<p>"+D[B]+"</p>").addClass("topology_formation_network_element_name");u.append(x);u.addClass("topology_formation_network_switch_name_container")}var s=$("<div class=topology_formation"+v+"vertical_bar></div>");s.addClass("topology_formation_vertical_bar");this._formation_diagram_container.append(s);z.css({top:D.top,left:D.left,width:D.width,height:D.height});u.css({width:D.width*D.switch_percentage,height:D.height});A.css({width:D.width*(1-D.switch_percentage),"background-color":D.color,color:D.color,height:D.height,left:(D.switch_percentage*D.width)});s.css({top:D.vrtcl_bar_top,left:D.vrtcl_bar_left,width:D.vrtcl_bar_width,height:D.vrtcl_bar_height,color:D.color,"background-color":D.color});this.network_bar[v]={top:D.vrtcl_bar_top,left:D.vrtcl_bar_left,width:D.vrtcl_bar_width,height:D.vrtcl_bar_height,color:D.color,ID:v}};rdx.topology_diagram_view.prototype._draw_service_elements=function(t){var z=this._entity_type;var H=this._entity_name;var y=this._ip;var F=this._entity_id;var v=Math.random();var G=t[y];var x=G.replace(/\./g,"");x="topology_formation_"+x;var B=t[F];var A=t[z];var D=$("<div></div>").addClass(x);if(rdx.utils.is_defined(this._click_view_map)&&rdx.utils.is_defined(this._click_view_map[A])&&rdx.utils.is_defined(rdx.utils.get_view(this._click_view_map[A]))){D.css("cursor","pointer").bind(rdx.events.CLICK,{service_entity_id:B,view_definition:this._click_view_map[A]},function(b){var a=b.data.service_entity_id;var c=rdx.utils.get_view(b.data.view_definition);var g=null;if(rdx.utils.is_defined(c.resource_name)){g=rdx.utils.get_resource(c.resource_name)}if(rdx.utils.is_defined(g)&&rdx.utils.is_defined(g.primary_keys)){var e=g.primary_keys[0];if(rdx.utils.is_defined(a)&&rdx.utils.is_defined(c)){var d=rdx.page.show_slider();var h=new Object();h[e]=a;var f=new rdx.base_view(d,c);rdx.url_utils.add_to_url_object(f.get_view_context().get_url_params(),[e],rdx.url_utils.GET_BY_NAME_TYPE,h);f.prepare_view()}}})}var w=$("<div></div>");var E=$("<div></div>");D.css({top:t.top,left:t.left,width:t.width,height:t.height,color:t.color});D.addClass("topology_formation_service_container");w.css({height:(t.height*0.7),"background-color":t.color});w.addClass("topology_formation_ip_container");E.css({height:(t.height*0.3)});E.addClass("topology_formation_status_container");w.hover(function(){$(this).css("background-color",t.onhover_color)},function(){$(this).css("background-color",t.color)});if(H){var C=$("<p>"+t[H]+"</p>").addClass("topology_formation_service_element_name_font")}var u=$("<p>"+t[y]+"</p>").addClass("topology_formation_network_element_name_ip");w.append(C);w.append(u);D.append(w);D.append(E);this._formation_diagram_container.append(D);this.services_id[G]={id_service:x}};rdx.topology_diagram_view.prototype.drawFooter=function(c){var d=$("<div></div>");d.addClass("topology_formation_footer_element");d.css({top:c.top,left:c.left,width:c.width,height:c.height});this._formation_diagram_container.append(d)};rdx.topology_diagram_view.prototype.anchorFinder=function(m,t,s,q,v){var n=q[1]*(v[1]);n=s[1]+n;var p=n-m[1];var u=p/t[1];var o=[1,u,0,0];return o};rdx.topology_diagram_view.prototype.connect_elements=function(f,l,h,g){var m={endpoints:g.endpoints||[["Rectangle",{width:4,height:4}],["Rectangle",{width:10,height:10,border:"5px"}]],paintStyle:g.paintStyle||{strokeStyle:g.strokeStyle||"#00CCFF",lineWidth:g.lineWidth||5,fillStyle:"transparent"},anchors:h,endpointStyles:g.endpointStyles||[{fillStyle:"transparent",strokeStyle:g.strokeStyle||"#00CCFF"},{fillStyle:"transparent",strokeStyle:g.strokeStyle||"#00CCFF"}]};this._jsPlumb.connect({source:f,target:l},m)};rdx.topology_diagram_view.prototype._update_response_with_formation_element_positions=function(al){var ax=al;var S=0,am=0,aw=5,au=500;var W=35,aj=225,ag=15,ay=15,aa=100;ntw_elt_left=30;default_switch_percentage=0.35;var at=50,U=100,ac=225,O=130;var R=15;var af=40;var ae=this._entity_type;var N=this._connection;var T=["#1eb2a9","#ee8108","#a9bf3b","#008fc7","#09c0e3","#CC5480","#ef3124","#ffbe00","#db4c3c","#c5881c","#6a93c7","#386398","#669999","#993333","#006600","#990099","#ff9966","#99ff99","#9999ff","#cc6600","#33cc33","#cc99ff","#ff6666","#99cc66","#ff7f2a","#ffd332","#1bae44"];if(ae){for(var V=0;V<ax.length;V++){var ao=ax[V];if(ao[ae]==="service"){am++}if(ao[ae]==="network"){S++}}}var ar=(S)*(W+ag)+(at)+aa;var Q=((S-1)*(ay))+aj+(U)+ntw_elt_left;var an=ar+(am*(O+at));var ah=ntw_elt_left+aj-aw;var P=an;var ap=((S-1)*(ay))+aw;if(ae){for(var V=0,av=0;V<ax.length;V++){var ao=ax[V];if(ao[ae]==="network"){ao.top=av*(W+ag)+aa;ao.left=ntw_elt_left;ao.width=((S-1-av)*(ay))+aj;ao.height=W;ao.vrtcl_bar_height=an-(ao.top+ao.height);ao.vrtcl_bar_left=ao.left+ao.width-aw;ao.vrtcl_bar_width=aw;ao.vrtcl_bar_top=ao.top+ao.height;ao.switch_percentage=(aj*default_switch_percentage)/ao.width;ao.color=T[av%(T.length)];av++}}for(var V=0,ad=0;V<ax.length;V++){var ao=ax[V];if(ao[ae]==="service"){ao.top=ar+(ad*(O+at));ao.left=Q;ao.width=ac;ao.height=O;ao.color="#e3e3e4";ao.onhover_color="#fedc69";var aq=0.7*(1/(ao[N].length+1));var ak=[];for(var ab=0;ab<ao[N].length;ab++){ak.push([0,(ab+1)*aq,0,0])}ao.anchors=ak;ad++}}var Z={};Z[ae]="container_height";Z.height=(ar+(am*(O+at)))+au}ax.push(Z);var ai={};ai[ae]="footer";ai.height=af;ai.top=P;ai.left=ah-R;ai.width=ap+(2*R);ax.push(ai);return ax};rdx.topology_diagram_view.prototype._save_diagram=function(){if(rdx.utils.is_defined(this._to_save_response)&&this._to_save_response.length){for(var o=0,p=this._to_save_response.length;o<p;o++){var m=this._to_save_response[o];var q=($(document.getElementById(m.source)).offset().top);var h=($(document.getElementById(m.source)).offset().left);var l=($(document.getElementById(m.target)).offset().top);var n=($(document.getElementById(m.target)).offset().left);m.source_left_offset=(h-this._parent_left_offset)/this._diagram_container.width();m.source_top_offset=(q-this._parent_top_offset)/this._diagram_container.height();m.target_left_offset=(n-this._parent_left_offset)/this._diagram_container.width();m.target_top_offset=(l-this._parent_top_offset)/this._diagram_container.height()}}};rdx.topology_diagram_view.prototype._create_available_items_pane=function(p){var q=$("<div>").append(rdx.i18n.get_string("appflow.available_items")).addClass("topology_hop_available_items_header");var w=$("<div>").addClass("topology_hop_available_items_container");for(var x=0,s=p.length;x<s;x++){if(x==0){this._td_available_items.append(q).append(w)}var o=$("<div>");w.append(o);var u=p[x].type;var z=p[x].name;var y=this._view_properties.icons[u];var t=$("<img>").css("padding-top","100px").attr("title","Double click to use the item in the diagram").attr("src",y).bind(rdx.events.DOUBLE_CLICK,{type:u,icon_path:y,_this:this},function(a){a.data._this._add_new_item(a.data.type,a.data.icon_path)});o.append(t);var v=$("<span>").append(z).css("font-weight","bold");o.append(v)}};rdx.topology_diagram_view.prototype._add_new_item=function(h,l){var m=$("<div>").attr("id",h+this._new_item_index).css("position","absolute");var f=this._is_dialog?100:this._diagram_container.offset().top+20;m.css("top",f);var g=$("<img>").attr("src",l);m.append(g);m.attr(this._source_icon_path_property_name,l);m.attr(this._target_icon_path_property_name,l);jsPlumb.draggable(m,{containment:"parent"});this._diagram_container.append(m);jsPlumb.addEndpoint(h+this._new_item_index,{anchor:"BottomCenter"},this._end_point_options);this._new_item_index++;m.bind(rdx.events.DOUBLE_CLICK,{},function(a){jsPlumb.remove(this)})};rdx.topology_diagram_view.prototype._create_segment_hop_diagram=function(R){var J=R[this._source_property_name];var L=R[this._target_property_name];var G=R[this._source_text_property_name];var T=R[this._target_text_property_name];var aa=R[this._source_type_property_name];var ad=R[this._target_type_property_name];var V=rdx.utils.is_defined(this._view_definition.resource_properties[this._link_data_property_name]["renderer_callback"])?this._view_definition.resource_properties[this._link_data_property_name]["renderer_callback"].call_back([R]):R[this._link_data_property_name];var O=parseInt(R[this._hop_property_name]);var M=100;var ab=100;var N=null;var ac=null;var H=null;var K=null;var U=null;var ae=null;var S=true;if(rdx.utils.is_not_defined(this._to_save_response)){this._to_save_response=new Array()}if(rdx.utils.is_defined(this._view_properties.icons)){var P=this._view_properties.icons;var Q=null;var W=null;if(!document.getElementById(J.replace(/\./g,"_"))){var ag=this.elementsLevel[J];var Z=1;if(rdx.utils.is_defined(this.elementsAtLevel[ag])){Z=this.elementsAtLevel[ag]}if(rdx.utils.is_defined(this.currentCountAtLevel[ag])){this.currentCountAtLevel[ag]++}else{this.currentCountAtLevel[ag]=1}if(this._is_slider){M=200;ab=300}else{if(rdx.utils.is_defined(this._diagram_container.height())){M=this._diagram_container.height()/(Z+1);if(this._number_of_levels!=1){ab=(this._diagram_container.width()-50)/(this._number_of_levels)}}else{M=100;ab=100}}var N=(this._is_dialog||this._is_slider)?25:this._diagram_container.offset().left+10;N=N+(ab*(ag-1));var ac=(this._is_dialog||this._is_slider)?0:this._diagram_container.offset().top;ac=ac+(this.currentCountAtLevel[ag]*M);Q=$("<div>").attr("id",J.replace(/\./g,"_")).css("left",N).css("top",ac).css("position","absolute");if(rdx.utils.is_defined(this._click_view_map)&&rdx.utils.is_defined(this._click_view_map[aa])&&rdx.utils.is_defined(rdx.utils.get_view(this._click_view_map[aa]))){Q.css("cursor","pointer");Q.bind(rdx.events.CLICK,{view:rdx.utils.get_view(this._click_view_map[aa]),_this:this,source:J},function(l){var c=l.data.view;var e=l.data._this;var n=l.data.source;if(rdx.utils.is_defined(c)&&rdx.utils.is_defined(e)&&rdx.utils.is_defined(n)){e._click_detail_column.empty();var f=$("<div>").addClass("hop_diagram_detail_view_header").append(n);var d=$("<div>").addClass("hop_diagram_detail_view_container");e._click_detail_column.append(f).append(d);var h=e.get_base_view().get_view_context();var m=new Object();$.extend(true,m,h);m._data=null;var a=new rdx.base_view(d,c);var g=rdx.utils.get_resource(c.resource_name).primary_keys[0];var b=new Object();b[g]=n;rdx.url_utils.add_to_url_object(m.get_url_params(),[g],rdx.url_utils.GET_BY_NAME_TYPE,b);a.set_view_context(m);a.prepare_view()}})}if(S){Q.click();S=false}U=P[aa];$(Q).attr(this._source_icon_path_property_name,U);var af=$("<img>").attr("src",U).css("top","30%").css("position","absolute");this._diagram_container.append(Q);var W=$("<div>").text(G).addClass("formation_hop_icon_label");var I=$("<div>").css("position","relative");Q.append(I).css("min-height","60px");I.append(af).append(W).css("min-height","60px");af.load({source:J,_this:this,parent:this._diagram_container,div:Q,source_icon:af,node_title_div:W},function(a){W.width(this.width)});if(this._is_editable){jsPlumb.draggable(Q,{containment:"parent"})}if(this._is_editable){Q.bind(rdx.events.DOUBLE_CLICK,{},function(a){jsPlumb.remove(this)})}}if(!document.getElementById(L.replace(/\./g,"_"))){var ag=this.elementsLevel[L];var Z=1;if(rdx.utils.is_defined(this.elementsAtLevel[ag])){Z=this.elementsAtLevel[ag]}if(rdx.utils.is_defined(this.currentCountAtLevel[ag])){this.currentCountAtLevel[ag]++}else{this.currentCountAtLevel[ag]=1}if(this._is_slider){M=200;ab=300}else{if(rdx.utils.is_defined(this._diagram_container.height())){M=this._diagram_container.height()/(Z+1);if(this._number_of_levels!=1){ab=this._diagram_container.width()/(this._number_of_levels)}}else{M=100;ab=100}}H=parseInt($("#"+J.replace(/\./g,"_")).css("left"))+(ab);K=(this._is_dialog||this._is_slider)?0:this._parent.offset().top;K=K+(this.currentCountAtLevel[ag]*M);Q=$("<div>").attr("id",L.replace(/\./g,"_")).css("left",H).css("top",K).css("position","absolute");if(rdx.utils.is_defined(this._click_view_map)&&rdx.utils.is_defined(this._click_view_map[ad])&&rdx.utils.is_defined(rdx.utils.get_view(this._click_view_map[ad]))){Q.css("cursor","pointer");Q.bind(rdx.events.CLICK,{view:rdx.utils.get_view(this._click_view_map[ad]),_this:this,target:L},function(m){var c=m.data.view;var f=m.data._this;var e=m.data.target;if(rdx.utils.is_defined(c)&&rdx.utils.is_defined(f)&&rdx.utils.is_defined(e)){f._click_detail_column.empty();var g=$("<div>").addClass("hop_diagram_detail_view_header").append(e);var d=$("<div>").addClass("hop_diagram_detail_view_container");f._click_detail_column.append(g).append(d);var l=f.get_base_view().get_view_context();var n=new Object();$.extend(true,n,l);n._data=null;var a=new rdx.base_view(d,c);var h=rdx.utils.get_resource(c.resource_name).primary_keys[0];var b=new Object();b[h]=e;rdx.url_utils.add_to_url_object(n.get_url_params(),[h],rdx.url_utils.GET_BY_NAME_TYPE,b);a.set_view_context(n);a.prepare_view()}})}ae=P[ad];$(Q).attr(this._target_icon_path_property_name,ae);var F=$("<img>").attr("src",ae).css("top","30%").css("position","absolute");this._diagram_container.append(Q);var W=$("<div>").text(T).addClass("formation_hop_icon_label");var I=$("<div>").css("position","relative");Q.append(I).css("min-height","60px");I.append(F).append(W).css("min-height","60px");F.load({source:J.replace(/\./g,"_"),target:L.replace(/\./g,"_"),_this:this,parent:this._diagram_container,div:Q,target_icon:F,link_data:V,node_title_div:W},function(a){W.width(this.width);a.data._this._draw_segment(a.data.source,a.data.target,a.data.link_data)});if(this._is_editable){jsPlumb.draggable(Q,{containment:"parent"})}if(this._is_editable){Q.bind(rdx.events.DOUBLE_CLICK,{},function(a){jsPlumb.remove(this)})}}else{this._draw_segment(J,L,V)}var ah={source:J,source_text:G,source_icon_path:U,source_left_offset:N,source_top_offset:ac,target:L,target_text:T,target_icon_path:ae,target_left_offset:H,target_top_offset:K};this._to_save_response.push(ah)}};rdx.topology_diagram_view.prototype._create_segment_saved_diagram=function(D){if(this._current_segment_index>=this._response.length){return}var C=this._view_properties.icons;var J=D[this._source_property_name];var K=D[this._target_property_name];var F=D[this._source_text_property_name];var U=D[this._source_type_property_name];var P=D[this._target_text_property_name];var W=D[this._target_type_property_name];var S=D[this._link_data_property_name];var R=D[this._link_data_property_name];var M=D[this._hop_property_name];var N=null;var V=null;var Q=null;var G=null;var L=null;var Z=null;if(rdx.utils.is_not_defined(this._to_save_response)){this._to_save_response=new Array()}if(rdx.utils.is_defined(this._view_properties.icons)){var O=null;var T=null;if(!document.getElementById(J)){V=this._parent_top_offset+(D[this._source_top_property_name]*this._diagram_container.height());N=this._parent_left_offset+(D[this._source_left_property_name]*this._diagram_container.width());O=$("<div>").attr("id",J).css("left",N).css("top",V).css("position","absolute");Q=D[this._source_icon_path_property_name];$(O).attr(this._source_icon_path_property_name,Q);var aa=$("<img>").attr("src",Q).css("top","30%").css("position","absolute");this._diagram_container.append(O);var T=$("<div>").text(F).addClass("formation_hop_icon_label");var I=$("<div>").css("position","relative");O.append(I).css("min-height","60px");I.append(aa).append(T).css("min-height","60px");$(O).attr("title",F).css("cursor","pointer");aa.load({_this:this,div:O,node_title_div:T,target:K,source:J,item:D,link_data:S,source_text:F,source_icon_path:Q,source_left_offset:N,source_top_offset:V},function(e){var g=e.data._this;var u=e.data.node_title_div;var d=e.data.source_text;var s=e.data.source_icon_path;var p=e.data.source_left_offset;var v=e.data.source_top_offset;var a=e.data.target;var m=e.data.source;var b=e.data.item;var t=e.data.link_data;var o=e.data.div;o.bind(rdx.events.MOUSE_OVER,{id:m},function(A){var B=jsPlumb.getConnections({scope:"*",source:A.data.id});var am=[];if(rdx.utils.is_defined(B)&&B.length){for(var ak=0,aj=B.length;ak<aj;ak++){var z=B[ak];z.setPaintStyle({strokeStyle:"#8a0d55"});am.push(z.id);var ah=jsPlumb.getConnections({scope:"*",source:z.target});for(var al=0;al<ah.length;al++){var ai=ah[al];ai.setPaintStyle({strokeStyle:"#8a0d55"});if(am.indexOf(ai.id)==-1){am.push(ai.id)}}}}});o.bind(rdx.events.MOUSE_OUT,{id:m},function(A){var B=jsPlumb.getConnections({scope:"*",source:A.data.id});var am=[];if(rdx.utils.is_defined(B)&&B.length){for(var ak=0,aj=B.length;ak<aj;ak++){var z=B[ak];z.setPaintStyle({strokeStyle:"#1172b9"});am.push(z.id);var ah=jsPlumb.getConnections({scope:"*",source:z.target});for(var al=0;al<ah.length;al++){var ai=ah[al];ai.setPaintStyle({strokeStyle:"#1172b9"});if(am.indexOf(ai.id)==-1){am.push(ai.id)}}}}});if(g._is_editable){jsPlumb.draggable(o,{containment:"parent"});o.bind(rdx.events.DOUBLE_CLICK,{},function(z){jsPlumb.remove(this)})}u.width(this.width);if(!document.getElementById(a)){var q=b[g._target_text_property_name];var w=b[g._target_type_property_name];var n=g._parent_top_offset+(b[g._target_top_property_name]*g._diagram_container.height());var f=g._parent_left_offset+(b[g._target_left_property_name]*g._diagram_container.width());var o=$("<div>").attr("id",a).css("left",f).css("top",n).css("position","absolute");var x=b[g._target_icon_path_property_name];$(o).attr(g._target_icon_path_property_name,x);var c=$("<img>").attr("src",x).css("top","30%").css("position","absolute");g._diagram_container.append(o);var u=$("<div>").text(q).addClass("formation_hop_icon_label");var l=$("<div>").css("position","relative");o.append(l).css("min-height","60px");var h=q+" ["+t+"]";$(o).attr("title",h).css("cursor","pointer");l.append(c).append(u).css("min-height","60px");c.load({source:m,div:o,target:a,__this:g,link_data:t,node_title_div:u,source_text:d,source_icon_path:s,source_left_offset:p,source_top_offset:v},function(at){var ak=at.data.source_text;var B=at.data.source_icon_path;var al=at.data.source_left_offset;var ap=at.data.source_top_offset;var A=at.data.source;var an=at.data.target;var am=at.data.__this;var aq=at.data.node_title_div;var ao=at.data.link_data;var z=at.data.div;z.bind(rdx.events.MOUSE_OVER,{id:an},function(av){var ac=jsPlumb.getConnections({scope:"*",source:av.data.id});var ai=[];if(rdx.utils.is_defined(ac)&&ac.length){for(var ag=0,af=ac.length;ag<af;ag++){var aj=ac[ag];aj.setPaintStyle({strokeStyle:"#8a0d55"});ai.push(aj.id);var ad=jsPlumb.getConnections({scope:"*",source:aj.target});for(var ah=0;ah<ad.length;ah++){var ae=ad[ah];ae.setPaintStyle({strokeStyle:"#8a0d55"});if(ai.indexOf(ae.id)==-1){ai.push(ae.id)}}}}});z.bind(rdx.events.MOUSE_OUT,{id:an},function(av){var ac=jsPlumb.getConnections({scope:"*",source:av.data.id});var ai=[];if(rdx.utils.is_defined(ac)&&ac.length){for(var ag=0,af=ac.length;ag<af;ag++){var aj=ac[ag];aj.setPaintStyle({strokeStyle:"#1172b9"});ai.push(aj.id);var ad=jsPlumb.getConnections({scope:"*",source:aj.target});for(var ah=0;ah<ad.length;ah++){var ae=ad[ah];ae.setPaintStyle({strokeStyle:"#1172b9"});if(ai.indexOf(ae.id)==-1){ai.push(ae.id)}}}}});aq.width(this.width);am._draw_segment(A,an,ao);if(am._is_editable){jsPlumb.draggable(z,{containment:"parent"});z.bind(rdx.events.DOUBLE_CLICK,{},function(ac){jsPlumb.remove(this)})}am._draw_segment(A,an,ao);var ar={source:A,source_text:ak,source_icon_path:B,source_left_offset:al,source_top_offset:ap,target:an,target_text:q,target_icon_path:x,target_left_offset:f,target_top_offset:n};am._to_save_response.push(ar);am._current_segment_index++;am._create_segment_saved_diagram(am._response[am._current_segment_index])})}else{var q=b[g._target_text_property_name];var w=b[g._target_type_property_name];var n=g._parent_top_offset+(b[g._target_top_property_name]*g._diagram_container.height());var f=g._parent_left_offset+(b[g._target_left_property_name]*g._diagram_container.width());var x=b[g._target_icon_path_property_name];g._draw_segment(m,a,t);var y={source:m,source_text:d,source_icon_path:s,source_left_offset:p,source_top_offset:v,target:a,target_text:q,target_icon_path:x,target_left_offset:f,target_top_offset:n};g._to_save_response.push(y);g._current_segment_index++;g._create_segment_saved_diagram(g._response[g._current_segment_index])}})}else{var P=D[this._target_text_property_name];var W=D[this._target_type_property_name];var L=this._parent_top_offset+(D[this._target_top_property_name]*this._diagram_container.height());var G=this._parent_left_offset+(D[this._target_left_property_name]*this._diagram_container.width());var Z=D[this._target_icon_path_property_name];if(!document.getElementById(K)){var O=$("<div>").attr("id",K).css("left",G).css("top",L).css("position","absolute");$(O).attr(this._target_icon_path_property_name,Z);var E=$("<img>").attr("src",Z).css("top","30%").css("position","absolute");this._diagram_container.append(O);var T=$("<div>").text(P).addClass("formation_hop_icon_label");var I=$("<div>").css("position","relative");O.append(I).css("min-height","60px");var H=P+" ["+S+"]";$(O).attr("title",H).css("cursor","pointer");I.append(E).append(T).css("min-height","60px");V=this._parent_top_offset+(D[this._source_top_property_name]*this._diagram_container.height());N=this._parent_left_offset+(D[this._source_left_property_name]*this._diagram_container.width());Q=D[this._source_icon_path_property_name];E.load({source:J,div:O,target:K,_this:this,link_data:S,node_title_div:T,source_text:F,source_icon_path:Q,source_left_offset:N,source_top_offset:V},function(o){var d=o.data.source_text;var c=o.data.source_icon_path;var e=o.data.source_left_offset;var l=o.data.source_top_offset;var b=o.data.source;var f=o.data.target;var h=o.data._this;var m=o.data.node_title_div;var g=o.data.link_data;var a=o.data.div;a.bind(rdx.events.MOUSE_OVER,{id:f},function(y){var p=jsPlumb.getConnections({scope:"*",target:y.data.id});var w=[];if(rdx.utils.is_defined(p)&&p.length){for(var u=0,t=p.length;u<t;u++){var x=p[u];x.setPaintStyle({strokeStyle:"#8a0d55"});w.push(x.id);var q=jsPlumb.getConnections({scope:"*",target:x.source});for(var v=0;v<q.length;v++){var s=q[v];s.setPaintStyle({strokeStyle:"#8a0d55"});if(w.indexOf(s.id)==-1){w.push(s.id)}}}}});a.bind(rdx.events.MOUSE_OUT,{id:f},function(y){var p=jsPlumb.getConnections({scope:"*",target:y.data.id});var w=[];if(rdx.utils.is_defined(p)&&p.length){for(var u=0,t=p.length;u<t;u++){var x=p[u];x.setPaintStyle({strokeStyle:"#1172b9"});w.push(x.id);var q=jsPlumb.getConnections({scope:"*",target:x.source});for(var v=0;v<q.length;v++){var s=q[v];s.setPaintStyle({strokeStyle:"#1172b9"});if(w.indexOf(s.id)==-1){w.push(s.id)}}}}});m.width(this.width);if(h._is_editable){jsPlumb.draggable(a,{containment:"parent"});a.bind(rdx.events.DOUBLE_CLICK,{},function(p){jsPlumb.remove(this)})}h._draw_segment(b,f,g);var n={source:b,source_text:d,source_icon_path:c,source_left_offset:e,source_top_offset:l,target:f,target_text:P,target_icon_path:Z,target_left_offset:G,target_top_offset:L};h._to_save_response.push(n);h._current_segment_index++;h._create_segment_saved_diagram(h._response[h._current_segment_index])})}else{L=this._parent_top_offset+(D[this._target_top_property_name]*this._diagram_container.height());G=this._parent_left_offset+(D[this._target_left_property_name]*this._diagram_container.width());Z=D[this._target_icon_path_property_name];V=this._parent_top_offset+(D[this._source_top_property_name]*this._diagram_container.height());N=this._parent_left_offset+(D[this._source_left_property_name]*this._diagram_container.width());Q=D[this._source_icon_path_property_name];this._draw_segment(J,K,S);var ab={source:J,source_text:F,source_icon_path:Q,source_left_offset:N,source_top_offset:V,target:K,target_text:P,target_icon_path:Z,target_left_offset:G,target_top_offset:L};this._to_save_response.push(ab);this._current_segment_index++;this._create_segment_saved_diagram(this._response[this._current_segment_index])}}}};rdx.topology_diagram_view.prototype._draw_segment=function(g,o,l){var m=jsPlumb.addEndpoint(g,{anchor:"RightMiddle"},this._end_point_options);var n=jsPlumb.addEndpoint(o,{anchor:"LeftMiddle"},this._end_point_options);var h=jsPlumb.connect({source:m,target:n,scope:"x",Connector:["Straight"],overlays:["Label",["Label",{label:l,location:0.6,id:g+"_"+o,cssClass:"topology_hop_connection_label"}]]})};rdx.topology_diagram_view.prototype.resize_view=function(){};rdx.topology_diagram_view.prototype.get_base_view=function(){return this._base_view};rdx.topology_diagram_view.prototype.get_view_context=function(){return this.get_base_view().get_view_context()};rdx.visualizer_view=function(f,d,e){this._view_definition=d;this._parent=f;this._visualizer_title=null;this._block_count=0;this.refresh_div=null;this._base_view=e;this._block_object={};this._count=0;this._level_tree={};this.to_be_drawn_count=0;this.to_be_drawn=[];this.is_back_button_required=true;this._parent_height=this._view_definition.view_properties.height;this._parent_min_height=this._view_definition.view_properties.min_height;this.lb_request_policies=["lbvserver_cmppolicy_binding","lbvserver_rewritepolicy_binding","lbvserver_appflowpolicy_binding","lbvserver_responderpolicy_binding","lbvserver_auditsyslogpolicy_binding","lbvserver_authorizationpolicy_binding","lbvserver_appfwpolicy_binding","lbvserver_scpolicy_binding","lbvserver_pqpolicy_binding","lbvserver_filterpolicy_binding","lbvserver_tmtrafficpolicy_binding","lbvserver_dnspolicy64_binding","lbvserver_spilloverpolicy_binding","lbvserver_feopolicy_binding","lbvserver_appqoepolicy_binding","lbvserver_transformpolicy_binding","lbvserver_cachepolicy_binding"];this.lb_response_policies=["lbvserver_cmppolicy_binding","lbvserver_rewritepolicy_binding","lbvserver_cachepolicy_binding"];this.lb_res_click_view_map=["lbvserver_cmppolicy_response_binding_op_page","lbvserver_rewritepolicy_response_binding_op_page","lbvserver_cachepolicy_response_binding_op_page"];this.lb_req_click_view_map=["lbvserver_cmppolicy_request_binding_op_page","lbvserver_rewritepolicy_request_binding_op_page","lbvserver_appflowpolicy_request_binding_op_page","lbvserver_responderpolicy_request_binding_op_page","lbvserver_auditsyslogpolicy_request_binding_op_page","lbvserver_authorizationpolicy_request_binding_op_page","lbvserver_appfwpolicy_request_binding_op_page","lbvserver_scpolicy_request_binding_op_page","lbvserver_pqpolicy_request_binding_op_page","lbvserver_filterpolicy_request_binding_op_page","lbvserver_tmtrafficpolicy_request_binding_op_page","lbvserver_dnspolicy64_request_binding_op_page","lbvserver_spilloverpolicy_request_binding_op_page","lbvserver_copolicy_request_binding_op_page","lbvserver_appqoepolicy_request_binding_op_page","lbvserver_transformpolicy_request_binding_op_page","lbvserver_cachepolicy_request_binding_op_page"];this._view_defn={type:rdx.view_constants.VISUALIZER_VIEW,diagram_properties:{node_1:{connector_block:true,level:1,child:"node_3"},node_3:{connector_block:true,level:2,child:"node_4",connect_top:true},node_4:{resource_name:this.lb_request_policies,connect:true,connection_img:"req-arrow1.png",zero_count_message:"No Request Policies",level:3,condition:{bindpoint:"REQUEST"},direction:"left",child:"node_5",count:true,label:["Compression Policy","Rewrite Policy","AppFlow Policy","Responder Policy","AuditSyslog Policy","Authorization Policy","AppFW Policy","Sure Connect Policy","Priority Queuing Policy","Filter Policy","Traffic Policy","DNS64 Policy","Spillover Policy","FEO Policies","AppQoe Policy","Transform Policy","Cache Policy"],click_view_name:this.lb_req_click_view_map,single_block:true},node_5:{connector_block:true,level:4,child:"node_7",connect_bottom:true},node_6:{resource_name:["lbvserver"],key:"totalservices",connect:true,image_url:"/admin_ui/rdx/core/images/server.png",label:"Services",click_view_name:["visualizer_lbvserver_service_binding_op_page"],single_block:false,level:5,zero_count_message:"No Services",child:"node_5",display_data:{data_renderer_callback:new rdx.callback(neo.view_formatters.health_percentage_formatter)}},node_7:{resource_name:this.lb_response_policies,connect:true,connection_img:"res-arrow1.png",direction:"right",child:"node_3",level:3,zero_count_message:"No Response Policies",count:true,label:["Compression Policy","Rewrite Policy","Cache Policies"],single_block:true,click_view_name:this.lb_res_click_view_map}},view_properties:{title:"LB Visualizer",toggle_view:true,referrer:"cs",height:"1050",basic_settings_view_name:"lbvserver_visualizer_common_settings_view",description:"LoadBalancing Visualizer"},right_div_properties:{vserver:{label:"Virtual Server",node_id:"node_3"},policies:{label:"Policies",node_top:"node_5",node_bottom:"node_3",add_view_name:"lbvserverpolicychoose_op_wizard_view"},services:{label:"Services",add_view_name:"lbvserver_service_binding_insert_view"}}}};rdx.visualizer_view.prototype.make_view=function(){if(rdx.utils.is_defined(this._view_definition.application_name)&&rdx.utils.is_array(this._view_definition.selected_entity)&&this._view_definition.selected_entity.length>1){this._select_public_endpoint_div=$("<div>").addClass("tab-container bottom-corners top-right-corner op_wizard_button_panel");this._select_public_endpoint_text=$("<div />").addClass("visualizer_public_endpoint_text");this._select_public_endpoint_text.text("Select the Public Endpoint");this._select_public_endpoint_div.css("padding-left","0px");this._select_public_endpoint_div.css("background-color","#FFFFFF");this._select_public_endpoint_div.append(this._select_public_endpoint_text);this.select_public_endpoint_dropdown=$("<select />");this.select_public_endpoint_dropdown.addClass("public_endpoint_list");for(var e=0;e<this._view_definition.selected_entity.length;e++){var d=$("<option />").append(this._view_definition.selected_entity[e]);this.select_public_endpoint_dropdown.append(d)}this._select_public_endpoint_div.append(this.select_public_endpoint_dropdown);var f=$("<div>").addClass("button-group");this._input_visualize_lb_button=$("<input />").addClass("submit_button").attr({type:"button",value:"Visualize"});f.append(this._input_visualize_lb_button);this._input_visualize_lb_button.bind(rdx.events.CLICK,{obj:this},function(a){var b=a.data.obj;b._view_definition.selected_entity=b.select_public_endpoint_dropdown.val();if(rdx.utils.is_defined($(".visualizer_title"))){$(".visualizer_title").remove()}if(rdx.utils.is_defined($(".visualizer_title"))){$(".topology_formation_diagram_parent_container").remove()}b._make_view()});this._select_public_endpoint_div.append(f);this._parent.append(this._select_public_endpoint_div);return}else{this._make_view()}};rdx.visualizer_view.prototype._make_view=function(){this._parent.addClass("op_wizard_form_panel form_inline smooth_all_corner");if(rdx.utils.is_defined(this._parent_min_height)){this._parent_container=$("<div>").css({height:this._parent_height,"min-height":this._parent_min_height,"border-bottom":"1px solid #ccc",overflow:"auto"})}else{this._parent_container=$("<div>").css("height",this._parent_height).css("border-bottom","1px solid #ccc")}this._visualizer_title="Visualizer - "+this._view_definition.selected_entity;this._visualizer_description_title=$("<div />").addClass("visualizer_description_title").append(this._view_definition.view_properties.title);if(rdx.utils.is_defined(this._view_definition.description)){this._upper_description_div=$("<div />").addClass("visualizer_upper_description").append(this._view_definition.description)}if(rdx.utils.is_defined(this._view_definition.view_properties.description)){this.description_div=$("<div>").addClass("visualizer_title").append(this._visualizer_title);this.refresh_div=$("<div />").addClass("visualizer_refresh_div").html('<a href="javascript:void(0);" title="Click here to Refresh"><img src="'+rdx.images.REFRESH_IMG+'" /></a>').bind(rdx.events.CLICK,{object:this,view_definition:this._view_definition},function(d){var c=d.data.object;c._parent_container.empty();c.close_button_container.empty();c._block_count=0;c._block_object={};c._count=0;c.to_be_drawn_count=0;c.to_be_drawn=[];c._level_tree={};c._initialize_visualizer_view(true)});this.description_div.append(this.refresh_div)}this._initialize_visualizer_view(false)};rdx.visualizer_view.prototype._initialize_visualizer_view=function(d){this._parent_container.addClass("topology_formation_diagram_parent_container");var c={add_grey_button:true,grey_button_label:"rdx.form_close_button_label",grey_button_click_handler_callback:new rdx.callback(this,this.close_view)};this.close_button_container=$("<div>").addClass("visualizer_title");if(d){$(this._parent.children()[this._parent.children().length-1]).remove()}this._parent.append(this._visualizer_description_title).append(this._upper_description_div).append(this.description_div).append(this._parent_container);this._parent.append(this.close_button_container);new rdx.button_bar(this.close_button_container,new rdx.form_field({properties:c})).render();this.construct_visualizer_elements(this._view_definition)};rdx.visualizer_view.prototype.construct_visualizer_elements=function(f){this._cs_parent_div=$("<div />").addClass("topology_formation_diagram_parent_container");for(var d in f.diagram_properties){var e=f.diagram_properties[d];if(rdx.utils.is_defined(this._level_tree[e.level])){this._level_tree[e.level].push(d)}else{this._level_tree[e.level]=[d]}this._block_count++}this._last_level=e.level;for(var d in f.diagram_properties){this.make_block(d,f,false)}};rdx.visualizer_view.prototype._create_right_add_div=function(m){this.right_add_div=$("<div />").addClass("visualizer_add_new_div").css("height","100%");if(rdx.utils.is_defined(m.view_properties.referrer)&&m.view_properties.referrer=="cs"){var u=$("<div />").addClass("vserver_add_div");u.css("height",106);if(rdx.utils.is_defined(this._view_definition.application_name)){u.text("Public Endpoint")}else{u.text("CS Virtual Server")}var t=$("<div />").addClass("vserver_add_div");t.css("height",75);if(rdx.utils.is_defined(this._view_definition.application_name)){t.text("Application Units")}else{t.text("Virtual Server(s)")}var o=$("<div />").addClass("policy_add_div").html('<span class="visualizer_">Policies</span><br/><a href="javascript:void(0);" class="add_new_block" title="Add New"><img src="'+rdx.images.PLUS_WHITE+'" />Add</a>').bind(rdx.events.CLICK,{object:this,view_definition:m},function(b){if($(b.target).hasClass("add_new_block")==false){return}var c=rdx.utils.get_view("lbvserverpolicychoose_op_wizard_view");var d=b.data.view_definition;var a=rdx.view_utils.show_view_in_slider(c,null,{name:d.selected_entity});$(a).bind(rdx.events.VIEW_DESTROYED,{obj:b.data.object},function(f){var e=f.data.obj;e._block_count=0;e._block_object={};e._count=0;e.to_be_drawn_count=0;e.to_be_drawn=[];e._cs_parent_div.empty();e._level_tree={};e.right_add_div.remove();e.construct_visualizer_elements(e._view_defn)});b.stopPropagation()});o.css("height",this._block_object.node_5.position().top-this._block_object.node_3.position().top);var q=$("<div />").addClass("policy_add_div").html('<span class="visualizer_">Services</span><br/><a href="javascript:void(0);" class="add_new_block" title="Add New"><img src="'+rdx.images.PLUS_WHITE+'" />Add</a>').bind(rdx.events.CLICK,{object:this,view_definition:m},function(b){if($(b.target).hasClass("add_new_block")==false){return}var c=rdx.utils.get_view("lbvserver_service_binding_insert_view");var d=b.data.view_definition;var a=rdx.view_utils.show_view_in_slider(c,null,{name:d.selected_entity});$(a).bind(rdx.events.VIEW_DESTROYED,{obj:b.data.object},function(f){var e=f.data.obj;e._block_count=0;e._block_object={};e._count=0;e.to_be_drawn_count=0;e.to_be_drawn=[];e._cs_parent_div.empty();e._level_tree={};e.right_add_div.remove();e.construct_visualizer_elements(e._view_defn)});b.stopPropagation()});this.right_add_div.append(u,t,o,q);this._parent_container.append(this.right_add_div)}else{for(var n in this._view_definition.right_div_properties){var v=this._view_definition.right_div_properties[n];if(rdx.utils.is_defined(v.add_view_name)){if(v.add_saved_data==true){var p=v.add_saved_data}var s=$("<div />").addClass("policy_add_div").html('<span class="visualizer_">'+v.label+'</span><br/><a href="javascript:void(0);" class="add_new_block" title="Add New"><img src="'+rdx.images.PLUS_WHITE+'" />Add</a>').bind(rdx.events.CLICK,{object:this,div_properties:v,view_definition:m},function(b){if($(b.target).hasClass("add_new_block")==false){return}var c=rdx.utils.get_view(b.data.div_properties.add_view_name);var d=b.data.view_definition;if(d.saved_data){var a=rdx.view_utils.show_view_in_slider(c,null,{name:d.saved_data})}else{var a=rdx.view_utils.show_view_in_slider(c,null,{name:d.selected_entity})}$(a).bind(rdx.events.VIEW_DESTROYED,{obj:b.data.object},function(f){var e=f.data.obj;e._parent_container.empty();e.close_button_container.empty();e._block_count=0;e._block_object={};e._count=0;e.to_be_drawn_count=0;e.to_be_drawn=[];e._level_tree={};e._initialize_visualizer_view(true)});b.stopPropagation()})}else{var s=$("<div />").addClass("vserver_add_div").text(v.label)}if(rdx.utils.is_defined(v.node_id)){s.css("height",this._block_object[v.node_id].position().top)}else{if(rdx.utils.is_defined(v.node_top)&&rdx.utils.is_defined(v.node_bottom)){s.css("height",this._block_object[v.node_top].position().top-this._block_object[v.node_bottom].position().top)}}this.right_add_div.append(s)}}if(rdx.utils.is_defined(n)){this._parent_container.append(this.right_add_div)}};rdx.visualizer_view.prototype.make_block=function(t,m,p){var q=m.diagram_properties[t];if(rdx.utils.is_defined(q.resource_name)&&(rdx.utils.is_defined(q.connect&&q.connect!=false))){if(t=="node_2"&&m.view_properties.description=="Content Switching Visualizer"){var u=new rdx.model_executor_service(new rdx.callback(this,this.handle_cs_actions,[m,q,t,true,p]),new rdx.callback(),true)}else{var u=new rdx.model_executor_service(new rdx.callback(this,this._render_block,[m,q,t,true,p]),new rdx.callback(),true)}for(var s=0;s<q.resource_name.length;s++){if(q.resource_name[s]=="csaction"){continue}var o=rdx.utils.get_resource(q.resource_name[s]);var v=o.primary_keys;var n=rdx.url_utils.construct_url_params(null,rdx.url_utils.FORCE_GET_BY_NAME_TYPE,v,{name:m.selected_entity});u.add("get",o,null,null,n)}u.execute()}else{this._render_block(null,m,q,t,true,false)}};rdx.visualizer_view.prototype.handle_cs_actions=function(w,o,s,v,n,q){var t=w.get_collated_response();var x=new rdx.model_executor_service(new rdx.callback(this,this._handle_cs_actions,[o,s,v,true,q,w]),new rdx.callback(),true);if(rdx.utils.is_defined(t[1].csvserver_cspolicy_binding)){for(var u=0;u<t[1].csvserver_cspolicy_binding.length;u++){var p=rdx.url_utils.construct_url_params(null,rdx.url_utils.FORCE_GET_BY_NAME_TYPE,rdx.utils.get_resource("cspolicy").primary_keys,{policyname:t[1].csvserver_cspolicy_binding[u].policyname});x.add("get",rdx.utils.get_resource("cspolicy"),null,null,p)}x.execute()}};rdx.visualizer_view.prototype._handle_cs_actions=function(z,q,u,y,p,t,w){var v=z.get_collated_response();var A=0;var B=new rdx.model_executor_service(new rdx.callback(this,this.handle_lb_vpn,[q,u,y,true,t,w]),new rdx.callback(),true);for(var x=0;x<v.length;x++){if(rdx.utils.is_defined(v[x].cspolicy)&&rdx.utils.is_defined(v[x].cspolicy[0])&&rdx.utils.is_defined(v[x].cspolicy[0].action)){A++;var s=rdx.url_utils.construct_url_params(null,rdx.url_utils.FORCE_GET_BY_NAME_TYPE,rdx.utils.get_resource("csaction").primary_keys,{name:v[x].cspolicy[0].action});B.add("get",rdx.utils.get_resource("csaction"),null,null,s)}}if(A>0){B.execute()}else{this.handle_lb_vpn(null,q,u,y,p,t,w)}};rdx.visualizer_view.prototype.handle_lb_vpn=function(s,n,o,p,m,q,t){if(s!=null){if(s.get_collated_response().length>0){for(var l=0;l<s.get_collated_response().length;l++){if(s.get_collated_response().length>1){if(rdx.utils.is_defined(s.get_collated_response()[l].csaction)){s.get_collated_response()[0].csaction.push(s.get_collated_response()[l].csaction[0])}}}t._properties.collated_response.push(s.get_collated_response()[0]);if(s.get_collated_response()[0].csaction[0].targetlbvserver==s.get_collated_response()[0].csaction[1].targetlbvserver){s.get_collated_response()[0].csaction.shift()}}}this._render_block(t,n,o,p,true,q)};rdx.visualizer_view.prototype._render_block=function(av,W,aq,ae,at,am){var ah=0;var ak="";if(aq.connector_block==true){var Q=$("<div />").addClass("visualizer_connectorblock");ah=(this._parent_container.height()/(this._block_count-1))*(aq.level-1);if(ae=="node_5"){Q.css("top",748);if(rdx.utils.is_defined(W.view_properties.referrer)){Q.css("top",510)}}else{if(ae=="node_1"&&rdx.utils.is_defined(W.view_properties.referrer)){Q.css("top",178)}else{if(ae=="node_3"&&rdx.utils.is_defined(W.view_properties.referrer)){Q.css("top",230)}else{Q.css("top",ah-75)}}}}else{if(rdx.utils.is_defined(aq.scrollable_single_block)){var V=av.get_collated_response();var an="";var al=0;for(var ag=0;ag<aq.resource_name.length;ag++){if(rdx.utils.is_defined(V[ag])&&rdx.utils.is_defined(V[ag][aq.resource_name[ag]])){var M=V[ag][aq.resource_name[ag]];for(var af=0;af<M.length;af++){var S=M[af];var ar=aq.key[ag];if(rdx.utils.is_defined(S[ar])&&rdx.utils.is_not_empty(S[ar])){var U=S[ar];if(W.application_name){if(aq.key[ag]=="lbvserver"){U="Default"}else{U=neo.application_template_utils.get_formatted_application_unit_name(W.application_name,U)}}al++;if(al==2||(M.length==1&&rdx.utils.is_not_defined(V[ag+1]))){an=an+"<div class = 'visualizer_slide' data-center = 'true'>"+U+"</div>"}else{if(aq.key[ag]=="lbvserver"){an=an+"<div class = 'visualizer_slide-deffault-blue'>"+U+"</div>"}else{if(aq.key[ag]=="targetvserver"){an=an+"<div class = 'visualizer_slide visualizer_slide-bound_vpnvserver'>"+U+"</div>"}else{an=an+"<div class = 'visualizer_slide'>"+U+"</div>"}}}}else{if(rdx.utils.is_not_defined(S[ar])&&ar=="targetvserver"){if(rdx.utils.is_defined(S.targetlbvserver)){var U=S.targetlbvserver;if(W.application_name){if(aq.key[ag]=="lbvserver"){U="Default"}else{U=neo.application_template_utils.get_formatted_application_unit_name(W.application_name,U)}}al++;if(al==2||(M.length==1&&rdx.utils.is_not_defined(V[ag+1])&&rdx.utils.is_not_defined(V[ag+1][aq.resource_name[ag+1]]))){an=an+"<div class = 'visualizer_slide' data-center = 'true'>"+U+"</div>"}else{if(ar=="lbvserver"){an=an+"<div class = 'visualizer_slide-deffault-blue'>"+U+"</div>"}else{an=an+"<div class = 'visualizer_slide'>"+U+"</div>"}}}}}}}}if(al>0){var Q=$("<div />").html('						<div class="visualizer_toolbar">							<div class="visualizer_prev"></div>							<div class="visualizer_next"></div>						</div>						<div class="visualizer_view-port">							<div class="visualizer_scrollable-panel">'+an+"</div>");var ao=$(".visualizer_scrollable-panel").width(al*250);Q.addClass("visualizer_slider")}else{var Q=$("<div></div>").addClass("zero_count_message");var aa=aq.zero_count_message;Q.text(aa);Q.css("top",150);Q.css("left",546);Q.css("padding-left",50);Q.addClass("visualizer_singleblock")}}else{if(av){var aw=av.get_collated_response();if(!rdx.utils.is_object(aw[0])){this._count++;return}if(aq.resource_name.length==1||aq.single_block==false){var Q=$("<div />").addClass("visualizer_block_container");if(aq.level==1){ah="10px"}else{if(aq.level==2){ah=200}else{if(aq.level==3){ah=390}else{ah=820}}}Q.css("top",ah);if(aq.direction=="right"){Q.css("left",767)}else{if(aq.direction=="left"){Q.css("left",327)}}if(rdx.utils.is_defined(W.view_properties.referrer)&&W.view_properties.referrer=="cs"){Q.css("left",552);Q.css("top",585)}var O=$("<div />").addClass("visualizer_basic_node").addClass("visualizer_text_overflow");var aj=$("<div />");if(aq.image_type=="up_down_state"){if(aw[0][aq.resource_name][0]["curstate"]=="UP"){aj.addClass("visualizer_basic_image_node_green")}else{aj.addClass("visualizer_basic_image_node_red")}}else{if(rdx.utils.is_defined(aq.image_url)){var N='url("'+aq.image_url+'") no-repeat 40% 5px;';aj.addClass("visualizer_basic_image_server")}}Q.append(aj).append(O);if(rdx.utils.is_not_defined(aw[0][aq.resource_name])){ak=aq.zero_count_message}else{if(aq.key&&rdx.utils.is_array(aq.key)){for(var ai=0;ai<aq.key.length;ai++){if(rdx.utils.is_not_empty(aq.label[ai])){ak=ak+'<br/><span class = "visualizer_basic_node_key">'+aq.label[ai]+'</span> <span class = "visualizer_basic_node_value">'+aw[0][aq.resource_name][0][aq.key[ai]]+"</span>"}else{ak=ak+aw[0][aq.resource_name][0][aq.key[ai]]}}}else{if(aq.key){ak=aw[0][aq.resource_name][0][aq.key];if(aq.label){ak=ak+" "+aq.label}if(rdx.utils.is_defined(aq.save_data)&&aq.save_data==true){W.saved_data=ak}}else{if(aq.count){ak=aw[0][aq.resource_name].length+" "+aq.label}}}}if(aq.display_data){if(aq.display_data.data_renderer_callback){var P=aw[0][aq.resource_name][0];var au=aq.display_data.data_renderer_callback.call_back([P]);var ac=au.split("%");var R=Math.floor(ac[0]);au=R+"% "+ac[1]}ak=ak+"<br/><span>"+au+"<span/>"}O.html(ak);if(rdx.utils.is_defined(aq.click_view_name)){this.add_click_view_map(Q,O,W,ae,aq.click_view_name[0])}this._block_object[ae]=Q;if(rdx.utils.is_defined(aq.node_render_callback)){aq.node_render_callback.call_back([ae,Q,aq,W,O,aj,this.refresh_div])}}else{if(aq.direction=="left"){var Z="REQUEST";var Q=$("<div />").addClass("visualizer_block_container_left");if(rdx.utils.is_defined(W.view_properties.referrer)&&W.view_properties.referrer=="cs"){Q.css("top",325);Q.css("left",315)}}else{if(aq.direction=="right"){var Z="RESPONSE";var Q=$("<div />").addClass("visualizer_block_container_right");if(rdx.utils.is_defined(W.view_properties.referrer)&&W.view_properties.referrer=="cs"){Q.css("top",325);Q.css("left",780)}}else{var Q=$("<div />").addClass("visualizer_block_container")}}if(rdx.utils.is_not_defined(W.view_properties.referrer)){ah=((this._parent_container.height())/(this._block_count-1))*(aq.level-1);Q.css("top",ah-75)}for(var af=0;af<aw.length;af++){var ap=0;for(var ag=0;ag<aq.resource_name.length;ag++){if(rdx.utils.is_defined(aw[af][aq.resource_name[ag]])){for(var ai=0;ai<aw[af][aq.resource_name[ag]].length;ai++){if(rdx.utils.is_empty(aw[af][aq.resource_name[ag]][ai]["bindpoint"])||rdx.utils.is_not_defined(aw[af][aq.resource_name[ag]][ai]["bindpoint"])||aw[af][aq.resource_name[ag]][ai]["bindpoint"]==Z){ap++}}if(ap>0){var O=$("<div></div>").addClass("visualizer_singleblock");var T=$("<span />").addClass("node_child_number").text(ap);var ad=$("<span />").addClass("node_child_arrow");if(aq.click_view_name){this.add_click_view_map(Q,O,W,ae,aq.click_view_name[af])}var ab=aq.label[ag];O.text(ab).prepend(T).append(ad);Q.append(O)}}}}if(rdx.utils.is_not_defined(ab)){var O=$("<div></div>").addClass("zero_count_message");var ab=aq.zero_count_message;O.text(ab);Q.append(O);O.addClass("visualizer_singleblock")}}}}}if(rdx.utils.is_defined(W.view_properties.referrer)){this._cs_parent_div.append(Q)}else{this._parent_container.append(Q)}if(rdx.utils.is_defined(aq.scrollable_single_block)){$(".visualizer_prev").bind(rdx.events.CLICK,{obj:this},function(a){if($(this).hasClass("visualizer_disabled")){return false}a.data.obj._move_divs("visualizer_prev",true);a.stopPropagation()});$(".visualizer_next").bind(rdx.events.CLICK,{obj:this},function(a){if($(this).hasClass("visualizer_disabled")){return false}a.data.obj._move_divs("visualizer_next",true);a.stopPropagation()});$(".visualizer_view-port").bind(rdx.events.CLICK,{obj:this,parent_view:W},function(b){var d=b.target;if($(d).hasClass("visualizer_slide-bound_vpnvserver")){var c=rdx.utils.get_view("sslvpn_vserver_set_view");var e=rdx.view_utils.show_view_in_slider(c,null,{name:d.textContent});return}else{if(($(d).hasClass("visualizer_slide")||$(d).hasClass("visualizer_slide-deffault-blue"))&&($(d).hasClass("cs_visualizer_box_selected")==false)){b.data.obj._cs_parent_div.remove();b.data.obj.right_add_div.remove();var a=b.data.parent_view;b.data.obj._connect_defaults(d,a);b.stopPropagation()}else{return}}})}this._count++;this._block_object[ae]=Q;this.render_visualizer(W)};rdx.visualizer_view.prototype._connect_defaults=function(o,m){var l=o.textContent;if(rdx.utils.is_not_defined(l)){var l=o.text()}var h=$(o);var q=$(".visualizer_scrollable-panel div.cs_visualizer_box_selected");q.removeClass("cs_visualizer_box_selected");h.addClass("cs_visualizer_box_selected");if(rdx.utils.is_defined(h.attr("data-center"))){this._create_cs_individual_view(l,m)}else{var n=h.prev();var p=h.next();if(rdx.utils.is_defined(n.attr("data-center"))){this._move_divs("visualizer_next",false)}else{this._move_divs("visualizer_prev",false)}this._create_cs_individual_view(l,m)}};rdx.visualizer_view.prototype._move_divs=function(m,n){var l=$(".visualizer_scrollable-panel");if(l.children().length<4){$(".visualizer_next").addClass("visualizer_disabled");$(".visualizer_prev").addClass("visualizer_disabled");return}if(n){var p=$(".visualizer_scrollable-panel div.cs_visualizer_box_selected");p.removeClass("cs_visualizer_box_selected")}var q=parseInt(l.css("left"));var h=0;this._cs_parent_div.remove();this.right_add_div.remove();if(m=="visualizer_prev"){var o=$(".visualizer_scrollable-panel div[data-center=true]");o.prev().attr("data-center","true");o.removeAttr("data-center");if(q==0){h=q}else{h=q+250}}else{var o=$(".visualizer_scrollable-panel div[data-center=true]");o.next().attr("data-center","true");o.removeAttr("data-center");if(q<-(250*($(".visualizer_slide").length-3))){h=q}else{h=q-250}}l.animate({left:h},150,function(){if(h==0){$(".visualizer_prev").addClass("visualizer_disabled")}else{if(h<-(250*($(".visualizer_slide").length-3))){$(".visualizer_next").addClass("visualizer_disabled")}else{$(".visualizer_prev,.visualizer_next").removeClass("visualizer_disabled")}}})};rdx.visualizer_view.prototype.render_visualizer=function(h){if(this._count==this._block_count){if(rdx.utils.is_not_defined(h.view_properties.referrer)){if(this.to_be_drawn_count>0){for(var f=0;f<this.to_be_drawn.length;f++){this.to_be_drawn_count--;this._render_block(this.to_be_drawn[f]["executor_result"],this.to_be_drawn[f]["view_defn"],this.to_be_drawn[f]["view_property"],this.to_be_drawn[f]["block_id"],false,true)}}if(h.view_properties.title!="CS Visualizer"){this.rearrange_elements(h)}this._parent_container.append(this._cs_parent_div);this.connect_block_elements(h);this._add_connection_overlays(h,this._parent_container)}else{this._parent_container.append(this._cs_parent_div);this.rearrange_elements(h);this.connect_block_elements(h);this._add_connection_overlays(h,this._cs_parent_div)}this._block_object={};this._block_count=0;this._count=0;this._level_tree={};if(rdx.utils.is_defined(h.view_properties.connect_defaults)){var l=$(".visualizer_scrollable-panel");if(l.children().length==1){$(".visualizer_scrollable-panel").addClass("visualizer_move_center");var g=$(".visualizer_scrollable-panel");g.children()[0];this._connect_defaults(g.children()[0],h)}else{if(l.length==0){return}else{var m=$(".visualizer_scrollable-panel div[data-center=true]");if(m.length>=1){this._connect_defaults(m,h)}else{return}}}}}};rdx.visualizer_view.prototype._add_connection_overlays=function(h,l){for(var m in h.diagram_properties){var g=h.diagram_properties[m];if(rdx.utils.is_defined(g.connection_img)){var f=$("<div />");f.css("left",this._block_object[m].position().left);if(g.direction=="left"){f.css("left",this._block_object[m].position().left+63);f.css("top",this._block_object[m].position().top-58);f.addClass("connection_div_req")}else{if(g.direction=="right"){f.css("left",this._block_object[m].position().left+62);f.css("top",this._block_object[m].position().top+this._block_object[m].height()+29);f.addClass("connection_div_res")}}}l.append(f)}};rdx.visualizer_view.prototype.rearrange_elements=function(o){for(var h=1;h<=5;h++){var l=this._level_tree[h];if(rdx.utils.is_not_defined(l)){continue}var m=this._block_object[l[0]].position().top;var p=this.find_largest_element(l);var q=this._level_tree[h+1];if(q){this._set_top_offset(q,p.position,m)}if(h==3&&o.view_properties.title!="GSLB Visualizer"){if(this._block_object.node_4.height()!=this._block_object.node_7.height()){var n=p.element[0].offsetTop+(p.element.height()/2);if(this._block_object.node_7.height()>100){this._block_object.node_7.css("top",n-50)}else{this._block_object.node_7.css("top",n)}}}else{this._parent_container.css("height",m+70)}}if(this._parent_container.height()<440){this._parent_container.css("height",440)}this._create_right_add_div(o);return};rdx.visualizer_view.prototype.find_largest_element=function(l){var q=[];var n=0;var h=null;for(var o=0;o<l.length;o++){var p=this._block_object[l[o]].height();var m=$(this._block_object[l[o]]).position().top;if(n<(p+m)){n=p+m;h=this._block_object[l[o]]}}return{element:h,position:n}};rdx.visualizer_view.prototype._set_top_offset=function(g,h,m){for(var n=0;n<g.length;n++){var o=this._block_object[g[n]];var l=o.position()["top"];o.css("top",h+75)}return};rdx.visualizer_view.prototype.get_is_back_button_required=function(){return this.is_back_button_required};rdx.visualizer_view.prototype.set_is_back_button_required=function(b){this.is_back_button_required=b};rdx.visualizer_view.prototype.create_add_new_link=function(l,f,h,m){var g=$('<a href="javascript:void(0);" class="add_new_block" title="Add New"><img src="'+rdx.images.PLUS_WHITE+'" />Add New</a>').bind(rdx.events.CLICK,{object:this,node:l,view_definition:f,block_id:h,add_view_name:m},function(a){var b=rdx.utils.get_view(a.data.add_view_name);var c=a.data.view_definition;var d=rdx.view_utils.show_view_in_slider(b,null,{name:c.selected_entity});$(d).bind(rdx.events.VIEW_DESTROYED,{node:l,block_id:h,obj:a.data.object},function(q){var p=q.data.block_id;var e=q.data.node;e.empty();q.data.obj.make_block(p)});a.stopPropagation()});if(rdx.utils.is_defined(g)){l.append(g)}this._parent_container.append(l)};rdx.visualizer_view.prototype.add_click_view_map=function(g,l,m,h,f){l.bind(rdx.events.CLICK,{view_defn:m,container:g,node:l,block_id:h,object:this,click_view_name:f},function(a){var b=rdx.utils.get_view(a.data.click_view_name);var c=a.data.view_defn;var d=rdx.view_utils.show_view_in_slider(b,null,{name:c.selected_entity})})};rdx.visualizer_view.prototype.close_view=function(){this._base_view.destroy_view()};rdx.visualizer_view.prototype.connect_block_elements=function(f){for(var d in this._block_object){var e=f.diagram_properties[d];if(rdx.utils.is_defined(e.child)&&rdx.utils.is_defined(this._block_object[e.child])){this._connect_block_elements(d,e.child,e,f)}continue}};rdx.visualizer_view.prototype._connect_block_elements=function(G,y,x,u){var F={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Top","Bottom"],connector:["Straight"]};var t={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Top"],connector:["Straight",{stub:[226,0]}]};var B={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Top"],connector:["Straight",{stub:[231,0]}]};var v={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Bottom"],connector:["Straight",{stub:[0,226]}]};var w={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Bottom"],connector:["Straight",{stub:[0,231]}]};var A={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Bottom"],connector:["Straight",{stub:[214,0]}]};var H={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Bottom"],connector:["Straight",{stub:[234,0]}]};var E={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Top"],connector:["Straight",{stub:[0,214],cornerRadius:10}]};var C={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#5386c5",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Top"],connector:["Straight",{stub:[0,234],cornerRadius:1}]};if(rdx.utils.is_array(y)){for(var D=0;D<y.length;D++){this._connect_block_elements(G,y[D])}}else{this._jsPlumb=jsPlumb.getInstance();var z={};if(rdx.utils.is_defined(x.connect_top)){z=t;if(rdx.utils.is_defined(u.view_properties.referrer)){z=B}}else{if(rdx.utils.is_defined(x.connect_bottom)){z=A;if(((this._block_object.node_5.height()+this._block_object.node_5.offset().top)-(this._block_object.node_7.height()+this._block_object.node_7.offset().top))>200){z.connector[1].stub=[0,((this._block_object.node_5.height()+this._block_object.node_5.offset().top)-(this._block_object.node_7.height()+this._block_object.node_7.offset().top))]}if(rdx.utils.is_defined(u.view_properties.referrer)){z=H}}else{if((rdx.utils.is_defined(x.direction)&&x.direction=="right")){if(rdx.utils.is_defined(u.view_properties.referrer)){z=C}else{if(rdx.utils.is_defined(x.connect_right_top)&&x.connect_right_top==true){z=F}else{z=E}}if(this._block_object.node_4.height()>265){z.connector[1].stub=[this._block_object.node_7.offset().top-this._block_object.node_3.offset().top,0]}}else{if((rdx.utils.is_defined(x.direction)&&x.direction=="left")){z=v;if(rdx.utils.is_defined(u.view_properties.referrer)){z=w}}else{z=F}}}}if(rdx.utils.is_defined(x.connect_bottom)){this._jsPlumb.connect({source:this._block_object[G],target:this._block_object[y]},z)}else{if(rdx.utils.is_defined(x.connect_top)){this._jsPlumb.connect({source:this._block_object[G],target:this._block_object[y]},z)}else{if(rdx.utils.is_defined(x.direction)&&x.direction=="left"){this._jsPlumb.connect({source:this._block_object[G],target:this._block_object[y]},z)}else{this._jsPlumb.connect({source:this._block_object[G],target:this._block_object[y]},z)}}}}};rdx.visualizer_view.prototype._create_cs_individual_view=function(e,f){var d=this._view_defn;if(rdx.utils.is_defined(f.application_name)){if(e=="Default"){e=neo.application_template_utils.get_application_unit_other_name(f.application_name)}else{e=neo.application_template_utils.get_application_unit_name(f.application_name,e)}}d.selected_entity=e;this.construct_visualizer_elements(d)};rdx.network_visualizer_view=function(f,d,e){this._parent=f;this.currentVlan=null;this._base_view=e;this.is_back_button_required=true;this.details={};this._jsPlumb=jsPlumb.getInstance()};rdx.network_visualizer_view.prototype.make_view=function(){neo.view_callbacks.network_visulaizer_callback(this)};rdx.network_visualizer_view.prototype.response_callback=function(resp_callback_param,selectors){var ip_address,that,cntr2,text_red,grp_cnt,grp_cntr,last_class,indvl_ip,state_class,left_group_markup,cntr,base_markup,left_markup,indvl_channel,left_indvl_markup,center_indvl_markup,right_indvl_markup,highest_col,cntr_id;that=this;base_markup='<div class="ns_grid main-nwrk-vslzr-cntnr"> 					<div class="grid_cell left"><div class="title first"><span>Interface</span></div><div class="content"></div></div>					<div class="grid_cell center"><div class="title"><span>Vlan</span></div><div class="content"></div></div>					<div class="grid_cell right"><div class="title last"><span>IP Address</span></div><div class="content"></div></div>					<div class="grid_cell details"><div class="title last"><span>Details</span></div><div class="content">						<div class="vlan-dtl"><span class="dtl">VLAN:</span><span class="vlu"></span></div>						<div class="vlan-id-dtl"><span class="dtl">VLAN ID:</span><span class="vlu"></span></div>						<div class="bdn-intrfc-dtl"><span class="dtl">Bound Interfaces:</span><span class="vlu"></span></div>						<div class="ipv6-rout-dtl"><span class="dtl">IPv6 Dynamic Routing:</span><span class="vlu"></span></div>						<div class="bnd-ip-dtl"><span class="dtl">IP Address:</span><span class="vlu"></span></div>					</div></div>				  </div>';this._parent.append(base_markup);left_markup="";left_group_markup="";if(resp_callback_param.left.groups){for(cntr in resp_callback_param.left.groups){left_group_markup+=" <div class='left_group'> <div class='grp-title-main'><div class='grp-title left-clickable'  data-left-vlan='"+resp_callback_param.left.groups[cntr].vlan+"'   data-left-grp-title='"+cntr+"'>"+cntr+"</div></div>";indvl_channel=resp_callback_param.left.groups[cntr].bound_interfaces_data;if(indvl_channel){grp_cnt=rdx.utils.get_object_length(indvl_channel);grp_cntr=1;for(cntr2 in indvl_channel){last_class="";if(grp_cntr===grp_cnt){last_class="last"}grp_cntr++;text_red="";if(indvl_channel[cntr2].state!="ENABLED"){text_red="txt-red"}grp_indvl_markup="<div class='grp-main'><div class='grp-indvl  left-clickable  "+last_class+" "+text_red+"'  data-left-vlan='"+resp_callback_param.left.groups[cntr].vlan+"'  data-left-grp-indvl='"+cntr2+"'>"+cntr2+"</div></div>";left_group_markup+=grp_indvl_markup}}left_group_markup+="</div>"}}if(resp_callback_param.left.indivuals){left_indvl_markup="";for(cntr in resp_callback_param.left.indivuals){text_red="";if(resp_callback_param.left.indivuals[cntr].state!="ENABLED"){text_red="txt-red"}left_indvl_markup+="<div class='left-main'><div class='left-indvl left-clickable "+text_red+"' data-left-vlan='"+resp_callback_param.left.indivuals[cntr].vlan+"' data-left-indvl='"+resp_callback_param.left.indivuals[cntr].devicename+"'>"+resp_callback_param.left.indivuals[cntr].devicename+"</div></div>"}}$(".main-nwrk-vslzr-cntnr .left .content").append(left_group_markup);$(".main-nwrk-vslzr-cntnr .left .content").append(left_indvl_markup);if(resp_callback_param.right.items){right_indvl_markup="";for(cntr in resp_callback_param.right.items){indvl_ip=resp_callback_param.right.items[cntr];state_class="red";ip_address=indvl_ip.ipaddress||indvl_ip.ipv6address;var slash_vlu;var netmask=indvl_ip.netmask;if(indvl_ip.ipaddress){slash_vlu=0;var sub_n_m_add=netmask.split(".");$(sub_n_m_add).each(function(indx,value){if(!isNaN(value)){slash_vlu+=eval(parseInt(value,10).toString(2).split("").join("+"))}});slash_vlu="/"+slash_vlu.toString()}else{slash_vlu=""}if(indvl_ip.state=="ENABLED"){state_class="green"}right_indvl_markup+="<div class='right-main'><div class='inside-box' data-right-indvl='"+ip_address+"'><div class='circle "+state_class+"'></div><div class='ip-name' >"+ip_address+slash_vlu+"</div></div></div>"}}$(".main-nwrk-vslzr-cntnr .right .content").append(right_indvl_markup);if(resp_callback_param.center.items){center_indvl_markup="";var i=0;var is_first;for(cntr in resp_callback_param.center.items){is_first="";cntr_id=resp_callback_param.center.items[cntr].id;if(this.details&&!this.details[resp_callback_param.center.items[cntr].id]){this.details[resp_callback_param.center.items[cntr].id]={}}this.details[cntr_id].vlan=resp_callback_param.center.items[cntr].id;this.details[cntr_id].bound_interfaces=resp_callback_param.center.items[cntr].ifaces;this.details[cntr_id].ipv6dynamicrouting=resp_callback_param.center.items[cntr].ipv6dynamicrouting;if(i===0){is_first="current";that.currentVlan=resp_callback_param.center.items[cntr].id}i++;center_indvl_markup+="<div class='center-main'><div class='inside-box "+is_first+" ' data-vlanid = '"+resp_callback_param.center.items[cntr].id+"'>"+resp_callback_param.center.items[cntr].id+"</div></div>"}}$(".main-nwrk-vslzr-cntnr .center .content").append(center_indvl_markup);this.updateDetails(this.details[this.currentVlan]);highest_col=Math.max($(".main-nwrk-vslzr-cntnr .grid_cell.left").height(),$(".main-nwrk-vslzr-cntnr .grid_cell.center").height(),$(".main-nwrk-vslzr-cntnr .grid_cell.right").height());$(".main-nwrk-vslzr-cntnr .grid_cell").height(highest_col);this.connectDefault(selectors);$(".main-nwrk-vslzr-cntnr .center .content .inside-box").click(function(event){var vlanid=$(event.target).attr("data-vlanid");neo.view_callbacks.click_center_callback(vlanid,that,resp_callback_param)});$(".main-nwrk-vslzr-cntnr .left .content .left-clickable").click(function(event){var vlanid=$(event.target).attr("data-left-vlan");if(!vlanid){return}neo.view_callbacks.click_center_callback(vlanid,that,resp_callback_param)})};rdx.network_visualizer_view.prototype.updateDetails=function(b){$(".main-nwrk-vslzr-cntnr .details .bdn-intrfc-dtl .vlu").text("");$(".main-nwrk-vslzr-cntnr .details .ipv6-rout-dtl .vlu").text("");$(".main-nwrk-vslzr-cntnr .details .bnd-ip-dtl .vlu").text("");$(".main-nwrk-vslzr-cntnr .details .vlan-dtl .vlu").text(b.vlan);$(".main-nwrk-vslzr-cntnr .details .vlan-id-dtl .vlu").text(b.vlan);$(".main-nwrk-vslzr-cntnr .details .bdn-intrfc-dtl .vlu").text(b.bound_interfaces);$(".main-nwrk-vslzr-cntnr .details .ipv6-rout-dtl .vlu").text(b.ipv6dynamicrouting);$(".main-nwrk-vslzr-cntnr .details .bnd-ip-dtl .vlu").text(b.ipvalues)};rdx.network_visualizer_view.prototype.clickCallBack=function(d,c){this.selectDefault(d);$(".main-nwrk-vslzr-cntnr .center .center-main .current").removeClass("current");$(".main-nwrk-vslzr-cntnr .center .center-main [data-vlanid='"+c+"']").addClass("current");this.currentVlan=c;this.updateDetails(this.details[this.currentVlan])};rdx.network_visualizer_view.prototype.connectDefault=function(d){var c=this;$(".main-nwrk-vslzr-cntnr .right .content .inside-box").each(function(f,b){var a=$(this).attr("data-right-indvl");a=a.replace(/\//g,"_");a=a.replace(/\./g,"_");a=a.replace(/\:/g,"_");a="un-selected c_"+a;c._jsPlumb.connect({source:$(this).parent(".right-main"),target:$(this),cssClass:a},{anchor:["Left"],connector:["Straight"],endpoint:"Blank",paintStyle:{strokeStyle:"#E9E9E9",lineWidth:4,radius:2}})});$(".main-nwrk-vslzr-cntnr .left .left-indvl").each(function(f,b){var a=$(this).text();a=a.replace(/\//g,"_");a=a.replace(/\./g,"_");a="un-selected c_"+a;c._jsPlumb.connect({source:$(this).parent(".left-main"),target:$(this),cssClass:a},{anchor:["Right"],connector:["Straight"],endpoint:"Blank",paintStyle:{strokeStyle:"#E9E9E9",lineWidth:4,radius:2}})});$(".main-nwrk-vslzr-cntnr .left .left_group .grp-title").each(function(f,b){var a=$(this).text();a=a.replace(/\//g,"_");a=a.replace(/\./g,"_");a="un-selected c_"+a;c._jsPlumb.connect({source:$(this).parent(".grp-title-main"),target:$(this),cssClass:a},{anchor:["Right"],connector:["Straight"],endpoint:"Blank",paintStyle:{strokeStyle:"#E9E9E9",lineWidth:4,radius:2}})});$(".main-nwrk-vslzr-cntnr .left .left_group .grp-indvl").each(function(f,b){var a=$(this).text();a=a.replace(/\//g,"_");a=a.replace(/\./g,"_");a="un-selected c_"+a;c._jsPlumb.connect({source:$(this).parent(".grp-main"),target:$(this),cssClass:a},{anchor:["Right"],connector:["Straight"],endpoint:"Blank",paintStyle:{strokeStyle:"#E9E9E9",lineWidth:4,radius:2}})});this.selectDefault(d)};rdx.network_visualizer_view.prototype.selectDefault=function(m){var f,l,h,g;$(".selected").each(function(){var a=$(this);rdx.utils.replace_class_svg(a[0],"un-selected","selected")});$(".main-nwrk-vslzr-cntnr .left .left_group .grp-main .current").removeClass("current");$(".main-nwrk-vslzr-cntnr .left .left_group .grp-title-main .current").removeClass("current");$(".main-nwrk-vslzr-cntnr .left .left-main .current").removeClass("current");$(".main-nwrk-vslzr-cntnr .right .right-main .current").removeClass("current");for(l in m.left.individuals){g=m.left.individuals[l];this.selectSvg(g);$(".main-nwrk-vslzr-cntnr .left .left-main [data-left-indvl='"+g+"']").addClass("current")}for(l in m.left.groups){g=m.left.groups[l].title;this.selectSvg(g);$(".main-nwrk-vslzr-cntnr .left .left_group .grp-title-main [data-left-grp-title='"+g+"']").addClass("current");if(m.left.groups[l].individuals){for(h in m.left.groups[l].individuals){g=m.left.groups[l].individuals[h];this.selectSvg(g);$(".main-nwrk-vslzr-cntnr .left .left_group .grp-main [data-left-grp-indvl='"+g+"']").addClass("current")}}}for(l in m.right){g=m.right[l];this.selectSvg(g);$(".main-nwrk-vslzr-cntnr .right .right-main [data-right-indvl='"+g+"']").addClass("current")}};rdx.network_visualizer_view.prototype.selectSvg=function(b){b=b.replace(/\//g,"_");b=b.replace(/\./g,"_");b=b.replace(/\:/g,"_");b="c_"+b;elmnt=$("."+b).first();rdx.utils.replace_class_svg(elmnt[0],"selected","un-selected")};rdx.network_visualizer_view.prototype.is_title_required=function(){return true};rdx.network_visualizer_view.prototype.get_is_back_button_required=function(){return this.is_back_button_required};rdx.network_visualizer_view.prototype.set_is_back_button_required=function(b){this.is_back_button_required=b};rdx.network_visualizer_view.prototype.close_view=function(){this._base_view.destroy_view()};rdx.resource_visualizer=function(h,e,f){this._parent=h;this._base_view=f;this.is_back_button_required=true;this._view_definition=e;this._jsPlumb=jsPlumb.getInstance();this._draw_flowchart_line=jsPlumb.getInstance();var g={right_pane_click_handler_callback:null,left_pane_click_handler:null,add_device_click_handler_callback:null};this._view_properties=$.extend({},g,this._view_definition.view_properties);this._colored_arrays=["#F6CC4B","#009688","#45DE6D","#E49CFF","#FF9B7D","#A7CAF3","#E86361","#AA55FF","#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3"]};rdx.resource_visualizer.prototype.make_view=function(){rdx.mask.mask_component(rdx.page.get_content())};rdx.resource_visualizer.prototype.refresh_view=function(){};rdx.resource_visualizer.prototype.get_resource_response_arrived=function(d){this._resp_callback_param=d;this._render_top_charts();this._render_header();this._render_left_pane();this._render_right_pane();this._render_resource_pane();var c=Math.max(this._left_cell_content.outerHeight(),this._right_main_cell.outerHeight(),this._resource_summary_cell.outerHeight());this._resource_summary_cell.height(c+50);if(this._left_cell_content.height()<this._right_cell_content.height()){this._connector_div.height(this._right_cell_content.height()-45)}else{this._connector_div.height(this._left_cell_content.height()-40)}rdx.mask.unmask_all_components()};rdx.resource_visualizer.prototype._render_top_charts=function(){var n=this._view_definition.view_properties.top_chart_views;var p=true;for(var q in n){var h=$("<div>").addClass("top_chart");var m=rdx.i18n.get_string(n[q]["title"]);var o=$("<div>").addClass("chart_title").append(m);h.append(o);var l=new rdx.base_view(h,rdx.utils.get_view(q));l.prepare_view();this._parent.append(h);if(p){h.addClass("first");p=false}}};rdx.resource_visualizer.prototype._render_header=function(){var l=this;this._base_markup=$("<div>").addClass("ns_grid");this._left_main_cell=$("<div>").addClass("grid_cell left");var m=$("<div>").addClass("title first");var o=$("<span>").append(rdx.i18n.get_string(this._view_properties.left_pane_header_title));this._left_cell_content=$("<div>").addClass("content");this._connector_div=$("<div>").addClass("connector_div");this._highlited_div=$("<div>").addClass("highlited");this._left_main_cell.append(m.append(o)).append(this._left_cell_content);this._base_markup.append(this._left_main_cell.append(this._connector_div.append(this._highlited_div)));this._parent.append(this._base_markup).addClass("resource_visualizer");this._resource_summary_cell=$("<div>").addClass("grid_cell resource_summary");var n=$("<div>").addClass("title");var g=$("<span>").append(rdx.i18n.get_string(this._view_properties.resource_pane_header_title));this._resource_summary_cell_content=$("<div>").addClass("content");this._resource_summary_charts_content=$("<div>").addClass("charts_content");this._resource_summary_info_content=$("<div>").addClass("info_content");this._resource_summary_cell_content.append(this._resource_summary_charts_content).append(this._resource_summary_info_content);this._resource_summary_cell.append(n.append(g)).append(this._resource_summary_cell_content);this._base_markup.append(this._resource_summary_cell);this._right_main_cell=$("<div>").addClass("grid_cell right");this._right_cell_title=$("<div>").addClass("title");var h=$("<span>").append(rdx.i18n.get_string(this._view_properties.right_pane_header_title));this._right_cell_content=$("<div>").addClass("content");this._right_cell_title.append(h);this._right_main_cell.append(this._right_cell_title).append(this._right_cell_content);this._base_markup.append(this._right_main_cell)};rdx.resource_visualizer.prototype._render_left_pane=function(){var d=$("<div>");var c=this;if(this._resp_callback_param.left.groups){this._render_group_elements()}if(this._resp_callback_param.left.individuals){this._render_individual_elements()}this._bind_events()};rdx.resource_visualizer.prototype._render_group_elements=function(){var v=this;var z=this._resp_callback_param.left.groups;for(var u in z){if(z.hasOwnProperty(u)){var w=" ";if(z[u].state!="UP"){w="red_color"}var D=$("<div>").addClass("left_group");var A=$("<div>").addClass("group_title_main");this._left_clickable_div=$("<div>").addClass("group_title left_clickable").addClass(w);if(z[u]["is_used"]=="false"){D.addClass("disabled")}var C=$("<span>").addClass("empty_span");this._left_clickable_div.attr("data-left-value",u).append(u);D.append(A.append(this._left_clickable_div.append(C)));var q=z[u].membered_interfaces;this._connectDefault(A,this._left_clickable_div,u);if(rdx.utils.is_defined(q)){for(var x=0;x<q.length;x++){var y=q[x]["state"];var B=$("<div>").addClass("group_main");var s=q[x]["port"];var t=$("<div>").addClass("group_individual interface").attr("data-left-value",s).append(s);if(y=="DOWN"){t.addClass("red_color")}var C=$("<span>").addClass("empty_span");B.append(t.append(C));D.append(B);this._connectDefault(B,t,B.text())}}this._left_cell_content.append(D)}}};rdx.resource_visualizer.prototype._render_individual_elements=function(){var p=this._resp_callback_param.left.individuals;var q=this;for(var o in p){if(p.hasOwnProperty(o)){var n=$("<div>").addClass("left_main");var s="";if(p[o].state!="UP"){s="red_color"}var t=$("<span>").append(p[o].devicename);var m=$("<div>").addClass("left_individual interface").addClass("left_clickable").addClass(s).attr("data-left-value",p[o].devicename).append(t);if(p[o]["is_used"]=="false"){m.addClass("disabled")}var l=$("<span>").addClass("empty_span");n.append(m.append(l));this._left_cell_content.append(n);this._connectDefault(n,m,m.text())}}};rdx.resource_visualizer.prototype._bind_events=function(){var b=this;this._left_cell_content.click(function(a){var d=$(a.target).attr("data-left-value")||$(a.target).closest(".left_individual").attr("data-left-value");if(!d||$(a.target).parents().hasClass("disabled")){return}b.remove_all_connections();b._view_properties.left_pane_click_handler.call_back([d,b,b._resp_callback_param])}).bind(rdx.events.MOUSE_OVER,function(f){var e=$(f.target).attr("data-left-value")||$(f.target).closest(".left_individual").attr("data-left-value");var a=$(f.target).closest(".left_individual")||$(f.target);if(rdx.utils.is_empty(a["0"])){a["0"]=$(f.target)[0]}$(".rdx_tooltip_z_index").remove();if(!e||$(f.target).hasClass("group_title")){return}b._show_interface_summary(e,a)}).bind(rdx.events.MOUSE_LEAVE,{that:this},function(a){$(".rdx_tooltip_z_index").remove()})};rdx.resource_visualizer.prototype._render_right_pane=function(v){var x=this;var z=$("<div>");if(this._resp_callback_param.right.items.length>0){v=rdx.utils.is_defined(v)?v:this._resp_callback_param.right.items;for(var F in v){if(v.hasOwnProperty(F)){var s=v[F];state_class="red";ip_address=s.ip_address;var w=$("<span>").addClass("hostname").append(s.name);var E=$("<div>").addClass("circle");if(s.instance_state=="Up"){state_class="green"}else{if($.inArray(s.instance_state.toLowerCase(),rdx.view_renderers._state_outofservice_values)!=-1){state_class="yellow";if(rdx.utils.is_defined(s.reason)){E.attr("title",s.reason)}}}E.addClass(state_class);var u=$("<div>").addClass("right_main");this._inside_box=$("<div>").addClass("inside_box").attr("data-right-ip-address",ip_address).attr("data-bound-interfaces",s.bound_interface).attr("data-device-family",s.device_family);var C=$("<div>").addClass("product_logo").attr("title",s.device_family_name);var y=$("<span>").addClass("ip_address").append(ip_address);var B=$("<div>").addClass("ip-name").append(w).append("<br/>").append(y);this._inside_box.append(C).append(E).append(B);var t=$("<a>").addClass("close").append();var A=$("<img>").attr("src",rdx.images.MESSAGE_CLOSE);this._inside_box.append(t.append(A));t.click(function(a){x.close_info_pane();a.stopPropagation();x.remove_all_connections()});u.append(this._inside_box);z.append(u);this._connectDefault(u,x._inside_box,ip_address,"Left")}}z.addClass("clickable").click(function(e){if(!($(e.target).hasClass("expanded")||$(e.target).parents().hasClass("expanded"))){var d,b,c;d=$(e.target).attr("data-right-ip-address")||$(e.target).parents(".inside_box").attr("data-right-ip-address");b=$(e.target).attr("data-bound-interfaces")||$(e.target).parents(".inside_box").attr("data-bound-interfaces");c=$(e.target).attr("data-device-family")||$(e.target).parents(".inside_box").attr("data-device-family");if(!d){return}x.remove_all_connections();$(".right .inside_box").each(function(f,g){x._jsPlumb.hide(g)});$(".right_main",x._right_cell_content).addClass("hide");$(e.target).parents(".right_main").removeClass("hide").addClass("expanded");x._connector_div.height(x._left_cell_content.height()-40);var a={};a.ip_address=d;a.bound_interfaces=b;a.right_items=x._resp_callback_param.right.items;a.device_family=c;a.virtual_interface_resource=x._view_definition.view_properties[c]["virtual_interface_resource"];x._view_properties.right_pane_click_handler_callback.call_back([a,x])}})}else{var D=$("<div>").append(rdx.i18n.get_string("rdx.no_instances_available_message")).addClass("no_data");z.append(D)}this._right_cell_content.append(z)};rdx.resource_visualizer.prototype._render_resource_pane=function(){if(rdx.utils.is_defined(this._view_definition.view_properties.resource_summary)){var e=this._view_definition.view_properties.resource_summary.views;var f=this._view_definition.view_properties.resource_summary.chart_views;for(var g in f){this._render_chart_views(this._resource_summary_charts_content,f[g])}for(var g=0;g<e.length;g++){var h=new rdx.base_view(this._resource_summary_info_content,rdx.utils.get_view(e[g]));h.prepare_view()}}};rdx.resource_visualizer.prototype._render_chart_views=function(e,f){var g=f.resource_name;var h=this;rdx.model.get(rdx.utils.get_resource(g),null,new rdx.callback(null,function(d,b,m,a){var c=d[m.resource_name][0];if(rdx.utils.is_defined(m.response_callback)){m.response_callback.call_back([a,b,m,d])}else{a.create_chart_view(b,m,c)}},[e,f,h]))};rdx.resource_visualizer.prototype.create_chart_view=function(L,y,D){var z=$("<div>").addClass("main_chart");var v=$("<div>").addClass("title").append(y.title);var A=$("<div>").addClass("chart_inner_div");var G=$("<div>").addClass("chart_content");var w=$("<div>").addClass("chart_data");var I=$("<div>").addClass("allocated");var B=$("<div>").addClass("free");var F=$("<span>").addClass("total");var H=y.resource_properties;if(rdx.utils.is_defined(y.on_click_view)){z.click(function(){rdx.view_utils.show_view_in_slider(rdx.utils.get_view(y.on_click_view))});z.addClass("clickable")}var C=D[H[0]["key"]];var x=D[H[2]["key"]];allocated_value=C-x;var E={};E.free_value=x;E.allocated_value=allocated_value;if(rdx.utils.is_defined(y.render_callback)){C=y.render_callback.call_back([null,null,C]);allocated_value=y.render_callback.call_back([null,null,allocated_value]);x=y.render_callback.call_back([null,null,x])}I.append(allocated_value).append(H[1]["label"]);B.append(x).append(H[2]["label"]);F.append(C);v.append(F);w.append(I).append(B);A.append(G).append(w);z.append(v).append(A);L.append(z);var J=rdx.utils.get_view(y.view_name);J.response_callback=new rdx.callback(this._charts_response_callback,[E]);var K=new rdx.base_view(G,J);K.prepare_view()};rdx.resource_visualizer.prototype._charts_response_callback=function(d,c){d.resume(c)};rdx.resource_visualizer.prototype.render_info_pane=function(s,n){this._info_div=$("<div>").addClass("center_info_div info_view");var m=$("<table>").addClass("detail_info_table").addClass("table");var q=$("<tbody>");$(".expanded").append(this._info_div);var p=s.device_family;var u=this._view_definition.view_properties[p]["info_display_properties"];var o=this._view_definition.view_properties.bytes_info;if(rdx.utils.is_defined(this._view_definition.view_properties[p]["memory_info"])){var v=this._view_definition.view_properties[p]["memory_info"]}else{var v=this._view_definition.view_properties.memory_info}var t=s.network_interfaces;this._render_vlan_pane(s,t);this._render_info_charts(o,v,s);this._render_info_feilds(q,u,s);m.append(q);this._info_div.append(m);this.clickCallBack(n)};rdx.resource_visualizer.prototype._render_vlan_pane=function(u,v){var x=$("<div>");var y=$("<div>");var o="";this._info_div.append(x).append(y);for(var w=0;w<v.length;w++){var q=$("<span>").addClass("line_connectors");if(v[w]["is_member_ifc"]==true){continue}var t=v[w].vlan_whitelist_array;var p=v[w].port_name;o=$("<div>").addClass("vlan").attr("data-left-vlan-group",p);if(rdx.utils.is_defined(v[w]["virtual_port"])){p=v[w]["virtual_port"]}var z=$("<span>").addClass("empty_span");var s=$("<span>").append(p).addClass("vlans");o.append(q).append(z).append(s);if(rdx.utils.is_defined(t)&&t.length!=0){s.append(" (VLANs "+t+")")}if(v[w]["port_name"].indexOf("LA")>-1){x.append(o)}else{y.append(o)}}};rdx.resource_visualizer.prototype._render_info_feilds=function(s,m,n){for(var l in m){var p=$("<tr>");var t=$("<td>").addClass("label").append(rdx.i18n.get_string(m[l]["label"]));var q=n[l];if(rdx.utils.is_defined(m[l]["renderer_callback"])){q=m[l]["renderer_callback"].call_back([n])}var o=$("<td>").addClass("field").append(q);p.append(t).append(o);s.append(p)}};rdx.resource_visualizer.prototype._render_info_charts=function(t,C,A){var u=$("<div>").addClass("other_info");var x=$("<div>").addClass("bytes_info");for(var y in t){if(rdx.utils.is_defined(A[y])){var v=$("<div>").addClass("inner_div");var z=$("<div>").addClass("header").append(t[y]["header_label"]);var w=$("<div>").addClass("total_bytes").append(A[y]);var q=$("<div>").addClass("footer").append(t[y]["footer_label"]);v.append(z).append(w).append(q);x.append(v)}}var D=$("<div>").addClass("memory_info");var B=true;for(var y in C){if(rdx.utils.is_defined(A[y])){var v=$("<div>").addClass("inner_div");var z=$("<div>").addClass("header").append(C[y]["label"]);var s=new rdx.bar_chart(null,{value:A[y],class_names:"bar_chart green_foreground"}).render();var w=$("<div>").append(s);var q=$("<div>").addClass("footer").append(A[y]).append("%");v.append(z).append(w).append(q);D.append(v);if(B==true){v.addClass("first");B=false}}}if(x.children().length>0){u.append(x)}else{D.addClass("single_column")}u.append(D);this._info_div.append(u)};rdx.resource_visualizer.prototype._show_interface_summary=function(x,q){var v={};var n=this._resp_callback_param.left.interfaces_summary;var o="";var u=n[x];for(var w in this._view_definition.view_properties.interface_summary){var t=rdx.i18n.get_string(this._view_definition.view_properties.interface_summary[w]["label"]);var s=u[w];if(rdx.utils.is_defined(this._view_definition.view_properties.interface_summary[w]["renderer_callback"])){s=this._view_definition.view_properties.interface_summary[w]["renderer_callback"].call_back([u])}o=o+"<span>"+t+"</span> : <b>"+s+"</b><br/>"}v.message=o;v.hide_more=true;v.class_names="resource_visualizer_tooltips";var p=new rdx.tooltip(q,v);p.render(v)};rdx.resource_visualizer.prototype._connectDefault=function(h,g,m,l){var f=this;if(rdx.utils.is_not_defined(l)){l="Right"}m=m.replace(/\//g,"_");m=m.replace(/\./g,"_");m="un-selected c_"+m;setTimeout(function(){f._jsPlumb.connect({source:h,target:g,cssClass:m},{anchor:[l],connector:["Straight"],endpoint:"Blank",paintStyle:{strokeStyle:"#E9E9E9",lineWidth:2,radius:2}})},1000)};rdx.resource_visualizer.prototype.selectDefault=function(h){var l,f,m,g;this.remove_all_connections();for(f in h.left.individuals){if(h.left.individuals.hasOwnProperty(f)){g=h.left.individuals[f];$(".left  [data-left-value='"+g+"']").addClass("current");$(".left  [data-left-value='"+g+"']").addClass("current");if(h.right.length>0){this.selectSvg(g)}}}for(f in h.left.groups){if(h.left.groups.hasOwnProperty(f)){g=h.left.groups[f].channel_id;$(".group_title_main [data-left-value ='"+g+"']").addClass("current");if(h.left.groups[f].individuals){for(m in h.left.groups[f].individuals){g=h.left.groups[f].individuals[m];this.selectSvg(g);$(".group_main [data-left-value ='"+g+"']").addClass("current")}}if(h.right.length>0){this.selectSvg(g)}}}for(f in h.right){if(h.right.hasOwnProperty(f)){g=h.right[f].ip_address;this.selectSvg(g);$(".right_main [data-right-ip-address='"+g+"']").addClass("current");this._highlited_div.addClass("connected")}}this._adjust_height()};rdx.resource_visualizer.prototype._adjust_height=function(){var v=$(".left .current");var s=$(".right_main .current");var u=[];for(var o=0;o<s.length;o++){var t=$(s[o]).offset();u.push(t.top+29)}for(var o=0;o<v.length;o++){var t=$(v[o]).offset();u.push(t.top+15)}var q=Math.max.apply(Math,u);var p=Math.min.apply(Math,u);var m=q-p;var n=this._connector_div.offset().top;this._highlited_div.height(m+1).css("top",p-n)};rdx.resource_visualizer.prototype.selectSvg=function(b){b=b.replace(/\//g,"_");b=b.replace(/\./g,"_");b="c_"+b;elmnt=$("."+b).first();rdx.utils.replace_class_svg(elmnt[0],"selected","un-selected")};rdx.resource_visualizer.prototype.clickCallBack=function(s){var q=s.split(",");var y=0;for(var u=0,p=0;u<q.length;u++,p++){y=u*10;if(y>90){y=90}var v="vlan_connectors";if(q[u].indexOf("LA")>-1){var x=$(".group_title[data-left-value = '"+q[u]+"'] .empty_span")}else{var x=$(".left_individual[data-left-value = '"+q[u]+"'] .empty_span");if(x.length==0){x=$(".group_individual[data-left-value = '"+q[u]+"'] .empty_span")}}var o=$(".vlan[data-left-vlan-group = '"+q[u]+"']  .empty_span");if(p>=this._colored_arrays.length){p=0}var w="color_"+p;var z=this._colored_arrays[p];o.parent().addClass(w);x.addClass(w);if(x.length>0){if(o.length>1){for(var t=0;t<o.length;t++){this.draw_lines(o[t],x,v,z,y)}}else{this.draw_lines(o,x,v,z,y)}}}};rdx.resource_visualizer.prototype.draw_lines=function(g,m,h,l,f){this._draw_flowchart_line.connect({target:g,source:m,cssClass:h},{anchors:["Right","Left"],connector:["Flowchart",{stub:[f,0],cornerRadius:2}],endpoint:"Blank",paintStyle:{strokeStyle:l,lineWidth:2}})};rdx.resource_visualizer.prototype.close_info_pane=function(){$(".resource_visualizer .right svg").removeClass("hide");$(".resource_visualizer .right .right_main").removeClass("hide").removeClass("expanded");if(rdx.utils.is_defined(this._info_div)){this._info_div.remove()}};rdx.resource_visualizer.prototype.remove_all_connections=function(){var d=this;$(".current").removeClass("current");$(".selected").each(function(){var a=$(this);rdx.utils.replace_class_svg(a[0],"un-selected","selected")});$(".right .inside_box").each(function(b,a){d._jsPlumb.show(a)});this._highlited_div.removeClass("connected");this._draw_flowchart_line.detachEveryConnection();if(this._left_cell_content.height()<this._right_cell_content.height()){this._connector_div.height(this._right_cell_content.height()-45)}else{this._connector_div.height(this._left_cell_content.height()-40)}for(var e=0;e<this._colored_arrays.length;e++){var f="color_"+e;$("."+f).removeClass(f)}};rdx.app_fw_visualizer_view=function(f,d,e){this._parent=f;this.loop_cntr=0;this.profilename="";this._base_view=e;this.is_back_button_required=true;this._key=rdx.resources[d.resource_name].primary_keys[rdx.resources[d.resource_name].primary_keys.length-1];this._key="url";this._str_temp="";this._leaf_markup="";this.visual_object=null;this._top=20;this._box_space=37;this._root_top=0;this._bottom=0;this._fltr_select_val="";this.linearObj={};this.zoomfit_scale=0;this.zoomfit_translate=0;this.svg_height=0;this.nodeEnter=null;this.svg_width=0;this._level=1;this._total_levels=1;this._decorator_width=0;this._selected_leaf=null;this.slider_height=0;this._level_top=[];this._response=null;this.appfw_resp_keys={starturlaction:{resp_relx_key:"starturl",resp_rlx_vis_key:"starturl",resp_lrnd_vis_key:"url",resp_lrnd_dep_key:"url",resp_relx_actn_url:"starturl"},denyurlaction:{resp_relx_key:"denyurl",resp_rlx_vis_key:"denyurl",resp_lrnd_vis_key:"url",resp_lrnd_dep_key:"url",resp_relx_actn_url:"denyurl"},cookieconsistencyaction:{resp_relx_key:"cookieconsistency",resp_rlx_vis_key:"cookieconsistency",resp_lrnd_vis_key:"name",resp_lrnd_dep_key:"loc",resp_relx_actn_url:"cookieconsistency"},creditcardaction:{resp_relx_key:"creditcardnumber",resp_rlx_vis_key:"creditcardnumber",resp_lrnd_vis_key:"name",resp_lrnd_dep_key:"url",resp_relx_actn_url:"creditcardnumberurl"},fieldconsistencyaction:{resp_relx_key:"fieldconsistency",resp_rlx_vis_key:"fieldconsistency",resp_lrnd_vis_key:"name",resp_lrnd_dep_key:"url",resp_relx_actn_url:"formactionurl_ffc"},fieldformataction:{resp_relx_key:"fieldformat",resp_rlx_vis_key:"fieldformat",resp_lrnd_vis_key:"name",resp_lrnd_dep_key:"url",resp_relx_actn_url:"formactionurl_ff"},csrftagaction:{resp_relx_key:"csrftag",resp_rlx_vis_key:"csrftag",resp_lrnd_vis_key:"url",resp_lrnd_dep_key:"action_url",resp_relx_actn_url:"csrfformactionurl"},crosssitescriptingaction:{resp_relx_key:"crosssitescripting",resp_rlx_vis_key:"crosssitescripting",resp_lrnd_vis_key:"name",resp_lrnd_dep_key:"url",resp_relx_actn_url:"formactionurl_xss"},sqlinjectionaction:{resp_relx_key:"sqlinjection",resp_rlx_vis_key:"sqlinjection",resp_lrnd_vis_key:"name",resp_lrnd_dep_key:"url",resp_relx_actn_url:"formactionurl_sql"},safeobjectaction:{resp_relx_key:"safeobject",resp_rlx_vis_key:"safeobject",resp_lrnd_vis_key:"url",resp_lrnd_dep_key:"url",resp_relx_actn_url:"starturl"},contenttypeaction:{resp_relx_key:"contenttype",resp_rlx_vis_key:"contenttype",resp_lrnd_vis_key:"name",resp_lrnd_dep_key:"name",resp_relx_actn_url:"starturl"}};this._response_indxd={};this.jsonObjRet={};this._response_key="";this._delimiter_response=null;this._jsPlumb=jsPlumb.getInstance();this._initialize_view=function(c){var q,t,s,o,a,b,p;t=d.resource_name;s=d.sig_name;this.profilename=s;b=d.action_key;if(appfw){appfw.set_cur_action_key(b)}this._response_key=d.resp_key;this._response_key="url";a=this;o=rdx.utils.get_resource(t);d._resource=o;q="";if(!c){this.draw(b,d)}else{a.reset(false)}p="";if(b!=="starturlaction"&&b!=="cookieconsistencyaction"&&b!=="denyurlaction"&&b!=="safeobjectaction"&&b!=="contenttypeaction"){if(d.sub_type==="learning_visualiser"){q=o.get_url+"?args=profilename:"+s+",securitycheck:"+d.learned_pcheck+",paging:on"}else{q=o.get_url+"?args=name:"+s}$(".app-fw-visualizer .visualizer-svg .error-msg ").addClass("hide-me");$(".app-fw-visualizer .visualizer .root").removeClass("hide-me");$.ajax({url:q,success:function(w){if((d.sub_type==="learning_visualiser"&&rdx.utils.is_defined(w)&&w.appfwlearningdata)||(d.sub_type==="relaxation_visualiser"&&rdx.utils.is_defined(w)&&w["appfwprofile_"+a.appfw_resp_keys[b].resp_relx_key+"_binding"])){var l={},g,h,x,m,n;w=w.appfwlearningdata||w["appfwprofile_"+a.appfw_resp_keys[b].resp_relx_key+"_binding"];g="";h=0;x="url";m="";if(d.sub_type!=="learning_visualiser"){x=a.appfw_resp_keys[b].resp_relx_actn_url}else{if(b==="csrftagaction"){x="name"}}for(n in w){if(!l[w[n][x]]){l[w[n][x]]={};if(a._fltr_select_val===w[n][x]){m="selected";p=encodeURIComponent(w[n][x])}else{if(h===0){p=encodeURIComponent(w[n][x]);if(!c){a._fltr_select_val=w[n][x]}}}g+="<option value='"+w[n][x]+"' "+m+" >"+w[n][x]+"</option>";m="";h=h+1}}$("#app-fw-action-url").html(g);a.callVisualiserData(p,d,s,o,b,a,c)}else{$(".app-fw-visualizer .visualizer-svg .error-msg ").removeClass("hide-me");$(".app-fw-visualizer .visualizer .root").addClass("hide-me");$("#app-fw-action-url").html("")}},error:new rdx.callback(this,function(){rdx.message_box.info("Action url load failed. Please try again")}),headers:{"Content-Type":"application/json",NITRO_WEB_APPLICATION:true,rand_key:rand},type:"GET"})}else{a.callVisualiserData(null,d,s,o,b,a,c)}return}};rdx.app_fw_visualizer_view.prototype.callVisualiserData=function(C,F,t,w,D,A,u){var y,E="",s=$("#app-fw-action-url").val(),B="url",z,x,v;if(F.sub_type!=="learning_visualiser"){B=this.appfw_resp_keys[D].resp_relx_actn_url}else{if(D==="csrftagaction"){B="name"}}if(C){E="&filter="+B+":"+C}else{if(s){E="&filter="+B+":"+encodeURIComponent(s)}}if(F.sub_type==="learning_visualiser"){z=$("#app-fw-visualiser-pgsz").val()||50;x=$("#app-fw-visualiser-pgno").val()||1;v=w.get_url+"?args=profilename:"+t+",securitycheck:"+F.learned_pcheck+",paging:on&pageno="+x+"&pagesize="+z+E;y=w.get_url+"?args=profilename:"+t+",securitycheck:"+F.learned_pcheck+",paging:on&count=yes"+E}else{v=w.get_url+"?args=name:"+t+E}$(".app-fw-visualizer .visualizer-svg .error-msg ").addClass("hide-me");$(".app-fw-visualizer .visualizer .root").removeClass("hide-me");$.ajax({url:v,success:function(a){if((F.sub_type==="learning_visualiser"&&rdx.utils.is_defined(a)&&a.appfwlearningdata)||(F.sub_type==="relaxation_visualiser"&&rdx.utils.is_defined(a)&&a["appfwprofile_"+A.appfw_resp_keys[D].resp_relx_key+"_binding"])){A.response_callback(a,D,A,w,F,y,u)}else{$(".app-fw-visualizer .visualizer-svg .error-msg ").removeClass("hide-me");$(".app-fw-visualizer .visualizer .root").addClass("hide-me")}},error:new rdx.callback(this,function(){rdx.message_box.info("appflow.cannot_get_available_items")}),headers:{"Content-Type":"application/json",NITRO_WEB_APPLICATION:true,rand_key:rand},type:"GET"})};rdx.app_fw_visualizer_view.prototype.response_callback=function(l,p,q,m,s,o,t){if((s.sub_type==="learning_visualiser"&&rdx.utils.is_defined(l)&&l.appfwlearningdata)||(s.sub_type==="relaxation_visualiser"&&rdx.utils.is_defined(l)&&l["appfwprofile_"+this.appfw_resp_keys[p].resp_relx_key+"_binding"])){q._decorator_width=$(".view_div_decorator").width();q._response=l;this._delimiter_response=l["appfwprofile_"+this.appfw_resp_keys[p].resp_relx_key+"_binding"]||l.appfwlearningdata;q=this;var n;$.each(this._delimiter_response,function(){var a;if(s.sub_type==="learning_visualiser"){a=this[q.appfw_resp_keys[p].resp_lrnd_vis_key];if(a){n=q.set_data_change(this,p);q._response_indxd[a.replace(/\s/g,"__/\\__")]=n}}else{a=this[q.appfw_resp_keys[p].resp_rlx_vis_key];if(a){q._response_indxd[a.replace(/\s/g,"__/\\__")]=this}}});s._view_definition={};s._view_definition.action_key=p;this.drawNext("slash",p,s);if(s.sub_type==="learning_visualiser"&&($("#app-fw-visualiser-pgno")&&$("#app-fw-visualiser-pgno").children().length<=0)){$(".app-fw-visualizer .visualizer-svg .error-msg ").addClass("hide-me");$(".app-fw-visualizer .visualizer-svg .root").removeClass("hide-me");$.ajax({url:o,success:function(b){var a;if(b&&b.appfwlearningdata){a=b.appfwlearningdata[0].__count||0}q._total_rule_count=a;q.paginate()},headers:{"Content-Type":"application/json",NITRO_WEB_APPLICATION:true,rand_key:rand},type:"GET"})}if(!t){$(".app-fw-visualizer .tools .edit").click(function(){var b,d,a,c=q._selected_leaf.attr("data-full-key");a="appfw_relax_edit_view_"+p;d=rdx.utils.get_view(a);b=rdx.view_utils.show_view_in_slider(d,null,q._response_indxd[c.replace(/\s/g,"__/\\__")]);$(b).bind(rdx.events.VIEW_DESTROYED,{},function(){q._initialize_view(true)})});$(".app-fw-visualizer .tools .disable").click(function(){var a=q.prepare_object_params_arr(m,s);neo.view_callbacks.appfw_do_enable_by_edit(a,false,null,q);return});$(".app-fw-visualizer .tools .enable").click(function(){var a=q.prepare_object_params_arr(m,s);neo.view_callbacks.appfw_do_enable_by_edit(a,true,null,q)});$(".app-fw-visualizer .tools .edit-deploy").click(function(){var b,a,c=q._selected_leaf.attr("data-full-key");b={resource_defn:m,refresh_action:rdx.view_constants.REFRESH_ALL};a=new rdx.list_view_action_callback_params({selected_rows_primary_keys:q._response_indxd[c.replace(/\s/g,"__/\\__")],selected_rows_data:[q._response_indxd[c.replace(/\s/g,"__/\\__")]],all_rows_data:q._response_indxd[c.replace(/\s/g,"__/\\__")],resource_context:b,list_view:s});if(p==="crosssitescriptingaction"||p==="sqlinjectionaction"){a._properties.selected_rows_primary_keys.f__orig.url="^"+a._properties.selected_rows_primary_keys.f__orig.url+"$";a._properties.selected_rows_primary_keys.url="^"+a._properties.selected_rows_primary_keys.url+"$"}neo.view_callbacks.appfw_show_learn_edit_deploy_view(a,q)});$(".app-fw-visualizer .tools .deploy").click(function(){var b,d=q._selected_leaf,a,h,f,g,c;if(d.data("grp-regex")){h=$("#app-fw-action-url").val();var e=null;var v=null;if(q._selected_leaf.attr("data-xss_sql_children_same_value_type")==="true"){e=q._selected_leaf.attr("data-xss_sql_value_type");v=q._selected_leaf.attr("data-xss_sql_value")}else{if(q._selected_leaf.attr("data-xss_sql_children_same_value_type")==="false"){rdx.message_box.error("Please select different node. The selected node has child nodes of different types.")}}b={hits:2000,profilename:s.sig_name,securitycheck:s.resp_key,isregex_ffc:"REGEX",name:appfw.encode_unicode_chars(d.data("full-key").replace(/[-\\[\]{()*+?.,^$|#\/]/g,"\\$&")+d.data("grp-regex")),loc:appfw.encode_unicode_chars(d.data("full-key").replace(/[-\\[\]{()*+?.,^$|#\/]/g,"\\$&")+d.data("grp-regex")),url:(h&&appfw.encode_unicode_chars(h.replace(/[-\\[\]{()*+?.,^$|#\/]/g,"\\$&")))||appfw.encode_unicode_chars(d.data("full-key").replace(/[-\\[\]{()*+?.,^$|#\/]/g,"\\$&")+d.data("grp-regex"))};if(p==="fieldformataction"){b.fieldtype="integer"}if(p==="creditcardaction"){b.ccnumber=b.name}if(p==="csrftagaction"){a=b.name;b.name=b.url;b.url=a}if(p==="crosssitescriptingaction"||p==="sqlinjectionaction"){if(rdx.utils.is_defined(e)&&rdx.utils.is_defined(v)){b.value_type=e;b.value=v}}f={resource_defn:m,refresh_action:rdx.view_constants.REFRESH_ALL};b.f__orig=$.extend(true,{},b);g={selected_rows_primary_keys:b,selected_rows_data:[b],all_rows_data:b,resource_context:f,list_view:s};c=new rdx.list_view_action_callback_params(g);if(p==="fieldformataction"){neo.view_callbacks.appfw_fieldformat_do_learn_deploy_fieldtype(c,q,p,true)}else{neo.view_callbacks.appfw_do_learn_deploy(c,q,p,true)}}else{b=q.prepare_object_params_arr(m,s);if(p==="fieldformataction"){neo.view_callbacks.appfw_fieldformat_do_learn_deploy_fieldtype(b,q,p)}else{neo.view_callbacks.appfw_do_learn_deploy(b,q,p)}}return});$(".app-fw-visualizer .tools .skip").click(function(){var a=q.prepare_object_params_arr(m,s);neo.view_callbacks.appfw_do_learn_skip(a,q);return});$(".app-fw-visualizer .tools .refresh").click(function(){q._initialize_view(true)});$(".app-fw-visualizer .tools .delete").click(function(){var a,h,g,b,v,d,e,c,f;a=new rdx.model_executor_service(new rdx.callback(function(){q._initialize_view(true)}));b=m;if(p==="crosssitescriptingaction"||p==="sqlinjectionaction"){d=q.prepare_object_params_arr(m,s);neo.view_callbacks.appfw_relax_detail_view_sqlxss_delete(d,q);return}v={resource_defn:m,refresh_action:rdx.view_constants.REFRESH_ALL};if($(".c_"+q._selected_leaf.data("lvl-vlu"))&&$(".c_"+q._selected_leaf.data("lvl-vlu")).length>0){for(c=0;c<$(".c_"+q._selected_leaf.data("lvl-vlu")).length;c=c+1){h=$(".c_"+q._selected_leaf.data("lvl-vlu")).get(c);h=$(h);e=h.attr("data-full-key");if($(".c_"+h.data("lvl-vlu")).length===0){g=$.extend(true,{},q._response_indxd[e.replace(/\s/g,"__/\\__")]);a.add(rdx.model_constants.REMOVE,b,g,null,null,null,v)}}}else{if(q._selected_leaf.data("grp-regex")){f=q.linearObj.root;q.setSelRowObjParams(f,null,a,m)}else{e=q._selected_leaf.attr("data-full-key");g=$.extend(true,{},q._response_indxd[e.replace(/\s/g,"__/\\__")]);a.add(rdx.model_constants.REMOVE,b,g,null,null,null,v)}}if(rdx.utils.is_defined(g)){delete g.stateflag}rdx.message_box.confirm("Do you want to delete selected item?",new rdx.callback(function(){a.execute()}))});$(".app-fw-visualizer #app-fw-delimiter").change(function(){q.reset(false);q.drawNext(this.value,p,s)})}$(".app-fw-visualizer .visualizer-svg  .nodes").delegate(".node","click",{},function(){q.setRegex(this);q.leaves_root_hndl_selection(this,s)})}else{$(".app-fw-visualizer .visualizer-svg .error-msg ").addClass("hide-me");$(".app-fw-visualizer .visualizer .root").removeClass("hide-me")}};rdx.app_fw_visualizer_view.prototype.setRegex=function(H){H=$(H);if(H.data("grp-regex")){return}var I,Q=[],y=[],D=0,B=0,F,G,A=[],E=this._response_indxd,L,M,N,J,C,z=String(H.data("full-key"));if($(".c_"+H.data("lvl-vlu"))&&$(".c_"+H.data("lvl-vlu")).length>0){var R=true;var O=null;var P=null;I=$(".c_"+H.data("lvl-vlu"));F=0;var K=0;$(I).each(function(){var d=$(this),f=String(d.data("full-key")),a=String(d.data("key")),h=a.split(""),c;var g=f.replace(/\s/g,"__/\\__");if(rdx.utils.is_defined(E[g])&&E[g]["securitycheck"]==="crossSiteScripting"){var b=E[g]["value_type"];var e=E[g]["value"];if(!K){O=b;P=e}if(O!==b||P!==e){R=false}K++}if(d.hasClass("end_leaf")||rdx.utils.has_class_svg(d.get(0),"end_leaf")){if(F===0){D=f.length;F=F+1}else{if(f.length<D){D=f.length}}if(f.length>B){B=f.length}}for(c=0;c<h.length;c=c+1){if(Q.indexOf(h[c])<0){Q.push(h[c]);y.push(h[c].charCodeAt())}}});if(R){H.attr("data-xss_sql_children_same_value_type","true");H.attr("data-xss_sql_value_type",O);H.attr("data-xss_sql_value",P)}else{H.attr("data-xss_sql_children_same_value_type","false")}D=D-z.length;B=B-z.length;L=y.sort(function(a,b){return a-b});for(G=0;G<L.length;G=G+1){if((L[G]>=48&&L[G]<=57)||(L[G]>=65&&L[G]<=90)||(L[G]>=97&&L[G]<=122)){M=L[G];N=M;while(L[G+1]-L[G]===1){if(!((L[G]>=48&&L[G]<=57)||(L[G]>=65&&L[G]<=90)||(L[G]>=97&&L[G]<=122))){break}G=G+1;N=L[G]}J=String.fromCharCode(M);J=J.replace(/[-\\[\]{()*+?.,^$|#\/]/g,"\\$&");C=String.fromCharCode(N);C=C.replace(/[-\\[\]{()*+?.,^$|#\/]/g,"\\$&");if(M===N){A.push(String(J))}else{if(N-M===1){A.push(String(J));A.push(String(C))}else{A.push(J+"-"+C)}}}else{A.push(String.fromCharCode(L[G]).replace(/[-\\[\]{()*+?.,^$|#\/]/g,"\\$&"))}}H.attr("data-grp-regex","["+A.join("")+"]{"+D+","+B+"}")}return""};rdx.app_fw_visualizer_view.prototype.leaves_root_hndl_selection=function(l,f){var g=false,m,h;l=$(l);if(l.attr("data-lvl-vlu")==="0_0"){g=true}if(this._selected_leaf){this._selected_leaf.removeClass("selected");rdx.utils.remove_class_svg(this._selected_leaf.get(0),"selected")}if($(l).hasClass("leaf")||$(l).hasClass("root")){this._selected_leaf=$(l);$(l).addClass("selected")}if(rdx.utils.has_class_svg(l.get(0),"node")||rdx.utils.has_class_svg(l.get(0),"root")){this._selected_leaf=$(l);$(l).addClass("selected");rdx.utils.add_class_svg(l.get(0),"selected")}m=$(l);h=String(m.data("full-key"));$(".app-fw-visualizer .selected-rule-cntr .sel-rule").text(h.replace(/[-\\[\]{()*+?.,^$|#\/]/g,"\\$&")+(m.data("grp-regex")||""));if(f.sub_type==="learning_visualiser"){if(!g){$(".app-fw-visualizer .tools .edit-deploy").removeClass("rdx_button_disabled")}else{$(".app-fw-visualizer .tools .edit-deploy").addClass("rdx_button_disabled")}$(".app-fw-visualizer .tools .deploy").removeClass("rdx_button_disabled");$(".app-fw-visualizer .tools .skip").removeClass("rdx_button_disabled")}else{if(!g){$(".app-fw-visualizer .tools .edit").removeClass("rdx_button_disabled")}else{$(".app-fw-visualizer .tools .edit-deploy").addClass("rdx_button_disabled")}$(".app-fw-visualizer .tools .delete").removeClass("rdx_button_disabled");$(".app-fw-visualizer .tools .enable").removeClass("rdx_button_disabled");$(".app-fw-visualizer .tools .disable").removeClass("rdx_button_disabled")}};rdx.app_fw_visualizer_view.prototype.set_data_change=function(e,f){var h,g;switch(f){case"starturlaction":h={url:appfw.decode_data_for_regex(e.url),hits:e.hits,profilename:e.profilename,securitycheck:e.securitycheck,f__orig:e};break;case"cookieconsistencyaction":h={loc:appfw.decode_data_as_is(e.name),name:e.name,hits:e.hits,profilename:e.profilename,securitycheck:e.securitycheck,f__orig:e};break;case"creditcardaction":h={url:appfw.decode_data_for_regex(e.url),hits:e.hits,name:e.name,ccnumber:e.name,cctype:e.fieldtype,profilename:e.profilename,securitycheck:e.securitycheck,f__orig:e};break;case"fieldconsistencyaction":h={loc:appfw.decode_data_as_is(e.name),name:e.name,url:appfw.decode_data_for_regex(e.url),hits:e.hits,profilename:e.profilename,securitycheck:e.securitycheck,f__orig:e};break;case"fieldformataction":h={fieldformat:appfw.decode_data_as_is(e.name),name:e.name,url:appfw.decode_data_for_regex(e.url),fieldtype:e.fieldtype,minlen:e.fieldformatminlength,maxlen:e.fieldformatmaxlength,f__charmap:e.fieldformatcharmappcre,f__choice:"FIELDTYPE",hits:e.hits,profilename:e.profilename,securitycheck:e.securitycheck,f__orig:e};break;case"csrftagaction":h={url:appfw.decode_data_for_regex(e.url),action_url:appfw.decode_data_as_is(e.name),name:e.name,hits:e.hits,profilename:e.profilename,securitycheck:e.securitycheck,f__orig:e};break;case"sqlinjectionaction":case"crosssitescriptingaction":g=new RegExp("^Field$","i");if(g.test(e.fieldtype)){e.fieldtype="FormField"}h={loc:appfw.decode_data_as_is(e.name),url:appfw.decode_data_for_regex(e.url),hits:e.hits,name:e.name,fieldtype:e.fieldtype,profilename:e.profilename,value:e.value,value_type:e.value_type,securitycheck:e.securitycheck,f__orig:e};break;default:h=e;break}return h};rdx.app_fw_visualizer_view.prototype.prepare_object_params_arr=function(o,s){var q,n,v,t,m,p,u;v={resource_defn:o,refresh_action:rdx.view_constants.REFRESH_ALL};t=this._selected_leaf.attr("data-full-key");m={selected_rows_primary_keys:[this._response_indxd[t.replace(/\s/g,"__/\\__")]],selected_rows_data:[this._response_indxd[t.replace(/\s/g,"__/\\__")]],all_rows_data:this._response_indxd[t.replace(/\s/g,"__/\\__")],resource_context:v,list_view:s};if($(".c_"+this._selected_leaf.data("lvl-vlu"))&&$(".c_"+this._selected_leaf.data("lvl-vlu")).length>0){m.selected_rows_data=[];m.selected_rows_primary_keys=[];for(p=0;p<$(".c_"+this._selected_leaf.data("lvl-vlu")).length;p=p+1){n=$(".c_"+this._selected_leaf.data("lvl-vlu")).get(p);n=$(n);t=n.attr("data-full-key");if($(".c_"+n.data("lvl-vlu")).length===0){m.selected_rows_data.push(this._response_indxd[t.replace(/\s/g,"__/\\__")]);m.selected_rows_primary_keys.push(this._response_indxd[t.replace(/\s/g,"__/\\__")])}}}else{if(this._selected_leaf.data("grp-regex")){u=this.linearObj.root;m.selected_rows_data=[];m.selected_rows_primary_keys=[];this.setSelRowObjParams(u,m)}}q=new rdx.list_view_action_callback_params(m);return q};rdx.app_fw_visualizer_view.prototype.setSelRowObjParams=function(v,m,q,o){var u=v.children||v._children,s=this,n,t,p;u.forEach(function(a){if(!(a.children||a._children)){if(a.data_ttl_class.indexOf("c_"+s._selected_leaf.data("lvl-vlu"))>=0){var b=a.data_full_key;if(m){m.selected_rows_data.push(s._response_indxd[b.replace(/\s/g,"__/\\__")]);m.selected_rows_primary_keys.push(s._response_indxd[b.replace(/\s/g,"__/\\__")])}else{if(q){t=o;p={resource_defn:o,refresh_action:rdx.view_constants.REFRESH_ALL};n=$.extend(true,{},s._response_indxd[b.replace(/\s/g,"__/\\__")]);q.add(rdx.model_constants.REMOVE,t,n,null,null,null,p)}}}}else{s.setSelRowObjParams(a,m,q,o)}})};rdx.app_fw_visualizer_view.prototype.paginate=function(){var h="",f,l,g,m;m=this._total_rule_count;g=$("#app-fw-visualiser-pgsz").val();l=Math.ceil(m/g);for(f=1;f<=l;f=f+1){h+="<option value='"+f+"'>"+f+"</option>"}$("#app-fw-visualiser-pgno").html(h)};rdx.app_fw_visualizer_view.prototype.make_view=function(){this._initialize_view()};rdx.app_fw_visualizer_view.prototype.reset=function(b){d3.select("svg").selectAll("*").remove();$("svg").remove();this.linearObj={};this._str_temp="";this._jsPlumb.deleteEveryEndpoint();if(b){this._parent.children(".app-fw-visualizer").remove()}if(this._selected_leaf){this._selected_leaf.removeClass("selected")}this._selected_leaf=null;$(".app-fw-visualizer .selected-rule-cntr .sel-rule").text("");$(".app-fw-visualizer .tools .edit").addClass("rdx_button_disabled");$(".app-fw-visualizer .tools .delete").addClass("rdx_button_disabled");$(".app-fw-visualizer .tools .enable").addClass("rdx_button_disabled");$(".app-fw-visualizer .tools .disable").addClass("rdx_button_disabled");$(".app-fw-visualizer .tools .edit-deploy").addClass("rdx_button_disabled");$(".app-fw-visualizer .tools .deploy").addClass("rdx_button_disabled");$(".app-fw-visualizer .tools .skip").addClass("rdx_button_disabled");$(".app-fw-visualizer .leaves").html("")};rdx.app_fw_visualizer_view.prototype.draw=function(h,m){var l=this,g,f="";this.reset(true);if(h!=="starturlaction"&&h!=="cookieconsistencyaction"&&h!=="denyurlaction"&&h!=="safeobjectaction"&&h!=="contenttypeaction"){f='<label for="app-fw-delimiter" id = "lbl-actn-url">Action Url</label>                         <select id="app-fw-action-url">                         </select> '}g='<div class="app-fw-visualizer">                     <div class="tools">                         <label for="app-fw-delimiter">Delimiter</label>                         <select id="app-fw-delimiter">                             <option value="slash">/</option>                             <option value="non-alpha">Non Alpha</option>                             <option value="non-alpha-num">Non Alpha-numeric</option>                             <option value="any">Any</option>                         </select> '+f;if(m.sub_type==="learning_visualiser"){g+='<button class="edit-deploy rdx_button rdx_grey_button rdx_button_disabled" title="Do Custom Operation on Application Firewall learning data" ><span>Edit & Deploy</span></button>             <button class="deploy rdx_button rdx_grey_button rdx_button_disabled" title="Do Custom Operation on Application Firewall learning data" ><span>Deploy</span></button>            <button class="skip rdx_button rdx_grey_button rdx_button_disabled" title="Do Custom Operation on Application Firewall learning data" ><span>Skip</span></button>            <button class="best_fit rdx_button rdx_grey_button" title="Fit to page" ><span>Best Fit</span></button>            <button class="save_img rdx_button rdx_grey_button" title="Fit to page" ><span>Save Image</span></button>            <label for="app-fw-visualiser-pgsz">Page Size</label>            <select id="app-fw-visualiser-pgsz">                <option value="25">25</option>                <option value="50" selected>50</option>                <option value="75" >75</option>            </select>            <label for="app-fw-visualiser-pgno">Page Number</label>            <select id="app-fw-visualiser-pgno">            </select>'}else{g+='<button class="add rdx_button rdx_grey_button" title="Create a new AppFirewall DenyURL Binding" ><span>Add</span></button>             <button class="edit rdx_button rdx_grey_button rdx_button_disabled" title="Configure the selected AppFirewall DenyURL Binding" ><span>Edit</span></button>            <button class="delete rdx_button rdx_grey_button rdx_button_disabled" title="Delete the selected AppFirewall DenyURL Binding" ><span>Delete</span></button>            <button class="enable rdx_button rdx_grey_button rdx_button_disabled" title="Do Custom Operation on AppFirewall DenyURL Binding" ><span>Enable</span></button>            <button class=" disable rdx_button rdx_grey_button rdx_button_disabled" title="Do Custom Operation on AppFirewall DenyURL Binding" ><span>Disable</span></button>            <button class="best_fit rdx_button rdx_grey_button" title="Fit to page" ><span>Best Fit</span></button>            <button class="save_img rdx_button rdx_grey_button" title="Fit to page" ><span>Save Image</span></button>'}g+='<img class="refresh" src="/admin_ui/rdx/core/images/refresh.png" alt="Refresh Application Firewall Profile" >                    </div>                     <div class="selected-rule-cntr">                         <label >Selected Rule:</label>                         <label class="sel-rule"></label>                     </div>                     <div class="visualizer-svg">                         <div class="zoom-vertical-item">                             <button class="zoom-btn zoom-in" title="Zoom in"><div class="widget-zoom-icon"></div></button>                             <button class="zoom-btn zoom-out" title="Zoom Out"><div class="widget-zoom-icon"></div></button>                             <div class="btn-dvdr"></div>                         </div>                         <div class="full-screen">                             <button class="zoom-btn-fs full-scrn-exp"><div class="widget-zoom-icon" title="Toggle Full Screen"></div></button>                             <!-- img src="/admin_ui/rdx/core/images/noun_27845_cc.svg" -->                         </div>                         <div class="error-msg hide-me">No Items</div>                         <div class="svg-container"></div>                     </div>               </div>';this._parent.append(g);$(".app-fw-visualizer .tools .add").click(function(){var e,c,d,a,b;d="appfw_relax_add_view_"+h;c=rdx.utils.get_view(d);a=l._selected_leaf&&l._selected_leaf.attr("data-full-key");b=(l._selected_leaf&&l._response_indxd[a.replace(/\s/g,"__/\\__")])||{name:l.profilename};e=rdx.view_utils.show_view_in_slider(c,null,b);$(e).bind(rdx.events.VIEW_DESTROYED,{},function(){l._initialize_view()})});$(".app-fw-visualizer #app-fw-visualiser-pgno").change(function(){l.reset(false);l._initialize_view(true)});$(".app-fw-visualizer #app-fw-action-url").change(function(){l.reset(false);l._fltr_select_val=$("#app-fw-action-url").val();l._initialize_view(true)});$(".app-fw-visualizer #app-fw-visualiser-pgsz").change(function(){l.paginate();l.reset(false);l._initialize_view(true)})};rdx.app_fw_visualizer_view.prototype.drawNext=function(f,h,e){var g;g=this.form_visualizer_object(f,h,e);this.visual_object=g;this._total_levels=1};rdx.app_fw_visualizer_view.prototype.form_visualizer_object=function(f,h,e){var g={};switch(f){case"slash":g=this.formDelimiterObj(/(\/)/,h,e);break;case"non-alpha":g=this.formDelimiterObj(/([^a-zA-z])/,h,e);break;case"non-alpha-num":g=this.formDelimiterObj(/([^a-zA-Z\\d])/,h,e);break;case"any":g=this.formDelimiterObj("",h,e);break}return g};rdx.app_fw_visualizer_view.prototype.formDelimiterObj=function(at,aN,aI){var aP,aC,aq,aH,ak,ac,am=[],Z="",an={},aF=this._delimiter_response,ao,ap,af,aJ,ay,al,ag,aA,aB,ar,aK,aE,aG,aa,ab,aw,aL,aQ,aR,aD;for(ak in aF){if(aF.hasOwnProperty(ak)){if(aI.sub_type==="learning_visualiser"){Z=aF[ak][this.appfw_resp_keys[aN].resp_lrnd_vis_key]||"^$"}else{Z=aF[ak][this.appfw_resp_keys[aN].resp_rlx_vis_key]}am=Z.split(at);aH=an;for(ac=0;ac<am.length;ac=ac+1){if(am[ac]){if(!aH){aH={};aH[am[ac]]={}}else{if(!aH[am[ac]]){if(!aH[am[ac]]){aH[am[ac]]={}}aH=aH[am[ac]]}else{aH=aH[am[ac]]}}}}}}aP={};aP=this.traverse(an);if(rdx.utils.get_object_length(aP)===0&&this._str_temp){aP[this._str_temp]={}}aC=$.extend(true,{},aP);this.linearObj.root={value:{},children:[],name:"/",data_key:"root",data_full_key:"",data_lvl:0,data_lvl_vlu:"0_0"};aC=this.formLinearObj(aC,1,"c_0_0","",this.linearObj.root.children);aq=$(".ns_content").outerHeight();this.slider_height=aq;$(".app-fw-visualizer").height(aq-($(".ns_content .view_div_decorator .title_tool_bar_table").outerHeight()+30));$(".app-fw-visualizer .visualizer-svg").height($(".app-fw-visualizer").outerHeight()-($(".app-fw-visualizer .tools").outerHeight()+$(".app-fw-visualizer .selected-rule-cntr").outerHeight()+46));ao=this;ap=this.linearObj.root;af=0;aJ=0;ag=0;aA=750;ar=-Infinity;aK=Infinity;aG=-Infinity;ab=Infinity;ay=$(".app-fw-visualizer .visualizer-svg").width();al=$(".app-fw-visualizer .visualizer-svg").height();aE=d3.layout.tree().size([al,ay]);this.tree=aE;aa=d3.svg.diagonal().projection(function(a){return[a.y,a.x]});function aS(c,a,d){if(!c){return}a(c);var f=d(c),b,e;if(f){b=f.length;for(e=0;e<b;e=e+1){aS(f[e],a,d)}}}aS(ap,function(a){af=af+1;aJ=Math.max(a.name.substr(0,10).length+10,aJ)},function(a){return a.children&&a.children.length>0?a.children:null});function av(){aE.sort(function(b,a){return a.name.toLowerCase()<b.name.toLowerCase()?1:-1})}av();function ai(){aw.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")}aQ=d3.behavior.zoom().scaleExtent([0.1,3]).on("zoom",ai);aR=d3.select(".visualizer-svg .svg-container").append("svg").attr("width",ay).attr("height",al).attr("class","overlay").call(aQ);function ah(c,e,d,g){var b=e||aQ.scale(),f=-c.x0,a=-c.y0;d=d||ay;g=g||al;f=(f*b+d/2)-(((aG-ab)*b)/2);a=(a*b+g/2)-(((ar-aK)*b+10)/2);d3.select("g").transition().duration(aA).attr("transform","translate("+f+","+a+")scale("+b+")");aQ.scale(b);aQ.translate([f,a])}function ad(b,c,a){var f,h,g,l,d=-b.x0,e=-b.y0;c=c||ay;a=a||al;g=(ar-aK)/(aG-ab);l=a/c;if(l>g){f=c/(aG-ab)}else{f=a/(ar-aK)}if(g<0.25){f=0.5*f;h=0.5*(a/(ar-aK));d=(d*f+c/2);e=(e*h+a/2)}else{f=0.85*f;h=0.85*(a/(ar-aK));d=(d*f+c/2)-(((aG-ab)*f+50)/2);e=(e*h+a/2)-(((ar-aK)*h+50)/2)}d3.select("g").transition().duration(aA).attr("transform","translate("+d+","+e+")scale("+f+")");return f}function aM(a){if(a.children){a._children=a.children;a.children=null}else{if(a._children){a.children=a._children;a._children=null}}return a}function aD(a){ao.setRegex(this);ao.leaves_root_hndl_selection(this,aI,a)}function aj(a){if(d3.event.defaultPrevented){return}a=aM(a);au(a);aD.call(this,a)}function au(b){var e=[1],a,n,m,f,d,h,g,c,l=function(o,p){if(p.children&&p.children.length>0){if(e.length<=o+1){e.push(0)}e[o+1]+=p.children.length;p.children.forEach(function(q){l(o+1,q)})}};l(0,aB);a=d3.max(e)*25;aE=aE.size([a,ay]);n=aE.nodes(aB).reverse();c=aE.links(n);n.forEach(function(o){o.y=(o.depth*(aJ*10));if(o.y>aG){aG=o.y}if(o.y<ab){ab=o.y}if(o.x>ar){ar=o.x}if(o.x<aK){aK=o.x}});m=aw.selectAll("g.node").data(n,function(o){return o.id||(o.id=++ag)});h=m.enter().append("g").attr("class",function(o){var p=o.children||o._children?"":" end_leaf";return"node "+(o.data_ttl_class||"")+p}).attr("data-lvl-vlu",function(o){return o.data_lvl_vlu}).attr("data-key",function(o){return o.data_key}).attr("data-full-key",function(o){return o.data_full_key}).attr("title",function(o){return o.data_full_key}).attr("transform",function(){return"translate("+b.y0+","+b.x0+")"}).on("click",aj);h.append("circle").attr("class",function(o){var p;if(ao._response_indxd[o.data_full_key.replace(/\s/g,"__/\\__")]&&ao._response_indxd[o.data_full_key.replace(/\s/g,"__/\\__")].state==="DISABLED"){p="nodeCircle red"}else{if(ao._response_indxd[o.data_full_key.replace(/\s/g,"__/\\__")]&&ao._response_indxd[o.data_full_key.replace(/\s/g,"__/\\__")].state==="ENABLED"){p="nodeCircle green"}else{p="nodeCircle"}}return p}).attr("r",0).style("fill",function(o){return o._children?"lightsteelblue":"#fff"});h.append("text").attr("x",function(o){return o.children||o._children?-10:10}).attr("dy",".35em").attr("class","nodeText").attr("text-anchor",function(o){return o.children||o._children?"end":"start"}).text(function(o){var p=(ao._response_indxd[o.data_full_key.replace(/\s/g,"__/\\__")]&&ao._response_indxd[o.data_full_key.replace(/\s/g,"__/\\__")].hits)||0;return o.name.substr(0,10)+"  ["+p+"]"}).style("fill-opacity",0).append("svg:title").text(function(o){return o.data_full_key});m.select("text").attr("x",function(o){return o.children||o._children?-10:10}).attr("text-anchor",function(o){return o.children||o._children?"end":"start"}).text(function(o){var p=(ao._response_indxd[o.data_full_key]&&ao._response_indxd[o.data_full_key].hits)||0;return o.name.substr(0,10)+"  ["+p+"]"}).append("svg:title").text(function(o){return o.data_full_key});m.select("circle.nodeCircle").attr("r",4.5).style("fill",function(o){return o._children?"lightsteelblue":""});g=m.transition().duration(aA).attr("transform",function(o){return"translate("+o.y+","+o.x+")"});g.select("text").style("fill-opacity",1);d=m.exit().transition().duration(aA).attr("transform",function(){return"translate("+b.y+","+b.x+")"}).remove();d.select("circle").attr("r",0);d.select("text").style("fill-opacity",0);f=aw.selectAll("path.link").data(c,function(o){return o.target.id});f.enter().insert("path","g").attr("class","link").attr("d",function(){var o={x:b.x0,y:b.y0};return aa({source:o,target:o})});f.transition().duration(aA).attr("d",aa);f.exit().transition().duration(aA).attr("d",function(){var o={x:b.x,y:b.y};return aa({source:o,target:o})}).remove();n.forEach(function(o){o.x0=o.x;o.y0=o.y})}function az(){d3.select("g").attr("transform","translate("+aQ.translate()+")scale("+aQ.scale()+")")}function aO(b,a){return d3.transition().duration(350).tween("zoom",function(){var c=d3.interpolate(aQ.translate(),b),d=d3.interpolate(aQ.scale(),a);return function(e){aQ.scale(d(e)).translate(c(e));az()}})}function ax(){var e=1,g=0.4,h=1,a,b=[ay/2,al/2],c=aQ.scaleExtent(),m=aQ.translate(),d=[],l=[],f={x:m[0],y:m[1],k:aQ.scale()};a=$(this).hasClass("zoom-in")?"zoom_in":"zoom_out";d3.event.preventDefault();e=(a==="zoom_in")?1:-1;h=aQ.scale()*(1+g*e);if(h<c[0]||h>c[1]){return false}d=[(b[0]-f.x)/f.k,(b[1]-f.y)/f.k];f.k=h;l=[d[0]*f.k+f.x,d[1]*f.k+f.y];f.x+=b[0]-l[0];f.y+=b[1]-l[1];aO([f.x,f.y],f.k)}aw=aR.append("g");aB=ap;aB.x0=0;aB.y0=0;au(aB);aL=ad(aB);ah(aB,aL);$(".app-fw-visualizer .full-screen").click(function(){var a=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;if(!a){rdx.utils.launchIntoFullscreen($(".app-fw-visualizer").get(0))}else{rdx.utils.exitFullscreen()}});function ae(){var e,b,a,c,d=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;if(d){e=screen.height;$(".app-fw-visualizer").height(e-(30));$(".app-fw-visualizer .visualizer-svg").height($(".app-fw-visualizer").outerHeight()-($(".app-fw-visualizer .tools").outerHeight()+$(".app-fw-visualizer .selected-rule-cntr").outerHeight()+46));$(".app-fw-visualizer .visualizer-svg .svg-container").height($(".app-fw-visualizer").outerHeight()-($(".app-fw-visualizer .tools").outerHeight()+$(".app-fw-visualizer .selected-rule-cntr").outerHeight()+46));a=$(".app-fw-visualizer .visualizer-svg").width();c=$(".app-fw-visualizer .visualizer-svg").height();b=ad(aB,a,c);ah(aB,b,a,c)}else{e=ao.slider_height;$(".app-fw-visualizer").height(e-($(".ns_content .view_div_decorator .title_tool_bar_table").outerHeight()+30));$(".app-fw-visualizer .visualizer-svg").height($(".app-fw-visualizer").outerHeight()-($(".app-fw-visualizer .tools").outerHeight()+$(".app-fw-visualizer .selected-rule-cntr").outerHeight()+46));$(".app-fw-visualizer .visualizer-svg .svg-container").height($(".app-fw-visualizer").outerHeight()-($(".app-fw-visualizer .tools").outerHeight()+$(".app-fw-visualizer .selected-rule-cntr").outerHeight()+46));b=ad(aB);ah(aB,b)}}$(".app-fw-visualizer").get(0).addEventListener("webkitfullscreenchange",ae);d3.selectAll(".app-fw-visualizer .zoom-btn").on("click",ax);$(".app-fw-visualizer .zoom-btn, .app-fw-visualizer .zoom-btn-fs").click(function(c){var d,f,b,e,a;d=$(this);if(d.find(".ink").length===0){d.prepend("<span class='ink'></span>")}f=d.find(".ink");f.removeClass("animate");if(!f.height()&&!f.width()){b=Math.max(d.outerWidth(),d.outerHeight());f.css({height:b,width:b})}e=c.pageX-d.offset().left-f.width()/2;a=c.pageY-d.offset().top-f.height()/2;f.css({top:a+"px",left:e+"px"}).addClass("animate")});$(".app-fw-visualizer .tools .best_fit").click(function(){var a=ad(aB);ah(aB,a);return});$(".app-fw-visualizer .tools .save_img").bind("click",function(a){a.preventDefault();try{var d=!!new Blob()}catch(a){rdx.message_box.error("Please use any modern browser")}$("<style>.node{cursor:pointer}.node circle{fill:#fff;stroke:#4682b4;stroke-width:1.5px}.node text{font-size:10px;font-family:sans-serif}.link{fill:none;stroke:#ccc;stroke-width:1.5px}.templink{fill:none;stroke:red;stroke-width:3px}.ghostCircle.show{display:block}.activeDrag .ghostCircle,.ghostCircle{display:none}.node.selected text{fill:#448BCC;font-weight:700}</style>").prependTo("svg");var b=d3.select("svg").attr("title","Visualiser").attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg").node().parentNode.innerHTML;b=b.replace(/data-full-key=""/g,"");b=b.replace(/title=""/g,"");b=b.replace(/(data-key)=["]?((?:.(?!["](?:\S+)=|["]))+.)["]?/g,"");b=b.replace(/(data-full-key)=["]?((?:.(?!["](?:\S+)=|["]))+.)["]?/g,"");b=b.replace(/(title)=["]?((?:.(?!["](?:\S+)=|["]))+.)["]?/g,"");var c=new Blob([b],{type:"image/svg+xml"});saveAs(c,"learning_visualiser.svg");return});return aP};rdx.app_fw_visualizer_view.prototype.formLinearObj=function(l,g,h,o,m){var n=this;this.loop_cntr+=1;$.each(l,function(b,c){var a=0;a=m.push({name:b,children:[],data_key:b,data_lvl_vlu:g+"_"+n.loop_cntr,data_ttl_class:h,data_lvl:g,data_full_key:o+b});if(typeof c==="object"){n.formLinearObj(c,g+1,h+" c_"+g+"_"+n.loop_cntr,o+b,m[a-1].children)}n.loop_cntr=n.loop_cntr+1});g=g-1;return};rdx.app_fw_visualizer_view.prototype.traverse=function(c){var d=this;if(typeof c==="object"){$.each(c,function(a,b){d.traverse(b);if(rdx.utils.get_object_length(c)<=1){if(rdx.utils.get_object_length(c[a])===0){delete c[a]}else{if(rdx.utils.get_object_length(c[a])===1){c[a+d._str_temp]=c[a][d._str_temp];delete c[a][d._str_temp];delete c[a]}}d._str_temp=a+d._str_temp}else{if(rdx.utils.get_object_length(c[a])===0){delete c[a];c[a+d._str_temp]={}}else{if(rdx.utils.get_object_length(c[a])===1){c[a+d._str_temp]=c[a][d._str_temp];delete c[a][d._str_temp];delete c[a]}else{delete c[a];c[a+d._str_temp]=b}}d._str_temp=""}})}return c};rdx.app_fw_visualizer_view.prototype.get_is_back_button_required=function(){return this.is_back_button_required};rdx.app_fw_visualizer_view.prototype.set_is_back_button_required=function(b){this.is_back_button_required=b};rdx.app_fw_visualizer_view.prototype.close_view=function(){this._base_view.destroy_view()};rdx.authentication_visualizer_view=function(f,d,e){this._view_definition=d;this._parent=f;this._visualizer_title=null;this._block_count=0;this.refresh_div=null;this._base_view=e;this._block_object={};this._count=0;this._level_tree={};this.to_be_drawn_count=0;this.to_be_drawn=[];this.is_back_button_required=true;this._parent_height=this._view_definition.view_properties.height;this._inner_node={};this._single_inner_block={};this._fail_block_object={};this._fail_block_source_object={};this._last_node_top_offset=0;this._connector_div_arr=[];this._connector_div_primary_arr=[];this._connector_div_secondary_arr=[];this.user_resp=null;this.group_resp=[];this.user_group_model_changed=false;this._session_blocks=[];this._traffic_blocks=[];this._authorization_blocks=[];this._user_group_count=0;this._duplicate_check_array=[]};rdx.authentication_visualizer_view.prototype.make_view=function(){this._parent.addClass("op_wizard_form_panel form_inline smooth_all_corner");this._parent_container=$("<div>").css("height",this._parent_height).addClass("authentication_visualizer_parent_container");if(rdx.utils.is_defined(this._view_definition.view_properties.basic_settings_view_name)){this._basic_settings_view_container=$("<div>").css("margin-bottom","");var f=rdx.utils.get_view(this._view_definition.view_properties.basic_settings_view_name);var d=new rdx.base_view(this._basic_settings_view_container,f);var e=d.get_view_context();e.set_url_params({get_by_name:["name"]},{name:this._view_definition.selected_entity});d.prepare_view();this._parent.append(this._basic_settings_view_container)}this._visualizer_title="Visualizer - "+this._view_definition.selected_entity;if(rdx.utils.is_defined(this._view_definition.view_properties.description)){this.description_div=$("<div>").addClass("visualizer_title").append(this._visualizer_title);this.refresh_div=$("<div />").addClass("visualizer_refresh_div").html('<a href="javascript:void(0);" title="Click here to Refresh"><img src="'+rdx.images.REFRESH_IMG+'" /></a>').bind(rdx.events.CLICK,{object:this,view_definition:this._view_definition},function(b){var a=b.data.object;a.refresh_view(b.data.view_definition)});this.user_group_slider_div=$("<div />").addClass("authentication_visualizer_show_aside_div").html('<a href="javascript:void(0);" title="Click here to select the User/Groups"><img src="'+rdx.images.SHOW_ASIDE+'" /></a>').bind(rdx.events.CLICK,{object:this,view_definition:this._view_definition},function(b){var a=b.data.object;a._render_user_group_view()});this.description_div.append(this.user_group_slider_div).append(this.refresh_div)}this._initialize_visualizer_view(false)};rdx.authentication_visualizer_view.prototype._render_user_group_view=function(){var f={type:rdx.view_constants.CONFIGURE_VIEW,resource_name:"authdashboard_user_group_resrc",resource_properties:{aaauser:{label:"User",input_type:rdx.form_constants.LIST,properties:{size:1},resource_name:"aaauser",formatter:{resource_keys:["username"]}},aaagroup:{label:"Group",input_type:rdx.form_constants.BIND_UNBIND_LIST,resource_name:"aaagroup",formatter:{resource_keys:["groupname"],properties:{mandatory:false}}}},view_properties:{title:"Users and Groups",submit_operation:{method:"no_op"},callback_before_operation:new rdx.callback(function(a,b){var c=a[0].get_resource_for_operation();if(rdx.utils.is_not_empty(c.aaauser)){b.user_resp=c.aaauser;b.user_group_model_changed=true}if(rdx.utils.is_defined(c.aaagroup)&&c.aaagroup.length>0){b.group_resp=c.aaagroup;b.user_group_model_changed=true}return},[this])}};var d=function(a){if(a.user_group_model_changed==true){a.refresh_view(a._view_definition)}};var e=rdx.view_utils.show_view_in_slider(f,new rdx.callback(d,[this]))};rdx.authentication_visualizer_view.prototype._initialize_visualizer_view=function(d){this._parent_container.addClass("topology_formation_diagram_parent_container");var c={add_grey_button:true,grey_button_label:"rdx.form_close_button_label",grey_button_click_handler_callback:new rdx.callback(this,this.close_view)};this.close_button_container=$("<div>").addClass("visualizer_title");if(d){this._parent.children()[this._parent.children().length-1].remove()}this._parent.append(this.description_div).append(this._parent_container);this._parent.append(this.close_button_container);new rdx.button_bar(this.close_button_container,new rdx.form_field({properties:c})).render();this.construct_visualizer_elements(this._view_definition)};rdx.authentication_visualizer_view.prototype.construct_visualizer_elements=function(f){this._block_count=0;this._block_object={};this._count=0;this._level_tree={};this.to_be_drawn_count=0;this.to_be_drawn=[];this._connector_div_arr=[];this._connector_div_primary_arr=[];this._connector_div_secondary_arr=[];this._last_block_node_top_offset=0;this._last_node_top_offset=0;for(var d in f.diagram_properties){var e=f.diagram_properties[d];if(rdx.utils.is_defined(this._level_tree[e.level])){this._level_tree[e.level].push(d)}else{this._level_tree[e.level]=[d]}if(rdx.utils.is_not_defined(e.heading)){this._block_count++}}this.make_block(f)};rdx.authentication_visualizer_view.prototype.make_block=function(n){for(var o in n.diagram_properties){var p=n.diagram_properties[o];if(rdx.utils.is_defined(p.resource_name)&&(rdx.utils.is_defined(p.connect&&p.connect!=false))){var l=new rdx.model_executor_service(new rdx.callback(this,this._render_block,[n,p,o,true,false]),new rdx.callback(),true);for(var s=0;s<p.resource_name.length;s++){var q=rdx.utils.get_resource(p.resource_name[s]);if(p.resource_name[s].match(/authorizationpolicy_binding/)){continue}var t=q.primary_keys;var m=rdx.url_utils.construct_url_params(null,rdx.url_utils.FORCE_GET_BY_NAME_TYPE,t,{name:n.selected_entity});if(rdx.utils.is_defined(p.filter)){m.filter=p.filter;if(p.resource_name[s].match(/authenticationldappolicy_binding/)){p.filter.groupextraction="false"}m.is_query_param=true}l.add("get",q,null,null,m)}l.execute()}else{this._render_block(null,n,p,o,true,false)}}};rdx.authentication_visualizer_view.prototype._render_block=function(ap,O,am,V,an,ai){this._last_block_node_top_offset=0;var W=0;var af="";if(am.heading==true){this._render_heading_block(am);this._count--}if(am.connector_div==true||am.connector_div_primary==true||am.connector_div_secondary==true){var K=$("<div />").addClass("authentication_visualizer_connector_div");var W=100;var Q=767;var aj=20;if(rdx.utils.is_not_empty(am.top_offset)){W=am.top_offset;K.css("top",W)}if(am.direction=="right"){K.css("left",rdx.utils.is_not_empty(am.right_offset)?am.right_offset:Q)}if(am.direction=="left"){K.css("left",rdx.utils.is_not_empty(am.left_offset)?am.left_offset:aj)}this._parent_container.append(K);this._block_object[V]=K;if(am.connector_div==true){this._connector_div_arr.push(K)}else{if(am.connector_div_primary==true){this._connector_div_primary_arr.push(K)}else{this._connector_div_secondary_arr.push(K)}}}else{if(am.success==true){var K=$("<div />").addClass("authentication_visualizer_block_container").addClass("authentication_visualizer_success_block");var W=100;var Q=767;var aj=20;if(rdx.utils.is_not_empty(am.top_offset)){W=am.top_offset}if(am.direction=="right"){K.css("left",rdx.utils.is_not_empty(am.right_offset)?am.right_offset:Q)}if(am.direction=="left"){K.css("left",rdx.utils.is_not_empty(am.left_offset)?am.left_offset:aj)}var ae=$("<div></div>").addClass("authentication_visualizer_basic_node").addClass("authentication_visualizer_text_overflow");K.css("top",W);ae.text(am.title).addClass("authentication_visualizer_text_align");K.append("<div>").append(ae);this._parent_container.append(K);this._block_object[V]=K}else{if(ap){var aq=ap.get_collated_response();if(!rdx.utils.is_object(aq[0])){this._count++;return}if(am.resource_name.length==1&&am.single_block==false&&rdx.utils.is_not_defined(am.multiple_block)){var K=$("<div />").addClass("authentication_visualizer_block_container");var W=100;var Q=rdx.utils.is_not_empty(am.right_offset)?am.right_offset:767;var aj=rdx.utils.is_not_empty(am.left_offset)?am.left_offset:20;if(rdx.utils.is_not_empty(am.top_offset)){W=am.top_offset}K.css("top",W);if(am.direction=="right"){K.css("left",Q)}if(am.direction=="left"){K.css("left",aj)}if(rdx.utils.is_defined(O.view_properties.referrer)&&O.view_properties.referrer=="cs"){K.css("left",552);K.css("top",585)}var ae=$("<div />").addClass("authentication_visualizer_basic_node").addClass("authentication_visualizer_text_overflow");var ad=$("<div />");if(am.image_type=="up_down_state"){if(aq[0][am.resource_name][0]["curstate"]=="UP"){ad.addClass("visualizer_basic_image_node_green")}else{ad.addClass("authentication_visualizer_basic_image_node_red")}}else{if(rdx.utils.is_defined(am.image_url)){var N='url("'+am.image_url+'") no-repeat 40% 5px;';ad.addClass("visualizer_basic_image_server")}}K.append(ad).append(ae);if(rdx.utils.is_not_defined(aq[0][am.resource_name])){af=am.zero_count_message}else{if(am.key&&rdx.utils.is_array(am.key)){for(var ac=0;ac<am.key.length;ac++){if(rdx.utils.is_not_empty(am.label[ac])){af=af+'<br/><span class = "visualizer_basic_node_key">'+am.label[ac]+'</span> <span class = "visualizer_basic_node_value">'+aq[0][am.resource_name][0][am.key[ac]]+"</span>"}else{af=af+aq[0][am.resource_name][0][am.key[ac]]}}}else{if(am.key){af=aq[0][am.resource_name][0][am.key];if(am.label){af=af+" "+am.label}if(rdx.utils.is_defined(am.save_data)&&am.save_data==true){O.saved_data=af}}else{if(am.count){af=aq[0][am.resource_name].length+" "+am.label}}}}if(am.display_data){if(am.display_data.data_renderer_callback){var M=aq[0][am.resource_name][0];var ao=am.display_data.data_renderer_callback.call_back([M])}af=af+"<br/><span>"+ao+"<span/>"}ae.html(af);if(rdx.utils.is_defined(am.click_view_name)){this.add_click_view_map(K,ae,O,V,am.click_view_name[0])}this._block_object[V]=K;if(rdx.utils.is_defined(am.fail_block)){this._fail_block_source_object[am.fail_block_id]=K}this._parent_container.append(K)}else{if(am.resource_name.length==1&&am.single_block==false&&rdx.utils.is_defined(am.multiple_block)){var W=rdx.utils.is_not_empty(am.top_offset)?am.top_offset:100;var Q=rdx.utils.is_not_empty(am.right_offset)?am.right_offset:767;var aj=rdx.utils.is_not_empty(am.left_offset)?am.left_offset:127;var ah=0;var U=[];var aa=false;if(rdx.utils.is_defined(am.single_inner_block)&&am.single_inner_block==true){if(!(am[V] in this._single_inner_block)){this._single_inner_block[V]={}}aa=true;var ag=this._render_heading_block(am,true)}if(rdx.utils.is_defined(aq[0][am.resource_name[0]])){for(var ac=0;ac<aq[0][am.resource_name[0]].length;ac++){var K=$("<div />").addClass("authentication_visualizer_block_container");if(am.direction=="right"){K.css("left",Q)}if(am.direction=="left"){K.css("left",aj)}var ae=$("<div></div>").addClass("authentication_visualizer_basic_node").addClass("authentication_visualizer_text_overflow");var ak={};var S=aq[0][am.resource_name[0]][ac]["policy"];ae.text(S).addClass("authentication_visualizer_text_align");if(ah!=0){W=W+70}if(W>this._last_block_node_top_offset){this._last_block_node_top_offset=W}if(rdx.utils.is_defined(am.set_block_node_top_offset)&&am.set_block_node_top_offset==true){this._last_block_node_top_offset=this._last_block_node_top_offset+60;K.css("top",this._last_block_node_top_offset)}else{K.css("top",W)}K.append("<div>").append(ae);U.push(K);if(ah==0){this._block_object[V]=K}if(aa===false){this._parent_container.append(K)}ah++}if(!(V in this._inner_node)){this._inner_node[V]={}}var T=U.slice(0);if(rdx.utils.is_defined(am.policy_binding_view)){var ar=this._render_add_policy_binding_div(O,am,true,W>this._last_block_node_top_offset?W:this._last_block_node_top_offset);T.push(ar);U.push(ar)}this._inner_node[V]=U;if(rdx.utils.is_defined(ag)){T.unshift(ag)}this._single_inner_block[V]=T}if(rdx.utils.is_not_defined(S)){var K=$("<div>").addClass("authentication_visualizer_block_container");W=100;if(am.direction=="right"){K.css("left",Q)}if(am.direction=="left"){K.css("left",aj)}if(W>this._last_block_node_top_offset){this._last_block_node_top_offset=W}if(rdx.utils.is_defined(am.set_block_node_top_offset)&&am.set_block_node_top_offset==true){K.css("top",this._last_block_node_top_offset)}else{K.css("top",W)}var ae=$("<div>").addClass("authentication_visualizer_basic_node").addClass("authentication_visualizer_text_overflow");var S=am.zero_count_message;ae.text(S);K.append($("<div>")).append(ae);this._block_object[V]=K;if(aa===false){this._parent_container.append(K)}else{var T=[];T.push(ag);T.push(K);U.push(K);if(rdx.utils.is_defined(am.policy_binding_view)){var ar=this._render_add_policy_binding_div(O,am,true,W>this._last_block_node_top_offset?W:this._last_block_node_top_offset);T.push(ar);U.push(ar)}this._single_inner_block[V]=T;this._inner_node[V]=U}}if(rdx.utils.is_defined(am.fail_block)){this._fail_block_source_object[am.fail_block_id]=K}}else{if(am.resource_name.length>1&&am.single_block==false){var W=rdx.utils.is_not_empty(am.top_offset)?am.top_offset:100;var Q=rdx.utils.is_not_empty(am.right_offset)?am.right_offset:767;var aj=rdx.utils.is_not_empty(am.left_offset)?am.left_offset:127;var ah=0;var U=[];var T=[];var aa=false;this._last_block_node_top_offset=0;if(rdx.utils.is_defined(am.single_inner_block)&&am.single_inner_block==true){if(!(am[V] in this._single_inner_block)){this._single_inner_block[V]={}}aa=true}if(!(V in this._inner_node)){this._inner_node[V]={}}for(var ab=0;ab<am.resource_name.length;ab++){if(aa===true){S=null;var ag=this._render_heading_block(am,true,ab);T.push(ag);if(am.push_title_to_connector_div===true){this._connector_div_arr.push(ag)}}if(am.resource_name[ab].match(/authorizationpolicy_binding/)){aq.unshift({})}if(rdx.utils.is_defined(aq[ab][am.resource_name[ab]])){for(var ac=0;ac<aq[ab][am.resource_name[ab]].length;ac++){var K=$("<div />").addClass("authentication_visualizer_block_container");if(am.direction=="right"){K.css("left",Q)}if(am.direction=="left"){K.css("left",aj)}var ae=$("<div></div>").addClass("authentication_visualizer_basic_node").addClass("authentication_visualizer_text_overflow");var ak={};var S=aq[ab][am.resource_name[ab]][ac]["policy"];if(am.resource_name[ab].match(/session|traffic/)){this._duplicate_check_array.push(S)}ae.text(S).addClass("authentication_visualizer_text_align");if(ah!=0){W=W+70}if(rdx.utils.is_defined(am.set_block_node_top_offset)&&am.set_block_node_top_offset==true){if(W>this._last_block_node_top_offset){this._last_block_node_top_offset=W}this._last_block_node_top_offset=this._last_block_node_top_offset+60;K.css("top",this._last_block_node_top_offset)}else{K.css("top",W)}if(W>this._last_node_top_offset){this._last_node_top_offset=W}K.append("<div>").append(ae);U.push(K);T.push(K);if(ah==0){this._block_object[V]=K}if(am.push_to_connector_primary_div==true){this._connector_div_primary_arr.push(K)}else{if(am.push_to_connector_secondary_div==true){this._connector_div_secondary_arr.push(K)}}if(aa===false){this._parent_container.append(K)}ah++}}if(this.user_group_model_changed===true&&(am.resource_name[ab]).match(/sessionpolicy|trafficpolicy|authorizationpolicy/g)){this._user_group_block_creation(am.resource_name[ab],U,T,aj)}if(rdx.utils.is_not_defined(S)&&aa===true){var K=this._render_zero_count_message_block(am,aa,ag,aj,Q,V,ab);T.push(K);U.push(K)}this._inner_node[V]=U;if(rdx.utils.is_defined(am.policy_binding_view)&&aa===true){var ar=this._render_add_policy_binding_div(O,am,true,W>this._last_block_node_top_offset?W:this._last_block_node_top_offset,ab);T.push(ar);U.push(ar)}this._single_inner_block[V]=T}if(rdx.utils.is_not_defined(S)&&aa===false){var K=this._render_zero_count_message_block(am,aa,ag,aj,Q,V)}if(rdx.utils.is_defined(am.fail_block)){this._fail_block_source_object[am.fail_block_id]=K}if(am.push_to_connector_primary_div==true){this._connect_connector_div_primary_to_inner_blocks(O)}else{if(am.push_to_connector_secondary_div==true){this._connect_connector_div_secondary_to_inner_blocks(O)}}}else{if(am.direction=="left"){var P="REQUEST";var K=$("<div />").addClass("visualizer_block_container_left");if(rdx.utils.is_defined(O.view_properties.referrer)&&O.view_properties.referrer=="cs"){K.css("top",325);K.css("left",315)}}else{if(am.direction=="right"){var P="RESPONSE";var K=$("<div />").addClass("visualizer_block_container_right");if(rdx.utils.is_defined(O.view_properties.referrer)&&O.view_properties.referrer=="cs"){K.css("top",325);K.css("left",780)}}else{var K=$("<div />").addClass("authentication_visualizer_block_container")}}if(rdx.utils.is_not_defined(O.view_properties.referrer)){W=((this._parent_container.height())/(this._block_count-1))*(am.level-1);K.css("top",W-75)}for(var Z=0;Z<aq.length;Z++){var al=0;for(var ab=0;ab<am.resource_name.length;ab++){if(rdx.utils.is_defined(aq[Z][am.resource_name[ab]])){for(var ac=0;ac<aq[Z][am.resource_name[ab]].length;ac++){if(rdx.utils.is_empty(aq[Z][am.resource_name[ab]][ac]["bindpoint"])||rdx.utils.is_not_defined(aq[Z][am.resource_name[ab]][ac]["bindpoint"])||aq[Z][am.resource_name[ab]][ac]["bindpoint"]==P){al++}}if(al>0){var ae=$("<div></div>").addClass("authentication_visualizer_singleblock");var L=$("<span />").addClass("node_child_number").text(al);var R=$("<span />").addClass("node_child_arrow");if(am.click_view_name){this.add_click_view_map(K,ae,O,V,am.click_view_name[Z])}var S=am.label[ab];ae.text(S).prepend(L).append(R);K.append(ae)}}}}if(rdx.utils.is_not_defined(S)){var ae=$("<div></div>").addClass("authentication_zero_count_message");var S=am.zero_count_message;ae.text(S);K.append(ae);ae.addClass("authentication_visualizer_singleblock")}this._parent_container.append(K);this._block_object[V]=K}}}}}}this._count++;this.render_visualizer(O)};rdx.authentication_visualizer_view.prototype._user_group_block_creation=function(v,q,m,o){var n=v.replace(/vpnvserver|authenticationvserver/,"aaauser");var t=v.replace(/vpnvserver|authenticationvserver/,"aaagroup");var u=new rdx.model_executor_service(new rdx.callback(this._user_group_session_block_creation_success_callback,[v,n,t,q,m,this,o]));if(rdx.utils.is_defined(this.user_resp)){var s=new rdx.context();s.set_context_data({name:this.user_resp},{force_get_by_name:{name:this.user_resp}});u.add("get",rdx.utils.get_resource(n),null,null,s.get_url_params())}for(var p=0;p<this.group_resp.length;p++){var s=new rdx.context();s.set_context_data({name:this.group_resp[p]},{force_get_by_name:{name:this.group_resp[p]}});u.add("get",rdx.utils.get_resource(t),null,null,s.get_url_params())}u.execute()};rdx.authentication_visualizer_view.prototype._user_group_session_block_creation_success_callback=function(A,B,s,z,y,q,w,t){var p=A.get_collated_response();var x=new Array();for(var u=0;u<p.length;u++){if(rdx.utils.is_defined(p[u][s])){for(var v=0;v<p[u][s].length;v++){if($.inArray(p[u][s][v]["policy"],w._duplicate_check_array)==-1){w._create_individual_blocks(B,y,q,p[u][s][v]["policy"],w,t)}}}if(rdx.utils.is_defined(p[u][z])){for(var v=0;v<p[u][z].length;v++){if($.inArray(p[u][z][v]["policy"],w._duplicate_check_array)==-1){w._create_individual_blocks(B,y,q,p[u][z][v]["policy"],w,t)}}}}};rdx.authentication_visualizer_view.prototype._create_individual_blocks=function(n,p,s,o,t,m){var q=$("<div />").addClass("authentication_visualizer_block_container");q.css("left",m);var l=$("<div></div>").addClass("authentication_visualizer_basic_node").addClass("authentication_visualizer_text_overflow");l.text(o).addClass("authentication_visualizer_text_align");t._last_block_node_top_offset=t._last_block_node_top_offset+60;q.css("top",t._last_block_node_top_offset);q.append("<div>").append(l);if(n.match(/sessionpolicy/)){t._session_blocks.push(q)}else{if(n.match(/trafficpolicy/)){t._traffic_blocks.push(q)}else{t._authorization_blocks.push(q)}}};rdx.authentication_visualizer_view.prototype._render_zero_count_message_block=function(q,u,z,s,o,x,t){var w=$("<div>").addClass("authentication_visualizer_block_container authentication_zero_count_message");top_offset=100;if(q.direction=="right"){w.css("left",o)}if(q.direction=="left"){w.css("left",s)}if(top_offset>this._last_block_node_top_offset){this._last_block_node_top_offset=top_offset}if(this._last_block_node_top_offset>this._last_node_top_offset){this._last_node_top_offset=this._last_block_node_top_offset}if(rdx.utils.is_defined(q.set_block_node_top_offset)&&q.set_block_node_top_offset==true&&t!=0){this._last_block_node_top_offset=this._last_block_node_top_offset+60;w.css("top",this._last_block_node_top_offset)}else{w.css("top",top_offset)}var v=$("<div>").addClass("authentication_visualizer_basic_node").addClass("authentication_visualizer_text_overflow");var y=q.zero_count_message;v.text(y);w.append($("<div>")).append(v);this._block_object[x]=w;if(u===false){this._parent_container.append(w)}else{var p=[];p.push(z);p.push(w);this._single_inner_block[x]=p}return w};rdx.authentication_visualizer_view.prototype._render_single_inner_blocks=function(m){var l=40;var p=0;for(var n in this._single_inner_block){var o=m.diagram_properties[n];if(this._single_inner_block[n].length>0){for(var q=0;q<this._single_inner_block[n].length;q++){if(q!=0&&o.set_block_node_top_offset){l=l+60;if(l>this._last_block_node_top_offset){this._last_block_node_top_offset=l}this._single_inner_block[n][q].css("top",l)}if((this._single_inner_block[n][q]).hasClass("authentication_zero_count_message")){if(p==0&&this._authorization_blocks.length>0){l=l-60;continue}if(p==1&&this._session_blocks.length>0){l=l-60;continue}if(p==2&&this._traffic_blocks.length>0){l=l-60;continue}}if((this._single_inner_block[n][q]).hasClass("authentication_visualizer_add_policy_binding")&&o.set_block_node_top_offset){if(p==0){p++;for(var h=0;h<this._authorization_blocks.length;h++){this._authorization_blocks[h].css("top",l);l=l+60;if(l>this._last_block_node_top_offset){this._last_block_node_top_offset=l}this._parent_container.append(this._authorization_blocks[h]);this._single_inner_block[n][q].css("top",this._last_block_node_top_offset)}continue}if(p==1){for(var h=0;h<this._session_blocks.length;h++){this._session_blocks[h].css("top",l);l=l+60;if(l>this._last_block_node_top_offset){this._last_block_node_top_offset=l}this._parent_container.append(this._session_blocks[h]);this._single_inner_block[n][q].css("top",this._last_block_node_top_offset)}}if(p==2){for(var h=0;h<this._traffic_blocks.length;h++){this._traffic_blocks[h].css("top",l);l=l+60;if(l>this._last_block_node_top_offset){this._last_block_node_top_offset=l}this._parent_container.append(this._traffic_blocks[h]);this._single_inner_block[n][q].css("top",this._last_block_node_top_offset)}}p++}this._parent_container.append(this._single_inner_block[n][q])}}}this._parent_container.css("height",this._last_block_node_top_offset>this._last_node_top_offset?this._last_block_node_top_offset+200:this._last_node_top_offset+200);this._connect_inner_blocks(m);this._connect_connector_div_to_inner_blocks(m)};rdx.authentication_visualizer_view.prototype._render_fail_block=function(h){for(var l in this._block_object){var m=h.diagram_properties[l];if(rdx.utils.is_defined(m.fail_block)){var f=$("<div>").addClass("authentication_visualizer_block_container").addClass("authentication_visualizer_fail_block");f.css("top",this._last_node_top_offset+100);if(m.direction=="right"){f.css("left",m.right_offset)}if(m.direction=="left"){f.css("left",m.left_offset)}var g=$("<div>").addClass("authentication_visualizer_basic_node").addClass("authentication_visualizer_text_overflow");g.text("Fail");f.append($("<div>")).append(g);this._fail_block_object[m.fail_block_id]=f;this._parent_container.append(f);if(rdx.utils.is_defined(m.policy_binding_view)){this._render_add_policy_binding_div(h,m)}}}};rdx.authentication_visualizer_view.prototype._render_add_policy_binding_div=function(n,p,h,l,q){var m=$("<div>").addClass("authentication_visualizer_add_policy_binding");if(p.direction=="right"){m.css("left",p.right_offset)}if(p.direction=="left"){m.css("left",p.left_offset)}m.bind(rdx.events.CLICK,{object:this,view_definition:n,view_property:p,arr_pos:q},function(f){var z=f.data.view_definition;var b=f.data.object;var g=f.data.view_property.resource_name;var x=false;var A=false;var a=f.data.view_property.policy_binding_view;var c;if(rdx.utils.is_array(f.data.view_property.policy_binding_view)&&rdx.utils.is_defined(f.data.arr_pos)){a=f.data.view_property.policy_binding_view[f.data.arr_pos]}for(var B=0;B<g.length;B++){rdx.model.add_model_change_listener(rdx.utils.get_resource(g[B]),new rdx.callback(function(){x=true;if(A==true){b.refresh_view(z);A=false;x=false}}))}var e=rdx.utils.get_view(a);var d=function(s){if(x==false){A=true}else{var t=s.data.object;t.refresh_view(s.data.view_definition);A=false;x=false}};var y=rdx.view_utils.show_view_in_slider(e,new rdx.callback(d,[f]),{name:z.selected_entity})});var o=this._last_node_top_offset+60;m.css("top",o);if(rdx.utils.is_defined(l)){this._last_block_node_top_offset=l+70;m.css("top",this._last_block_node_top_offset)}if(rdx.utils.is_not_defined(h)){this._parent_container.append(m)}else{return m}};rdx.authentication_visualizer_view.prototype._render_heading_block=function(p,q,n){var s=$("<div />").addClass("authentication_visualizer_block_container authentication_visualizer_heading_block authentication_visualizer_text_align");var l=40;var o=100;var m=100;if(p.direction=="right"){s.css("left",rdx.utils.is_not_empty(p.right_offset)?p.right_offset:o)}if(p.direction=="left"){s.css("left",rdx.utils.is_not_empty(p.left_offset)?p.left_offset:m)}var t=$("<div></div>").addClass("authentication_visualizer_basic_node").addClass("authentication_visualizer_text_overflow");if(l>this._last_block_node_top_offset){this._last_block_node_top_offset=l}if(rdx.utils.is_defined(p.set_block_node_top_offset)&&p.set_block_node_top_offset==true){if(rdx.utils.is_defined(n)&&n!=0){this._last_block_node_top_offset=this._last_block_node_top_offset+60}s.css("top",this._last_block_node_top_offset)}else{s.css("top",l)}if(rdx.utils.is_defined(n)&&rdx.utils.is_array(p.title)){t.text(p.title[n])}else{t.text(p.title)}s.append("<div>").append(t);if(q===true){return s}else{this._parent_container.append(s)}};rdx.authentication_visualizer_view.prototype.render_visualizer=function(b){if(this._count==this._block_count){this.rearrange_elements(b);this.connect_block_elements(b);this._block_object={};this._block_count=0;this._count=0;this._level_tree={}}};rdx.authentication_visualizer_view.prototype.rearrange_elements=function(m){for(var g=1;g<=5;g++){var h=this._level_tree[g];if(rdx.utils.is_not_defined(h)){continue}if(rdx.utils.is_not_defined(this._block_object[h[0]])){continue}var l=this._block_object[h[0]].position().top;var n=this.find_largest_element(h);var o=this._level_tree[g+1];if(o){this._set_top_offset(o,n.position,l)}}this._render_fail_block(m);this._render_single_inner_blocks(m);return};rdx.authentication_visualizer_view.prototype.find_largest_element=function(l){var q=[];var n=0;var h=null;for(var o=0;o<l.length;o++){if(rdx.utils.is_not_defined(this._block_object[l[o]])){continue}var p=this._block_object[l[o]].height();var m=$(this._block_object[l[o]]).position().top;if(n<(p+m)){n=p+m;h=this._block_object[l[o]]}}return{element:h,position:n}};rdx.authentication_visualizer_view.prototype._set_top_offset=function(g,h,m){for(var n=0;n<g.length;n++){var o=this._block_object[g[n]];if(rdx.utils.is_defined(o)){var l=o.position()["top"];o.css("top",h+75)}}return};rdx.authentication_visualizer_view.prototype.get_is_back_button_required=function(){return this.is_back_button_required};rdx.authentication_visualizer_view.prototype.set_is_back_button_required=function(b){this.is_back_button_required=b};rdx.authentication_visualizer_view.prototype.add_click_view_map=function(g,l,m,h,f){l.bind(rdx.events.CLICK,{view_defn:m,container:g,node:l,block_id:h,object:this,click_view_name:f},function(a){var b=rdx.utils.get_view(a.data.click_view_name);var c=a.data.view_defn;var d=rdx.view_utils.show_view_in_slider(b,null,{name:c.selected_entity})})};rdx.authentication_visualizer_view.prototype.close_view=function(){this._base_view.destroy_view()};rdx.authentication_visualizer_view.prototype._connect_inner_blocks=function(h){for(var l in this._inner_node){var m=h.diagram_properties[l];if(this._inner_node[l].length>0){for(var f=0;f<this._inner_node[l].length-1;f++){if((this._inner_node[l][f]).hasClass("authentication_visualizer_add_policy_binding")){continue}if(this._inner_node[l][f+1].hasClass("authentication_visualizer_add_policy_binding")&&m.set_block_node_top_offset){if(this._user_group_count==0){if(this._authorization_blocks.length>0){if(!(this._inner_node[l][f]).hasClass("authentication_zero_count_message")){this._connect_block_elements(this._inner_node[l][f],this._authorization_blocks[0],{multiple_block:true},h,true)}for(var g=0;g<this._authorization_blocks.length-1;g++){this._connect_block_elements(this._authorization_blocks[g],this._authorization_blocks[g+1],{multiple_block:true},h,true)}}this._user_group_count++;continue}if(this._user_group_count==1){if(this._session_blocks.length>0){if(!(this._inner_node[l][f]).hasClass("authentication_zero_count_message")){this._connect_block_elements(this._inner_node[l][f],this._session_blocks[0],{multiple_block:true},h,true)}for(var g=0;g<this._session_blocks.length-1;g++){this._connect_block_elements(this._session_blocks[g],this._session_blocks[g+1],{multiple_block:true},h,true)}this._connect_block_elements(this._session_blocks[g],this._inner_node[l][f+1],{multiple_block:true},h,true);this._user_group_count++;continue}}if(this._user_group_count==2){if(this._traffic_blocks.length>0){if(!(this._inner_node[l][f]).hasClass("authentication_zero_count_message")){this._connect_block_elements(this._inner_node[l][f],this._traffic_blocks[0],{multiple_block:true},h,true)}for(var g=0;g<this._traffic_blocks.length-1;g++){this._connect_block_elements(this._traffic_blocks[g],this._traffic_blocks[g+1],{multiple_block:true},h,true)}this._connect_block_elements(this._traffic_blocks[g],this._inner_node[l][f+1],{multiple_block:true},h,true);this._user_group_count++;continue}}}if((this._inner_node[l][f]).hasClass("authentication_zero_count_message")&&m.set_block_node_top_offset){if(this._user_group_count==0&&this._authorization_blocks.length>0){continue}if(this._user_group_count==1&&this._session_blocks.length>0){continue}if(this._user_group_count==2&&this._traffic_blocks.length>0){continue}}this._connect_block_elements(this._inner_node[l][f],this._inner_node[l][f+1],{multiple_block:true},h,true)}}}this.user_resp=null;this.group_resp=[];this._session_blocks=[];this._traffic_blocks=[];this._authorization_blocks=[];this.user_group_model_changed=false;this._duplicate_check_array=[];this._user_group_count=0};rdx.authentication_visualizer_view.prototype.connect_block_elements=function(f){for(var d in this._block_object){var e=f.diagram_properties[d];if(rdx.utils.is_defined(e.child)&&rdx.utils.is_defined(this._block_object[e.child])){this._connect_block_elements(d,e.child,e,f,e.multiple_block)}continue}for(var d in this._fail_block_source_object){this._connect_block_elements(this._fail_block_source_object[d],this._fail_block_object[d],{multiple_block:true},f,true)}};rdx.authentication_visualizer_view.prototype._connect_connector_div_to_inner_blocks=function(c){for(var d=1;d<this._connector_div_arr.length;d++){this._connect_block_elements(this._connector_div_arr[0],this._connector_div_arr[d],{stub:true})}};rdx.authentication_visualizer_view.prototype._connect_connector_div_primary_to_inner_blocks=function(c){if(this._connector_div_primary_arr.length>2){for(var d=2;d<this._connector_div_primary_arr.length;d++){this._connect_block_elements(this._connector_div_primary_arr[0],this._connector_div_primary_arr[d],{primary_stub:true,connect_without_arrow:true})}}};rdx.authentication_visualizer_view.prototype._connect_connector_div_secondary_to_inner_blocks=function(c){if(this._connector_div_secondary_arr.length>2){for(var d=2;d<this._connector_div_secondary_arr.length;d++){this._connect_block_elements(this._connector_div_secondary_arr[0],this._connector_div_secondary_arr[d],{secondary_stub:true,connect_without_arrow:true})}}};rdx.authentication_visualizer_view.prototype._connect_block_elements=function(H,L,aa,N,Q,ab){var I={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#cccccd",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Top","Bottom"],connector:["Straight"]};var S={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#cccccd",fillStyle:"transparent",radius:2,lineWidth:2},isSource:true,isTarget:true,anchor:["BottomCenter","TopCenter"],connector:["Straight"]};var V={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#cccccd",fillStyle:"transparent",radius:2,lineWidth:2},isSource:true,isTarget:true,anchor:["RightMiddle","LeftMiddle"],connector:["Straight"]};var D={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#cccccd",fillStyle:"transparent",radius:2,lineWidth:2},isSource:true,isTarget:true,anchor:["Right","Left"],connector:["Straight"]};var U={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#cccccd",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Top"],connector:["Straight",{stub:[226,0]}]};var P={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#cccccd",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Top"],connector:["Straight",{stub:[231,0]}]};var Z={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#cccccd",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Bottom"],connector:["Straight",{stub:[0,226]}]};var M={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#cccccd",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Bottom"],connector:["Straight",{stub:[0,231]}]};var K={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#cccccd",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Bottom"],connector:["Straight",{stub:[214,0]}]};var T={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#cccccd",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Bottom"],connector:["Straight",{stub:[234,0]}]};var R={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#cccccd",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Top"],connector:["Straight",{stub:[0,214],cornerRadius:10}]};var E={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#cccccd",fillStyle:"transparent",radius:4,lineWidth:4},isSource:true,isTarget:true,filter:".ep",anchor:["Top"],connector:["Straight",{stub:[0,234],cornerRadius:1}]};if(rdx.utils.is_array(L)){for(var F=0;F<L.length;F++){this._connect_block_elements(H,L[F])}}else{this._jsPlumb=jsPlumb.getInstance({ConnectionOverlays:[["Arrow",{location:1,id:"arrow",length:8,width:6,height:1,foldback:0.7}]]});if((rdx.utils.is_defined(aa.connect_without_arrow)&&aa.connect_without_arrow==true)){this._jsPlumb=jsPlumb.getInstance()}var O={};if(rdx.utils.is_defined(aa.connect_bottom)){O=K;if(((this._block_object.node_5.height()+this._block_object.node_5.offset().top)-(this._block_object.node_7.height()+this._block_object.node_7.offset().top))>200){O.connector[1].stub=[0,((this._block_object.node_5.height()+this._block_object.node_5.offset().top)-(this._block_object.node_7.height()+this._block_object.node_7.offset().top))]}if(rdx.utils.is_defined(N.view_properties.referrer)){O=T}}else{if(rdx.utils.is_defined(ab)&&ab===true){O=D}else{if((rdx.utils.is_defined(Q)&&Q===true)||(rdx.utils.is_defined(aa.multiple_block)&&aa.multiple_block===true)){O=S}else{if((rdx.utils.is_defined(aa.direction)&&aa.direction=="right")){if(rdx.utils.is_defined(N.view_properties.referrer)){O=E}else{if(rdx.utils.is_defined(aa.connect_right_top)&&aa.connect_right_top==true){O=I}else{O=R}}if(this._block_object.node_4.height()>265){O.connector[1].stub=[this._block_object.node_7.offset().top-this._block_object.node_3.offset().top,0]}}else{if((rdx.utils.is_defined(aa.direction)&&aa.direction=="left")){O=V;if(rdx.utils.is_defined(N.view_properties.referrer)){O=M}}else{if(rdx.utils.is_defined(aa.stub)&&aa.stub==true){var J=H.position().top;var ac=L.position().top;var ad=H.height();var G=L.height();var W=J>ac?J-ac-G/2-7:ac-J+G/2+7;O={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#cccccd",fillStyle:"transparent",radius:2,lineWidth:2},isSource:true,isTarget:true,anchor:["LeftMiddle"],connector:["Straight",{stub:[W,0]}]}}else{if((rdx.utils.is_defined(aa.primary_stub)&&aa.primary_stub==true)||(rdx.utils.is_defined(aa.secondary_stub)&&aa.secondary_stub==true)){var J=H.position().top;var ac=L.position().top;var ad=H.height();var G=L.height();var W=ac-J+G/2+8;O={endpoint:["Dot",{radius:0.1}],paintStyle:{strokeStyle:"#cccccd",fillStyle:"transparent",radius:2,lineWidth:2},isSource:true,isTarget:true,anchor:["RightMiddle"],connector:["Straight",{stub:[W,0]}]}}else{O=V}}}}}}}if(rdx.utils.is_defined(aa.connect_bottom)){this._jsPlumb.connect({source:this._block_object[H],target:this._block_object[L]},O)}else{if(rdx.utils.is_defined(aa.connect_top)){this._jsPlumb.connect({source:this._block_object[H],target:this._block_object[L]},O)}else{if(rdx.utils.is_defined(aa.multiple_block)&&aa.multiple_block===true){if(typeof H==="string"){H=this._block_object[H];O=V}if(typeof L==="string"){L=this._block_object[L];O=V}this._jsPlumb.connect({source:H,target:L},O)}else{if(rdx.utils.is_defined(aa.direction)&&aa.direction=="left"){this._jsPlumb.connect({source:this._block_object[H],target:this._block_object[L]},O)}else{if((rdx.utils.is_defined(aa.stub)&&aa.stub===true)||(rdx.utils.is_defined(aa.primary_stub)&&aa.primary_stub==true)||(rdx.utils.is_defined(aa.secondary_stub)&&aa.secondary_stub==true)){this._jsPlumb.connect({source:H,target:L},O)}else{this._jsPlumb.connect({source:this._block_object[H],target:this._block_object[L]},O)}}}}}}};rdx.authentication_visualizer_view.prototype.refresh_view=function(b){$(".topology_formation_diagram_parent_container").empty();this.construct_visualizer_elements(b)};rdx.entity_visualizer_view=function(h,e,f){this._parent=h;this._base_view=f;this._view_definition=e;this._jsPlumb=jsPlumb.getInstance();this._draw_flowchart_line=jsPlumb.getInstance();var g={header_renderer_callback:null,left_entity_renderer_callback:null,left_visualizer_renderer_callback:null,right_entity_renderer_callback:null,right_visualizer_renderer_callback:null,draw_left_connectors_handler_callback_per_one_entity:null,left_data_handler_callback_per_one_entity:null,draw_right_connectors_handler_callback_per_one_entity:null,right_data_handler_callback_per_one_entity:null,left_cell_click_handler_callback:null,right_cell_click_handler_callback:null,left_button_bar_click_handler_callback:null,right_button_bar_click_handler_callback:null,no_results_msg:"rdx.no_records_found",dont_show_empty_visualizer:false,search_filter:true};this._view_properties=$.extend({},g,this._view_definition.view_properties);this._left_visualizer_entities=[];this._right_visualizer_entities=[];this._is_left_response_empty=false;this._is_right_response_empty=false};rdx.entity_visualizer_view.prototype.make_view=function(){if(rdx.utils.is_defined(this._container)){this._container.empty()}this._create_dom()};rdx.entity_visualizer_view.prototype.refresh_view=function(){this._container.remove();this.make_view()};rdx.entity_visualizer_view.prototype._create_dom=function(){this._container=$("<div>").addClass("entity_visualizer");this._parent.append(this._container);this._render_header();if(this._view_properties.left_visualizer){this._render_left_pane()}if(this._view_properties.right_visualizer){this._render_right_pane()}this._render_connectors();var b={status:"all"};this._render_visualizers(b)};rdx.entity_visualizer_view.prototype._render_header=function(){if(rdx.utils.is_defined(this._view_properties.header_renderer_callback)){this._view_properties.header_renderer_callback.call_back()}else{if(rdx.utils.is_not_defined(this._view_properties.header)){return}var N=$("<div>").addClass("header_pane");this._left_container=$("<div>").addClass("left_container");this._right_container=$("<div>").addClass("right_container");var R=$("<div>").addClass("left_entity");var W=$("<div>").addClass("left_position");var H="";if(rdx.utils.is_defined(this._view_properties.header.left_entity)&&rdx.utils.is_defined(this._view_properties.header.left_entity.title)){H=this._view_properties.header.left_entity.title}var T=$("<span>").append(H);if(rdx.utils.is_defined(this._view_properties.header.left_entity)&&rdx.utils.is_defined(this._view_properties.header.left_entity.image_class_name)){T.addClass(this._view_properties.header.left_entity.image_class_name)}this._left_separator=$("<span>").addClass("left_separator");this._left_count=$("<span>").addClass("left_count");W.append(T);W.append(this._left_separator);W.append(this._left_count);this._left_entity_buttons_bar=$("<div>").addClass("right_position");if(rdx.utils.is_defined(this._view_properties.header.left_entity)&&rdx.utils.is_defined(this._view_properties.header.left_entity.buttons_bar)){for(var G=0;G<this._view_properties.header.left_entity.buttons_bar.length;G++){var Z=this._view_properties.header.left_entity.buttons_bar[G];var M="";if(rdx.utils.is_defined(Z.name)){M=Z.name}var I=$("<div>").addClass("vis_button_ct").appendTo(this._left_entity_buttons_bar);var U=$("<input />").addClass("image_button").attr({type:"button",value:M});if(rdx.utils.is_defined(Z.image_class_name)){U.addClass(Z.image_class_name)}I.append(U);if(Z.values){var V=$("<ul/>").addClass("list hide");for(var K in Z.values){var E=Z.values[K];var B=$("<li/>").addClass("list-item").appendTo(V);B.text(E);B.attr("key",K);V.append(B)}I.append(V)}}}R.append(W);R.append(this._left_entity_buttons_bar);var J="";if(rdx.utils.is_defined(this._view_properties.header.left_entity)&&rdx.utils.is_defined(this._view_properties.header.left_entity.description)){J=this._view_properties.header.left_entity.description}var D=$("<div>").addClass("left_description").append(J);var L=$("<div>").addClass("right_entity");var Q=$("<div>").addClass("left_position");var F="";if(rdx.utils.is_defined(this._view_properties.header.right_entity)&&rdx.utils.is_defined(this._view_properties.header.right_entity.title)){F=this._view_properties.header.right_entity.title}var C=$("<span>").append(F);if(rdx.utils.is_defined(this._view_properties.header.right_entity)&&rdx.utils.is_defined(this._view_properties.header.right_entity.image_class_name)){C.addClass(this._view_properties.header.right_entity.image_class_name)}this._right_separator=$("<span>").addClass("right_separator");this._right_count=$("<span>").addClass("right_count");Q.append(C);Q.append(this._right_separator);Q.append(this._right_count);this._right_entity_buttons_bar=$("<div>").addClass("right_position");if(rdx.utils.is_defined(this._view_properties.header.right_entity)&&rdx.utils.is_defined(this._view_properties.header.right_entity.buttons_bar)){var P=$("<div>").addClass("vis_button_ct").appendTo(this._right_entity_buttons_bar);for(var G=0;G<this._view_properties.header.right_entity.buttons_bar.length;G++){var Z=this._view_properties.header.right_entity.buttons_bar[G];var M="";if(rdx.utils.is_defined(Z.name)){M=Z.name}var U=$("<input />").addClass("image_button").attr({type:"button",value:M});if(rdx.utils.is_defined(Z.image_class_name)){U.addClass(Z.image_class_name)}P.append(U)}}L.append(Q);L.append(this._right_entity_buttons_bar);var J="";if(rdx.utils.is_defined(this._view_properties.header.right_entity)&&rdx.utils.is_defined(this._view_properties.header.right_entity.description)){J=this._view_properties.header.right_entity.description}var S=$("<div>").addClass("right_description").append(J);var O="50%";if((this._view_properties.header.left_entity&&!this._view_properties.header.right_entity)||(!this._view_properties.header.left_entity&&this._view_properties.header.right_entity)){O="100%"}if(this._view_properties.header.left_entity){this._left_container.append(R);this._left_container.append(D);this._left_container.width(O)}if(this._view_properties.header.right_entity){this._right_container.append(L);this._right_container.append(S);this._right_container.width(O)}N.append(this._left_container);N.append(this._right_container);this._container.append(N);if(rdx.utils.is_defined(this._view_properties.header.left_entity)&&rdx.utils.is_defined(this._view_properties.header.left_entity.left_button_bar_click_handler_callback)){this._view_properties.left_button_bar_click_handler_callback=this._view_properties.header.left_entity.left_button_bar_click_handler_callback}if(rdx.utils.is_defined(this._view_properties.header.right_entity)&&rdx.utils.is_defined(this._view_properties.header.right_entity.right_button_bar_click_handler_callback)){this._view_properties.right_button_bar_click_handler_callback=this._view_properties.header.right_entity.right_button_bar_click_handler_callback}}};rdx.entity_visualizer_view.prototype._render_left_pane=function(){if(rdx.utils.is_defined(this._view_properties.left_entity_renderer_callback)){this._view_properties.left_entity_renderer_callback.call_back()}else{this._left_cell=$("<div>").addClass("left_entity_pane");if(!this._view_properties.right_visualizer){this._left_cell.width("100%")}if(this._view_properties.search_filter){this._left_search_filter_options=$("<div>").addClass("search_filter_block");var d=$("<div>").addClass("left_position");var f=$("<div>").addClass("div_button selected").append("All");d.append(f);this._left_search_filter_options.append(d);this._left_cell.append(this._left_search_filter_options);var e=this;f.bind("click",function(a){$(this).parent().children(".div_button").removeClass("selected");$(this).addClass("selected");var b={status:"all",clicked:"left"};e._render_visualizers(b)})}this._left_visualizer_container=$("<div>").addClass("left_visualizer_container");this._left_cell.append(this._left_visualizer_container);this._container.append(this._left_cell)}};rdx.entity_visualizer_view.prototype._render_right_pane=function(){if(rdx.utils.is_defined(this._view_properties.right_entity_renderer_callback)){this._view_properties.right_entity_renderer_callback.call_back()}else{this._right_cell=$("<div>").addClass("right_entity_pane");if(!this._view_properties.left_visualizer){this._right_cell.width("100%")}if(this._view_properties.search_filter){this._right_search_filter_options=$("<div>").addClass("search_filter_block");var h=$("<div>").addClass("left_position");var l=$("<div>").addClass("div_button selected").append("All");var g=$("<div>").addClass("div_button").append("Up");var m=$("<div>").addClass("div_button").append("Down");h.append(l);h.append(g);h.append(m);this._right_search_filter_options.append(h);this._right_cell.append(this._right_search_filter_options);var f=this;l.bind("click",function(a){$(this).parent().children(".div_button").removeClass("selected");$(this).addClass("selected");var b={status:"all",clicked:"right"};f._render_visualizers(b)});g.bind("click",function(a){$(this).parent().children(".div_button").removeClass("selected");$(this).addClass("selected");var b={status:"up",clicked:"right"};f._remove_all_connections();f._render_visualizers(b)});m.bind("click",function(a){$(this).parent().children(".div_button").removeClass("selected");$(this).addClass("selected");var b={status:"down",clicked:"right"};f._remove_all_connections();f._render_visualizers(b)})}this._right_visualizer_container=$("<div>").addClass("right_visualizer_container");this._right_cell.append(this._right_visualizer_container);this._container.append(this._right_cell)}};rdx.entity_visualizer_view.prototype._render_connectors=function(){this._connector_div=$("<div>").addClass("connector_pane").hide();this._highlighted_connector_div=$("<div>").addClass("highlighted_connector_pane");this._container.append(this._connector_div);this._container.append(this._highlighted_connector_div)};rdx.entity_visualizer_view.prototype._render_visualizers=function(b){if(this._left_visualizer_container){this._left_visualizer_container.empty()}if(this._right_visualizer_container){this._right_visualizer_container.empty()}this._render_left_visualizer(b)};rdx.entity_visualizer_view.prototype._render_left_visualizer=function(h){if(rdx.utils.is_defined(this._view_properties.left_visualizer_renderer_callback)){this._view_properties.left_visualizer_renderer_callback.call_back()}else{if(this._view_properties.left_visualizer){this._visualizer_resource=rdx.utils.get_resource(this._view_properties.left_visualizer.resource_name);var f={};if(rdx.utils.is_defined(this._view_properties.left_visualizer.view_context)){f=this._view_properties.left_visualizer.view_context}var g=new rdx.callback(this,this._construct_left_visualizer,[true,false,h,this._view_properties.left_visualizer.resource_name]);var e=new rdx.callback(this,this._error_occured);rdx.mask.mask_component(this._left_visualizer_container,"left_visualizer_mask");rdx.model.get(this._visualizer_resource,f,g,null,e)}else{if(this._view_properties.right_visualizer){this._render_right_visualizer(h)}}}};rdx.entity_visualizer_view.prototype._construct_left_visualizer=function(l,g,f,m,h){this._construct_visualizer(l,g,f,m,h);this._render_right_visualizer(m)};rdx.entity_visualizer_view.prototype.register_event_handlers=function(){rdx.model.add_model_change_listener(this._visualizer_resource,new rdx.callback(this,this.refresh_view))};rdx.entity_visualizer_view.prototype._construct_visualizer=function(an,ai,ae,al,V){var ax=an[V];if(!this._view_properties.right_visualizer){this._is_right_response_empty=true;ae=true}if(!this._view_properties.left_visualizer){this._is_left_response_empty=true}if(ai){rdx.mask.unmask_component(this._left_visualizer_container,"left_visualizer_mask");var S=ax.length;this._left_count.empty();if(S){this._is_left_response_empty=false;this._left_container.show();this._left_count.append(S);if(this._left_search_filter_options){this._left_search_filter_options.show()}}else{this._is_left_response_empty=true;var aj=$("<p class='no_results'>").text(rdx.i18n.get_string(this._view_properties.no_results_msg));this._left_visualizer_container.append(aj);if(this._is_left_response_empty&&this._view_properties.dont_show_empty_visualizer){this._left_container.hide();this._right_container.css("width","100%");this._right_container.css("border-left","1px solid #e4e5e6");this._left_cell.remove();this._right_cell.css("width","100%");this._right_cell.css("border-left","1px solid #e4e5e6");return}else{this._left_container.show();this._left_count.append(0)}}}else{rdx.mask.unmask_component(this._right_visualizer_container,"right_visualizer_mask");var aq=ax.length;this._right_count.empty();if(aq){this._is_right_response_empty=false;this._right_container.show();this._right_count.append(aq);if(this._right_search_filter_options){this._right_search_filter_options.show()}if(!this._is_left_response_empty&&!this._is_right_response_empty){this._connector_div.show()}}else{this._is_right_response_empty=true;var aj=$("<p class='no_results'>").text(rdx.i18n.get_string(this._view_properties.no_results_msg));this._right_visualizer_container.append(aj);if(this._is_right_response_empty&&this._view_properties.dont_show_empty_visualizer){this._right_container.hide();this._left_container.css("width","100%");this._left_container.css("border-left","1px solid #e4e5e6");this._right_cell.remove();this._left_cell.css("width","100%");this._left_cell.css("border-left","1px solid #e4e5e6");return}else{this._right_container.show();this._right_count.append(0)}}}if(ai){var au=this._view_properties.left_visualizer.entities}else{var au=this._view_properties.right_visualizer.entities}for(var aa=0;aa<ax.length;aa++){var ac=$("<div>").addClass("entity_container");if(ai){var ao=$("<div>").addClass("parent_left_entity_container");if(rdx.utils.is_defined(this._view_properties.left_visualizer.left_data_handler_callback_per_one_entity)){this._view_properties.left_visualizer.left_data_handler_callback_per_one_entity.call_back()}else{ac.attr("data-entity_data",ax[aa]["agent_id"])}var W=$("<span>").addClass("left_connector_dot");var U="left"+aa}else{var ao=$("<div>").addClass("parent_right_entity_container");if(rdx.utils.is_defined(this._view_properties.right_visualizer.right_data_handler_callback_per_one_entity)){this._view_properties.right_visualizer.right_data_handler_callback_per_one_entity.call_back()}else{ac.attr("data-entity_data",ax[aa]["agent_id"])}var W=$("<span>").addClass("right_connector_dot");var U="right"+aa}if(!(this._is_left_response_empty||this._is_right_response_empty)){ac.append(W)}ac.attr("data-entity_identifier",U);for(var N in au){if(au.hasOwnProperty(N)){var O=true;var ad=au[N];var ar=ad.type;if(rdx.utils.is_defined(ad.validator)){if(rdx.utils.is_defined(ad.validator.resource_key,ad.validator.exclude_values)){var am=ax[aa][ad.validator.resource_key];O=ad.validator.exclude_values.indexOf(am)===-1?true:false}}if(!O){continue}if(ar==="image_block"){var T=ad.property_value;var av=ax[aa][T];var R=ad.image_class_names[av];var aw=$("<div>").addClass(R);ac.append(aw)}else{if(ar==="data_block"){var ay=$("<div>").addClass("entity_block");if(rdx.utils.is_defined(ad.is_number_type)){ay.addClass("align_center")}else{ay.addClass("align_left")}var Q=ad.property_value;var P=$("<div>").addClass("property_value").append(ax[aa][Q]);ay.append(P);if(rdx.utils.is_defined(ad.property_key)){var ag=ad.property_key;var Z="";if(rdx.utils.is_defined(ag.name)){Z=ag.name}else{Z=ax[aa][ag]}if(rdx.utils.is_defined(ad.renderer_callback)){Z=ad.renderer_callback.call_back([ax[aa]])}if($.isArray(Z)){for(var ab=0;ab<Z.length;ab++){var at=$("<div>").addClass("property_key").append(Z[ab]);ay.append(at)}}else{var at=$("<div>").addClass("property_key").append(Z);ay.append(at)}}ac.append(ay)}}}}ao.append(ac);if(ai){this._left_visualizer_container.append(ao);if(!(this._is_left_response_empty||this._is_right_response_empty)){if(this._view_properties.left_visualizer&&rdx.utils.is_defined(this._view_properties.left_visualizer.draw_left_connectors_handler_callback_per_one_entity)){this._view_properties.left_visualizer.draw_left_connectors_handler_callback_per_one_entity.call_back()}else{this._draw_lines(ao,ac,U,"Right")}}}else{this._right_visualizer_container.append(ao);if(!(this._is_left_response_empty||this._is_right_response_empty)){if(this._view_properties.right_visualizer&&rdx.utils.is_defined(this._view_properties.right_visualizer.draw_right_connectors_handler_callback_per_one_entity)){this._view_properties.right_visualizer.draw_right_connectors_handler_callback_per_one_entity.call_back()}else{this._draw_lines(ao,ac,U,"Left")}}}}if(ae){if(rdx.utils.is_defined(this._left_cell)&&rdx.utils.is_defined(this._right_cell)){var ap=this._left_cell.outerHeight();var af=this._left_visualizer_container.outerHeight();var ak=this._right_cell.outerHeight();var ah=this._right_visualizer_container.outerHeight();if((ap-af)>=92){this._left_cell.height(af+92-10)}else{if((ap-af)<0){this._left_cell.height(af+92)}}if((ak-ah)>=92){this._right_cell.height(ah+92-10)}else{if((ak-ah)<0){this._right_cell.height(ah+92)}}if(this._left_cell.outerHeight()<this._right_cell.outerHeight()){this._left_cell.height(this._right_cell.outerHeight());if(rdx.utils.is_defined(this._connector_div)){this._connector_div.height(this._right_cell.outerHeight())}}else{this._right_cell.height(this._left_cell.outerHeight());if(rdx.utils.is_defined(this._connector_div)){this._connector_div.height(this._left_cell.outerHeight())}}}if(rdx.utils.is_defined(this._connector_div)){this._connector_div.css("top",this._left_container.outerHeight()+"px")}if(rdx.utils.is_defined(this._highlighted_connector_div)){this._highlighted_connector_div.css("top",this._left_container.outerHeight()+"px")}this._register_events()}};rdx.entity_visualizer_view.prototype._error_occured=function(b){};rdx.entity_visualizer_view.prototype._draw_lines=function(h,f,e,g){if(rdx.utils.is_not_defined(g)){g="Right"}this._jsPlumb.connect({source:h,target:f,cssClass:e},{anchor:[g],connector:["Straight"],endpoint:"Blank",paintStyle:{strokeStyle:"#E9E9E9",lineWidth:2,radius:2}})};rdx.entity_visualizer_view.prototype._render_right_visualizer=function(q){if(rdx.utils.is_defined(this._view_properties.right_visualizer_renderer_callback)){this._view_properties.right_visualizer_renderer_callback.call_back()}else{this._visualizer_resource=rdx.utils.get_resource(this._view_properties.right_visualizer.resource_name);var o={};if(q.status==="all"){if(rdx.utils.is_defined(this._view_properties.right_visualizer.view_context)){o=this._view_properties.right_visualizer.view_context}}else{var s=this._view_properties.right_visualizer.view_context.filter[0];var t=s.name;var x={};x[t]=t;x.instance_state="instance_state";var v={};v[t]=s.value;if(q.status==="up"){v.instance_state="Up"}else{if(q.status==="down"){v.instance_state="Down"}}var w=new rdx.context();var n={filter:x,is_query_param:true};w.set_context_data(v,n);o=w.get_url_params()}var p=new rdx.callback(this,this._construct_visualizer,[false,true,q,this._view_properties.right_visualizer.resource_name]);var u=new rdx.callback(this,this._error_occured);rdx.mask.mask_component(this._right_visualizer_container,"right_visualizer_mask");rdx.model.get(this._visualizer_resource,o,p,null,u)}};rdx.entity_visualizer_view.prototype.recalculate_widths_and_heights=function(d){var f=this._left_container.outerHeight();var e=this._right_container.outerHeight();if(d){if(f>e){this._right_container.height(f)}else{this._left_container.height(e)}}else{if(f<e){this._right_container.height(f)}else{this._left_container.height(e)}}if(rdx.utils.is_defined(this._left_cell)&&rdx.utils.is_defined(this._right_cell)){if(this._left_cell.outerHeight()<this._right_cell.outerHeight()){this._left_cell.height(this._right_cell.outerHeight());if(rdx.utils.is_defined(this._connector_div)){this._connector_div.height(this._right_cell.outerHeight())}}else{this._right_cell.height(this._left_cell.outerHeight());if(rdx.utils.is_defined(this._connector_div)){this._connector_div.height(this._left_cell.outerHeight())}}}if(rdx.utils.is_defined(this._connector_div)){this._connector_div.css("top",this._left_container.outerHeight()+"px")}};rdx.entity_visualizer_view.prototype.destroy_view=function(b){rdx.model.remove_model_change_listener(this._visualizer_resource)};rdx.entity_visualizer_view.prototype.get_is_back_button_required=function(){return false};rdx.entity_visualizer_view.prototype.set_is_back_button_required=function(b){this.is_back_button_required=b};rdx.entity_visualizer_view.prototype._register_events=function(){var b=this;if(rdx.utils.is_defined(this._left_entity_buttons_bar)){this._left_entity_buttons_bar.unbind(rdx.events.CLICK)}if(rdx.utils.is_defined(this._right_entity_buttons_bar)){this._right_entity_buttons_bar.unbind(rdx.events.CLICK)}if(!(this._is_left_response_empty||this._is_right_response_empty)){if(rdx.utils.is_defined(this._left_cell)){if(rdx.utils.is_defined(this._view_properties.left_cell_click_handler_callback)){this._left_cell.bind(rdx.events.CLICK,{callback:this._view_properties.left_cell_click_handler_callback},function(a,d){return a.data.callback.call_back([a,d])})}else{this._left_cell.bind(rdx.events.CLICK,{entity_block:this},function(a){b._show_left_entity_connections(a)})}}}if(!(this._is_left_response_empty||this._is_right_response_empty)){if(rdx.utils.is_defined(this._right_cell)){if(rdx.utils.is_defined(this._view_properties.right_cell_click_handler_callback)){this._right_cell.bind(rdx.events.CLICK,{callback:this._view_properties.right_cell_click_handler_callback},function(a,d){return a.data.callback.call_back([a,d])})}else{this._right_cell.bind(rdx.events.CLICK,{entity_block:this},function(a){b._show_right_entity_connections(a)})}}}if(rdx.utils.is_defined(this._view_properties.left_button_bar_click_handler_callback)){this._left_entity_buttons_bar.bind(rdx.events.CLICK,{callback:this._view_properties.left_button_bar_click_handler_callback},function(a,d){return a.data.callback.call_back([a,d])})}if(rdx.utils.is_defined(this._view_properties.right_button_bar_click_handler_callback)){this._right_entity_buttons_bar.bind(rdx.events.CLICK,{callback:this._view_properties.right_button_bar_click_handler_callback},function(a,d){return a.data.callback.call_back([a,d])})}};rdx.entity_visualizer_view.prototype._show_left_entity_connections=function(C){if(!rdx.utils.is_defined(C)){return}var w=this._get_target(C);if(!(w.hasClass("entity_container")||w.hasClass("left_connector_dot")||w.hasClass("status_up")||w.hasClass("status_down")||w.hasClass("entity_block")||w.hasClass("property_value")||w.hasClass("property_key"))){return}this._remove_all_connections();while(true){if(w.hasClass("entity_container")){break}w=w.parent()}w.addClass("highlighted_entity");var A=w.children(".left_connector_dot");A.addClass("highlighted_entity");this._left_visualizer_entities.push(w);var y=w.attr("data-entity_data");var D=w.attr("data-entity_identifier");var q=$("svg."+D);q.children("path").attr("stroke","#F8CE3B");var t=$(".right_visualizer_container .entity_container");var u=[];for(var z=0;z<t.length;z++){var v=$(t[z]);var s=v.attr("data-entity_data");if(y===s){u.push(v);this._right_visualizer_entities.push(v);v.addClass("highlighted_entity");var A=v.children(".right_connector_dot");A.addClass("highlighted_entity");var B=v.attr("data-entity_identifier");var x=$("svg."+B);x.children("path").attr("stroke","#F8CE3B")}}this._highlight_vertical_connector([w],u)};rdx.entity_visualizer_view.prototype._highlight_vertical_connector=function(q,s){var p=[];for(var w=0;w<q.length;w++){var x=$(q[w]).offset();var n=Math.ceil(($(q[w]).outerHeight())/2);p.push(x.top+n)}for(var w=0;w<s.length;w++){var x=$(s[w]).offset();var n=Math.ceil(($(s[w]).outerHeight())/2);p.push(x.top+n)}var v=Math.max.apply(Math,p);var u=Math.min.apply(Math,p);var o=v-u;if(rdx.utils.is_defined(this._connector_div)&&rdx.utils.is_defined(this._highlighted_connector_div)){var t=this._connector_div.offset().top;this._highlighted_connector_div.height(o+2).css("top",u-t-1);this._highlighted_connector_div.show()}};rdx.entity_visualizer_view.prototype._show_right_entity_connections=function(C){if(!rdx.utils.is_defined(C)){return}var w=this._get_target(C);if(!(w.hasClass("entity_container")||w.hasClass("left_connector_dot")||w.hasClass("status_up")||w.hasClass("status_down")||w.hasClass("entity_block")||w.hasClass("property_value")||w.hasClass("property_key"))){return}this._remove_all_connections();while(true){if(w.hasClass("entity_container")){break}w=w.parent()}w.addClass("highlighted_entity");var A=w.children(".right_connector_dot");A.addClass("highlighted_entity");this._right_visualizer_entities.push(w);var x=w.attr("data-entity_data");var D=w.attr("data-entity_identifier");var q=$("svg."+D);q.children("path").attr("stroke","#F8CE3B");var u=$(".left_visualizer_container .entity_container");var t=[];for(var y=0;y<u.length;y++){var z=$(u[y]);var s=z.attr("data-entity_data");entity_list=x.split(",");if($.inArray(s,entity_list)!==-1){t.push(z);this._left_visualizer_entities.push(z);z.addClass("highlighted_entity");var A=z.children(".left_connector_dot");A.addClass("highlighted_entity");var B=z.attr("data-entity_identifier");var v=$("svg."+B);v.children("path").attr("stroke","#F8CE3B")}}this._highlight_vertical_connector(t,[w])};rdx.entity_visualizer_view.prototype._get_target=function(d){var c=d.target||d.srcElement||d.originalTarget;return $(c)};rdx.entity_visualizer_view.prototype._remove_all_connections=function(){for(var m=0;m<this._left_visualizer_entities.length;m++){var l=$(this._left_visualizer_entities[m]);l.removeClass("highlighted_entity");var f=l.children(".left_connector_dot");f.removeClass("highlighted_entity");var g=l.attr("data-entity_identifier");var h=$("svg."+g);h.children("path").attr("stroke","#E9E9E9")}this._left_visualizer_entities.length=0;for(var m=0;m<this._right_visualizer_entities.length;m++){var l=$(this._right_visualizer_entities[m]);l.removeClass("highlighted_entity");var f=l.children(".right_connector_dot");f.removeClass("highlighted_entity");var g=l.attr("data-entity_identifier");var h=$("svg."+g);h.children("path").attr("stroke","#E9E9E9")}this._right_visualizer_entities.length=0;if(rdx.utils.is_defined(this._highlighted_connector_div)){this._highlighted_connector_div.height(0)}};rdx.reboot_view=function(b){this._DEFAULT_PROPERTIES={ip_address:null,title:"",message:rdx.i18n.get_string("rdx.reboot_message"),timeout:60,refresh_timer:30,progress_title:null,show_progress_title:true,max_time:15,redirect_on_max_timeout:false,status:null,wait_message:"Please wait...",restore:null,activity_status:null,url:null,notification:null,current_status:null,ping_url:null,show_progress_bar:false,show_time:false,delay_for_device_status_check:1200,disable_ping:false};this._properties=$.extend(true,this._DEFAULT_PROPERTIES,b);this._reboot_dom_object={};this._reboot_timer_interval_attempts=0;this._total_number_of_seconds=0};rdx.reboot_view.prototype.check_connection=function(f){var d=rdx.i18n.get_string(this._properties.progress_title);var e=this;if(this._properties.show_progress_title==true){rdx.mask.mask_with_progress($(document.body),this._properties.id,{single_progress:true,title:d,mode:rdx.PROGRESS_INFO})}this._connection_check_interval=setInterval(function(){var a=rdx.utils.is_defined(e._properties.ip_address)?e._properties.ip_address:location.host;var b=location.protocol+"//"+a;if(rdx.utils.is_defined(e._properties.test_url)){b=e._properties.test_url}rdx.utils.ajax(rdx.ajax_handler_constants.GET,b,null,new rdx.callback(),null,new rdx.callback(null,function(){e.render();if(rdx.utils.is_defined(f)){clearTimeout(f)}}),1000)},3000)};rdx.reboot_view.prototype.stop=function(){if(this._properties.show_progress_title==true){rdx.mask.unmask(this._properties.id)}if(rdx.utils.is_defined(this._connection_check_interval)){clearInterval(this._connection_check_interval)}};rdx.reboot_view.prototype.render=function(){if(rdx.utils.is_defined(this._connection_check_interval)){clearInterval(this._connection_check_interval)}if($(".reboot_view").length>0&&this._properties.restore==false){return}var f=$("<div>").addClass("reboot_view");var g=$("<div>").addClass("wrapper");var h=$("<div>").addClass("top");var e=$("body").addClass("reboot_body");rdx.page.empty_body_content();e.append(f.append(g.append(h)));if(rdx.utils.is_defined(this._properties.status)){g.append(this._create_status_container())}else{if(rdx.utils.is_defined(this._properties.restore)){f.addClass("restore");g.append(this._create_restore_container())}else{g.append(this._create_center_container())}}if(this._properties.disable_ping==false){this._start_check_connectivity_timer(this._properties.timeout)}};rdx.reboot_view.prototype._create_center_container=function(){var g=$("<div>").addClass("center");var m=$("<span>").addClass("title").append(this._properties.title);var l=$("<div>").addClass("center_content");var f=$("<span>").addClass("message").append(this._properties.message);var h=$("<hr>").addClass("separator");l.append(f).append(h).append(this._create_reboot_content());g.append(m).append(l);return g};rdx.reboot_view.prototype._create_restore_container=function(){var h=$("<div>").addClass("center");var o=$("<div>").addClass("title_logo");var g=$("<div>").addClass("sub_title").append(this._properties.sub_title);this._current_status=$("<div>").addClass("current_status");this._current_status_text=$("<p>").addClass("current_status_text").append(this._properties.current_status);this._current_status.append(this._current_status_text);if(this._properties.show_progress_bar==true){this._div_for_hidden_images=$("<div>");this._div_for_progress_image=$("<div>").addClass("div_for_progress_image");this._div_for_error_image=$("<div>").addClass("div_for_error_image");this._div_for_success_image=$("<div>").addClass("div_for_success_image");this._div_for_hidden_images.append(this._div_for_progress_image).append(this._div_for_error_image).append(this._div_for_success_image);this._progress_bar=$("<div>").addClass("progress_bar");this._progress_indicator=$("<div>").addClass("progress_indicator");progress_bar_width_initial=this._current_progress_value+"%";this._progress_indicator.css({width:progress_bar_width_initial});this._progress_bar.append(this._progress_indicator);this._current_status.append(this._progress_bar);this._current_status.append(this._div_for_hidden_images)}if(this._properties.show_time==true){this._time_remaining=$("<div>").addClass("time_remaining").text(rdx.i18n.get_string("rdx.progress_bar.time_remaining"));this._time=$("<span>").addClass("timer");this._time_remaining.append(this._time);this._current_status.append(this._time_remaining);this._time.text(rdx.utils.convert_seconds_to_minutes(" "+this._current_time_remaining,true))}this._wait_message=$("<div>").addClass("wait_message");var m=$("<div>").addClass("notification").append(this._properties.notification);var l=$("<button>").addClass("rdx_button rdx_blue_button");var n=this;l.click(function(){window.location.href="/"});if(this._properties.final_status=="progress"){this._wait_message.append(this._properties.wait_message);if(this._properties.show_progress_bar||this._properties.show_time){this._start_progress_bar_time()}}else{if(this._properties.final_status=="failed"||this._properties.final_status=="success"){this._wait_message.append(l);if(this._properties.final_status=="failed"){l.append("Login").addClass("error")}if(this._properties.final_status=="success"){l.append("Login").addClass("success")}setTimeout(function(){clearInterval(n._reboot_timer_interval)},1000);if(rdx.utils.is_defined(this._progress_interval)){clearInterval(this._progress_interval)}if(rdx.utils.is_defined(this._progress_indicator)){this._progress_indicator.css({width:"100%"})}if(rdx.utils.is_defined(this._time_remaining)){this._time_remaining.remove()}}}h.append(o).append(g).append(this._current_status).append(this._wait_message).append(m);h.append(this._show_hide_details());this._create_reboot_content();return h};rdx.reboot_view.prototype._start_progress_bar_time=function(){this._cummulative_value_of_progress=this._calculate_cumulative_progress_value();this._original_step_duration_array=this._calculate_time_for_process();this._total_time=this._calculate_total_time();this._actual_step_duration_array=this._original_step_duration_array.slice();this._current_progress_value=(rdx.utils.is_defined(this._current_progress_value))?this._current_progress_value:0;this._current_time_remaining=rdx.utils.is_defined(this._current_time_remaining)?this._current_time_remaining:this._total_time;var b=this;if(rdx.utils.is_defined(this._progress_interval)){clearInterval(this._progress_interval)}this._progress_interval=setInterval(function(){b._update_progress_bar_time()},1000)};rdx.reboot_view.prototype._show_hide_details=function(){var b=$("<div>").addClass("details_log_container");this._detail_log_header=$("<div>").addClass("detail_log_header");this._details_container=$("<div>").addClass("details_log");this._details_container.append(this._update_activity_status());b.append(this._detail_log_header).append(this._details_container);this.update_detail_log_height();return b};rdx.reboot_view.prototype.update_detail_log_height=function(){var b=this;setTimeout(function(){var a=$(document).height();var d=$(".center").outerHeight();b._details_container.height(a-d-8)},100)};rdx.reboot_view.prototype._update_activity_status=function(){var B=$("<ul>").addClass("items");var w=rdx.images.LOADER_TICK;var E=[];if(rdx.utils.is_defined(this._properties.activity_status)){E=this._properties.activity_status}var C=0;for(var z=0;z<E.length;z++){var A=$("<li>").addClass("item");var H=$("<span>").addClass("status_message").append(E[z]["message"]);A.append(H);if(E[z]["progress"]=="success"){A.addClass("success")}else{if(E[z]["progress"]=="progress"){A.addClass("in_progress")}else{if(E[z]["progress"]=="failed"){C++;A.addClass("failed");var x=$("<div>").addClass("error_details");var v=E[z]["error_message"];var y=$("<ul>");if(rdx.utils.is_array(v)){for(var F=0;F<v.length;F++){var u=$("<li>").addClass("errors");u.append(v[z]);y.append(u)}}else{var u=$("<li>").addClass("errors");y.append(u.append(v))}A.addClass("error").append(x.append(y));A.click(function(){$(this).find(".error_details").toggle();$(this).toggleClass("expanded")})}else{A.addClass("pending")}}}B.append(A)}var D="Errors";if(C==1){D="Error"}var G=$("<p>").append(D).addClass("errors");if(C!=0){var t=$("<p>").append(C);this._detail_log_header.append(t).append(G)}return B};rdx.reboot_view.prototype._create_status_container=function(){var f=$("<div>").addClass("center");var g=$("<span>").addClass("title").append(this._properties.title);var h=$("<span>").addClass("status").append(this._properties.status);var e=$("<span>").append("complete").addClass("complete");f.append(g).append("<br/>").append(h).append(e).append("<br/>");this._create_reboot_content();return f};rdx.reboot_view.prototype._create_reboot_content=function(){this._reboot_dom_object.login_countdown_span=$("<span>").append(rdx.utils.convert_seconds_to_minutes(this._properties.timeout)).addClass("login_countdown");this._reboot_dom_object.login_now_option_span=$("<span>").addClass("login_now_option");this._reboot_dom_object.login_countdown_message_span=$("<span>").addClass("login_countdown_message");var c=$("<span>");if(this._properties.disable_ping==false){this._reboot_dom_object.login_countdown_message_span.append(rdx.i18n.get_string("rdx.reboot_view_logging_on_in"));c.append(this._reboot_dom_object.login_countdown_message_span[0]).append(this._reboot_dom_object.login_countdown_span[0]).append(this._reboot_dom_object.login_now_option_span[0])}else{var d=$("<a>").attr("href","#noAnchor").append("here ");d.bind(rdx.events.CLICK,{that:this},function(a){new rdx.link({url:"http://"+a.data.that._properties.ip_address}).fire()});this._reboot_dom_object.login_countdown_message_span.append($("<span>").append("Click ").append(d).append(" to connect."));c.append(this._reboot_dom_object.login_countdown_message_span[0])}return c};rdx.reboot_view.prototype._refresh_success_callback=function(f,e){try{e=JSON.parse(e);this._properties=$.extend(true,this._DEFAULT_PROPERTIES,e.ping_progress);this.render()}catch(d){window.location.href=rdx.utils.is_defined(this._properties.url)?this._properties.url:"/"}};rdx.reboot_view.prototype._refresh_error_callback=function(){if((rdx.utils.is_defined(this._properties.max_time))&&(this._total_number_of_seconds>this._properties.max_time*60)){if(rdx.utils.is_defined(this._properties.redirect_on_max_timeout)&&this._properties.redirect_on_max_timeout){window.location.href=rdx.utils.is_defined(this._properties.url)?this._properties.url:"/"}this._reboot_dom_object.login_countdown_span.empty();this._reboot_dom_object.login_countdown_message_span.empty();this._reboot_dom_object.login_now_option_span.empty();this._reboot_dom_object.login_countdown_message_span.append(rdx.i18n.get_string("rdx.server_down_message"))}else{this._reboot_timer_interval_attempts++;this._reboot_dom_object.login_countdown_message_span.empty();var d=$("<span>").append(rdx.i18n.get_string("rdx.reboot_view_unable_to_connect",{reboot_timer_interval_attempts:this._reboot_timer_interval_attempts})).addClass("login_countdown_message");this._reboot_dom_object.login_countdown_message_span.append(d);this._reboot_dom_object.login_countdown_span.empty();this._reboot_dom_object.login_countdown_span.append(rdx.utils.convert_seconds_to_minutes(this._properties.refresh_timer));var f=this;var e=$("<a>").append("here").attr("href","#");e.bind("click",function(a){a.preventDefault();f._test_connectivity()});this._reboot_dom_object.login_now_option_span.empty();this._reboot_dom_object.login_now_option_span.append(rdx.i18n.get_string("rdx.reboot_view_click")).append(e).append(rdx.i18n.get_string("rdx.reboot_view_to_connect_now"));this._start_check_connectivity_timer(this._properties.refresh_timer)}};rdx.reboot_view.prototype._start_check_connectivity_timer=function(d){var f=d;var e=this;this._reboot_timer_interval=setInterval(function(){e._total_number_of_seconds++;var a=e._reboot_dom_object.login_countdown_span;if(f==0){clearInterval(e._reboot_timer_interval);e._reboot_dom_object.login_countdown_message_span.empty();e._reboot_dom_object.login_countdown_message_span.append(rdx.i18n.get_string("rdx.trying_to_connect_now"));e._reboot_dom_object.login_now_option_span.empty();a.empty();e._test_connectivity();return}a.empty();a.append(rdx.utils.convert_seconds_to_minutes(f));f--},1000,e._reboot_timer_interval,e,f)};rdx.reboot_view.prototype._test_connectivity=function(){if(rdx.utils.is_defined(this._reboot_timer_interval)){clearInterval(this._reboot_timer_interval)}var d=rdx.utils.is_defined(this._properties.ip_address)?this._properties.ip_address:location.host;var e=rdx.utils.is_defined(this._properties.ping_url)?this._properties.ping_url:(location.protocol+"//"+d);var f=this._reboot_dom_object.login_countdown_message_span;this._reboot_dom_object.login_now_option_span.empty();this._reboot_dom_object.login_countdown_span.empty();this._reboot_dom_object.login_countdown_message_span.empty();f.empty();f.append(rdx.i18n.get_string("rdx.trying_to_connect_now"));rdx.utils.ajax(rdx.ajax_handler_constants.GET,e,null,new rdx.callback(this,this._refresh_success_callback),null,new rdx.callback(this,this._refresh_error_callback),5000)};rdx.reboot_view.prototype._calculate_time_for_process=function(){var d=[];for(var c=0;c<this._properties.activity_status.length;c++){d[c]=parseInt(this._properties.activity_status[c].component_upgrade_time)}return d};rdx.reboot_view.prototype._calculate_cumulative_progress_value=function(){var c=[];for(var d=0;d<this._properties.activity_status.length;d++){if(d!=0){c[d]=c[d-1]+(parseFloat(this._properties.activity_status[d].component_upgrade_time)/this._calculate_total_time())*100}else{c[d]=(parseFloat(this._properties.activity_status[d].component_upgrade_time)/this._calculate_total_time())*100}}return c};rdx.reboot_view.prototype._calculate_total_time=function(){var c=0;for(var d=0;d<this._properties.activity_status.length;d++){c+=parseInt(this._properties.activity_status[d].component_upgrade_time)}return c};rdx.reboot_view.prototype._find_current_step=function(){var d=0;for(var c=0;c<this._properties.activity_status.length;c++){if((this._properties.activity_status[c].progress=="success")||(this._properties.activity_status[c].progress=="failed")){d=c+1}}return d};rdx.reboot_view.prototype._update_progress_bar_time=function(){var g=this._find_current_step();var l=0;if(this._current_progress_value<this._cummulative_value_of_progress[g]&&this._current_progress_value!=99){if(g==0){this._current_progress_value=this._current_progress_value+parseFloat(((this._cummulative_value_of_progress[g])/(parseFloat(this._properties.activity_status[g].component_upgrade_time))).toFixed(2))}else{this._current_progress_value=this._current_progress_value+parseFloat(((this._cummulative_value_of_progress[g]-this._cummulative_value_of_progress[g-1])/(parseFloat(this._properties.activity_status[g].component_upgrade_time))).toFixed(2))}if((g!=0)&&(this._properties.activity_status[g-1].progress=="success"||this._properties.activity_status[g-1].progress=="failed")&&(this._current_progress_value<this._cummulative_value_of_progress[g-1])){var m=0;this._current_progress_value=this._cummulative_value_of_progress[g-1];for(var n=0;n<g;n++){m+=this._original_step_duration_array[n];this._current_time_remaining=this._total_time-m}}if(parseInt(this._current_time_remaining)>1){this._current_time_remaining--}if((parseInt(this._current_time_remaining)>1&&parseInt(this._current_time_remaining)<5)&&this._properties.activity_status[g].progress=="progress"){this._current_time_remaining=5;this._current_progress_value=99}progress_bar_width_percent=this._current_progress_value+"%";this._progress_indicator.css({width:progress_bar_width_percent});this._time.text(" "+rdx.utils.convert_seconds_to_minutes(this._current_time_remaining,true));if(this._properties.final_status=="failed"){clearInterval(this._progress_interval)}}else{this._actual_step_duration_array[g]++}if(this._actual_step_duration_array[g]-this._original_step_duration_array[g]>this._properties.delay_for_device_status_check){var h=rdx.utils.convert_seconds_to_minutes((this._original_step_duration_array[g]+this._properties.delay_for_device_status_check),true);this._current_status_text.text(rdx.i18n.get_string("rdx.server_down_message_severe",{server_down_time:h}));this._wait_message.css({visibility:"hidden"});if(rdx.utils.is_defined(this._progress_bar)){this._progress_bar.css({visibility:"hidden"})}if(rdx.utils.is_defined(this._time_remaining)){this._time_remaining.css({visibility:"hidden"})}var o=this._div_for_error_image.css("backgroundImage");$(".item.in_progress",".details_log").css({backgroundImage:o});$(".item.pending",".details_log").css({backgroundImage:o});if(rdx.utils.is_defined(this._reboot_timer_interval)){clearInterval(this._reboot_timer_interval)}if(rdx.utils.is_defined(this._progress_interval)){clearInterval(this._progress_interval)}}};rdx.tabular_page=function(b){this._DEFAULT_PROPERTIES={tabular_page_view:null,view:null,tab_link:null,base_view:null,resource_for_operation:null,tab_class_name:null,tab_title:null,tab_content_container:null,tab_content_rendered:false,tab_content_variable:false,tab_navigate_callback:null,tab_content_renderer_callback:null,formatted_data:null,app_context_data:null,draft_data:null,enable_skip:false,skip_count:1};this._properties=$.extend({},this._DEFAULT_PROPERTIES,b)};rdx.tabular_page.prototype.get_tabular_page_view=function(){return this._properties.tabular_page_view};rdx.tabular_page.prototype.set_tabular_page_view=function(b){this._properties.tabular_page_view=b};rdx.tabular_page.prototype.get_view_dfn=function(){return this._properties.view};rdx.tabular_page.prototype.set_view_dfn=function(b){this._properties.view_dfn=b};rdx.tabular_page.prototype.get_view_properties=function(d){var c=this.get_view_dfn();if(rdx.utils.is_defined(c.property)){return c.property}};rdx.tabular_page.prototype.get_tab_link=function(){return this._properties.tab_link};rdx.tabular_page.prototype.set_tab_link=function(b){this._properties.tab_link=b};rdx.tabular_page.prototype.get_resource_for_operation=function(){return this._properties.resource_for_operation};rdx.tabular_page.prototype.set_resource_for_operation=function(b){this._properties.resource_for_operation=b};rdx.tabular_page.prototype.get_exec_service_result=function(){return this._properties.exec_service_result};rdx.tabular_page.prototype.set_exec_service_result=function(b){this._properties.exec_service_result=b};rdx.tabular_page.prototype.get_tab_navigate_callback=function(){return this._properties.tab_navigate_callback};rdx.tabular_page.prototype.set_tab_navigate_callback=function(b){this._properties.tab_navigate_callback=b};rdx.tabular_page.prototype.get_tab_class_name=function(){return this._properties.tab_class_name};rdx.tabular_page.prototype.set_tab_class_name=function(b){this._properties.tab_class_name=b};rdx.tabular_page.prototype.get_tab_title=function(){return this._properties.tab_title};rdx.tabular_page.prototype.set_tab_title=function(b){this._properties.tab_title=b};rdx.tabular_page.prototype.get_base_view=function(){return this._properties.base_view};rdx.tabular_page.prototype.set_base_view=function(b){this._properties.base_view=b};rdx.tabular_page.prototype.get_tab_content_container=function(){return this._properties.tab_content_container};rdx.tabular_page.prototype.set_tab_content_container=function(b){this._properties.tab_content_container=b};rdx.tabular_page.prototype.get_tab_content_rendered=function(){return this._properties.tab_content_rendered};rdx.tabular_page.prototype.set_tab_content_rendered=function(b){this._properties.tab_content_rendered=b};rdx.tabular_page.prototype.get_tab_content_variable=function(){return this._properties.tab_content_variable};rdx.tabular_page.prototype.set_tab_content_variable=function(b){this._properties.tab_content_variable=b};rdx.tabular_page.prototype.get_tab_content_renderer_callback=function(){return this._properties.tab_content_renderer_callback};rdx.tabular_page.prototype.set_tab_content_renderer_callback=function(b){this._properties.tab_content_renderer_callback=b};rdx.tabular_page.prototype.get_formatted_data=function(){return this._properties.formatted_data};rdx.tabular_page.prototype.set_formatted_data=function(b){this._properties.formatted_data=b};rdx.tabular_page.prototype.get_app_context_data=function(){return this._properties.app_context_data};rdx.tabular_page.prototype.set_app_context_data=function(b){this._properties.app_context_data=b};rdx.tabular_page.prototype.get_draft_data=function(){return this._properties.draft_data};rdx.tabular_page.prototype.set_draft_data=function(b){this._properties.draft_data=b};rdx.tabular_page.prototype.is_skip_enabled=function(){return this._properties.enable_skip};rdx.tabular_page.prototype.set_skip_page=function(b){this._properties.enable_skip=b};rdx.tabular_page.prototype.get_skip_count=function(){return this._properties.skip_count};rdx.tabular_page.prototype.set_skip_count=function(b){this._properties.skip_count=b};rdx.tabular_page_view_controller=function(n,o,l,g,m,h){this._tabular_page_view=n;this._parent=o;this._base_view=n.get_base_view();this._model_executor_service=null;this._mask_id=rdx.mask.get_id();this._success_callback=rdx.utils.is_defined(l)?l:new rdx.callback();this._failure_callback=rdx.utils.is_defined(g)?g:new rdx.callback();this._inline_file_upload=rdx.utils.is_defined(m)?m:true;this._multiple_resource=rdx.utils.is_defined(h)?h:false};rdx.tabular_page_view_controller.prototype.submit_data=function(v){if(this._inline_file_upload){if(this._multiple_resource){var t=new rdx.callback(this,this._submit_multiple_resource_data,[v])}else{var t=new rdx.callback(this,this._submit_form_field_changes,[v])}var x=new rdx.file_upload_controller(t,this._tabular_page_view);var y=this._tabular_page_view.get_tabular_pages();for(var u=0;u<y.length;u++){var o=y[u];if(o.get_tab_content_rendered()==true){var p=o.get_base_view();var z=p.get_view().get_form();x.add_form(z);var s=z.get_embedded_views();for(var w=0;w<s.length;w++){if(rdx.utils.is_not_defined(s[w].get_component())||!rdx.utils.is_function(s[w].get_component().get_form)){continue}var q=s[w].get_component().get_form();if(rdx.utils.is_not_defined(q)){continue}x.add_form(q)}}}x.do_operation()}else{if(this._multiple_resource){new rdx.callback(this,this._submit_multiple_resource_data,[v]).call_back()}else{new rdx.callback(this,this._submit_form_field_changes,[v]).call_back()}}};rdx.tabular_page_view_controller.prototype._submit_form_field_changes=function(z){var A=this._get_tabular_page_view();var u=false;if(rdx.utils.is_defined(this._tabular_page_view._properties)&&this._tabular_page_view._properties.standalone_mode){u=true}this._mask();this._base_view.set_view_state(rdx.view_constants.view_state.PASSIVE);var s=A._get_tabs_pages_data();var y=A._get_resource();var x=rdx.view_utils.get_model_method(A._view_definition);var w=rdx.view_utils.get_action(A._view_definition);var q=this._get_operation_param(null,null,x,w,y,s);s=this._process_resource_for_operation(q);q.set_resource_for_operation(s);if(rdx.utils.is_defined(this._tabular_page_view._properties)&&rdx.utils.is_defined(this._tabular_page_view._properties.callback_before_operation)){q=this._tabular_page_view._properties.callback_before_operation.call_back([q,z]);if(q===false){this._base_view.set_view_state(rdx.view_constants.view_state.ACTIVE);return}}if(rdx.utils.is_defined(this._tabular_page_view._properties)&&this._tabular_page_view._properties.standalone_mode){return}var p=false;if(rdx.utils.is_defined(this._tabular_page_view._properties)){if(rdx.utils.is_defined(this._tabular_page_view._properties.model_executor_continue_on_error)){p=true}}var t=new rdx.callback(this,this.model_operation_callback,[true]);var v=new rdx.callback(this,this.model_operation_callback,[false]);var B=new rdx.model_executor_service(t,v,p);B.add(q.get_model_method(),q.get_resource_defn(),q.get_resource_for_operation(),q.get_action(),q.get_param(),this._parent,q.get_resource_context(),q.get_continue_on_error());if(rdx.utils.is_object_not_empty(s)){B.execute()}};rdx.tabular_page_view_controller.prototype._submit_multiple_resource_data=function(E){var F=this._get_tabular_page_view();this._mask();this._base_view.set_view_state(rdx.view_constants.view_state.PASSIVE);var v=F._get_tabs_pages_data();var C=F._get_resource();var B=rdx.view_utils.get_model_method(F);var A=rdx.view_utils.get_action(F);var u=this._get_operation_param(null,null,B,A,C,v);u.set_resource_for_operation(v);if(rdx.utils.is_defined(this._tabular_page_view._properties)&&rdx.utils.is_defined(this._tabular_page_view._properties.callback_before_operation)){u=this._tabular_page_view._properties.callback_before_operation.call_back([u,E]);if(u===false){this._base_view.set_view_state(rdx.view_constants.view_state.ACTIVE);return}}if(rdx.utils.is_defined(this._tabular_page_view._properties)&&this._tabular_page_view._properties.standalone_mode){return}var G=F.get_tabular_pages();var w=new rdx.callback(this,this.model_operation_callback,[true]);var z=new rdx.callback(this,this.model_operation_callback,[false]);var H=new rdx.model_executor_service(w,z,false);for(var y=0;y<G.length;y++){var I=G[y];if(I.get_tab_content_rendered()==true){var J=I.get_base_view();var x=J.get_view_definition();var D=I.get_resource_for_operation();var u=this._get_operation_param(null,null,rdx.view_utils.get_model_method(view_definition),rdx.view_utils.get_action(view_definition),C,D);H.add(u.get_model_method(),u.get_resource_defn(),u.get_resource_for_operation(),u.get_action(),u.get_param(),this._parent,u.get_resource_context(),u.get_continue_on_error())}}H.execute()};rdx.tabular_page_view_controller.prototype.model_operation_callback=function(e,d){this._base_view.set_view_state(rdx.view_constants.view_state.ACTIVE);this._unmask();if(rdx.utils.is_defined(this._base_view.get_view_definition().view_properties.callback_after_operation)){var f=new rdx.configure_view_operation_params({return_call_back:new rdx.callback(this,this._resume_callback_after_operation,[e,d])});this._base_view.get_view_definition().view_properties.callback_after_operation.call_back([{status:d,params:f,result:e}])}else{this._finish_model_operation(e,d)}};rdx.tabular_page_view_controller.prototype._resume_callback_after_operation=function(f,e,d){this._finish_model_operation(e,d)};rdx.tabular_page_view_controller.prototype._finish_model_operation=function(d,c){if(c){this._success_callback.call_back([d]);this._tabular_page_view._finish_view()}else{rdx.page.show_notification(d.get_error_message(),rdx.ERROR)}};rdx.tabular_page_view_controller.prototype._get_tabular_page_view=function(){return this._tabular_page_view};rdx.tabular_page_view_controller.prototype._get_operation_param=function(m,n,h,p,l,q){var o={resource_defn:l,resource_for_operation:q,callback_on_success:m,callback_on_failure:n,model_method:h,action:p,resource_context:{view_definition:this._tabular_page_view._view_definition,view:this},return_call_back:null};return new rdx.configure_view_operation_params(o)};rdx.tabular_page_view_controller.prototype._process_resource_for_operation=function(x){var u=x.get_resource_for_operation();var o={};for(var q=0;q<u.length;q++){var n=u[q];var v=[];for(var t in n){if(rdx.utils.is_not_defined(n[t])){continue}if(!(n[t] instanceof rdx.view_component_adapter_data)){continue}var s=n[t];s.process_inner_view_data(x,v);if(rdx.utils.is_array(v)){delete u[q][t];u[q][t]=[];for(var w=0;w<v.length;w++){var p=v[w].get_resource_for_operation();u[q][t].push(p)}}}o=$.extend(null,o,u[q])}return o};rdx.tabular_page_view_controller.prototype._unmask=function(){rdx.mask.unmask_component(this._parent,this._mask_id)};rdx.tabular_page_view_controller.prototype._mask=function(){rdx.mask.mask_component(this._parent,this._mask_id)};rdx.tabular_page_view=function(h,e,g,f){this._parent=h;this._base_view=f;this._resource=g;this.is_back_button_required=true;this._original_fetched_data={};this._DEFAULT_PROPERTIES={submit_operation:{model_method:rdx.model_constants.ADD},custom_class_names:null,help_id:null,show_back_button:true,inline_file_upload:true,multiple_resource:false,save_exit_button:true,save_exit_label:"rdx.tabular_save_exit_button",independent_pages:false,finish_handler_callback:null,add_cancel_button:true};this._view_definition=e;this._properties=$.extend({},this._DEFAULT_PROPERTIES,this._view_definition.view_properties);this._tabs_container=null;this._tabular_pages=[];this._tabs_pages_data=[];this._current_tab_index=0;this._previous_tab_index=-1;this._back_button=null;this._finish_button=null;this._save_button=null;this._cancel_button=null;this._skip_button=null;this._next_button=null;this.tabular_page_view_controller=new rdx.tabular_page_view_controller(this,this._parent,null,null,this._properties.inline_file_upload,this._properties.multiple_resource);this._submit_handler_callback=new rdx.callback(this.tabular_page_view_controller,this.tabular_page_view_controller.submit_data)};rdx.tabular_page_view.prototype=new rdx.abstract_view();rdx.tabular_page_view.prototype.make_view=function(){this._base_view.remove_decorator();this._tabs_container=$("<div>").addClass("tabular_page_view").appendTo(this._parent);if(this._properties.custom_class_names){this._tabs_container.addClass(this._properties.custom_class_names)}this.render_tab_links(this._tabs_container);this._add_bottom_navigation_bar(this._tabs_container);this.render_tab_content(this._current_tab_index);this._update_navigation_bar(this._current_tab_index);this._base_view.set_view_state(rdx.view_constants.view_state.ACTIVE)};rdx.tabular_page_view.prototype.render_tab_links=function(y){var u=$("<div>").addClass("tabular_page_view_tabs").appendTo(y);var p=$("<div>").addClass("tabular_page_view_center_panel").appendTo(y);if(rdx.utils.is_defined(this._view_definition.tabs)){var t=this._view_definition.tabs;var v=function(a,d,b,c){this.tabular_page_view=null;this.view=d;this.tab_link=b;this.tab_content_container=c};for(var x=0;x<t.length;x++){var s=rdx.utils.get_view(t[x].view);var z=$("<div>").addClass("tabular_page_view_tab").appendTo(u);if(rdx.utils.is_defined(t[x].tab_class_name)){z.addClass(t[x].tab_class_name);var A=$('<span class="tab_icon">').appendTo(z)}var w=$('<span class="tab_name">').text(t[x].tab_title);z.append(w);var q=$("<div>").addClass("tabular_page_container").addClass("hide").appendTo(p);if(rdx.utils.is_defined(t[x].content_class_name)){q.addClass(t[x].content_class_name)}var B=$.extend(null,t[x],new v(this,s,z,q));this._tabular_pages[x]=new rdx.tabular_page(B);this.register_events_to_tab_links(z,x)}}};rdx.tabular_page_view.prototype.render_tab_content=function(t){var q=this._tabular_pages[t];var n=q.get_tab_link();n.addClass("active");var w=q.get_view_dfn();if(rdx.utils.is_not_defined(w.view_properties)){w.view_properties={}}var u={add_title:false,add_create_button:false,add_close_button:false,submit_operation:rdx.model_constants.NOOP,add_border:false,toggle_view:false,ignore_key_press_events:true};w.view_properties=$.extend(true,w.view_properties,u);var o=q.get_tab_content_container().removeClass("hide");var s=q.get_tab_content_renderer_callback();var p;if(rdx.utils.is_defined(s)){var v={tabular_page_view:this,current_tab_index:t,parent:o,original_fetched_data:this._original_fetched_data};p=s.call_back([v])}else{p=new rdx.base_view(o,w);if(rdx.utils.is_object_not_empty(this._original_fetched_data)){var x=p.get_view_context();x.set_url_params({is_data_set:true},this._original_fetched_data)}}if(rdx.utils.is_function(p.get_view().set_is_back_button_required)){p.get_view().set_is_back_button_required(false)}q.set_base_view(p);p.prepare_view();q.set_tab_content_rendered(true)};rdx.tabular_page_view.prototype._add_bottom_navigation_bar=function(e){var f=$("<div>").addClass("tabs_bottom_navigation_panel").appendTo(e);this._back_button=rdx.utils._get_button(rdx.i18n.get_string("rdx.back"),rdx.i18n.get_string("rdx.tabular_back_button_tooltip")," tabular_page_navigation_button tabular_grey_button tabular_back_button");this._back_button.addClass("hide");this._next_button=rdx.utils._get_button(rdx.i18n.get_string("rdx.tabular_next_button"),rdx.i18n.get_string("rdx.tabular_next_button_tooltip")," tabular_page_navigation_button tabular_page_blue_button tabular_next_button");this._finish_button=rdx.utils._get_button(rdx.i18n.get_string("rdx.tabular_execute_button"),rdx.i18n.get_string("rdx.tabular_execute_button_tooltip")," tabular_page_navigation_button tabular_page_blue_button");this._finish_button.addClass("hide");this._cancel_button=rdx.utils._get_button(rdx.i18n.get_string("rdx.tabular_cancel_button"),rdx.i18n.get_string("rdx.tabular_finish_button_tooltip"),"tabular_page_navigation_button tabular_grey_button");this._skip_button=rdx.utils._get_button(rdx.i18n.get_string("rdx.skip_label"),rdx.i18n.get_string("rdx.tabular_skip_button_tooltip"),"tabular_page_navigation_button tabular_grey_button");this._skip_button.addClass("hide");if(this._properties.save_exit_button){this._save_button=$("<div>").addClass("tabular_save_exit_button_container");var d=rdx.utils._get_button(rdx.i18n.get_string(this._properties.save_exit_label),rdx.i18n.get_string("rdx.tabular_save_exit_button_tooltip"),"tabular_page_navigation_button tabular_grey_button").appendTo(this._save_button)}this._cancel_button.bind(rdx.events.CLICK,{tabular_page_view:this},function(a){a.data.tabular_page_view.cancel_view_operation()});this._back_button.bind(rdx.events.CLICK,{tabular_page_view:this},function(a){var b=a.data.tabular_page_view;if(b._current_tab_index===0){b.cancel_view_operation()}else{b.handle_navigation(b._previous_tab_index,false)}});this._next_button.bind(rdx.events.CLICK,{tabular_page_view:this},function(a){var b=a.data.tabular_page_view;b.handle_navigation(b._current_tab_index+1,true)});this._skip_button.bind(rdx.events.CLICK,{tabular_page_view:this},function(c){var l=c.data.tabular_page_view;var b=l._current_tab_index+l.get_tabular_page(l._current_tab_index).get_skip_count();for(var m=l._current_tab_index;m<b;m++){var a=l.get_tabular_page(m);a.set_resource_for_operation(null);l._set_tabs_pages_data(null,m)}l._perform_operation_after_save(l._current_tab_index,b,true,true)});if(this._properties.save_exit_button){this._save_button.bind(rdx.events.CLICK,{tabular_page_view:this},function(a){var b=a.data.tabular_page_view;b.submit_data_handler(b._current_tab_index,true)})}this._finish_button.bind(rdx.events.CLICK,{tabular_page_view:this},function(a){var b=a.data.tabular_page_view;b.submit_data_handler(b._current_tab_index)});if(this._properties.add_cancel_button){f.append(this._cancel_button)}f.append(this._back_button);f.append(this._next_button);f.append(this._skip_button);f.append(this._finish_button);if(this._properties.save_exit_button){f.append(this._save_button)}};rdx.tabular_page_view.prototype._validate_tabular_page_data=function(e,g){if(this._properties.independent_pages===true||(rdx.utils.is_defined(g)&&e>g)){return true}var f=this.get_tabular_page(e);var h=f.get_base_view().get_view().get_form();if(rdx.utils.is_defined(h)){return h.validate()}};rdx.tabular_page_view.prototype._save_tabular_page_data=function(l,n,t,q,m){if(!this._validate_tabular_page_data(l,n)){return false}var o=this.get_tabular_page(l);var s=this._get_resource_for_operation(o);o.set_resource_for_operation(s);if(rdx.utils.is_defined(o.get_tab_navigate_callback())){var p=new rdx.callback_params({return_callback:new rdx.callback(this,this._set_current_tab_page_data,[l,n,t,q,m]),tabular_page_view:this,current_tab_index:l,next_tab_index:n,is_valid:true});o.get_tab_navigate_callback().call_back([p]);if(rdx.utils.is_defined(m)&&m){return p._properties.is_valid}}else{this._set_tabs_pages_data(s,l);if(rdx.utils.is_defined(m)&&m){return}else{if(l!==(this._get_tabs_length()-1)||(rdx.utils.is_defined(t)&&!t)){this._perform_operation_after_save(l,n,t,q)}}}};rdx.tabular_page_view.prototype._set_current_tab_page_data=function(o,h,m,q,p,l){var n=o?rdx.utils.get_formatted_response(o):this.get_tabular_page(h).get_resource_for_operation();this.get_tabular_page(h).set_resource_for_operation(n);this._set_tabs_pages_data(n,h);if(rdx.utils.is_not_defined(l)){this._perform_operation_after_save(h,m,q,p)}};rdx.tabular_page_view.prototype._perform_operation_after_save=function(f,g,e,h){this._update_active_tab_link(f);this.get_tabular_page(f).get_tab_content_container().addClass("hide");if(h){this.set_previous_tab_index(f);this.set_current_tab_index(g)}else{this.set_current_tab_index(g);this.set_previous_tab_index(g-1)}this._update_navigation_bar(this._current_tab_index);this._display_tabular_page_content(this._current_tab_index,e)};rdx.tabular_page_view.prototype._display_tabular_page_content=function(h,l){var q=this.get_tabular_page(this._current_tab_index);var m=q.get_tab_content_variable();var n=q.get_tab_content_rendered();if(n){if(m&&l){var p=q.get_base_view();q.set_draft_data({resource_for_operation:q.get_resource_for_operation(),formatted_data:q.get_formatted_data()});p.destroy_view();q.set_resource_for_operation(null);q.set_base_view(null);this.render_tab_content(this._current_tab_index)}else{var o=q.get_tab_link();o.addClass("active");q.get_tab_content_container().removeClass("hide")}}else{this.render_tab_content(this._current_tab_index)}};rdx.tabular_page_view.prototype._update_active_tab_link=function(e){var f=this.get_tabular_page(e);var d=f.get_tab_link();d.removeClass("active");if(e!=this._get_tabs_length()-1){d.addClass("done")}};rdx.tabular_page_view.prototype.handle_navigation=function(c,d){if(this._save_tabular_page_data(this._current_tab_index,c,d)===false){return}};rdx.tabular_page_view.prototype.submit_data_handler=function(d,e){if(this._properties.independent_pages){this._finish_view();return}if(this._save_tabular_page_data(d,null,null,null,e)===false){return}var f=e?{save_exit:true}:null;this._get_submit_handler_callback().call_back([f])};rdx.tabular_page_view.prototype._update_navigation_bar=function(e){var d=this._tabular_pages[e];var f=this._properties.navigation_handler?this._properties.navigation_handler.call_back():true;if(f){this._next_button.attr("disabled",false);this._next_button.addClass("tabular_page_blue_button")}else{this._next_button.removeClass("tabular_page_blue_button");this._next_button.attr("disabled",true)}if(e===0){if(this._properties.add_cancel_button){this._back_button.addClass("hide")}else{this._back_button.removeClass("hide")}this._finish_button.addClass("hide");this._next_button.removeClass("hide");this._skip_button.addClass("hide")}else{if(e>0&&e<this._get_tabs_length()-1){this._next_button.removeClass("hide");this._back_button.removeClass("hide");this._finish_button.addClass("hide");if(this.get_tabular_page(this._current_tab_index).is_skip_enabled()===true){this._skip_button.removeClass("hide")}else{this._skip_button.addClass("hide")}}}if(e==this._get_tabs_length()-1){this._next_button.addClass("hide");this._back_button.removeClass("hide");this._finish_button.removeClass("hide");this._skip_button.addClass("hide")}if(rdx.utils.is_defined(this._save_button)&&this._properties.save_exit_button===true){if(rdx.utils.is_defined(d._properties.save_exit_button)&&d._properties.save_exit_button===false){this._save_button.addClass("hide")}else{this._save_button.removeClass("hide")}}};rdx.tabular_page_view.prototype._get_resource_for_operation=function(t){var l=t.get_base_view();var p=rdx.utils.is_defined(l.get_view().get_form)?l.get_view().get_form():null;if(!p){return{}}var o=l.get_resource();var q={};if(rdx.utils.is_defined(l.get_view_definition())){q=l.get_view_definition().view_properties}if(rdx.utils.is_defined(q.send_complete_form_data)&&q.send_complete_form_data){var s=rdx.form_utils.get_resource_for_operation(p,o,null,true)}else{var s=rdx.form_utils.get_resource_for_operation(p,o,null)}var n={};var m=false;$.each(s,function(a,b){if((b instanceof rdx.view_component_adapter_data)){m=true;return false}});if(m){n=this._get_formatted_resource_for_operation(l,s)}t.set_formatted_data(n);return s};rdx.tabular_page_view.prototype._get_formatted_resource_for_operation=function(h,o){var l=$.extend(true,{},o);var g=h.get_view().get_form_controller();var m=h.get_resource();var n=g._get_operation_param(null,null,null,null,m,[l]);this.tabular_page_view_controller._process_resource_for_operation(n);return l};rdx.tabular_page_view.prototype.get_current_tab_index=function(){return this._current_tab_index};rdx.tabular_page_view.prototype.update_tab_index=function(d,c){this.set_current_tab_index(d);this.set_previous_tab_index(c)};rdx.tabular_page_view.prototype.set_current_tab_index=function(b){this._current_tab_index=b};rdx.tabular_page_view.prototype._get_tabs_pages_data=function(){return this._tabs_pages_data};rdx.tabular_page_view.prototype._get_current_tab_saved_data=function(b){return this._tabs_pages_data[b]};rdx.tabular_page_view.prototype._get_resource=function(){return this._resource};rdx.tabular_page_view.prototype._set_tabs_pages_data=function(c,d){this._tabs_pages_data[d]=c};rdx.tabular_page_view.prototype.get_tabular_pages=function(){return this._tabular_pages};rdx.tabular_page_view.prototype.set_tabs_pages_data=function(c,d){this._tabs_pages_data[d]=c};rdx.tabular_page_view.prototype.get_tabular_page=function(b){return this._tabular_pages[b]};rdx.tabular_page_view.prototype.get_is_back_button_required=function(){return this.is_back_button_required};rdx.tabular_page_view.prototype.set_is_back_button_required=function(b){this.is_back_button_required=b};rdx.tabular_page_view.prototype.cancel_view_operation=function(){var b=rdx.view_utils.get_model_method(this._view_definition);if(rdx.utils.is_defined(this._properties.cancel_prompt)&&(this._current_tab_index!==0&&b==rdx.model_constants.ADD)){rdx.message_box.confirm(rdx.i18n.get_string(this._properties.cancel_prompt),new rdx.callback(this,this._cancel_view))}else{this._cancel_view()}};rdx.tabular_page_view.prototype._cancel_view=function(){if(rdx.utils.is_defined(this._properties.cancel_handler_callback)){this._properties.cancel_handler_callback.call_back();this._base_view.destroy_view({},false);return}this._base_view.destroy_view({},false)};rdx.tabular_page_view.prototype._finish_view=function(){if(rdx.utils.is_defined(this._properties.finish_handler_callback)){this._properties.finish_handler_callback.call_back();this._base_view.destroy_view({},false);return}this._base_view.destroy_view({},false)};rdx.tabular_page_view.prototype.destroy_view=function(){this._tabular_pages={};this._tabs_container.empty();this._tabs_container.remove()};rdx.tabular_page_view.prototype.close_view=function(b){this._cancel_view()};rdx.tabular_page_view.prototype.register_events_to_tab_links=function(c,d){c.bind(rdx.events.CLICK,{tabular_page_view:this,tab_index:d},function(a){var b=a.data.tabular_page_view;var g=a.data.tab_index;var h=true;if(b._current_tab_index>g){h=false}b.handle_navigation(g,h)})};rdx.tabular_page_view.prototype.get_base_view=function(){return this._base_view};rdx.tabular_page_view.prototype._get_submit_handler_callback=function(){return this._submit_handler_callback};rdx.tabular_page_view.prototype._get_tabs_length=function(){return this._tabular_pages.length};rdx.tabular_page_view.prototype.get_is_back_button_required=function(){return this.is_back_button_required};rdx.tabular_page_view.prototype.set_is_back_button_required=function(b){this.is_back_button_required=b};rdx.tabular_page_view.prototype.get_resource_response_arrived=function(d){this._original_fetched_data=rdx.utils.get_formatted_response(d);if(this._properties.independent_pages){return true}if(rdx.utils.is_defined(this._original_fetched_data)&&rdx.utils.is_object_not_empty(this._original_fetched_data)){var c=this.get_tabular_page(0);c.get_base_view().get_view().get_form().initialize(this._original_fetched_data)}};rdx.tabular_page_view.prototype.get_tabular_page_view_controller=function(){return this.tabular_page_view_controller};rdx.tabular_page_view.prototype.do_toggle_view=function(){if(this._view_definition.view_properties.toggle_view===false){return false}return true};rdx.tabular_page_view.prototype.get_previous_tab_index=function(){return this._previous_tab_index};rdx.tabular_page_view.prototype.set_previous_tab_index=function(b){this._previous_tab_index=b};if(typeof(rdx)!=="undefined"){rdx.app_search=new function(){this.label_obj={};this.title_obj={};this.view_info_obj={};this.tabjson={};this.finalobj={};this.opjsonobj={};this.suggestions_obj={};this._parent_div=null;this._close_search_button=null;this._search_div=null;this._search_component=null;this._search_input=null;this._search_description_div=null;this._search_result_div=null;this._search_description_parent_div=null;this._search_result_parent_div=null;this._wrap_suggestion_description=null;this._suggestions_parent_div=null;this._no_result_span=null;this._search_phrase="";this.app_search_flag=true;this.div_title="";this.div_subtitle="";this._active_views={};this.states={};this.states.IDLE="IDLE";this.states.SEARCHING="SEARCHING";this.current_state=null;this.init=function(){var c=rdx.views;this.current_state=this.states.IDLE;for(var d in c){if(c.hasOwnProperty(d)){if(rdx.utils.is_defined(c[d]["name"])&&(rdx.utils.is_not_empty(c[d]["name"]))){this.build_label_map(c[d],d);if(c[d]["type"]=="DETAIL_VIEW"){this.update_label_view_map_for_detail_configview(c[d],d)}else{if(c[d]["type"]=="INFORMATION_VIEW"||c[d]["type"]=="FEATURE_WELCOME_VIEW"){this.update_view_map_for_info_feature_view(c[d],d)}else{if(c[d]["type"]=="ONE_PAGE_WIZARD_VIEW"){this.update_view_map_for_op_view(c[d],d)}else{if(c[d]["type"]=="TABBED_VIEW"){this.update_label_view_map_for_tabbed_view(c[d],d)}else{if(c[d]["type"]=="OVERVIEW_VIEW"){this.update_label_view_map_for_overview(c[d],d)}}}}}}}}if(rdx.utils.is_defined(rdx.get_tree()._tree_nodes)){this.build_tree_map(rdx.get_tree()._tree_nodes)}this.show_app_search_option_in_header()};this.add_support_info=function(){if(rdx.utils.is_defined(rdx.views)){$.each(rdx.views,function(d,c){if(rdx.utils.is_defined(c)&&rdx.utils.is_defined(d)){c.name=d}})}};this.update_label_map=function(d,e,f){if(rdx.utils.is_not_empty(d)){if(rdx.utils.is_not_defined(f[d])){f[d]=[]}if(jQuery.inArray(e,f[d])==-1){f[d].push(e)}}};this.build_tree_map=function(d){for(var e=0;e<d.length;e++){if(d[e]["_properties"]["nodes"].length>0){var f=rdx.i18n.get_string(d[e]["_properties"]["name"]);if(rdx.utils.is_defined(d[e]["_properties"]["view"])){this.update_label_map(f,d[e]["_properties"]["view"]["name"],this.label_obj);if(rdx.utils.is_defined(d[e]["_properties"]["view"])&&d[e]["_properties"]["view"]["type"]=="TABBED_VIEW"){this.update_label_map(f,d[e]["_properties"]["view"]["tabs"][0]["view"]["name"],this.label_obj)}}this.build_tree_map(d[e]["_properties"]["nodes"])}else{var f=rdx.i18n.get_string(d[e]["_properties"]["name"]);if(rdx.utils.is_defined(d[e]["_properties"]["view"])&&d[e]["_properties"]["view"]["type"]=="TABBED_VIEW"){this.update_label_map(f,d[e]["_properties"]["view"]["tabs"][0]["view"]["name"],this.label_obj)}else{if(rdx.utils.is_defined(d[e]["_properties"]["view"])){this.update_label_map(f,d[e]["_properties"]["view"]["name"],this.label_obj)}}}}};this.get_active_views=function(){return this._active_views};this.update_active_view_list=function(d,f){var e=d.name;if(f){var e=d.name;if(rdx.utils.is_defined(e)){if(this._active_views.hasOwnProperty(e)){delete this._active_views[e]}}}else{if(rdx.utils.is_defined(e)){if(this._active_views.hasOwnProperty(e)){delete this._active_views[e]}this._active_views[e]=d}}};this.get_div_title_subtitle=function(b){if($(b.target.parentElement.firstChild).hasClass("app_search_heading")){this.div_title=rdx.utils.is_defined(b.target.parentElement.firstChild.textContent)?b.target.parentElement.firstChild.textContent:b.target.parentElement.firstChild.innerText;this.div_subtitle=rdx.utils.is_defined(b.target.textContent)?b.target.textContent:b.target.innerText}else{this.div_title=rdx.utils.is_defined(b.target.parentElement.parentElement.firstChild.textContent)?b.target.parentElement.parentElement.firstChild.textContent:b.target.parentElement.parentElement.firstChild.innerText;this.div_subtitle=rdx.utils.is_defined(b.target.parentElement.textContent)?b.target.parentElement.textContent:b.target.parentElement.innerText}};this.options_click_event=function(p,m){m.get_div_title_subtitle(p);var n=m.div_title;var h=m.div_subtitle;var o=m.suggestions_obj[n];var q=$(p.target).attr("id");for(var l=0;l<o.length;){if(o[l]==h){m._search_phrase=h;m._openpage(o[l+1],m.finalobj,h);break}else{l=l+1}}if(l!=o.length){this.current_state=this.states.IDLE;if($(m._parent_div).hasClass("app_search_unhide")){$(m._parent_div).removeClass("app_search_unhide")}m._search_input.val("");m._search_input.val(""+h);$(m._parent_div).addClass("app_search_hide")}};this.options_hover_event=function(F,P){P._search_description_div.remove();var K=document.getElementsByClassName("app_search_hover_background_blue");if(K.length!=0){$(K[0]).removeClass("app_search_hover_background_blue")}P.get_div_title_subtitle(F);var z=P.div_title;var T=P.div_subtitle;if($(F.target.parentElement.firstChild).hasClass("app_search_heading")){$(F.target).addClass("app_search_hover_background_blue")}else{$(F.target.parentElement).addClass("app_search_hover_background_blue")}var L=P.suggestions_obj[z];var M=$("<div/>").addClass("app_search_description_heading");M.text(""+T.toUpperCase());for(var G=0;G<L.length;){if(L[G]==T){var N=L[G+1];var O=rdx.utils.get_view(N);var I=$("<div/>").addClass("app_search_description_div");var E=$("<div/>").addClass("app_search_description_div");if(rdx.utils.is_defined(rdx.i18n.get_string(O.view_properties.title))){E.text(""+rdx.i18n.get_string(O.view_properties.title))}var C=P.finalobj[N][0];C=C.replace(/([~!@#$%^&*()_+=`{}\[\]\|\\:;'<>,.\/?])+/g," / ").replace(/^(-)+|(-)+$/g,"");C=C.replace("NetScaler/","");I.text("Path :  "+C);if(rdx.utils.is_defined(O.resource_name)){var B=rdx.utils.get_resource(O.resource_name)}var Q=false;var S=$("<div/>").addClass("app_search_description_div");if(rdx.utils.is_defined(B)){for(var R in B.properties){var J=rdx.i18n.get_string(B.properties[R]["label"]);if(rdx.utils.is_defined(J)&&J.toLowerCase()==T.toLowerCase()){var S=$("<div/>").addClass("app_search_description_div");var H=rdx.i18n.get_string(B.properties[R]["tooltip"]);Q=true;if(P._search_description_div!=null){P._search_description_div.empty()}S.append(H)}}}if(P._search_description_div!=null){P._search_description_div.empty()}var D;var A=T+N;P._search_description_div.append(M);if(Q==true){P._search_description_div.append(S)}P._search_description_div.append(I);P._wrap_suggestion_description.append(P._search_description_div);break}else{G=G+2}}};this.create_suggestions_container=function(L){if(L._search_description_div!=null){L._search_description_div.empty();L._search_description_div.remove()}if(L._suggestions_parent_div!=null){L._suggestions_parent_div.empty();L._suggestions_parent_div.remove()}for(var x in L.suggestions_obj){if(x!="undefined"&&L.suggestions_obj.hasOwnProperty(x)){var C=$("<div />").addClass("app_search_suggestions_options");var N=$("<div />").addClass("app_search_heading app_search_suggestions_height");N.text(""+x);$(N).attr("spellcheck",false);C.append(N);var J=0;L._search_description_div=$("<div>").addClass("app_search_description");var A=$("<div/>").addClass("app_search_description_div");for(var z=0;z<L.suggestions_obj[x].length;){var D=L.suggestions_obj[x][z];var G=L.suggestions_obj[x][z+1];var M=L._search_input.val();var E=L._search_input.val().toLowerCase();var H=D.toLowerCase();var y=H.indexOf(E);var F;if(y!=-1){var B=0;var I="";for(var K=y;K<D.length;K++){if(B<M.length){I+=D[K];B++}}F=D.replace(I,"<b>"+I+"</b>")}var O=$("<div/>").addClass("app_search_suggestions_options app_search_suggestions_height app_search_left_padding");var P=D.toLowerCase()+G;$(O).attr("spellcheck",false);$(O).attr("id",G);O.append(F);O.attr("data-count",J);J++;C.append(O);O.bind(rdx.events.CLICK,{that:L},function(a){L.options_click_event(a,L)});$(O).hover(function(a){L.options_hover_event(a,L)});z=z+2;L._suggestions_parent_div.append(C)}}L._wrap_suggestion_description.append(L._suggestions_parent_div);L._parent_div.append(L._wrap_suggestion_description)}};this.show_search_toolbar=function(w){var x=this;var q=x.get_active_views();var u=rdx.utils.object_keys(q);var t=rdx.utils.object_keys(q).length-1;var v=u[t];var n=rdx.utils.get_view(v);var o=n.type;if((o!="CONFIGURE_VIEW"&&o!="ONE_PAGE_WIZARD_VIEW"&&o!="CUSTOM_VIEW")&&x._parent_div!=null){$(x._parent_div).removeClass("app_search_hide");$(x._parent_div).addClass("app_search_unhide");x.remove_pointer();rdx.mask.mask_dom_element($(document.body),"mask_bg");setTimeout(function(a){$(x._search_input).focus()},500)}else{if(x._parent_div==null&&(o!="CONFIGURE_VIEW"&&o!="ONE_PAGE_WIZARD_VIEW"&&o!="CUSTOM_VIEW")){x._parent_div=$("<div>").addClass("app_search");x._wrap_suggestion_description=$("<div>").addClass("app_search_parent_box_shadow");x._search_div=$("<div>").addClass("app_search_action-bar app_search_action_bar_shadow");x._search_div.width("675px");x._search_div.height("89%");x._search_component=$("<div>").addClass("search_component");x._search_input=$("<input />").attr({type:"text",placeholder:rdx.i18n.get_string("Search here"),id:"app_search_input_textbox"}).addClass("mshandler");x._search_component.append(x._search_input);var p=$("<div />").addClass("close-button");x._close_search_button=$("<input />").attr({type:"button"}).addClass("app_search_close");p.append(x._close_search_button);x._search_div.append(x._search_component);x._search_div.append(p);x._parent_div.append(x._search_div);$(document.body).append(x._parent_div);$(x._search_input).focus();$(x._search_input).attr("spellcheck",false);rdx.mask.mask_dom_element($(document.body),"mask_bg");x._suggestions_parent_div=$("<div>").addClass("app_search_suggestion");x._close_search_button.bind(rdx.events.CLICK,{that:x},function(a){var b=a.data.that;b._parent_div.remove();b._parent_div=null;b.app_search_flag=false;rdx.mask.unmask("mask_bg")});$("body").bind(rdx.events.CLICK,{that:x},function(a){if(!$(a.target).closest(".app_search").length&&!$(a.target).closest(".app_search_button_in_header_show").length){var b=a.data.that;if(rdx.utils.is_defined(b._parent_div)){rdx.mask.unmask("mask_bg");b.current_state=b.states.IDLE;if($(b._parent_div).hasClass("app_search_unhide")){$(b._parent_div).removeClass("app_search_unhide")}$(b._parent_div).addClass("app_search_hide")}}});x._search_input.bind(rdx.events.KEYUP,{that:x},function(a){if(a.keyCode==27){if(x._wrap_suggestion_description!=null){x._search_input.val("");x._wrap_suggestion_description.empty();x._wrap_suggestion_description.remove();if(x._no_result_span!=null){x._no_result_span.empty();x._no_result_span.remove();x._no_result_span=null}}}var c=function(){if(rdx.utils.is_not_empty(x._search_input.val())){x.suggestions_obj={};x.finalobj={};var d="^";var l=d+x._search_input.val();l=l.toLowerCase();var e=new RegExp(l);for(var f in x.label_obj){if(x.label_obj.hasOwnProperty(f)){key1=f.toLowerCase();if(x._search_input.val().toLowerCase().split(" ").length==1){var h=key1.split(" ");for(var g=0;g<h.length;g++){h[g]=h[g].toLowerCase();if(e.test(h[g])){x.create_suggestions(f,x)}}}if(e.test(key1)){x.create_suggestions(f,x)}}}if(rdx.utils.is_object_not_empty(x.suggestions_obj)){if(x._no_result_span!=null){x._no_result_span.empty();x._no_result_span.remove();x._no_result_span=null}x.create_suggestions_container(x)}else{x._wrap_suggestion_description.empty();x._wrap_suggestion_description.remove();if(x._no_result_span==null){x._no_result_span=$("<span> No Results </span>").addClass("no_results_css");x._parent_div.append(x._no_result_span)}}}else{if(x._wrap_suggestion_description!=null){x._wrap_suggestion_description.empty();x._wrap_suggestion_description.remove()}}};var b=(function(){var d=0;return function(e,f){clearTimeout(d);d=setTimeout(e,f)}})();b(function(){c()},500)})}else{var s=new rdx.notification_bar().show("Please complete this configuration and then proceed to search.",rdx.INFO)}}};this.create_suggestions=function(d,c){c._search_in_label_obj(d)};this.update_suggestions_map=function(g,h,f,e){if(rdx.utils.is_not_defined(e[g])){e[g]=[]}if(((jQuery.inArray(h,e[g])==-1)&&(jQuery.inArray(f,e[g])==-1))||(((jQuery.inArray(h,e[g])==-1)&&(jQuery.inArray(f,e[g])!=-1)))){e[g].push(h);e[g].push(f)}};this.split_tree_key=function(h,f,g){var l=h.split("^");l.reverse();var m;if(rdx.utils.is_defined(l[1])){m=l[1]+" / "+l[0]}else{m=l[0]}this.update_suggestions_map(m,f,g,this.suggestions_obj)};this.remove_pointer=function(){var b=$(".pointer_container");$(b).removeClass("pointer_container pointer_container shake");$(b).addClass("pointer stop")};this.add_pointer=function(h,l){if(rdx.utils.is_ie()){return}else{var g;var f=$("<div>").addClass("pointer_container pointer_container shake pointer_tab_margin");if(h=="DETAIL_VIEW"||h=="INFORMATION_VIEW"||h=="FEATURE_WELCOME_VIEW"){g='//div[contains(text(), "'+rdx.app_search._search_phrase+"\") and contains(@class,'table_th_label_div')]"}else{if(h=="OVERVIEW_VIEW"){g='//td/div/a[contains(text(), "'+l+'")]';$(f).removeClass("pointer_tab_margin")}else{if(h=="CONFIGURE_VIEW"||h=="ONE_PAGE_WIZARD_VIEW"){g='//td[@fieldfor="'+l+'" or @fieldfor="'+l+"*\"  and not(ancestor::*[contains(@style,'display: none;')])]";$(f).removeClass("pointer_tab_margin")}else{if(h=="TABBED_VIEW"){g='//a/span[contains(text(), "'+l+'")]'}}}}var m=document.evaluate(g,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;if(rdx.utils.is_defined(m)){$(m).append(f);$(m).bind(rdx.events.MOUSE_OVER,{},function(a){rdx.app_search.remove_pointer()})}else{if(h=="TABBED_VIEW"){g='//div[contains(text(), "'+rdx.app_search._search_phrase+'")]';if(rdx.utils.is_defined(m)){$(m).append(f);$(m).bind(rdx.events.MOUSE_OVER,{},function(a){rdx.app_search.remove_pointer()})}}}}};this._openpage=function(J,Q,P){var A=this.finalobj[J][0];this._search_phrase=P;if(this.finalobj[J][1]=="DETAIL_VIEW"||this.finalobj[J][1]=="INFORMATION_VIEW"||this.finalobj[J][1]=="FEATURE_WELCOME_VIEW"||this.finalobj[J][1]=="OVERVIEW_VIEW"){rdx.get_tree().select_node(A);this.add_pointer(this.finalobj[J][1],P)}else{if(this.finalobj[J][1]=="CONFIGURE_VIEW"||this.finalobj[J][1]=="ONE_PAGE_WIZARD_VIEW"){rdx.get_tree().select_node(A);var G=rdx.utils.get_view(J);var K=this.finalobj[J][2];G.view_properties.toggle_view=true;var S=new rdx.base_view(rdx.page.get_content(),G);var T=S.get_view_context();if(K=="DETAIL_VIEW"){T.set_url_params({is_data_set:true})}S.prepare_view();this.app_search_flag=false;this.add_pointer(this.finalobj[J][1],P)}else{if(this.finalobj[J][2]=="TABBED_VIEW"){var M=rdx.utils.get_view(Q[J][1]);rdx.get_tree().select_node(A);var B=rdx.global_title_bar.get_current_crumb().prev_crumb;var C=B.view_info.base_view.get_view();var S=B.view_info.base_view;var z;for(var D=0;D<M.tabs.length;D++){if(M.tabs[D]["view"]["name"]==J||M.tabs[D]["view"]["view_properties"]["help_id"]==J){z=M.tabs[D]["title"];if(z==undefined||z=="undefined"){z=rdx.i18n.get_string(M.tabs[D]["view"]["view_properties"]["title"])}break}}var R=S.get_view().get_tabbed_element(z);var I=S.get_view().get_tabbed_view_definition(z);C._tab_clicked(R,I);this.add_pointer(this.finalobj[J][2],P)}else{if(this.finalobj[J][2]=="ONE_PAGE_WIZARD_VIEW"){this.current_state=this.states.SEARCHING;var O=this.finalobj[J][0];var E=J;var L=this.finalobj[J][1];rdx.get_tree().select_node(O);var G=rdx.utils.get_view(L);var S=rdx.view_utils.show_view_in_full_page(G);S.prepare_view();for(var D=0;D<G.advanced_pages.length;D++){if(G.advanced_pages[D]["view"]==J||G.advanced_pages[D]["summary_view"]==J){var F=document.getElementsByClassName("op_wizard_adv_view_container")[D];var N=F.childNodes;var H=$("<div>").addClass("pointer_container pointer_container shake");$(N).append(H);$(window).scrollTop($(H).position().top)}}}}}}rdx.mask.unmask("mask_bg")};this.get_title_from_overview=function(g,m){for(var n=0;n<g.length;n++){if(rdx.utils.is_defined(g[n]["links"])){this.get_title_from_overview(g[n]["links"],m)}else{if(rdx.utils.is_defined(g[n]["title"])){var l=rdx.i18n.get_string(g[n]["title"]);if(rdx.utils.is_defined(l)){if(rdx.utils.is_defined(m.name)){var h=m.name;if(rdx.utils.is_defined(m.__tree_key)){this.update_view_map(h,m.__tree_key,"DETAIL_VIEW","OVERVIEW_VIEW",this.view_info_obj);if(rdx.utils.is_defined(g[n]["view"])||rdx.utils.is_defined(g[n]["click_handler_callback"])){var o;if(rdx.utils.is_defined(g[n]["view"])){if(rdx.utils.is_defined(g[n]["view"]["name"])){o=g[n]["view"]["name"]}}else{if(rdx.utils.is_defined(g[n]["view"])){o=g[n]["view"]}}this.update_label_map(l,h,this.label_obj);this.update_view_map(o,m.__tree_key,"CONFIGURE_VIEW","OVERVIEW_VIEW",this.view_info_obj)}}}}}else{this.get_title_from_overview(g[n],m)}}}};this.update_label_view_map_for_overview=function(d,c){this.update_view_map(c,d.__tree_key,d.type,"OVERVIEW_VIEW",this.view_info_obj);this.get_title_from_overview(d.nodes,d)};this.update_label_view_map_for_tabbed_view=function(t,q){for(var p=0;p<t.tabs.length;p++){var o,n;if(rdx.utils.is_defined(t.tabs[p]["view"])){if(rdx.utils.is_defined(t.tabs[p]["view"]["name"])){o=t.tabs[p]["view"]["name"]}if(rdx.utils.is_not_defined(t.tabs[p]["title"])){n=t.tabs[p]["view"]["view_properties"]["title"]}else{n=t.tabs[p]["title"]}if(rdx.utils.is_defined(t.__tree_key)){this.update_label_map(rdx.i18n.get_string(n),o,this.label_obj);this.update_view_map(o,t.__tree_key,q,"TABBED_VIEW",this.tabjson)}if(rdx.utils.is_defined(t.tabs[p]["view"]["resource_operations"])&&(rdx.utils.is_defined(t.tabs[p]["view"]["resource_operations"]["add"]))){if(rdx.utils.is_defined(t.tabs[p]["view"]["resource_operations"]["add"]["view"])){var m=rdx.utils.get_view(t.tabs[p]["view"]["resource_operations"]["add"]["view"]);try{var u=rdx.utils.get_resource(m.resource_name);if(rdx.utils.is_defined(u)){var s="create "+(rdx.i18n.get_string(u.obj_type)).toLowerCase();this.update_label_map(s,m.name,this.label_obj);this.update_view_map(m.name,t.__tree_key,"CONFIGURE_VIEW","DETAIL_VIEW",this.view_info_obj)}}catch(v){}}}}}};this.update_view_map_for_op_view=function(d,f){if(rdx.utils.is_defined(d.pages)){for(var e=0;e<d.pages.length;e++){this.update_label_map(d.pages[e]["view"],f,this.opjsonobj)}}if(rdx.utils.is_defined(d.advanced_pages)){for(var e=0;e<d.advanced_pages.length;e++){this.update_label_map(d.advanced_pages[e]["view"],f,this.opjsonobj)}}};this.search_for_label=function(q,m,s){for(var v in q){if(rdx.utils.is_defined(q[v]["label"])){var p=rdx.i18n.get_string(q[v]["label"]);this.update_label_map(p,s,this.label_obj)}else{if(m=="domain_gslbvserver_binding"||rdx.utils.is_not_defined(m)){}else{var n,t;if((rdx.utils.is_defined(m))&&m){try{t=rdx.utils.get_resource(m);if(rdx.utils.is_defined(t.properties)){n=t.properties;if((rdx.utils.is_defined(n[v]))&&(rdx.utils.is_defined(n[v]["label"]))){var o=rdx.i18n.get_string(n[v]["label"]);if(rdx.utils.is_defined(o)){this.update_label_map(o,s,this.label_obj)}}}}catch(u){}}}}}};this.build_label_map=function(n,m){if(rdx.utils.is_defined(n.resource_properties)){if((n.resource_properties.length==1)||rdx.utils.is_not_defined(n.resource_properties.length)){if(rdx.utils.is_defined(n.resource_properties.form_fields)){this.search_for_label(n.resource_properties.form_fields,n.resource_name,m)}else{if(rdx.utils.is_defined(n.resource_properties[0])){this.search_for_label(n.resource_properties[0]["form_fields"],n.resource_name,m)}else{this.search_for_label(n.resource_properties,n.resource_name,m)}}}else{for(var o=0;o<n.resource_properties.length;o++){if(rdx.utils.is_defined(n.resource_properties[o]["form_fields"])){this.search_for_label(n.resource_properties[o]["form_fields"],n.resource_name,m)}else{if(rdx.utils.is_defined(n.resource_properties[o]["form_sections"])){if(n.resource_properties[o]["form_sections"].length==1){this.search_for_label(n.resource_properties[o]["form_sections"][0]["form_fields"],n.resource_name,m)}else{for(var h=0;h<n.resource_properties[o]["form_sections"].length;h++){if(rdx.utils.is_defined(n.resource_properties[o]["form_sections"][h]["form_fields"])){this.search_for_label(n.resource_properties[o]["form_sections"][h]["form_fields"],n.resource_name,m)}else{if(rdx.utils.is_defined(n.resource_properties[o]["form_sections"][h]["columns"])){if(n.resource_properties[o]["form_sections"][h]["columns"].length==1){this.search_for_label(n.resource_properties.form_sections[h]["columns"]["form_fields"],n.resource_name,m)}else{for(var l=0;l<n.resource_properties[o]["form_sections"][h]["columns"].length;l++){this.search_for_label(n.resource_properties[o]["form_sections"][h]["columns"][l]["form_fields"],n.resource_name,m)}}}}}}}else{if(rdx.utils.is_defined(n.resource_properties[o]["columns"])){if(n.resource_properties[o]["columns"].length==1){this.search_for_label(n.resource_properties[o]["columns"]["form_fields"],n.resource_name,m)}else{for(var g=0;g<n.resource_properties[o]["columns"].length;g++){this.search_for_label(n.resource_properties[o]["columns"][g]["form_fields"],n.resource_name,m)}}}}}}}}};this.update_label_view_map_for_detail_configview=function(t,s){if(rdx.utils.is_defined(t.__tree_key)){this.update_view_map(s,t.__tree_key,t.type,"DETAIL_VIEW",this.view_info_obj);for(var n in t.resource_operations){if(rdx.utils.is_defined(t.resource_operations[n])&&rdx.utils.is_defined(t.resource_operations[n]["view"])){if(n=="set"||n=="custom operations"){}else{var m;var q=rdx.utils.get_view(t.resource_operations[n]["view"]);m=q.name;if(n=="add"){try{var p=rdx.utils.get_resource(t.resource_name);if(rdx.utils.is_defined(p)){var o="Create "+(rdx.i18n.get_string(p.obj_type));this.update_label_map(o,m,this.label_obj)}}catch(l){}}this.update_view_map(m,t.__tree_key,q.type,"DETAIL_VIEW",this.view_info_obj)}}}}};this._search_in_label_obj=function(n){if(rdx.utils.is_defined(this.label_obj[n])){for(var o in this.label_obj[n]){var l=this.label_obj[n][o];var m;if(rdx.utils.is_defined(this.view_info_obj[l])&&rdx.utils.is_defined(this.view_info_obj[l][0])){this.update_view_map(l,this.view_info_obj[l][0],this.view_info_obj[l][1],this.view_info_obj[l][2],this.finalobj);this.split_tree_key(this.view_info_obj[l][0],n,l)}if(rdx.utils.is_defined(this.opjsonobj[l])){for(var q in this.opjsonobj[l]){var p=this.opjsonobj[l][q];if(rdx.utils.is_defined(this.view_info_obj[p])){var m=this.view_info_obj[p][0];if(rdx.utils.is_defined(m)){this.update_view_map(l,m,this.opjsonobj[l][q],"ONE_PAGE_WIZARD_VIEW",this.finalobj);this.split_tree_key(m,n,l)}}}}if(rdx.utils.is_defined(this.tabjson[l])){for(var h=0;h<this.tabjson[l].length;){var m=this.tabjson[l][h];this.update_view_map(l,this.tabjson[l][h],this.tabjson[l][h+1],this.tabjson[l][h+2],this.finalobj);this.split_tree_key(m,n,l);h=h+3}}}}};this.update_view_map_for_info_feature_view=function(d,c){if(rdx.utils.is_defined(d.__tree_key)){this.update_view_map(c,d.__tree_key,d.type,"INFO/COMPOSITE",this.view_info_obj)}};this.update_view_map=function(l,m,g,f,h){if(rdx.utils.is_not_defined(h[l])){h[l]=[]}if((jQuery.inArray(g,h[l])==-1)||(jQuery.inArray(m,h[l])==-1)){h[l].push(m);h[l].push(g);h[l].push(f)}};this.show_app_search_option_in_header=function(){var b=$(".app_search_button_in_header_hide");if(b){$(b).addClass("app_search_button_in_header_show");$(b).removeClass("app_search_button_in_header_hide")}}};rdx.page.add_event_handler(rdx.events.WINDOW_LOADED,new rdx.callback(rdx.app_search.add_support_info))}rdx.three_pane_dashboard=function(f,d,e){this._base_view=e;this._view_definition=d;this._parent=f;this.is_back_button_required=true;this._DEFAULT_PROPERTIES={add_back_button:true,class_names:null};this._is_action_bar_required=true;this._properties=$.extend(true,this._DEFAULT_PROPERTIES,this._view_definition.view_properties);this._resource_operations=$.extend(true,{},this._view_definition.resource_operations);this._left_pane=this._view_definition.left_pane;this._middle_pane=this._view_definition.middle_pane;this._right_pane=this._view_definition.right_pane;this._main_div=$("<div>").addClass("three_pane_dashboard");if(rdx.utils.is_defined(this._properties.class_names)){this._main_div.addClass(this._properties.class_names)}this._parent.append(this._main_div);this._current_page=1;this._page_size=10;this.right_page_size=5;this.right_page_count=1;this._resource=rdx.utils.get_resource(this._middle_pane.resource_name)};rdx.three_pane_dashboard.prototype.make_view=function(){this._render_panes()};rdx.three_pane_dashboard.prototype._render_panes=function(){this._top_container=$("<div>").addClass("top_container");this._main_container=$("<div>").addClass("main_container");this._left_pane_dom=$("<div>").addClass("left_pane");this._middle_pane_dom=$("<div>").addClass("middle_pane");this._right_pane_dom=$("<div>").addClass("right_pane");this._main_div.append(this._top_container).append(this._main_container);this._main_container.append(this._left_pane_dom).append(this._middle_pane_dom).append(this._right_pane_dom);this._render_top_container();this._render_left_pane();this._render_middle_pane();this._right_pane_header=$("<div>").addClass("right_pane_header").appendTo(this._right_pane_dom);this._right_pane_title=$("<div>").addClass("right_pane_title").appendTo(this._right_pane_header);this._right_pane_content=$("<div>").addClass("right_pane_content").appendTo(this._right_pane_dom);var f=this;rdx.mask.mask_component(this._main_container,"three_pane");var d=$("<div>").addClass("pop_out_div").attr("title","Expand/Collapse");var e=$("<span>").addClass("pop_out");d.append(e);this._right_pane_header.append(d);this._poped_out=false;d.bind(rdx.events.CLICK,{},function(a){f.popout_right_pane()});this._right_pane_pagination=$("<div>").addClass("right_pane_pagination").appendTo(this._right_pane_header);this._right_pane_pagination_bottom=$("<div>").addClass("right_pane_pagination").appendTo(this._right_pane_dom)};rdx.three_pane_dashboard.prototype._render_top_container=function(){var m=this;this._resource_properties_div=$("<div>").addClass("resource_properties");if(this._view_definition.resource_summary){var h=rdx.utils.get_view(this._view_definition.resource_summary.view);var n=new rdx.base_view(this._top_container,h);n.prepare_view(true)}this._top_container.append(this._resource_properties_div);if(this._middle_pane.search===true){this.add_search_component(this._top_container)}for(var q in this._resource_operations){if(this._resource_operations.hasOwnProperty(q)){var o=this._resource_operations[q];var p=$("<span>").addClass("plus_sign").append("+");var l=$("<span>").addClass("title_text").append("New Application");this._create_new_item_button=$("<div>").addClass("rdx_button rdx_blue_button").append(p).append(l);this._resource_properties_div.append(this._create_new_item_button);var m=this;this._create_new_item_button.bind(rdx.events.CLICK,{},function(a){if(rdx.utils.is_defined(o.view)){var b=rdx.utils.get_view(o.view);var c=new rdx.base_view(null,b);c.prepare_view()}else{if(rdx.utils.is_defined(o.click_handler_callback)){o.click_handler_callback.call_back()}}})}}};rdx.three_pane_dashboard.prototype._render_left_pane=function(){if(this._left_pane.hidden===true){this._left_pane_dom.hide();this._right_pane_dom.css("width","74%");return}};rdx.three_pane_dashboard.prototype._render_middle_pane=function(e){this._middle_content_block=$("<div>").addClass("content");this._middle_pane_dom.append(this._middle_content_block);rdx.model.get_count(rdx.utils.get_resource(this._middle_pane.resource_name),null,new rdx.callback(this,function(a){this._total_middle_count=a;if(a<=this._page_size){$(".middle_pane .pagination").hide()}}));var f=null;var h={pageno:this._current_page,pagesize:this._page_size};var g=["pageno","pagesize"];if(this._search_by_name===true){h.name=e;g.unshift("name")}if(rdx.utils.is_defined(this._middle_pane.resource_name)){rdx.model.get(rdx.utils.get_resource(this._middle_pane.resource_name),f,new rdx.callback(this,this._update_middle_pane))}};rdx.three_pane_dashboard.prototype._update_middle_pane=function(q){var v=q[this._middle_pane.resource_name];var t=this;if(v.length==0){this.render_right_pane();return}rdx.utils.sort_array(v,this._middle_pane.title);for(var s=0;s<v.length;s++){var m=$("<div>").addClass("item");var o=$("<div>").addClass("title").appendTo(m);var n=$("<span>").addClass("text").append(v[s][this._middle_pane.title]).appendTo(o).attr("title",v[s][this._middle_pane.title]);var u=$("<div>").addClass("container");var p=$("<div>").addClass("other_info").append(this._middle_pane.renderer_callback.call_back([this._middle_pane.resource_properties,v[s],u]));p.append(u).appendTo(m);this._middle_content_block.append(m);o.bind(rdx.events.CLICK,{data:v[s]},function(e,c,d,b){t._clicked_title=$(e.target).hasClass("title")?$(e.target):$(e.target).parents(".title");$(".middle_pane .selected").removeClass("selected");t._clicked_title.addClass("selected");clearTimeout(t._timeout_interval);if(!(c===true)&&!(b===true)){t.auto_refresh=false;t.right_page_count=1;rdx.mask.mask_component(t._right_pane_dom,"right_pane");$(".pagination .current").val(t.right_page_count)}var a={auto_refresh:c,composite_view:d};if(rdx.utils.is_defined(t._middle_pane.click_handler_callback)){t._middle_pane.click_handler_callback.call_back([e.data.data,t,a])}else{t.render_right_pane()}});if(rdx.utils.is_defined(this._middle_pane.resource_operations)){this._add_resource_operation(v[s],o)}if(s==0){o.trigger(rdx.events.CLICK)}}$(window).bind(rdx.events.SCROLL,{data:this},this._scroll_function)};rdx.three_pane_dashboard.prototype._add_resource_operation=function(n,o){var m=this._middle_pane.resource_operations;for(var s in m){if(m.hasOwnProperty(s)){var t=m[s];var l=$("<div>").addClass("operation");var q=$("<span>").addClass("operation_icon").appendTo(l);var p=this;if(s=="remove"){q.addClass("remove").attr("title","Delete")}else{if(s=="edit"){q.addClass("edit").attr("title","Edit")}else{l.append(t.title)}}l.bind(rdx.events.CLICK,{index:s},function(c){if(c.data.index=="remove"){rdx.message_box.confirm(rdx.i18n.get_string("rdx.remove_app_node",{name:n.name}),new rdx.callback(function(){rdx.mask.mask_component(p._main_container,"three_pane");rdx.model.remove(rdx.utils.get_resource(p._middle_pane.resource_name),new rdx.callback(),n)}))}else{if(rdx.utils.is_defined(t.view)){var a=rdx.utils.get_view(t.view);var b=new rdx.base_view(null,a);b.get_view_context().set_url_params(null,n);b.prepare_view()}else{if(rdx.utils.is_defined(t.click_handler_callback)){t.click_handler_callback.call_back()}}}c.stopPropagation()})}o.append(l)}};rdx.three_pane_dashboard.prototype.add_pagination_component=function(h){var f=this;var g=$("<div>").addClass("pagination");var m=$("<div>").addClass("previous").append("< Back");var l=$("<div>").addClass("next").append("Next >");m.click(function(a){if(f._current_page==1){return}else{clearTimeout(f._timeout_interval);f.auto_refresh=false;f._current_page--;f._middle_pane_dom.empty();f._right_pane_content.empty();f._render_middle_pane()}});l.click(function(a){clearTimeout(f._timeout_interval);if(f._total_middle_count<=f._current_page*f._page_size){return}else{f.auto_refresh=false;f._current_page++;f._middle_pane_dom.empty();f._right_pane_content.empty();f._render_middle_pane()}});g.append(m).append(l);h.append(g)};rdx.three_pane_dashboard.prototype.add_right_pane_pagination_component=function(s){var p=this;var o=$("<div>").addClass("pagination");var v=$("<div>").addClass("previous page").append("< Back");var x=$("<div>").addClass("next page").append("Next >");var t=this.right_pane_max_items;var n=Math.ceil(t/this.right_page_size);o.append(v);if(n<=1){o.hide()}var q=$("<div>").addClass("content").appendTo(o);var w=$("<input type='text'>").addClass("current").attr("value",p.right_page_count);var u=$("<span>").addClass("total").append(n);q.append("Showing").append(w).append("of").append(u);w.bind(rdx.events.KEYDOWN,{},function(a){if((a.keyCode>=48&&a.keyCode<=57)||(a.keyCode==8)){}else{a.preventDefault()}});w.bind(rdx.events.KEYUP,{},function(a){if(a.keyCode!==13){return}var b=parseInt(w.val());if(rdx.utils.is_empty(b)||b==0){return}if(b>n){b=n;w.val(n)}rdx.mask.mask_component(p._right_pane_dom,"right_pane");p.auto_refresh=false;p.right_page_count=b;$(".pagination .current").val(p.right_page_count);p._clicked_title.trigger(rdx.events.CLICK,[false,null,true])});v.click(function(a){if(p.right_page_count==1){return}else{rdx.mask.mask_component(p._right_pane_dom,"right_pane");p.auto_refresh=false;p.right_page_count--;$(".pagination .current").val(p.right_page_count);p._right_pane_content.empty();p._clicked_title.trigger(rdx.events.CLICK,[false,null,true])}});x.click(function(a){if(p.right_pane_max_items<=p.right_page_count*p.right_page_size){return}else{rdx.mask.mask_component(p._right_pane_dom,"right_pane");p.auto_refresh=false;p.right_page_count++;$(".pagination .current").val(p.right_page_count);p._right_pane_content.empty();p._clicked_title.trigger(rdx.events.CLICK,[false,null,true])}});o.append(x);s.empty().append(o)};rdx.three_pane_dashboard.prototype.render_right_pane=function(h){var m=this;if(rdx.utils.is_not_defined(this._total_middle_count)||this._total_middle_count===0){this._right_pane_header.hide();this._middle_pane_dom.hide();this._right_pane_dom.width("100%");var n=$("<a>").addClass("").append("Click here");var o=$("<div>").addClass("no_items_message").append(n).append(" to define new applications.");n.click(function(){m._create_new_item_button.trigger(rdx.events.CLICK)});rdx.mask.unmask_component(this._main_container,"three_pane");rdx.mask.unmask_component(this._right_pane_dom,"right_pane");this._right_pane_content.append(o);return}this._right_pane_title.text(this._clicked_title.text());this._right_pane_content.empty();h=rdx.utils.is_defined(h)?h:rdx.utils.get_view(this._right_pane.view);var l=new rdx.base_view(this._right_pane_content,h);var g=l.get_view_context();g.set_url_params({is_data_set:true});l.prepare_view(true);rdx.mask.unmask_component(this._main_container,"three_pane");rdx.mask.unmask_component(this._right_pane_dom,"right_pane");this.add_right_pane_pagination_component(this._right_pane_pagination_bottom);this.refresh_right_view(l)};rdx.three_pane_dashboard.prototype.refresh_right_view=function(c){var d=this;if(this._properties.auto_refresh===false){return}this._timeout_interval=setTimeout(function(){d.auto_refresh=true;d._clicked_title.trigger(rdx.events.CLICK,[true,c])},7*1000)};rdx.three_pane_dashboard.prototype.update_right_pane=function(z,w){var D=w.get_view_context();D.set_url_params({is_data_set:true},z);var s=w._view_definition.views;var x=0;for(var y in s){var q=s[y].view_definition.views;for(var t in q){var v=q[t].view_definition.tabs[0]["view"]["views"];for(var C in v){if(v[C]["view_definition"]["type"]=="TABBED_VIEW"){var u=v[C]["view_definition"]["tabs"];for(var A=0;A<u.length;A++){var B=u[A];B.view.response_callback.params[0]=z[x]}}else{v[C].view_definition.response_callback.params[0]=z[x]}}}x++}w.refresh_view(D,false);this.refresh_right_view(w)};rdx.three_pane_dashboard.prototype.add_search_component=function(h){var l=this;var f=$("<input type = 'text'>").addClass("search_text").attr("placeholder","Search");var m=$("<span>").addClass("search_image");var g=$("<div>").addClass("block_search").append(m).append(f);h.append(g);f.bind(rdx.events.KEYUP,{dom:h,input_type:f},function(b){var a=b.data.dom;var c=b.data.input_type.val().toLocaleLowerCase();l._middle_pane_dom.find(".item").each(function(e,d){if(($(d).find(".title").text()).toLocaleLowerCase().indexOf(c)>-1){$(d).show()}else{$(d).hide()}})})};rdx.three_pane_dashboard.prototype._scroll_function=function(f){var g=rdx.utils.is_defined(f)?f.data.data:this;var l=$(window).scrollTop();var h=$(window).scrollLeft();if(rdx.utils.is_defined(g._middle_pane_dom)){if(l>=rdx.page.get_header_height()+170){var m=l-(rdx.page.get_header_height()+165);g._middle_pane_dom.addClass("fixed").css("top",m)}else{if(g._middle_pane_dom.hasClass("fixed")){g._middle_pane_dom.removeClass("fixed")}}}};rdx.three_pane_dashboard.prototype.register_event_handlers=function(){rdx.model.add_model_change_listener(this._resource,new rdx.callback(this._base_view,this._base_view.refresh_view))};rdx.three_pane_dashboard.prototype.destroy_view=function(){rdx.model.remove_model_change_listener(this._resource)};rdx.three_pane_dashboard.prototype.get_view_context=function(){return this.get_base_view().get_view_context()};rdx.three_pane_dashboard.prototype.refresh_view=function(b){clearTimeout(this._timeout_interval);this.right_page_count=1;this.auto_refresh=false;this._main_div.empty();this.make_view()};rdx.three_pane_dashboard.prototype.popout_right_pane=function(){if(this._poped_out==false){this._middle_pane_dom.hide(500);this._right_pane_dom.width("100%");this._right_pane_dom.css("transition","width 1s");this._poped_out=true}else{this._middle_pane_dom.show(600);this._right_pane_dom.width("74%");this._right_pane_dom.css("transition","width 0.5s");this._poped_out=false}};rdx.three_pane_dashboard.prototype.get_is_back_button_required=function(){return false};rdx.three_pane_dashboard.prototype.get_toolbar_items=function(){this._add_tool_bar();return this._toolbar_items};rdx.three_pane_dashboard.prototype._add_tool_bar=function(){var c=this;var d=[new rdx.action({tooltip:rdx.i18n.get_string("rdx.refresh"),image_url:rdx.images.REFRESH_IMG,click_handler_callback:new rdx.callback(this,this.refresh_view)})];this._toolbar_items=d};rdx.three_pane_dashboard.prototype.is_title_required=function(){return false};rdx.three_pane_dashboard.prototype.close_view=function(){this._base_view.destroy_view()};rdx.visualizer=function(f,d,e){this._base_view=e;this._view_definition=d;this.is_back_button_required=true;this._parent=f;this._toolbar_items=null;this._DEFAULT_PROPERTIES={margin:{top:80,right:20,bottom:50,left:80},margin_for_indent:false,is_tool_bar_required:true,is_refresh_required:false,width:1000,height:500,vertical_offset:rdx.constants.DEFAULT_VERTICAL_OFFSET,horizontal_offset:rdx.constants.DEFAULT_HORIZONTAL_OFFSET,add_back_button:false,show_export:false,root_position_horizontal:rdx.constants.LEFT,root_position_vertical:rdx.constants.DEFAULT_ROOT_POSITION};this._DEAFULT_SVG_PROPERTIES={background:"#fff",border:"#fff"};this._DEFAULT_BLOCK_CHILDREN_PROPERTIES={connector_type:rdx.constants.LINE,position:rdx.constants.BOTTOM,connected_to:rdx.constants.FIRST,render_add:rdx.constants.TOP,column_connection:null};this._is_action_bar_required=true;this._properties=$.extend(true,this._DEFAULT_PROPERTIES,this._view_definition.view_properties);this._svg_properties=$.extend(true,this._DEAFULT_SVG_PROPERTIES,this._properties.svg_properties);this._connectors=[];this._extra_connections={}};rdx.visualizer.prototype.make_view=function(){rdx.mask.mask_component(this._parent,"_visualizer_view");if(this._properties.is_refresh_required){var h=$(document.createElement("img")).attr("src",rdx.images.REFRESH_IMG).attr("title","Refresh").bind(rdx.events.CLICK,{visualizer_ref:this},function(a){a.data.visualizer_ref.refresh_view(a)});var e=$("<div>").attr("title","Refresh").addClass("visualizer_refresh_div").append(h);this._parent.append(e)}this._svg=d3.select(this._parent[0]).append("svg").attr("height",this._properties.height).attr("width",this._properties.width).classed("visualizer_svg",true);for(var g in this._svg_properties){if(this._svg_properties.hasOwnProperty(g)){this._svg=this._svg.style(g,this._svg_properties[g])}}var f=this._svg.append("g").attr("transform","translate("+this._properties.margin.left+","+this._properties.margin.top+")").classed("visualizer_elements",true);this._connectors_group=f.append("g").classed("connectors",true);this._shapes=f.append("g").classed("nodes",true)};rdx.visualizer.prototype.get_resource_response_arrived=function(e){this._root=e;this._root.X=this._properties.height;this._root.Y=0;var g;this._root_node=this._render_root(e);if(rdx.utils.is_defined(e.children)){g=this._shapes.append("g");this._render_shapes(this._root.children,{parent_node:this._root_node,parent:g})}if(rdx.utils.is_defined(e.block_children)){g=this._shapes.append("g");var h=$.extend(true,this._DEFAULT_BLOCK_CHILDREN_PROPERTIES,e.block_properties);this._process_block_children(e.block_children);this._render_block_children(e.block_children,{parent_node:this._root_node,parent:g,max_length:rdx.visualizer_utils.get_max_length(e.block_children)},h)}this._adjust_svg_dimensions();this._adjust_root();this.connect_nodes();if(this._parent.parent().parent().hasClass("custom_visualizer_div")){var f=this._parent.parent().parent().parent().parent()[0];d3.select(f).attr("width",this._svg.node().getBBox().width).attr("height",this._svg.node().getBBox().height)}rdx.mask.unmask_all_components()};rdx.visualizer.prototype._adjust_root=function(){var o=this._shapes.node().getBBox().height;var q=this._properties.root_position_vertical;var s=this._shapes.node().getBBox().width;var p=this._properties.root_position_horizontal;var m=this._root_node.node().getAttribute("X");var n=this._root_node.node().getAttribute("Y");var t=this._root_node.node().getBBox().height;var u=this._root_node.node().getBBox().width;var v;if(this._properties.root_position_vertical!=rdx.constants.TOP){if(this._properties.root_position_vertical==rdx.constants.BOTTOM){q=o}else{if(this._properties.root_position_vertical==rdx.constants.CENTER){q=o/2}}if(this._root_node.node().nodeName==rdx.constants.IMAGE){q=q-this._root_node.node().getBBox().height}v="translate( 0,"+(q-n)+")";this._root_node.attr("transform",v);this._root_node.attr("Y",q)}if(this._properties.root_position_horizontal!=rdx.constants.LEFT){if(this._properties.root_position_horizontal==rdx.constants.RIGHT){p=s}else{if(this._properties.root_position_horizontal==rdx.constants.CENTER){p=s/2-this._root_node.node().getBBox().width/2}}v="translate( "+(p-m)+",0)";this._root_node.attr("transform",v);this._root_node.attr("X",p)}rdx.visualizer_utils.transform_node(this._root_node);if(this._root_node.node().getAttribute("class")==rdx.constants.CUSTOM_SHAPE){X=u/2;Y=t/2;this._root_node.attr("X",X);this._root_node.attr("Y",Y);this._root_node.attr("transform","translate(0,0)")}};rdx.visualizer.prototype._adjust_svg_dimensions=function(){var d=this._shapes.node().getBBox().width;var e=this._shapes.node().getBBox().height;var f=(this._properties.margin_for_indent)?0:this._properties.margin.left;if((d+f)>this._properties.width){this._svg.attr("width",d+100)}else{this._svg.attr("width",this._properties.width)}if((e+this._properties.margin.top)>this._properties.height){this._svg.attr("height",e+100)}else{this._svg.attr("height",this._properties.height)}};rdx.visualizer.prototype._render_root=function(d){var e=new rdx.shapes(this._shapes,d);var f=e.render(this);d.shape_ref=f;f.attr("X",0);f.attr("Y",0);return f};rdx.visualizer.prototype._render_shapes=function(u,z){for(var x=0;x<u.length;x++){if(rdx.utils.is_defined(u[x].hidden)){u[x].styles={};u[x].styles.visibility="hidden"}var t=z.parent.append("g");var p=new rdx.shapes(t,u[x]);var v=p.render(this);u[x].shape_ref=v;u[x].parent_ref=t;if(rdx.utils.is_defined(u[x].position)){z.position=u[x].position}else{z.position=rdx.constants.RIGHT}this.transform(z,x,v,u);var w=this;this._connectors.push({source:u[x],target:z.parent_node,properties:u[x].connector});if(rdx.utils.is_defined(u[x].block_children)){var B={};B=$.extend(true,B,this._DEFAULT_BLOCK_CHILDREN_PROPERTIES,u[x].block_properties);var q=t.append("g").classed("block_children",true);if(u[x].block_children.length>0){this._process_block_children(u[x].block_children);this._render_block_children(u[x].block_children,{parent_node:v,parent:q,max_length:rdx.visualizer_utils.get_max_length(u[x].block_children)},B)}}if(rdx.utils.is_defined(u[x].add_new_children)&&u[x].add_new_children===true){u[x]=rdx.visualizer_utils.add_new_item_to_child_list(u[x],w)}if(rdx.utils.is_defined(u[x].children)&&u[x].children.length>0){var s=t.append("g");u[x].child_group=s;this._render_shapes(u[x].children,{parent_node:v,parent:s});this._adjust_elements(u,x,v)}if(rdx.utils.is_defined(u[x].connect_to)){if(rdx.utils.is_not_defined(this._extra_connections[u[x].connect_to])){this._extra_connections[u[x].connect_to]=[]}this._extra_connections[u[x].connect_to].push({source:u[x]})}if(rdx.utils.is_defined(this._extra_connections[u[x].id])){var A=this._extra_connections[u[x].id];for(var y=0;y<A.length;y++){A[y].target=v;this._connectors.push(A[y])}}}};rdx.visualizer.prototype._process_block_children=function(d){for(var c=0;c<d.length;c++){if(rdx.utils.is_not_defined(d[c].column)){d[c].column=[]}if(d[c].column.length===0&&rdx.utils.is_defined(d[c].zero_count_message)){d[c].column.push({label:{name:d[c].zero_count_message,position:rdx.constants.CENTER},shape:{type:rdx.constants.RECTANGLE}})}}};rdx.visualizer.prototype._render_block_children=function(H,P,T){var Q=this;var V=[];var D=[];for(var K=0;K<H.length;K++){var R=K;H[K].max_width=0;var G=[];var N=0;var J={hidden:"true"};var B=(rdx.utils.is_defined(H[K].add_view))?true:false;var L={items:H[K],len:P.max_length+1,obj:J,flag:B,render_add:T.render_add};H[K]=rdx.visualizer_utils.normalize_array_items(L,Q);x_y_coords=this._calculate_x_y_for_blocks(H,P,T,R);x_coord=x_y_coords.x_coord;if(rdx.utils.is_defined(x_y_coords.y_coord)){y_coord=x_y_coords.y_coord}else{x_y_coords.y_coord=y_coord}if(rdx.utils.is_defined(H[K].label)){this._render_label_for_blocks(H,P.parent,K,x_y_coords)}render_col:for(k=0;k<H[K].column.length;k++){var E=H[K].column[k];var M=x_coord;if(rdx.utils.is_defined(E.hidden)){E.styles={};E.styles.visibility="hidden";if(rdx.utils.is_defined(H[K].render_hidden)&&H[K].render_hidden===false){continue render_col}}var U=new rdx.shapes(P.parent,H[K].column[k]);G[k]=U.render(Q);E.shape_ref=G[k];E.parent_ref=P.parent;var I=P.parent.node().getBBox().height;var W=P.parent.node().getBBox().width;var S=rdx.utils.is_defined(H[K].vertical_offset)?H[K].vertical_offset:(this._properties.vertical_offset);var O=N;if(k-N>2){O=N+2}switch(T.position){case rdx.constants.BOTTOM:Y=y_coord+((O+1)*S);break;case rdx.constants.ADJACENT:Y=y_coord+(O*S);break;default:break}N++;G[k].attr("X",M);this._process_transform_for_block_node(G[k],G[k-1],{x_pos:M,Y:Y});if(H[K].max_width<G[k].node().getBBox().width){H[K].max_width=G[k].node().getBBox().width}if(k===0){if(T.column_connection==rdx.constants.CASCADE_CONNECTION){D.push({src_ref:G[k]})}}if(k==H[K].column.length-1){if(T.column_connection==rdx.constants.GROUP_CONNECTION){V.push({src_ref:G[k]})}}var F={block_children_props:T,curr_item_index:k,curr_block_index:K,parent_node:P.parent_node};this._process_connections_for_blocks(H,G,F)}}Q._process_first_last_nodes(V,D);Q._process_connections_among_blocks(H,T);var C=P.parent.node().getBBox().width;var Z=P.parent.node().getBBox().height;if(rdx.utils.is_defined(T.offset_from_parent)){C+=(T.offset_from_parent)}P.parent_node.attr("block_width",C).attr("block_height",Z).attr("block_children","true")};rdx.visualizer.prototype._calculate_x_y_for_blocks=function(m,p,v,n){var s=n;var q;var o=0;var u=p.parent_node.node().getAttribute("Y")||0;var t=p.parent_node.node().getAttribute("X")||0;if(rdx.utils.is_defined(p.parent_node.node().getAttribute("custom"))){t=parseInt(t)+parseInt(p.parent_node.node().getAttribute("width"))}if(s===0){switch(v.position){case rdx.constants.BOTTOM:o=rdx.utils.is_defined(v.offset_from_parent)?v.offset_from_parent:(s*this._properties.horizontal_offset);if(rdx.utils.is_defined(p.parent_node.node().getAttribute("custom"))){q=parseInt(u)+parseInt(p.parent_node.node().getAttribute("height"))}else{q=parseInt(u)+p.parent_node.node().getBBox().height}break;case rdx.constants.ADJACENT:o=rdx.utils.is_defined(m[n].horizontal_offset)?m[n].horizontal_offset:(1.5*this._properties.horizontal_offset);q=parseInt(u);break;default:break}}else{while(s){s--;if(rdx.utils.is_defined(m[s])){o=m[s].x_offset+m[s].max_width}}o+=rdx.utils.is_defined(m[n].horizontal_offset)?m[n].horizontal_offset:this._properties.horizontal_offset/2.5}m[s].x_offset=o;return{x_coord:parseInt(t)+o,y_coord:q}};rdx.visualizer.prototype._render_label_for_blocks=function(g,l,f,h){var m={};m.label=g[f].label.name;m.parent=l;m.position={};if(f%2===0){m.position.x=(h.x_coord-10)}else{m.position.x=(h.x_coord+10)}m.position.y=(h.y_coord+10);text=rdx.visualizer_utils.render_label(m);if(f%2===0){text.attr("x",(m.position.x-text.node().getBBox().width))}};rdx.visualizer.prototype._process_transform_for_block_node=function(e,f,d){if(e.node().getAttribute("class")!=rdx.constants.CUSTOM_SHAPE){if(rdx.utils.is_defined(f)&&f.node().getAttribute("class")==rdx.constants.CUSTOM_SHAPE){d.x_pos+=f.node().getAttribute("width")/2;e.attr("X",d.x_pos);f.attr("X",d.x_pos)}}e.attr("Y",Y);if(e.node().nodeName===rdx.constants.RECTANGLE||e.node().nodeName===rdx.constants.IMAGE){d.x_pos=d.x_pos-((e.node().getBBox().width)/2);d.Y=d.Y-((e.node().getBBox().height)/2)}e.attr("transform","translate("+d.x_pos+","+d.Y+")")};rdx.visualizer.prototype._process_connections_for_blocks=function(u,E,w){var t=w.block_children_props;var C=w.curr_item_index;var F=w.curr_block_index;if(C===0&&F===0){if(t.connected_to==rdx.constants.FIRST){if(t.flow===true){this._connectors.push({target:w.parent_node,source:u[F].column[C],properties:{flow:true}})}else{this._connectors.push({source:u[F].column[C],target:w.parent_node})}}}if(C>0){var A=t.connector_type;if(rdx.utils.is_defined(u[F].connector_type)){A=u[F].connector_type}if(A!="none"){this._connectors.push({source:u[F].column[C],target:E[C-1],properties:{path_type:A}})}if(t.column_connection==rdx.constants.CASCADE_CONNECTION){if(C<u[F].column.length-1){if(F<u.length-1){var D={x:parseInt(E[0].node().getAttribute("X"))+parseInt(E[0].node().getAttribute("width")/2)+(this._properties.horizontal_offset/4),y:E[0].node().getAttribute("Y")};var s={x:parseInt(E[C].node().getAttribute("X"))+parseInt(E[0].node().getAttribute("width")/2),y:parseInt(E[C].node().getAttribute("Y"))};this._connectors.push({source:s,target:D,properties:{path_type:rdx.constants.STEP_CONNECTOR,extra_line:true}})}}}}if(C==u[F].column.length-1){if(t.connected_to==rdx.constants.MIDDLE){var B=parseInt(u[0].column.length/2);var y=parseInt(u[0].column[B].shape_ref.node().getAttribute("X"))-u[0].column[B].shape_ref.node().getBBox().width/2;if(t.connector_type==rdx.constants.U_TYPE_CONNECTOR){y-=this._properties.horizontal_offset/5}var x={x:parseInt(w.parent_node.node().getAttribute("X")),y:parseInt(w.parent_node.node().getAttribute("Y"))};var z={x:y,y:parseInt(u[0].column[B].shape_ref.node().getAttribute("Y"))-u[0].column[B].shape_ref.node().getBBox().height/2};this._connectors.push({source:x,target:z,properties:{path_type:rdx.constants.DIAGONAL_CONNECTOR,extra_line:true}})}}if(t.position==rdx.constants.BOTTOM&&rdx.utils.is_defined(E[0])){if(t.connect_last_node_to_parent===true){if(F==(u.length-1)&&(C==0)){var v={path_type:rdx.constants.STEP_CONNECTOR,extra_line:true};if(t.flow===true){v.flow=true}this._connectors.push({source:w.parent_node,target:E[0],properties:v})}}}};rdx.visualizer.prototype._process_connections_among_blocks=function(f,l){var m;if(l.column_connection==rdx.constants.INDIVIDUAL_CONNECTION){for(ind=0;ind<f.length-1;ind++){m=rdx.utils.is_defined(f[ind].add_view)?(f[ind].column.length-1):f[ind].column.length;for(j=0;j<m;j++){var g=rdx.utils.is_defined(f[ind+1].add_view)?true:false;var h=rdx.visualizer_utils.get_corresponding_target(f[ind+1].column,j,g);if(rdx.utils.is_defined(h)&&rdx.utils.is_defined(h.shape_ref)){this._connectors.push({source:f[ind].column[j].shape_ref,target:h.shape_ref,properties:{path_type:rdx.constants.STEP_CONNECTOR,middle:true,extra_line:true}})}}}}if(l.column_connection==rdx.constants.ONE_ONE_CONNECTION){for(ind=0;ind<f.length-1;ind++){m=rdx.utils.is_defined(f[ind].add_view)?(f[ind].column.length-1):f[ind].column.length;for(j=0;j<m;j++){if(rdx.utils.is_defined(f[ind+1].column[j])&&rdx.utils.is_defined(f[ind+1].column[j].shape_ref)){if(rdx.utils.is_not_defined(f[ind+1].column[j].hidden)){this._connectors.push({source:f[ind].column[j].shape_ref,target:f[ind+1].column[j].shape_ref,properties:{path_type:rdx.constants.DIAGONAL_CONNECTOR,middle:true,extra_line:true}})}}}}}};rdx.visualizer.prototype._process_first_last_nodes=function(h,g){for(var f=0;f<h.length-1;f++){this._connectors.push({source:h[f].src_ref,target:h[f+1].src_ref})}for(var e=0;e<g.length-1;e++){this._connectors.push({source:g[e].src_ref,target:g[e+1].src_ref,properties:{extra_line:true}})}};rdx.visualizer.prototype.connect_nodes=function(){for(var d=0;d<this._connectors.length;d++){var e=new rdx.connectors(this._connectors_group,this._connectors[d]).render();if(rdx.utils.is_defined(this._connectors[d].properties)&&rdx.utils.is_defined(this._connectors[d].properties.extra_line)){var f=parseInt(d)-1;this._connectors[d].source=this._connectors[f].source}if(rdx.utils.is_defined(this._connectors[d].source.connector_ref)){this._connectors[d].source.connector_ref.push(e)}else{this._connectors[d].source.connector_ref=e}}};rdx.visualizer.prototype.transform=function(y,w,A,v){var x=A.node().getBBox().height>0?A.node().getBBox().height:parseInt(A.node().getAttribute("height"));var B=A.node().getBBox().width>0?A.node().getBBox().width:parseInt(A.node().getAttribute("width"));var E=y.parent_node.node().getAttribute("X")||0;var F=y.parent_node.node().getAttribute("Y")||0;var z=0;var C=rdx.utils.is_defined(v[w].horizontal_offset)?v[w].horizontal_offset:this._properties.horizontal_offset;var s=rdx.utils.is_defined(v[w].vertical_offset)?v[w].vertical_offset:this._properties.vertical_offset;if(w===0){z=parseInt(F)}else{if(rdx.utils.is_not_defined(v[w].children)&&rdx.utils.is_not_defined(v[w].block_children)){if(rdx.utils.is_defined(v[w-1].shape_ref.node().getAttribute("Y"))){var t=v[w].shape_ref.node().getBBox().height>0?parseInt(v[w].shape_ref.node().getBBox().height):parseInt(v[w].shape_ref.node().getAttribute("height"));z=parseInt(v[w-1].shape_ref.node().getAttribute("Y"))+t}else{z=parseInt(F)+parseInt(v[w].shape_ref.node().getBBox().height)}z+=parseInt(s)}else{while(w){w--;if(rdx.utils.is_defined(v[w].children)||rdx.utils.is_defined(v[w].block_children)){z=z+this._get_previous_sibling_height(v,w)}}z=parseInt(F)+z}}switch(y.position){case rdx.constants.BOTTOM:if(rdx.utils.is_defined(y.parent_node.node().getAttribute("custom"))){F=parseInt(F)+parseInt(y.parent_node.node().getAttribute("height"))+s}else{F=parseInt(F)+y.parent_node.node().getBBox().height+s;if(rdx.utils.is_defined(v[w].horizontal_transformation)){E=parseInt(E)+y.parent_node.node().getBBox().width/2}}break;case rdx.constants.TOP:F=parseInt(F)-(y.parent.node().getBBox().height+s);break;case rdx.constants.LEFT:if(rdx.utils.is_defined(y.parent_node.node().getAttribute("custom"))){E=parseInt(E)-(parseInt(y.parent_node.node().getAttribute("width"))+C)}else{E=parseInt(E)-(y.parent_node.node().getBBox().width+C)}break;case rdx.constants.RIGHT:default:if(rdx.utils.is_defined(y.parent_node.node().getAttribute("block_children"))){E=parseInt(E)+y.parent_node.node().getBBox().width+parseInt(y.parent_node.node().getAttribute("block_width"))+(C/6);if(rdx.utils.is_defined(v[w].block_properties)&&rdx.utils.is_defined(v[w].block_properties.offset_from_parent)){E+=Math.abs(v[w].block_properties.offset_from_parent)}}else{if(rdx.utils.is_defined(y.parent_node.node().getAttribute("custom"))){var u=parseInt(y.parent_node.node().getAttribute("width"))||y.parent_node.node().getBBox().width;E=parseInt(E)+u+C}else{if(y.parent_node.node().nodeName==rdx.constants.IMAGE){E=parseInt(E)+parseInt(y.parent_node.node().getAttribute("width"))+C}else{var u=y.parent_node.node().getBBox().width>0?y.parent_node.node().getBBox().width:parseInt(y.parent_node.node().getAttribute("width"));E=parseInt(E)+u+C}}}F=z;break}if(A.node().nodeName==rdx.constants.IMAGE){E=E-B/2;F=F-x/2}else{if(A.node().nodeName==rdx.constants.RECTANGLE){if(rdx.utils.is_defined(A.node().getAttribute("base"))&&A.node().getAttribute("base")==rdx.constants.DIAMOND){E=E-Math.ceil(B/Math.sqrt(2));F=F-Math.ceil(x/Math.sqrt(2))}else{E=E-B/2;F=F-x/2}}}var D=A.node().getAttribute("transform");if(rdx.utils.is_defined(D)){D="translate("+E+","+F+")"+D}else{D="translate("+E+","+F+")"}A.attr("transform",D);if(A.node().getAttribute("class")==rdx.constants.CUSTOM_SHAPE){if(!(v[w]["shape"]["middle_conenction"]===false)){E=parseInt(E)+B/2;F=parseInt(F)+x/2-20}}A.attr("X",E);A.attr("Y",F);rdx.visualizer_utils.transform_node(A)};rdx.visualizer.prototype._adjust_elements=function(o,p,n){var h=o[p];var v=n.node().getAttribute("Y");var t=n.node().getAttribute("X");var s=0;s=h.child_group.node().getBBox().height;var q;if(n.node().nodeName==rdx.constants.IMAGE){q=Math.floor((s/2)-((n.node().getBBox().height)*2))}else{if(n.node().nodeName==rdx.constants.RECTANGLE){q=Math.floor((s/2)-((n.node().getBBox().height)))}else{q=Math.floor((s/2)-((n.node().getBBox().height)/2))}}if(!(rdx.utils.is_defined(h.adjust)&&h.adjust===false)){var u=n.node().getAttribute("transform");if(rdx.utils.is_defined(u)){q=Math.floor(q+parseInt(v));if(u.indexOf("rotate")==-1){u="translate("+t+","+q+")"}else{u="translate("+t+","+q+")"+u}}else{u="translate("+t+","+q+")"}n.attr("transform",u);n.attr("Y",q);n.attr("adjusted","true");rdx.visualizer_utils.transform_node(n)}};rdx.visualizer.prototype._get_previous_sibling_height=function(e,h){var f=0;var g=this;if(rdx.utils.is_defined(e[h].block_children)){f=parseInt(e[h].shape_ref.node().getAttribute("block_height"));if(f===0){f+=this._properties.vertical_offset}}else{if(rdx.utils.is_defined(e[h].child_group)){f=e[h].child_group.node().getBBox().height}else{if(rdx.utils.is_defined(e[h].shape_ref)){f=e[h].shape_ref.node().getBBox().height}else{f=0}}}return f+(this._properties.vertical_offset)};rdx.visualizer.prototype.refresh_view=function(c){this._connectors=[];this._base_view.destroy_view();var d=new rdx.base_view(this._base_view._parent,this._base_view._view_definition);d.set_view_context(this._base_view.get_view_context());d.prepare_view(true)};rdx.visualizer.prototype.get_is_back_button_required=function(){return this._properties.add_back_button};rdx.visualizer.prototype.get_toolbar_items=function(){if(rdx.utils.is_defined(this._toolbar_items)){return this._toolbar_items}this._add_tool_bar();return this._toolbar_items};rdx.visualizer.prototype._add_tool_bar=function(){var c=this;var d=[new rdx.action({tooltip:rdx.i18n.get_string("rdx.refresh"),image_url:rdx.images.REFRESH_IMG,click_handler_callback:new rdx.callback(this,this.refresh_view)})];this._toolbar_items=d};rdx.visualizer.prototype.destroy_view=function(){this._svg.remove()};rdx.visualizer.prototype.is_title_required=function(){return true};rdx.visualizer.prototype.close_view=function(){this._base_view.destroy_view()};rdx.shapes=function(c,d){this._parent=c;this._properties=d;this._tooltip=null;this._DEFAULT_SHAPE_PROPERTIES={color:rdx.constants.FILL_COLOR,stroke:rdx.constants.DEFAULT_STROKE_COLOR,type:rdx.constants.CIRCLE,stroke_width:rdx.constants.DEFAULT_STROKE_WIDTH,node_state:true,attributes:{x:0,y:0}};this._DEFAULT_LABEL_PROPERTIES={name:null,renderer_callback:null,position:rdx.constants.TOP,offset:rdx.constants.LABEL_OFFSET,ellipsis:true,font_family:rdx.constants.LABEL_FONT_FAMILY,font_size:rdx.constants.LABEL_FONT_SIZE,font_weight:rdx.constants.LABEL_FONT_WEIGHT,color:rdx.constants.LABEL_COLOR};if(rdx.utils.is_defined(d.shape)){this._properties=$.extend(this._properties,this._DEFAULT_SHAPE_PROPERTIES,d.shape)}else{this._properties=$.extend(this._properties,this._DEFAULT_SHAPE_PROPERTIES)}this._properties.label=$.extend({},this._DEFAULT_LABEL_PROPERTIES,d.label);this._svg_symbol_map={square:"yes",cross:"yes",triangle:"yes"};square_properties={height:rdx.constants.DEFAULT_SQUARE_HEIGHT,width:rdx.constants.DEFAULT_SQUARE_HEIGHT};circle_properties={radius:rdx.constants.DEFAULT_CIRCLE_RADIUS};rectangle_properties={height:rdx.constants.DEFAULT_RECT_HEIGHT,width:rdx.constants.DEFAULT_RECT_WIDTH};triangle_properties={size:rdx.constants.DEFAULT_TRIANGLE_SIZE};diamond_properties={height:rdx.constants.DEFAULT_DIAMOND_HEIGHT,width:rdx.constants.DEFAULT_DIAMOND_HEIGHT,rotate:rdx.constants.DEFAULT_ROTATION};switch(this._properties.type){case rdx.constants.CIRCLE:this._properties.attributes=$.extend(true,circle_properties,this._properties.attributes);break;case rdx.constants.SQUARE:this._properties.attributes=$.extend(true,square_properties,this._properties.attributes);break;case rdx.constants.RECTANGLE:this._properties.attributes=$.extend(true,rectangle_properties,this._properties.attributes);break;case rdx.constants.TRIANGLE:this._properties.attributes=$.extend(true,triangle_properties,this._properties.attributes);break;case rdx.constants.DIAMOND:this._properties.attributes=$.extend(true,diamond_properties,this._properties.attributes);this._properties.type=rdx.constants.RECTANGLE;this._properties.attributes.base=rdx.constants.DIAMOND;break;default:break}};rdx.shapes.prototype.render=function(w){var q=this;var v,z,u;q.process_input();if(this._properties.type===rdx.constants.CUSTOM){if(rdx.utils.is_defined(this._properties.render_shape_callback)){if(rdx.utils.is_ie()){v=q._parent.append("g").classed("custom_shape",true);var p=this._properties.render_shape_callback.call_back([v,this._properties,v]);v.attr("custom","true").attr("width",$(p).outerWidth(true)).attr("height",$(p).outerHeight(true))}else{v=q._parent.append("g").classed("custom_shape",true);var x=v.append("foreignObject").attr({x:0,y:"-20px","class":"custom_shape"});var y=x.append("xhtml:div");x.attr("width",rdx.constants.CUSTOM_SHAPE_MIN_WIDTH).attr("height",rdx.constants.CUSTOM_SHAPE_MIN_HEIGHT);var p=this._properties.render_shape_callback.call_back([y.node(),this._properties,x]);if(rdx.utils.is_defined(this._properties.attributes.width)||rdx.utils.is_defined(this._properties.attributes.height)){if(rdx.utils.is_defined(this._properties.attributes.width)){x.attr("width",this._properties.attributes.width);v.attr("width",this._properties.attributes.width);v.attr("X",this._properties.attributes.width)}if(rdx.utils.is_defined(this._properties.attributes.height)){x.attr("height",this._properties.attributes.height);v.attr("height",this._properties.attributes.height);v.attr("Y",this._properties.attributes.height)}}else{v.attr("custom","true").attr("width",$(p).outerWidth(true)).attr("height",$(p).outerHeight(true))}}}}else{if(rdx.utils.is_defined(q._properties.image)){v=q._parent.append("image").attr("xlink:href",q._properties.image.url).attr("width",q._properties.image.width||rdx.constants.DEFAULT_IMAGE_WIDTH).attr("height",q._properties.image.height||rdx.constants.DEFAULT_IMAGE_HEIGHT)}else{v=q._parent.append(q._properties.type).attr("fill",q._properties.color).attr("stroke",q._properties.stroke).attr("stroke-width",q._properties.stroke_width);var o=q._properties.attributes;for(z in o){if(o.hasOwnProperty(z)){if(z=="radius"){v=v.attr("r",o[z])}else{v=v.attr(z,o[z])}}}if(rdx.utils.is_defined(o.rotate)){this_node=v.node();bbox=this_node.getBBox();var t=q._properties.attributes.rotate+",0,0";v.attr("transform","rotate("+t+")")}}var s=q._properties.styles;if(rdx.utils.is_defined(s)){for(z in s){if(s.hasOwnProperty(z)){v=v.style(z,s[z])}}}if(rdx.utils.is_defined(q._properties.title)){v=v.append("title").text(q._properties.title)}if(!rdx.utils.is_defined(q._properties.hidden)){if(rdx.utils.is_defined(this._properties.label)){v.append("title").text(q._properties.label.name)}}if(rdx.utils.is_defined(q._properties.contextmenu)){v.on(rdx.events.CONTEXT_MENU,function(a,b){q.render_context_menu(q,v,a,b)})}if(rdx.utils.is_defined(q._properties.show_hide_children)&&q._properties.show_hide_children===true||rdx.utils.is_defined(q._properties.show_hide_block_children)&&q._properties.show_hide_block_children===true){v=v.style("cursor","pointer");$(v.node()).bind(rdx.events.CLICK,function(){if(rdx.utils.is_defined(q._properties.show_hide_children)&&q._properties.show_hide_children===true){var a=q._properties.children;for(u=0;u<a.length;u++){a[u].parent_state=q._properties.node_state;q.toggle_node(a[u])}}if(rdx.utils.is_defined(q._properties.show_hide_block_children)&&q._properties.show_hide_block_children===true){var b=q._properties.block_children;for(u=0;u<b.length;u++){b[u].parent_state=q._properties.node_state;q.toggle_node(b[u],true)}}q._properties.node_state=!q._properties.node_state})}}if(rdx.utils.is_defined(this._properties.label)&&rdx.utils.is_defined(this._properties.label.name)&&rdx.utils.is_not_defined(this._properties.hidden)){setTimeout(function(){q.render_label(v,w)},300)}if(rdx.utils.is_defined(q._properties.click_handler)){q.click_event_handler(v,w)}return v};rdx.shapes.prototype.click_event_handler=function(f,l){var g=this;var m=g._properties.click_handler;var h=g._properties.node_state;f=f.style("cursor","pointer");$(f.node()).bind(rdx.events.CLICK,function(){if(rdx.utils.is_defined(m.is_popup)&&m.is_popup===true){if(g._properties.node_state){rdx.visualizer_utils.render_pop_up(g._properties,m.click_handler_callback,l)}}else{if(rdx.utils.is_defined(m.no_node_ref)&&m.no_node_ref===true){m.click_handler_callback.call_back()}else{m.click_handler_callback.call_back([g._properties,l])}}})};rdx.shapes.prototype.process_input=function(){if(this._svg_symbol_map[this._properties.type]==="yes"){var h,f;var e=this._properties.type;var g=this._properties.attributes;if(rdx.utils.is_not_defined(g.size)){g.size=200}if(this._properties.type===rdx.constants.TRIANGLE){if(rdx.utils.is_defined(g.direction)){e=e+"-"+g.direction}else{e=e+"-up"}}h=d3.svg.symbol().type(e).size(g.size);f="translate("+g.x+","+g.y+")";this._properties.attributes.d=h;this._properties.attributes.transform=f;delete this._properties.attributes.x;delete this._properties.attributes.y;delete this._properties.attributes.size;this._properties.type=rdx.constants.PATH}};rdx.shapes.prototype.get_shape_coords=function(f){var h={};var e=f.node();var g=e.getBBox();h.height=parseInt(g.height);h.width=parseInt(g.width);if(e.nodeName===rdx.constants.RECTANGLE){h.x=parseInt(e.getAttribute("X"));h.y=parseInt(e.getAttribute("Y"))}else{h.x=parseInt(e.getAttribute("X")||e.getAttribute("x"));h.y=parseInt(e.getAttribute("Y")||e.getAttribute("y"))}h.center_x=h.x+(h.height/2);h.center_y=h.y+(h.width/2);return h};rdx.shapes.prototype.render_label=function(v,C){var B=v.node().getBBox().width;var H;if(rdx.utils.is_defined(this._properties.label.renderer_callback)){H=this._parent.append("g").classed("custom_label",true);var F=H.append("foreignObject").attr({x:0,y:0,"class":"custom_label"});var E=0;if(this._properties.label.position==rdx.constants.TOP){E=(-1)*this._properties.label.offset/2}else{if(this._properties.label.position==rdx.constants.BOTTOM){E=this._properties.label.offset/2}}var G=F.append("xhtml:div");var x=this._properties.label.renderer_callback.call_back([G.node(),this._properties,F]);this._get_label_positions(v,x);F.attr("width",$(x).width()+20).attr("height",$(x).height()).attr("x",this._label_x).attr("y",this._label_y+E-($(x).height()/2))}else{H=this._parent.append("text").attr("class","dummy-label-text").attr("dy",".35em").text(this._properties.label.name).style("fill-opacity",1);this._get_label_positions(v,H);var D="translate("+0+","+(-(H.node().getBBox().height/2))+")";var w=this._parent.append("g");w.attr("transform","translate("+this._label_x+","+this._label_y+")");var t=w.append("rect").attr("width",H.node().getBBox().width).attr("height",H.node().getBBox().height).attr("x",0).attr("y",0).attr("fill","white").attr("transform",D);w.append("title").text(this._properties.label.name);if(rdx.utils.is_defined(this._properties.click_handler)){this.click_event_handler(w,C)}if(rdx.utils.is_defined(this._properties.label.status)){var y=this._properties.label.status.toLowerCase();if(y==rdx.constants.UP){color="#7fc379"}else{if(y==rdx.constants.DOWN){color="#F8A0A0"}else{color="#fed156"}}var A=w.append("circle").attr("class","label-state").attr("x",0).attr("y",0).attr("r",5).attr("fill",color).attr("transform","translate(-7,0)")}var z=w.append("text").attr("class","place-label").attr("dy",".35em").text(this._properties.label.name).style("fill-opacity",1).style("font-weight",this._properties.label.font_weight).style("font-size",this._properties.label.font_size).style("fill",this._properties.label.color).attr("x",0).attr("y",0);if(this._properties.label.ellipsis){var u=this.wrap_label(z,B,rdx.utils.is_defined(this._properties.label.status));z=u.node;w.attr("transform","translate("+Math.ceil((this._label_x+2+(u.spliced_len/2)))+","+this._label_y+")");t.attr("width",(u.actual_len)>10?(u.actual_len-10):8)}d3.select(".dummy-label-text").remove()}};rdx.shapes.prototype._get_label_positions=function(f,h){var l=this._properties.label.offset;var m=this.get_shape_coords(f);var g=rdx.utils.is_function(h.node)?h.node().getBBox().width:$(h).width();switch(this._properties.label.position){case rdx.constants.BOTTOM:this._label_y=m.y+(m.height/2)+l;this._label_x=m.x-g/2;if(f.node().nodeName===rdx.constants.RECTANGLE&&rdx.utils.is_defined(f.node().getAttribute("base"))&&f.node().getAttribute("base")=="diamond"){this._label_y=m.y+Math.ceil(m.height/Math.sqrt(2))+l;this._label_x=m.x-g/2}break;case rdx.constants.RIGHT:this._label_y=m.y;if(f.node().nodeName===rdx.constants.RECTANGLE&&rdx.utils.is_defined(f.node().getAttribute("base"))&&f.node().getAttribute("base")=="diamond"){this._label_x=m.x+Math.ceil(m.width/Math.sqrt(2))+l/2}else{this._label_x=m.x+(m.width/2)+l/2}break;case rdx.constants.CENTER:this._label_y=m.y;this._label_x=m.x-g/2;break;case rdx.constants.LEFT:this._label_y=m.y;if(f.node().nodeName===rdx.constants.RECTANGLE&&rdx.utils.is_defined(f.node().getAttribute("base"))&&f.node().getAttribute("base")=="diamond"){this._label_x=m.x-(Math.ceil(m.width/Math.sqrt(2))+g)-l/2}else{this._label_x=(m.x-((m.width/2)+g))-l/2}break;case rdx.constants.TOP:this._label_y=(m.y-(m.height)/2)-l;this._label_x=(m.x-(g/2));if(f.node().nodeName===rdx.constants.RECTANGLE&&rdx.utils.is_defined(f.node().getAttribute("base"))&&f.node().getAttribute("base")=="diamond"){this._label_y=m.y-Math.ceil(m.height/Math.sqrt(2))-l;this._label_x=m.x-(g/2)}break;default:break}};rdx.shapes.prototype.wrap_label=function(q,h,m){var n={};var o=Math.max(h,100);var l=q.node().getComputedTextLength();if(m){l+=20}var p=l;text=q.text();while(l>(o-10)&&text.length>0){text=text.slice(0,-1);q.text(text+"...");l=q.node().getComputedTextLength();if(m){l+=10}}n.node=q;n.spliced_len=(p-l);n.actual_len=l;return n};rdx.shapes.prototype.toggle_node=function(m,f){var h,l,g;if(rdx.utils.is_defined(m.children)&&m.children.length>0){for(g=0;g<m.children.length;g++){m.children[g].parent_state=m.parent_state;m.children[g].node_state=m.parent_state;this.toggle_node(m.children[g])}}if(rdx.utils.is_defined(m.block_children)){for(l=0;l<m.block_children.length;l++){m.block_children[l].parent_state=m.parent_state;m.block_children[l].node_state=m.parent_state;this.toggle_node(m.block_children[l],true)}}if(f===true){if(rdx.utils.is_defined(m.column)&&m.column.length>0){for(g=0;g<m.column.length;g++){m.column[g].parent_state=m.parent_state;if(m.render_hidden===false){if(rdx.utils.is_defined(m.column[g].hidden)&&m.column[g].hidden===true){continue}}if(!m.parent_state){$(m.column[g].parent_ref.node()).find(".place-label").show();$(m.column[g].parent_ref.node()).find(".label-state").show();$(m.column[g].parent_ref.node()).find(".dummy_rect").show();$(m.column[g].parent_ref.node()).find(".dummy_connect").show();$(m.column[g].shape_ref.node()).show();if(rdx.utils.is_defined(m.column[g].connector_ref)){for(l=0;l<m.column[g].connector_ref.length;l++){$(m.column[g].connector_ref[l][0]).show()}}}else{$(m.column[g].parent_ref.node()).find(".place-label").hide();$(m.column[g].parent_ref.node()).find(".label-state").hide();$(m.column[g].parent_ref.node()).find(".dummy_rect").hide();$(m.column[g].parent_ref.node()).find(".dummy_connect").hide();$(m.column[g].shape_ref.node()).fadeOut(400);if(rdx.utils.is_defined(m.column[g].connector_ref)){for(l=0;l<m.column[g].connector_ref.length;l++){$(m.column[g].connector_ref[l][0]).fadeOut(400)}}}}}}else{if(!m.parent_state){h=$(m.parent_ref.node()).find(".place-label");for(g=0;g<h.length;g++){$(h[g]).show()}state_elems=$(m.parent_ref.node()).find(".label-state");for(g=0;g<h.length;g++){$(state_elems[g]).show()}$(m.shape_ref.node()).show();$(m.connector_ref.node()).show()}else{h=$(m.parent_ref.node()).find(".place-label");for(g=0;g<h.length;g++){$(h[g]).hide()}state_elems=$(m.parent_ref.node()).find(".label-state");for(g=0;g<h.length;g++){$(state_elems[g]).hide()}$(m.shape_ref.node()).fadeOut(400);$(m.connector_ref.node()).fadeOut(400)}}m.node_state=!m.node_state};rdx.shapes.prototype.render_context_menu=function(e,h,g,f){};rdx.connectors=function(d,c){this._parent=d;this._properties=c.properties;this._source_shape=c.source.shape_ref||c.source;this._target_shape=c.target;this._DEFAULT_PROPERTIES={color:rdx.constants.DEFAULT_CONNECTOR_STROKE_COLOR,stroke_width:rdx.constants.DEFAULT_CONNECTOR_STROKE_WIDTH,path_type:rdx.constants.STEP,click_handler:null,horizontal_offset:rdx.constants.DEFAULT_HORIZONTAL_OFFSET};this._properties=$.extend({},this._DEFAULT_PROPERTIES,this._properties)};rdx.connectors.prototype.render=function(){var s=this;var t,u,p,n;var w=source_parent_y=target_parent_x=target_parent_y=0;if(rdx.utils.is_defined(this._source_shape.node)&&rdx.utils.is_defined(this._target_shape.node)){t=this._source_shape.node().getAttribute("X");u=this._source_shape.node().getAttribute("Y");n=this._target_shape.node().getAttribute("X");p=this._target_shape.node().getAttribute("Y");w=this._source_shape.node().parentNode.getAttribute("X")||0;source_parent_y=this._source_shape.node().parentNode.getAttribute("Y")||0;target_parent_x=this._target_shape.node().parentNode.getAttribute("X")||0;target_parent_y=this._target_shape.node().parentNode.getAttribute("Y")||0;source_width=this._source_shape.node().getBBox().width;target_width=this._target_shape.node().getBBox().width}else{t=this._source_shape.x;u=this._source_shape.y;n=this._target_shape.x;p=this._target_shape.y}var x={source_node_x:t,source_node_y:u,target_node_x:n,target_node_y:p,source_parent_x:w,source_parent_y:source_parent_y,target_parent_x:target_parent_x,target_parent_y:target_parent_y};if(rdx.utils.is_defined(this._target_shape.node)&&this._target_shape.node().nodeName==rdx.constants.IMAGE){p=parseInt(p)+this._target_shape.node().getBBox().height/2}var q,o;switch(this._properties.path_type){case rdx.constants.DIAGONAL:q=[{source:{x:parseInt(t)+parseInt(w),y:parseInt(u)+parseInt(source_parent_y)},target:{x:parseInt(n)+parseInt(target_parent_x),y:parseInt(p)+parseInt(target_parent_y)}}];o=d3.svg.diagonal().projection(function(a){return[a.x,a.y]});path=s._parent.selectAll("links").data(q).enter().append("path").attr("d",o);break;case rdx.constants.LINE:q=[{x:t,y:u},{x:n,y:p}];o=d3.svg.line().x(function(a){return a.x}).y(function(a){return a.y});path=s._parent.append("path").attr("d",o(q));break;case rdx.constants.U_TYPE_CONNECTOR:var v=Math.max((source_width/2+this._properties.horizontal_offset/5),(target_width/2+this._properties.horizontal_offset/5));q=[{x:parseInt(t)+parseInt(w),y:parseInt(u)+parseInt(source_parent_y)},{x:parseInt(t)+parseInt(w)-v,y:parseInt(u)+parseInt(source_parent_y)},{x:parseInt(n)+parseInt(target_parent_x)-v,y:parseInt(p)+parseInt(target_parent_y)},{x:parseInt(n)+parseInt(target_parent_x),y:parseInt(p)+parseInt(target_parent_y)}];o=d3.svg.line().x(function(a){return a.x}).y(function(a){return a.y});path=s._parent.append("path").attr("d",o(q));break;case rdx.constants.STEP:q=this.get_step_coordinates(x);o=d3.svg.line().x(function(a){return a.x}).y(function(a){return a.y});path=s._parent.append("path").attr("d",o(q));break;default:break}path=path.attr("fill","none").attr("stroke",s._properties.color).attr("stroke-width",s._properties.stroke_width);if(rdx.utils.is_defined(s._properties.class_name)){path=path.attr("class",s._properties.class_name)}return path};rdx.connectors.prototype.get_step_coordinates=function(d){var e;if(this._properties.middle===true){e=[{x:parseInt(d.source_node_x)+parseInt(d.source_parent_x),y:parseInt(d.source_node_y)+parseInt(d.source_parent_y)},{x:(parseInt(d.source_node_x)+parseInt(d.source_parent_x)+parseInt(d.target_node_x)+parseInt(d.target_parent_x))/2,y:parseInt(d.source_node_y)+parseInt(d.source_parent_y)},{x:(parseInt(d.source_node_x)+parseInt(d.source_parent_x)+parseInt(d.target_node_x)+parseInt(d.target_parent_x))/2,y:parseInt(d.target_node_y)+parseInt(d.target_parent_y)},{x:parseInt(d.target_node_x)+parseInt(d.target_parent_x),y:parseInt(d.target_node_y)+parseInt(d.target_parent_y)}]}else{if(this._properties.rtl===true){e=[{x:parseInt(d.source_node_x)+parseInt(d.source_parent_x),y:parseInt(d.source_node_y)+parseInt(d.source_parent_y)},{x:parseInt(d.source_node_y)+parseInt(d.source_parent_y),y:parseInt(d.target_node_x)+parseInt(d.target_parent_x)},{x:parseInt(d.target_node_x)+parseInt(d.target_parent_x),y:parseInt(d.target_node_y)+parseInt(d.target_parent_y)}]}else{if(this._properties.flow===true){var f=(parseInt(d.source_node_y)+parseInt(d.source_parent_y))-(parseInt(d.target_node_y)+parseInt(d.target_parent_y));e=[{x:parseInt(d.source_node_x)+parseInt(d.source_parent_x),y:parseInt(d.source_node_y)+parseInt(d.source_parent_y)},{x:(parseInt(d.source_node_x)+parseInt(d.source_parent_x)),y:(parseInt(d.source_node_y)+parseInt(d.source_parent_y))-f/2},{x:parseInt(d.target_node_x)+parseInt(d.target_parent_x),y:(parseInt(d.source_node_y)+parseInt(d.source_parent_y))-f/2},{x:parseInt(d.target_node_x)+parseInt(d.target_parent_x),y:parseInt(d.target_node_y)+parseInt(d.target_parent_y)}]}else{e=[{x:parseInt(d.source_node_x)+parseInt(d.source_parent_x),y:parseInt(d.source_node_y)+parseInt(d.source_parent_y)},{x:parseInt(d.target_node_x)+parseInt(d.target_parent_x),y:parseInt(d.source_node_y)+parseInt(d.source_parent_y)},{x:parseInt(d.target_node_x)+parseInt(d.target_parent_x),y:parseInt(d.target_node_y)+parseInt(d.target_parent_y)}]}}}return e};rdx.visualizer_utils=new function(){this.get_max_length=function(g,m){var h=0;for(var f=0;f<g.length;f++){var l=0;if(rdx.utils.is_defined(g[f].render_new_view)){l++}if(rdx.utils.is_defined(g[f].column)){if(h<(l+g[f].column.length)){h=(l+g[f].column.length)}}}return h};this.normalize_array_items=function(o,p){var q=this;if(o.items.column.length<o.len){var h=0;var m=o.items.length;var l=(o.len-m);if(o.flag){var n={name:"image",image:{url:"/admin_ui/rdx/core/images/plus_box.png",height:16,width:16},click_handler:{click_handler_callback:new rdx.callback(function(d,b){var c=rdx.utils.get_view(o.items.add_view.view_name);var a=rdx.utils.is_defined(o.items.add_view.resource_name_for_model_change)?o.items.add_view.resource_name_for_model_change:c.resource_name;q.handle_view_show_refresh_close(p,a,c,o.items.add_view.context)})}};if(rdx.utils.is_defined(o.items.add_view.title)){n.title=o.items.add_view.title}if(o.render_add=="top"){o.items.column.splice(0,0,n)}else{o.items.column.push(n)}h++}for(h;h<l;h++){o.items.column.push(o)}}return o.items};this.add_new_item_to_child_list=function(f,h){var e=this;var g={name:"image",image:{url:"/admin_ui/rdx/core/images/plus_box.png",height:16,width:16},click_handler:{click_handler_callback:new rdx.callback(function(){var b=rdx.utils.get_view(f.add_view.view_name);var c;var a=rdx.utils.is_defined(f.add_view.resource_name_for_model_change)?f.add_view.resource_name_for_model_change:b.resource_name;if(rdx.utils.is_defined(a)){e.handle_view_show_refresh_close(h,a,b,f.add_view.context)}else{c=rdx.view_utils.show_view_in_slider(b,null,f.add_view.context);$(c).bind(rdx.events.VIEW_DESTROYED,{visualizer_ref:h},function(d){d.data.visualizer_ref.refresh_view()})}})}};if(rdx.utils.is_defined(f.add_view)&&rdx.utils.is_defined(f.add_view.image_offset)){g.horizontal_offset=f.add_view.image_offset}f.children.push(g);return f};this.handle_view_show_refresh_close=function(t,v,m,u){if(!(v instanceof Array)){v=[v]}var n=false;var p=false;for(var q=0;q<v.length;q++){rdx.model.add_model_change_listener(rdx.utils.get_resource(v[q]),new rdx.callback(function(){n=true;if(p==true){t.refresh_view();p=false;n=false}}))}var s=function(a){if(n==false){p=true}else{t.refresh_view();p=false;n=false}};var o=rdx.view_utils.show_view_in_slider(m,new rdx.callback(s,[event]),u)};this.get_corresponding_target=function(e,g,h){var f=e.length;if(f===0){return}if(h){f-=1}if(f>g&&rdx.utils.is_defined(e[g])){return e[g]}else{return e[f-1]}};this.transform_node=function(q){var h=q.node().getBBox().height;var n=q.node().getBBox().width;var m=q.node().getAttribute("Y");var l=q.node().getAttribute("X");var o=l;var p=m;switch(q.node().nodeName){case"image":o=parseInt(l)+n/2;p=parseInt(m)+h/2;break;case"rect":if(rdx.utils.is_defined(q.node().getAttribute("base"))&&q.node().getAttribute("base")=="diamond"){o=l;p=parseInt(m)+Math.ceil(h/Math.sqrt(2))}else{o=parseInt(l)+n/2;p=parseInt(m)+h/2}break;default:break}q.attr("X",o);q.attr("Y",p)};this.render_label=function(d){var c=d.parent.append("text").attr("class","place-label").attr("dy",".35em").text(d.label).style("fill-opacity",1).attr("x",d.position.x).attr("y",d.position.y);return c};this.render_pop_up=function(w,p,x){var z=d3.select(".visualizer_svg");$(d3.select(".visualizer_elements").node()).css({opacity:0.3});var s=w.parent_ref;var y=0;var q=0;if(rdx.utils.is_defined(w.popup_prop)){y=rdx.utils.is_defined(w.popup_prop.horizontal_offset)?w.popup_prop.horizontal_offset:y;q=rdx.utils.is_defined(w.popup_prop.vertical_offset)?w.popup_prop.vertical_offset:q;container_width=rdx.utils.is_defined(w.popup_prop.container_width)?w.popup_prop.container_width:rdx.constants.POPUP_MIN_WIDTH;container_height=rdx.utils.is_defined(w.popup_prop.container_height)?w.popup_prop.container_height:rdx.constants.POPUP_MIN_HEIGHT}var A=z.append("foreignObject").attr({x:parseInt(w.shape_ref.node().getAttribute("X"))+y,y:parseInt(w.shape_ref.node().getAttribute("Y"))+q,"class":"custom_shape"});var B=A.append("xhtml:div").classed("pop_up_window",true);var u=B.append("xhtml:div").classed("custom_visualizer_div",true);A.attr("width",container_width).attr("height",container_height);p.call_back([$(u.node())]);w.node_state=!w.node_state;var t=B.append("xhtml:div").classed("close_button",true);$(t.node()).bind(rdx.events.CLICK,{node:w,visualizer_ref:x},function(a){$(this.parentNode.parentElement)[0].remove();$(d3.select(".visualizer_elements").node()).css({opacity:1});a.data.node.node_state=true;a.data.visualizer_ref._adjust_svg_dimensions()});$(document).keydown(function(a){if(a.keyCode==27){$(".close_button").trigger("click")}});var v=parseInt(A.node().getAttribute("y"))+container_height;if(v>x._shapes.node().getBBox().height){x._svg.attr("height",(v+100))}}};rdx.notifier=function(b){this._parent=b;this._notification_container=null;this._dropdown_container=null;this._count_container=null,this._notifications=[]};rdx.notifier.prototype.render=function(){this._notification_container=$("<li>").addClass("header_view_menu_notification_link");this._count_container=$("<span>").addClass("header_view_menu_notification_count header_view_menu_notification_count_zero").text("0");var b=$("<a>").attr("href","#noAnchor");this._notification_container.append(this._count_container);this._notification_container.append(b.append($("<span>")));this._notification_container.append(this.build_notification_dropdown_menu());this._parent.append(this._notification_container)};rdx.notifier.prototype.build_notification_dropdown_menu=function(b){this._dropdown_container=$("<ul>").addClass("header_view_menu_notification_dropdown header_view_menu_notification_dropdown_collapsed");this.update_notifications();this._notification_container.bind(rdx.events.CLICK,{main_cont:this._notification_container,drop_cont:this._dropdown_container,count_container:this._count_container,notifier:this},function(g){var f=g.data.main_cont;var h=g.data.drop_cont;var a=g.data.count_container;a.addClass("header_view_menu_notification_count_zero");if(h.hasClass("header_view_menu_notification_dropdown_collapsed")){rdx.utils.slide_up_down(h,false,null,400);h.removeClass("header_view_menu_notification_dropdown_collapsed");f.addClass("header_view_menu_notification_active");$(window).bind(rdx.events.CLICK,{container:h,notification_container:f},g.data.notifier.show_hide_dropdown)}else{rdx.utils.slide_up_down(h,true,null,400);h.addClass("header_view_menu_notification_dropdown_collapsed");f.removeClass("header_view_menu_notification_active");$(window).unbind(rdx.events.CLICK,g.data.notifier.show_hide_dropdown)}g.stopPropagation()});return this._dropdown_container};rdx.notifier.prototype.update_notifications=function(){this._dropdown_container.empty();var o=this._notifications.length;if(o===0){var n=$("<div>").addClass("header_info_item_label");var m=rdx.i18n.get_string("rdx.no_new_notification_msg");n.text(m);this._dropdown_container.append(n)}else{var q=0;while(q<o){var n=$("<div>").addClass("header_info_item_label");var m=this._notifications[q]["message"];if(rdx.utils.is_defined(this._notifications[q]["callback"])){var l=new rdx.callback(this.remove_notification_wapper,[q,this]);var h=this._notifications[q]["callback"];n.bind(rdx.events.CLICK,{notifications:this._notifications,update_callback:h,remove_callback:l},function(a){a.data.update_callback.call_back([a.data.remove_callback])})}n.text(m);this._dropdown_container.append(n);q++}var p=parseInt(this._count_container.text());if((typeof p==="number")&&(q>0)){p=q;this._count_container.text(p);this._count_container.removeClass("header_view_menu_notification_count_zero")}else{this._count_container.text("0");this._count_container.addClass("header_view_menu_notification_count_zero")}}};rdx.notifier.prototype.update_notifications_wapper=function(c,d){if(rdx.utils.is_defined(c,d)){d._notifications=c;d.update_notifications()}};rdx.notifier.prototype.show_hide_dropdown=function(f){var d=f.data.container;var e=f.data.notification_container;rdx.utils.slide_up_down(d,true,new rdx.callback(function(b){var a=b.data.main_cont;if(rdx.utils.is_defined(a)){a.addClass("rdx_header_info_container")}},[f]),400);d.removeClass("rdx_header_dropdown_collapsed");if(rdx.utils.is_defined(e)){d.addClass("header_view_menu_notification_dropdown_collapsed");e.removeClass("header_view_menu_notification_active")}$(window).unbind(rdx.events.CLICK,this._handle_show_hide_container)};rdx.notifier.prototype.remove_notification=function(b){if(rdx.utils.is_defined(b)&&this._notifications.length>0&&0<this._notifications.length){this._notifications.splice(b,1);this.update_notifications(this._notifications)}};rdx.notifier.prototype.remove_notification_wapper=function(c,d){if(rdx.utils.is_defined(c,d)){d.remove_notification(c)}};rdx.notifier.prototype.add_notification=function(b){rdx.utils.is_defined(b);b.call_back([this._notifications,new rdx.callback(this.update_notifications_wapper,[this])])};rdx.rss_feeder=function(d,c){this.show_error_msg=false;this.yui_api_included=false;this._download_url=d;this._rss_feeds=null;this._filtered_feeds=null;this._feeds_count=0;this._nsversion=c};rdx.rss_feeder.prototype.init=function(b){if(!this.yui_api_included){$.ajax({context:this,url:rdx.i18n.get_string("rdx.yahoo_api_url"),dataType:"script",success:function(a,d){this.yui_api_included=true;this.load_rss_feed(b)},error:function(f,e,a){this.yui_api_included=false;this.load_rss_feed(b)}})}};rdx.rss_feeder.prototype.load_rss_feed=function(f){var e=this;if(this.yui_api_included&&rdx.utils.is_function(YUI)){var d=[];YUI().use("yql",function(a){var b="select * from rss where url = '"+e._download_url+"'";a.YQL(b,function(c){if(rdx.utils.is_defined(c.query)&&rdx.utils.is_defined(c.query.results)){d=c.query.results}e._rss_feeds=d.item;f.call_back([e])})})}else{f.call_back([e])}};rdx.rss_feeder.prototype.fetch_feed=function(b){this.init(b)};rdx.images._initialize_rainmaker=function(){var b=rdx.model.add_base_url_to_url(rdx.FRAMEWORK_BASE+"/rdx/core/images/");rdx.images.ADOBE_IMG=b+"adobe.png";rdx.images.BLOCK_DOC_IMG=b+"block_document.png";rdx.images.CHART_DOC_IMG=b+"chart_document.png";rdx.images.DOC_ICON_IMG=b+"doc_icon.png";rdx.images.DOC_IMG=b+"document.png";rdx.images.GRAPH_DOC_IMG=b+"graph_document.png";rdx.images.SPIRAL_DOC_IMG=b+"spiral_document.png";rdx.images.PDF_IMG=b+"pdf_icon.png";rdx.images.SORT_ASCENDING_IMG=b+"sort_az_ascending.png";rdx.images.SORT_DESCENDING_IMG=b+"sort_az_descending.png";rdx.images.RIBBON_LEFT_IMG=b+"left_arrow.png";rdx.images.RIBBON_RIGHT_IMG=b+"right_arrow.png"};rdx.page.add_event_handler(rdx.events.APP_LOADED,new rdx.callback(rdx.images,rdx.images._initialize_rainmaker));rdx.chart_constants.BACKGROUND_COLOR="#FFF";rdx.view_constants.PADDING_HEIGHT=rdx.utils.is_ie()||rdx.utils.is_chrome_safari()?-6:-6;rdx.dashboard.prototype._get_one_column_padding_height=function(){return 40};rdx.dashboard.prototype._get_two_column_padding_height=function(){return 28};rdx.dashboard.prototype._get_three_column_padding_height=function(){return 24};